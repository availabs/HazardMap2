{"version":3,"sources":["utils/ScrollToTop.js","pages/auth.js","utils/redux-falcor-new/falcorCache.js","utils/redux-falcor-new/index.js","store/modules/overview.js","pages/home/Search.js","pages/home/index.js","store/modules/stormEvents.js","pages/Overview/components/StackedBarGraph.js","pages/DataDownload/PromptModal.js","pages/DataDownload/DataDownload.js","pages/DataDownload/index.js","constants/hazardColors.js","components/mapping/escmap/Viewport.js","store/data-adapters/geoApi.js","store/falcorGraphNew.js","store/geoInitialState.js","store/modules/geo.js","components/mapping/escmap/SvgMap.react.js","pages/Overview/layers/SvgMapComponent.js","pages/Overview/index.js","pages/Overview/components/SevereWeatherCountyTable.js","pages/Overview/components/FemaDisastersTotalCountyTable.js","pages/Overview/components/FemaDisastersIndividualCountyTable.js","pages/404.js","pages/StormEvents/DataFetching/StormEventsDataFecthing.js","pages/StormEvents/DataFetching/SBADataFetching.js","pages/StormEvents/DataFetching/FEMADisastersDataFetching.js","pages/StormEvents/components/Legend.js","pages/components/bar/stackedBarGraph.js","pages/StormEvents/components/SlideOver.js","pages/components/listTable/hazardListTable.js","components/AvlMap/components/common/styled-components.js","components/AvlMap/components/common/item-selector/accessor.js","components/AvlMap/components/common/icons/base.js","components/AvlMap/components/common/icons/delete.js","components/AvlMap/components/common/item-selector/chickleted-input.js","components/AvlMap/components/common/item-selector/keyevent.js","components/AvlMap/components/common/item-selector/dropdown-list.js","components/AvlMap/components/common/icons/add.js","components/AvlMap/components/common/icons/arrow-down.js","components/AvlMap/components/common/icons/arrow-left.js","components/AvlMap/components/common/icons/arrow-right.js","components/AvlMap/components/common/icons/clock.js","components/AvlMap/components/common/icons/close.js","components/AvlMap/components/common/icons/crosshairs.js","components/AvlMap/components/common/icons/cube-3d.js","components/AvlMap/components/common/icons/cursor-click.js","components/AvlMap/components/common/icons/docs.js","components/AvlMap/components/common/icons/drag-n-drop.js","components/AvlMap/components/common/icons/email.js","components/AvlMap/components/common/icons/expand.js","components/AvlMap/components/common/icons/eye-seen.js","components/AvlMap/components/common/icons/eye-unseen.js","components/AvlMap/components/common/icons/file.js","components/AvlMap/components/common/icons/files.js","components/AvlMap/components/common/icons/file-type.js","components/AvlMap/components/common/icons/filter-funnel.js","components/AvlMap/components/common/icons/histogram.js","components/AvlMap/components/common/icons/layers.js","components/AvlMap/components/common/icons/left-arrow.js","components/AvlMap/components/common/icons/legend.js","components/AvlMap/components/common/icons/line-chart.js","components/AvlMap/components/common/icons/minus.js","components/AvlMap/components/common/icons/messages.js","components/AvlMap/components/common/icons/pause.js","components/AvlMap/components/common/icons/picture.js","components/AvlMap/components/common/icons/pin.js","components/AvlMap/components/common/icons/play.js","components/AvlMap/components/common/icons/reduce.js","components/AvlMap/components/common/icons/reset.js","components/AvlMap/components/common/icons/save.js","components/AvlMap/components/common/icons/share.js","components/AvlMap/components/common/icons/square-select.js","components/AvlMap/components/common/icons/settings.js","components/AvlMap/components/common/icons/search.js","components/AvlMap/components/common/icons/split.js","components/AvlMap/components/common/icons/table.js","components/AvlMap/components/common/icons/trash.js","components/AvlMap/components/common/icons/upload.js","components/AvlMap/components/common/icons/vert-dots.js","components/AvlMap/components/common/icons/code-alt.js","components/AvlMap/components/common/item-selector/typeahead.js","components/AvlMap/components/common/item-selector/item-selector.js","components/AvlMap/components/filters/multi-select-filter.js","components/AvlMap/components/AvlTable.js","components/AvlMap/components/AttributesTable/index.js","components/AvlMap/MapLayer.js","pages/StormEvents/components/mapLayers.js","pages/StormEvents/MapsLayer.js","components/AvlMap/components/sidebar/sidebar.js","components/AvlMap/components/sidebar/SidebarHeader.js","components/AvlMap/components/sidebar/LayerSelector.js","components/AvlMap/components/layerControl/panelHeaderAction.js","components/AvlMap/components/layerControl/layerHeader.js","components/AvlMap/components/filters/single-select-filter.js","components/AvlMap/components/filters/date-filter.js","components/AvlMap/components/filters/switch.js","components/AvlMap/components/layerControl/slider-filter.js","components/AvlMap/components/layerControl/checkboxFilter.js","components/AvlMap/components/layerControl/layerFilterPanel.js","components/AvlMap/components/layerControl/colorPalette.js","components/AvlMap/components/constants/color-ranges.js","components/AvlMap/components/layerControl/legendSelector.js","components/AvlMap/components/layerControl/layerControl.js","components/AvlMap/components/sidebar/ActiveLayers.js","components/AvlMap/components/AccordianSelector.js","components/AvlMap/components/sidebar/index.js","components/AvlMap/components/legend/Legend.js","components/AvlMap/components/infobox/Infobox.js","components/AvlMap/components/popover/MapPopover.js","components/AvlMap/components/DraggableModal.js","components/AvlMap/components/modal/MapModal.js","components/AvlMap/components/MapActions/MapStyleControl.js","components/AvlMap/components/MapActions/index.js","components/AvlMap/components/MapMessages/index.js","components/AvlMap/components/loading/LoadingPage.js","components/AvlMap/LayerMessageSystem.js","components/AvlMap/index.js","pages/fema_disasters/components/femaDisastersStackedBarGraph.js","pages/fema_disasters/components/femaDisastersCombinedHazardListTable.js","pages/fema_disasters/index.js","pages/fema_disasters/layers/femaDisastersCombinedTotalCostEventsLayer.js","pages/components/shmp-theme.js","pages/StormEvents/index_combined.js","pages/Methodology/docs.type.js","components/dms/contexts/auth-context.js","components/dms/contexts/button-context.js","components/dms/contexts/dms-context.js","components/dms/contexts/router-context.js","components/dms/contexts/messenger-context.js","components/dms/utils/index.js","components/dms/wrappers/utils/dms-provider-utils.js","components/dms/wrappers/dms-provider.js","components/dms/components/dms-button.js","pages/Methodology/components/SectionManager.js","pages/Methodology/components/PageEdit.js","components/dms/components/editor/buttons/button.js","components/dms/components/editor/buttons/icons.js","components/dms/components/editor/buttons/makeBlockDataButton.js","components/dms/components/editor/buttons/makeDataRangeButton.js","components/dms/components/editor/buttons/makeBlockStyleButton.js","components/dms/components/editor/buttons/makeInlineStyleButton.js","components/dms/components/editor/buttons/index.js","components/dms/components/editor/image/index.js","components/dms/components/editor/linkify-it/index.js","components/dms/components/editor/super-sub-script/index.js","components/dms/components/editor/utils/index.js","components/dms/components/editor/positionable/wrapper.js","components/dms/components/editor/positionable/index.js","components/dms/components/editor/stuff/index.js","components/dms/components/editor/resizable/wrapper.js","components/dms/components/editor/resizable/index.js","components/dms/components/editor/editor.read-only.js","pages/Methodology/components/PageView.js","pages/Methodology/view.js","components/dms/components/editor/toolbar/index.js","components/dms/components/editor/index.js","components/dms/components/img-input.js","components/dms/components/utils/dms-input-utils.js","components/dms/components/dms-input.js","components/dms/components/array-input.js","components/dms/components/ordered-array-input.js","components/dms/wrappers/utils/get-dms-input.js","components/dms/wrappers/utils/dms-create-utils.js","components/dms/wrappers/dms-create.js","components/dms/components/dms-wizard.js","components/dms/components/dms-create.js","components/dms/components/dms-table.js","components/dms/components/dms-header.js","components/dms/components/index.js","components/dms/components/dms-card.js","components/dms/components/dms-content.js","components/dms/wrappers/dms-manager.js","components/dms/index.js","components/dms/wrappers/dms-falcor.js","components/dms/wrappers/dms-view.js","components/dms/wrappers/dms-router.js","components/dms/wrappers/dms-consumer.js","components/dms/wrappers/index.js","components/dms/wrappers/dms-share.js","pages/Methodology/methodology.js","store/modules/femaDisasterDeclarations.js","pages/fema_disasters/components/FemaDisastersIATotalsStatBoxes.js","pages/fema_disasters/layers/femaDisastersTotalsEventsLayer.js","pages/fema_disasters/components/FemaDisastersPATotalsStatBoxes.js","pages/fema_disasters/components/femaDisastersHMAMitigatedPropertiesStatBoxes.js","pages/fema_disasters/components/femaDisastersHMAMitigatedProjectsStatBoxes.js","pages/fema_disasters/components/femaDisasterDeclarations.js","pages/CMS/docs.type.js","pages/CMS/components/Logo.js","pages/CMS/components/AdminLayout.js","pages/CMS/components/PageManager.js","pages/CMS/components/SectionView.js","pages/CMS/components/SectionEdit.js","pages/CMS/components/SectionSideNav.js","pages/CMS/components/PageEdit.js","pages/CMS/edit.js","config.js","Routes.js","App.js","store/index.js","reportWebVitals.js","Theme.js","index.js","pages/StormEvents/components/config.js","utils/sheldusUtils.js"],"names":["ScrollToTop","pathname","useLocation","useEffect","arg","window","scrollTo","auth","path","mainNav","layoutSettings","fixed","navBar","headerBar","component","type","wrappers","children","UPDATE_FALCOR","FalcorContext","React","createContext","FalcorProviderBase","args","debounced","debounce","updateCache","this","props","falcor","onChange","remove","getCache","Provider","value","Component","FalcorProvider","connect","falcorCache","dispatch","Promise","resolve","NO_OP","reduxFalcor","Wrapper","WrappedComponent","createRef","fetchFalcorDeps","oldProps","current","then","Consumer","ref","state","SET_COUNTY_GEOID","setActiveCountyGeoid","id","setCountyGeoid","initialState","activeCountyGeoid","ACTION_HANDLERS","action","newState","Object","assign","localStorage","setItem","_","require","AsyncTypeahead","asyncContainer","Typeahead","fips","Search","isLoading","options","handleSearch","bind","onChangeFilter","get","geo_counties","filtered_geographies","values","json","geo","reduce","out","counties","geo_names","fips_names","text","setState","graph","data","forEach","geoid","push","name","slice","geoData","filter","method","RegExp","d","includes","selected","a","c","page","history","pushState","location","className","onSearch","minLength","placeholder","labelKey","option","renderMenuItemChildren","mapDispatchToProps","ownProps","activeStateGeoid","user","censusKey","severeWeatherData","exact","width","height","fill","viewBox","x","y","patternUnits","src","alt","nav","SET_STATE_GEOID","setActiveStateGeoid","setStateGeoid","PromptModal","onClick","e","preventDefault","document","getElementById","style","display","tabIndex","margin","target","closest","role","aria-modal","aria-labelledby","aria-label","stroke","stroke-linecap","stroke-linejoin","stroke-width","class","prompt","hazards","DataDownload","dataset","datasets","state_fips","county","geolevel","geolevels","disabled","geolevels_sba","hazard","Map","user_hazards","loading","changed","console","log","isChecked","checked","object","set","Array","from","prevProps","prevState","snapshot","isEqual","processData","res","length","countiesDataDropDown","attributes","response","filtered_geo","chunks","chunk","disaster_requests","to","cI","zip_codes","byZip","requests","states_data","keys","sort","b","localeCompare","counties_data","data_set","fetchedData","item","statesDataDropDown","htmlFor","required","map","i","size","isEmpty","downloadHandler","xmlns","filename","stormEvents","activeStateAbbrev","D3_CATEGORY20","D3_CATEGORY20_RANGE","hazardcolors","years","StackedBarGraph","indexBy","top","right","bottom","left","padding","colors","groupMode","enableLabel","enableGridX","enableGridY","axisBottom","tickSize","tickPadding","tickRotation","legend","legendPosition","legendOffset","axisLeft","format","v","fnum","labelSkipWidth","labelSkipHeight","animate","motionStiffness","motionDamping","tooltipFormat","DEFAULT_VIEWPORT_SETTINGS","latitude","longitude","zoom","maxZoom","pitch","bearing","altitude","viewport","onChangeHandlers","transitioning","Viewport","transitionInterpolator","FlyToInterpolator","transitionEasing","easeCubic","transitionDuration","onViewportChange","update","owner","func","call","register","unregister","_owner","fitBounds","bounds","opts","fitGeojson","geojson","getGeojsonBounds","features","extent","GeojsonExtent","topojson","geoApi","reject","fetch","headers","geoResponse","bbox","transform","objects","geometries","states","nation","arcs","getData","topology","feature","properties","geometry","mesh","merge","host","CustomSource","config","userToken","getItem","HttpDataSource","cacheFromStorage","JSON","parse","chunker","request","chunkSize","n","r","falcorChunker","falcorGraph","rest","getArgs","isArray","falcorChunkerNice","index","found","replace","MyModelRoot","listeners","listen","unlisten","listener","throttle","ModelRoot","modelRoot","_root","Model","source","crossDomain","withCredentials","timeout","errorSelector","error","cache","batch","result","fip","InitialStateJSON","SET_CHILD_GEO","GET_ALL_FIPS","setChildGeo","geoType","allGeo","key","parentGeo","f","UNIQUE_IDs","SvgMap","projection","d3geo","_onViewportChange","_resize","addEventListener","removeEventListener","getComputedStyle","parseInt","getPropertyValue","stroked","lineWidthMinPixels","filled","getLineColor","getFillColor","onHover","lineColor","fillColor","d3color","onMouseOver","onMouseOut","clientX","clientY","toString","strokeWidth","getPath","layers","controls","isValidGeojson","fitExtent","center","translate","scale","position","float","control","hoverData","layer","getLayerPaths","defaultProps","MapHover","rows","hasHeader","bodyData","colSpan","row","ii","MapControl","comp","pos","coordinates","SvgMapComponent","activeGeoid","split","getChildGeo","getGeoMesh","getGeoMerge","nextProps","nextState","s","newProps","geoLevel","activeCounty","countiesGeojson","activeCountyGeoJson","county_name","state_abbr","generateLayers","yearDelta","dragPan","scrollZoom","dragRotate","mapLegendLocation","mapLegendSize","mapControlsLocation","allTime","overview","SevereWeatherCountyTable","cousubs","unshift","cousub_names","severeWeather","wide_total","total","sumBy","tableCols","fontSize","disableFilters","Cell","textAlign","processTableCols","processCousubData","cousub","col","accessor","defaultPageSize","showPagination","columns","initialPageSize","minRows","sortBy","sortOrder","activeAmount","femaDisasterDeclarations","DISASTER_DECLARATION_BY_GEOID_ATTRIBUTES","Date","toLocaleDateString","FemaDisastersTotalCountyTable","ihpData","paData","hmgpData","dataByIndex","geoName","disaster_numbers","disaster_number","totals","ihp_total","pa_total","hmgp_total","undefined","ia_tableCols","pa_tableCols","hmgp_projects_tableCols","hmgp_properties_tableCols","FemaDisastersIndividualCountyTable","hmgpProjectsData","hmgpPropertiesData","processIAData","processPAData","processHMGPProjectsData","processHMGPPropertiesData","FEMA_COUNTY_ATTRIBUTES","Overview","match","params","sba","fema_disasters_combined","fema_disasters_length","fema_disasters_by_id","graph_data","year","parseFloat","title","processSevereWeatherData","processSbaData","processFemaDisastersCombined","ConnectedComponent","maxWidth","theme","withRouter","stormEventsData","fips_value","geography_filter","geo_fips","geography","geoNames","severeWeather_US","severeWeather_fips","geom","geoFips","sbaData","sba_US","sbaZipData","sbaData_fips","zipData","graph_zip","femaDisastersData","femaByIdData","FemaDisastersCombinedTotalCostData","FemaDisastersCombinedTotalCostData_US","FemaDisastersCombinedTotalCostZipData","FemaDisastersCombinedTotalCostData_fips","MainContainer","styled","div","sidePanelHeaderBg","align","StyledTitle","h5","textColorHl","Title","LegendContainer","textColor","ColorBlock","TextBlock","VerticalColorBlock","HorizontalLegend","range","domain","textBlock","ticks","t","backgroundColor","borderRight","paddingBottom","alignItems","flexGrow","invertExtent","VerticalLegend","paddingLeft","Legend","d3scale","vertical","getScale","d3format","data_type","data_columns","fetch_url","graph_column","femaData","total_cost","processFemaData","axisTop","axisRight","labelFormat","labelTextColor","modifiers","yScale","base","max","setYear","Header","toggle","open","body","SlideOver","useState","HeaderTitle","HeaderBody","HazardListTable","currentHazard","callback","header_columns","table_column","header","graphById","sum","total_cost_summaries","ia_total","dd","table_header","activeHazard","persist","setHazard","column","toLocaleString","SelectText","span","labelColor","selectFontSize","CenterFlexbox","secondaryBtnBgdHover","secondaryBtnColor","PanelLabel","label","attrs","SidePanelSection","panelBackground","Tooltip","panelBorderColor","ReactTooltip","tooltipBg","tooltipColor","Button","negative","negativeBtnBgd","secondary","secondaryBtnBgd","link","linkBtnBgd","primaryBtnBgd","primaryBtnRadius","negativeBtnColor","linkBtnColor","primaryBtnColor","large","small","transition","negativeBtnBgdHover","linkBtnActBgdHover","primaryBtnBgdHover","negativeBtnActColor","secondaryBtnActColor","linkBtnActColor","primaryBtnActColor","Input","input","secondaryInput","StyledPanelHeader","inputLT","inlineInput","active","panelBackgroundHover","labelRCGColorValues","join","panelHeaderHeight","StyledPanelDropdown","panelDropdownScrollBar","panelBoxShadow","panelBorderRadius","color","table","panelBackgroundLT","titleColorLT","panelBorderLT","textColorLT","Accessor","IDENTITY_FN","generateAccessor","field","generateOptionToStringFor","prop","valueForOption","Base","predefinedClassName","totalColor","svgHeight","svgWidth","fillStyle","accu","getStyleClassFromColor","displayName","Cross","ChickletButton","ChickletTag","Chicklet","ChickletedInputContainer","chickletedInput","ChickletedInput","focus","selectedItems","removeItem","displayOption","KeyEvent","DOM_VK_UP","DOM_VK_DOWN","DOM_VK_BACK_SPACE","DOM_VK_RETURN","DOM_VK_ENTER","DOM_VK_ESCAPE","DOM_VK_TAB","classList","defaultDisplay","ListItem","DropdownListWrapper","dropdownListBgd","dropdownListBorderTop","dropdownList","DropdownList","event","onOptionSelected","fixedOptions","allowCustomValues","valueOffset","customListHeaderComponent","classNames","hover","selectionIndex","onMouseDown","_onClick","customListItemComponent","customClasses","customValues","defaultClassNames","ArrowDown","ArrowRight","Clock","points","rx","ry","EyeSeen","EyeUnseen","File","Layers","Pin","Trash","VertDots","TypeaheadWrapper","dropdownListShadow","InputBox","TypeaheadInput","secondaryInputBgd","InputIcon","inputPlaceholderColor","_onOptionSelected","searchable","searchResults","getOptionsForValue","selection","entryValue","_onTextEntryUpdated","entry","_onEnter","getSelection","onKeyDown","navDown","_nav","navUp","_onChange","_onKeyDown","_hasHint","shiftKey","handler","eventMap","keyCode","_onFocus","isFocused","onFocus","_onBlur","onBlur","initialValue","root","emptyValue","trim","showOptionsWhenEmpty","_shouldSkipSearch","selector","toLowerCase","concat","indexOf","_hasCustomValue","customListComponent","maxVisible","areResultsTruncated","resultsTruncatedMessage","customValue","_getCustomValue","_hasFixedOptions","events","_onEscape","_onTab","delta","newIndex","searchOptionsProp","searchOptions","filterOptionProp","filterOption","warn","o","mapper","fuzzy","extract","HomePage","inputClasses","Boolean","inputClassList","classes","onKeyPress","onKeyUp","_renderHiddenInput","inputProps","_renderIncrementalSearchResults","_toArray","textarea","inputDisplayOption","StyledDropdownSelect","inputTheme","dropdownListAnchor","DropdownSelectValue","hasValue","selectColor","selectColorPlaceHolder","DropdownSelectErase","DropdownWrapper","selectBackgroundLT","placement","inputBoxHeight","ItemSelector","showTypeahead","handleClickOutside","_hideTypeahead","_removeItem","stopPropagation","findIndex","items","closeOnSelect","_selectItem","getValue","getOptionValue","previousSelected","multiSelect","uniq","_onErase","_showTypeahead","results","listItem","listAnchor","DropDownRenderComponent","DropdownHeaderComponent","DropDownLineItemRenderComponent","dropdownSelectProps","classnames","_showPopover","isError","erasable","_renderDropdown","dropdownHeader","listensToClickOutside","MultiSelectFilter","setFilter","placeHolder","FILTER_ID","getFilterId","NumericRangeFilterRegex","NumericRangeFilter","lower","value1","value2","upper","isNum","isNaN","hierSort","groups","keyData","keyFunc","group","dir","AvlTable","filters","searchKey","searchString","sortKey","sortDirection","sortKeys","maxPage","Math","floor","rowsPerPage","min","argsString","EqualityFilter","NotEqualFilter","NumericGreaterThanFilter","NumericGreaterThanEqualToFilter","NumericLessThanFilter","NumericLessThanEqualToFilter","exec","StringEqualityFilter","sortKeyFound","isMulti","getKeys","filtered","csvData","k","blob","Blob","createElement","download","url","URL","createObjectURL","setAttribute","downloadedFileName","visibility","appendChild","click","removeChild","getKeysAndData","expandable","keyMap","pageSpread","ceil","DivContainer","prevPage","nextPage","setPage","p","searchKeys","setSearchKey","setSearchString","str","addFilter","removeFilter","downloadFiltered","downloadAsCsv","downloadUnfiltered","showHelp","TableContainer","TH","toggleSortKey","Fragment","el","scrollBar","th","button","primaryBtnDisabled","StyledNavigationBar","getPageSpread","low","high","d3array","numberFormat","StyledFilterItem","StyledMultiSelectFilter","FilterItem","NavigationBar","fontWeight","lineHeight","marginLeft","marginTop","onSubmit","uniqBy","TableHelp","TableHelpTable","AttributesTable","mapLoaded","needsUpdate","queriedFeatures","sourcesLoaded","checkSourcesLoaded","setNeedsUpdate","initialRender","queryRenderedFeatures","off","clearTimeout","oldState","on","setTimeout","getSource","deepequal","queryLayers","sourceData","l","sourceId","sourceLayer","querySourceFeatures","_keys","dataFunc","injectedRows","injectFunc","filterKey","tableKeys","Container","DEFAULT_OPTIONS","sources","popover","actions","modals","infoBoxes","select","onZoom","_isVisible","showAttributesModal","mapActions","MapLayer","_options","showPopover","latestPopoverId","LoadingIndicator","boundFunctions","hoverSourceData","hoveredFeatureIds","Set","pinnedFeatureIds","_mousemove","_mouseleave","_popoverClick","_mousedown","_mapClick","onHoverMove","onHoverLeave","show","startSize","tooltip","Icon","doAction","addPopover","addBoxSelect","addOnClick","addOnHover","addOnZoom","isVisible","getLayoutProperty","setLayoutProperty","removeOnZoom","removeOnHover","removeOnClick","removeBoxSelect","removePopover","getZoom","minZoom","filterFunc","point","lngLat","getCanvas","cursor","add","setFeatureState","hoverFeature","clear","forceUpdate","filterName","oldValue","newValue","fetchData","receiveData","_onAdd","render","noSticky","popoverId","pinned","layerId","layerData","onPinned","setPinnedState","_clearPinnedState","disable","canvas","getCanvasContainer","selectFrom","fromLayers","toHighlight","highlightLayers","selectProperty","property","selectFilter","maxSelection","mousePos","rect","getBoundingClientRect","clientLeft","clientTop","start","box","onMouseMove","minX","maxX","minY","maxY","WebkitTransform","onMouseUp","finish","parentNode","enable","alert","onSelect","MapSources","MapStyles","d3","fmt","d3Geo","R","projections","geoAlbersUsa","geoMercator","point2Albers","lng","lat","invert","MapsLayer","dataType","onAdd","onLoadBounds","getBounds","measure","lossByFilteredGeoids","counties_domain","other_domain","colorScale","setPaintProperty","initalBbox","StyledSidePanelContainer","SideBarContainer","isOpen","SideBarInner","sidePanelBg","CollapseButton","sideBarCloseBtnBgd","sideBarCloseBtnColor","sideBarCloseBtnBgdHover","SideBar","_onOpenOrClose","onTransitionStart","onOpenOrClose","_width","data-tip","data-for","effect","place","minifiedWidth","DefaultHeader","SidebarHeader","addLayer","HeaderActionWrapper","flush","panelHeaderIconActive","panelHeaderIcon","hoverColor","PanelHeaderAction","tooltipType","IconComponent","delayShow","StyledLayerPanelHeader","HeaderLabelSection","HeaderActionSection","LayerTitleSection","subtextColor","DragHandle","ActionBarContainer","IconWrapper","ActionBar","actionMap","RemoveIcon","LayerPanelHeader","isConfigActive","isDragNDropEnabled","layerType","onToggleVisibility","onToggleEnableConfig","onUpdateLayerLabel","onRemoveLayer","deleteDynamicLayer","showRemoveLayer","_isDynamic","idx","SingleSelectFilter","noop","StyledSwitchInput","secondarySwitch","inputSwitch","StyledCheckboxInput","inputCheckbox","HiddenInput","StyledCheckbox","switchBtnHeight","switchLabelMargin","focused","handleFocus","handleBlur","pick","labelProps","LabelElement","StyledContainer","StyledSliderTrack","sliderBarBgd","StyledSliderHandle","sliderHandleColor","SliderFilter","track","dragging","startX","dragStart","dragEnd","drag","movementX","offsetWidth","percent","onChnage","CheckboxContainer","secondaryInputBgdHover","SliderTrack","switchBtnWidth","Square","ActiveSquare","activeColor","InactiveSquare","switchTrackBgd","SliderSquare","transitionFast","CheckboxLabel","CheckboxFilter","StyledFilterPanel","StyledFilterContent","LayerFilterPanel","dispatchUpdateFilter","updateFilter","getFilter","PaletteWrapper","PaletteContainer","isSelected","inputBorderActiveColor","ColorPalette","isReversed","COLOR_RANGES","colorbrewer","schemeGroups","category","ColorSelector","editing","_onSelectColor","colorSets","setColor","_showDropdown","types","updateLegend","cr","onClickOutside","StyledLayerControl","ModalToggle","modal","LayerControl","showConfig","layerName","updateDrag","dragover","draggable","onDragStart","onDragOver","removeLayer","toggleLayerVisibility","controlButton","toggleModal","legendSelector","fetchLayerData","ActiveLayers","dropLayer","activeLayers","layersMap","toRender","removeableIfSingle","removeable","flexDirection","onDrop","reverse","PADDING","AccordionSelector","toggleAccordion","AccordionContainer","AccordionOption","hasIcon","zIndex","onclickoutside","SidebarContent","Pages","Sidebar","pages","activePage","expandPages","setActivePage","Comp","LayerSelector","setMapStyle","styles","mapStyles","BaseMapsSelector","subText","subTextBlock","subTextBlockMiddle","subTextDiv","dI","tI","InfoBoxContainer","ToggleButton","CollapsedInfoBox","OpenInfoBoxTitle","SidebarContainer","SidebarInner","InfoBox","collapsedInfoBoxes","_activeLayers","activeLegends","activeInfoBoxes","getToggleButton","toggleInfoBox","StyledMapPopover","StyledPin","StyledLayerName","PopoverBlock","PopoverBlockContainer","MapPopover","isMouseOver","promise","_setContainerSize","node","scrollWidth","scrollHeight","mapSize","hidden","Number","isFinite","_getPosition","blockData","onMouseEnter","onMouseLeave","updatePopover","block","PopoverRow","DraggableContainer","DraggableInner","ResizeHandle","CloseWrapper","DraggableModal","container","dragHandle","resizeHandle","resizing","prevPos","d3selection","startDragOrResize","bubbles","resizeOnIdChange","parent","parentElement","clientWidth","clientHeight","startPos","dragOrResize","endDragOrResize","x1","y1","x2","y2","minWidth","minHeight","onClose","meta","ModalWrapper","ModalTitle","MapModal","MODAL_ID","modalName","m","close","StyledControl","showActive","ControlContainer","getStaticImageUrl","setOpen","clicked","useCallback","ActionContainer","sidebar","ActionItem","errorColor","MapActions","MOUNTED","waitingActions","disableFor","actionName","isDisabled","boundAction","doAndPauseAction","showStyleControl","MapStyleControl","showMapActions","MessageContainer","MessageStyled","DismissButton","MapMessages","dismissing","timeouts","heights","messages","message","duration","readyDismiss","find","dismiss","delete","Messages","splice","getTop","getHeight","has","reportHeight","MessageFactory","onConfirm","Message","entering","checkHeight","confirm","renderMessage","ConfirmMessage","ScalableLoading","attributeName","attributeType","dur","repeatCount","FilterMessage","dispatchMessage","receiveLayerMessage","UNIQUE_ID","getUniqueId","mapboxgl","accessToken","AvlMap","dynamicLayers","styleName","MAPBOX_TOKEN","mapControl","preserveDrawingBuffer","test","attributionControl","addControl","NavigationControl","boxZoom","getElementsByClassName","logo","version","initComponent","initMap","_addLayer","layerProps","addActiveMap","setContainerSize","removeActiveMap","getLayer","receiveProps","onPropsChange","layerFactory","newLayer","newLayerName","allLayers","regex","num","otherLayerName","msg","now","sourcesToAdd","addSource","activeMBLayers","ln","newMBLayers","mbLayer","layerAdded","aMBL","beneath","_onRemove","onRemove","sourcesToRemove","lId","removeSource","sendMessage","toggleVisibility","onUnPinned","receiveDataOld","infoBoxName","infoBox","onFilterFetch","dispatchFunc","onLegendChange","insertBefore","draggingLayer","beforeLayer","beforeLayerId","moveLayer","layersWithZIndex","mbLayers","once","onStyleChange","setStyle","updateModal","sidebarPages","Infobox","mapactions","dismissMessage","ActiveMaps","updateMap","LoadingContainer","progress","registerLoadingIndicator","unregisterLoadingIndicator","LoadingLayers","loadingLayers","FemaDisastersStackedBarGraph","count","transformData","calculateCountDisastersByYear","FemaDisastersCombinedHazardListTable","time","timeEnd","declarationsData","processByIdData","combineData","processFemaCountyData","femaDisastersCombinedTotalCostEventsLayer","relatedFeatures","state_name","turf","NationalLandingControlBase","current_state_name","current_state_fips","ControlBase","$compositions","$defaults","$default","Primary","Success","Danger","Info","Large","Small","Block","navitem","Top","Side","Active","textbutton","list","Dragging","Item","shadow","ySpace","sidebarBorder","textContrast","border","textInfo","bgInfo","borderInfo","textSuccess","bgSuccess","borderSuccess","textDanger","bgDanger","borderDanger","textWarning","bgWarning","borderWarning","textLight","menuIcon","topMenuBorder","headerShadow","navText","navitemTop","navitemTopActive","navitemSide","navitemSideActive","topNavHeight","bg","sidebarBg","menuBg","menuBgHover","menuBgActive","menuBgActiveHover","menuText","menuTextHover","menuTextActive","menuTextActiveHover","headerBg","headerBgHover","inputBg","inputBorder","inputBgDisabled","inputBorderDisabled","inputBgFocus","inputBorderFocus","textBase","textSmall","textLarge","paddingBase","paddingSmall","paddingLarge","contentBg","accent1","accent2","accent3","accent4","highlight1","highlight2","highlight3","highlight4","sidebarW","buttonPrimary","tableRow","tableRowStriped","tableCell","tableHeader","tableInfoBar","buttonSuccess","buttonDanger","buttonInfo","original","stat_boxes","amount","total_funds","FemaDisasters","FemaCombinedEventsLayer","selectedStations","stationFeatures","fips_name","total_disasters","county_fips","FemaDisastersCombinedEventsLayerFactory","handleChange","attribute","datatype","menuItems","sectionClass","itemClass","customTheme","stat_box","authed","NationalLanding","pop","hoveredCountyId","MapsLayerFactory","setGeography","geography_storm","geography_sba","current_fips_name","showModal","geoFipsData","fnumClean","processFipsDomain","subNav","ctpDoc","app","default","editable","DmsContext","authRules","useRouter","basePath","useAuth","useContext","buttonThemes","dataItems","interact","makeInteraction","makeOnClick","useDms","userouter","MessengerContext","useMessenger","checkEditorValue","getCurrentContent","hasText","checkDmsValue","Value","verifyDmsValue","aa","cc","verifyValue","verify","processAction","seedProps","showConfirm","buttonTheme","doThen","goBackAfterApiAction","self","mapDataToProps","processed","oREGEX","oFunc","dateFormats","M","MM","MMM","MMMM","Q","Qo","D","Do","DD","ddd","dddd","YY","YYYY","A","H","HH","h","hh","mm","ss","DATE_REGEX","getDateFormat","d3timeFormat","date","identity","getFormat","compareActions","action1","action2","capitalize","string","toUpperCase","prettyKey","PROPS_REGEX","SELF_REGEX","makeFilter","comparator","processArgs","checkAuth","rules","rule","c1","c2","OPS","getCompare","reduceSplit","op","applyOp","getValueFromPath","pathArg","directives","_default","preserveKeys","preservePath","preserveSource","REGEX","setPreserve","av","bv","_directives","directiveKeys","mappedProps","DIRECTIVES","savedChildren","Children","toArray","flattenAttributes","Sections","Attributes","depth","sections","att","Att","last","processFormat","formats","stringify","registerFormats","makePath","itemId","normalizeArgs","dmsAction","hasAuth","propsToSeed","search","stack","stackLength","searchStack","searchLength","processMessage","canGoPrev","canGoNext","canGo","newMsgId","cleanAction","DEFAULT_BUTTON_THEMES","cancel","getButtonTheme","themes","ActionButton","ActionLink","OpenConfirm","OpenedAndWating","waiting","setWaiting","openConfirm","DmsButton","others","AuthContext","RouterContext","useMakeInteraction","interaction","Disabled","RenderButton","DmsTable","newSectionTitle","setNewSectionTitle","autoFocus","section","sectionLanding","subSections","striped","Create","createState","setValues","useTheme","Content","Tags","Text","buttonType","store","getEditorState","setEditorState","editorState","getStartData","contentState","getBlockForKey","getStartKey","isActive","selectionState","newContentState","Modifier","setBlockData","EditorState","currentContent","ICONS","shift","getType","RichUtils","toggleBlockType","getCurrentInlineStyle","toggleInlineStyle","blockMap","Immutable","OrderedMap","getBlockMap","startKey","endKey","getEndKey","getKey","initialize","BlockQuoteButton","makeBlockStyleButton","CodeBlockButton","HeaderOneButton","HeaderTwoButton","HeaderThreeButton","OrderedListButton","UnorderedListButton","BoldButton","makeInlineStyleButton","CodeButton","ItalicButton","StrikeThroughButton","SubScriptButton","SuperScriptButton","UnderlineButton","LeftAlignButton","makeBlockDataButton","CenterAlignButton","RightAlignButton","JustifyAlignButton","TextIndentButton","makeDataRangeButton","TextOutdentButton","ImageBlock","forwardRef","blockProps","compProps","WrappedBlock","blockRendererFn","entityKey","getEntityAt","entity","getEntity","addImage","createEntity","getLastCreatedEntityKey","newEditorState","AtomicBlockUtils","insertAtomicBlock","beforeKey","getSelectionBefore","getLength","firstBlock","getFirstBlock","lastBlock","getLastBlock","selectAll","SelectionState","anchorKey","focusKey","replaceWithFragment","forceSelection","linkify","linkifyIt","tlds","fuzzyIP","Link","decoratedText","links","href","getReadOnly","contentEditable","strategy","contentBlock","getText","lastIndex","decorators","makeStrategy","script","characterList","getCharacterList","hasStyle","combineCompProps","prev","POSITIONS","BUTTONS","adjustPosition","figRef","useRef","compRef","setDisplay","setPos","_onMouseMove","figRect","compRect","useMemo","newCompProps","handleClick","useSetRefs","mergeEntityData","wrapper","makeWrapper","customStyleMap","textDecoration","blockStyleFn","textIndent","myBlockRenderMap","element","blockRenderMap","DefaultDraftBlockRenderMap","onTab","code","getDefaultKeyBinding","hasListSelected","direction","newBlockMap","getDepth","keyBindingFn","adjustWidth","hovering","setHovering","canResize","setCanResize","setResizing","screenX","setScreenX","_onResize","diff","onResize","boxShadow","positionablePlugin","makePositionablePlugin","resizablePlugin","makeResizablePlugin","imagePlugin","makeImagePlugin","linkItPlugin","makeLinkItPlugin","plugins","makeButtonPlugin","makeSuperSubScriptPlugin","makeStuffPlugin","decorator","CompositeDecorator","ReadOnlyEditor","createEmpty","loadFromProps","isRaw","loadFromRawContent","content","createWithContent","convertFromRaw","es","readOnly","spellCheck","View","navItems","noHeader","PageView","Separator","borderColor","buttonPlugin","toolbarPlugin","Toolbar","getProps","makeToolbarPlugin","createEditorState","MyEditor","hasFocus","editor","handleDroppedFiles","files","file","uploadImage","imgLoader","showLoading","EditorWrapper","propsValue","draggingOver","setDragging","stopIt","setStack","setIndex","setHistory","clearStack","img","setImg","setLoaded","imgSrc","applyCrop","naturalHeight","svg","editImage","clearBrush","setSvg","useBrush","Brush","setFocus","setRef","dragOver","onDragLeave","onDragExit","dropIt","maxHeight","onLoad","saveImage","LabelButton","accept","Attribute","checkHasValue","getInput","EditorAttribute","DmsAttribute","Format","getAttributes","registeredFormats","isRequired","useDmsSections","setSections","verified","makeNewAttribute","Props","useSetSections","setPrev","borderLight","DefaultDisplay","defaultGetEmptyValue","DisplayComp","utilityVerify","defaultHasValue","getEmptyValue","setNode","newItem","setNewItem","addToArray","removeFromArray","vv","editItem","buttonDisabled","edit","editIndex","setEditIndex","openEditor","setOpenEditor","createNewItem","move","EditComponent","ValueItem","getComp","makeDisplayComp","getEmptyFormatValue","EditorDisplayComp","getDomain","multi","InputComp","MarkdownInput","TextArea","ImgInput","imgUploadUrl","Editor","ObjectInput","DmsInput","BooleanInput","EditComp","DmsCreateStateClass","dmsMsg","getValues","onSave","numSections","activeSection","activeIndex","hasWarning","warnings","hasValues","defaultsLoaded","next","badAttributes","ignoredAttributes","mapOldToNew","oldKey","newKey","deleteOld","ininitialized","initValues","initialized","initValue","msgIds","setWarning","warning","msgId","sendPageMessage","removePageMessage","cleanup","getDefault","defaultValue","defaultLoaded","sendWarnings","getWarnings","hasDefault","sendAttributeMessage","removeAttributeMessage","convertToRaw","checkDmsDefault","defaults","_mapOldToNew","_getDefault","_getValue","_initValue","_sendWarnings","attTree","missingKey","invalidKey","missingMsg","invalidMsg","_hasValue","useDmsCreateState","attributeMessages","setSection","DmsCreateState","saveValues","sect","makeStorageId","useLocalStorage","doSave","ready","_ready","setReady","storageId","setShowModal","setChecked","onHide","setData","loadData","saveToLocalStorage","LoadModal","closeLabel","dmsCreate","dmsEdit","updated","hasBeenUpdated","attributeMap","BadAttributeRow","newAtt","setNewAtt","DmsCreateBase","fullWidth","DmsCreate","DmsEdit","expandColumns","atts","acts","useDmsColumns","getAttributeName","columnData","disableSortBy","cell","subRows","expand","ExpandRow","Warning","footer","shadowed","showHome","dmsActions","navBarSide","pageMessages","child","cloneElement","NoFormat","DmsComponents","dmsManager","processPath","getDataItems","dataItem","DefaultOptions","SEED_PROPS","ViewItem","markdown","ViewRow","GetParams","routerParams","useParams","searchParams","URLSearchParams","entries","ParseItems","createElements","bool","startLoading","stopLoading","falcorAction","falcorEdit","falcorCreate","falcorDelete","ids","apiInteract","mS2P","defaultPath","mapCacheToProps","avlFalcor","objectArg","renderItem","getActionGroups","mapped","renderRow","renderChildren","useRouteMatch","alt11","alt13","alt21","useHistory","routerProps","getMessengerProps","defaultAction","arguments","popAction","pushAction","dmsProps","getDmsProps","msgProps","interactOnMount","acted","setActed","defaultInteract","doMapDataToProps","seededProps","numOnMount","numInteract","handleData","propsToShare","toShare","addComponents","addWrappers","DmsWrappers","editorConfig","SectionManager","PageEdit","icon","viewConfig","SET_AMOUNT","setActiveAmount","setAmount","IA_ATTRIBUTES","FemaDisastersIATotalsStatBoxes","PA_ATTRIBUTES","HMA_MITIGATED_PROPERTIES_ATTRIBUTES","FemaDisastersTotalsEventsLayer","active_amount","filteredData","zip_code","amountDomain","FemaDisastersPATotalsStatBoxes","FemaDisastersHMAMitigatedPropertiesTotalsStatBoxes","HMA_MITIGATED_PROJECTS_ATTRIBUTES","FemaDisastersHMAMitigatedProjectsTotalsStatBoxes","FemaDisasterDeclarations","femaDisasterData","disasterId","shmpDoc","editInPlace","AdminLayout","topMenu","reducer","isPlaceholder","moveUp","moveDown","fill-rule","clip-rule","strokeLinecap","strokeLinejoin","blocks","settings","hasControls","Edit","save","Section","SectionSideNav","ShowSidebar","SectionView","SectionEdit","authLevel","layout","droppedSection","end","droppedSubsection","subSection","useReducer","Routes","Home","StormEvents","CMS","Methodology","Auth","NoMatch","App","route","menus","combineReducers","Reducers","createStore","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","TEST_THEME_BASE","topMenuScroll","navMenu","navMenuOpen","navMenuBg","navMenuItem","Proxy","definition","receiver","themeType","opt","compose","AmsComponents","AmsWrappers","AuthEnabledApp","enableAuth","AUTH_HOST","PROJECT_NAME","CLIENT_HOST","ReactDOM","StrictMode","Theme","Hazards","map_column","module","exports","scaleOrdinal","scaleThreshold","sheldusAttributes","num_events","property_damage","crop_damage","injuries","fatalities","increase","withDollar","roundUnder10K","frmt","ftypeMap","730","740","800","820","830","getHazardName","hazardid","getColors","g","getColors2","scaleCk","Scale","ckmeans","thresholds","ck","getColorScale","processSheldus","avgTotal","avg","toFixed","processDataForBarChart","rawData","geoids","lossType","processSheldus5year","sumData","len","numYears","avgData"],"mappings":"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","file":"static/js/main.c3172d1d.chunk.js","sourcesContent":["import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nconst ScrollToTop = () => {\n  const { pathname } = useLocation();\n  useEffect((arg) => {\n    window.scrollTo(0, 0);\n  }, [pathname])\n  return null;\n}\n\nexport default ScrollToTop;\n","//import PageHeader from \"./landing/components/PageHeader\"\n\nconst AuthConfig = {\n  type: \"ams-manager\",\n  wrappers: [\n    \"ams-redux\",\n    \"ams-router\"\n  ],\n  children: [\n    //{ type: PageHeader },\n    { type: \"ams-login\" },\n    { type: \"ams-reset-password\" },\n    { type: \"ams-logout\",\n// @props.redirectTo\n// Optional prop. Defaults to \"/\".\n// Redirects user to URL after logging out.\n      // props: { redirectTo: \"/\" }\n    },\n\n    // { type: \"ams-signup\",\n// @props.addToGroup\n// Optional prop. Defaults to false.\n// Adds user to group (must have auth level 0 in all projects) instead of creating a request that must be accepted by admin.\n      // props: { addToGroup: \"123\" }\n    // },\n    // { type: \"ams-verify-request\" }, // This is only required when addToGroup prop is included with ams-signup\n    // { type: \"ams-verify-email\" }, // This is only required when addToGroup prop is not included with ams-signup\n    //\n    // { type: \"ams-set-password\" },\n    //\n    // { type: \"ams-profile\" },\n    // { type: \"ams-accept-invite\" },\n    //\n    // { type: \"ams-directory\" },\n    //\n    // { type: \"ams-project-management\"\n// @props.authLevel\n// Optional prop. This prop can be applied to any AMS child.\n// If set, users must have equal or higher authLevel to view this page.\n// Defaults to 5 for \"ams-project-management.\"\n      // props: { authLevel: 5 }\n    // }\n  ]\n}\n\nconst auth = {\n  path: \"/auth\",\n  mainNav: false,\n  layoutSettings: {\n    fixed: true,\n    navBar: false,\n    headerBar: false\n  },\n  component: AuthConfig\n}\nexport default auth;\n","export const UPDATE_FALCOR = 'redux-falcor/UPDATE';\n\nexport const updateCache = falcorCache => dispatch =>\n  Promise.resolve(dispatch({\n    type: UPDATE_FALCOR,\n    falcorCache\n  }))\n\nexport default (state = {}, action) =>\n  action.type === UPDATE_FALCOR ? { ...action.falcorCache } : state\n","import React from \"react\"\n\nimport { connect } from \"react-redux\"\n\nimport { updateCache } from \"./falcorCache\"\n\nimport { debounce } from \"lodash\"\n\nconst FalcorContext = React.createContext();\n\nclass FalcorProviderBase extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.debounced = debounce(this.updateCache, 250);\n  }\n  componentDidMount() {\n    this.props.falcor.onChange(this, this.debounced);\n  }\n  componentWillUnmount() {\n    this.props.falcor.remove(this);\n  }\n  updateCache() {\n    this.props.updateCache(this.props.falcor.getCache());\n  }\n  render() {\n    return (\n      <FalcorContext.Provider value={ this.props.falcor }>\n        { this.props.children }\n      </FalcorContext.Provider>\n    )\n  }\n}\nexport const FalcorProvider = connect(null, { updateCache })(FalcorProviderBase);\n\nconst NO_OP = () => {};\n\nexport const reduxFalcor = Component => {\n  class Wrapper extends React.Component {\n    WrappedComponent = React.createRef();\n    componentDidMount() {\n      this.fetchFalcorDeps();\n    }\n    componentDidUpdate(oldProps) {\n      if (oldProps.falcorCache !== this.props.falcorCache) {\n        this.fetchFalcorDeps();\n      }\n    }\n    fetchFalcorDeps() {\n      const { current } = this.WrappedComponent;\n      if (!current) return;\n\n      if (typeof current.fetchFalcorDeps === \"function\") {\n        current.fetchFalcorDeps().then(NO_OP);\n      }\n    }\n    render() {\n      return (\n        <FalcorContext.Consumer>\n          { falcor =>\n              <Component ref={ this.WrappedComponent }\n                { ...this.props } falcor={ falcor }/>\n          }\n        </FalcorContext.Consumer>\n      )\n    }\n  }\n  const mapStateToProps = state => ({ falcorCache: state.falcorCache });\n  return connect(mapStateToProps, null)(Wrapper);\n}\n","// import { sendSystemMessage } from './messages';\n\n// import { AUTH_HOST, AUTH_PROJECT_NAME } from 'config'\n\n\nconst SET_COUNTY_GEOID = 'USER::SET_COUNTY_GEOID';\n\nfunction setCountyGeoid(id) {\n    return {\n        type:SET_COUNTY_GEOID,\n        id\n    }\n}\n\nexport const setActiveCountyGeoid = (id) =>{\n    return (dispatch) => {\n        dispatch(setCountyGeoid(id))\n    }\n};\n\n\n\nexport const actions = {\n    setActiveCountyGeoid,\n\n};\n\nlet initialState = {\n    activeCountyGeoid: null,\n};\n\nconst ACTION_HANDLERS = {\n\n    [SET_COUNTY_GEOID]: (state =initialState, action) => {\n        const newState = Object.assign({}, state)\n        if(action.id) {\n            newState.activeCountyGeoid = action.id;\n            localStorage.setItem('countyGeoid', newState.activeCountyGeoid);\n        }\n        return newState\n    },\n\n};\n\nexport default function overviewReducer(state = initialState, action) {\n\n    const handler = ACTION_HANDLERS[action.type];\n    return handler ? handler(state, action) : state;\n}\n","import React, {Fragment} from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"../../utils/redux-falcor-new\";\nimport get from \"lodash.get\";\nimport {asyncContainer, Typeahead} from 'react-bootstrap-typeahead';\nimport './style.css';\nimport {setActiveCountyGeoid} from \"store/modules/overview\";\n\n\nvar _ = require('lodash')\nconst AsyncTypeahead = asyncContainer(Typeahead);\nconst fips = [\"01\", \"02\", \"04\", \"05\", \"06\", \"08\", \"09\", \"10\", \"11\", \"12\", \"13\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"40\", \"41\", \"42\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \"50\", \"51\", \"53\", \"54\", \"55\", \"56\"]\n\nclass Search extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            isLoading : false,\n            options: []\n        }\n        this.handleSearch = this.handleSearch.bind(this)\n        this.onChangeFilter = this.onChangeFilter.bind(this)\n    }\n\n\n    async fetchFalcorDeps(){\n        const geo_counties = await this.props.falcor.get(['geo',fips,'counties','geoid'])\n        if(geo_counties){\n            this.filtered_geographies = Object.values(geo_counties.json.geo)\n                .reduce((out, state) => {\n                    if (state.counties) {\n                        out = [...out, ...state.counties]\n                    }\n                    return out\n                }, [])\n            const geo_names = await this.props.falcor.get(['geo',this.filtered_geographies,['name']])\n            const fips_names = await this.props.falcor.get(['geo',fips,['state_abbr']])\n            return {geo_names,fips_names}\n        }\n    }\n\n\n    handleSearch(text){\n        this.setState({isLoading: true});\n        let graph = get(this.props.falcorCache,['geo'],null)\n        let data = []\n        if(this.filtered_geographies && graph){\n            this.filtered_geographies.forEach(geoid =>{\n                data.push({\n                    geoid: geoid,\n                    name: `${get(graph,[geoid,'name'],'')},${get(graph,[geoid.slice(0,2),'state_abbr'],'')}`,\n                    fips: get(graph,[geoid.slice(0,2),'state_abbr'],'')\n                })\n            })\n            let geoData = _.filter(data, _.method('name.match', new RegExp(`${text}.*`,'i')))\n            this.setState({\n                isLoading: false,\n                options: geoData ? geoData : data.filter(d => d.includes(text))\n            })\n        }\n    }\n\n    onChangeFilter(selected){\n        let geoid = selected.reduce((a,c) =>{\n            return c.geoid\n        },'')\n        if(this.props.page === 'overview'){\n            this.props.setActiveCountyGeoid(geoid)\n            window.history.pushState(geoid, 'Title', `${geoid}`);\n        }else{\n            window.location = `/overview/${geoid}`\n        }\n\n    }\n    render(){\n        return(\n            <div className=\"max-w-3xl mx-auto py-4 lg:px-4 h-10 px-5 pr-16 text-3xl\">\n                <AsyncTypeahead\n                    isLoading={this.state.isLoading}\n                    onSearch={this.handleSearch}\n                    minLength = {2}\n                    id=\"my-typeahead-id\"\n                    placeholder=\"Search for a County...\"\n                    options={this.state.options}\n                    labelKey={(option) => `${option.name}`}\n                    onChange = {this.onChangeFilter.bind(this)}\n                    renderMenuItemChildren={(option, props) => (\n                        <Fragment>\n                            <ul>\n                                <span className='text-xl tracking-wide' >{option.name}</span>\n                            </ul>\n                        </Fragment>\n                    )}\n                />\n            </div>\n\n        )\n    }\n}\n\nconst mapDispatchToProps = {\n    setActiveCountyGeoid\n};\n\nconst mapStateToProps = (state,ownProps) => {\n    return {\n        falcorCache: state.falcorCache,\n        activeStateGeoid : state.user.activeStateGeoid,\n        geoid:ownProps.geoid,\n        censusKey:ownProps.censusKey,\n        graph: state.graph,\n        severeWeatherData : get(state.graph,['severeWeather'])\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxFalcor(Search))\n","import React from \"react\"\nimport Search from \"./Search\";\n\nconst HomePage = () => (\n\n\t<div className=\"bg-gray-50 overflow-x-hidden overflow-y-auto\">\n\n  <div className=\"relative\">\n    <div className=\"block absolute inset-y-0 h-full w-full\">\n\n      <div className=\"relative h-full\">\n\n        <svg\n          className=\"absolute right-full transform translate-y-1/3 translate-x-1/4 md:translate-y-1/2 sm:translate-x-1/2 lg:translate-x-full\"\n          width={404}\n          height={784}\n          fill=\"none\"\n          viewBox=\"0 0 404 784\"\n        >\n          <defs>\n            <pattern\n              id=\"e229dbec-10e9-49ee-8ec3-0286ca089edf\"\n              x={0}\n              y={0}\n              width={20}\n              height={20}\n              patternUnits=\"userSpaceOnUse\"\n            >\n              <rect\n                x={0}\n                y={0}\n                width={4}\n                height={4}\n                className=\"text-gray-200\"\n                fill=\"currentColor\"\n              />\n            </pattern>\n          </defs>\n          <rect\n            width={404}\n            height={784}\n            fill=\"url(#ad9a0a02-b58e-4a1d-8c36-1b649889af63)\"\n          />\n        </svg>\n        <svg\n          className=\"absolute left-full transform -translate-y-3/4 -translate-x-1/4 sm:-translate-x-1/2 md:-translate-y-1/2 lg:-translate-x-3/4\"\n          width={404}\n          height={784}\n          fill=\"none\"\n          viewBox=\"0 0 404 784\"\n        >\n          <defs>\n            <pattern\n              id=\"d2a68204-c383-44b1-b99f-42ccff4e5365\"\n              x={0}\n              y={0}\n              width={20}\n              height={20}\n              patternUnits=\"userSpaceOnUse\"\n            >\n              <rect\n                x={0}\n                y={0}\n                width={4}\n                height={4}\n                className=\"text-gray-200\"\n                fill=\"currentColor\"\n              />\n            </pattern>\n          </defs>\n          <rect\n            width={404}\n            height={784}\n            fill=\"url(#478e97d6-90df-4a89-8d63-30fdbb3c7e57)\"\n          />\n        </svg>\n      </div>\n    </div>\n\n    <div className=\"relative pt-0 pb-12 lg:pb-20\">\n      <div className=\"mt-10 mx-auto max-w-screen-xl px-4 sm:px-6 md:mt-16 lg:mt-20\">\n        <div className=\"text-center\">\n          <h2 className=\"text-4xl tracking-tight leading-10 font-extrabold text-gray-900 sm:text-5xl sm:leading-none md:text-6xl\">\n            Historic Hazard Data\n            <br />\n            <span className=\"text-indigo-600 text-2xl sm:text-3xl  md:text-5xl\">for Understanding Risk</span>\n          </h2>\n          <p className=\"mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl\">\n            Open Datasets for understanding losses associated with natural hazard events including datasets from National Centers for Environmental Information (NCEI), Small Business Administration Loan programs, and the Federal Emergency Management Agency's (FEMA) Public Assistance and Individual Assistance programs.\n            \n            \n          </p>\n        </div>\n      </div>\n      <div>\n      </div>\n      <Search page={'home'}/>\n    </div>\n    <div className=\"relative z-10\">\n      <div className=\"absolute inset-0 flex flex-col\">\n        <div className=\"flex-1\" />\n        <div className=\"flex-1 w-full bg-gray-800\" />\n      </div>\n      <div className=\"max-w-screen-xl mx-auto px-4 sm:px-6\">\n        <img\n          className=\"relative rounded-lg shadow-lg\"\n          src=\"/img/landing_3.png\"\n          alt=\"App screenshot\"\n        />\n      </div>\n    </div>\n  </div>\n  <div className=\"bg-gray-800\">\n    <div className=\"max-w-screen-xl mx-auto pt-16 pb-20 px-4 sm:px-6 md:pb-24 lg:px-8\">\n      <h3 className=\"text-center text-gray-400 text-sm font-semibold uppercase tracking-wide\">\n        Created in partnershiip with \n      </h3>\n      <div className=\"mt-8 grid grid-cols-2 gap-8 md:grid-cols-6 lg:grid-cols-5\">\n        <div className=\"col-span-1 flex justify-center md:col-span-2 lg:col-span-1\">\n          <img\n            className=\"h-12\"\n            src=\"https://availabs.org/img/logo.png\"\n            alt=\"Tuple\"\n          />\n        </div>\n        <div className=\"col-span-1 flex justify-center md:col-span-2 lg:col-span-1\">\n          <img\n            className=\"h-12\"\n            src=\"/img/fema_logo.svg\"\n            alt=\"FEMA\"\n          />\n        </div>\n        {/*<div className=\"col-span-1 flex justify-center md:col-span-2 lg:col-span-1\">\n          <img\n            className=\"h-12\"\n            src=\"https://tailwindui.com/img/logos/statickit-logo.svg\"\n            alt=\"StaticKit\"\n          />\n        </div>\n        <div className=\"col-span-1 flex justify-center md:col-span-3 lg:col-span-1\">\n          <img\n            className=\"h-12\"\n            src=\"https://tailwindui.com/img/logos/transistor-logo.svg\"\n            alt=\"Transistor\"\n          />\n        </div>\n        <div className=\"col-span-2 flex justify-center md:col-span-3 lg:col-span-1\">\n          <img\n            className=\"h-12\"\n            src=\"https://tailwindui.com/img/logos/workcation-logo.svg\"\n            alt=\"Workcation\"\n          />\n        </div>*/}\n      </div>\n    </div>\n  </div>\n</div>\n)\n\nexport default {\n  path: \"/\",\n  exact: true,\n  auth: false,\n  mainNav: true,\n  name: 'Hazards.org',\n  component: HomePage,\n  layoutSettings: {\n    fixed: true,\n    headerBar: false,\n    nav: 'top'\n  }\n}\n","// import { sendSystemMessage } from './messages';\n\n// import { AUTH_HOST, AUTH_PROJECT_NAME } from 'config'\n\n\nconst SET_STATE_GEOID = 'USER::SET_STATE_GEOID';\n\nfunction setStateGeoid(id) {\n    return {\n        type:SET_STATE_GEOID,\n        id\n    }\n}\n\nexport const setActiveStateGeoid = (id) =>{\n    return (dispatch) => {\n        dispatch(setStateGeoid(id))\n    }\n};\n\n\n\nexport const actions = {\n    setActiveStateGeoid,\n\n};\n\nlet initialState = {\n    activeStateGeoid: [],\n};\n\nconst ACTION_HANDLERS = {\n\n    [SET_STATE_GEOID]: (state =initialState, action) => {\n        const newState = Object.assign({}, state)\n        if(action.id) {\n            newState.activeStateGeoid = action.id;\n            localStorage.setItem('stateGeoid', newState.activeStateGeoid);\n        }\n        return newState\n    },\n\n};\n\nexport default function scenarioReducer(state = initialState, action) {\n\n    const handler = ACTION_HANDLERS[action.type];\n    return handler ? handler(state, action) : state;\n}","import React from 'react';\nimport { fnum } from \"utils/sheldusUtils\"\nimport hazardcolors from \"constants/hazardColors\";\nimport {ResponsiveBar} from \"@nivo/bar\";\n\nlet years = []\nconst start_year = 1996\nconst end_year = 2019\nfor (let i = start_year; i <= end_year; i++) {\n    years.push(i)\n}\n\n\nconst hazards = [\n    {value:'wind', name:'Wind'},\n    {value:'wildfire', name:'Wildfire'},\n    {value:'tsunami', name:'Tsunami/Seiche'},\n    {value:'tornado', name:'Tornado'},\n    {value:'riverine', name:'Flooding'},\n    {value:'lightning', name:'Lightning'},\n    {value:'landslide', name:'Landslide'},\n    {value:'icestorm', name:'Ice Storm'},\n    {value:'hurricane', name:'Hurricane'},\n    {value:'heatwave', name:'Heat Wave'},\n    {value:'hail', name:'Hail'},\n    {value:'earthquake', name:'Earthquake'},\n    {value:'drought', name:'Drought'},\n    {value:'avalanche', name:'Avalanche'},\n    {value:'coldwave', name:'Coldwave'},\n    {value:'winterweat', name:'Snow Storm'},\n    {value:'volcano', name:'Volcano'},\n    {value:'coastal', name:'Coastal Hazards'}\n]\nclass StackedBarGraph extends React.Component {\n    render() {\n        return (\n            <div>\n                <div style={ { width: \"100%\", height: this.props.height ? this.props.height : \"300px\" } }>\n                    <ResponsiveBar\n                        data={this.props.data}\n                        keys={hazards.map(d => d.value)}\n                        indexBy=\"year\"\n                        margin={{ top: 60, right: 80, bottom: 70, left: 80 }}\n                        padding={0.2}\n                        colors={(d) => hazardcolors[d.id]}\n                        groupMode={ 'stacked'}\n                        enableLabel={false}\n                        enableGridX={false}\n                        enableGridY= {true}\n                        axisBottom={{\n                            tickSize: 5,\n                            tickPadding: 5,\n                            tickRotation: -60,\n                            legend: 'year',\n                            legendPosition: 'middle',\n                            legendOffset: 45\n                        }}\n                        axisLeft={{\n                            tickSize: 5,\n                            tickPadding: 5,\n                            tickRotation: 0,\n                            legend: 'Total Damage $',\n                            legendPosition: 'middle',\n                            legendOffset: -55,\n                            format: v => `${fnum(v)}`\n                        }}\n                        labelSkipWidth={12}\n                        labelSkipHeight={12}\n                        /*labelFormat={d=> `${fnum(d)}`}*/\n                        /*labelTextColor={{ from: 'color', modifiers: [ [ 'darker', 1.6 ] ] }}*/\n                        /*yScale={{\n                            type: 'log',\n                            base: 10,\n                            max: 'auto',\n                        }}*/\n                        /*legends={[\n                            {\n                                dataFrom: 'keys',\n                                anchor: 'bottom-right',\n                                direction: 'row',\n                                justify: false,\n                                translateX: 120,\n                                translateY: 0,\n                                itemsSpacing: 2,\n                                itemWidth: 100,\n                                itemHeight: 20,\n                                itemDirection: 'left-to-right',\n                                itemOpacity: 0.85,\n                                symbolSize: 20,\n                                effects: [\n                                    {\n                                        on: 'hover',\n                                        style: {\n                                            itemOpacity: 1\n                                        }\n                                    }\n                                ]\n                            }\n                        ]}*/\n                        animate={true}\n                        motionStiffness={90}\n                        motionDamping={15}\n                        tooltipFormat={value => `${fnum(value)}`}\n                    />\n                </div>\n            </div>\n        )\n    }\n}\n/*const mapStateToProps = (state, ownProps) => {\n    return {\n        activeStateGeoid : state.stormEvents.activeStateGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', [])\n    };\n};\nconst mapDispatchToProps = {\n    setActiveStateGeoid\n};*/\nexport default StackedBarGraph\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\n\nclass PromptModal extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n        }\n\n    }\n\n    render () {\n        return (\n            <div>\n                <button\n                    className=\"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white px-2 border border-blue-500 hover:border-transparent rounded-full\"\n                    onClick={\n                        (e) => {\n                            e.preventDefault()\n                            document.getElementById('closeMe'+this.props.id).style.display =\n                            document.getElementById('closeMe'+this.props.id).style.display === 'block' ? 'none' : 'block'}\n                    }\n                >\n                    ?\n                </button>\n                <div className=\"fixed z-10 inset-0 overflow-y-auto\"\n                id={`closeMe`+this.props.id}\n                tabIndex=\"0\"\n                style={{display:'none',margin: '0vh 0vw'}}\n                onClick={(e) => {\n                if (e.target.id === `closeMe`+this.props.id){\n                    e.target.closest(`#closeMe`+this.props.id).style.display = 'none'\n                }\n            }}\n                >\n                <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n                    <div className=\"fixed inset-0 transition-opacity\">\n                        <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n                    </div>\n                    <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\"></span>&#8203;\n                    <div className=\"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-headline\">\n                        <div className=\"hidden sm:block absolute top-0 right-0 pt-4 pr-4\">\n                            <button type=\"button\"\n                                    className=\"text-gray-400 hover:text-gray-500 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150\"\n                                    onClick={(e) => {\n                                        e.target.closest('#closeMe' + this.props.id).style.display = 'none'\n                                    }}\n                                    aria-label=\"Close\">\n                                <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                                </svg>\n                            </button>\n                        </div>\n                        <div className=\"sm:flex sm:items-start\">\n                            <div class=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                                <h3 class=\"text-lg leading-6 font-medium text-gray-900\" id=\"modal-headline\">\n                                    Geolevel\n                                </h3>\n                                <div class=\"mt-2\">\n                                    <p class=\"text-sm leading-5 text-gray-500\">\n                                        {this.props.prompt}\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n\n\n        )\n    }\n}\n\nconst mapDispatchToProps = {\n\n};\n\nconst mapStateToProps = state => {\n    return {\n\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PromptModal)\n","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {reduxFalcor} from \"../../utils/redux-falcor-new\";\nimport get from \"lodash.get\";\nimport {setActiveStateGeoid} from \"../../store/modules/stormEvents\";\nimport {CSVLink} from \"react-csv\";\nimport PromptModal from \"./PromptModal\";\n\nconst _ = require(\"lodash\");\nconst fips = [\"01\", \"02\", \"04\", \"05\", \"06\", \"08\", \"09\", \"10\", \"11\", \"12\", \"13\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\",\n    \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"40\", \"41\", \"42\", \"44\", \"45\", \"46\",\n    \"47\", \"48\", \"49\", \"50\", \"51\", \"53\", \"54\", \"55\", \"56\",\"72\",\"60\",\"66\",\"78\"]\nconst hazards = [\n    {value:'wind', name:'Wind'},\n    {value:'wildfire', name:'Wildfire'},\n    {value:'tsunami', name:'Tsunami/Seiche'},\n    {value:'tornado', name:'Tornado'},\n    {value:'riverine', name:'Flooding'},\n    {value:'lightning', name:'Lightning'},\n    {value:'landslide', name:'Landslide'},\n    {value:'icestorm', name:'Ice Storm'},\n    {value:'hurricane', name:'Hurricane'},\n    {value:'heatwave', name:'Heat Wave'},\n    {value:'hail', name:'Hail'},\n    {value:'earthquake', name:'Earthquake'},\n    {value:'drought', name:'Drought'},\n    {value:'avalanche', name:'Avalanche'},\n    {value:'coldwave', name:'Coldwave'},\n    {value:'winterweat', name:'Snow Storm'},\n    {value:'volcano', name:'Volcano'},\n    {value:'coastal', name:'Coastal Hazards'}\n];\n\nclass DataDownload extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            dataset : 'severeWeather',\n            datasets :[{name : 'Severe Weather',value : 'severeWeather'},{name:'SBA',value:'sba'},{name:'FEMA Disasters',value:'fema'}],\n            state_fips:null,\n            county:'',\n            geolevel: 'counties',\n            geolevels:[{name : 'County',value : 'counties',disabled:false},{name:'Municipality',value:'cousubs',disabled:true},{name:'Tracts',value:'tracts',disabled:true}],\n            geolevels_sba:[{name : 'County',value : 'counties',disabled:false},{name:'Zip Codes',value:'zip_codes',disabled:true}],\n            hazard: new Map(),\n            user_hazards :[],\n            data: [],\n            loading:false,\n            changed: false\n\n        }\n        this.onChange = this.onChange.bind(this)\n    }\n\n\n    onChange(e){\n        console.log('---',e.target.id,e.target.value,this.state);\n        if(e.target.id === 'hazard'){\n            const isChecked = e.target.checked\n            let value = e.target.value\n            const object  = this.state;\n            if(value === 'all'){\n                hazards.forEach(hazard =>{\n                    this.setState({ hazard: object.hazard.set(hazard.value,isChecked) });\n                })\n            }else{\n                this.setState({ hazard: object.hazard.set(value,isChecked) });\n            }\n            this.setState({\n                user_hazards : Array.from(this.state.hazard, ([hazard, value]) => ({hazard, value}))\n                    .reduce((a,c) =>{\n                        if(c.value){\n                            a.push(c.hazard)\n                        }\n                        return a\n                    },[])\n            })\n        }else{\n            /*if(e.target.id === 'geolevel'){\n                console.log('check',e.target)\n            }*/\n            this.setState({ ...this.state, [e.target.id]: e.target.value });\n        }\n    }\n\n    componentDidUpdate(prevProps,prevState,snapshot){\n        if(this.state.dataset !== prevState.dataset\n            || (this.state.state_fips !== prevState.state_fips)\n            || (this.state.county !== prevState.county)\n            || !_.isEqual(this.state.user_hazards,prevState.user_hazards)\n            || this.state.geolevel !== prevState.geolevel\n        ){\n            this.setState({\n                changed: true\n            })\n            this.fetchFalcorDeps().then(async d =>{\n                const res = await this.processData()\n                if(res.length >0){\n                    this.setState({\n                        loading : false,\n                        data : res\n                    })\n                }\n            })\n        }\n        if(this.state.loading){\n            this.fetchFalcorDeps().then(async d =>{\n                const res = await this.processData()\n                if(res.length >0){\n                    this.setState({\n                        loading : false,\n                        data : res,\n                        changed:false\n                    })\n                }\n            })\n        }\n        if(this.state.state_fips !== prevState.state_fips){\n            this.setState({\n                changed: true\n            })\n            this.countiesDataDropDown()\n        }\n    }\n\n    fetchFalcorDeps(){\n        const attributes = this.state.dataset === 'severeWeather' ? ['total_damage', 'num_episodes','property_damage','crop_damage','num_episodes','num_events'] :\n            this.state.dataset === 'fema' ? [\n                'ia_ihp_amount',\n                'ia_ihp_count',\n                'pa_project_amount',\n                'pa_federal_share_obligated',\n                'hma_prop_actual_amount_paid',\n                'hma_prop_number_of_properties',\n                'hma_proj_project_amount',\n                'hma_proj_project_amount_count',\n                'hma_proj_federal_share_obligated',\n                'hma_proj_federal_share_obligated_count',\n                'total_cost',\n                \"total_cost_summaries\",\n                \"total_disasters\"\n            ] : ['total_loss','loan_total','num_loans']\n        return this.props.falcor.get(['geo',fips,'name'])\n            .then(response =>{\n                if(this.state.state_fips){\n                    this.props.falcor.get(['geo',this.state.state_fips,'counties','geoid'])\n                        .then(response =>{\n                            this.counties = Object.values(response.json.geo)\n                                .reduce((out, state) => {\n                                    if (state.counties) {\n                                        out = [...out, ...state.counties]\n                                    }\n                                    return out\n                                }, [])\n                            this.props.falcor.get(['geo',this.state.county !== '' ? this.state.county : this.counties,this.state.geolevel])\n                                .then( async response =>{\n                                    this.filtered_geo = Object.values(response.json.geo)\n                                        .reduce((out, state) => {\n                                            if (state[this.state.geolevel]) {\n                                                out = [...out, ...state[this.state.geolevel]]\n                                            }\n                                            return out\n                                        }, [])\n\n                                    await this.props.falcor.get(['geo',this.filtered_geo,'name'])\n                                    if(this.filtered_geo.length > 0 && this.state.dataset!== 'sba' && this.state.user_hazards.length && this.state.geolevel !== 'zip_codes'){\n                                        let dataset =  this.state.dataset === 'fema' ? ['fema','disasters'] : [this.state.dataset]\n                                            let chunks = _.chunk(this.filtered_geo,20)\n                                            let disaster_requests = []\n                                            chunks.forEach(chunk =>{\n                                                disaster_requests.push([...dataset,chunk,this.state.user_hazards,[{\n                                                    from: 1996,\n                                                    to: 2019\n                                                }], attributes])\n                                            })\n                                            return disaster_requests.reduce((a, c, cI) => a.then(() => {\n                                                this.props.falcor.get(c)\n                                                    .then(response =>{\n                                                        return response\n                                                    })\n                                            }), Promise.resolve())\n                                                .then(response =>{\n                                                    return response\n                                                })\n                                    }\n                                    if(this.state.dataset === 'sba' && this.state.user_hazards.length){\n                                        if(this.state.geolevel === 'zip_codes' && this.state.county !== \"\") {\n                                            this.props.falcor.get(['geo',this.state.county, 'byZip', ['zip_codes']])\n                                                .then(async response =>{\n                                                    this.zip_codes = Object.values(response.json.geo).reduce((out, geo) => {\n                                                        if (geo.byZip) {\n                                                            out = [...out, ...geo.byZip['zip_codes']]\n                                                        }\n                                                        return out\n                                                    }, [])\n                                                    return await this.props.falcor.get([this.state.dataset,'all','byZip',this.zip_codes,this.state.user_hazards, [{\n                                                        from: 1996,\n                                                        to: 2018\n                                                    }], attributes])\n                                                })\n                                        }\n                                        else {\n                                            let chunks = _.chunk(this.filtered_geo,20),requests = []\n                                            chunks.forEach(chunk =>{\n                                                requests.push([this.state.dataset, 'all',chunk, this.state.user_hazards, [{\n                                                    from: 1996,\n                                                    to: 2018\n                                                }], attributes])\n                                            })\n                                            return requests.reduce((a, c, cI) => a.then(() => {\n                                                this.props.falcor.get(c)\n                                                    .then(response =>{\n                                                        return response\n                                                    })\n                                            }), Promise.resolve())\n                                                .then(response =>{\n                                                    return response\n                                                })\n                                        }\n                                    }\n                                    if(this.state.dataset === 'fema' && this.state.geolevel === 'zip_codes' && this.state.county !== \"\"){\n                                        this.props.falcor.get(['geo',this.state.county, 'byZip', ['zip_codes']])\n                                            .then(async response =>{\n                                                this.zip_codes = Object.values(response.json.geo).reduce((out, geo) => {\n                                                    if (geo.byZip) {\n                                                        out = [...out, ...geo.byZip['zip_codes']]\n                                                    }\n                                                    return out\n                                                }, [])\n                                                return await this.props.falcor.get(['fema','disasters','byZip',this.zip_codes,this.state.user_hazards, [{\n                                                    from: 1996,\n                                                    to: 2019\n                                                }], attributes])\n                                            })\n                                    }\n                                    return response\n                                })\n                            return response\n                    })\n                }\n                return response\n            })\n\n    }\n\n    statesDataDropDown(){\n        let geo = get(this.props.falcorCache,['geo'],{})\n        let states_data = []\n        Object.keys(geo).filter(d => d !== '$__path')\n            .forEach(d=>{\n                if(fips.includes(d)){\n                    states_data.push({\n                        fips:d,\n                        name:get(geo,[d,'name'],'')\n                    })\n                }\n\n            })\n        states_data = states_data.sort((a,b) => a.name.localeCompare(b.name))\n        return states_data\n\n    }\n\n    countiesDataDropDown(){\n        if(this.state.state_fips){\n            let counties_data = []\n            let counties = get(this.props.falcorCache,['geo'],{})\n            Object.keys(counties).forEach(c=>{\n                if(c.slice(0,2) === this.state.state_fips && c.length ===5){\n                    counties_data.push({\n                        value : c,\n                        name: counties[c].name || ''\n                    })\n                }\n            })\n            counties_data = counties_data.sort((a,b) => a.name.localeCompare(b.name))\n            return counties_data\n        }\n    }\n\n    processData(){\n        let data = []\n        let data_set = this.state.geolevel !== 'zip_codes' ?\n            this.state.dataset === 'fema' ? `fema.disasters` : this.state.dataset :\n            this.state.dataset === 'fema' ? `fema.disasters.byZip` : this.state.dataset\n        let user_hazards = this.state.user_hazards\n        let falcorCache = this.props.falcorCache\n        let fetchedData = get(falcorCache,data_set,null)\n        let attributes = this.state.dataset === 'severeWeather' ? ['total_damage', 'num_episodes','property_damage','crop_damage','num_episodes','num_events'] :\n            this.state.dataset === 'fema' ? [\n                'ia_ihp_amount',\n                'ia_ihp_count',\n                'pa_project_amount',\n                'pa_federal_share_obligated',\n                'hma_prop_actual_amount_paid',\n                'hma_prop_number_of_properties',\n                'hma_proj_project_amount',\n                'hma_proj_project_amount_count',\n                'hma_proj_federal_share_obligated',\n                'hma_proj_federal_share_obligated_count',\n                'total_cost',\n                \"total_cost_summaries\",\n                \"total_disasters\"\n            ] : ['total_loss','loan_total','num_loans']\n        if(data_set !== 'sba' && hazards.length && fetchedData){\n            Object.keys(fetchedData).filter(d => d!== '$__path').forEach(geo =>{\n                user_hazards.forEach(hazard =>{\n                    let d = get(fetchedData[geo],[hazard],{})\n                    Object.keys(d).filter(d => d!=='$__path').forEach(item =>{\n\n                        data.push(\n                            attributes.reduce((a,c) =>{\n                                a[c]= this.state.dataset === 'fema' ? get(fetchedData[geo], [hazard, item,c,'value'], 0):get(fetchedData[geo], [hazard, item,c], 0)\n                                a['name'] = get(falcorCache,['geo',geo,'name'],'')\n                                a['year'] = item\n                                a['hazard'] = hazards.reduce((a,c) =>{\n                                    if(c.value === hazard){\n                                        a = c.name\n                                    }\n                                    return a\n                                },'')\n                                return a\n                            },{})\n                        )\n                    })\n                })\n            })\n        }\n        if(data_set === 'sba' && hazards.length && fetchedData){\n            let fetchedData = this.state.geolevel === 'zip_codes' ?\n                get(falcorCache,[data_set,'all','byZip'],{}) :\n                get(falcorCache,[data_set,'all'],{})\n            Object.keys(fetchedData).filter(d => d!== '$__path').forEach(geo =>{\n                user_hazards.forEach(hazard =>{\n                    let d = get(fetchedData[geo],[hazard],{})\n                    Object.keys(d).filter(d => d!=='$__path').forEach(item =>{\n                        data.push(\n                            attributes.reduce((a,c) =>{\n                                a[c]= get(fetchedData[geo], [hazard, item,c], 0)\n                                a['name'] = get(falcorCache,['geo',geo,'name'],geo)\n                                a['year'] = item\n                                a['hazard'] = hazards.reduce((a,c) =>{\n                                    if(c.value === hazard){\n                                        a = c.name\n                                    }\n                                    return a\n                                },'')\n                                return a\n                            },{})\n                        )\n                    })\n                })\n            })\n\n        }\n        console.log('data',data)\n        return data\n    }\n\n    downloadHandler(e){\n        e.preventDefault();\n        this.setState({\n            loading: true\n        })\n    }\n\n\n    render(){\n        let states_data = this.statesDataDropDown() || []\n        let counties_data = this.countiesDataDropDown() || []\n        return (\n            <form>\n                <div className=\"w-full max-w-full \">\n                    <div className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\n                        <div>\n                            <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                                Data Download\n                            </h3>\n                        </div>\n                        <div className=\"mt-6 grid grid-cols-1 row-gap-6 col-gap-4 sm:grid-cols-6\">\n                            <div className=\"sm:col-span-6\">\n                                <label htmlFor=\"username\" className=\"block text-sm font-medium leading-5 text-gray-700 flex-initial\">\n                                    Data Set <span className=\"text-red-600\">*</span>\n                                </label>\n                                <div className=\"mt-1 flex rounded-md shadow-sm\">\n                                    <select\n                                        className=\"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                                        onChange={this.onChange.bind(this)}\n                                        value = {this.state.dataset}\n                                        id = 'dataset'\n                                        required\n                                    >\n                                        {this.state.datasets.map((item,i) =>{\n                                            return(\n                                                <option key={i} value={item.value}>{item.name}</option>\n                                            )\n                                        })}\n                                    </select>\n                                </div>\n                                <div className=\"text-red-600 text-xs\">{this.state.dataset === \"\" ? 'Please select a dataset' :null}</div>\n                            </div>\n                            <div className=\"sm:col-span-6\">\n                                <label htmlFor=\"username\" className=\"block text-sm font-medium leading-5 text-gray-700 flex-initial\">\n                                    State <span className=\"text-red-600\">*</span>\n                                </label>\n                                <div className=\"mt-1 flex rounded-md shadow-sm\">\n                                    <select\n                                        className=\"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                                        onChange={this.onChange.bind(this)}\n                                        value = {this.state.state_fips}\n                                        id = 'state_fips'\n                                    >\n                                        <option key={0} value={\"\"}>---Select a state---</option>\n                                        {states_data.length > 0 ?states_data.map((item,i) =>{\n                                            return(\n                                                <option key={i+1} value={item.fips}>{item.name}</option>\n                                            )\n                                        })\n                                        :\n                                            null\n                                        }\n                                    </select>\n                                </div>\n                                <div className=\"text-red-600 text-xs\">{!this.state.state_fips  ? 'Please select a State' :null}</div>\n                            </div>\n                            <div className=\"sm:col-span-6\">\n                                <label htmlFor=\"county\" className=\"block text-sm font-medium leading-5 text-gray-700\">\n                                    County\n                                </label>\n                                <div className=\"mt-1 flex rounded-md shadow-sm\">\n                                    <select\n                                        className=\"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                                        onChange={this.onChange.bind(this)}\n                                        value = {this.state.county}\n                                        id = 'county'\n                                    >\n                                        <option key={0} value={\"\"}>---Select all Counties---</option>\n                                        {counties_data.length > 0 ? counties_data.map((item, i) => {\n                                                return (\n                                                    <option key={i + 1} value={item.value}>{item.name}</option>\n                                                )\n                                            })\n                                            :\n                                            null\n                                        }\n                                    </select>\n                                </div>\n                            </div>\n                            <div className=\"sm:col-span-6\">\n                                <label htmlFor=\"username\" className=\"block text-sm font-medium leading-5 text-gray-700 flex-initial\">\n                                    Geo Level\n                                    <span className=\"text-red-600\">\n                                        *\n                                    </span>\n                                    <span style={{'float': 'right'}}\n                                    >\n                                        <PromptModal prompt={'Please select a county in order to enable the sub geolevels'} id={'geo_level'}/>\n                                        </span>\n\n                                </label>\n                                <div className=\"mt-1 flex rounded-md shadow-sm\">\n                                    <select\n                                        className=\"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                                        onChange={this.onChange.bind(this)}\n                                        value = {this.state.geolevel}\n                                        id = 'geolevel'\n                                        placeholder=\"Geo Level\"\n                                        required\n                                    >\n                                        <option key={0} value={\"\"}>---Select a GeoLevel---</option>\n                                        {this.state.dataset === 'severeWeather' ? this.state.geolevels.map((item,i) =>{\n                                                return(\n                                                    <option key={i+1} value={item.value}\n                                                            disabled={item.value ==='counties' && this.state.county === \"\" ? false : this.state.county === \"\" }>\n                                                        {item.name}\n                                                    </option>\n                                                )\n                                            })\n                                            :\n                                            this.state.geolevels_sba.map((item,i) =>{\n                                                return(\n                                                    <option key={i+1}\n                                                            value={item.value}\n                                                            disabled={item.value ==='counties' && this.state.county === \"\" ? false : this.state.county === \"\" }\n                                                    >{item.name}</option>\n                                                )\n                                            })\n                                        }\n                                    </select>\n                                </div>\n                                <div className=\"text-red-600 text-xs\">{this.state.geolevel === \"\" ? 'Please select a Geolevel' :null}</div>\n                            </div>\n                            <div className=\"sm:col-span-6\">\n                                <div className=\"mt-6 \">\n                                    <fieldset>\n                                        <div className=\"relative flex items-start\">\n                                            <div className=\"flex items-center h-5\">\n                                                <legend className=\"text-base font-medium text-gray-900 flex-initial\">\n                                                    Hazards <span className=\"text-red-600\">*</span>\n                                                </legend>\n                                                <input id=\"hazard\" type=\"checkbox\"\n                                                       name={'all'}\n                                                       value={'all'}\n                                                       className=\"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out ml-2\"\n                                                       onChange={this.onChange.bind(this)}\n                                                       checked={this.state.hazard.get(...hazards.map(d => d.value === true ? d.value: false))}\n                                                ></input>\n                                            </div>\n                                            <div className=\"ml-3 text-sm leading-5\">\n                                                <label htmlFor=\"comments\"\n                                                       className=\"font-medium text-gray-700\">Select All</label>\n                                            </div>\n                                        </div>\n                                        <div className=\"grid grid-cols-3 gap-4\">\n                                            {hazards.map((hazard,i) =>{\n                                                return (\n                                                    <div className=\"mt-4\" key={i}>\n                                                        <div className=\"relative flex items-start\">\n                                                            <div className=\"flex items-center h-5\">\n                                                                <input id=\"hazard\" type=\"checkbox\"\n                                                                       name={hazard.name}\n                                                                       value={hazard.value}\n                                                                       className=\"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out\"\n                                                                       onChange={this.onChange.bind(this)}\n                                                                       checked={this.state.hazard.get(hazard.value)}\n                                                                ></input>\n                                                            </div>\n                                                            <div className=\"ml-3 text-sm leading-5\">\n                                                                <label htmlFor=\"comments\"\n                                                                       className=\"font-medium text-gray-700\">{hazard.name}</label>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                )\n                                            }) }\n                                        </div>\n                                        <div className=\"text-red-600 text-xs\">{this.state.hazard.size === 0 ? 'Please select at least one hazard' :null}</div>\n                                    </fieldset>\n                                </div>\n                            </div>\n                            <div className=\"sm:col-span-2\">\n                                <div className=\"flex justify\">\n                                    {_.isEmpty(this.state.data)  || this.state.changed ?\n                                        <button\n                                            onClick={this.downloadHandler.bind(this)}\n                                            className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\">\n\n                                            <svg className=\"fill-current w-4 h-4 mr-2\"\n                                                 xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                                                <path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/>\n                                            </svg>\n                                            <span>Export Data</span>\n                                        </button>\n                                        :\n                                        <button\n                                            className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\">\n                                            <svg className=\"fill-current w-4 h-4 mr-2\"\n                                                 xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                                                <path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/>\n                                            </svg>\n                                            <CSVLink\n                                                style={{width:'100%'}}\n                                                data={this.state.data}\n                                                filename={`${this.state.state_fips && this.state.state_fips !== \"\"  ? this.props.geoData[this.state.state_fips].name : ''}_${this.state.dataset}_${this.state.county!== \"\" ? this.props.geoData[this.state.county].name : 'all'}_${this.state.geolevel}.csv`}>\n                                                Download CSV\n                                            </CSVLink>\n                                        </button>\n                                    }\n\n                                </div>\n                                {this.state.loading ? 'Fetching Data ...' : null}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        )\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        falcorCache: state.falcorCache,\n        activeStateGeoid : state.stormEvents.activeStateGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', []),\n        geoData : get(state.falcorCache,'geo',{})\n    };\n};\nconst mapDispatchToProps = {\n    setActiveStateGeoid\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxFalcor(DataDownload))\n","import React from 'react'\nimport DataDownload from \"./DataDownload\";\n\nconst MetaData = () => (\n<div className=\"bg-gray-50 mt-0 min-h-screen\">\n  <div className=\"relative max-w-screen-xl mx-auto py-12 px-4 sm:px-6 lg:px-8\">\n    <svg\n      className=\"absolute top-0 left-full transform -translate-x-1/2 -translate-y-3/4 lg:left-auto lg:right-full lg:translate-x-2/3 lg:translate-y-1/4\"\n      width={404}\n      height={784}\n      fill=\"none\"\n      viewBox=\"0 0 404 784\"\n    >\n      <defs>\n        <pattern\n          id=\"8b1b5f72-e944-4457-af67-0c6d15a99f38\"\n          x={0}\n          y={0}\n          width={20}\n          height={20}\n          patternUnits=\"userSpaceOnUse\"\n        >\n          <rect\n            x={0}\n            y={0}\n            width={4}\n            height={4}\n            className=\"text-gray-200\"\n            fill=\"currentColor\"\n          />\n        </pattern>\n      </defs>\n      <rect\n        width={404}\n        height={784}\n        fill=\"url(#8b1b5f72-e944-4457-af67-0c6d15a99f38)\"\n      />\n    </svg>\n    <div className=\"relative lg:grid lg:grid-cols-3 lg:col-gap-8\">\n      <div className=\"lg:col-span-1\">\n        <h3 className=\"text-3xl leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10\">\n          Download Data for Planning.\n        </h3>\n        <div className=\"mt-10 sm:grid sm:grid-cols-2 sm:col-gap-8 sm:row-gap-10 lg:col-span-2 lg:mt-0\">\n        <div className=\"mt-10 sm:mt-0 col-span-2\">\n          \n          <div className=\"mt-5\">\n            <h4 className=\"text-lg leading-6 font-medium text-gray-900\">\n             \n            </h4>\n            <p className=\"mt-2 text-base leading-6 text-gray-500\">\n             This page allows users to download natural hazard loss data at a variety of geographies including the NCEI Storm Events Data, the SBA Disaster Loans, and the FEMA Public Assistance and Individual Assistance datasets. Below you can find instructions for setting specific parameters to download the data that works for you.\n\n            </p>\n          </div>\n        </div>\n        <div className='col-span-2'>\n          {/*<div className=\"flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white\">\n            <svg\n              className=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9\"\n              />\n            </svg>\n          </div>*/}\n          <div className=\"mt-5\">\n            <h4 className=\"text-lg leading-6 font-medium text-gray-900\">\n              National Data\n            </h4>\n            <p className=\"mt-2 text-base leading-6 text-gray-500\">\n              To download national data simply the select the dataset of your choice and leave all filters unselected. Click export data.\n            </p>\n          </div>\n        </div>\n        <div className=\"mt-10 sm:mt-0 col-span-2\">\n          {/*<div className=\"flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white\">\n            <svg\n              className=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3\"\n              />\n            </svg>\n          </div>*/}\n          <div className=\"mt-5 col\">\n            <h4 className=\"text-lg leading-6 font-medium text-gray-900\">\n              County Data\n            </h4>\n            <p className=\"mt-2 text-base leading-6 text-gray-500\">\n              You can pull any of the three datasets for any state or county the United States and Puerto Rico by using the State filter to select the state or county. You can also select the state first and the use the County filter to select all of the counties or a single county within that state.\n\n            </p>\n          </div>\n        </div>\n        <div className=\"mt-10 sm:mt-0 col-span-2\">\n          {/*<div className=\"flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white\">\n            <svg\n              className=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M13 10V3L4 14h7v7l9-11h-7z\"\n              />\n            </svg>\n          </div>*/}\n          <div className=\"mt-5\">\n            <h4 className=\"text-lg leading-6 font-medium text-gray-900\">\n              Local Data\n            </h4>\n            <p className=\"mt-2 text-base leading-6 text-gray-500\">\n              To download data at the municipal or census tract level, you must first select a county, then use the Geo Level filter to select Municipality or Tracts\n            </p>\n          </div>\n        </div>\n        </div>\n      </div>\n      <div className=\"mt-10 sm:grid sm:grid-cols-2 sm:col-gap-8 sm:row-gap-10 lg:col-span-2 lg:mt-0\">\n        \n        <div className=\"w-full sm:grid sm:col-gap-8 sm:row-gap-10 lg:col-span-2 lg:mt-0\">\n          <DataDownload/>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n\n)\n\nexport default {\n  path: \"/downloads\",\n  exact: true,\n  auth: false,\n  name: 'Download Data',\n  mainNav: true,\n  component: MetaData,\n  layoutSettings: {\n    fixed: true,\n    headerBar: false,\n    nav: 'top'\n  }\n}\n\n","const D3_CATEGORY20 = [\n    \"#1f77b4\",\n    \"#aec7e8\",\n    \"#ff7f0e\",\n    \"#ffbb78\",\n    \"#2ca02c\",\n    \"#98df8a\",\n    \"#d62728\",\n    \"#ff9896\",\n    \"#9467bd\",\n    \"#c5b0d5\",\n    \"#8c564b\",\n    \"#c49c94\",\n    \"#e377c2\",\n    \"#f7b6d2\",\n    \"#7f7f7f\",\n    \"#c7c7c7\",\n    \"#bcbd22\",\n    \"#dbdb8d\",\n    \"#17becf\",\n    \"#9edae5\"\n];\nconst D3_CATEGORY20_RANGE = [\n    [\n        \"#219bde\",\n        \"#1f78b7\",\n        \"#205f95\",\n        \"#1d4278\",\n        \"#17416b\"],\n    [\n        \"#aec7e8\",\n        \"#9eb6d7\",\n        \"#899ebf\",\n        \"#7d8aa5\",\n        \"#747f9b\",\n        \"#546073\",\n    ],\n    [\n        \"#ff7f0e\",\n        \"#d66b0e\",\n        \"#af3c27\",\n        \"#91490d\",\n        \"#632d08\",\n    ],\n    [\n        \"#ffbb78\",\n        \"#d79871\",\n        \"#aa7b55\",\n        \"#896345\",\n        \"#6e4c37\",\n    ],\n    [\n        \"#27ca27\",\n        \"#2dab2d\",\n        \"#227622\",\n        \"#1d631d\",\n        \"#164b16\"\n    ],\n    [\n        \"#98df8a\",\n        \"#6cad5e\",\n        \"#6da25f\",\n        \"#537c49\",\n        \"#425d3d\",\n    ],\n    [\n        \"#d62728\",\n        \"#b62627\",\n        \"#991f20\",\n        \"#691515\",\n        \"#491010\",\n    ],\n    [\n        \"#ff9896\",\n        \"#d3716f\",\n        \"#9c5654\",\n        \"#784442\",\n        \"#5c3130\",\n    ],\n    [\n        \"#9467bd\",\n        \"#6c4992\",\n        \"#5a3d75\",\n        \"#442e5d\",\n        \"#3e314b\",\n    ],\n    [\n        \"#c5b0d5\",\n        \"#9a8aaa\",\n        \"#7f708f\",\n        \"#574f65\",\n        \"#433e4b\",\n    ],\n    [\n        \"#8c564b\",\n        \"#703c38\",\n        \"#5d302e\",\n        \"#482424\",\n        \"#361b1b\",\n    ],\n    [\n        \"#c49c94\",\n        \"#a9827a\",\n        \"#8d6867\",\n        \"#745151\",\n        \"#53403d\",\n    ],\n    [\n        \"#e377c2\",\n        \"#bd5f9d\",\n        \"#a05283\",\n        \"#874473\",\n        \"#703853\",\n    ],\n    [\n        \"#f7b6d2\",\n        \"#de9eb9\",\n        \"#bf849b\",\n        \"#a27584\",\n        \"#7a545f\",\n    ],\n    [\n        \"#7f7f7f\",\n        \"#656565\",\n        \"#505050\",\n        \"#414141\",\n        \"#313131\",\n    ],\n    [\n        \"#c7c7c7\",\n        \"#aaaaaa\",\n        \"#969696\",\n        \"#7f7f7f\",\n        \"#6f6f6f\",\n    ],\n    [\n        \"#bcbd22\",\n        \"#a3a422\",\n        \"#88891e\",\n        \"#74751e\",\n        \"#494a13\",\n    ],\n    [\n        \"#dbdb8d\",\n        \"#bbbb76\",\n        \"#a2a262\",\n        \"#7f7f4e\",\n        \"#616137\",\n    ],\n    [\n        \"#17becf\",\n        \"#179eaf\",\n        \"#167a8a\",\n        \"#136d7c\",\n        \"#0e5360\",\n    ],\n    [\n        \"#9edae5\",\n        \"#7fb6c1\",\n        \"#648c96\",\n        \"#4f6e76\",\n        \"#41565d\",\n    ]\n];\nconst hazardcolors = {\n    'wind': D3_CATEGORY20[4],\n    'wind_range': D3_CATEGORY20_RANGE[4],\n    'wildfire': D3_CATEGORY20[17],\n    'wildfire_range': D3_CATEGORY20_RANGE[17],\n    'tsunami': D3_CATEGORY20[9],\n    'tsunami_range': D3_CATEGORY20_RANGE[9],\n    'tornado': D3_CATEGORY20[3],\n    'tornado_range': D3_CATEGORY20_RANGE[3],\n    'riverine': D3_CATEGORY20[19],\n    'riverine_range': D3_CATEGORY20_RANGE[19],\n    'lightning': D3_CATEGORY20[5],\n    'lightning_range': D3_CATEGORY20_RANGE[5],\n    'landslide': D3_CATEGORY20[6],\n    'landslide_range': D3_CATEGORY20_RANGE[6],\n    'icestorm': D3_CATEGORY20[7],\n    'icestorm_range': D3_CATEGORY20_RANGE[7],\n    'hurricane': D3_CATEGORY20[8],\n    'hurricane_range': D3_CATEGORY20_RANGE[8],\n    'heatwave': D3_CATEGORY20[2],\n    'heatwave_range': D3_CATEGORY20_RANGE[2],\n    'hail': D3_CATEGORY20[0],\n    'hail_range': D3_CATEGORY20_RANGE[0],\n    'earthquake': D3_CATEGORY20[11],\n    'earthquake_range': D3_CATEGORY20_RANGE[11],\n    'drought': D3_CATEGORY20[12],\n    'drought_range': D3_CATEGORY20_RANGE[12],\n    'avalanche': D3_CATEGORY20[13],\n    'avalanche_range': D3_CATEGORY20_RANGE[13],\n    'coldwave': D3_CATEGORY20[14],\n    'coldwave_range': D3_CATEGORY20_RANGE[14],\n    'winterweat': D3_CATEGORY20[15],\n    'winterweat_range': D3_CATEGORY20_RANGE[15],\n    'volcano': D3_CATEGORY20[16],\n    'volcano_range': D3_CATEGORY20_RANGE[16],\n    'coastal': D3_CATEGORY20[1],\n    'coastal_range': D3_CATEGORY20_RANGE[1]\n};\n\nexport default hazardcolors","import { FlyToInterpolator } from 'react-map-gl';\nimport { fitBounds } from 'viewport-mercator-project';\nimport GeojsonExtent from '@mapbox/geojson-extent';\nimport { easeCubic } from 'd3-ease'\n\nconst DEFAULT_VIEWPORT_SETTINGS = {\n    latitude: 42.924,\n    longitude: -75.54,\n    zoom: 6,\n    maxZoom: 16,\n    pitch: 0,\n    bearing: 0,\n    width: 500,\n    height: 500,\n    altitude: 1.5\n}\n\nexport default (args={}) => {\n\tlet viewport = {\n\t\t\t...DEFAULT_VIEWPORT_SETTINGS,\n\t\t\t...args\n\t\t},\n\t\tonChangeHandlers = [],\n\t\ttransitioning = false;\n\n\tfunction Viewport() {\n\t\tif (transitioning) {\n            viewport.transitionInterpolator = new FlyToInterpolator();\n            viewport.transitionEasing = easeCubic;\n            viewport.transitionDuration = 2000;\n\t\t\ttransitioning = false;\n\t\t}\n\t\telse {\n\t\t\tdelete viewport.transitionInterpolator;\n\t\t\tdelete viewport.transitionDuration;\n\t\t\tdelete viewport.transitionEasing;\n\t\t}\n\t\treturn viewport;\n\t}\n\tViewport.onViewportChange = update => {\n\t\tviewport = {\n\t\t\t...viewport,\n\t\t\t...update\n\t\t}\n\t\tif (onChangeHandlers.length) {\n\t\t\tconst update = { viewport: Viewport() };\n\t\t\tonChangeHandlers.forEach(({ owner, func }) => func.call(owner, update));\n\t\t}\n\t\treturn Viewport;\n\t}\n\tViewport.register = (owner, func) => {\n\t\tViewport.unregister(owner);\n\t\tonChangeHandlers.push({ owner, func });\n\t\treturn Viewport;\n\t}\n\tViewport.unregister = _owner => {\n\t\tonChangeHandlers = onChangeHandlers.filter(({ owner }) => owner !== _owner);\n\t\treturn Viewport;\n\t}\n\tViewport.fitBounds = (bounds, options={ padding: 50 }) => {\n\t\tif (!bounds.length) return Viewport;\n\t\ttransitioning = true;\n\t\tconst opts = {\n\t\t\twidth: viewport.width,\n\t\t\theight: viewport.height,\n\t\t\tbounds,\n\t\t\t...options\n\t\t}\n\t\treturn Viewport.onViewportChange(fitBounds(opts));\n\t}\n\tViewport.fitGeojson = (geojson, options={ padding: 50 }) =>\n\t\tViewport.fitBounds(getGeojsonBounds(geojson), options);\n\n\treturn Viewport;\n}\n\nconst getGeojsonBounds = geojson => {\n\tif (!geojson) return [];\n\tif (!geojson.type) return [];\n\tif ((geojson.type === \"FeatureCollection\") &&\n\t\t!geojson.features.length) {\n\t\treturn [];\n\t}\n\tif (geojson) {\n\t\tconst extent = GeojsonExtent(geojson);\n\t\tif (!extent) return [];\n\t\treturn [extent.slice(0, 2), extent.slice(2)];\n\t}\n\treturn [];\n}\n","let topojson = require('topojson')\nconst HOST = '/';\n\n\nclass geoApi {\n    constructor () {\n        this.data = {}\n    }\n\n    getData (geoid) {\n        return new Promise((resolve, reject) => {\n            if(this.data[geoid]) {\n                resolve(this.data[geoid]);\n            }\n            else {\n                fetch(`${HOST}geo/counties-10m.json`, {\n                    headers: { 'Content-Type':'application/json' }\n                })\n                    .then(response => {\n                        return response.json()\n                    })\n                    .then(geoResponse => {\n                        let geo = {\n                            type: \"Topology\",\n                            bbox : geoResponse['bbox'],\n                            transform : geoResponse['transform'],\n                            objects : {\n                                counties: {type:\"GeometryCollection\",geometries:geoResponse.objects.counties.geometries.filter( d => d.id.slice(0,2) === geoid)},\n                                states:{type:\"GeometryCollection\",geometries: geoResponse.objects.states.geometries.filter(d => d.id === geoid)},\n                                nation:geoResponse.objects.nation\n                            },\n                            arcs: geoResponse[\"arcs\"]\n                        }\n                        this.data[geoid] = geo\n                        resolve(geo);\n                    })\n            }\n\n        })\n    }\n\n    getChildGeo (geoid, type) {\n        return new Promise((resolve, reject) => {\n            this.getData(geoid).then(topology  => {\n                resolve(\n                    topojson.feature(topology, topology.objects[type])\n                )\n            })\n        })\n    }\n\n    getGeoMesh (geoid, type) {\n        return new Promise((resolve, reject) => {\n            this.getData(geoid).then(topology  => {\n                resolve({\n                    type: \"FeatureCollection\",\n                    features: [{\n                        type: \"Feature\",\n                        properties: { geoid },\n                        geometry: topojson.mesh(topology, topology.objects[type])\n                    }]\n                })\n            })\n        })\n    }\n\n    getGeoMerge (geoid, type) {\n        return new Promise((resolve, reject) => {\n            this.getData(geoid).then(topology  => {\n                resolve({\n                    type: \"FeatureCollection\",\n                    features: [{\n                        type: \"Feature\",\n                        properties: { geoid },\n                        geometry: topojson.merge(topology, topology.objects[type].geometries)\n                    }]\n                })\n            })\n        })\n    }\n\n\n}\n\nexport default geoApi\n","// import { host } from '../constants'\nimport { Model } from 'falcor'\nimport ModelRoot from \"falcor/lib/ModelRoot\"\nimport HttpDataSource from 'falcor-http-datasource'\n\nimport throttle from \"lodash.throttle\"\n\nlet local_host = \"https://graph.availabs.org/\"\nconst host = process.env.NODE_ENV === 'production' ? 'https://graph.availabs.org/' : local_host;\nexport const API_HOST = host;\n\nclass CustomSource extends HttpDataSource {\n onBeforeRequest (config) {\n   if (window.localStorage) {\n     const userToken = window.localStorage.getItem('userToken');\n     if (userToken) {\n       config.headers['Authorization'] = userToken;\n     }\n   }\n }\n}\n\nfunction cacheFromStorage () {\n  let falcorCache = {}\n  if (localStorage && localStorage.getItem('falcorCache') && process.env.NODE_ENV === 'production') {\n    falcorCache = JSON.parse(localStorage.getItem('falcorCache'))\n  }\n  return falcorCache;\n}\n\nexport const chunker = (values, request, options = {}) => {\n const {\n   placeholder = \"replace_me\",\n   chunkSize = 50\n } = options;\n\n const requests = [];\n\n for (let n = 0; n < values.length; n += chunkSize) {\n   requests.push(request.map(r => r === placeholder ? values.slice(n, n + chunkSize) : r));\n }\n return requests.length ? requests : [request];\n}\nexport const falcorChunker = (values, request, options = {}) => {\n const {\n   falcor = falcorGraph,\n   ...rest\n } = options;\n return chunker(values, request, rest)\n   .reduce((a, c) => a.then(() => falcor.get(c)), Promise.resolve());\n}\n\nconst getArgs = args =>\n args.reduce((a, c) => {\n   if (Array.isArray(c)) {\n     a[0].push(c);\n   }\n   else {\n     a[1] = c;\n   }\n   return a;\n }, [[], {}])\n\nexport const falcorChunkerNice = (...args) => {\n const [requests, options] = getArgs(args);\n const {\n   index = null,\n   placeholder = \"replace_me\",\n   ...rest\n } = options;\n\n return requests.reduce((a, c) => {\n   return a.then(() => {\n     let values = [], found = false;\n\n     const replace = c.map((r, i) => {\n       if (Array.isArray(r) && r.length && !found && (index === null || index === i)) {\n         found = true;\n         values = r;\n         return placeholder;\n       }\n       return r;\n     })\n     return falcorChunker(values, replace, { ...rest, placeholder });\n   })\n }, Promise.resolve())\n}\n\n // let counter = 0;\n class MyModelRoot extends ModelRoot {\n   constructor(...args) {\n     super(...args);\n\n     this.listeners = {};\n\n     this.onChange = this.onChange.bind(this);\n     this.listen = this.listen.bind(this);\n     this.unlisten = this.unlisten.bind(this);\n   }\n   onChange() {\n     for (const listener in this.listeners) {\n       this.listeners[listener]();\n     }\n   }\n   listen(listener, func) {\n     this.listeners[listener] = throttle(func.bind(listener), 50);\n   }\n   unlisten(listener) {\n     delete this.listeners[listener];\n   }\n }\n class MyModel extends Model {\n   constructor(...args) {\n     super(...args);\n\n     this.modelRoot = this._root;\n\n     this.onChange = this.onChange.bind(this);\n     this.remove = this.remove.bind(this);\n     this.chunk = this.chunk.bind(this);\n   }\n   onChange(listener, func) {\n     this.modelRoot.listen(listener, func);\n   }\n   remove(listener) {\n     this.modelRoot.unlisten(listener);\n   }\n   chunk(...args) {\n     const [requests, options] = getArgs(args);\n     return falcorChunkerNice(...requests, { falcor: this, ...options });\n   }\n }\n\nexport const falcorGraph = (() =>\n  new MyModel({\n    _root: new MyModelRoot(),\n    source: new CustomSource(host + 'graph', {\n      crossDomain: true,\n      withCredentials: false,\n      timeout: 120000\n    }),\n    errorSelector: (path, error) => {\n      console.log('errorSelector', path, error);\n      return error;\n    },\n    cache: cacheFromStorage()\n  }).batch()\n)()\n","const fips = [\"01\", \"02\", \"04\", \"05\", \"06\", \"08\", \"09\", \"10\", \"11\", \"12\", \"13\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"40\", \"41\", \"42\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \"50\", \"51\", \"53\", \"54\", \"55\", \"56\"]\nlet result = {}\nlet mesh = {\"mesh\":{}}\nlet merge = {\"merge\":{}}\nfips.forEach((fip) =>{\n    result[fip] = {\n        \"counties\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        },\n        \"cousubs\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        },\n        \"tracts\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        },\n        \"zips\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        }\n    }\n    mesh[\"mesh\"][fip] = {\n        \"counties\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        },\n        \"cousubs\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        },\n        \"tracts\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        },\n        \"zips\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        }\n    }\n    merge[\"merge\"][fip] = {\n        \"counties\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        },\n        \"cousubs\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        },\n        \"tracts\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        },\n        \"zips\": {\n            \"type\": \"FeatureCollection\",\n            \"features\": []\n        }\n    }\n})\nlet InitialStateJSON = {}\nInitialStateJSON = {...result,...merge,...mesh}\nexport default InitialStateJSON\n\n","import geoApi from 'store/data-adapters/geoApi'\nimport {falcorGraph} from \"../falcorGraphNew\";\nimport get from \"lodash.get\";\nimport InitialStateJSON from '../geoInitialState'\nlet geoData = new geoApi();\n// ------------------------------------\n// Constants\n// ------------------------------------\nconst SET_CHILD_GEO = 'SET_CHILD_GEO';\nconst GET_ALL_FIPS = 'GET_ALL_FIPS';\n\n// ------------------------------------\n// Actions\n// ------------------------------------\nfunction setChildGeo(geoid, data, geoType, mesh = false, merge = false) {\n    return {\n        type: SET_CHILD_GEO,\n        geoid,\n        data,\n        geoType,\n        mesh,\n        merge\n    };\n}\n\nexport const getChildGeo = (geoid, geoType='counties') => {\n    return dispatch => {\n        return geoData.getChildGeo(geoid, geoType).then(data => {\n            dispatch(setChildGeo(geoid, data, geoType))\n        })\n    }\n};\nexport const getGeoMesh = (geoid, geoType='counties') => {\n    return dispatch => {\n        return geoData.getGeoMesh(geoid, geoType)\n            .then(data => {\n                dispatch(setChildGeo(geoid, data, geoType, true));\n            })\n    }\n};\nexport const getGeoMerge = (geoid, geoType='counties') => {\n    return dispatch => {\n        return geoData.getGeoMerge(geoid, geoType)\n            .then(data => {\n                dispatch(setChildGeo(geoid, data, geoType, false, true));\n            })\n    }\n};\n\nexport const getAllGeo = (parentGeo) => {\n    return (dispatch) => {\n        falcorGraph.get([\"geo\", parentGeo, 'municipalities'])\n            .then(response => {\n                if (get(response, `json.geo.${parentGeo}.municipalities`, []).length){\n                    return falcorGraph.get(\n                        ['geo',\n                            [parentGeo, ...get(response, `json.geo.${parentGeo}.municipalities`, [])],\n                            ['name']],\n                    )\n                }\n                return null\n            })\n            .then(response => response ? dispatch(callGetAllGeo(get(response, `json.geo`, {}), parentGeo)) : null)\n    }\n}\n\nfunction callGetAllGeo(allGeo, parentGeo) {\n    return {\n        type: GET_ALL_FIPS,\n        allGeo,\n        parentGeo\n    }\n}\n\n// export const actions = {\n//   getHazardTotal\n// };\n\n\n// -------------------------------------\n// Initial State\n// -------------------------------------\nlet initialState = InitialStateJSON\n// ------------------------------------\n// Action Handlers\n// ------------------------------------\nconst ACTION_HANDLERS = {\n    [SET_CHILD_GEO]: (state = initialState, action) => {\n        let newState = Object.assign({}, state);\n        if (action.merge) {\n            let value = Object.assign({}, state[\"merge\"][action.geoid], {[action.geoType]: action.data})\n            newState[\"merge\"][action.geoid] = value\n        } else if (action.mesh) {\n            let value = Object.assign({}, state[\"mesh\"][action.geoid], {[action.geoType]: action.data})\n            newState[\"mesh\"][action.geoid] = value\n        } else {\n            // add childGeo to previous state geoid\n            let value = Object.assign({}, state[action.geoid], {[action.geoType]: action.data})\n            // then set the geoid equal to the expanded value\n            newState[action.geoid] = value\n        }\n        return newState;\n    },\n    [GET_ALL_FIPS]: (state = initialState, action) => {\n        let newState = Object.assign({}, state);\n        newState['allGeos'] = Object.keys(action.allGeo)\n            .filter(key => key !== '$__path')\n            .reduce((a, c) => {\n                a[c] = action.allGeo[c].name;\n                return a;\n            }, {})\n        newState['geoRelations'] ?\n            newState['geoRelations'][action.parentGeo] =  Object.keys(action.allGeo).filter(f => f !== action.parentGeo):\n            newState['geoRelations'] = {[action.parentGeo]: Object.keys(action.allGeo).filter(f => f !== action.parentGeo)};\n        return newState\n    }\n};\n\nexport default function riskIndexReducer(state = initialState, action) {\n    const handler = ACTION_HANDLERS[action.type];\n    return handler ? handler(state, action) : state;\n}\n","import React from \"react\"\n\nimport * as d3 from \"d3-selection\"\nimport * as d3color from \"d3-color\"\nimport * as d3geo from \"d3-geo\"\n// import * as d3projection from \"d3-geo-projection\";\n\nimport Viewport from \"./Viewport\"\n\nlet UNIQUE_IDs = 0;\nconst getUniqueId = () => `svg-map-${ ++UNIQUE_IDs }`;\n\nclass SvgMap extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst projection = d3geo.geoMercator()\n\t\tthis.state = {\n\t\t\tprojection,\n\t\t\tpath: d3geo.geoPath(projection),\n\t\t\tviewport: this.props.viewport(),\n\t\t\tid: props.id || getUniqueId()\n\t\t}\n\n\t\tthis._onViewportChange = this._onViewportChange.bind(this);\n\t\tthis._resize = this._resize.bind(this);\n\t}\n\n  \tcomponentDidMount() {\n    \twindow.addEventListener('resize', this._resize);\n\t\tthis.props.viewport.register(this, this.setState);\n    \tthis._resize();\n  \t}\n  \tcomponentWillUnmount() {\n    \twindow.removeEventListener('resize', this._resize);\n    \tthis.props.viewport.unregister(this);\n  \t}\n\n  \t_resize() {\n    \tlet style = window.getComputedStyle(document.getElementById(this.state.id), null);\n    \tthis._onViewportChange({\n      \t\theight: parseInt(style.getPropertyValue('height'), 10),\n      \t\twidth: parseInt(style.getPropertyValue('width'), 10)\n    \t})\n  \t}\n  \t_onViewportChange(viewport) {\n  \t\tthis.props.viewport.onViewportChange(viewport);\n  \t}\n\n\tgetPath(data, {\n\t\t\tstroked=true,\n\t\t\tlineWidthMinPixels=1,\n\t\t\tfilled=false,\n\t\t\tgetLineColor=[0, 0, 0, 255],\n\t\t\tgetFillColor=[225, 225, 225, 255],\n\t\t\tonHover=null,\n\t\t\tonClick=null,\n\t\t\tkey=null\n\t\t}, i) {\n\t\tlet lineColor = getLineColor,\n\t\t\tfillColor = getFillColor;\n\t\tif (typeof getLineColor === \"function\") {\n\t\t\tlineColor = getLineColor(data);\n\t\t}\n\t\tif (typeof getFillColor === \"function\") {\n\t\t\tfillColor = getFillColor(data);\n\t\t}\n\t\tlineColor = d3color.color(\n\t\t\t`rgba(\n\t\t\t\t${lineColor[0]},\n\t\t\t\t${lineColor[1]},\n\t\t\t\t${lineColor[2]},\n\t\t\t\t${lineColor[3]/255}\n\t\t\t)`\n\t\t)\n\t\tfillColor = d3color.color(\n\t\t\t`rgba(\n\t\t\t\t${fillColor[0]},\n\t\t\t\t${fillColor[1]},\n\t\t\t\t${fillColor[2]},\n\t\t\t\t${fillColor[3]/255}\n\t\t\t)`\n\t\t)\n\t\tlet onMouseOver = null,\n\t\t\tonMouseOut = null;\n\t\tif (onHover) {\n\t\t\tonMouseOver = e => {\n\t\t\t\tconst x = e.clientX,\n\t\t\t\t\ty = e.clientY;\n\t\t\t\tonHover({ object: data, x, y });\n\t\t\t}\n\t\t\tonMouseOut = e => {\n\t\t\t\tconst x = e.clientX,\n\t\t\t\t\ty = e.clientY;\n\t\t\t\tonHover({ object: null, x, y });\n\t\t\t}\n\t\t}\n\t\treturn <path d={ this.state.path(data) }\n\t\t\t\t\tkey={ key ? key(data) : i }\n\t\t\t\t\tonMouseOver={ onMouseOver }\n\t\t\t\t\tonMouseOut={ onMouseOut }\n\t\t\t\t\tstroke={ stroked ? lineColor.toString() : \"none\" }\n\t\t\t\t\tfill={ filled ? fillColor.toString() : \"none\" }\n\t\t\t\t\tstrokeWidth={ lineWidthMinPixels }/>\n\t}\n\tgetLayerPaths({ data, key, ...rest }) {\n\t\tif (data && data.type === \"FeatureCollection\") {\n\t\t\treturn data.features.map((feature, i) =>\n\t\t\t\tthis.getPath(feature, rest, i)\n\t\t\t);\n\t\t}\n\t\treturn this.getPath(data, rest);\n\t}\n\tcomponentDidUpdate() {\n\t\t// const {\n\t\t// \tpath\n\t\t// } = this.state;\n\t\t// const {\n\t\t// \tlayers\n\t\t// } = this.props;\n\t\t// let groups = d3.select(\"#\" + this.state.id + \"-svg\")\n\t\t// \t.selectAll(\"g\")\n\t\t// \t.data(layers, layer => layer.id);\n\n\t\t// groups.enter()\n\t\t// \t.append(\"g\")\n\t\t// \t.merge(groups)\n\t\t// \t\t.attr(\"id\", layer => layer.id)\n\t\t// \t\t.attr(\"pointer-events\", layer => layer.pickable ? \"auto\" : \"none\")\n\t\t// \t\t.each(SvgLayer(path));\n\t\t// groups.exit()\n\t\t// \t.remove();\n\t}\n\trender() {\n\t\tconst {\n\t\t\tprojection,\n\t\t\tpath,\n\t\t\tviewport\n\t\t} = this.state;\n\t\tconst {\n\t\t\twidth,\n\t\t\theight,\n\t\t\tlongitude,\n\t\t\tlatitude\n\t\t} = viewport;\n\t\tconst {\n\t\t\tbounds,\n\t\t\tpadding,\n\n\t\t\tlayers,\n\t\t\tcontrols\n\t\t} = this.props;\n\n\t\tif (!bounds && layers.length && isValidGeojson(layers[0].data)) {\n\t\t\tprojection.fitExtent(\n\t\t\t\t[[padding, padding], [width-padding, height-padding]],\n\t\t\t\tlayers[0].data\n\t\t\t)\n\t\t}\n\t\telse if (bounds) {\n\t\t\tprojection.fitExtent(\n\t\t\t\t[[padding, padding], [width-padding, height-padding]],\n\t\t\t\tbounds\n\t\t\t)\n\t\t}\n\t\telse {\n\t\t\tprojection.center([longitude, latitude])\n\t\t\t\t.translate([width * 0.5, height * 0.5])\n\t\t\t\t.scale(4000)\n\t\t}\n\n\t\treturn (\n      \t\t<div id={ this.state.id } style={ { width: '100%', height: `${ this.props.height }px`, position: \"relative\" } }>\n\t\t\t\t<div style={ { position: \"absolute\", height: 'fit-content' } }>\n\t\t\t\t\t<span style={{float: 'right'}}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontrols.map((control, i) => <MapControl key={ i } { ...control }/>)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ this.props.hoverData ?\n\t\t\t\t\t\t\t<MapHover { ...this.props.hoverData }/>\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t</span>\n\t\t\t\t\t<svg id={ this.state.id + \"-svg\" }\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\twidth: `${ width }px`,\n\t\t\t\t\t\t\theight: `${ height }px`,\n\t\t\t\t\t\t} }>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlayers.map(layer =>\n\t\t\t\t\t\t\t\t<g id={ layer.id } key={ layer.id }>\n\t\t\t\t\t\t\t\t\t{ this.getLayerPaths(layer) }\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\nSvgMap.defaultProps = {\n\tlayers: [],\n\tcontrols: [],\n\tpadding: 20,\n\theight: 800,\n\tviewport: Viewport(),\n\thoverData: null\n}\n\nconst SvgLayer = path => {\n\tfunction svgLayer({ data, key, ...rest }, i) {\n\t\tlet paths = d3.select(this)\n\t\t\t.selectAll(\"path\")\n\t\t\t.data((data.type === \"FeatureCollection\") ? data.features : [data],\n\t\t\t\t(d, i) => key ? key(d) : i)\n\n\t\tpaths.enter()\n\t\t\t.append(\"path\")\n\t\t\t.merge(paths)\n\t\t\t\t.attr(\"d\", path)\n\t\t\t\t.attr(\"fill\", svgLayer.getFill.bind(null, rest))\n\t\t\t\t.attr(\"stroke\", svgLayer.getStroke.bind(null, rest))\n\t\t\t\t.on(\"mousemove\", svgLayer.mousemove.bind(null, rest))\n\t\t\t\t.on(\"mouseout\", svgLayer.mouseout.bind(null, rest));\n\t\tpaths.exit()\n\t\t\t.remove();\n\t}\n\tsvgLayer.mousemove = ({ onHover }, data) => {\n\t\tif (!onHover) return null;\n\t\tconst event = d3.event,\n\t\t\tx = event.clientX,\n\t\t\ty = event.clientY;\n\t\tonHover({ object: data, x, y })\n\t}\n\tsvgLayer.mouseout = ({ onHover }, data) => {\n\t\tif (!onHover) return null;\n\t\tconst event = d3.event,\n\t\t\tx = event.clientX,\n\t\t\ty = event.clientY;\n\t\tonHover({ object: null, x, y })\n\t}\n\tsvgLayer.getFill = ({ filled=false, getFillColor=[225, 225, 225, 255] }, data) => {\n\t\tif (!filled) return \"none\";\n\n\t\tlet fillColor = getFillColor;\n\t\tif (typeof getFillColor === \"function\") {\n\t\t\tfillColor = getFillColor(data);\n\t\t}\n\t\tfillColor = d3color.color(\n\t\t\t`rgba(\n\t\t\t\t${ fillColor[0] },\n\t\t\t\t${ fillColor[1] },\n\t\t\t\t${ fillColor[2] },\n\t\t\t\t${ fillColor[3] / 255 }\n\t\t\t)`\n\t\t)\n\t\treturn fillColor.toString();\n\t}\n\tsvgLayer.getStroke = ({ stroked=true, getLineColor=[0, 0, 0, 255] }, data) => {\n\t\tif (!stroked) return \"none\";\n\n\t\tlet lineColor = getLineColor;\n\t\tif (typeof getLineColor === \"function\") {\n\t\t\tlineColor = getLineColor(data);\n\t\t}\n\t\tlineColor = d3color.color(\n\t\t\t`rgba(\n\t\t\t\t${ lineColor[0] },\n\t\t\t\t${ lineColor[1] },\n\t\t\t\t${ lineColor[2] },\n\t\t\t\t${ lineColor[3] / 255 }\n\t\t\t)`\n\t\t)\n\t\treturn lineColor.toString();\n\t}\n\treturn svgLayer;\n}\n\nconst MapHover = ({ rows, x, y }) => {\n\tif (!rows || (rows.length === 0)) return null;\n\tconst hasHeader = (rows[0].length === 1) && (rows.length > 1),\n\t\tbodyData = rows.slice(hasHeader ? 1 : 0);\n\treturn (\n\t\t<div className=\"map-test-table-div\"\n\t\t\tstyle={ {\n\t\t\t\tposition: \"fixed\",\n\t\t\t\tleft: x + 10,\n\t\t\t\ttop: y + 10 } }>\n\t\t\t<table className=\"map-test-table\">\n\t\t\t\t{ hasHeader ?\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th colSpan=\"2\">\n\t\t\t\t\t\t\t\t{ rows[0] }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t<tbody>\n\t\t\t\t\t{\n\t\t\t\t\t\tbodyData.map((row, i) =>\n\t\t\t\t\t\t\t<tr key={ i }>\n\t\t\t\t\t\t\t\t{ row.map((d, ii) => <td key={ i + \"-\" + ii }>{ d }</td>) }\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t)\n}\n\nconst MapControl = ({ comp, pos=\"top-left\" }) => {\n\treturn (\n\t\t<div className={ \"map-test-table-div \" + pos }>\n\t\t\t{ comp }\n\t\t</div>\n\t)\n}\n\nconst isValidGeojson = geojson => {\n\tif (!geojson) return false\n\tif (geojson.type == \"FeatureCollection\") {\n\t\treturn geojson.features.length;\n\t}\n\telse if (geojson.type == \"Feature\") {\n\t\treturn geojson.geometry.coordinates.length;\n\t}\n\telse if (\"coordinates\" in geojson) {\n\t\treturn geojson.coordinates.length;\n\t}\n\treturn false;\n}\n\nexport default SvgMap","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"@availabs/avl-components/dist/redux-falcor\";\nimport Viewport from \"components/mapping/escmap/Viewport\"\nimport {getChildGeo, getGeoMerge, getGeoMesh} from 'store/modules/geo'\nimport get from \"lodash.get\";\nimport SvgMap from \"components/mapping/escmap/SvgMap.react\"\nimport Search from \"../../home/Search\";\n\nclass SvgMapComponent extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {}\n\n    }\n    componentDidMount() {\n        Viewport().register(this, this.setState);\n    }\n\n    componentWillMount() {\n        const activeGeoid = this.props.activeCountyGeoid ?\n            this.props.activeCountyGeoid\n            :window.location.pathname.split(\"/\")[2]\n        this.props.getChildGeo(activeGeoid.slice(0, 2), 'counties');\n        this.props.getGeoMesh(activeGeoid.slice(0, 2), 'counties');\n        this.props.getGeoMerge(activeGeoid.slice(0, 2), 'counties');\n    }\n\n    componentWillUpdate(nextProps,nextState,s){\n        if(this.props.activeCountyGeoid !== nextProps.activeCountyGeoid){\n            const activeGeoid = nextProps.activeCountyGeoid\n            this.props.getChildGeo(activeGeoid.slice(0, 2), 'counties');\n            this.props.getGeoMesh(activeGeoid.slice(0, 2), 'counties');\n            this.props.getGeoMerge(activeGeoid.slice(0, 2), 'counties');\n        }\n\n    }\n\n    componentWillReceiveProps(newProps){\n        const activeGeoid = window.location.pathname.split(\"/\")[2]\n        let graph = get(this.props.falcorCache,['geo'],null)\n        const {geoLevel} = newProps;\n        let geojson = null,\n            counties = null,\n            activeCounty = null;\n        if (newProps.geo[\"merge\"] && newProps.geo[\"merge\"][activeGeoid.slice(0, 2)]['counties'].features.length > 0 && graph) {\n            switch (geoLevel) {\n                case 'counties':\n                    geojson = newProps.geo['merge'][activeGeoid.slice(0, 2)]['counties']\n                    counties = newProps.geo['mesh'][activeGeoid.slice(0, 2)]['counties']\n                    activeCounty = newProps.geo[activeGeoid.slice(0, 2)]['counties'].features\n                        .reduce((a, c) => (c.id === activeGeoid) ? c : a, null);\n                    break;\n                default:\n                    break;\n            }\n            if (!geojson) return;\n            Viewport().fitGeojson(geojson)\n            this.setState({bounds: geojson, countiesGeojson: counties, activeCountyGeoJson: activeCounty,\n                county_name:get(graph,[activeGeoid,'name'],''),\n                state_abbr:get(graph,[activeGeoid.slice(0,2),'state_abbr'],'')})\n        }\n\n    }\n    componentDidUpdate(newProps,prevState,s) {\n        if (this.props.activeCountyGeoid !== newProps.activeCountyGeoid) {\n            const activeGeoid = this.props.activeCountyGeoid\n            let graph = get(this.props.falcorCache,['geo'],null)\n            const {geoLevel} = this.props;\n            let geojson = null,\n                counties = null,\n                activeCounty = null;\n            if (this.props.geo[\"merge\"] && this.props.geo[\"merge\"][activeGeoid.slice(0, 2)]['counties'].features.length > 0 && graph) {\n\n                switch (geoLevel) {\n                    case 'counties':\n                        geojson = this.props.geo['merge'][activeGeoid.slice(0, 2)]['counties']\n                        counties = this.props.geo['mesh'][activeGeoid.slice(0, 2)]['counties']\n                        activeCounty = this.props.geo[activeGeoid.slice(0, 2)]['counties'].features\n                            .reduce((a, c) => (c.id === activeGeoid) ? c : a, null);\n                        break;\n                    default:\n                        break;\n                }\n                if (!geojson) return;\n                Viewport().fitGeojson(geojson)\n                this.setState({bounds: geojson, countiesGeojson: counties, activeCountyGeoJson: activeCounty,\n                    county_name:get(graph,[activeGeoid,'name'],''),\n                    state_abbr:get(graph,[activeGeoid.slice(0,2),'state_abbr'],'')})\n            }\n\n        }\n    }\n\n\n    generateLayers() {\n        //console.log('state',this.state)\n        return [\n            { id: 'state-layer-filled',\n                data: this.state.bounds,\n                filled: true,\n                getFillColor: [242, 239, 233, 255]\n            },\n            { id: 'counties-layer-stroked',\n                data: this.state.countiesGeojson,\n                stroked: true,\n            },\n            { id: 'active-county-layer-filled',\n                data: this.state.activeCountyGeoJson,\n                filled: true,\n                getFillColor: [68, 142, 239, 255]\n            }\n        ];\n\n    }\n\n    render(){\n        return(\n            <div>\n                <div className=\"max-w-lg h-1/2\">\n                    <Search page={'overview'}/>\n                </div>\n                <div style={{height: '100%', width: '100%'}} className=\"flex justify-center\">\n                    <div className=\"text-5xl font-bold px-6 py-14 whitespace-no-wrap\">{`${this.state.county_name || ''},\n                        ${this.state.state_abbr || ''}`\n                    }</div>\n                    <SvgMap layers={ this.generateLayers() }\n                            height={ this.props.height }\n                            viewport={ Viewport() }\n                            padding={ 5 }\n                            bounds={ this.props.bounds} />\n                </div>\n            </div>\n\n            )\n\n    }\n\n}\n\nSvgMapComponent.defaultProps = {\n    yearDelta: 0,\n    height: 200,\n    dragPan: true,\n    scrollZoom: true,\n    dragRotate: true,\n    padding: null,\n    mapLegendLocation: \"bottom-left\",\n    mapLegendSize: \"large\",\n    mapControlsLocation: \"top-left\",\n    hazard: null,\n    allTime: false,\n    geoLevel: 'counties',\n}\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        activeCountyGeoid : state.overview.activeCountyGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', []),\n        geo: state.geo\n    };\n};\n\nconst mapDispatchToProps = {\n    getChildGeo,\n    getGeoMesh,\n    getGeoMerge\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxFalcor(SvgMapComponent))\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport get from 'lodash.get';\nimport StackedBarGraph from \"./components/StackedBarGraph\";\nimport {setActiveStateGeoid} from \"store/modules/stormEvents\";\nimport {Header} from \"@availabs/avl-components\";\nimport SvgMapComponent from \"./layers/SvgMapComponent\";\nimport SevereWeatherCountyTable from \"./components/SevereWeatherCountyTable\";\nimport FemaDisastersTotalCountyTable from \"./components/FemaDisastersTotalCountyTable\";\nimport FemaDisastersIndividualCountyTable from \"./components/FemaDisastersIndividualCountyTable\";\nimport {reduxFalcor}  from \"utils/redux-falcor-new\";\nimport {withRouter} from \"react-router-dom\";\nlet years = []\nconst start_year = 1996\nconst end_year = 2019\nfor (let i = start_year; i <= end_year; i++) {\n    years.push(i)\n}\nconst FEMA_COUNTY_ATTRIBUTES =[\n    'ia_ihp_amount',\n    'ia_ihp_count',\n    'pa_project_amount',\n    'pa_federal_share_obligated',\n    'hma_prop_actual_amount_paid',\n    'hma_prop_number_of_properties',\n    'hma_proj_project_amount',\n    'hma_proj_project_amount_count',\n    'hma_proj_federal_share_obligated',\n    'hma_proj_federal_share_obligated_count',\n    'total_cost',\n    \"total_disasters\"\n];\n\nconst hazards = [\n    {value:'wind', name:'Wind'},\n    {value:'wildfire', name:'Wildfire'},\n    {value:'tsunami', name:'Tsunami/Seiche'},\n    {value:'tornado', name:'Tornado'},\n    {value:'riverine', name:'Flooding'},\n    {value:'lightning', name:'Lightning'},\n    {value:'landslide', name:'Landslide'},\n    {value:'icestorm', name:'Ice Storm'},\n    {value:'hurricane', name:'Hurricane'},\n    {value:'heatwave', name:'Heat Wave'},\n    {value:'hail', name:'Hail'},\n    {value:'earthquake', name:'Earthquake'},\n    {value:'drought', name:'Drought'},\n    {value:'avalanche', name:'Avalanche'},\n    {value:'coldwave', name:'Coldwave'},\n    {value:'winterweat', name:'Snow Storm'},\n    {value:'volcano', name:'Volcano'},\n    {value:'coastal', name:'Coastal Hazards'}\n]\nclass Overview extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n\n        };\n    }\n\n    componentDidMount(){\n        this.fetchFalcorDeps()\n    }\n\n    componentDidUpdate(prevProps,prevState,s){\n\n        if(this.props.activeCountyGeoid !== prevProps.activeCountyGeoid){\n            this.fetchFalcorDeps()\n        }\n    }\n\n    async fetchFalcorDeps() {\n\n        let geoid = this.props.activeCountyGeoid ? this.props.activeCountyGeoid :this.props.match.params.geoid\n        this.hazards = hazards.reduce((a,c) =>{\n            a.push(c.value)\n            return a\n        },[])\n        const name = await this.props.falcor.get(['geo',geoid,['name']])\n        const severeWeather = await this.props.falcor.get([\"severeWeather\",geoid,this.hazards,years,['total_damage']])\n        const sba = await this.props.falcor.get([\"sba\",\"all\",geoid,this.hazards,years,['total_loss']])\n        const fema_disasters_combined = await this.props.falcor.get([\"fema\",\"disasters\",geoid,this.hazards,years,FEMA_COUNTY_ATTRIBUTES])\n        const fema_disasters_length = await this.props.falcor.get(['fema','disasters','length'])\n        let length = get(fema_disasters_length,['json','fema','disasters','length'])\n        let  fema_disasters_by_id = {}\n        if(length){\n            fema_disasters_by_id = await this.props.falcor.get(['fema','disasters','byIndex',[{from:0,to:length-1}],[\"name\",\n                \"year\",\n                \"geoid\",\n                \"total_cost\",\n                \"disaster_type\"]])\n        }\n        return {\n            name,\n            severeWeather,\n            sba,\n            fema_disasters_combined,\n            fema_disasters_by_id\n\n        }\n    }\n\n    processSevereWeatherData(){\n        let geoid = this.props.activeCountyGeoid ? this.props.activeCountyGeoid :this.props.match.params.geoid\n        let graph = get(this.props.falcorCache,['severeWeather',geoid],null)\n        let graph_data = []\n        if(graph) {\n            graph_data = years.reduce((a, year) => {\n                a.push({\n                    'year': year.toString(),\n                })\n                return a\n            }, [])\n            Object.keys(graph).forEach(hazard => {\n                graph_data.forEach(item => {\n                    item[hazard] = get(graph, [hazard,item.year,'total_damage'], 0)\n                })\n            })\n        }\n        return graph_data\n    }\n\n    processSbaData(){\n        let geoid = this.props.activeCountyGeoid ? this.props.activeCountyGeoid :this.props.match.params.geoid\n        let graph = get(this.props.falcorCache,['sba','all',geoid],null)\n        let graph_data = []\n        if(graph) {\n            graph_data = years.reduce((a, year) => {\n                a.push({\n                    'year': year.toString(),\n                })\n                return a\n            }, [])\n            Object.keys(graph).forEach(hazard => {\n                graph_data.forEach(item => {\n                    item[hazard] = get(graph, [hazard,item.year,'total_loss'], 0)\n                })\n            })\n        }\n        return graph_data\n\n    }\n\n    processFemaDisasterData(){\n        let geoid = this.props.activeCountyGeoid ? this.props.activeCountyGeoid :this.props.match.params.geoid\n        let graph = get(this.props.falcorCache,['fema','disasters','byId'],null)\n        let graph_data = []\n        if(graph) {\n            graph_data = years.reduce((a, year) => {\n                a.push({\n                    'year': year.toString(),\n                })\n                return a\n            }, [])\n            graph_data.forEach(d =>{\n                hazards.forEach(hazard =>{\n                    d[hazard.value] = 0\n                })\n            })\n            graph_data.forEach(d =>{\n                hazards.forEach(hazard =>{\n                    Object.values(graph).filter(d => d !== '$__path').forEach(item =>{\n                        if(item.year && get(item,['year','value'],0).toString() === d.year\n                            && get(item,['disaster_type','value'],'') === hazard.value\n                            && get(item,['geoid','value'],'') === geoid\n                        ){\n                            d[hazard.value] += parseFloat(get(item,['total_cost','value'],0))\n                        }\n                    })\n                })\n            })\n        }\n        return graph_data\n    }\n\n    processFemaDisastersCombined(){\n        let geoid = this.props.activeCountyGeoid ? this.props.activeCountyGeoid : this.props.match.params.geoid\n        let graph = get(this.props.falcorCache,['fema','disasters',geoid],null)\n        let graph_data = []\n        if(graph) {\n            graph_data = years.reduce((a, year) => {\n                a.push({\n                    'year': year.toString(),\n                })\n                return a\n            }, [])\n            Object.keys(graph).forEach(hazard => {\n                graph_data.forEach(item => {\n                    item[hazard] = get(graph, [hazard,item.year,'total_cost','value'], 0)\n                })\n            })\n        }\n        return graph_data\n    }\n\n    render() {\n\n        return (\n            <div className='w-full h-full overflow-y-scroll overflow-x-hidden'>\n                <div className=\"max-w-7xl mx-auto\">\n                    <div className=\"flex-initial\">\n                        <SvgMapComponent/>\n                    </div>\n                    <div>\n                        <Header title = {'Severe Weather Data'}/>\n                        <StackedBarGraph\n                            data={this.processSevereWeatherData()}\n                        />\n                    </div>\n                    <div>\n                        <SevereWeatherCountyTable\n                            geoid ={this.props.activeCountyGeoid ? this.props.activeCountyGeoid : this.props.match.params.geoid}\n                        />\n                    </div>\n                    <div>\n                        <Header title = {'SBA ALL Data'}/>\n                        <StackedBarGraph\n                            data={this.processSbaData()}\n                        />\n                    </div>\n                    \n                    <div>\n                        <Header title = {'Fema Disaster Summaries'}/>\n                        <StackedBarGraph\n                            data={this.processFemaDisastersCombined()}\n                        />\n                    </div>\n                    <div>\n                        <div className=\"text-sm\">Disaster Declaration Summaries V2 & Fema Web Disaster Summaries</div>\n                        <FemaDisastersTotalCountyTable\n                            geoid ={this.props.activeCountyGeoid ? this.props.activeCountyGeoid :this.props.match.params.geoid}\n                        />\n                    </div>\n                    <div>\n                        <div className=\"text-sm\">Individual and Households Programs Valid Registration</div>\n                        <FemaDisastersIndividualCountyTable\n                            type={'ia'}\n                            geoid ={this.props.activeCountyGeoid ? this.props.activeCountyGeoid :this.props.match.params.geoid}\n                        />\n                    </div>\n                    <div>\n                        <div className=\"text-sm\">Public Assistance Applicants V1 & Public Assistance Funded Projects Details V1</div>\n                        <FemaDisastersIndividualCountyTable\n                            type={'pa'}\n                            geoid ={this.props.activeCountyGeoid ? this.props.activeCountyGeoid :this.props.match.params.geoid}\n                        />\n                    </div>\n                    <div>\n                        <div className=\"text-sm\">Hazard Mitigation Assistance Projects V2</div>\n                        <FemaDisastersIndividualCountyTable\n                            type={'hmgp_projects'}\n                            geoid ={this.props.activeCountyGeoid ? this.props.activeCountyGeoid :this.props.match.params.geoid}\n                        />\n                    </div>\n                    <div>\n                        <div className=\"text-sm\">Hazard Mitigation Assistance Mitigated Properties V2</div>\n                        <FemaDisastersIndividualCountyTable\n                            type={'hmgp_properties'}\n                            geoid ={this.props.activeCountyGeoid ? this.props.activeCountyGeoid :this.props.match.params.geoid}\n                        />\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n}\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        falcorCache: state.falcorCache,\n        activeCountyGeoid : state.overview.activeCountyGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', [])\n    };\n};\nconst mapDispatchToProps = {\n    setActiveStateGeoid\n};\nconst ConnectedComponent = connect(mapStateToProps, mapDispatchToProps)(reduxFalcor(Overview))\n\nexport default [\n\n    {\n        path: '/overview/:geoid',\n        mainNav: false,\n        exact: true,\n        name: 'Overview',\n        layoutSettings: {\n            fixed: true,\n            maxWidth: '',//'max-w-7xl',\n            headerBar: false,\n            nav: 'top',\n            theme: 'flat',\n        },\n        component: withRouter(ConnectedComponent)\n    },\n\n\n]\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport {Table} from '@availabs/avl-components'\nimport {fnum} from \"utils/sheldusUtils\";\n\n\nvar _ = require('lodash')\nconst hazards = [\n    {value:'wind', name:'Wind'},\n    {value:'wildfire', name:'Wildfire'},\n    {value:'tsunami', name:'Tsunami/Seiche'},\n    {value:'tornado', name:'Tornado'},\n    {value:'riverine', name:'Flooding'},\n    {value:'lightning', name:'Lightning'},\n    {value:'landslide', name:'Landslide'},\n    {value:'icestorm', name:'Ice Storm'},\n    {value:'hurricane', name:'Hurricane'},\n    {value:'heatwave', name:'Heat Wave'},\n    {value:'hail', name:'Hail'},\n    {value:'earthquake', name:'Earthquake'},\n    {value:'drought', name:'Drought'},\n    {value:'avalanche', name:'Avalanche'},\n    {value:'coldwave', name:'Coldwave'},\n    {value:'winterweat', name:'Snow Storm'},\n    {value:'volcano', name:'Volcano'},\n    {value:'coastal', name:'Coastal Hazards'}\n]\nclass SevereWeatherCountyTable extends React.Component{\n\n    componentDidUpdate(prevProps,prevState,s){\n        if(this.props.geoid !== prevProps.geoid){\n            this.fetchFalcorDeps()\n        }\n    }\n\n    async fetchFalcorDeps(){\n        const cousubs = await this.props.falcor.get(['geo',this.props.geoid,'cousubs'])\n        this.cousubs = get(cousubs,['json','geo',this.props.geoid,'cousubs'],null)\n        this.hazards = hazards.reduce((a,c) =>{\n            a.push(c.value)\n            return a\n        },[])\n\n        if(this.cousubs){\n            this.cousubs.unshift(this.props.geoid)\n            const cousub_names = await this.props.falcor.get(['geo',this.cousubs,'name'])\n            const severeWeather = await this.props.falcor.get([\"severeWeather\",this.cousubs,this.hazards,'allTime',['total_damage']])\n            return {cousubs,cousub_names,severeWeather}\n        }\n    }\n\n\n    processCousubData(){\n        let graph = get(this.props.falcorCache,['geo'],null)\n        let severeWeather = get(this.props.falcorCache,['severeWeather'],null)\n        let data = []\n        let wide_total = []\n        if(graph && severeWeather){\n            Object.keys(severeWeather).forEach(geo =>{\n                if(this.cousubs.includes(geo)){\n                    let value = hazards.reduce((a,c) =>{\n                        a[c.value] = get(severeWeather,[geo,c.value,'allTime','total_damage'],0)\n                        return a\n                    },{})\n                    data.push({\n                        'cousub' : get(graph,[geo,'name'],''),\n                        ...value\n                    })\n                    }\n\n            })\n            let total = hazards.reduce((a,c) =>{\n                a[c.value] = _.sumBy(data,c.value)\n                return a\n            },{})\n            wide_total.push({\n                'cousub' : 'Total Damage',\n                ...total\n            })\n            let result = [...data,...wide_total]\n            hazards.forEach((hazard =>{\n                result = result.sort((a,b) => b[hazard.value] - a[hazard.value])\n            }))\n            return result\n\n        }\n\n    }\n\n    processTableCols(){\n        let tableCols = [{\n            'Header' : (<div style={{fontSize: 12}}>Area</div>),\n            'accessor':'cousub',\n            disableFilters: true\n        }]\n        hazards.forEach(hazard =>{\n            tableCols.push({\n                'Header' : (<div style={{fontSize: 12}}>{hazard.name}</div>),\n                'accessor':hazard.value,\n                disableFilters: true,\n                Cell: (data) => {\n                    //let d = data.data.sort((a,b) => b[hazard.value] - a[hazard.value])\n                    return <div style = {{ textAlign: 'right'}}>{fnum(get(data,`row.values.${hazard.value}`, ''))}</div>\n                }\n            })\n        })\n        return tableCols\n    }\n\n    render(){\n        let tableCols = this.processTableCols()\n        let data = this.processCousubData() ? this.processCousubData() : []\n        data.forEach(d =>{\n            if(d.cousub === 'Total Damage'){\n                tableCols = tableCols.filter(col => d[col.accessor] !== 0)\n            }\n        })\n        return (\n            <div>\n                {\n                    tableCols ?\n                        <Table\n                            defaultPageSize={50}\n                            showPagination={true}\n                            columns={tableCols}\n                            data = {data}\n                            initialPageSize={50}\n                            minRows={data.length}\n                            sortBy={'wind'}\n                            sortOrder={'desc'}\n                        />\n                        : null\n                }\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        falcorCache: state.falcorCache,\n        activeAmount:state.femaDisasterDeclarations.activeAmount,\n        activeStateGeoid : state.stormEvents.activeStateGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', [])\n    };\n};\nconst mapDispatchToProps = {\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(reduxFalcor(SevereWeatherCountyTable))\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport {Table} from '@availabs/avl-components'\nimport {fnum} from \"utils/sheldusUtils\";\n\n\nconst DISASTER_DECLARATION_BY_GEOID_ATTRIBUTES = [\n    'geoid',\n    'name',\n    'declaration_date',\n    'disaster_number',\n    'id'\n];\n\nconst  tableCols = [\n    {\n        'Header' : 'Name',\n        'accessor': 'name',\n        disableFilters: true\n    },\n    {\n        'Header' : 'Disaster Number',\n        'accessor': 'disaster_number',\n        disableFilters: true\n    },\n    {\n        'Header' : 'Declaration Date',\n        'accessor': 'declaration_date',\n        Cell : (data) =>{\n            return <div style = {{ textAlign: 'center'}}>{new Date(get(data,`row.values.declaration_date`, '')).toLocaleDateString('en-US')}</div>\n        },\n        disableFilters: true\n    },\n    {\n        'Header' : 'IHP TOTAL',\n        'accessor': 'ihp_total',\n        Cell : (data) =>{\n            return <div style = {{ textAlign: 'center'}}>{fnum(get(data,`row.values.ihp_total`, ''))}</div>\n        },\n        disableFilters: true\n    },\n    {\n        'Header' : 'PA TOTAL',\n        'accessor': 'pa_total',\n        Cell : (data) =>{\n            return <div style = {{ textAlign: 'center'}}>{fnum(get(data,`row.values.pa_total`, ''))}</div>\n        },\n        disableFilters: true\n    },\n    {\n        'Header' : 'HMGP TOTAL',\n        'accessor': 'hmgp_total',\n        Cell : (data) =>{\n            return <div style = {{ textAlign: 'center'}}>{fnum(get(data,`row.values.hmgp_total`, ''))}</div>\n        },\n        disableFilters: true\n    },\n    {\n        'Header' : 'TOTAL COST',\n        'accessor': 'total_cost',\n        Cell : (data) =>{\n            return <div style = {{ textAlign: 'center'}}>{fnum(get(data,`row.values.total_cost`, ''))}</div>\n        },\n        disableFilters: true\n    },\n]\nclass FemaDisastersTotalCountyTable extends React.Component{\n\n    async fetchFalcorDeps(){\n        const data  = await this.props.falcor.get(['fema','disasters','declarations','byGeoid',this.props.geoid,'length'])\n        let length = get(data ,['json','fema','disasters','declarations','byGeoid',this.props.geoid,'length'],null)\n        let ihpData = {},\n            paData = {},\n            hmgpData = {}\n        if(length){\n            let to = length > 1 ? length-1 : 1\n            const dataByIndex = await this.props.falcor.get(['fema','disasters','declarations','byGeoid',this.props.geoid,'byIndex',[{from:0,to:to}],DISASTER_DECLARATION_BY_GEOID_ATTRIBUTES])\n            const geoName = await this.props.falcor.get(['geo',this.props.geoid,'name'])\n            let graph = get(dataByIndex,['json','fema','disasters','declarations','byGeoid',this.props.geoid,'byIndex'],null)\n            if(graph){\n                let disaster_numbers = Object.keys(graph).filter(d => d!=='$__path').reduce((a,c) =>{\n                    a.push(graph[c].disaster_number)\n                    return a\n                },[])\n                ihpData = await this.props.falcor.get(['fema','disasters','declarations','byGeoid',this.props.geoid,'byId',disaster_numbers,'ihp_total'])\n                paData = await this.props.falcor.get(['fema','disasters','declarations','byGeoid',this.props.geoid,'byId',disaster_numbers,'pa_total'])\n                hmgpData = await this.props.falcor.get(['fema','disasters','declarations','byGeoid',this.props.geoid,'byId',disaster_numbers,'hmgp_total'])\n            }\n\n            return {dataByIndex,geoName,ihpData,paData,hmgpData}\n        }\n        else { return Promise.resolve({}) }\n    }\n\n    processData(){\n        let graph = get(this.props.falcorCache,['fema','disasters','declarations','byGeoid','byId'],null)\n        let geo = get(this.props.falcorCache,['geo',this.props.geoid,'name'])\n        let totals = get(this.props.falcorCache,['fema','disasters','declarations','byGeoid',this.props.geoid,'byId'],null)\n        let data = []\n        if(graph && totals && !Object.keys(totals).map(d => totals[d].ihp_total && totals[d].pa_total && totals[d].hmgp_total).includes(undefined)){\n            Object.keys(graph).forEach(id =>{\n                if(graph[id].geoid.value === this.props.geoid){\n                    let value  = DISASTER_DECLARATION_BY_GEOID_ATTRIBUTES.reduce((a,c) =>{\n                        if(c === 'geoid'){\n                            a[c] = geo\n                        }else{\n                            a['ihp_total'] = get(totals,[graph[id]['disaster_number'].value,'ihp_total','value'],0)\n                            a['pa_total'] = get(totals,[graph[id]['disaster_number'].value,'pa_total','value'],0)\n                            a['hmgp_total'] = get(totals,[graph[id]['disaster_number'].value,'hmgp_total','value'],0)\n                            a[c] = get(graph,[id,c,'value'],'')\n                        }\n\n                        return a\n                    },{})\n                    data.push(value)\n                }\n\n            })\n            data.map(d =>{\n                d['total_cost'] = d['ihp_total'] + d['pa_total'] + d['hmgp_total']\n                return d\n            })\n        }\n        return data\n    }\n\n    render(){\n        let data = this.processData()\n        return(\n            <div>\n                {\n                    data.length > 0 ?\n                        <Table\n                            defaultPageSize={10}\n                            showPagination={true}\n                            columns={tableCols}\n                            data = {data}\n                            initialPageSize={10}\n                            minRows={data.length}\n                            sortBy={'total_cost'}\n                            sortOrder={'asc'}\n                        />\n                        : <div>Loading...</div>\n                }\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        falcorCache: state.falcorCache,\n        activeAmount:state.femaDisasterDeclarations.activeAmount,\n        activeStateGeoid : state.stormEvents.activeStateGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', [])\n    };\n};\nconst mapDispatchToProps = {\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(reduxFalcor(FemaDisastersTotalCountyTable))\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport {Table} from '@availabs/avl-components'\nimport {fnum} from \"utils/sheldusUtils\";\n//import {falcorGraph} from \"store/falcorGraphNew\"\n\nconst DISASTER_DECLARATION_BY_GEOID_ATTRIBUTES = [\n    'geoid',\n    'name',\n    'declaration_date',\n    'disaster_number',\n    'id'\n];\nconst  ia_tableCols = [\n    {\n        'Header' : 'City,Zip',\n        'accessor': 'city_zip',\n        disableFilters: false\n    },\n    {\n        'Header' : 'Disaster Number',\n        'accessor': 'disaster_number',\n        disableFilters: true\n    },\n    {\n        'Header' : 'Declaration Date',\n        'accessor': 'declaration_date',\n        Cell : (data) =>{\n            return <div style = {{ textAlign: 'center'}}>{new Date(get(data,`row.values.declaration_date`, 'mm/dd/yyyy')).toLocaleDateString('en-US')}</div>\n        },\n        disableFilters: true\n    },\n    {\n        'Header': 'IHP Amount',\n        'accessor': 'ihp_amount',\n        Cell: (data) => {\n            return <div style={{textAlign: 'center'}}>{fnum(get(data, `row.values.ihp_amount`, ''))}</div>\n        },\n        disableFilters: true\n    },\n    {\n        'Header': 'HA Amount',\n        'accessor': 'ha_amount',\n        Cell: (data) => {\n            return <div style={{textAlign: 'center'}}>{fnum(get(data, `row.values.ha_amount`, ''))}</div>\n        },\n        disableFilters: true\n    },\n    {\n        'Header': 'ON A Amount',\n        'accessor': 'on_a_amount',\n        Cell: (data) => {\n            return <div style={{textAlign: 'center'}}>{fnum(get(data, `row.values.on_a_amount`, ''))}</div>\n        },\n        disableFilters: true\n    }\n\n]\nconst pa_tableCols = [\n\n    {\n        'Header' : 'Disaster Number',\n        'accessor': 'disaster_number',\n        disableFilters: true\n    },\n    {\n        'Header' : 'Declaration Date',\n        'accessor': 'declaration_date',\n        Cell : (data) =>{\n            return <div style = {{ textAlign: 'center'}}>{new Date(get(data,`row.values.declaration_date`, '')).toLocaleDateString('en-US')}</div>\n        },\n        disableFilters: true\n    },\n    {\n        'Header': 'Applicant Name',\n        'accessor': 'application_title',\n        disableFilters: true\n    },\n    {\n        'Header': 'Federal Share Obligated',\n        'accessor': 'federal_share_obligated',\n        Cell: (data) => {\n            return <div style={{textAlign: 'center'}}>{fnum(get(data, `row.values.federal_share_obligated`, ''))}</div>\n        },\n        disableFilters: true\n    }\n\n];\nconst hmgp_projects_tableCols = [\n\n    {\n        'Header' : 'Disaster Number',\n        'accessor': 'disaster_number',\n        disableFilters: true\n    },\n    {\n        'Header': 'Program Area',\n        'accessor': 'program_area',\n        disableFilters: true\n    },\n    {\n        'Header': 'Project Title',\n        'accessor': 'project_title',\n        disableFilters: true\n    },\n    {\n        'Header': 'Federal Share Obligated',\n        'accessor': 'federal_share_obligated',\n        Cell: (data) => {\n            return <div style={{textAlign: 'center'}}>{fnum(get(data, `row.values.federal_share_obligated`, ''))}</div>\n        },\n        disableFilters: true\n    },\n    {\n        'Header': 'Project Amount',\n        'accessor': 'project_amount',\n        Cell: (data) => {\n            return <div style={{textAlign: 'center'}}>{fnum(get(data, `row.values.project_amount`, ''))}</div>\n        },\n        disableFilters: true\n    }\n]\nconst hmgp_properties_tableCols = [\n\n    {\n        'Header' : 'Disaster Number',\n        'accessor': 'disaster_number',\n        disableFilters: true\n    },\n    {\n        'Header': 'Property Action',\n        'accessor': 'property_action',\n        disableFilters: true\n    },\n    {\n        'Header': 'Structure Type',\n        'accessor': 'structure_type',\n        disableFilters: true\n    },\n    {\n        'Header': 'Program Area',\n        'accessor': 'program_area',\n        disableFilters: true\n    },\n    {\n        'Header': 'Title',\n        'accessor': 'title',\n        disableFilters: true\n    },\n    {\n        'Header': 'Number of Properties',\n        'accessor': 'number_of_properties',\n        disableFilters: true\n    },\n    {\n        'Header': 'Actual Amount Paid',\n        'accessor': 'actual_amount_paid',\n        Cell: (data) => {\n            return <div style={{textAlign: 'center'}}>{fnum(get(data, `row.values.actual_amount_paid`, ''))}</div>\n        },\n        disableFilters: true\n    },\n\n]\nclass FemaDisastersIndividualCountyTable extends React.Component{\n\n    async fetchFalcorDeps(){\n        const data  = await this.props.falcor.get(['fema','disasters','declarations','byGeoid',this.props.geoid,'length'])\n        let length = get(data ,['json','fema','disasters','declarations','byGeoid',this.props.geoid,'length'],null)\n        let ihpData = {},\n            paData = {},\n            hmgpProjectsData= {},\n            hmgpPropertiesData = {}\n        if(length){\n            let to = length > 1 ? length-1 : 1\n            const dataByIndex = await this.props.falcor.get(['fema','disasters','declarations','byGeoid',this.props.geoid,'byIndex',[{from:0,to:to}],DISASTER_DECLARATION_BY_GEOID_ATTRIBUTES])\n            const geoName = await this.props.falcor.get(['geo',this.props.geoid,'name'])\n            let graph = get(dataByIndex,['json','fema','disasters','declarations','byGeoid',this.props.geoid,'byIndex'],null)\n            if(graph){\n                let disaster_numbers = Object.keys(graph).filter(d => d!=='$__path').reduce((a,c) =>{\n                    a.push(graph[c].disaster_number)\n                    return a\n                },[])\n                ihpData = await this.props.falcor.get(['fema','disasters','declarations','byGeoid',this.props.geoid,'byId',disaster_numbers,'ia'])\n                paData = await this.props.falcor.get(['fema','disasters','declarations','byGeoid',this.props.geoid,'byId',disaster_numbers,'pa'])\n                hmgpProjectsData = await this.props.falcor.get(['fema','disasters','declarations','byGeoid',this.props.geoid,'byId',disaster_numbers,'hmgp_projects'])\n                hmgpPropertiesData = await this.props.falcor.get(['fema','disasters','declarations','byGeoid',this.props.geoid,'byId',disaster_numbers,'hmgp_properties'])\n            }\n\n            return {dataByIndex,geoName,ihpData,paData,hmgpProjectsData,hmgpPropertiesData}\n        }\n        else { return Promise.resolve({}) }\n    }\n\n    processIAData(){\n        let graph = get(this.props.falcorCache,['fema','disasters','declarations','byGeoid','byId'],null)\n        let totals = get(this.props.falcorCache,['fema','disasters','declarations','byGeoid',this.props.geoid,'byId'],null)\n        let data = []\n        if(graph && totals){\n            Object.keys(graph).forEach(id =>{\n                if(graph[id].geoid.value === this.props.geoid){\n                    get(totals,[graph[id].disaster_number.value,'ia','value'],[]).forEach(d =>{\n                        data.push(d)\n                    })\n                }\n\n            })\n            if(data.length === 0){\n                data.push({})\n            }\n        }\n        return data\n    }\n\n    processPAData(){\n        let graph = get(this.props.falcorCache,['fema','disasters','declarations','byGeoid','byId'],null)\n        let totals = get(this.props.falcorCache,['fema','disasters','declarations','byGeoid',this.props.geoid,'byId'],null)\n        let data = []\n        if(graph && totals){\n            Object.keys(graph).forEach(id =>{\n                if(graph[id].geoid.value === this.props.geoid){\n                get(totals,[graph[id].disaster_number.value,'pa','value'],[]).forEach(d =>{\n                    data.push(d)\n                })\n                }\n            })\n            if(data.length === 0){\n                data.push({})\n            }\n        }\n\n        return data\n\n    }\n\n    processHMGPProjectsData(){\n        let graph = get(this.props.falcorCache,['fema','disasters','declarations','byGeoid','byId'],null)\n        let totals = get(this.props.falcorCache,['fema','disasters','declarations','byGeoid',this.props.geoid,'byId'],null)\n        let data = []\n        if(graph && totals){\n            Object.keys(graph).forEach(id =>{\n                if(graph[id].geoid.value === this.props.geoid) {\n                    get(totals, [graph[id].disaster_number.value, 'hmgp_projects', 'value'], []).forEach(d => {\n                        data.push(d)\n                    })\n                }\n            })\n            if(data.length === 0){\n                data.push({})\n            }\n        }\n\n        return data\n    }\n\n    processHMGPPropertiesData(){\n        let graph = get(this.props.falcorCache,['fema','disasters','declarations','byGeoid','byId'],null)\n        let totals = get(this.props.falcorCache,['fema','disasters','declarations','byGeoid',this.props.geoid,'byId'],null)\n        let data = []\n        if(graph && totals){\n            Object.keys(graph).forEach(id =>{\n                if(graph[id].geoid.value === this.props.geoid) {\n                    get(totals, [graph[id].disaster_number.value, 'hmgp_properties', 'value'], []).forEach(d => {\n                        data.push(d)\n                    })\n                }\n            })\n            if(data.length === 0){\n                data.push({})\n            }\n        }\n\n        return data\n    }\n\n    render(){\n        let data = this.props.type === 'ia' ?\n            this.processIAData() :\n            this.props.type === 'pa' ?\n                this.processPAData() :\n                this.props.type === 'hmgp_projects' ?\n                    this.processHMGPProjectsData() : this.processHMGPPropertiesData()\n        return(\n            <div>\n                {\n                    data.length > 0 ?\n                        <Table\n                            defaultPageSize={15}\n                            showPagination={true}\n                            columns={this.props.type === 'ia' ?\n                                ia_tableCols :\n                                this.props.type === 'pa' ?\n                                    pa_tableCols :\n                                    this.props.type === 'hmgp_projects' ?\n                                        hmgp_projects_tableCols : hmgp_properties_tableCols}\n                            data = {data}\n                            initialPageSize={15}\n                            minRows={data.length}\n                            sortBy={'declaration_date'}\n                            sortOrder={'desc'}\n                        />\n                        : <div>Loading...</div>\n                }\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        falcorCache: state.falcorCache,\n        activeAmount:state.femaDisasterDeclarations.activeAmount,\n        activeStateGeoid : state.stormEvents.activeStateGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', [])\n    };\n};\nconst mapDispatchToProps = {\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(reduxFalcor(FemaDisastersIndividualCountyTable))\n","import React from 'react';\n\nconst NoMatch = () =>\n  <div className=\"flex-1 flex items-center justify-center flex-col\">\n    <div className=\"text-2xl font-bold\">404</div>\n    <div className=\"text-xl\">Page not Found</div>\n    <div className=\"text-xl\">Oops, Something went missing...</div>\n  </div>\n\nconst config = {\n  mainNav: false,\n  component: NoMatch,\n  layoutSettings: {\n    fixed: true,\n    headerBar: true\n  }\n}\n\nexport default config;\n","import get from \"lodash.get\";\nimport {falcorGraph} from \"store/falcorGraphNew\"\nimport config from '../components/config'\n\nexport const stormEventsData = async (type = '',columns = [],fips_value,geography_filter,hazard,year) =>{\n    let geo_fips = fips_value ? fips_value : config['fips']\n    let geography = geography_filter || 'counties'\n    let filtered_geographies = []\n    let severeWeather ={}\n    let  geoNames = {}\n    let severeWeather_US = {}\n    let severeWeather_fips = {}\n    let geom = {}\n    let geoFips = {}\n    const geoData =await falcorGraph.get(['geo', geo_fips, geography, 'geoid'],['geo',config.fips,['name']])\n    let graph = get(geoData,['json','geo'],null)\n    filtered_geographies = Object.values(graph)\n        .reduce((out, state) => {\n            if (state[geography]) {\n                out = [...out, ...state[geography]]\n            }\n            return out\n        }, [])\n    if(type === 'map'){\n        severeWeather = await falcorGraph.get(['severeWeather',filtered_geographies,hazard,year,columns])\n        geoNames = await falcorGraph.get(['geo',filtered_geographies,['name']])\n        if(fips_value){\n            geom = await falcorGraph.get(['geo',fips_value,'boundingBox','value'])\n            geoFips = await falcorGraph.get(['geo',fips_value,['state_abbr']])\n        }\n\n        return {severeWeather,geoNames,geoFips,geom}\n    }\n    if(fips_value){\n        severeWeather_fips = await falcorGraph.get(['severeWeather',geo_fips,hazard,year,columns])\n        return severeWeather_fips\n    }\n    else{\n        severeWeather_US = await falcorGraph.get([\"severeWeather\",[\"\"],hazard,year,columns])\n        return severeWeather_US\n\n    }\n\n\n}\n\n","import get from \"lodash.get\";\nimport {falcorGraph} from \"store/falcorGraphNew\"\nimport config from \"../components/config\";\n\n\nexport const sbaData = async (type='',columns=[],fips_value,geography_filter,hazard,year) =>{\n    let geo_fips = fips_value ? fips_value : config['fips']\n    let geography = geography_filter || 'counties'\n    let zip_codes = []\n    let filtered_geographies = []\n    let sba_US = {}\n    let sbaData = {}\n    let geoNames = {}\n    let sbaZipData = {}\n    let sbaData_fips = {}\n    let geom = {}\n    let geoFips = {}\n    const geoData =await falcorGraph.get(['geo', geo_fips, 'counties', 'geoid'],\n        ['geo',config.fips,['name']])\n    let graph = get(geoData,['json','geo'],null)\n    filtered_geographies = Object.values(graph)\n        .reduce((out, state) => {\n            if (state.counties) {\n                out = [...out, ...state.counties]\n            }\n            return out\n        }, [])\n\n    if(type === 'map'){\n        if(geography === 'counties'){\n            sbaData = await falcorGraph.get(\n                ['sba','all',filtered_geographies,hazard,year,columns])\n            geoNames = await falcorGraph.get(['geo',filtered_geographies,['name']])\n        }\n        if(geography === 'zip_codes'){\n            const zipData = await falcorGraph.get(['geo',filtered_geographies,'byZip',['zip_codes']])\n            let graph_zip = get(zipData,['json','geo'],null)\n            if(graph_zip){\n                zip_codes = Object.values(graph_zip).reduce((out,geo) =>{\n                    if(geo.byZip){\n                        out = [...out,...geo.byZip['zip_codes']]\n                    }\n                    return out\n                },[])\n            }\n            sbaZipData = await falcorGraph.get(\n                ['sba','all','byZip',zip_codes,hazard,year,columns]\n            )\n        }\n        if(fips_value){\n            geom = await falcorGraph.get(['geo',fips_value,'boundingBox','value'])\n            geoFips = await falcorGraph.get(['geo',fips_value,['state_abbr']])\n        }\n        return {sbaData,sbaZipData,geoNames,geoFips,geom}\n\n    }\n    if(fips_value){\n        sbaData_fips = await falcorGraph.get(\n            ['sba','all',geo_fips,hazard,year,columns])\n        return sbaData_fips\n\n    }else{\n        sba_US = await falcorGraph.get(['sba','all',[\"\"],hazard,year,columns])\n        return sba_US\n    }\n\n\n\n\n}\n\n\n","import get from \"lodash.get\";\nimport {falcorGraph} from \"store/falcorGraphNew\"\nimport config from \"../components/config\";\n\n\nexport const femaDisastersData = async (type,columns,fips_value,geography,hazard,year) =>{\n    let geo_fips = fips_value ? fips_value : config['fips']\n    const graph = await falcorGraph.get(['fema','disasters','length'])\n    let length = get(graph,['json','fema','disasters','length'],null)\n    let filtered_geographies = []\n    let geom ={}\n    let geoNames = {}\n    let femaByIdData = {}\n    let geoFips = {}\n    let FemaDisastersCombinedTotalCostData = {}\n    let FemaDisastersCombinedTotalCostData_US = {}\n    let FemaDisastersCombinedTotalCostZipData = {}\n    let FemaDisastersCombinedTotalCostData_fips = {}\n    let zip_codes = []\n\n    const geoData =await falcorGraph.get(['geo', geo_fips,'counties', 'geoid'],\n        ['geo',config.fips,['name']])\n    let geo = get(geoData,['json','geo'],null)\n    filtered_geographies = Object.values(geo)\n        .reduce((out, state) => {\n            if (state['counties']) {\n                out = [...out, ...state['counties']]\n            }\n            return out\n        }, [])\n    if(length && type ==='table'){\n        femaByIdData = await falcorGraph.get(['fema','disasters','byIndex',[{from:0,to:length-1}],[\n            \"name\",\n            \"year\",\n            \"total_cost\",\n            \"disaster_type\"\n        ]])\n    }\n    if(type === 'map'){\n        if(fips_value){\n            geom = await falcorGraph.get(['geo',fips_value,'boundingBox','value'])\n            geoFips = await falcorGraph.get(['geo',fips_value,['state_abbr']])\n        }\n        if(geography === 'counties' ){\n\n            geoNames = await falcorGraph.get(['geo',filtered_geographies,['name']])\n            FemaDisastersCombinedTotalCostData = await falcorGraph.get(['fema','disasters',filtered_geographies,hazard,year,columns])\n\n        }\n        if(geography === 'zip_codes'){\n            const zipData = await falcorGraph.get(['geo',filtered_geographies,'byZip',['zip_codes']])\n\n            let graph_zip = get(zipData,['json','geo'],null)\n            if(graph_zip){\n                zip_codes = Object.values(graph_zip).reduce((out,geo) =>{\n                    if(geo.byZip){\n                        out = [...out,...geo.byZip['zip_codes']]\n                    }\n                    return out\n                },[])\n                FemaDisastersCombinedTotalCostZipData = await falcorGraph.get(['fema','disasters','byZip',zip_codes,hazard,year,columns])\n            }\n        }\n        return {geom,geoFips,FemaDisastersCombinedTotalCostData,geoNames,FemaDisastersCombinedTotalCostZipData}\n\n    }\n    if(fips_value && type !== 'map'){\n        FemaDisastersCombinedTotalCostData_fips =  await falcorGraph.get(['fema','disasters',filtered_geographies,hazard,year,columns])\n        return {FemaDisastersCombinedTotalCostData_fips,femaByIdData}\n    }else if(!fips_value && (type ==='table' || type === 'graph')){\n        FemaDisastersCombinedTotalCostData_US = await falcorGraph.get(['fema','disasters',[\"\"],hazard,year, columns])\n        return {FemaDisastersCombinedTotalCostData_US, femaByIdData}\n    }\n\n\n}\n","import React, {Component} from 'react';\n\nimport styled from \"styled-components\"\n\nimport * as d3scale from \"d3-scale\"\nimport * as d3format from \"d3-format\"\n\nconst MainContainer = styled.div`\n  background-color: ${ props => props.theme.sidePanelHeaderBg };\n  width: 100%;\n  padding: ${ props => props.align === \"vertical\" ? \"10px\" : \"10px 10px 0px 10px\" };\n`\n\nconst StyledTitle = styled.h5`\n  color: ${ props => props.theme.textColorHl };\n`\nconst Title = ({ Title, layer }) =>\n  <StyledTitle>\n    { typeof Title === \"function\" ?\n      <Title layer={ layer }/>\n      : Title\n    }\n  </StyledTitle>\n\nconst LegendContainer = styled.div`\n  width: 100%;\n  display: flex;\n  color: ${ props => props.theme.textColor };\n  border-radius: 4px;\n  overflow: hidden;\n`\nconst ColorBlock = styled.div`\n  align-items: stretch;\n  flex-grow: 1;\n  height: 8px;\n  \n`\nconst TextBlock = styled.div`\n  color: ${ props => props.theme.textColor };\n  display: inline-block;\n  text-align: right;\n`\nconst VerticalColorBlock = styled.div`\n  width: 20px;\n  height: ${ props => props.height || 20 }px;\n`\n\nconst HorizontalLegend = ({ type, format, scale, range, domain, title, layer }) => {\n\n  const textBlock = {\n    width: (100 / (type === 'linear' ? scale.ticks(5).length : range.length)) + '%'\n  }\n  return (\n    <MainContainer align={ \"horizontal\" }>\n      { !title ? null : <Title Title={ title } layer={ layer }/> }\n      <LegendContainer className='legend-container'>\n        {\n          type === \"linear\" ?\n            scale.ticks(5).map(t => <ColorBlock key={ t } style={ { backgroundColor: scale(t), ...textBlock } }/>)\n          :\n            range.map((r, i) => <div style={{borderRight: i < range.length-1 ? '1px solid black' : 'none', paddingBottom: '10px', alignItems:'stretch', flexGrow: 1, display:'flex'}}><ColorBlock key={ i } style={ { backgroundColor: r, ...textBlock } }/></div>)\n        }\n      </LegendContainer>\n      <div style={{width:'100%', position: 'relative', right: -3}}>\n        {\n          type === \"ordinal\" ?\n            domain.map(d => <TextBlock key={ d } style={ textBlock } >{ format(d) }</TextBlock>)\n          : type === \"linear\" ?\n            scale.ticks(5).map(t => <TextBlock key={ t } style={ textBlock }>{ format(t) }</TextBlock>)\n          :\n            range.map((r, i) => <TextBlock key={ i } style={ textBlock }>{ typeof scale.invertExtent(r)[1] === \"number\" ? format(scale.invertExtent(r)[1]) : null }</TextBlock>)\n        }\n      </div>\n    </MainContainer>\n  )\n}\n\nconst VerticalLegend = ({ type, format, scale, range, domain, title, layer }) => {\n  range = (type === \"linear\") ? scale.ticks(5).map(t => scale(t)) : range\n  return (\n    <MainContainer align={ \"vertical\" }>\n      { !title ? null : <Title Title={ title } layer={ layer }/> }\n      <table>\n        <tbody>\n          {\n            type === \"ordinal\" ?\n              domain.map(d =>\n                <tr key={ d }>\n                  <td>\n                    <VerticalColorBlock style={ { backgroundColor: scale(d) } }/>\n                  </td>\n                  <td style={ { paddingLeft: \"5px\" } }>\n                    { format(d) }\n                  </td>\n                </tr>\n              )\n            : type === \"quantile\" ?\n              range.map((r, i) =>\n                <tr key={ r }>\n                  <td>\n                    <VerticalColorBlock height={ 40 }\n                      style={ { backgroundColor: r } }/>\n                  </td>\n                  <td>\n                    { typeof scale.invertExtent(r)[1] === \"number\" ? format(scale.invertExtent(r)[1]) : null }\n                  </td>\n                </tr>\n              )\n            : null\n          }\n        </tbody>\n      </table>\n    </MainContainer>\n  )\n}\n\n class Legend extends Component {\n\n  getScale() {\n    switch (this.props.type) {\n      case \"ordinal\":\n        return d3scale.scaleOrdinal();\n      case \"quantile\":\n        return d3scale.scaleQuantile();\n      case \"quantize\":\n        return d3scale.scaleQuantize();\n      case \"threshold\":\n        return d3scale.scaleThreshold();\n      default:\n        return d3scale.scaleLinear();\n    }\n  }\n\n  render() {\n    let { vertical, format, domain, range } = this.props;\n\n    const scale = this.getScale()\n      .domain(domain)\n      .range(range);\n\n    if (typeof format === \"string\") {\n      format = d3format.format(format);\n    }\n\n    return vertical ?\n      <VerticalLegend { ...this.props }\n        scale={ scale } format={ format }/>\n    :\n      <HorizontalLegend { ...this.props }\n        scale={ scale } format={ format }/>;\n  }\n}\n\nLegend.defaultProps = {\n  title: '',\n  range: [],\n  domain: [],\n  type: \"linear\",\n  format: d => d,\n  vertical: false\n}\n\nexport default Legend\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport config from '../../StormEvents/components/config'\nimport {reduxFalcor} from \"../../../utils/redux-falcor-new\";\nimport {ResponsiveBar} from '@nivo/bar'\nimport { fnum } from \"utils/sheldusUtils\"\nimport hazardcolors from \"constants/hazardColors\";\nimport {stormEventsData} from \"../../StormEvents/DataFetching/StormEventsDataFecthing\";\nimport {sbaData} from \"../../StormEvents/DataFetching/SBADataFetching\";\nimport {femaDisastersData} from \"../../StormEvents/DataFetching/FEMADisastersDataFetching\";\nconst get = require(\"lodash.get\");\n\nclass StackedBarGraph extends React.Component{\n\n    componentDidUpdate(oldProps){\n        if(oldProps.hazard !== this.props.hazard){\n            this.fetchFalcorDeps()\n        }\n        if(oldProps.geoid !== this.props.geoid){\n            this.fetchFalcorDeps()\n        }\n        if(oldProps.data_type !== this.props.data_type){\n            this.fetchFalcorDeps()\n        }\n    }\n\n    fetchFalcorDeps(){\n        switch (this.props.data_type) {\n            case 'sba':\n                return sbaData(this.props.type,config[this.props.data_type].data_columns,this.props.geoid,'counties',this.props.hazard,config.years)\n            case 'stormevents':\n                return stormEventsData(this.props.type,config[this.props.data_type].data_columns,this.props.geoid,'counties',this.props.hazard,config.years)// \"\" is for the whole country\n            case 'fema':\n                return femaDisastersData(this.props.type,config[this.props.data_type].data_columns,this.props.geoid,'counties',this.props.hazard,config.years)\n            default:\n                return Promise.resolve({})\n        }\n\n    }\n\n    processData(){\n        const graph = this.props.geoid ? get(this.props.falcorCache,`${config[this.props.data_type].fetch_url}.${this.props.geoid}`,null) :\n            get(this.props.falcorCache,`${config[this.props.data_type].fetch_url}.[\"\"]`,null)\n        let data = []\n\n        data = config.years.reduce((a, year) => {\n            a.push({\n                'year': year.toString(),\n            })\n            return a\n        }, [])\n        if(graph){\n            data.forEach(d => {\n                d[this.props.hazard] = get(graph, [this.props.hazard,d.year,config[this.props.data_type].graph_column], 0)\n            })\n        }\n\n        return data\n    }\n\n    processFemaData(){\n        let femaData = []\n        const graph = this.props.geoid ? get(this.props.falcorCache,`${config[this.props.data_type].fetch_url}`,null) :\n            get(this.props.falcorCache,`${config[this.props.data_type].fetch_url}.[\"\"]`,null)\n        femaData = config['years'].reduce((a, year) => {\n            a.push({\n                'year': year.toString(),\n            })\n            return a\n        }, [])\n        if(graph){\n            if(this.props.geoid){\n                femaData.map(d => {\n                    let total_cost = 0\n                    Object.keys(graph).filter(d => d!== '$__path').forEach(item =>{\n\n                        if(item.length === 5){\n                            total_cost += get(graph[item],[this.props.hazard,d.year,'total_cost','value'],0)\n                        }\n\n                    })\n                    return d[this.props.hazard] = total_cost\n                })\n            }else{\n                femaData.map(d => {\n                    let total_cost = 0\n                    Object.keys(graph).filter(d => d!== '$__path').forEach(item =>{\n                        total_cost += get(graph[item],[d.year,'total_cost','value'],0)\n                    })\n                    return d[this.props.hazard] = total_cost\n                })\n            }\n        }\n        return femaData\n    }\n\n\n    render(){\n\n        if(get(this.props.falcorCache,`${config[this.props.data_type].fetch_url}`,false)){\n            return(\n                <div style={ { width: this.props.width ? this.props.width : '70%', height: this.props.height ? this.props.height : \"300px\" } }>\n                    <ResponsiveBar\n                        data={this.props.data_type !== 'fema' ? this.processData() : this.processFemaData() }\n                        keys={[this.props.hazard]}\n                        indexBy=\"year\"\n                        margin={{ top: 40, right: 70, bottom: 30, left: 10 }}\n                        padding={0.1}\n                        colors={(d) => hazardcolors[d.id]}\n                        enableLabel={false}\n                        enableGridX={false}\n                        enableGridY= {false}\n                        axisTop={null}\n                        axisRight={{\n                            tickSize: 5,\n                            tickPadding: 5,\n                            tickRotation: 0,\n                            legend: 'Total Damage $',\n                            legendPosition: 'middle',\n                            legendOffset: 60,\n                            format: v => `${fnum(v)}`\n                        }}\n                        axisBottom={{\n                            tickSize: 5,\n                            tickPadding: 5,\n                            tickRotation: 0,\n                            legend: 'year',\n                            legendPosition: 'middle',\n                            legendOffset: 32\n                        }}\n                        axisLeft={null}\n                        labelSkipWidth={12}\n                        labelSkipHeight={12}\n                        labelFormat={d=> `${fnum(d)}`}\n                        labelTextColor={{ from: 'color', modifiers: [ [ 'darker', 1.6 ] ] }}\n                        yScale={{\n                            type: 'log',\n                            base: 10,\n                            max: 'auto',\n                        }}\n                        animate={true}\n                        motionStiffness={90}\n                        motionDamping={15}\n                        tooltipFormat={value => `${fnum(value)}`}\n                        onClick={(e) => {\n                            this.props.setYear(e.data.year)\n                        }\n                        }\n                    />\n                </div>\n            )\n        }else{\n            return(\n                <div style={ { width: this.props.width ? this.props.width : '100%', height: this.props.height ? this.props.height : \"300px\" } }>\n                Loading ...\n                </div>\n            )\n        }\n\n\n    }\n}\n\nconst mapDispatchToProps = { };\n\nconst mapStateToProps = (state,ownProps) => {\n    return {\n        falcorCache: state.falcorCache,\n        geoid:ownProps.geoid,\n    };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxFalcor(StackedBarGraph))\n\n","import React from 'react'\n\n\nconst Header = ({toggle,open,title,body, ...props}) => (\n  <header className=\"space-y-1 py-4 px-4 sm:px-2 min-w-full pt-12\">\n    <div className=\"flex items-center justify-between space-x-3\">\n      <h2 className=\"text-lg leading-7 font-medium min-w-full\">\n        {title}\n      </h2>\n    </div>\n    <div>\n      {body}\n    </div>\n  </header>\n)\n\n\nconst SlideOver = ({children,...props}) => {\n  const [open, toggle] = React.useState(true)\n\n  return (\n    <div className='h-full w-full sm:w-1/4'>\n      <div className=\"h-full flex flex-col shadow-xl z-50 w-full bg-white mt-0\">\n        <Header open={open} toggle={toggle} title={props.HeaderTitle} body={props.HeaderBody}/>\n        <div className=\"relative flex-1 py-6 px-4 sm:px-6 z-50 hidden sm:block\">\n         {/* <!-- Replace with your content -->*/}\n          {children}\n          {/*<!-- /End replace -->*/}\n        </div>\n      </div>\n    </div>\n            \n       \n  )\n}\n\nexport default SlideOver\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport { fnum } from \"utils/sheldusUtils\"\nimport hazardcolors from \"constants/hazardColors\";\nimport {stormEventsData} from \"../../StormEvents/DataFetching/StormEventsDataFecthing\";\nimport {sbaData} from \"../../StormEvents/DataFetching/SBADataFetching\";\nimport {femaDisastersData} from \"../../StormEvents/DataFetching/FEMADisastersDataFetching\";\nimport config from \"../../StormEvents/components/config\";\n\nclass HazardListTable extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            isLoading : true,\n            currentHazard :''\n        }\n\n    }\n\n    componentWillUnmount(){\n        this.setState = (state,callback)=>{\n            return;\n        };\n    }\n\n    componentDidUpdate(oldProps){\n        if(oldProps.hazard !== this.props.hazard){\n            this.fetchFalcorDeps()\n        }\n        if(oldProps.geoid !== this.props.geoid){\n            this.fetchFalcorDeps()\n        }\n        if(oldProps.year !== this.props.year){\n            this.fetchFalcorDeps()\n        }\n        if(oldProps.data_type !== this.props.data_type){\n            this.fetchFalcorDeps()\n        }\n    }\n\n    async fetchFalcorDeps(){\n        switch (this.props.data_type) {\n            case 'sba':\n                return sbaData(this.props.type,config[this.props.data_type].data_columns,this.props.geoid,'counties',config['hazards'],this.props.year)\n            case 'stormevents':\n                return stormEventsData(this.props.type,config[this.props.data_type].data_columns,this.props.geoid,'counties',config['hazards'],this.props.year)// \"\" is for the whole country\n            case 'fema':\n                return femaDisastersData(this.props.type,config[this.props.data_type].data_columns,this.props.geoid,'counties',config['hazards'],this.props.year)\n            default:\n                return Promise.resolve({})\n        }\n\n    }\n\n    processData(){\n        const graph = this.props.geoid ? get(this.props.falcorCache,`${config[this.props.data_type].fetch_url}.${this.props.geoid}`,null) :\n                get(this.props.falcorCache,`${config[this.props.data_type].fetch_url}.[\"\"]`,null)\n        let header_columns =[\"name\",\"value\",...config[this.props.data_type].table_column]\n        let data = []\n        if(graph){\n            data = Object.keys(graph).map(hazard =>{\n                return header_columns.reduce((a,header) =>{\n                    config['Hazards'].forEach(item =>{\n                        if(item.value === hazard){\n                            switch(header) {\n                                case 'name':\n                                    a[header] = item.name\n                                    break;\n                                case 'value':\n                                    a[header] = item.value\n                                    break;\n                                case 'annualized_damage':\n                                    a[header] = get(graph,[item.value,\"allTime\",header],0)\n                                    break;\n                                default :\n                                    a[header] = get(graph,[item.value,this.props.year,header],0)\n                            }\n\n                        }\n                    })\n                    return a\n                },{})\n            })\n\n        }\n\n        return data\n    }\n\n    processFemaData(){\n        const graph = this.props.geoid ? get(this.props.falcorCache,`${config[this.props.data_type].fetch_url}`,null) :\n            get(this.props.falcorCache,`${config[this.props.data_type].fetch_url}.[\"\"]`,null)\n        const graphById = get(this.props.falcorCache,`${config[this.props.data_type].fetch_url}.byId`,null)\n        let graph_data = []\n        let femaData = []\n        let attributes = [\"name\", \"value\", ...config[this.props.data_type].table_column]\n        if(graphById && graph) {\n            graph_data = config['Hazards'].reduce((a, c) => {\n                a.push({\n                    'hazard': c.value,\n                    'count' : 0\n                })\n                return a\n            }, [])\n            graph_data.map(d =>{\n                let sum = 0\n                return Object.keys(graphById).filter(d => d !== '$__path').forEach(item =>{\n                    if(this.props.year === 'allTime') {\n                        if(get(graphById[item],['disaster_type','value'],'').toString() === d.hazard) {\n                            sum += +get(graphById[item],['total_cost','value'],0)\n                            return d['total_cost_summaries'] = sum\n                        }\n                    }else{\n                        if(get(graphById[item],['disaster_type','value'],'').toString() === d.hazard && get(graphById[item],['year','value'],'').toString() === this.props.year.toString()){\n                            sum += +get(graphById[item],['total_cost','value'],0)\n                            return d['total_cost_summaries'] = sum\n                        }\n                    }\n\n                })\n            })\n            if(this.props.geoid){\n                config['Hazards'].forEach(hazard =>{\n                    let total_cost = 0\n                    let total_cost_summaries = 0\n                    let ia_total = 0\n                    let pa_total = 0\n                    let hmgp_total = 0\n                    Object.keys(graph).filter(d => d!== '$__path').forEach(item =>{\n                        //total_cost += get(graph[item],[hazard.value,this.props.year,'total_cost','value'],0)\n                        ia_total += get(graph[item],[hazard.value,this.props.year,'ia_ihp_amount','value'],0)\n                        pa_total += get(graph[item],[hazard.value,this.props.year,'pa_project_amount','value'],0)\n                        hmgp_total += (get(graph[item],[hazard.value,this.props.year,'hma_prop_actual_amount_paid','value'],0) + get(graph[item],[hazard.value,this.props.year,'hma_proj_project_amount','value'],0))\n                        total_cost_summaries += get(graph[item],[hazard.value,this.props.year,'total_cost_summaries','value'],0)\n                    })\n                    femaData.push({\n                        'name': hazard.name,\n                        'value': hazard.value,\n                        //'total_cost': total_cost,\n                        'ia_ihp_amount': ia_total,\n                        'pa_project_amount': pa_total,\n                        'hma_total_amount': hmgp_total,\n                        'total_cost_summaries': total_cost_summaries\n                    })\n                })\n            }else{\n                femaData =Object.keys(graph).filter(d => d!==\"$__path\").map(hazard => {\n                    return attributes.reduce((a, header) => {\n                        config['Hazards'].forEach(item => {\n                            if (item.value === hazard) {\n                                if (header === 'name' || header === 'value') {\n                                    a[header] = item[header]\n                                }\n                                else if(header === 'hma_total_amount'){\n\n                                    a[header] = get(graph[hazard], [this.props.year,'hma_prop_actual_amount_paid','value'], 0) + get(graph[hazard], [this.props.year,'hma_proj_project_amount','value'], 0)\n                                }\n                                else {\n                                    a[header] = get(graph[hazard], [this.props.year, header,'value'], 0)\n                                }\n                            }\n                        })\n                        return a\n                    }, {})\n                })\n\n            }\n\n            graph_data.forEach(dd =>{\n                femaData.map(d =>{\n                    if(d.value === dd.hazard){\n                        d['total_cost_summaries'] = dd.total_cost_summaries || 0\n\n                    }\n                    return d\n                })\n            })\n        }\n        return femaData\n\n    }\n\n    render(){\n        const data = this.props.data_type !== 'fema' ?\n            this.processData() : this.processFemaData()\n        return(\n                <div className=\"align-middle inline-block min-w-full overflow-hidden\"\n                    key={0}>\n                    <table className=\"min-w-full\">\n                        <thead>\n                        <tr>\n                            <th className=\"px-2 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase \">\n                                Hazard\n                            </th>\n                            {config[this.props.data_type].table_header.map((header,i) =>{\n                                if(header === 'Damage' || header === 'Total Loss' || header === 'Actual Amount Paid' || header === 'IHA' || header === 'PA' || header === 'HMGP'){\n                                    return (\n                                        <th className=\"px-2 text-right py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase \"\n                                            key={i}\n                                        >\n                                            {header}-{this.props.year}\n                                        </th>\n                                    )}else{\n                                        return(\n                                            <th className=\"px-2 text-right py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase \"\n                                                key={i}\n                                            >\n                                                {header}\n                                            </th>\n                                        )\n                                    }\n                                })}\n\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {   data.length ?\n                            data\n                            .filter(d => Object.keys(d).length !== 0)\n                            .sort((a,b) => b[config[this.props.data_type].sort] - a[config[this.props.data_type].sort])\n                            .map((hazard,i) =>{\n                                return(\n                                    <tr className={`bg-white  ${this.props.activeHazard === hazard.value ? 'border-b-2 border-blue-500' : 'border-b border-gray-200' }` }\n                                        key={i} id={hazard.value}>\n                                        <td className=\"px-4 py-2 whitespace-nowrap text-md leading-5 font-base text-gray-900\" key={i}>\n                                            <div\n                                                className=\"hover:text-blue-600 cursor-pointer\"\n                                                onClick={(e) =>{\n                                                    e.persist()\n                                                    if(this.state.currentHazard !== hazard.value){\n                                                        this.props.setHazard(hazard.value)\n                                                        this.setState({\n                                                            currentHazard : hazard.value\n                                                        })\n                                                    }else{\n                                                        this.props.setHazard(null)\n                                                    }\n\n                                                }}\n                                                >\n                                                <div style={{backgroundColor:hazardcolors[hazard.value]}} className='w-3 h-3 mr-2 inline-block' />{hazard.name}\n                                            </div>\n                                        </td>\n                                        {config[this.props.data_type].table_column.map((column,i) =>{\n                                            return (\n                                                <td className=\"px-1 py-2 whitespace-no-wrap text-sm leading-5 font-base text-gray-900 text-right\" key={i}>\n                                                    {!column.includes(\"num\") || !column.includes(\"total\") ? fnum(hazard[column]) : hazard[column].toLocaleString()}\n                                                </td>\n                                            )\n                                        })}\n\n                                    </tr>\n                                )\n                            })\n                        :\n                            null\n                            }\n                        </tbody>\n                    </table>\n                </div>\n        )\n    }\n}\n\nconst mapDispatchToProps = { };\n\nconst mapStateToProps = (state,ownProps) => {\n    return {\n        falcorCache : state.falcorCache,\n        geoid:ownProps.geoid,\n    };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxFalcor(HazardListTable))\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport styled from 'styled-components';\nimport ReactTooltip from 'react-tooltip';\n\nexport const SelectText = styled.span`\n  color: ${props => props.theme.labelColor};\n  font-size: ${props => props.theme.selectFontSize};\n  font-weight: 400;\n\n  i {\n    font-size: 13px;\n    margin-right: 6px;\n  }\n`;\n\nexport const SelectTextBold = styled(SelectText)`\n  color: ${props => props.theme.textColor};\n  font-weight: 500;\n`;\n\nexport const IconRoundSmall = styled.div`\n  display: flex;\n  width: 18px;\n  height: 18px;\n  border-radius: 9px;\n  background-color: ${props =>\n    props.theme.secondaryBtnBgdHover}; // updated after checking sketch file\n  color: ${props => props.theme.secondaryBtnColor};\n  align-items: center;\n  justify-content: center;\n\n  :hover {\n    cursor: pointer;\n    background-color: ${props => props.theme.secondaryBtnBgdHover};\n  }\n`;\n\nexport const CenterFlexbox = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const PanelLabel = styled.label.attrs({\n  className: 'side-panel-panel__label'\n})`\n  color: ${props => props.theme.labelColor};\n  display: inline-block;\n  font-size: 11px;\n  font-weight: 400;\n  margin-bottom: 4px;\n  text-transform: capitalize;\n`;\n\nexport const PanelLabelWrapper = styled.div.attrs({\n  className: 'side-panel-panel__label-wrapper'\n})`\n  display: flex;\n  align-items: self-start;\n`;\n\nexport const PanelLabelBold = styled(PanelLabel)`\n  font-weight: 500;\n`;\n\nexport const PanelHeaderTitle = styled.span.attrs({\n  className: 'side-panel-panel__header__title'\n})`\n  color: ${props => props.theme.textColor};\n  font-size: 13px;\n  letter-spacing: 0.43px;\n  text-transform: capitalize;\n`;\n\nexport const PanelHeaderContent = styled.div`\n  display: flex;\n  align-items: center;\n  color: ${props => props.theme.textColor};\n  padding-left: 12px;\n\n  .icon {\n    color: ${props => props.theme.labelColor};\n    display: flex;\n    align-items: center;\n    margin-right: 12px;\n  }\n`;\n\nexport const PanelContent = styled.div.attrs({\n  className: 'side-panel-panel__content'\n})`\n  background-color: ${props => props.theme.panelBackground};\n  padding: 12px;\n`;\n\nexport const SidePanelSection = styled.div.attrs({\n  className: 'side-panel-section'\n})`\n  margin-bottom: 12px;\n  opacity: ${props => (props.disabled ? 0.4 : 1)};\n  pointer-events: ${props => (props.disabled ? 'none' : 'all')};\n`;\n\nexport const SidePanelDivider = styled.div.attrs({\n  className: 'side-panel-divider'\n})`\n  border-bottom: 1px solid ${props => props.theme.panelBorderColor};\n  height: 12px;\n  margin-bottom: 12px;\n`;\n\nexport const Tooltip = styled(ReactTooltip)`\n  &.__react_component_tooltip {\n    font-size: 9.5px;\n    font-weight: 500;\n    padding: 7px 18px;\n\n    &.type-dark {\n      background-color: ${props => props.theme.tooltipBg};\n      color: ${props => props.theme.tooltipColor};\n      &.place-bottom {\n        :after {\n          border-bottom-color: ${props => props.theme.tooltipBg};\n        }\n      }\n\n      &.place-top {\n        :after {\n          border-top-color: ${props => props.theme.tooltipBg};\n        }\n      }\n\n      &.place-right {\n        :after {\n          border-right-color: ${props => props.theme.tooltipBg};\n        }\n      }\n\n      &.place-left {\n        :after {\n          border-left-color: ${props => props.theme.tooltipBg};\n        }\n      }\n    }\n  }\n`;\n\nexport const Button = styled.div.attrs({\n  className: 'button'\n})`\n  align-items: center;\n  background-color: ${props =>\n    props.negative\n      ? props.theme.negativeBtnBgd\n      : props.secondary\n        ? props.theme.secondaryBtnBgd\n        : props.link ? props.theme.linkBtnBgd : props.theme.primaryBtnBgd};\n  border-radius: ${props => props.theme.primaryBtnRadius};\n  color: ${props =>\n    props.negative\n      ? props.theme.negativeBtnColor\n      : props.secondary\n        ? props.theme.secondaryBtnColor\n        : props.link ? props.theme.linkBtnColor : props.theme.primaryBtnColor};\n  cursor: pointer;\n  display: inline-flex;\n  font-size: ${props =>\n    props.large ?\n      '14px'\n      : props.small\n        ? '10px'\n        : '11px'};\n  font-weight: 500;\n  justify-content: center;\n  letter-spacing: 0.3px;\n  line-height: 14px;\n  outline: 0;\n  padding: ${props =>\n    props.large ?\n      '14px 32px'\n      : props.small\n        ? '6px 9px'\n        : '9px 12px'};\n  text-align: center;\n  transition: ${props => props.theme.transition};\n  vertical-align: middle;\n  width: ${props => props.width || 'auto'};\n  opacity: ${props => (props.disabled ? 0.4 : 1)};\n  pointer-events: ${props => (props.disabled ? 'none' : 'all')};\n\n  :hover,\n  :focus,\n  :active,\n  &.active {\n    background-color: ${props =>\n      props.negative\n        ? props.theme.negativeBtnBgdHover\n        : props.secondary\n          ? props.theme.secondaryBtnBgdHover\n          : props.link\n            ? props.theme.linkBtnActBgdHover\n            : props.theme.primaryBtnBgdHover};\n    color: ${props =>\n      props.negative\n        ? props.theme.negativeBtnActColor\n        : props.secondary\n          ? props.theme.secondaryBtnActColor\n          : props.link\n            ? props.theme.linkBtnActColor\n            : props.theme.primaryBtnActColor};\n  }\n\n  svg {\n    margin-right: 8px;\n  }\n`;\n\nexport const Input = styled.input`\n  ${props =>\n    props.secondary ? props.theme.secondaryInput : props.theme.input};\n`;\n\nexport const InputLight = styled.input`\n  ${props => props.theme.inputLT}\n`;\n\nexport const InlineInput = styled(Input)`\n  ${props => props.theme.inlineInput};\n`;\n\nexport const StyledPanelHeader = styled.div`\n  background-color: ${props =>\n    props.active\n      ? props.theme.panelBackgroundHover\n      : props.theme.panelBackground};\n  border-left: 3px solid\n    rgb(\n      ${props =>\n        props.labelRCGColorValues\n          ? props.labelRCGColorValues.join(',')\n          : 'transparent'}\n    );\n  padding: 0 10px 0 0;\n  height: ${props => props.theme.panelHeaderHeight}px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: ${props => props.theme.transition};\n`;\n\nexport const StyledPanelDropdown = styled.div`\n  ${props => props.theme.panelDropdownScrollBar}\n  background-color: ${props => props.theme.panelBackground};\n  overflow-y: auto;\n  box-shadow: ${props => props.theme.panelBoxShadow};\n  border-radius: ${props => props.theme.panelBorderRadius};\n  margin-top: 2px;\n  max-height: 500px;\n`;\n\nexport const ButtonGroup = styled.div`\n  display: flex;\n  .button {\n    border-radius: 0;\n    margin-left: 2px;\n  }\n  .button:first-child {\n    border-bottom-left-radius: ${props => props.theme.primaryBtnRadius};\n    border-top-left-radius: ${props => props.theme.primaryBtnRadius};\n    margin-left: 0;\n  }\n  .button:last-child {\n    border-bottom-right-radius: ${props => props.theme.primaryBtnRadius};\n    border-top-right-radius: ${props => props.theme.primaryBtnRadius};\n  }\n`;\n\nexport const DatasetSquare = styled.div`\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  background-color: rgb(${props => props.color.join(',')});\n  margin-right: 12px\n`;\n\nexport const Table = styled.table`\n  width: 100%;\n  border-spacing: 0;\n\n  thead {\n    tr th {\n      background: ${props => props.theme.panelBackgroundLT};\n      color: ${props => props.theme.titleColorLT};\n      padding: 18px 12px;\n      text-align: start;\n    }\n  }\n\n  tbody {\n   tr td {\n     border-bottom: ${props => props.theme.panelBorderLT};\n     padding: 12px;\n   }\n  }\n`;\n\nexport const StyledModalContent = styled.div`\n  background: ${props => props.theme.panelBackgroundLT};\n  color: ${props => props.theme.textColorLT};\n  display: flex;\n  flex-direction: row;\n  font-size: 10px;\n  margin: 0 -96px;\n  padding: 30px 96px;\n  justify-content: space-between;\n`;\n\n/**\n * Newer versions of mapbox.gl display an error message banner on top of the map by default\n * which will cause the map to display points in the wrong locations\n * This workaround will hide the error banner.\n */\nexport const StyledMapContainer = styled.div`\n  .mapboxgl-map .mapboxgl-missing-css {\n    display: none;\n  }\n`;\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nconst Accessor = {\n  IDENTITY_FN: input => input,\n\n  generateAccessor: field => object => object[field],\n\n  generateOptionToStringFor: function generateOptionToStringFor(prop) {\n    if (typeof prop === 'string') {\n      return this.generateAccessor(prop);\n    } else if (typeof prop === 'function') {\n      return prop;\n    } else if (typeof prop === 'object'){\n      return prop.name\n    }\n    return this.IDENTITY_FN;\n  },\n\n  valueForOption: (option, object) => {\n    if (typeof option === 'string') {\n      return object[option];\n    } else if (typeof option === 'function') {\n      return option(object);\n    } else if (typeof prop === 'object'){\n      return option.name\n    }\n    return object;\n  }\n};\n\nexport default Accessor;\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nconst getStyleClassFromColor = (totalColor, colors) =>\n  new Array(totalColor)\n    .fill(1)\n    .reduce(\n      (accu, c, i) => `${accu}.cr${i + 1} {fill:${colors[i % colors.length]};}`,\n      ''\n    );\n\nexport default class Base extends Component {\n  static displayName = 'Base Icon';\n\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string,\n    /** Set the width of the icon, ex. '16px' */\n    width: PropTypes.string,\n    /** Set the viewbox of the svg */\n    viewBox: PropTypes.string,\n    /** Path element */\n    children: PropTypes.node,\n\n    predefinedClassName: PropTypes.string,\n    className: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: null,\n    width: null,\n    viewBox: '0 0 64 64',\n    predefinedClassName: '',\n    className: ''\n  };\n\n  render() {\n    const {\n      height,\n      width,\n      viewBox,\n      style = {},\n      children,\n      predefinedClassName,\n      className,\n      colors,\n      totalColor,\n      ...props\n    } = this.props;\n    const svgHeight = height;\n    const svgWidth = width || svgHeight;\n    style.fill = 'currentColor';\n\n    const fillStyle =\n      Array.isArray(colors) &&\n      totalColor &&\n      getStyleClassFromColor(totalColor, colors);\n\n    return (\n      <svg\n        viewBox={viewBox}\n        width={svgWidth}\n        height={svgHeight}\n        style={style}\n        className={`${predefinedClassName} ${className}`}\n        {...props}\n      >\n        {fillStyle ?\n          <style type=\"text/css\">{fillStyle}</style> : null}\n        {children}\n      </svg>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Cross extends Component {\n  static propTypes = {\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-delete'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <g transform=\"translate(8, 8)\">\n          <path d=\"M31.5059707,24 L47.5987718,7.90719891 C48.1337427,7.37222791 48.1337427,6.50972364 47.5987718,5.97475264 L42.0252474,0.40122825 C41.4902764,-0.13374275 40.6277721,-0.13374275 40.0928011,0.40122825 L24,16.4940293 L7.90719891,0.40122825 C7.37222791,-0.13374275 6.50972364,-0.13374275 5.97475264,0.40122825 L0.40122825,5.97475264 C-0.13374275,6.50972364 -0.13374275,7.37222791 0.40122825,7.90719891 L16.4940293,24 L0.40122825,40.0928011 C-0.13374275,40.6277721 -0.13374275,41.4902764 0.40122825,42.0252474 L5.97475264,47.5987718 C6.50972364,48.1337427 7.37222791,48.1337427 7.90719891,47.5987718 L24,31.5059707 L40.0928011,47.5987718 C40.6277721,48.1337427 41.4902764,48.1337427 42.0252474,47.5987718 L47.5987718,42.0252474 C48.1337427,41.4902764 48.1337427,40.6277721 47.5987718,40.0928011 L31.5059707,24 Z\" />\n        </g>\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from 'styled-components';\nimport Delete from '../icons/delete';\n\nconst propTypes = {\n  // required properties\n  onClick: PropTypes.func.isRequired,\n  removeItem: PropTypes.func.isRequired,\n\n  // optional properties\n  selectedItems: PropTypes.arrayOf(PropTypes.any),\n  disabled: PropTypes.bool,\n  displayOption: PropTypes.func,\n  focus: PropTypes.bool,\n  error: PropTypes.bool,\n  placeholder: PropTypes.string\n};\n\nconst ChickletButton = styled.div`\n  border-radius: 1px;\n  font-size: auto;\n  color: ${props => props.theme.textColor};\n  line-height: 20px;\n  /*margin: 3px 10px 3px 3px;*/\n  /*padding: 4px 6px;*/\n  padding-left: 6px;\n  display: flex;\n  align-items: center;\n  max-width: calc(100% - 8px);\n  :hover {\n    color: ${props => props.theme.textColorHl};\n  }\n`;\n// font-size: 11px;\n// background: ${props => props.theme.panelActiveBg};\nconst ChickletTag = styled.span`\n  margin-right: 10px;\n  text-overflow: ellipsis;\n  width: 100%;\n  overflow: hidden;\n\n  :hover {\n    overflow: visible;\n  }\n`;\n\nconst Chicklet = ({disabled, name, remove}) => (\n  <ChickletButton>\n    <ChickletTag>{name}</ChickletTag>\n    <Delete height=\"10px\" onClick={disabled ? null : remove} />\n  </ChickletButton>\n);\n\nconst ChickletedInputContainer = styled.div`\n  ${props => props.theme.chickletedInput}\n`;\n\nconst ChickletedInput = ({\n  focus,\n  disabled,\n  error,\n  onClick,\n  className,\n  selectedItems = [],\n  placeholder = '',\n  removeItem,\n  displayOption = d => d\n}) => (\n  <ChickletedInputContainer\n    className={`${className} chickleted-input`}\n    focus={focus}\n    disabled={disabled}\n    error={error}\n    onClick={onClick}\n  >\n    {selectedItems.length > 0\n      ? selectedItems.map((item, i) => (\n          <Chicklet\n            disabled={disabled}\n            key={`${displayOption(item)}_${i}`}\n            name={displayOption(item)}\n            remove={e => removeItem(item, e)}\n          />\n        ))\n      : placeholder}\n  </ChickletedInputContainer>\n);\n\nChickletedInput.propTypes = propTypes;\n\nexport default ChickletedInput;\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/* eslint-disable no-use-before-define */\nconst KeyEvent = {} //KeyEvent || {};\n/* eslint-enable no-use-before-define */\n\nKeyEvent.DOM_VK_UP = KeyEvent.DOM_VK_UP || 38;\nKeyEvent.DOM_VK_DOWN = KeyEvent.DOM_VK_DOWN || 40;\nKeyEvent.DOM_VK_BACK_SPACE = KeyEvent.DOM_VK_BACK_SPACE || 8;\nKeyEvent.DOM_VK_RETURN = KeyEvent.DOM_VK_RETURN || 13;\nKeyEvent.DOM_VK_ENTER = KeyEvent.DOM_VK_ENTER || 14;\nKeyEvent.DOM_VK_ESCAPE = KeyEvent.DOM_VK_ESCAPE || 27;\nKeyEvent.DOM_VK_TAB = KeyEvent.DOM_VK_TAB || 9;\n\nexport default KeyEvent;\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styled from 'styled-components';\n\nexport const classList = {\n  list: 'list-selector',\n  listHeader: 'list__header',\n  listSection: 'list__section',\n  listItem: 'list__item',\n  listItemAnchor: 'list__item__anchor'\n};\n\nconst defaultDisplay = d => d;\nexport const ListItem = ({value, displayOption = defaultDisplay}) => (\n  <span className={classList.listItemAnchor}>{displayOption(value)}</span>\n);\n\nconst DropdownListWrapper = styled.div`\n  background-color: ${props => props.theme.dropdownListBgd};\n  border-top: 1px solid ${props => props.theme.dropdownListBorderTop};\n  ${props => props.theme.dropdownList};\n`;\n\nexport default class DropdownList extends Component {\n  static propTypes = {\n    options: PropTypes.arrayOf(PropTypes.any),\n    allowCustomValues: PropTypes.number,\n    customClasses: PropTypes.object,\n    customValues: PropTypes.arrayOf(PropTypes.any),\n    customListItemComponent: PropTypes.oneOfType([\n      PropTypes.element,\n      PropTypes.func\n    ]),\n    customListHeaderComponent: PropTypes.oneOfType([\n      PropTypes.element,\n      PropTypes.func\n    ]),\n    selectionIndex: PropTypes.number,\n    onOptionSelected: PropTypes.func,\n    displayOption: PropTypes.func.isRequired,\n    defaultClassNames: PropTypes.bool,\n    areResultsTruncated: PropTypes.bool,\n    resultsTruncatedMessage: PropTypes.string,\n    listItemComponent: PropTypes.func\n  };\n\n  static defaultProps = {\n    customClasses: {},\n    customListItemComponent: ListItem,\n    customListHeaderComponent: null,\n    allowCustomValues: 0,\n    customValues: [],\n    displayOption: defaultDisplay,\n    onOptionSelected: () => {},\n    defaultClassNames: true,\n    selectionIndex: null\n  };\n\n  _onClick(result, event) {\n    event.preventDefault();\n    this.props.onOptionSelected(result, event);\n  }\n\n  render() {\n    const {fixedOptions} = this.props;\n    const display = this.props.displayOption;\n\n    // Don't render if there are no options to display\n    if (!this.props.options.length && this.props.allowCustomValues <= 0) {\n      return false;\n    }\n\n    const valueOffset = Array.isArray(fixedOptions) ? fixedOptions.length : 0;\n\n    // For some reason onClick is not fired when clicked on an option\n    // onMouseDown is used here as a workaround of #205 and other\n    return (\n      <DropdownListWrapper className={classList.list}>\n        {this.props.customListHeaderComponent ? (\n          <div className={classList.listHeader}>\n            <this.props.customListHeaderComponent />\n          </div>\n        ) : null}\n\n        {valueOffset > 0 ? (\n          <div className={classList.listSection}>\n            {fixedOptions.map((value, i) => (\n              <div\n                className={classNames(classList.listItem, {\n                  hover: this.props.selectionIndex === i,\n                  fixed: true\n                })}\n                key={`${display(value)}_${i}`}\n                onMouseDown={e => this._onClick(value, e)}\n                onClick={e => this._onClick(value, e)}\n              >\n                <this.props.customListItemComponent\n                  value={value}\n                  displayOption={display}\n                />\n              </div>\n            ))}\n          </div>\n        ) : null}\n\n        {this.props.options.map((value, i) => (\n          <div\n            className={classNames(classList.listItem, {\n              hover: this.props.selectionIndex === i + valueOffset\n            })}\n            key={`${display(value)}_${i}`}\n            onMouseDown={e => this._onClick(value, e)}\n            onClick={e => this._onClick(value, e)}\n          >\n            <this.props.customListItemComponent\n              value={value}\n              displayOption={display}\n            />\n          </div>\n        ))}\n      </DropdownListWrapper>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Add extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-add'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M35.93,28.57V9.89a1,1,0,0,0-1-1h-5.9a1,1,0,0,0-1,1V28.57H9.39a1,1,0,0,0-1,1v5.9a1,1,0,0,0,1,1H28.07V55.11a1,1,0,0,0,1,1h5.9a1,1,0,0,0,1-1V36.43H54.61a1,1,0,0,0,1-1v-5.9a1,1,0,0,0-1-1Z\" />\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class ArrowDown extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-arrowdown'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M53,26.21l-4.2-4.3a1,1,0,0,0-1.4,0L32,37.67,16.61,21.92a1,1,0,0,0-1.4,0L11,26.21a1,1,0,0,0,0,1.43L27.1,44.11l4.2,4.3a1,1,0,0,0,1.4,0l4.2-4.3L53,27.65a1,1,0,0,0,0-1.43\"/>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class ArrowLeft extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-arrowleft'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\" />\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class ArrowRight extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-arrowright'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M26.7,54.7l-4.5-4.4c-0.4-0.4-0.4-1,0-1.4L38.6,33L22.2,17c-0.4-0.4-0.4-1,0-1.5l4.5-4.4c0.4-0.4,1.1-0.4,1.5,0\n\tl17.1,16.7l4.5,4.4c0.4,0.4,0.4,1,0,1.4L45.2,38L28.2,54.7C27.8,55.1,27.1,55.1,26.7,54.7\" />\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Clock extends Component {\n\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-clock'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M41.68,41.16l-11.36-5a3,3,0,0,1-1.74-3L29.86,19h3l1.48,13.29,8.86,5.91Z\" />\n        <path d=\"M32.21,11.7A20.06,20.06,0,1,1,12.15,31.77,20.09,20.09,0,0,1,32.21,11.7m0-3.65A23.71,23.71,0,1,0,55.92,31.77,23.71,23.71,0,0,0,32.21,8.06Z\" />\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Close extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-closewindow'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <g transform=\"translate(8,8)\">\n          <path d=\"M16.127688,49.4434399 L0.686714703,34.0024666 C-0.228904901,33.086847 -0.228904901,31.6023343 0.686714703,30.6867147 C1.12641074,30.2470187 1.72276655,30 2.34459065,30 L17.785564,30 C19.0804456,30 20.1301546,31.049709 20.1301546,32.3445907 L20.1301546,47.785564 C20.1301546,49.0804456 19.0804456,50.1301546 17.785564,50.1301546 C17.1637399,50.1301546 16.5673841,49.883136 16.127688,49.4434399 Z\" />\n          <path\n            d=\"M45.127688,19.4434399 L29.6867147,4.0024666 C28.7710951,3.086847 28.7710951,1.60233431 29.6867147,0.686714703 C30.1264107,0.247018663 30.7227665,-8.17124146e-14 31.3445907,-8.17124146e-14 L46.785564,-7.7547585e-14 C48.0804456,-7.7547585e-14 49.1301546,1.04970899 49.1301546,2.34459065 L49.1301546,17.785564 C49.1301546,19.0804456 48.0804456,20.1301546 46.785564,20.1301546 C46.1637399,20.1301546 45.5673841,19.883136 45.127688,19.4434399 Z\"\n            transform=\"translate(39.065077, 10.065077) rotate(-180.000000) translate(-39.065077, -10.065077)\"\n          />\n        </g>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Crosshairs extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-crosshairs'\n  };\n\n  render() {\n    return (\n      <Base viewBox=\"0 0 64 64\" {...this.props}>\n        <path d=\"M60.015 30h-4.12c-.961-11.648-10.237-20.932-21.88-21.908V4h-4v4.087C18.343 9.037 9.038 18.332 8.075 30h-4.06v4h4.06c.963 11.668 10.268 20.964 21.94 21.913V60h4v-4.092c11.643-.976 20.919-10.26 21.88-21.908h4.12v-4zm-8.131 0H39.723a8 8 0 0 0-5.708-5.73V12.103c9.42.954 16.928 8.473 17.869 17.897zm-21.87-17.9v12.155A7.999 7.999 0 0 0 24.248 30H12.086c.942-9.444 8.48-16.972 17.929-17.9zM12.087 34h12.161a7.999 7.999 0 0 0 5.768 5.745V51.9c-9.448-.928-16.987-8.456-17.93-17.9zm21.929 17.897V39.73A8 8 0 0 0 39.723 34h12.16c-.94 9.424-8.448 16.943-17.868 17.897z\"/>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Cube3D extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-cube3d'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M29.2,29.57,9.52,40.93V20a2.81,2.81,0,0,1,1.4-2.43L29.2,7.06Z\" />\n        <path d=\"M32.08,34.38l21,10.82L33.4,56.56a2.78,2.78,0,0,1-2.8,0L12.12,45.91Z\" />\n        <path d=\"M54.48,20v19.6L34.8,29.49V7.06L53.09,17.61A2.81,2.81,0,0,1,54.48,20Z\" />\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class CursorClick extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-cursorclick'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <g transform=\"scale(1.2, 1.2) translate(0, 2)\">\n          <polygon points=\"22.5,11.1 27.6,43.9 35.3,37.3 43,49 48.8,45 41,33.2 49,28.3 \" />\n          <path d=\"M21.2,27.8C14.5,26.6,9.8,20.7,9.8,14c0-7.7,6.3-14,14-14s14,6.3,14,14c0,0.8-0.1,1.5-0.2,2.3l-2.5-0.4\n\tc0.1-0.6,0.2-1.3,0.2-1.8c0-6.4-5.2-11.5-11.5-11.5S12.3,7.7,12.3,14c0,5.5,3.9,10.3,9.4,11.4L21.2,27.8z\" />\n        </g>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Docs extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-docs'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M23.62,23.41a1,1,0,0,1,.39.08,1,1,0,0,0-.78,0A1,1,0,0,1,23.62,23.41Z\" />\n        <path d=\"M32,57.5A24.83,24.83,0,1,1,56.83,32.67,24.86,24.86,0,0,1,32,57.5Zm0-44.86a20,20,0,1,0,20,20A20,20,0,0,0,32,12.64Z\" />\n        <rect\n          x=\"28.8\"\n          y=\"29.46\"\n          width=\"6.41\"\n          height=\"16.02\"\n          rx=\"1.6\"\n          ry=\"1.6\"\n        />\n        <rect x=\"28.8\" y=\"19.85\" width=\"6.41\" height=\"6.41\" rx=\"1.6\" ry=\"1.6\" />\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class DragNDrop extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-dragndrop'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M53.11,56.13H10.89A3.11,3.11,0,0,1,7.79,53V31.92a1.86,1.86,0,0,1,3.72,0V52.4h41V31.92a1.86,1.86,0,0,1,3.72,0V53A3.11,3.11,0,0,1,53.11,56.13Z\" />\n        <path d=\"M33.86,33l8-8a1.86,1.86,0,1,1,2.63,2.63L33.32,38.82a1.86,1.86,0,0,1-2.63,0L19.51,27.64A1.86,1.86,0,0,1,22.14,25l8,8V11.43a1.86,1.86,0,0,1,3.72,0Z\" />\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Email extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-email'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M23.85,23a1,1,0,0,1,.38.08,1,1,0,0,0-.76,0A1,1,0,0,1,23.85,23Z\" />\n        <path d=\"M8.35,24.41V47.18a3.37,3.37,0,0,0,3.37,3.37H52.2a3.37,3.37,0,0,0,3.37-3.37V24.41L32,37.9Z\" />\n        <path d=\"M55.57,16.82a3.37,3.37,0,0,0-3.37-3.37H11.72a3.37,3.37,0,0,0-3.37,3.37L32,30.31Z\" />\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Expand extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-expand'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <g transform=\"translate(6.000000, 6.000000)\">\n          <path d=\"M31.25,6.25 L36.0416667,11.0416667 L30.0208333,17.0208333 L32.9791667,19.9791667 L38.9583333,13.9583333 L43.75,18.75 L43.75,6.25 L31.25,6.25 Z M6.25,18.75 L11.0416667,13.9583333 L17.0208333,19.9791667 L19.9791667,17.0208333 L13.9583333,11.0416667 L18.75,6.25 L6.25,6.25 L6.25,18.75 Z M18.75,43.75 L13.9583333,38.9583333 L19.9791667,32.9791667 L17.0208333,30.0208333 L11.0416667,36.0416667 L6.25,31.25 L6.25,43.75 L18.75,43.75 Z M43.75,31.25 L38.9583333,36.0416667 L32.9791667,30.0208333 L30.0208333,32.9791667 L36.0416667,38.9583333 L31.25,43.75 L43.75,43.75 L43.75,31.25 Z\" />\n        </g>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class EyeSeen extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-eyeseen'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M55.25,35v-.09a1.86,1.86,0,0,0-.49-1,36.15,36.15,0,0,0-5.05-5,31.92,31.92,0,0,0-13.19-7A21.09,21.09,0,0,0,28,21.8a26.07,26.07,0,0,0-7.4,2.73,40.33,40.33,0,0,0-9.88,7.63c-.54.56-1.07,1.12-1.56,1.73a1.92,1.92,0,0,0,0,2.56,36.09,36.09,0,0,0,5.05,5,31.89,31.89,0,0,0,13.19,7,21.05,21.05,0,0,0,8.51.12,26.06,26.06,0,0,0,7.41-2.73,40.37,40.37,0,0,0,9.88-7.63c.54-.56,1.07-1.12,1.56-1.73a1.84,1.84,0,0,0,.49-1v-.19s0-.06,0-.09,0-.06,0-.09,0-.08,0-.09M32,44.51a9.35,9.35,0,1,1,9.28-9.35A9.31,9.31,0,0,1,32,44.51\"/>\n        <path d=\"M32,32.07a3.1,3.1,0,1,1-3.07,3.1A3.08,3.08,0,0,1,32,32.07\"/>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class EyeUnseen extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-eyeunseen'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M17.55,44.49a42.79,42.79,0,0,1-4.18-3.08,36.09,36.09,0,0,1-5.05-5,1.92,1.92,0,0,1,0-2.56c.49-.6,1-1.17,1.56-1.73a40.33,40.33,0,0,1,9.88-7.63,26.07,26.07,0,0,1,7.4-2.73,21.09,21.09,0,0,1,8.51.12,24.12,24.12,0,0,1,3.41,1L34.34,27.7a7.49,7.49,0,0,0-9.59,9.59Z\"/>\n        <path d=\"M23.14,47.37l5.73-5.73a7.49,7.49,0,0,0,9.82-9.82l6-6a42.78,42.78,0,0,1,4.18,3.09,36.15,36.15,0,0,1,5.05,5,1.86,1.86,0,0,1,.49,1V35s0,0,0,.09,0,.06,0,.09,0,.06,0,.09v.19a1.84,1.84,0,0,1-.49,1c-.49.6-1,1.17-1.56,1.73a40.37,40.37,0,0,1-9.88,7.63,26.06,26.06,0,0,1-7.41,2.73,21.05,21.05,0,0,1-8.51-.12A24.09,24.09,0,0,1,23.14,47.37Z\"/>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class File extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-file'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M49.61,20.51,36.56,7.46a1.36,1.36,0,0,0-.32-.24,1.6,1.6,0,0,0-.39-.14,1.53,1.53,0,0,0-.26,0H15.38A1.39,1.39,0,0,0,14,8.45v47.1a1.39,1.39,0,0,0,1.39,1.39H48.63A1.39,1.39,0,0,0,50,55.55V21.48A1.4,1.4,0,0,0,49.61,20.51Zm-1,35H15.38V8.45h19.4V20.92a1.39,1.39,0,0,0,1.39,1.39H48.63Z\" />\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Base from './base';\n\nexport default class Files extends React.Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-minus'\n  };\n\n  render() {\n    return (\n      <Base viewBox=\"0 0 64 64\" {...this.props}>\n        <path d=\"M48.015 58h-32a8 8 0 0 1-8-8V26h48v24a8 8 0 0 1-8 8zm-2-44h-28a6 6 0 0 0-6 6v2h40v-2a6 6 0 0 0-6-6zm-2 26v-6h-4v4h-16v-4h-4v6a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2zm-4-34h-16a4 4 0 0 0-4 4h24a4 4 0 0 0-4-4z\" />\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport {File} from './index';\n\nconst FileNameTag = styled.div`\n  background-color: currentColor;\n  border-radius: 1px;\n  display: inline-block;\n  padding: 0 4px;\n  position: absolute;\n  top: 45%;\n  left: 10%;\n\n  .text {\n    color: white;\n    font-size: ${props => props.fontSize};\n  }\n`;\n\nconst FileTypeIconWrapper = styled.div`\n  display: inline-block;\n  position: relative;\n  color: currentColor;\n  height: ${props => props.height};\n`;\n\nconst FileTypeIcon = ({ext, height, fontSize}) => (\n  <FileTypeIconWrapper height={height}>\n    <File height={height} />\n    <FileNameTag fontSize={fontSize}>\n      <div className=\"text\">{ext}</div>\n    </FileNameTag>\n  </FileTypeIconWrapper>\n);\n\nexport default FileTypeIcon;\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class FilterFunnel extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-filterfunnel'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M52.5,19.67l-16,20h0a6.24,6.24,0,0,0-1.37,3.9V57L30.6,54.74a3.12,3.12,0,0,1-1.73-2.79V43.58h0a6.24,6.24,0,0,0-1.37-3.9l-16-20a5,5,0,0,1-1.35-3.24c0-5.17,9.78-9.36,21.85-9.36s21.85,4.19,21.85,9.36A5,5,0,0,1,52.5,19.67Zm-20.5,3c8.62,0,15.61-2.79,15.61-6.24s-7-6.24-15.61-6.24S16.39,13,16.39,16.43,23.38,22.67,32,22.67Z\" />\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Histogram extends React.Component {\n  static propTypes = {\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-histogram'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <g transform=\"translate(7.500000, 7.500000)\">\n          <path\n            d=\"M5,40.593203 L16.7666161,40.593203 L16.7666161,10 L5,10 L5,40.593203 L5,40.593203 Z M33.2333839,40.593203 L45,40.593203 L45,10 L33.2333839,10 L33.2333839,40.593203 L33.2333839,40.593203 Z M30.883308,40.5892837 L30.883308,26.4693451 L19.116692,26.4693451 L19.116692,40.5892837 L30.883308,40.5892837 Z\"\n            id=\"Shape\"\n          />\n        </g>\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Layers extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-layers'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M50.88,43.52a3.2,3.2,0,0,1,0,5.86L34.56,56.52a6.42,6.42,0,0,1-5.13,0L13.12,49.37a3.2,3.2,0,0,1,0-5.86l4.62-2a6,6,0,0,0,1.48,1l2.16.95-7,3.05,16.32,7.14a3.19,3.19,0,0,0,2.56,0L49.6,46.44l-7-3.05,2.16-.95a6,6,0,0,0,1.48-.95Zm0-14.39a3.2,3.2,0,0,1,0,5.86L34.56,42.13a6.42,6.42,0,0,1-5.13,0L13.12,35a3.2,3.2,0,0,1,0-5.86l4.62-2a6,6,0,0,0,1.48,1l2.16.95-7,3.05L30.72,39.2a3.19,3.19,0,0,0,2.56,0L49.6,32.06l-7-3.05,2.16-.95a6,6,0,0,0,1.48-.95ZM13.12,20.6a3.2,3.2,0,0,1,0-5.86L29.44,7.6a6.39,6.39,0,0,1,5.13,0l16.32,7.14a3.2,3.2,0,0,1,0,5.86L34.56,27.74a6.39,6.39,0,0,1-5.13,0Z\" />\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class LeftArrow extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-left-arrow'\n  };\n\n  render() {\n    return (\n      <Base viewBox=\"0 0 64 64\" {...this.props}>\n        <path d=\"M39.425 53.21L23.16 36.947l-4.242-4.243a1 1 0 0 1 0-1.414l4.242-4.243 16.264-16.263a1 1 0 0 1 1.414 0l4.242 4.242a1 1 0 0 1 0 1.414L29.525 31.997l15.556 15.556a1 1 0 0 1 0 1.414L40.84 53.21a1 1 0 0 1-1.414 0z\"/>\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Legend extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-legend'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M29.78,45.89v5.56H46.44V45.89Zm-11.11,0v5.56h5.56V45.89ZM29.78,34.78v5.56H46.44V34.78Zm-11.11,0v5.56h5.56V34.78ZM29.78,23.67v5.56H46.44V23.67Zm-11.11,0v5.56h5.56V23.67ZM29.78,12.56v5.56H46.44V12.56Zm-11.11,0v5.56h5.56V12.56ZM15.89,7H49.22A2.78,2.78,0,0,1,52,9.78V54.22A2.78,2.78,0,0,1,49.22,57H15.89a2.78,2.78,0,0,1-2.78-2.78V9.78A2.78,2.78,0,0,1,15.89,7Z\" />\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class LineChart extends Component {\n  static propTypes = {\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-linechart'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M53.4647408,17.8549995L35.8387756,35.4809608L25.5911236,25.2333088L6.607347,44.2427025\n\tl3.6122975,3.6122971l15.371479-15.3714752l10.2476521,10.2476501l21.2638779-21.2382584L53.4647408,17.8549995z\" />\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Minus extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-minus'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <g><path d=\"M55 36H9a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h46a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1z\"/></g>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Messages extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-messages'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M52 10H12a8 8 0 0 0-8 8v20a8 8 0 0 0 8 8h4v7c0 .567.455 1 .964 1 .17 0 .345-.031.512-.121L32 46h20a8 8 0 0 0 8-8V18a8 8 0 0 0-8-8zm-8 24H20v-4h24v4zm4-8H16v-4h32v4z\"/>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Pause extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-pause'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M23.015 56h-9a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v44a2 2 0 0 1-2 2zm29-2V10a2 2 0 0 0-2-2h-9a2 2 0 0 0-2 2v44a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2z\"/>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Base from './base';\n\nexport default class Picture extends React.Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-minus'\n  };\n\n  render() {\n    return (\n      <Base viewBox=\"0 0 64 64\" {...this.props}>\n        <path d=\"M55 8H9a1 1 0 0 0-1 1v46a1 1 0 0 0 1 1h46a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1zm-3 36H12V12h40v32zM40.508 25.75l8.217 11.05c.98 1.319.047 3.2-1.587 3.2H16.987c-1.863 0-2.698-2.356-1.257-3.547l6.012-4.966a1.97 1.97 0 0 1 2.513 0l3.859 3.187a1.973 1.973 0 0 0 2.843-.347l6.378-8.578a1.973 1.973 0 0 1 3.173 0zM26 21a4 4 0 1 1-8 0 4 4 0 0 1 8 0z\" />\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Pin extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    size: 'tiny',\n    predefinedClassName: 'data-ex-icons-pin'\n\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M36 35.476V59a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V35.476C21.103 33.696 16 27.453 16 20c0-8.836 7.163-16 16-16s16 7.164 16 16c0 7.453-5.103 13.697-12 15.476z\"/>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Play extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-play'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M15.625 7.434l36.738 23.378a2 2 0 0 1 0 3.375L15.625 57.566c-1.997 1.27-4.61-.164-4.61-2.531V9.965c0-2.368 2.613-3.802 4.61-2.531z\"/>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Reduce extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-reduce'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <g transform=\"translate(12.000000, 12.000000)\">\n          <path\n            d=\"M36.5208333,13.9791667 L31.7291666,9.1875 L37.75,3.2083334 L34.7916666,0.25 L28.8125,6.2708334 L24.0208333,1.4791667 L24.0208333,13.9791667 L36.5208333,13.9791667 Z M13.9791667,1.4791667 L9.1875,6.2708334 L3.2083334,0.25 L0.25,3.2083334 L6.2708334,9.1875 L1.4791667,13.9791667 L13.9791667,13.9791667 L13.9791667,1.4791667 Z M1.4791667,24.0208333 L6.2708334,28.8125 L0.25,34.7916666 L3.2083334,37.75 L9.1875,31.7291666 L13.9791667,36.5208333 L13.9791667,24.0208333 L1.4791667,24.0208333 Z M24.0208333,36.5208333 L28.8125,31.7291666 L34.7916666,37.75 L37.75,34.7916666 L31.7291666,28.8125 L36.5208333,24.0208333 L24.0208333,24.0208333 L24.0208333,36.5208333 Z\"\n            id=\"Shape\"\n          />\n        </g>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Reset extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-reset'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M56 32.9v.001c0 12.739-9.788 23.192-22.255 24.248-1.127.095-2.083-.85-2.083-1.982v-5.256c0-.998.784-1.763 1.776-1.878 7.568-.882 13.46-7.332 13.46-15.132 0-8.402-6.834-15.235-15.234-15.235S16.43 24.499 16.429 32.9h7.313L13.463 49.865c-.773 1.278-2.63 1.269-3.393-.015L0 32.9h7.328c0-13.441 10.895-24.336 24.336-24.336S56 19.46 56 32.9z\"/>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Save extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-save'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M49.26,56.17H14.74a6.91,6.91,0,0,1-6.91-6.91V32a3.45,3.45,0,1,1,6.91,0V49.26H49.26V32a3.45,3.45,0,1,1,6.91,0V49.26A6.91,6.91,0,0,1,49.26,56.17Z\" />\n        <path d=\"M44.81,24.08a3.5,3.5,0,0,1-4.9,0l-4.45-4.45V35.44a3.45,3.45,0,0,1-6.91,0V19.62l-4.45,4.45a3.5,3.5,0,0,1-4.9,0,3.44,3.44,0,0,1,0-4.87L29.55,8.85a6,6,0,0,1,.52-.45,2.61,2.61,0,0,1,.62-.31,3.45,3.45,0,0,1,2.62,0,2.61,2.61,0,0,1,.62.31,6,6,0,0,1,.52.45L44.81,19.21A3.44,3.44,0,0,1,44.81,24.08Z\" />\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Share extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-share'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M58 50c0 5.523-4.477 10-10 10s-10-4.477-10-10c0-.432.037-.854.09-1.272L22.236 39.81A9.95 9.95 0 0 1 16 42c-5.523 0-10-4.477-10-10s4.477-10 10-10a9.95 9.95 0 0 1 6.236 2.19l15.854-8.918A10.03 10.03 0 0 1 38 14c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10a9.95 9.95 0 0 1-6.236-2.19L25.91 30.728c.053.418.09.84.09 1.272s-.037.854-.09 1.272l15.854 8.918A9.95 9.95 0 0 1 48 40c5.523 0 10 4.477 10 10z\" />\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class SquareSelect extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-select'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M57,15.36a8.38,8.38,0,0,1-8.32,8.32,8.35,8.35,0,0,1-8.32-8.32A8.38,8.38,0,0,1,48.64,7,8.35,8.35,0,0,1,57,15.36Z\" />\n        <path d=\"M57,48.64a8.31,8.31,0,0,1-16.35,2.08H23.39A8.31,8.31,0,1,1,13.27,40.61V23.39a8.3,8.3,0,0,1-6.24-8A8.38,8.38,0,0,1,15.36,7a8.3,8.3,0,0,1,8,6.24H36.16v4.16H23.39a7.88,7.88,0,0,1-2.16,3.79,7.88,7.88,0,0,1-3.79,2.16V40.61a8.29,8.29,0,0,1,6,6H40.61a8.29,8.29,0,0,1,6-6V27.84h4.16V40.61A8.3,8.3,0,0,1,57,48.64Z\" />\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Settings extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-settings'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <g transform=\"translate(3, 4) scale(0.9, 0.9)\">\n          <path d=\"M32.2,52.32a6.24,6.24,0,0,0,12.09,0h9.56a1.56,1.56,0,0,0,0-3.12H44.29a6.24,6.24,0,0,0-12.09,0h-22a1.56,1.56,0,0,0,0,3.12ZM16.59,33.59a6.24,6.24,0,0,0,12.09,0H53.85a1.56,1.56,0,0,0,0-3.12H28.68a6.24,6.24,0,0,0-12.09,0H10.15a1.56,1.56,0,1,0,0,3.12ZM35.32,11.74H10.15a1.56,1.56,0,1,0,0,3.12H35.32a6.24,6.24,0,0,0,12.09,0h6.44a1.56,1.56,0,0,0,0-3.12H47.41a6.24,6.24,0,0,0-12.09,0Z\" />\n        </g>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Search extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-search'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M56.74,53.21l-3.53,3.53a1.67,1.67,0,0,1-2.35,0L40.21,46.09A24.32,24.32,0,0,0,46.1,40.2L56.74,50.85A1.66,1.66,0,0,1,56.74,53.21Z\"/>\n        <path d=\"M26.22,6.78A19.46,19.46,0,1,0,42.6,36.7a19.18,19.18,0,0,0,3.08-10.47A19.45,19.45,0,0,0,26.22,6.78ZM11.64,26.22A14.58,14.58,0,1,1,26.22,40.81,14.6,14.6,0,0,1,11.64,26.22Z\"/>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Split extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-split'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <g transform=\"translate(7.500000, 7.500000)\">\n          <path d=\"M19.5,47.4137931 C19.5,48.8421157 20.6192881,50 22,50 C23.3807119,50 24.5,48.8421157 24.5,47.4137931 L24.5,2.5862069 C24.5,1.15788427 23.3807119,0 22,0 C20.6192881,0 19.5,1.15788427 19.5,2.5862069 L19.5,47.4137931 Z\" />\n          <rect x=\"0\" y=\"4\" width=\"44\" height=\"5\" rx=\"2.5\" />\n          <rect\n            transform=\"translate(2.500000, 24.500000) rotate(90.000000) translate(-2.500000, -24.500000) \"\n            x=\"-18\"\n            y=\"22\"\n            width=\"41\"\n            height=\"5\"\n            rx=\"2.5\"\n          />\n          <rect\n            transform=\"translate(41.500000, 25.000000) rotate(90.000000) translate(-41.500000, -25.000000) \"\n            x=\"20.5\"\n            y=\"22.5\"\n            width=\"42\"\n            height=\"5\"\n            rx=\"2.5\"\n          />\n          <rect x=\"0\" y=\"41\" width=\"44\" height=\"5\" rx=\"2.5\" />\n        </g>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Table extends Component {\n  static propTypes = {\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-table'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M56.0384598,50.5v-8.3076935H8.9615383V50.5H56.0384598z M8.9615383,22.8076916h13.8461533V14.5H8.9615383\n\tV22.8076916z M25.5769234,22.8076916h13.8461533V14.5H25.5769234V22.8076916z M42.1923065,22.8076916h13.8461533V14.5H42.1923065\n\tV22.8076916z M8.9615383,36.6538467h47.0769196v-8.3076935H8.9615383V36.6538467z\" />\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Trash extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-trash'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M51.4,13.9v1.6c0,0.9-0.7,1.6-1.6,1.6H13.6c-0.9,0-1.6-0.7-1.6-1.6v-1.6c0-0.9,0.7-1.6,1.6-1.6h9\n\tc0.9,0,1.6-0.7,1.6-1.6C24.3,9.7,25.1,9,26,9h11.5c0.9,0,1.6,0.7,1.6,1.6c0,0.9,0.7,1.6,1.6,1.6h9C50.7,12.3,51.4,13,51.4,13.9z\" />\n        <path d=\"M40.8,50.1l0.8-25.4h-3.3l-0.8,25.4H40.8z M30.1,50.1h3.3V24.7h-3.3V50.1z M26,50.1l-0.8-25.4h-3.3l0.8,25.4H26\n\tz M44.9,55H18.5c-0.9,0-1.6-0.7-1.6-1.6l-1.5-31.2c0-0.9,0.7-1.7,1.6-1.7h29.4c0.9,0,1.7,0.8,1.6,1.7l-1.5,31.2\n\tC46.5,54.3,45.8,55,44.9,55z\" />\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class Upload extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string,\n    predefinedClassName: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-upload'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <path d=\"M52 9v6a1 1 0 0 1-1 1H13a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h38a1 1 0 0 1 1 1zm-4 31L34.426 21.336a3 3 0 0 0-4.852 0L16 40h8v16h16V40h8z\"/>\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class VertDots extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-vertdot'\n  };\n\n  render() {\n    return (\n      <Base {...this.props}>\n        <rect x=\"35.01\" y=\"48.31\" width=\"6.44\" height=\"6.44\"/>\n        <rect x=\"35.01\" y=\"35.43\" width=\"6.44\" height=\"6.44\"/>\n        <rect x=\"35.01\" y=\"22.55\" width=\"6.44\" height=\"6.44\"/>\n        <rect x=\"35.01\" y=\"9.67\" width=\"6.44\" height=\"6.44\"/>\n        <rect x=\"22.13\" y=\"48.31\" width=\"6.44\" height=\"6.44\"/>\n        <rect x=\"22.13\" y=\"35.43\" width=\"6.44\" height=\"6.44\"/>\n        <rect x=\"22.13\" y=\"22.55\" width=\"6.44\" height=\"6.44\"/>\n        <rect x=\"22.13\" y=\"9.67\" width=\"6.44\" height=\"6.44\"/>\n      </Base>\n    );\n  }\n}\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Base from './base';\n\nexport default class CodeAlt extends Component {\n  static propTypes = {\n    /** Set the height of the icon, ex. '16px' */\n    height: PropTypes.string\n  };\n\n  static defaultProps = {\n    height: '16px',\n    predefinedClassName: 'data-ex-icons-crosshairs'\n  };\n\n  render() {\n    return (\n      <Base viewBox=\"0 0 64 64\" {...this.props}>\n        <path d=\"M27.768 13.97v4.803a1.2 1.2 0 0 1-1.201 1.2H22.964v8.407a3.603 3.603 0 0 1-3.602 3.603 3.603 3.603 0 0 1 3.602 3.603v8.406H26.567a1.2 1.2 0 0 1 1.2 1.201v4.804a1.2 1.2 0 0 1-1.2 1.2h-6.005a4.804 4.804 0 0 1-4.803-4.803v-7.206a3.603 3.603 0 0 0-3.603-3.602H9.754a1.196 1.196 0 0 1-1.19-1.176h-.01v-4.829c0-.663.537-1.2 1.2-1.2h2.402a3.603 3.603 0 0 0 3.603-3.604v-7.205a4.804 4.804 0 0 1 4.803-4.804h6.005a1.2 1.2 0 0 1 1.2 1.201v.002zm27.584 21.616h-2.401a3.603 3.603 0 0 0-3.603 3.602v7.206a4.804 4.804 0 0 1-4.804 4.804H38.54a1.2 1.2 0 0 1-1.201-1.201V45.193c0-.663.537-1.2 1.2-1.2H42.143v-8.407a3.603 3.603 0 0 1 3.603-3.603 3.603 3.603 0 0 1-3.603-3.603v-8.406H38.54a1.2 1.2 0 0 1-1.201-1.201v-4.804c0-.663.537-1.2 1.2-1.2h6.005a4.804 4.804 0 0 1 4.804 4.803v7.205a3.603 3.603 0 0 0 3.603 3.603h2.401c.654 0 1.175.526 1.19 1.176h.011v4.829a1.2 1.2 0 0 1-1.2 1.2z\"/>\n      </Base>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport fuzzy from 'fuzzy';\nimport classNames from 'classnames';\nimport styled from 'styled-components';\n//import {console as Console} from 'global/window';\n\nimport Accessor from './accessor';\nimport KeyEvent from './keyevent';\nimport DropdownList, {ListItem} from './dropdown-list';\nimport {Search} from '../icons';\n\nconst DEFAULT_CLASS = 'typeahead';\n/**\n * Copied mostly from 'react-typeahead', an auto-completing text input\n *\n * Renders an text input that shows options nearby that you can use the\n * keyboard or mouse to select.\n */\n\nconst TypeaheadWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  background-color: ${props => props.theme.dropdownListBgd};\n  box-shadow: ${props => props.theme.dropdownListShadow};\n\n  :focus {\n    outline: 0;\n  }\n`;\n\nconst InputBox = styled.div`\n  padding: 8px;\n`;\n\nconst TypeaheadInput = styled.input`\n  ${props => props.theme.secondaryInput}\n  background-color: #ffffff;\n  :hover {\n    cursor: pointer;\n    background-color: ${props => props.theme.secondaryInputBgd};\n  }\n`;\n\nconst InputIcon = styled.div`\n  position: absolute;\n  right: 15px;\n  top: 14px;\n  background-color: transparent !important;\n  color: ${props => props.theme.inputPlaceholderColor};\n  * {\n    background-color: transparent !important;\n  }\n`;\n\nexport default class Typeahead extends Component {\n  static propTypes = {\n    name: PropTypes.string,\n    customClasses: PropTypes.object,\n    maxVisible: PropTypes.number,\n    resultsTruncatedMessage: PropTypes.string,\n    options: PropTypes.arrayOf(PropTypes.any),\n    fixedOptions: PropTypes.arrayOf(PropTypes.any),\n    allowCustomValues: PropTypes.number,\n    initialValue: PropTypes.string,\n    value: PropTypes.string,\n    placeholder: PropTypes.string,\n    disabled: PropTypes.bool,\n    textarea: PropTypes.bool,\n    inputProps: PropTypes.object,\n    onOptionSelected: PropTypes.func,\n    onChange: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onKeyPress: PropTypes.func,\n    onKeyUp: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    filterOption: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    searchOptions: PropTypes.func,\n    displayOption: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    inputDisplayOption: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    formInputOption: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    defaultClassNames: PropTypes.bool,\n    customListComponent: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n    customListItemComponent: PropTypes.oneOfType([\n      PropTypes.element,\n      PropTypes.func\n    ]),\n    customListHeaderComponent: PropTypes.oneOfType([\n      PropTypes.element,\n      PropTypes.func\n    ]),\n    showOptionsWhenEmpty: PropTypes.bool,\n    searchable: PropTypes.bool\n  };\n\n  static defaultProps = {\n    options: [],\n    customClasses: {},\n    allowCustomValues: 0,\n    initialValue: '',\n    value: '',\n    placeholder: '',\n    disabled: false,\n    textarea: false,\n    inputProps: {},\n    onOptionSelected(option) {},\n    onChange(event) {},\n    onKeyDown(event) {},\n    onKeyPress(event) {},\n    onKeyUp(event) {},\n    onFocus(event) {},\n    onBlur(event) {},\n    filterOption: null,\n    searchOptions: null,\n    inputDisplayOption: null,\n    defaultClassNames: true,\n    customListComponent: DropdownList,\n    customListItemComponent: ListItem,\n    customListHeaderComponent: null,\n    showOptionsWhenEmpty: true,\n    searchable: true,\n    resultsTruncatedMessage: null\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchResults: this.getOptionsForValue(\n        this.props.initialValue,\n        this.props.options\n      ),\n\n      // This should be called something else, 'entryValue'\n      entryValue: this.props.value || this.props.initialValue,\n\n      // A valid typeahead value\n      selection: this.props.value,\n\n      // Index of the selection\n      selectionIndex: null,\n\n      // Keep track of the focus state of the input element, to determine\n      // whether to show options when empty (if showOptionsWhenEmpty is true)\n      isFocused: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      searchResults: this.getOptionsForValue('', this.props.options)\n    });\n\n    // call focus on entry or div to trigger key events listener\n    if (this.entry) {\n      this.entry.focus();\n    } else {\n      this.root.focus();\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const searchResults = this.getOptionsForValue(\n      this.state.entryValue,\n      nextProps.options\n    );\n\n    this.setState({searchResults});\n  }\n\n  _shouldSkipSearch(input) {\n    const emptyValue = !input || input.trim().length === 0;\n\n    // this.state must be checked because it may not be defined yet if this function\n    // is called from within getInitialState\n    const isFocused = this.state && this.state.isFocused;\n    return !(this.props.showOptionsWhenEmpty && isFocused) && emptyValue;\n  }\n\n  getOptionsForValue(value, options) {\n    if (!this.props.searchable) {\n      // directly pass through options if can not be searched\n      return options;\n    }\n    if (this._shouldSkipSearch(value)) {\n      return options;\n    }\n\n    // const searchOptions = this._generateSearchFunction();\n    // return searchOptions(value, options);\n\n    const selector = this.props.displayOption;\n    return options.reduce((a, c) => selector(c).toString().toLowerCase().includes(value.toLowerCase()) ? a.concat(c) : a, [])\n  }\n\n  focus() {\n    if (this.entry) {\n      this.entry.focus();\n    }\n  }\n\n  _hasCustomValue() {\n    return (\n      this.props.allowCustomValues > 0 &&\n      this.state.entryValue.length >= this.props.allowCustomValues &&\n      this.state.searchResults.indexOf(this.state.entryValue) < 0\n    );\n  }\n\n  _getCustomValue() {\n    return this._hasCustomValue() ? this.state.entryValue : null;\n  }\n\n  _renderIncrementalSearchResults() {\n    return (\n      <this.props.customListComponent\n        fixedOptions={this.props.fixedOptions}\n        options={\n          this.props.maxVisible\n            ? this.state.searchResults.slice(0, this.props.maxVisible)\n            : this.state.searchResults\n        }\n        areResultsTruncated={\n          this.props.maxVisible &&\n          this.state.searchResults.length > this.props.maxVisible\n        }\n        resultsTruncatedMessage={this.props.resultsTruncatedMessage}\n        onOptionSelected={this._onOptionSelected}\n        allowCustomValues={this.props.allowCustomValues}\n        customValue={this._getCustomValue()}\n        customClasses={this.props.customClasses}\n        customListItemComponent={this.props.customListItemComponent}\n        customListHeaderComponent={this.props.customListHeaderComponent}\n        selectionIndex={this.state.selectionIndex}\n        defaultClassNames={this.props.defaultClassNames}\n        displayOption={this.props.displayOption}\n        selectedItems={this.props.selectedItems}\n      />\n    );\n  }\n\n  getSelection() {\n    let index = this.state.selectionIndex;\n\n    if (this._hasCustomValue()) {\n      if (index === 0) {\n        return this.state.entryValue;\n      }\n      index--;\n    }\n    if (this._hasFixedOptions()) {\n      return index < this.props.fixedOptions.length\n        ? this.props.fixedOptions[index]\n        : this.state.searchResults[index - this.props.fixedOptions.length];\n    }\n    return this.state.searchResults[index];\n  }\n\n  _onOptionSelected = (option, event) => {\n    if (this.props.searchable) {\n      // reset entry input\n      this.setState({\n        searchResults: this.getOptionsForValue('', this.props.options),\n        selection: '',\n        entryValue: ''\n      });\n    }\n\n    return this.props.onOptionSelected(option, event);\n  };\n\n  // use () => {} to avoid binding 'this'\n  _onTextEntryUpdated = () => {\n    if (this.props.searchable) {\n      const value = this.entry.value;\n\n      this.setState({\n        searchResults: this.getOptionsForValue(value, this.props.options),\n        selection: '',\n        entryValue: value\n      });\n    }\n  };\n\n  _onEnter = event => {\n    const selection = this.getSelection();\n    if (!selection) {\n      return this.props.onKeyDown(event);\n    }\n    return this._onOptionSelected(selection, event);\n  };\n\n  _onEscape() {\n    this.setState({\n      selectionIndex: null\n    });\n  }\n\n  _onTab(event) {\n    const selection = this.getSelection();\n    let option = selection\n      ? selection\n      : this.state.searchResults.length > 0\n        ? this.state.searchResults[0]\n        : null;\n\n    if (option === null && this._hasCustomValue()) {\n      option = this._getCustomValue();\n    }\n\n    if (option !== null) {\n      return this._onOptionSelected(option, event);\n    }\n  }\n\n  eventMap(event) {\n    const events = {};\n\n    events[KeyEvent.DOM_VK_UP] = this.navUp;\n    events[KeyEvent.DOM_VK_DOWN] = this.navDown;\n    events[KeyEvent.DOM_VK_RETURN] = events[\n      KeyEvent.DOM_VK_ENTER\n    ] = this._onEnter;\n    events[KeyEvent.DOM_VK_ESCAPE] = this._onEscape;\n    events[KeyEvent.DOM_VK_TAB] = this._onTab;\n\n    return events;\n  }\n\n  _nav(delta) {\n    if (!this._hasHint()) {\n      return;\n    }\n    let newIndex =\n      this.state.selectionIndex === null\n        ? delta === 1 ? 0 : delta\n        : this.state.selectionIndex + delta;\n    let length = this.props.maxVisible\n      ? this.state.searchResults.slice(0, this.props.maxVisible).length\n      : this.state.searchResults.length;\n    if (this._hasCustomValue()) {\n      length += 1;\n    }\n\n    if (newIndex < 0) {\n      newIndex += length;\n    } else if (newIndex >= length) {\n      newIndex -= length;\n    }\n\n    this.setState({selectionIndex: newIndex});\n  }\n\n  navDown = () => {\n    this._nav(1);\n  };\n\n  navUp = () => {\n    this._nav(-1);\n  };\n\n  _onChange = event => {\n    if (this.props.onChange) {\n      this.props.onChange(event);\n    }\n\n    this._onTextEntryUpdated();\n  };\n\n  _onKeyDown = event => {\n    // If there are no visible elements, don't perform selector navigation.\n    // Just pass this up to the upstream onKeydown handler.\n    // Also skip if the user is pressing the shift key, since none of our handlers are looking for shift\n    if (!this._hasHint() || event.shiftKey) {\n      return this.props.onKeyDown(event);\n    }\n\n    const handler = this.eventMap()[event.keyCode];\n\n    if (handler) {\n      handler(event);\n    } else {\n      return this.props.onKeyDown(event);\n    }\n    // Don't propagate the keystroke back to the DOM/browser\n    event.preventDefault();\n  };\n\n  _onFocus = event => {\n    this.setState({isFocused: true});\n    if (this.props.onFocus) {\n      return this.props.onFocus(event);\n    }\n  };\n\n  _onBlur = event => {\n    this.setState({isFocused: false});\n    if (this.props.onBlur) {\n      return this.props.onBlur(event);\n    }\n  };\n\n  _renderHiddenInput() {\n    if (!this.props.name) {\n      return null;\n    }\n\n    return (\n      <input\n        type=\"hidden\"\n        name={this.props.name}\n        value={this.state.selection}\n      />\n    );\n  }\n\n  _generateSearchFunction() {\n    const searchOptionsProp = this.props.searchOptions;\n    const filterOptionProp = this.props.filterOption;\n    if (typeof searchOptionsProp === 'function') {\n      if (filterOptionProp !== null) {\n        console.warn(\n          'searchOptions prop is being used, filterOption prop will be ignored'\n        );\n      }\n      return searchOptionsProp;\n    } else if (typeof filterOptionProp === 'function') {\n      // use custom filter option\n      return (value, options) =>\n        options.filter(o => filterOptionProp(value, o));\n    }\n\n    const mapper =\n      typeof filterOptionProp === 'string'\n        ? Accessor.generateAccessor(filterOptionProp)\n        : Accessor.IDENTITY_FN;\n\n    return (value, options) =>\n      fuzzy\n        .filter(value, options, {extract: mapper})\n        .map(res => options[res.HomePage]);\n  }\n\n  _hasHint() {\n    return this.state.searchResults.length > 0 || this._hasCustomValue();\n  }\n\n  _hasFixedOptions() {\n    return (\n      Array.isArray(this.props.fixedOptions) && this.props.fixedOptions.length\n    );\n  }\n\n  render() {\n    const inputClasses = {};\n    inputClasses[this.props.customClasses.input] = Boolean(\n      this.props.customClasses.input\n    );\n    const inputClassList = classNames(inputClasses);\n\n    const classes = {\n      [DEFAULT_CLASS]: this.props.defaultClassNames\n    };\n    classes[this.props.className] = Boolean(this.props.className);\n    const classList = classNames(classes);\n\n    return (\n      <TypeaheadWrapper\n        className={classList}\n        ref={comp => {\n          this.root = comp;\n        }}\n        tabIndex=\"0\"\n        onKeyDown={this._onKeyDown}\n        onKeyPress={this.props.onKeyPress}\n        onKeyUp={this.props.onKeyUp}\n        onFocus={this._onFocus}\n      >\n        {this._renderHiddenInput()}\n        {this.props.searchable ? (\n        <InputBox>\n          <TypeaheadInput\n            ref={comp => {\n              this.entry = comp;\n            }}\n            type=\"text\"\n            disabled={this.props.disabled}\n            {...this.props.inputProps}\n            placeholder={this.props.placeholder}\n            className={inputClassList}\n            value={this.state.entryValue}\n            onChange={this._onChange}\n            onBlur={this._onBlur}\n          />\n          <InputIcon>\n            <Search height=\"18px\"/>\n          </InputIcon>\n        </InputBox>\n        ) : null}\n        {this._renderIncrementalSearchResults()}\n      </TypeaheadWrapper>\n    );\n  }\n};\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport uniq from 'lodash.uniq';\nimport listensToClickOutside from 'react-onclickoutside';\nimport styled from 'styled-components';\n\nimport Accessor from './accessor';\nimport ChickletedInput from './chickleted-input';\nimport Typeahead from './typeahead';\nimport {Delete} from '../../common/icons';\nimport DropdownList, {ListItem} from './dropdown-list';\n\n/**\n * Converts non-arrays to arrays.  Leaves arrays alone.  Converts\n * undefined values to empty arrays ([] instead of [undefined]).\n * Otherwise, just returns [item] for non-array items.\n *\n * @param {*} item\n * @returns {array} boom! much array. very indexed. so useful.\n */\nfunction _toArray(item) {\n  if (Array.isArray(item)) {\n    return item;\n  }\n\n  if (typeof item === 'undefined' || item === null) {\n    return [];\n  }\n\n  return [item];\n}\n\nconst StyledDropdownSelect = styled.div`\n  ${props =>\n    props.inputTheme === 'secondary'\n      ? props.theme.secondaryInput\n      : props.theme.input};\n\n  .list__item__anchor {\n    ${props => props.theme.dropdownListAnchor};\n  }\n  .list__item__anchor:hover {\n    background-color: #037af7;\n    color: #ffffff;\n  }\n`;\n\nconst DropdownSelectValue = styled.span`\n  color: ${props =>\n    !props.hasValue\n      ? props.theme.selectColorPlaceHolder\n      : props.theme.selectColor};\n  overflow: hidden;\n`;\n\nconst DropdownSelectErase = styled.div`\n  margin-left: 6px;\n  display: flex;\n`;\n\nconst DropdownWrapper = styled.div`\n  background: ${props => props.theme.selectBackgroundLT};;\n  border: 0;\n  width: 100%;\n  left: 0;\n  z-index: 100;\n  position: absolute;\n  bottom: ${props => props.placement === 'top' ? props.theme.inputBoxHeight : 'auto'};\n  margin-top: ${props => (props.placement === 'bottom' ? '4px' : 'auto')};\n  margin-bottom: ${props => (props.placement === 'top' ? '4px' : 'auto')};\n* {\n  background-color: #ffffff;\n  font: Arial;\n  font-size: inherit;\n  font-weight: inherit;\n  border: 2px; /*solid #dde2ec;*/\n  border-radius: 2px;\n}\n\n.list__item:hover {\n  background-color: #037af7;\n  color: #ffffff;\n  .list__item__anchor {\n    background-color: #037af7;\n    color: #ffffff;\n   }\n}\n\n`;\n//.list__item__anchor:hover\nclass ItemSelector extends Component {\n  static propTypes = {\n    // required properties\n    selectedItems: PropTypes.oneOfType([\n      PropTypes.array,\n      PropTypes.string,\n      PropTypes.number,\n      PropTypes.bool,\n      PropTypes.object\n    ]),\n    onChange: PropTypes.func.isRequired,\n    options: PropTypes.arrayOf(PropTypes.any).isRequired,\n\n    // optional properties\n    fixedOptions: PropTypes.arrayOf(PropTypes.any),\n    erasable: PropTypes.bool,\n    displayOption: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    getOptionValue: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    filterOption: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    placement: PropTypes.string,\n    disabled: PropTypes.bool,\n    isError: PropTypes.bool,\n    multiSelect: PropTypes.bool,\n    inputTheme: PropTypes.string,\n    onBlur: PropTypes.func,\n    placeholder: PropTypes.string,\n    closeOnSelect: PropTypes.bool,\n    DropdownHeaderComponent: PropTypes.func,\n    DropDownRenderComponent: PropTypes.func,\n    DropDownLineItemRenderComponent: PropTypes.func\n  };\n\n  static defaultProps = {\n    erasable: false,\n    placement: 'bottom',\n    selectedItems: [],\n    displayOption: null,\n    getOptionValue: null,\n    filterOption: null,\n    fixedOptions: null,\n    inputTheme: 'primary',\n    multiSelect: true,\n    placeholder: 'Enter a value',\n    closeOnSelect: true,\n    searchable: true,\n    dropdownHeader: null,\n    DropdownHeaderComponent: null,\n    DropDownRenderComponent: DropdownList,\n    DropDownLineItemRenderComponent: ListItem\n  };\n\n  state = {\n    showTypeahead: false\n  };\n\n  handleClickOutside = () => {\n    this._hideTypeahead();\n  };\n\n  _hideTypeahead() {\n    this.setState({showTypeahead: false});\n    this._onBlur();\n  }\n\n  _onBlur = () => {\n    // note: chickleted input is not a real form element so we call onBlur()\n    // when we feel the events are appropriate\n    if (this.props.onBlur) {\n      this.props.onBlur();\n    }\n  };\n\n  _removeItem = (item, e) => {\n    // only used when multiSelect = true\n    e.preventDefault();\n    e.stopPropagation();\n    const {selectedItems} = this.props;\n    const index = selectedItems.findIndex(t => t === item);\n\n    if (index < 0) {\n      return;\n    }\n\n    const items = [\n      ...selectedItems.slice(0, index),\n      ...selectedItems.slice(index + 1, selectedItems.length)\n    ];\n\n    this.props.onChange(items);\n\n    if (this.props.closeOnSelect) {\n      this.setState({showTypeahead: false});\n      this._onBlur();\n    }\n  };\n\n  _selectItem = item => {\n    const getValue = Accessor.generateOptionToStringFor(\n      this.props.getOptionValue || this.props.displayOption\n    );\n\n    //console.log('item', item, getValue)\n    \n\n    const previousSelected = _toArray(this.props.selectedItems);\n\n    if (this.props.multiSelect) {\n      const items = uniq(previousSelected.concat(_toArray(item).map(getValue)));\n      this.props.onChange(items);\n    } else {\n      this.props.onChange(getValue(item));\n    }\n\n    if (this.props.closeOnSelect) {\n      this.setState({showTypeahead: false});\n      this._onBlur();\n    }\n  };\n\n  _onErase = e => {\n    e.stopPropagation();\n    this.props.onChange(null);\n  };\n\n  _showTypeahead = () => {\n    if (!this.props.disabled) {\n      this.setState({\n        showTypeahead: true\n      });\n    }\n  };\n\n  _renderDropdown() {\n    return (\n      <DropdownWrapper placement={this.props.placement}>\n        <Typeahead\n          customClasses={{\n            results: 'list-selector',\n            input: 'typeahead__input',\n            listItem: 'list__item',\n            listAnchor: 'list__item__anchor'\n          }}\n          options={this.props.options}\n          filterOption={this.props.filterOption}\n          fixedOptions={this.props.fixedOptions}\n          placeholder=\"Search\"\n          onOptionSelected={this._selectItem}\n          customListComponent={this.props.DropDownRenderComponent}\n          customListHeaderComponent={this.props.DropdownHeaderComponent}\n          customListItemComponent={this.props.DropDownLineItemRenderComponent}\n          displayOption={Accessor.generateOptionToStringFor(\n            this.props.displayOption\n          )}\n          searchable={this.props.searchable}\n          showOptionsWhenEmpty\n          selectedItems={_toArray(this.props.selectedItems)}\n        />\n      </DropdownWrapper>\n    );\n  }\n\n  render() {\n    const selected = _toArray(this.props.selectedItems);\n    const hasValue = selected.length;\n    const displayOption = Accessor.generateOptionToStringFor(\n      this.props.displayOption\n    );\n\n    const dropdownSelectProps = {\n      className: classnames(`item-selector__dropdown`, {\n        active: this.state.showTypeahead\n      }),\n      disabled: this.props.disabled,\n      onClick: this._showTypeahead,\n      onFocus: this._showPopover,\n      error: this.props.isError,\n      inputTheme: this.props.inputTheme\n    };\n\n    return (\n      <div className=\"item-selector\">\n        <div style={{position: 'relative'}} id={'find this id'}>\n          {/* this part is used to display the label */}\n          {this.props.multiSelect ? (\n            <ChickletedInput\n              {...dropdownSelectProps}\n              selectedItems={_toArray(this.props.selectedItems)}\n              placeholder={this.props.placeholder}\n              displayOption={displayOption}\n              removeItem={this._removeItem}\n            />\n          ) : (\n            <StyledDropdownSelect {...dropdownSelectProps}>\n              <DropdownSelectValue hasValue={hasValue}>\n                {hasValue ? (\n                  <this.props.DropDownLineItemRenderComponent\n                    displayOption={displayOption}\n                    value={selected[0]}\n                  />\n                ) : (\n                  this.props.placeholder\n                )}\n              </DropdownSelectValue>\n              {this.props.erasable && hasValue ? (\n                <DropdownSelectErase>\n                  <Delete height=\"12px\" onClick={this._onErase} />\n                </DropdownSelectErase>\n              ) : null}\n            </StyledDropdownSelect>\n          )}\n          {/* this part is used to built the list */}\n          {this.state.showTypeahead && this._renderDropdown()}\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default listensToClickOutside(ItemSelector);\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport ItemSelector from '../common/item-selector/item-selector';\nimport {PanelLabel,SidePanelSection} from '../common/styled-components';\n\nconst MultiSelectFilter = ({filter, setFilter, placeHolder=\"Select a Value\"}) => (\n  <SidePanelSection>\n      {filter.name ? <PanelLabel htmlFor={`filter-${filter.id}`}>{filter.name}</PanelLabel> : null}\n      <ItemSelector\n          selectedItems={filter.value}\n          placeholder={placeHolder}\n          options={filter.domain}\n          multiSelect={true}\n          searchable={ true }\n          displayOption={ d => d.name ? d.name : filter.domain.reduce((a, c) => c.value === d ? c.name : a, d) }\n          getOptionValue={d => d.value ? d.value : d}\n          onChange={setFilter}\n          inputTheme=\"secondary\"\n      />\n  </SidePanelSection>\n);\n\nexport default MultiSelectFilter;\n","import React from \"react\"\n\nimport styled from \"styled-components\"\nimport _ from \"lodash\"\nimport get from \"lodash.get\"\n\nimport * as d3array from \"d3-array\";\nimport { format } from \"d3-format\"\n\nimport { Input } from \"./common/styled-components\"\nimport ItemSelector from './common/item-selector/item-selector';\nimport MultiSelectFilter from './filters/multi-select-filter.js'\n\n\nlet FILTER_ID = 0;\nconst getFilterId = () => `filter-${ ++FILTER_ID }`;\n\nconst StringEqualityFilter = (key, value) => {\n\tvalue = value.toString().toLowerCase();\n\tfunction filter(data) {\n\t\treturn data.filter(d => get(d, [key], \"\").toString().toLowerCase().includes(value));\n\t}\n\tfilter.id = getFilterId();\n\tfilter.display = `${ key } includes ${ value }`;\n\treturn filter;\n}\nconst NotEqualFilter = (key, value) => {\n\tfunction filter(data) {\n\t\treturn data.filter(d => get(d, [key], undefined) !== value);\n\t}\n\tfilter.id = getFilterId();\n\tfilter.display = `${ key } != ${ value }`;\n\treturn filter;\n}\nconst EqualityFilter = (key, value) => {\n\tfunction filter(data) {\n\t\treturn data.filter(d => get(d, [key], undefined) === value);\n\t}\n\tfilter.id = getFilterId();\n\tfilter.display = `${ key } == ${ value }`;\n\treturn filter;\n}\nconst NumericGreaterThanFilter = (key, value) => {\n\tfunction filter(data) {\n\t\treturn data.filter(d => get(d, [key], undefined) > value);\n\t}\n\tfilter.id = getFilterId();\n\tfilter.display = `${ key } > ${ value }`;\n\treturn filter;\n}\nconst NumericGreaterThanEqualToFilter = (key, value) => {\n\tfunction filter(data) {\n\t\treturn data.filter(d => get(d, [key], undefined) >= value);\n\t}\n\tfilter.id = getFilterId();\n\tfilter.display = `${ key } >= ${ value }`;\n\treturn filter;\n}\nconst NumericLessThanFilter = (key, value) => {\n\tfunction filter(data) {\n\t\treturn data.filter(d => get(d, [key], undefined) < value);\n\t}\n\tfilter.id = getFilterId();\n\tfilter.display = `${ key } < ${ value }`;\n\treturn filter;\n}\nconst NumericLessThanEqualToFilter = (key, value) => {\n\tfunction filter(data) {\n\t\treturn data.filter(d => get(d, [key], undefined) <= value);\n\t}\n\tfilter.id = getFilterId();\n\tfilter.display = `${ key } <= ${ value }`;\n\treturn filter;\n}\nconst NumericRangeFilterRegex = /(\\[|\\()(\\d+),(\\d+)(\\]|\\))/\nconst NumericRangeFilter = (key, lower, value1, value2, upper) => {\n\tfunction filter(data) {\n\t\treturn data.filter(d => {\n\t\t\tconst value = get(d, [key], undefined);\n\t\t\treturn (lower === \"[\" ? value >= value1 : value > value1) &&\n\t\t\t\t(upper === \"]\" ? value <= value2 : value < value2);\n\t\t})\n\t}\n\tfilter.id = getFilterId();\n\tfilter.display = `${ key } in range ${ lower }${ value1 }, ${ value2 }${ upper }`;\n\treturn filter;\n}\n\nconst isNum = n => (n !== null) && !isNaN(+n);\n\nconst hierSort = (data, keys, i = 0) => {\n\tif (i >= keys.length) return data;\n\n\tconst groups = new Map();\n\n\tconst keyData = keys[i];\n\tconst keyFunc = d => d[keyData.key];\n\n\tfor (const row of data) {\n\t\tconst key = keyFunc(row),\n\t\t\tgroup = groups.get(key);\n\t\tif (group) {\n\t\t\tgroup.push(row);\n\t\t}\n\t\telse {\n\t\t\tgroups.set(key, [row]);\n\t\t}\n\t}\n\n\tfor (const [key, values] of groups) {\n\t\tgroups.set(key, hierSort(values, keys, i + 1));\n\t}\n\n\treturn Array.from(groups)\n\t\t.sort(([a], [b]) => {\n\t\t\tif ((a === null) || (a === undefined)) return 1;\n\t\t\tif ((b === null) || (b === undefined)) return -1;\n\n\t\t\tif (isNum(a) && isNum(b)) {\n\t\t\t\treturn (a - b) * keyData.dir;\n\t\t\t}\n\t\t\ta = a.toString().toLowerCase();\n\t\t\tb = b.toString().toLowerCase();\n\n\t\t\treturn (a < b ? -1 : b < a ? 1 : 0) * keyData.dir;\n\t\t})\n\t\t.reduce((a, c) => {\n\t\t\ta.push(...c[1])\n\t\t\treturn a;\n\t\t}, [])\n}\n\nexport default class AvlTable extends React.Component {\n\tstatic defaultProps = {\n\t\tdata: [],\n\t\tkeys: [],\n\t\trowsPerPage: 10,\n\t\tpageSpread: 2,\n\t\tdownloadedFileName: \"data.csv\",\n\t\ttitle: \"\",\n\t\tshowHelp: false,\n\t\texpandable: []\n\t}\n\n\tstate = {\n\t\tpage: 0,\n\t\tfilters: [],\n\t\tsearchKey: null,\n\t\tsearchString: \"\",\n\t\tsortKey: null,\n\t\tsortDirection: 1,\n\t\tsortKeys: []\n\t}\n\n\tsetPage(page) {\n\t\tconst maxPage = Math.floor(this.props.data.length / this.props.rowsPerPage);\n\t\tthis.setState({ page: Math.max(0, Math.min(maxPage, page)) });\n\t}\n\tprevPage() {\n\t\tthis.setState({ page: Math.max(0, this.state.page - 1) });\n\t}\n\tnextPage() {\n\t\tconst maxPage = Math.floor(this.props.data.length / this.props.rowsPerPage);\n\t\tthis.setState({ page: Math.min(maxPage, this.state.page + 1) });\n\t}\n\n\taddFilter() {\n\t\tconst { searchKey, searchString } = this.state;\n\t\tlet filter = false;\n\t\tif (searchString.slice(0, 2) === \"::\") {\n\t\t\tconst argsString = searchString.slice(2).trim(),\n\t\t\t\targs = argsString.split(/\\s+/);\n\n\t\t\tif (args[0] === \"==\") {\n\t\t\t\tfilter = EqualityFilter(searchKey, argsString.slice(2).trim());\n\t\t\t}\n\t\t\telse if (args[0] === \"!=\") {\n\t\t\t\tfilter = NotEqualFilter(searchKey, argsString.slice(2).trim());\n\t\t\t}\n\t\t\telse if (args[0] === \">\") {\n\t\t\t\tfilter = NumericGreaterThanFilter(searchKey, argsString.slice(1).trim());\n\t\t\t}\n\t\t\telse if (args[0] === \">=\") {\n\t\t\t\tfilter = NumericGreaterThanEqualToFilter(searchKey, argsString.slice(2).trim());\n\t\t\t}\n\t\t\telse if (args[0] === \"<\") {\n\t\t\t\tfilter = NumericLessThanFilter(searchKey, argsString.slice(1).trim());\n\t\t\t}\n\t\t\telse if (args[0] === \"<=\") {\n\t\t\t\tfilter = NumericLessThanEqualToFilter(searchKey, argsString.slice(2).trim());\n\t\t\t}\n\t\t\telse if ((args[0] === \"range\") || (args[0] === \"in\")) {\n\t\t\t\tconst value = argsString.slice(args[0].length).replace(\"//g\", \"\"),\n\t\t\t\t\tmatch = NumericRangeFilterRegex.exec(value);\n\n\t\t\t\tif (match) {\n\t\t\t\t\tfilter = NumericRangeFilter(searchKey, ...match.slice(1, 5));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!filter) {\n\t\t\tfilter = StringEqualityFilter(searchKey, searchString);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tfilters: [\n\t\t\t\t...this.state.filters,\n\t\t\t\tfilter\n\t\t\t],\n\t\t\tsearchKey: null,\n\t\t\tsearchString: \"\"\n\t\t})\n\t}\n\tremoveFilter(id) {\n\t\tthis.setState({ filters: this.state.filters.filter(f => f.id !== id) });\n\t}\n\n\tsetSearchKey(searchKey = null) {\n\t\tconst newState = { searchKey };\n\t\tif (searchKey !== this.state.searchKey) {\n\t\t\tnewState.searchString = \"\";\n\t\t}\n\t\tthis.setState(newState);\n\t}\n\tsetSearchString(searchString) {\n\t\tthis.setState({ searchString });\n\t}\n\tsetSortKey(sortKey = null) {\n\t\tlet sortDirection = 1;\n\t\tif (sortKey === this.state.sortKey) {\n\t\t\tsortDirection = this.state.sortDirection * -1;\n\t\t}\n\t\tthis.setState({ sortKey, sortDirection });\n\t}\n\n\ttoggleSortKey(sortKey) {\n\t\tlet sortKeyFound = false;\n\n\t\tconst sortKeys = this.state.sortKeys.reduce((a, { key, dir }) => {\n\t\t\tsortKeyFound = sortKeyFound || (key === sortKey);\n\t\t\tif ((key === sortKey) && (dir === 1)) {\n\t\t\t\ta.push({\n\t\t\t\t\tkey,\n\t\t\t\t\tdir: -1\n\t\t\t\t})\n\t\t\t}\n\t\t\telse if (key !== sortKey) {\n\t\t\t\ta.push({ key, dir });\n\t\t\t}\n\t\t\treturn a;\n\t\t}, []);\n\n\t\tif (!sortKeyFound) {\n\t\t\tsortKeys.push({ key: sortKey, dir: 1 });\n\t\t}\n\n\t\tthis.setState({ sortKeys });\n\t}\n\n\tgetKeys() {\n\t\tlet { keys, data } = this.props;\n\t\tif (!keys.length && data.length) {\n\t\t\tkeys = Object.keys(data[0]);\n\t\t}\n\t\treturn keys;\n\t}\n\n    getData() {\n        let data = (this.props.isMulti) ?\n\t\t\t\t\t\tthis.state.filters.length ? this.state.filters.reduce((data, filter) => {\n\t\t\t\t\t\tdata.push(...filter(this.props.data));\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t}, []) : this.props.data :\n\t\t\tthis.state.filters.reduce((data, filter) => filter(data), [...this.props.data]);\n        const  {sortKeys} = this.state;\n\n        data = hierSort(data, sortKeys);\n\n        return data;\n    }\n\n\tgetKeysAndData() {\n\t\treturn [this.getKeys(), this.getData()];\n\t}\n\n\tdownloadAsCsv(filtered = true) {\n\t\tconst keys = this.getKeys();\n\n\t\tlet data = this.props.data;\n\n\t\tif (filtered) {\n\t\t\tdata = this.getData();\n\t\t}\n\n\t\tconst csvData = data.reduce((csvData, row) => {\n\t\t\tcsvData.push(keys.map(k => row[k]).join());\n\t\t\treturn csvData;\n\t\t}, [keys.join()]).join(\"\\n\");\n\n\t\tconst blob = new Blob([csvData], {\n\t\t\ttype: 'text/csv;charset=utf-8;'\n\t\t});\n\n\t\tconst link = document.createElement('a');\n\n\t\tif (link.download !== undefined) {\n\t\t\tconst url = URL.createObjectURL(blob);\n\t\t\tlink.setAttribute('href', url);\n\t\t\tlink.setAttribute('download', this.props.downloadedFileName);\n\t\t\tlink.style.visibility = 'hidden';\n\t\t\tdocument.body.appendChild(link);\n\t\t\tlink.click();\n\t\t\tdocument.body.removeChild(link);\n\t\t}\n\t}\n\n\trender() {\n\t\tlet [keys, data] = this.getKeysAndData();\n\t\tkeys = keys.filter(key => this.props.expandable ? !this.props.expandable.includes(key) : true)\n\t\tlet { page, searchKey, searchString, sortKeys } = this.state;\n\t\tconst keyMap = sortKeys.reduce((a, c, i) => ({ ...a, [c.key]: { dir: c.dir, i } }), {});\n\n\t\tconst { rowsPerPage, pageSpread } = this.props,\n\t\t\tmaxPage = Math.max(Math.ceil(data.length / rowsPerPage) - 1, 0),\n\t\t\tlength = data.length;\n\n\t\tpage = Math.min(maxPage, page);\n\n\t\tdata = data.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n// console.log(\"???\", keys, data, this.props.expandable)\n\t\treturn (\n\t\t\t<DivContainer>\n\n\t\t\t\t<NavigationBar page={ page }\n\t\t\t\t\tmaxPage={ maxPage }\n\t\t\t\t\tlength={ length }\n\t\t\t\t\trowsPerPage={ rowsPerPage }\n\t\t\t\t\tpageSpread={ pageSpread }\n\t\t\t\t\tprevPage={ () => this.prevPage() }\n\t\t\t\t\tnextPage={ () => this.nextPage() }\n\t\t\t\t\tsetPage={ p => this.setPage(p) }\n\t\t\t\t\tsearchKeys={ keys }\n\t\t\t\t\tdata={ this.props.data }\n\t\t\t\t\tisMulti={ this.props.isMulti }\n\t\t\t\t\tsearchKey={ searchKey }\n\t\t\t\t\tsetSearchKey={ key => this.setSearchKey(key) }\n\t\t\t\t\tsearchString={ searchString }\n\t\t\t\t\tsetSearchString={ str => this.setSearchString(str) }\n\t\t\t\t\taddFilter={ () => this.addFilter() }\n\t\t\t\t\tremoveFilter={ id => this.removeFilter(id) }\n\t\t\t\t\tfilters={ this.state.filters }\n\t\t\t\t\tdownloadFiltered={ () => this.downloadAsCsv(true) }\n\t\t\t\t\tdownloadUnfiltered={ () => this.downloadAsCsv(false) }\n\t\t\t\t\ttitle={ this.props.title }\n\t\t\t\t\tshowHelp={ this.props.showHelp }/>\n\n\t\t\t\t<TableContainer>\n\t\t\t\t\t<table className=\"table table-sm\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkeys.map(key =>\n\t\t\t\t\t\t\t\t\t\t<TH key={ key } onClick={ () => this.toggleSortKey(key) }\n\t\t\t\t\t\t\t\t\t\t\tclassName={ keyMap[key] ? \"active\" : \"\" }>\n\t\t\t\t\t\t\t\t\t\t\t{ !keyMap[key] ? null : `(${ keyMap[key].i + 1 })` } { key.replace(\"_\", \" \") }\n\t\t\t\t\t\t\t\t\t\t\t{ !keyMap[key] ? null :\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"fa fa-lg fa-caret-down ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={ { transform: `rotate(${ keyMap[key].dir === 1 ? 180 : 0 }deg)` } }/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</TH>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{ data.map((row, i) =>\n\t\t\t\t\t\t\t\t\t<React.Fragment key={ i }>\n\t\t\t\t\t\t\t\t\t\t<tr key={ `row-${ i }` } onClick={ e => {\n\t\t\t\t\t\t\t\t\t\t\tconst el = document.getElementById(`expandable-${ i }`);\n\t\t\t\t\t\t\t\t\t\t\tif (el) {\n\t\t\t\t\t\t\t\t\t\t\t\tconst display = el.style.display;\n\t\t\t\t\t\t\t\t\t\t\t\tel.style.display = display === \"none\" ? \"table-row\" : \"none\";\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} }>\n\t\t\t\t\t\t\t\t\t\t\t{ keys.map(key => <td key={ key }>{ row[key] }</td>) }\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t{ this.props.expandable.map(key =>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr key={ key } id={`expandable-${ i }`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.06)'\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td colSpan={ keys.length }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ row[key] }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</TableContainer>\n\n\t\t\t</DivContainer>\n\t\t)\n\t}\n}\n\nconst DivContainer = styled.div`\n\t/*max-height: 700px;*/\n`\nconst TableContainer = styled.div`\n\tpadding: 0px 10px;\n\t${ props => props.theme.scrollBar };\n\toverflow: auto;\n\tmax-height: 500px;\n\tmargin-top: 5px;\n`\n\nconst TH = styled.th`\n\tpadding-top: 2px;\n\tcursor: pointer;\n\t:hover {\n\t\ttext-decoration: underline;\n\t}\n\t&.active {\n\t\ttext-decoration: underline;\n\t}\n`\n\nconst Button = styled.button`\n\tbackground-color: ${ props => props.theme.primaryBtnBgd };\n\tcolor: ${ props => props.theme.primaryBtnColor };\n\tborder-radius: 4px;\n\tborder: none;\n\tcursor: pointer;\n\tfont-weight: 400;\n\tposition: relative;\n\n\t:hover {\n\t\tbackground-color: ${ props => props.theme.primaryBtnBgdHover };\n\t}\n\t:disabled,\n\t:disabled:hover {\n\t\tcursor: not-allowed;\n\t\tbackground-color: ${ props => props.theme.primaryBtnDisabled };\n\t}\n\n\t&.active {\n\t\tbackground-color: ${ props => props.theme.primaryBtnBgdHover };\n\t\tcolor: ${ props => props.theme.primaryBtnActColor };\n\t}\n\n\t> .button-dropdown {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: 100%;\n\t\tbackground-color: ${ props => props.theme.sidePanelHeaderBg };\n\t\tcolor: ${ props => props.theme.textColor };\n\t\tpadding: 20px;\n\t\tz-index: 100;\n\t}\n\n\t:hover > .button-dropdown {\n\t\tdisplay: block;\n\t}\n`\n\nconst StyledNavigationBar = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\n\t> * {\n\t\twidth: 100%;\n\t\tposition: relative;\n\n\t\t::after {\n\t\t\tcontent: \"\";\n\t\t\tclear: both;\n\t\t\tdisplay: table;\n\t\t}\n\n\t\t> * {\n\t\t\tdisplay: inline-block;\n\n\t\t\t:last-child {\n\t\t\t\tfloat: right;\n\t\t\t}\n\t\t\t&.middle {\n\t\t\t\twidth: 100%;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0px;\n\t\t\t\tleft: 0px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\tpointer-events: none;\n\t\t\t\t> * {\n\t\t\t\t\tpointer-events: all;\n\t\t\t\t}\n\t\t\t}\n\t\t\t:first-child {\n\t\t\t\tfloat: left;\n\t\t\t}\n\t\t}\n\t}\n`\nconst getPageSpread = (page, maxPage, pageSpread) => {\n\tlet low = page - pageSpread,\n\t\thigh = page + pageSpread;\n\n\tif (low < 0) {\n\t\thigh += -low;\n\t\tlow = 0;\n\t}\n\tif (high > maxPage) {\n\t\tlow -= (high - maxPage);\n\t\thigh = maxPage;\n\t}\n\treturn d3array.range(Math.max(0, low), Math.min(maxPage, high) + 1);\n}\nconst numberFormat = format(\",d\");\n\nconst StyledFilterItem = styled.div`\n\tpadding: 2px 2px 2px 10px;\n\tdisplay: flex;\n\tborder: 2px solid ${ props => props.theme.textColor };\n\tborder-radius: 4px;\n\n\t:hover {\n\t\tborder-color: ${ props => props.theme.textColorHl };\n\t}\n\n\t> div:first-child {\n\t\tpadding-right: 5px;\n\t}\n`\n\nconst StyledMultiSelectFilter = styled.div`\n\n\t/*padding: 2px 2px 2px 10px;*/\n\tmargin: 0px !important;\n\tdisplay: flex;\n\tborder: 2px /*solid*/ ${props => props.theme.textColor};\n\tborder-radius: 4px;\n\n\t:hover {\n\t\tborder-color: ${props => props.theme.textColorHl};\n\t}\n\n\t> div:first-child {\n\t\tpadding-right: 0px;\n\t}\n\t>div {\n\t\twidth: 100%;\n\t}\n`\nconst FilterItem = ({display, remove}) =>\n    <StyledFilterItem>\n        <div>{display}</div>\n        <Button onClick={remove}>\n            <span className=\"fa fa-times\"/>\n        </Button>\n    </StyledFilterItem>\n\nconst NavigationBar = ({\n                           prevPage,\n                           nextPage,\n                           page,\n                           maxPage,\n                           setPage,\n                           length,\n                           searchKeys,\n                           searchKey,\n                           data,\n                           setSearchKey,\n                           setSearchString,\n                           searchString,\n                           rowsPerPage,\n                           pageSpread,\n                           addFilter,\n                           removeFilter,\n                           filters,\n                           downloadFiltered,\n                           downloadUnfiltered,\n                           title,\n                           showHelp,\n\t\t\t\t\t\t   isMulti,\n                       }) =>\n    <StyledNavigationBar>\n\n\t\t<div>\n\t\t\t<div style={ { fontSize: \"1rem\", fontWeight: \"bold\", lineHeight: \"23px\" } }>\n\t\t\t\t{ title }\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Button onClick={ downloadFiltered }>\n\t\t\t\t\tDownload Filtered Data\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={ downloadUnfiltered } style={ { marginLeft: \"5px\" } }>\n\t\t\t\t\tDownload Unfiltered Data\n\t\t\t\t</Button>\n\t\t\t\t{ !showHelp ? null :\n\t\t\t\t\t<Button style={ { marginLeft: \"5px\" } }>\n\t\t\t\t\t\t<span className=\"fa fa-question\"/>\n\t\t\t\t\t\t<TableHelp />\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\n        <div style={{marginTop: \"5px\", height: '40px'}}>\n            <form style={{display: \"flex\", width: \"100%\"}}\n                  onSubmit={e => {\n                      e.preventDefault();\n                      searchKey && searchString && addFilter()\n                  }}>\n                <div style={{width: \"40%\"}}>\n                    <ItemSelector\n                        placeholder=\"Select a filter key...\"\n                        selectedItems={searchKey}\n                        multiSelect={false}\n                        searchable={false}\n                        displayOption={d => d}\n                        getOptionValue={d => d}\n                        onChange={setSearchKey}\n                        options={searchKeys}/>\n                </div>\n                <div style={{width: \"40%\"}}>\n                    {(isMulti) ?\n                        <StyledMultiSelectFilter>\n                            <MultiSelectFilter\n                                filter={{\n                                    domain: searchKey ? _.uniqBy(data, searchKey).map(d => d[searchKey]).filter(f => f) : [],\n                                    value: searchString ? searchString.split(';') : []//this.props.state[this.props.title] ? this.props.state[this.props.title] : this.props.defaultValue ? this.props.defaultValue : []\n                                }}\n                                setFilter={(e) => {\n                                    setSearchString(e.join(';'));\n                                }}\n                            />\n                        </StyledMultiSelectFilter> :\n                        <Input type=\"text\" value={searchString}\n                               disabled={!Boolean(searchKey)}\n                               onChange={({target: {value}}) => setSearchString(value)}\n                               placeholder=\"filter...\"/>\n                    }\n                </div>\n                <div style={{width: \"20%\", display: \"flex\", paddingBottom: '13px'}}>\n                    <Button onClick={addFilter} style={{ width: \"100%\"}}\n                            disabled={!searchKey || !searchString}>\n                        Add Filter\n                    </Button>\n                </div>\n            </form>\n        </div>\n\n\t\t{ !filters.length ? null :\n\t\t\t<div style={ { display: \"flex\" } }>\n\t\t\t\t{ filters.map((f, i) =>\n\t\t\t\t\t\t<FilterItem key={ f.id }\n\t\t\t\t\t\t\tdisplay={ f.display }\n\t\t\t\t\t\t\tremove={ () => removeFilter(f.id) }/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</div>\n\t\t}\n\n\t\t<div style={ { marginTop: \"5px\" } }>\n\t\t\t<div>Displaying: { numberFormat(Math.min(page * rowsPerPage + 1, length)) } - { numberFormat(Math.min(page * rowsPerPage + rowsPerPage, length)) } of { numberFormat(length) }</div>\n\t\t\t<div>Page: { numberFormat(page + 1) } of { numberFormat(maxPage + 1) }</div>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t<Button onClick={ () => setPage(0) }\n\t\t\t\t\tdisabled={ page === 0 }>\n\t\t\t\t\t<span className=\"fa fa-chevron-left\"/>\n\t\t\t\t\t<span className=\"fa fa-chevron-left\"/>\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={ prevPage }\n\t\t\t\t\tdisabled={ page === 0 }>\n\t\t\t\t\t<span className=\"fa fa-chevron-left\"/>\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t<div className=\"middle\">\n\t\t\t\t{\n\t\t\t\t\tgetPageSpread(page, maxPage, pageSpread)\n\t\t\t\t\t\t.map(p =>\n\t\t\t\t\t\t\t<Button key={ p }\n\t\t\t\t\t\t\t\tdisabled={ p === page }\n\t\t\t\t\t\t\t\tclassName={ p === page ? \"active\" : \"\" }\n\t\t\t\t\t\t\t\tonClick={ () => setPage(p) }>\n\t\t\t\t\t\t\t\t{ numberFormat(p + 1) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Button onClick={ nextPage }\n\t\t\t\t\tdisabled={ page === maxPage }>\n\t\t\t\t\t<span className=\"fa fa-chevron-right\"/>\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={ () => setPage(maxPage) }\n\t\t\t\t\tdisabled={ page === maxPage }>\n\t\t\t\t\t<span className=\"fa fa-chevron-right\"/>\n\t\t\t\t\t<span className=\"fa fa-chevron-right\"/>\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\n    </StyledNavigationBar>\n\nconst TableHelp = () =>\n\t<div className=\"button-dropdown\">\n\t\t<div style={ { fontSize: \"1rem\" } }>Search Commands</div>\n\t\t<div>All search commands must adhere to the following pattern:</div>\n\t\t<div>{ ':: command value' }</div>\n\t\t<div>Where command is one of the following:</div>\n\t\t<TableHelpTable>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Command</th>\n\t\t\t\t\t<th>Description</th>\n\t\t\t\t\t<th>Value</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: ==' }</td>\n\t\t\t\t\t<td>(equal to)</td>\n\t\t\t\t\t<td>Number / String</td>\n\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>{ ':: !=' }</td>\n\t\t\t\t\t\t<td>(not equal to)</td>\n\t\t\t\t\t\t<td>Number / String</td>\n\t\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: >' }</td>\n\t\t\t\t\t<td>(greater than)</td>\n\t\t\t\t\t<td>Number / String</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: >=' }</td>\n\t\t\t\t\t<td>(greater than or equal to)</td>\n\t\t\t\t\t<td>Number</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: <' }</td>\n\t\t\t\t\t<td>(less than)</td>\n\t\t\t\t\t<td>Number / String</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: <=' }</td>\n\t\t\t\t\t<td>(less than or equal to)</td>\n\t\t\t\t\t<td>Number</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: in' }</td>\n\t\t\t\t\t<td>(value bounds)</td>\n\t\t\t\t\t<td>{ '[( Number, Number )]' }</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</TableHelpTable>\n\t\t<div style={ { fontSize: \"1rem\", marginTop: \"5px\" } }>Examples:</div>\n\t\t<TableHelpTable>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Command</th>\n\t\t\t\t\t<th>Result</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: == 60' }</td>\n\t\t\t\t\t<td>All data with selected key that has a value equal to 60</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: > 70' }</td>\n\t\t\t\t\t<td>All data with selected key that has a value greated than 70</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: <= 90' }</td>\n\t\t\t\t\t<td>All data with selected key that has a value less than or equal to 90</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: in [50, 80]' }</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div>All data with selected key that has a value greater than or equal to 50</div>\n\t\t\t\t\t\t<div>and all data with selected key that has a value less than or equal to 80</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: in (50, 80)' }</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div>All data with selected key that has a value greater than 50</div>\n\t\t\t\t\t\t<div>and all data with selected key that has a value less than 80</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{ ':: in [50, 80)' }</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div>All data with selected key that has a value greater than or equal to 50</div>\n\t\t\t\t\t\t<div>and all data with selected key that has a value less than 80</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</TableHelpTable>\n\t</div>\n\nconst TableHelpTable = styled.table`\n\twhite-space: nowrap;\n\n\tth, td {\n\t\tpadding-right: 10px;\n\t}\n\tth:last-child, td:last-child {\n\t\tpadding-right: 0px;\n\t}\n`\n","import React from \"react\"\n\nimport styled from \"styled-components\"\nimport deepequal from \"deep-equal\"\n\nimport AvlTable from \"../AvlTable\"\n\nclass AttributesTable extends React.Component {\n\tstatic defaultProps = {\n\t\tlayer: {},\n\t\tqueryLayers: [],\n\t\tdataFunc: null,\n\t\ttableKeys: [],\n\t\tinjectFunc: () => [],\n\t\tfilterKey: null\n\t}\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmapLoaded: false,\n\t\t\tneedsUpdate: false,\n\t\t\tfeatures: [[], []],\n\t\t\tqueriedFeatures: 0,\n\t\t\tsourcesLoaded: {}\n\t\t}\n\n\t\tthis.timeout = null;\n\n\t\tthis.checkSourcesLoaded = this.checkSourcesLoaded.bind(this);\n\t\tthis.setNeedsUpdate = this.setNeedsUpdate.bind(this);\n\t\tthis.initialRender = this.initialRender.bind(this);\n\t}\n\t// shouldComponentUpdate(nextProps, nextState) {\n\t// \tconst { features: thisFeatures, ..._thisState } = this.state,\n\t// \t\t{ features: nextFeatures, ..._nextState } = nextState;\n\t//\n\t// \treturn !nextState.mapLoaded ||\n\t// \t\t!this.state.queriedFeatures && nextState.queriedFeatures ||\n\t// \t\t!deepequal(_thisState, _nextState);\n\t// }\n\tcomponentDidMount() {\n\t\tthis.checkSourcesLoaded();\n\t\tthis.queryRenderedFeatures();\n\t}\n\tcomponentWillUnmount() {\n\t\tconst { map } = this.props.layer;\n\t\tif (Boolean(map)) {\n\t\t\tmap.off(\"sourcedata\", this.checkSourcesLoaded);\n\t\t\tmap.off(\"zoomend\", this.setNeedsUpdate);\n\t\t\tmap.off(\"moveend\", this.setNeedsUpdate);\n\t\t\tmap.off(\"style.load\", this.setNeedsUpdate);\n\t\t}\n\t\tclearTimeout(this.timeout);\n\t}\n\tcomponentDidUpdate(oldProps, oldState) {\n\t\tconst { map } = this.props.layer;\n\t\tif (Boolean(map) && !this.state.mapLoaded) {\n\t\t\tthis.setState({ mapLoaded: true });\n\t\t\tmap.on(\"sourcedata\", this.checkSourcesLoaded);\n\t\t\tmap.on(\"zoomend\", this.setNeedsUpdate);\n\t\t\tmap.on(\"moveend\", this.setNeedsUpdate);\n\t\t\tmap.on(\"style.load\", this.setNeedsUpdate);\n\t\t}\n\t\tif (Object.values(this.state.sourcesLoaded).reduce((a, c) => a && c, true)) {\n\t\t\tmap.off(\"sourcedata\", this.checkSourcesLoaded);\n\t\t\t!this.timeout && this.initialRender();\n\t\t}\n\t}\n\tinitialRender() {\n\t\tif (!this.state.queriedFeatures) {\n\t\t\tthis.queryRenderedFeatures();\n\t\t\tthis.timeout = setTimeout(this.initialRender, 250);\n\t\t}\n\t}\n\tsetNeedsUpdate() {\n\t\tthis.setState({ needsUpdate: true });\n\t}\n\tcheckSourcesLoaded() {\n\t\tconst { map } = this.props.layer,\n\t\t\tsourcesLoaded = this.props.layer.layers\n\t\t\t\t.reduce((a, c) => {\n\t\t\t\t\tif (map && Boolean(map.getSource(c.source))) {\n\t\t\t\t\t\ta[c.source] = true;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ta[c.source] = false;\n\t\t\t\t\t}\n\t\t\t\t\treturn a;\n\t\t\t\t}, {});\n\t\tif (!deepequal(sourcesLoaded, this.state.sourcesLoaded)) {\n\t\t\tthis.setState({ sourcesLoaded });\n\t\t}\n\t}\n\n\tqueryRenderedFeatures() {\n\t\tconst {\n\t\t\tlayer,\n\t\t\tqueryLayers\n\t\t} = this.props;\n\n\t\tconst { map } = layer;\n\n\t\tif (!map) return [[], []];\n\n\t\tlet data = [],\n\t\t\tkeys = { layer: true };\n\n\t\tconst sourceData = [],\n\t\t\tlayers = queryLayers.length ? queryLayers : layer.layers.map(({ id }) => id);\n\n\t\tlayer.layers.forEach(l => {\n\t\t\tif (layers.includes(l.id)) {\n\t\t\t\tsourceData.push([l[\"source\"], l[\"source-layer\"], l[\"id\"]])\n\t\t\t}\n\t\t})\n\t\tsourceData.forEach(([sourceId, sourceLayer, layer]) => {\n\t\t\tmap.querySourceFeatures(sourceId, { sourceLayer })\n\t\t\t\t.forEach(feature => {\n\t\t\t\t\tconst _keys = Object.keys(feature.properties);\n\t\t\t\t\t_keys.forEach(key => keys[key] = true);\n\t\t\t\t\tconst row = { layer };\n\t\t\t\t\t_keys.forEach(key => {\n\t\t\t\t\t\trow[key] = feature.properties[key];\n\t\t\t\t\t})\n\t\t\t\t\tdata.push(row);\n\t\t\t\t})\n\t\t})\n\n\t\t// const options = {\n\t\t// \tlayers: queryLayers.length ? queryLayers : layer.layers.map(({ id }) => id)\n\t\t// };\n\t\t//\n\t\t// map.queryRenderedFeatures(options)\n\t\t// \t.forEach(feature => {\n\t\t// \t\tconst _keys = Object.keys(feature.properties);\n\t\t// \t\t_keys.forEach(key => keys[key] = true);\n\t\t// \t\tconst row = { layer: feature.layer.id };\n\t\t// \t\t_keys.forEach(key => {\n\t\t// \t\t\trow[key] = feature.properties[key];\n\t\t// \t\t})\n\t\t// \t\tdata.push(row);\n\t\t// \t})\n\n\t\tconst { dataFunc } = this.props;\n\t\tif (dataFunc !== null) {\n\t\t\tdata = data.map(dataFunc);\n\t\t}\n\n\t\tconst queriedFeatures = data.length;\n\n\t\tlet injectedRows = this.props.injectFunc(),\n\t\t\t{ filterKey } = this.props;\n\t\tif (injectedRows.length && (filterKey !== null)) {\n\t\t\tconst keys = data.reduce((a, c) => {\n\t\t\t\ta[c[filterKey]] = true;\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t\tinjectedRows = injectedRows.filter(d => !keys[d[filterKey]]);\n\t\t}\n\t\tif (dataFunc !== null) {\n\t\t\tinjectedRows = injectedRows.map(dataFunc);\n\t\t}\n\t\tif (injectedRows.length) {\n\t\t\tdata = [\n\t\t\t\t...data,\n\t\t\t\t...injectedRows\n\t\t\t]\n\t\t}\n\n\t\tkeys = injectedRows.reduce((keys, row) => ({\n\t\t\t...keys,\n\t\t\t...Object.keys(row).reduce((a, c) => ({ ...a, [c]: true }), {})\n\t\t}), keys)\n\n\t\tconst { tableKeys } = this.props;\n\t\tif (tableKeys.length) {\n\t\t\tkeys = tableKeys;\n\t\t}\n\t\telse {\n\t\t\tkeys = Object.keys(keys);\n\t\t}\n\n\t\tthis.setState({ features: [keys, data], queriedFeatures, needsUpdate: false, loading: false });\n\t}\n\n\trender() {\n\t\tconst [keys, data] = this.state.features;\n\n\t\treturn (\n\t\t\t<div style={ { width: \"100%\" } }>\n\n\t\t\t\t<button className=\"btn btn-sm btn-outline-success\"\n\t\t\t\t\tstyle={ { margin: \"10px 0px\" } }\n\t\t\t\t\tonClick={ () => { this.setState({ page: 0 }); this.queryRenderedFeatures(); } }\n\t\t\t\t\tdisabled={ !this.state.needsUpdate }>\n\t\t\t\t\tLoad Table\n\t\t\t\t</button>\n\n\t\t\t\t<Container>\n\t\t\t\t\t<AvlTable data={ data }\n\t\t\t\t\t\tkeys={ this.props.tableKeys.length ? this.props.tableKeys : keys }\n\t\t\t\t\t\t\t  expandable={this.props.expandable || []} // array of expandable columns\n\t\t\t\t\t\t\t  isMulti={true} // multi select filter\n\t\t\t\t\t/>\n\t\t\t\t</Container>\n\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default AttributesTable\n\nconst Container = styled.div`\n\t${ props => props.theme.scrollBar };\n\t/*overflow: auto;*/\n\tcolor: ${ props => props.theme.textColor };\n`\n","import React from \"react\"\n\nimport AttributesTable from \"./components/AttributesTable\"\n\nimport get from \"lodash.get\"\n\nconst DEFAULT_OPTIONS = {\n\tsources: [],\n\tlayers: [],\n\n\tactive: false,\n\tloading: 0,\n\n\tpopover: false,\n\tactions: false,\n  modals: false,\n\tinfoBoxes: false,\n\tlegend: false,\n\tfilters: false,\n\tselect: false,\n  onClick: false,\n\tonZoom: false,\n\n\t_isVisible: true,\n\n  onHover: false,\n\n\tshowAttributesModal: true,\n\n  mapActions: {},\n\n  selection: []\n}\n\nclass MapLayer {\n\tconstructor(name, _options = {}) {\n\t\tconst options = { ...DEFAULT_OPTIONS, ..._options };\n\n\t\tthis.component = null;\n\t\tthis.map = null;\n\n\t\tthis.showPopover = false;\n\t\tthis.latestPopoverId = 0;\n\n\t\tthis.name = name;\n\n    for (const key in options) {\n      this[key] = options[key];\n    }\n\t\tthis.LoadingIndicator = () => {};\n\n    this.boundFunctions = {};\n    this.hoverSourceData = {};\n\t\tthis.hoveredFeatureIds = new Set();\n\t\tthis.pinnedFeatureIds = new Set();\n\n\t\tthis._mousemove = this._mousemove.bind(this);\n\t\tthis._mouseleave = this._mouseleave.bind(this);\n\t\tthis._popoverClick = this._popoverClick.bind(this);\n\n    this._mousedown = this._mousedown.bind(this);\n\n    this._mapClick = this._mapClick.bind(this);\n\n    this.onHoverMove = this.onHoverMove.bind(this);\n    this.onHoverLeave = this.onHoverLeave.bind(this);\n\t}\n\n\tregisterLoadingIndicator(func) {\n\t\tthis.LoadingIndicator = func;\n\t}\n\tunregisterLoadingIndicator() {\n\t\tthis.LoadingIndicator = () => {};\n\t}\n\n  initComponent(component) {\n    this.component = component;\n    // this.updatePopover = component.updatePopover.bind(component);\n\t\tif (this.showAttributesModal !== false) {\n\t\t\tconst modals = this.modals || {};\n\t\t\tthis.modals = {\n\t\t\t\t...modals,\n\t\t\t\t\"avl-attributes\": {\n\t\t\t\t\ttitle: \"Attributes\",\n\t\t\t\t\tcomp: ({ layer }) => <AttributesTable layer={ layer }/>,\n\t\t\t\t\tshow: false,\n\t\t\t\t\tposition: \"bottom\",\n\t\t\t\t\tstartSize: [800, 500]\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (!get(this, 'component.props.sidebar', false) ||\n\t\t\t\t\t!get(this, 'component.props.sidebarPages', []).includes(\"layers\")) {\n\t\t\t\tthis.mapActions =\n\t\t\t\t\tget(this, 'component.props.hideAttributes', false) ?\n\t\t\t\t\t{...this.mapActions} :\n\t\t\t\t\t\t{\n\t\t\t\t\t...this.mapActions,\n\t\t\t\t\t\"avl-attributes\": {\n\t\t\t\t\t\tIcon: ({layer}) => <span className={`fa fa-lg fa-eye`}/>,\n\t\t\t\t\t\ttooltip: \"Toggle Attributes\",\n\t\t\t\t\t\taction: function () {\n\t\t\t\t\t\t\tthis.doAction([\"toggleModal\", \"avl-attributes\"]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst actions = this.actions || [];\n\t\t\t\tthis.actions =\n\t\t\t\t\tget(this, 'component.props.hideAttributes', false) ?\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t...actions.filter(({ tooltip }) => tooltip !== \"Toggle Attributes\"),\n\t\t\t\t\t\t] :\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t...actions.filter(({ tooltip }) => tooltip !== \"Toggle Attributes\"),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tIcon: () => <span className={ `fa fa-lg fa-eye` }/>,\n\t\t\t\t\t\t\t\taction: [\"toggleModal\", \"avl-attributes\"],\n\t\t\t\t\t\t\t\ttooltip: \"Toggle Attributes\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t}\n\t\t}\n  }\n\tinitMap(map) {\n    this.map = map;\n\t}\n\n\tonAdd(map, props) {\n\n\t}\n\t_onAdd(map) {\n\t\tif (this.popover) {\n\t\t\tthis.addPopover(map);\n\t\t}\n\t\tif (this.select) {\n\t\t\tthis.addBoxSelect(map);\n\t\t}\n    if (this.onClick) {\n      this.addOnClick(map);\n    }\n    if (this.onHover) {\n      this.addOnHover(map);\n    }\n\t\tif (this.onZoom) {\n\t\t\tthis.addOnZoom(map);\n\t\t}\n\t\tthis.layers.forEach(layer => {\n\t\t\tconst layerVisibility = map.getLayoutProperty(layer.id, 'visibility'),\n\t\t\t\tisVisible = (layerVisibility !== \"none\") && this._isVisible;\n\t\t\tmap.setLayoutProperty(layer.id, 'visibility', isVisible ? \"visible\" : \"none\");\n\t\t})\n\t}\n\tonRemove(map) {\n\n\t}\n\t_onRemove(map) {\n\t\tif (this.onZoom) {\n\t\t\tthis.removeOnZoom(map);\n\t\t}\n    if (this.onHover) {\n      this.removeOnHover(map);\n    }\n    if (this.onClick) {\n      this.removeOnClick(map);\n    }\n    if (this.select) {\n      this.removeBoxSelect(map);\n    }\n\t\tif (this.popover) {\n\t\t\tthis.removePopover(map);\n\t\t}\n\t}\n\n\treceiveProps(oldProps, newProps) {\n\t\tfor (const key in newProps) {\n\t\t\tthis[key] = newProps[key];\n\t\t}\n\t}\n\tonPropsChange(oldProps, newProps) {\n    this.doAction([\"fetchLayerData\"]);\n\t}\n\n\tgetLayerData(layers = []) {\n\t\tif (!this.map) return { keys: [], data: [] };\n\n\t\tlet data = [],\n\t\t\tkeys = { layer: true };\n\n\t\tlayers = layers.length ? layers : this.layers.map(({ id }) => id);\n\n\t\tconst sourceData = [];\n\n\t\tthis.layers.forEach(l => {\n\t\t\tif (layers.includes(l.id)) {\n\t\t\t\tsourceData.push([l[\"source\"], l[\"source-layer\"], l[\"id\"]])\n\t\t\t}\n\t\t})\n\t\tsourceData.forEach(([sourceId, sourceLayer, layer]) => {\n\t\t\tthis.map.querySourceFeatures(sourceId, { sourceLayer })\n\t\t\t\t.forEach(feature => {\n\t\t\t\t\tconst _keys = Object.keys(feature.properties);\n\t\t\t\t\t_keys.forEach(key => keys[key] = true);\n\t\t\t\t\tconst row = { layer };\n\t\t\t\t\t_keys.forEach(key => {\n\t\t\t\t\t\trow[key] = feature.properties[key];\n\t\t\t\t\t})\n\t\t\t\t\tdata.push(row);\n\t\t\t\t})\n\t\t})\n\n\t\tkeys = data.reduce((keys, row) => ({\n\t\t\t...keys,\n\t\t\t...Object.keys(row).reduce((a, c) => ({ ...a, [c]: true }), {})\n\t\t}), keys)\n\n\t\tkeys = Object.keys(keys);\n\n\t\treturn { data, keys };\n\t}\n\n\taddOnZoom(map) {\n\t\tconst func = () => {\n\t\t\tconst zoom = map.getZoom();\n\t\t\tthis.onZoom(zoom);\n\t\t}\n\t\tthis.boundFunctions[\"on-zoom\"] = func;\n\t\tmap.on(\"zoom\", func);\n\t}\n\tremoveOnZoom(map) {\n\t\tmap.off(\"zoom\", this.boundFunctions[\"on-zoom\"]);\n\t}\n\n  addOnHover(map) {\n    this.onHover.layers.forEach(layer => {\n      const data = this.layers.reduce((a, c) => c.id === layer ? c : a, false);\n      this.hoverSourceData[layer] = {\n        source: data.source,\n        sourceLayer: data['source-layer']\n      };\n\n      let func = e => this.onHoverMove(e, layer, map);\n      this.boundFunctions[`on-hover-move-${ layer }`] = func;\n      map.on(\"mousemove\", layer, func);\n\n      func = e => this.onHoverLeave(e, layer, map);\n      this.boundFunctions[`on-hover-leave-${ layer }`] = func;\n      map.on(\"mouseleave\", layer, func);\n    })\n  }\n  removeOnHover(map) {\n    this.onHover.layers.forEach(layer => {\n      let key = `on-hover-move-${ layer }`,\n        func = this.boundFunctions[key];\n\n      map.off(\"mousemove\", layer, func);\n      delete this.boundFunctions[key];\n\n      key = `on-hover-leave-${ layer }`;\n      func = this.boundFunctions[key];\n\n      map.off(\"mouseleave\", layer, func);\n      delete this.boundFunctions[key];\n    })\n  }\n  onHoverMove(e, layer, map) {\n    const { dataFunc, minZoom, filterFunc } = this.onHover;\n\n\t\tconst zoom = map.getZoom();\n\t\tif (minZoom && (minZoom > zoom)) {\n      return this.onHoverLeave(e, layer, map);\n\t\t}\n\n    (typeof dataFunc === \"function\") &&\n      dataFunc.call(this, e.features, e.point, e.lngLat, layer);\n\n    const data = this.hoverSourceData[layer];\n\t\tif (!data || !e.features.length) return;\n\n    this.onHoverLeave(e, layer, map);\n\n\t\tconst hover = id => {\n\t\t\t(id !== undefined) && (map.getCanvas().style.cursor = 'pointer');\n\t\t\t(id !== undefined) && this.hoveredFeatureIds.add(`${ layer }.${ id }`);\n\t\t\t(id !== undefined) && map.setFeatureState({ id, ...data }, { hover: true });\n\t\t}\n\t\tconst hoverFeature = () => {\n\t\t\tconst { id } = e.features[0];\n\t\t\thover(id);\n\t\t}\n\n\t\tif (typeof filterFunc === \"function\") {\n\t\t\tconst filter = filterFunc.call(this, e.features, e.point, e.lngLat, layer),\n\t\t\t\t{ source, sourceLayer } = data;\n\t\t\tif (filter) {\n\t\t\t\tmap.querySourceFeatures(source, { sourceLayer, filter })\n\t\t\t\t\t.forEach(({ id }) => {\n\t\t\t\t\t\thover(id);\n\t\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\thoverFeature();\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\thoverFeature();\n\t\t}\n  }\n  onHoverLeave(e, layer, map) {\n\t\tthis.hoveredFeatureIds.forEach(key => {\n\t\t\tconst [layer, id] = key.split(\".\"),\n\t\t\t\tdata = this.hoverSourceData[layer];\n\t\t\tif (data) {\n\t\t\t\tmap.setFeatureState({ id, ...data }, { hover: false });\n\t\t\t}\n\t\t});\n\t\tmap.getCanvas().style.cursor = '';\n\t\tthis.hoveredFeatureIds.clear();\n  }\n\n  doAction([action, ...args]) {\n    if (this.component && this.component[action]) {\n      return this.component[action](this.name, ...args);\n    }\n  }\n  forceUpdate() {\n    this.component && this.component.forceUpdate();\n  }\n\n\ttoggleVisibility() {\n\n\t\t//console.log('in map layer toggle visibility',map,this.layers)\n\t\tthis._isVisible = !this._isVisible;\n\t\tthis.layers.forEach(layer => {\n\t\t\tthis.map.setLayoutProperty(layer.id, 'visibility', this._isVisible ? \"visible\" : \"none\");\n\t\t})\n\t}\n\n\tfetchData() {\n\t\treturn Promise.resolve();\n\t}\n\tonFilterFetch(filterName, oldValue, newValue) {\n\t\treturn this.fetchData();\n\t}\n\tonLegendChange() {\n\t\treturn this.fetchData();\n\t}\n  onSelect(selection) {\n    return this.fetchData();\n  }\n\treceiveDataOld(...args) {\n\t\tif (this.receiveData) {\n\t\t\tconsole.warn(\"<AvlMap::MapLayer> You are using the old fetchData / receiveData API. Use the new featchData / render API!\");\n\t\t\tthis.receiveData(...args);\n\t\t}\n\t}\n\n\trender(map) {\n\t}\n\tonStyleChange(map) {\n\t\t// this._onRemove(map);\n\t\tthis._onAdd(map);\n\n\t\tthis.render(map);\n\t}\n\n  addOnClick(map) {\n    this.onClick.layers.forEach(layer => {\n      const func = e => this._mapClick(e, layer);\n\n      this.boundFunctions[`on-click-${ layer }`] = func;\n\n      if (layer === 'map') {\n        map.on('click', func);\n      }\n      else {\n        map.on(\"click\", layer, func)\n      }\n    })\n  }\n  removeOnClick(map) {\n    this.onClick.layers.forEach(layer => {\n      const key = `on-click-${ layer }`,\n        func = this.boundFunctions[key];\n\n      if (layer === 'map') {\n        map.off('click', func);\n      }\n      else {\n        map.off(\"click\", layer, func)\n      }\n\n      delete this.boundFunctions[key];\n    })\n  }\n  _mapClick(e, layer) {\n    this.onClick.dataFunc.call(this, e.features, e.point, e.lngLat, layer);\n  }\n\n\taddPopover(map) {\n\t\tthis.popover.layers.forEach(layer => {\n\n\t\t\tlet key = `${ layer }-mousemove`,\n\t\t\t\tfunc = e => this._mousemove(e, layer);\n\t\t\tthis.boundFunctions[key] = func;\n\t\t\tmap.on(\"mousemove\", layer, func);\n\n\t\t\tmap.on(\"mouseleave\", layer, this._mouseleave);\n\n      if (!this.popover.noSticky && !this.onClick) {\n\t\t\t\tkey = `${ layer }-popover-click`;\n\t\t\t\tfunc = e => this._popoverClick(e, layer);\n\t\t\t\tthis.boundFunctions[key] = func;\n        map.on(\"click\", layer, func);\n      }\n\t\t})\n\t}\n\tremovePopover(map) {\n\t\tthis.popover.layers.forEach(layer => {\n\n\t\t\tlet key = `${ layer }-mousemove`,\n\t\t\t\tfunc = this.boundFunctions[key];\n\t\t\tdelete this.boundFunctions[key];\n\t\t\tmap.off(\"mousemove\", layer, func);\n\n\t\t\tmap.off(\"mouseleave\", layer, this._mouseleave);\n\n      if (!this.popover.noSticky && !this.onClick) {\n\t\t\t\tkey = `${ layer }-popover-click`;\n\t\t\t\tfunc = this.boundFunctions[key];\n\t\t\t\tdelete this.boundFunctions[key];\n        map.off(\"click\", layer, func);\n      }\n\t\t})\n\t}\n\t_mousemove(e, layer) {\n\t\tthis.showPopover = true;\n\n\t\tconst { map, popover } = this.component.state,\n\t\t\tzoom = map.getZoom(),\n\t\t\t{ minZoom, dataFunc } = this.popover;\n\n\t\tif (minZoom && (minZoom > zoom)) return;\n\n    if (e.features && e.features.length) {\n\n\t\t\tconst popoverId = ++this.latestPopoverId;\n\n\t\t\tPromise.resolve(dataFunc.call(this, e.features[0], e.features, layer, map, e) || [])\n\t\t\t\t.then(data => {\n\t\t\t\t\tif (!this.showPopover) return;\n\t\t\t\t\tif (popoverId < this.latestPopoverId) return;\n\n\t\t\t\t\tmap.getCanvas().style.cursor = data.length ? 'pointer' : '';\n\n\t\t\t    if (popover.pinned) return;\n\n\t\t\t\t\tthis.doAction([\"updatePopover\", {\n\t\t      \tpos: [e.point.x, e.point.y],\n\t\t\t\t\t\tlayer: this,\n\t\t      \tdata\n\t\t      }])\n\t\t\t\t})\n    }\n\t}\n\t_mouseleave(e, layer) {\n\t\tthis.showPopover = false;\n\n\t\tconst { map, popover } = this.component.state;\n\n    map.getCanvas().style.cursor = '';\n\n    if (popover.pinned) return;\n\n\t\tthis.doAction([\"updatePopover\", {\n\t\t\t\tlayer: null,\n        data: []\n    }])\n\t}\n\t_clearPinnedState() {\n\t\tif (!this.map) return;\n\n\t\tthis.pinnedFeatureIds.forEach(layerId => {\n\t\t\tconst [layer, id] = layerId.split(\".\"),\n\t\t\t\tlayerData = this.layers.reduce((a, c) =>\n\t\t\t\t\tc.id === layer ? ({ source: c.source, sourceLayer: c['source-layer'] }) : a\n\t\t\t\t, null)\n\t\t\tlayerData && this.map.setFeatureState({ id, ...layerData }, { pinned: false });\n\t\t})\n\t\tthis.pinnedFeatureIds.clear();\n\t}\n\t_popoverClick(e, layer) {\n\t\tconst { map, popover } = this.component.state,\n    \t{ pinned } = popover;\n\n    if (e.features.length) {\n    \tconst data = this.popover.dataFunc.call(this, e.features[0], e.features, layer);\n    \tif (data.length) {\n\t\t\t\tif (typeof this.popover.onPinned === \"function\") {\n\t\t\t\t\tthis.popover.onPinned.call(this, e.features, e.lngLat, e.point);\n\t\t\t\t}\n\n\t\t\t\tif (this.popover.setPinnedState) {\n\t\t\t\t\tthis._clearPinnedState();\n\n\t\t\t\t\te.features.forEach(({ id, layer }) => {\n\t\t\t\t\t\tconst layerData = this.layers.reduce((a, c) =>\n\t\t\t\t\t\t\tc.id === layer.id ? ({ source: c.source, sourceLayer: c['source-layer'] }) : a\n\t\t\t\t\t\t, null)\n\t\t\t\t\t\tif ((id !== undefined) && layerData) {\n\t\t\t\t      this.pinnedFeatureIds.add(`${ layer.id }.${ id }`);\n\t\t\t\t      map.setFeatureState({ id, ...layerData }, { pinned: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n    \t\tif (pinned) {\n\t\t\t\t\tthis.doAction([\"updatePopover\", {\n    \t\t\t\tpos: [e.point.x, e.point.y],\n    \t\t\t\tdata,\n\t\t\t\t\t\tlayer: this\n    \t\t\t}])\n    \t\t}\n    \t\telse {\n\t\t\t\t\tthis.doAction([\"updatePopover\", {\n    \t\t\t\tpinned: true,\n\t\t\t\t\t\tlayer: this\n    \t\t\t}])\n    \t\t}\n    \t}\n    \t// else {\n    \t// \tthis.updatePopover({\n    \t// \t\tpinned: false\n    \t// \t})\n    \t// }\n    }\n\t}\n\n  _mousedown(e) {\n    if (!(e.shiftKey && e.button === 0)) return;\n\n    const { map } = this.component.state;\n\n    map.dragPan.disable();\n\n    const canvas = map.getCanvasContainer(),\n      selectFrom = this.select.fromLayers,\n      toHighlight = this.select.highlightLayers,\n      selectProperty = this.select.property,\n      selectFilter = ['in', selectProperty],\n      maxSelection = this.select.maxSelection || 5000;\n\n    const mousePos = e => {\n      const rect = canvas.getBoundingClientRect();\n      return [\n        e.clientX - rect.left - canvas.clientLeft,\n        e.clientY - rect.top - canvas.clientTop\n      ]\n    }\n\n    let start = mousePos(e), current, box = null, selection = [];\n\n    const onMouseMove = e => {\n      current = mousePos(e);\n\n      if (!box) {\n        box = document.createElement('div');\n        box.classList.add('boxdraw');\n        canvas.appendChild(box);\n      }\n\n      var minX = Math.min(start[0], current[0]),\n        maxX = Math.max(start[0], current[0]),\n        minY = Math.min(start[1], current[1]),\n        maxY = Math.max(start[1], current[1]);\n\n      var pos = 'translate(' + minX + 'px,' + minY + 'px)';\n      box.style.transform = pos;\n      box.style.WebkitTransform = pos;\n      box.style.width = maxX - minX + 'px';\n      box.style.height = maxY - minY + 'px';\n    }\n    const onMouseUp = e => {\n      finish([start, mousePos(e)]);\n    }\n    const onKeyDown = e => {\n      if (e.keyCode === 27) finish();\n    }\n\n    const finish = (bbox) => {\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('keydown', onKeyDown);\n      document.removeEventListener('mouseup', onMouseUp);\n\n      if (box) {\n        box.parentNode.removeChild(box);\n        box = null;\n      }\n\n      if (bbox) {\n        var features = map.queryRenderedFeatures(bbox, { layers: selectFrom });\n\n        if (features.length >= maxSelection) {\n          map.dragPan.enable();\n          return window.alert(`Select a smaller number of features. You selected ${ features.length }. The maximum is ${ maxSelection }.`);\n        }\n\n        var filter = features.reduce(function(filter, feature) {\n            filter.push(feature.properties[selectProperty]);\n            return filter;\n        }, selectFilter.slice());\n\n        selection = features.map(d => d.properties[selectProperty])\n\n        toHighlight.forEach(layer => {\n          map.setFilter(\n            layer.id,\n            layer.filter ? ['all', layer.filter, filter] : filter\n          );\n        })\n      }\n\n      map.dragPan.enable();\n      this.component.onSelect(this.name, selection);\n    }\n\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('keydown', onKeyDown);\n  }\n  addBoxSelect(map) {\n    this.select.highlightLayers.forEach(layer => {\n      map.setFilter(\n        layer.id,\n        [\"in\", this.select.property]\n      );\n    })\n\n    const canvas = map.getCanvasContainer();\n    canvas.addEventListener('mousedown', this._mousedown, true);\n  }\n\tremoveBoxSelect(map) {\n    const canvas = map.getCanvasContainer();\n    canvas.removeEventListener('mousedown', this._mousedown, true);\n\t}\n\n\treceiveMessage(action, data) {\n\t\tconsole.warn(\"<MapLayer.receiveMessage>\", this.name, action, \"You should override this method!\");\n\t}\n}\n\nexport default MapLayer\n","export const MapSources = [{\n                id: \"composite\",\n                source: {\n                    \"url\": \"mapbox://lobenichou.albersusa,lobenichou.albersusa-points\",\n                    \"type\": \"vector\"\n                }\n            },\n            {\n                id: \"albersusa\",\n                source: {\n                    \"url\": \"mapbox://lobenichou.albersusa\",\n                    \"type\": \"vector\"\n                }\n            },\n            {\n                id:'albersusa_cousubs',\n                source:{\n                    \"url\":\"mapbox://am3081.8xwbxcmy\",\n                    \"type\":\"vector\"\n                }\n            },\n            {\n                id:'albersusa_zip_codes',\n                source:{\n                    \"url\":\"mapbox://am3081.4jgx8fkw\",\n                    \"type\":\"vector\"\n                }\n            },\n            {\n                id:'albersusa_tracts',\n                source:{\n                    \"url\":\"mapbox://am3081.2n3as7pn\",\n                    \"type\":\"vector\"\n                }\n            }]\n\nexport const MapStyles = [{\n                \"id\": \"counties\",\n                \"type\": \"fill\",\n                \"source\": \"albersusa\",\n                \"source-layer\": \"albersusa\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"county_fips\"], true, false],\n                \"layout\": {},\n                \"paint\": {\n                    \"fill-color\": \"hsl(0, 3%, 94%)\",\n                    'fill-opacity': [\n                        'case',\n                        ['boolean', ['feature-state', 'hover'], false],\n                        0.1,\n                        1\n                    ],\n                    /*\"fill-opacity\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        0,\n                        1\n                    ],\n                    ,*/\n                }\n            },\n            {\n                \"id\": \"county-boundaries\",\n                \"type\": \"line\",\n                \"source\": \"albersusa\",\n                \"source-layer\": \"albersusa\",\n                \"layout\": {},\n                \"paint\": {\n                    \"line-color\": 'rgba(0,0,0,0)',\n                    'line-opacity':0.7,\n                    'line-width':3\n                    }\n            },\n            {\n                \"id\": \"cousubs\",\n                \"type\": \"fill\",\n                \"source\": \"albersusa_cousubs\",\n                \"source-layer\": \"albersusa_cousubs\",\n                \"filter\": [\"match\", [\"get\", \"type\"],[\"geoid\"],true, false],\n                \"layout\": {},\n                \"paint\": {\n                    \"fill-color\": \"hsl(0, 3%, 94%)\",\n                    \"fill-opacity\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        0,\n                        1\n                    ],\n                    \"fill-outline-color\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        \"hsl(0, 4%, 85%)\",\n                        \"hsl(0, 4%, 85%)\"\n                    ],\n                }\n            },\n            {\n                \"id\": \"tracts\",\n                \"type\": \"fill\",\n                \"source\": \"albersusa_tracts\",\n                \"source-layer\": \"albersusa_tracts\",\n                \"filter\": [\"match\", [\"get\", \"type\"],[\"geoid\"],true, false],\n                \"layout\": {},\n                \"paint\": {\n                    \"fill-color\": \"hsl(0, 3%, 94%)\",\n                    \"fill-opacity\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        0,\n                        1\n                    ],\n                    \"fill-outline-color\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        \"hsl(0, 4%, 85%)\",\n                        \"hsl(0, 4%, 85%)\"\n                    ],\n                }\n            },\n            {\n                \"id\": \"zipcodes\",\n                \"type\": \"fill\",\n                \"source\": \"albersusa_zip_codes\",\n                \"source-layer\": \"albersusa_zip_codes\",\n                \"filter\": [\"match\", [\"get\", \"type\"],[\"ZCTA5CE10\"],true, false],\n                \"layout\": {},\n                \"paint\": {\n                    \"fill-color\": \"hsl(0, 3%, 94%)\",\n                    \"fill-opacity\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        0,\n                        1\n                    ],\n                    \"fill-outline-color\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        \"hsl(0, 4%, 85%)\",\n                        \"hsl(0, 4%, 85%)\"\n                    ],\n                }\n            },\n            {\n                \"id\": \"states\",\n                \"type\": \"fill\",\n                \"source\": \"albersusa\",\n                \"source-layer\": \"albersusa\",\n                    \"filter\": [\"match\", [\"get\", \"type\"], [\"state\"], true, false],\n                \"layout\": {\n                },\n                \"paint\": {\n                    \"fill-color\": \"rgba(0,0,0,0)\",\n                }\n            },\n            {\n                \"id\": \"state-boundaries\",\n                \"type\": \"line\",\n                \"source\": \"composite\",\n                \"source-layer\": \"albersusa\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"state\"], true, false],\n                \"layout\": {},\n                \"paint\": {\"line-color\": \"hsl(0, 0%, 72%)\", \"line-width\": 0.5}\n            },\n            {\n                \"id\": \"county-points\",\n                \"type\": \"symbol\",\n                \"source\": \"composite\",\n                \"source-layer\": \"albersusa-points\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"county\"], true, false],\n                \"layout\": {\n                    \"text-field\": [\"to-string\", [\"get\", \"county_fips\"]],\n                    \"text-font\": [\"Overpass Mono Bold\", \"Arial Unicode MS Regular\"],\n                    \"visibility\": \"none\"\n                },\n                \"paint\": {\n                    \"text-color\": \"hsl(0, 0%, 100%)\",\n                    \"text-halo-color\": \"hsl(0, 0%, 6%)\",\n                    \"text-halo-width\": 1,\n                    \"text-opacity\": [\"step\", [\"zoom\"], 0, 6, 1]\n                }\n            },\n            {\n                \"id\": \"state-points\",\n                \"type\": \"symbol\",\n                \"source\": \"composite\",\n                \"source-layer\": \"albersusa-points\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"state\"], true, false],\n                \"layout\": {\n                    \"text-field\": [\"to-string\", [\"get\", \"state_abbrev\"]],\n                    \"text-font\": [\"Open Sans Regular\", \"Arial Unicode MS Regular\"],\n                },\n                \"paint\": {\n                    \"text-color\": \"hsl(0, 0%, 25%)\",\n                    \"text-opacity\": [\"step\", [\"zoom\"], 1, 6, 0],\n                    \"text-halo-color\": \"hsl(0, 0%, 100%)\",\n                    \"text-halo-width\": 1\n                }\n            }]\n","import React from \"react\"\nimport MapLayer from \"components/AvlMap/MapLayer\"\nimport {MapSources,MapStyles} from './components/mapLayers'\nimport get from \"lodash.get\"\nimport hazardcolors from \"../../constants/hazardColors\";\nimport * as d3scale from 'd3-scale'\nimport { extent } from \"d3-array\"\nimport config from './components/config'\nimport { fnum } from \"utils/sheldusUtils\"\nimport * as d3 from \"d3\";\nvar _ = require('lodash')\nvar format =  d3.format(\"~s\")\nconst fmt = (d) => d < 1000 ? d : format(d)\n\nvar d3Geo = require('d3-geo')\nvar R = 6378137.0 // radius of Earth in meters\n\n\nconst projections = {\n    'albersUsa': d3Geo.geoAlbersUsa().translate([0, 0]).scale(R),\n    'mercator' : d3Geo.geoMercator().translate([0, 0]).scale(R)\n}\nconst point2Albers = (lng, lat) => {\n    let data =  projections['mercator'].invert(projections['albersUsa']([lat,lng]))\n    let out = data ? data : [0,0]\n    return out\n}\n\nclass MapsLayer extends MapLayer {\n    onPropsChange(oldProps, newProps) {\n\n        if (this.filters.year.value !== newProps.year) {\n            this.filters.year.value = newProps.year ?\n                [newProps.year] : newProps.year ? newProps.year : null\n            this.doAction([\"fetchLayerData\"]);\n        }\n        if (oldProps.hazard !== newProps.hazard) {\n            this.filters.hazard.value = newProps.hazard || 'riverine'\n            this.doAction([\"fetchLayerData\"]);\n        }\n        if(oldProps.fips !== newProps.fips){\n            this.filters.fips.value = newProps.fips || null\n            this.doAction([\"fetchLayerData\"]);\n        }\n        if(oldProps.geography !== newProps.geography){\n            this.filters.geography.value = newProps.geography\n            this.doAction([\"fetchLayerData\"]);\n        }\n        if(this.filters.dataType.value !== newProps.dataType){\n            this.filters.dataType.value = newProps.dataType\n            this.doAction([\"fetchLayerData\"]);\n        }\n        if(!_.isEqual(oldProps.falcorCache, newProps.falcorCache)){\n            this.falcorCache = newProps.falcorCache\n            this.doAction([\"fetchLayerData\"])\n        }\n\n    }\n\n    receiveProps(oldProps,newProps){\n        if(this.filters.dataType.value !== newProps.dataType){\n            this.filters.dataType.value = newProps.dataType\n            this.onAdd(this.map)\n        }\n        /*if(newProps.falcorCache){\n            this.falcorCache = newProps.falcorCache\n            this.onAdd(this.map)\n        }*/\n    }\n\n    onAdd(map) {\n        this.map = map\n        this.onLoadBounds = map.getBounds()\n        this.fetchData().then(d => this.render(map,d))\n    }\n\n    fetchData() {\n        return Promise.resolve({})\n    }\n\n    getColorScale(domain) {\n        this.legend.range = hazardcolors[this.filters.hazard.value + \"_range\"]\n        switch (this.legend.type) {\n            case \"quantile\":\n                return d3scale.scaleQuantile()\n                    .domain(domain)\n                    .range(this.legend.range);\n            case \"quantize\":\n                this.legend.domain = extent(domain)\n                return d3scale.scaleQuantize()\n                    .domain(domain)\n                    .range(this.legend.range);\n            case \"threshold\": {\n                this.legend.domain = domain\n                return d3scale.scaleThreshold()\n                    .domain(domain)\n                    .range(this.legend.range)\n            }\n            default:\n                this.layer.forceUpdate()\n                return d3scale.scaleQuantile()\n                    .domain(domain)\n                    .range(this.legend.range);\n        }\n\n\n    }\n\n\n    render(map,data) {\n        let geography = this.filters.fips.value ? this.filters.geography.value : 'counties'\n        let fetch_url = this.filters.dataType.value ? geography !== 'zip_codes'  ? config[this.filters.dataType.value].fetch_url : `${config[this.filters.dataType.value].fetch_url}.byZip`: ''\n        let graph = this.filters.dataType.value ? get(this.falcorCache,fetch_url,null) : null\n        let geo = {}\n        //console.log('graph',graph)\n        if(graph){\n            if(geography !== 'zip_codes'){\n                this.filtered_geographies = this.filters.fips.value ? get(this.falcorCache,['geo',this.filters.fips.value,geography,'value'],null) : Object.keys(graph).filter( d=> d!== \"\")\n            }else{\n                geo = get(this.falcorCache,['geo'],null)\n                this.zip_codes = Object.keys(geo).reduce((a,c) =>{\n                    if(this.filtered_geographies && this.filtered_geographies.includes(c)){\n                        a.push(...get(geo,[c,'byZip','zip_codes','value'],[]))\n                    }\n                    return a\n                },[])\n            }\n            let measure =  config[this.filters.dataType.value].measure\n            let lossByFilteredGeoids = Object.keys(graph).filter( d=> d!== \"\").reduce((a,c)=>{\n                if(geography !== 'zip_codes' &&  this.filtered_geographies && this.filtered_geographies.includes(c) ){\n                    a[c] = this.filters.dataType.value === 'fema' ? get(graph,[c,this.filters.hazard.value,this.filters.year.value,measure,'value'],0)\n                        :\n                        get(graph,[c,this.filters.hazard.value,this.filters.year.value,measure],0)\n                }\n                if(geography === 'zip_codes'  && this.zip_codes && this.zip_codes.includes(c)){\n                    a[c] = this.filters.dataType.value === 'fema' ? get(graph,[c,this.filters.hazard.value,this.filters.year.value,measure,'value'],0)\n                        :\n                        get(graph,[c,this.filters.hazard.value,this.filters.year.value,measure],0)\n                }\n                return a\n            },{})\n            let range = [\"#F1EFEF\", ...hazardcolors[this.filters.hazard.value + '_range']]\n            this.legend.domain = geography === 'counties' ? config[this.filters.dataType.value].counties_domain :\n               config[this.filters.dataType.value].other_domain\n            this.legend.range = range\n            let colorScale = d3scale.scaleThreshold()\n                .domain(this.legend.domain)\n                .range(\n                    range //[\"#f2efe9\", \"#fadaa6\", \"#f7c475\", \"#f09a10\", \"#cf4010\"]\n                )\n            let colors = Object.keys(lossByFilteredGeoids)\n                .reduce((a, c) => {\n                    a[c] = colorScale(lossByFilteredGeoids[c])\n                    return a\n                }, {})\n\n            if (geography === \"cousubs\" && Object.keys(lossByFilteredGeoids).length > 0 && this.filtered_geographies) {\n                map.setLayoutProperty('counties', 'visibility', 'none');\n                map.setLayoutProperty('tracts', 'visibility', 'none');\n                map.setLayoutProperty('zipcodes', 'visibility', 'none');\n                map.setLayoutProperty('cousubs', 'visibility', 'visible');\n                map.setFilter('cousubs', [\"all\", [\"match\", [\"get\", \"geoid\"], this.filtered_geographies, true, false]])\n                map.setPaintProperty(\n                    'cousubs',\n                    'fill-color',\n                    ['case',\n                        [\"has\", [\"to-string\", [\"get\", 'geoid']], [\"literal\", colors]],\n                        [\"get\", [\"to-string\", [\"get\", 'geoid']], [\"literal\", colors]],\n                        \"hsl(0, 3%, 94%)\"\n                    ]\n                )\n            }\n            if (geography === \"tracts\" && Object.keys(lossByFilteredGeoids).length > 0 && this.filtered_geographies) {\n                map.setLayoutProperty('cousubs', 'visibility', 'none');\n                map.setLayoutProperty('counties', 'visibility', 'none');\n                map.setLayoutProperty('zipcodes', 'visibility', 'none');\n                map.setLayoutProperty('tracts', 'visibility', 'visible');\n                map.setFilter('tracts', [\"all\", [\"match\", [\"get\", \"geoid\"], this.filtered_geographies, true, false]])\n                map.setPaintProperty(\n                    'tracts',\n                    'fill-color',\n                    ['case',\n                        [\"has\", [\"to-string\", [\"get\", 'geoid']], [\"literal\", colors]],\n                        [\"get\", [\"to-string\", [\"get\", 'geoid']], [\"literal\", colors]],\n                        \"hsl(0, 3%, 94%)\"\n                    ]\n                )\n            }\n            if(geography === \"zip_codes\" && Object.keys(lossByFilteredGeoids).length > 0 && this.zip_codes){\n                map.setLayoutProperty('cousubs', 'visibility', 'none');\n                map.setLayoutProperty('counties', 'visibility', 'none');\n                map.setLayoutProperty('tracts', 'visibility', 'none');\n                map.setLayoutProperty('zipcodes', 'visibility', 'visible');\n                map.setFilter('zipcodes', [\"all\", [\"match\", [\"get\", \"ZCTA5CE10\"],[...new Set(this.zip_codes)], true, false]])\n                map.setPaintProperty(\n                    'zipcodes',\n                    'fill-color',\n                    ['case',\n                        [\"has\", [\"to-string\", [\"get\", 'ZCTA5CE10']], [\"literal\", colors]],\n                        [\"get\", [\"to-string\", [\"get\", 'ZCTA5CE10']], [\"literal\", colors]],\n                        \"hsl(0, 3%, 94%)\"\n                    ]\n                )\n            }\n\n            if (geography === \"counties\" && Object.keys(lossByFilteredGeoids).length > 0 && this.filtered_geographies) {\n                map.setLayoutProperty('cousubs', 'visibility', 'none');\n                map.setLayoutProperty('tracts', 'visibility', 'none');\n                map.setLayoutProperty('zipcodes', 'visibility', 'none');\n                map.setLayoutProperty('counties', 'visibility', 'visible');\n                map.setFilter('counties', [\"all\", [\"match\", [\"get\", \"county_fips\"], this.filtered_geographies, true, false]])\n                map.setPaintProperty(\n                    'counties',\n                    'fill-color',\n                    ['case',\n                        [\"has\", [\"to-string\", [\"get\", 'county_fips']], [\"literal\", colors]],\n                        [\"get\", [\"to-string\", [\"get\", 'county_fips']], [\"literal\", colors]],\n                        \"hsl(0, 3%, 94%)\"\n                    ]\n                )\n\n            }\n\n            if (this.filters.fips.value && this.filtered_geographies) {\n                let geom = get(this.falcorCache,['geo',this.filters.fips.value,'boundingBox','value'],null)\n                let initalBbox = geom ?  geom.slice(4, -1).split(\",\") : null\n                let bbox = initalBbox ? [initalBbox[0].split(\" \").map(d => parseFloat(d)),initalBbox[1].split(\" \").map(d => parseFloat(d))] : null\n                if(bbox){\n                    let a = point2Albers(bbox[0][1], bbox[0][0])\n                    let b = point2Albers(bbox[1][1], bbox[1][0])\n                    map.fitBounds([a,b])\n                    map.setFilter(\"states\",[\"all\",\n                        [\"match\", [\"get\", \"state_fips\"],[this.filters.fips.value],true,false]\n                    ])\n                    map.setFilter('counties', [\"all\", [\"match\", [\"get\", \"county_fips\"],this.filtered_geographies, true, false]])\n                }\n\n            }\n            else{\n\n                map.setFilter('states',undefined)\n                map.setLayoutProperty('cousubs', 'visibility', 'none');\n                map.setLayoutProperty('tracts', 'visibility', 'none');\n                map.setLayoutProperty('zipcodes', 'visibility', 'none');\n                map.setLayoutProperty('counties', 'visibility', 'visible');\n\n                map.setPaintProperty(\n                    'counties',\n                    'fill-color',\n                    ['case',\n                        [\"has\", [\"to-string\", [\"get\", 'county_fips']], [\"literal\", colors]],\n                        [\"get\", [\"to-string\", [\"get\", 'county_fips']], [\"literal\", colors]],\n                        \"hsl(0, 3%, 94%)\"\n                    ]\n                );\n                map.fitBounds(this.onLoadBounds)\n\n\n            }\n        }\n\n\n    }\n}\n\nexport default (props = {}) =>\n    new MapsLayer(\"Maps Layer\", {\n        ...props,\n        popover: {\n            layers: ['counties','cousubs','tracts','zipcodes','state'],\n            pinned:false,\n            dataFunc: function (d) {\n                const {properties} = d\n                let geoid = this.filters.geography.value === 'counties' ? properties.county_fips : this.filters.geography.value === 'zip_codes' ? get(properties,['ZCTA5CE10'],'') : properties.geoid\n                let name = this.filters.geography.value === 'zip_codes' ? get(properties,['ZCTA5CE10'],'') : get(this.falcorCache,['geo',geoid,'name'],'')\n                let state_abbr = this.filters.geography.value === 'counties'? get(properties,['state_abbrev'],'') : get(this.falcorCache,['geo',this.filters.fips.value,'state_abbr'],'')\n                let graph = this.filters.geography.value === 'zip_codes' ?\n                    get(this.falcorCache,`${config[this.filters.dataType.value].fetch_url}.byZip.${geoid}.${this.filters.hazard.value}.${this.filters.year.value}`,null)\n                    :get(this.falcorCache,`${config[this.filters.dataType.value].fetch_url}.${geoid}.${this.filters.hazard.value}.${this.filters.year.value}`,null)\n                return [\n                        [   (<div className='text-sm text-bold text-left'>\n                            {`${name},${state_abbr}`}\n                        </div>)\n                        ],\n                        [   (<div className='text-xs text-gray-500 text-left'>\n                            {this.filters.year.value.toString().replace('allTime','1996-2019')}\n                        </div>)\n                        ],\n                        [\n                            (\n                                <table className=\"min-w-full divide-y divide-gray-200\">\n                                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                                    {config[this.filters.dataType.value].popover.map((pop,i) =>{\n                                        return (\n                                            <tr className=\"bg-white\" key={i}>\n                                                <td className=\"px-6 py-3 whitespace-no-wrap text-xs text-left leading-5 font-medium text-gray-900\">\n                                                    {pop.name}\n                                                </td>\n                                                <td className=\"px-6 py-3 whitespace-no-wrap text-xs leading-5 text-gray-500\">\n                                                    {this.filters.dataType.value === 'fema' ?\n                                                        pop.type === 'fnum' ?\n                                                            fnum(get(graph,[pop.value,'value'],'0')) :\n                                                            fmt(get(graph,[pop.value,'value'],'0'))\n                                                        :\n                                                        pop.type === 'fnum' ?\n                                                        fnum(get(graph,[pop.value],'0')) :\n                                                        fmt(get(graph,[pop.value],'0'))\n                                                    }\n                                                </td>\n                                            </tr>\n                                        )\n                                    })}\n                                    </tbody>\n                                </table>\n                            )\n                        ]\n\n                    ]\n            }\n        },\n        onHover: {\n            layers: ['counties'],\n            dataFunc: function(d) {\n                let map = this.map\n                let hoveredCountyId = null\n                map.on('mousemove', 'counties', function (e) {\n                    if (e.features.length > 0) {\n                        if (hoveredCountyId) {\n                            map.setFeatureState(\n                                { source: 'albersusa', id: hoveredCountyId, sourceLayer: 'counties' },\n                                { hover: false }\n                            );\n                        }\n                        hoveredCountyId = e.features[0].id\n                        map.setFeatureState(\n                            { source: 'albersusa', id: hoveredCountyId,sourceLayer: 'counties' },\n                            { hover: true }\n                        )\n                    }\n                });\n                map.on('mouseleave', 'counties', function () {\n                    if (hoveredCountyId) {\n                        map.setFeatureState(\n                            { source: 'albersusa', id: hoveredCountyId,sourceLayer: 'counties' },\n                            { hover: false }\n                        );\n                    }\n\n                });\n            }\n        },\n        showAttributesModal: false,\n        legend: {\n            title: 'Total Damage',\n            type: \"threshold\",\n            types: [\"threshold\", \"quantile\", \"quantize\",\"linear\"],\n            vertical: false,\n            range: [],\n            active: false,\n            domain: [],\n\n        },\n        sources: MapSources,\n        layers: MapStyles,\n        falcorCache: {},\n        filters: {\n            'year': {\n                type: 'dropdown',\n                value: 'allTime',\n                domain: [...config['years'], 'allTime']\n            },\n            'hazard': {\n                type: 'dropdown',\n                value: 'riverine',\n                domain: config['Hazards']\n            },\n            'geography':{\n                type:'dropdown',\n                value : 'counties',\n                domain : []\n            },\n            'fips':{\n                type:'dropdown',\n                value:null,\n                domain: []\n            },\n            'dataType':{\n                type:'dropdown',\n                value: null,\n                domain: []\n            }\n        }\n    })\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {ArrowRight} from '../common/icons';\n\nimport { Tooltip } from '../common/styled-components';\n\nconst StyledSidePanelContainer = styled.div`\n  z-index: 99;\n  height: 100%;\n  width: ${ props => props.width + 40 }px;\n  display: flex;\n  transition: width 250ms;\n  position: absolute;\n  padding: 20px;\n`;\n\nconst SideBarContainer = styled.div`\n  position: relative;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  align-items: stretch;\n  flex-grow: 1;\n  overflow: ${ props => props.isOpen && !props.transitioning ? 'visible' : 'hidden' };\n`;\n\nconst SideBarInner = styled.div`\n  background-color: ${props => props.theme.sidePanelBg};\n  border-radius: 1px;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nconst CollapseButton = styled.div`\n  align-items: center;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  justify-content: center;\n  background-color: ${props => props.theme.sideBarCloseBtnBgd};\n  border-radius: 1px;\n  color: ${props => props.theme.sideBarCloseBtnColor};\n  display: flex;\n  position: absolute;\n  height: 20px;\n  width: 20px;\n  right: 10px;\n  top: 25px;\n\n  :hover {\n    cursor: pointer;\n    box-shadow: none;\n    background-color: ${props => props.theme.sideBarCloseBtnBgdHover};\n  }\n`;\n\nclass SideBar extends Component {\n  static defaultProps = {\n    width: 300,\n    minifiedWidth: 0,\n    isOpen: true,\n    onOpenOrClose: function noop() {}\n  };\n  static propTypes = {\n    width: PropTypes.number,\n    isOpen: PropTypes.bool,\n    minifiedWidth: PropTypes.number,\n    onOpenOrClose: PropTypes.func\n  };\n\n  _onOpenOrClose = () => {\n    this.props.onTransitionStart();\n    setTimeout(() => {\n      this.props.onOpenOrClose(!this.props.isOpen);\n    }, 250);\n  };\n\n  render() {\n    const { isOpen, transitioning, width } = this.props;\n\n    const _width = isOpen && transitioning ? 0\n                  : isOpen && !transitioning ? width\n                  : !isOpen && transitioning ? 300\n                  : 0;\n\n    return (\n      <StyledSidePanelContainer\n        width={ _width }\n        className=\"side-panel--container\"\n        isOpen={ isOpen }>\n\n        <SideBarContainer className=\"side-bar\"\n          style={ { width: `${ width }px` } }\n          isOpen={ isOpen }\n          transitioning={ transitioning }>\n\n          { !isOpen && !transitioning ? null :\n            <div style={ { width: `${ width }px`, height: \"100%\" } }>\n              <SideBarInner className=\"side-bar__inner\">\n                { this.props.children }\n              </SideBarInner>\n            </div>\n          }\n\n        </SideBarContainer>\n\n        <CollapseButton className=\"side-bar__close\"\n          onClick={ this._onOpenOrClose }\n          data-tip data-for=\"hide-show-layer-controls\">\n          <ArrowRight height=\"12px\"\n            style={ { transform: `rotate(${ isOpen ? 180 : 0 }deg)` } }/>\n        </CollapseButton>\n        <Tooltip\n          id='hide-show-layer-controls'\n          effect=\"solid\"\n          place=\"right\">\n          <span>{ `${ isOpen ? \"Hide\" : \"Show\" } Controls` }</span>\n        </Tooltip>\n\n      </StyledSidePanelContainer>\n    );\n  }\n}\n\nexport default SideBar\n","import React, {Component} from 'react';\n\nimport styled from \"styled-components\"\n\nconst DefaultHeader = styled.div`\n  font-size: 1.5rem;\n  color: ${ props => props.theme.textColorHl };\n`\n\nclass SidebarHeader extends Component {\n  render() {\n    const { header } = this.props,\n      Header = typeof header === \"function\" ?\n        header :\n        () => <DefaultHeader>{ header }</DefaultHeader>;\n        \n    return (\n      <div style={ { padding: \"20px\" } }>\n        <Header />\n      </div>\n    );\n  }\n}\n\n\nexport default SidebarHeader","import React from 'react';\n\nimport styled from \"styled-components\"\n\nimport ItemSelector from \"../common/item-selector/item-selector\"\n\nconst Container = styled.div`\n  padding: 0px 5px;\n  margin-bottom: 10px;\n  .item-selector__dropdown {\n    display: flex;\n    justify-content: center;\n  }\n  .item-selector__dropdown > span {\n    color: ${ props => props.theme.textColor };\n    font-size: 1rem;\n    text-align: center;\n  }\n`\n\nexport default ({ addLayer, layers }) =>\n  <Container>\n    <ItemSelector\n      placeholder=\"Add A Layer\"\n      selectedItems={ null }\n      multiSelect={ false }\n      searchable={ false }\n      displayOption={ d => d }\n      getOptionValue={ d => d }\n      onChange={ addLayer }\n      options={ layers.reduce((a, c) => !c.active ? [...a, c.name] : a, []) }/>\n  </Container>\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport styled from 'styled-components';\nimport {Tooltip} from '../common/styled-components';\n\nconst HeaderActionWrapper = styled.div`\n  margin-left: ${props => (props.flush ? 0 : 8)}px;\n  display: flex;\n  align-items: center;\n  color: ${props =>\n    props.active\n      ? props.theme.panelHeaderIconActive\n      : props.theme.panelHeaderIcon};\n\n  :hover {\n    cursor: pointer;\n    color: ${props =>\n      props.hoverColor\n        ? props.theme[props.hoverColor]\n        : props.theme.textColorHl};\n  }\n\n  &.disabled {\n    pointer-events: none;\n    opacity: 0.3;\n  }\n`;\n\n// Need to use react class to access props.component\nexport default class PanelHeaderAction extends Component {\n  static propTypes = {\n    // id: PropTypes.string,\n    flush: PropTypes.bool,\n    tooltip: PropTypes.string,\n    onClick: PropTypes.func,\n    active: PropTypes.bool,\n    disabled: PropTypes.bool,\n    hoverColor: PropTypes.string,\n    className: PropTypes.string,\n    tooltipType: PropTypes.string\n  };\n\n  static defaultProps = {\n    onClick: () => {},\n    hoverColor: null,\n    active: false\n  };\n\n  render() {\n    const {\n      onClick,\n      tooltip,\n      id,\n      active,\n      flush,\n      hoverColor,\n      tooltipType,\n      disabled,\n      className\n    } = this.props;\n    return (\n      <HeaderActionWrapper\n        className={classnames('panel--header__action', {disabled, [className]: className})}\n        active={active}\n        hoverColor={hoverColor}\n        flush={flush}>\n\n        <this.props.IconComponent\n          data-tip\n          data-for={`${tooltip}_${id}`}\n          height=\"18px\"\n          onClick={ e => { e.stopPropagation(); onClick(e); } }\n        />\n        {tooltip ? (\n          <Tooltip\n            id={`${tooltip}_${id}`}\n            effect=\"solid\"\n            delayShow={500}\n            type={tooltipType}\n          >\n            <span>{tooltip}</span>\n          </Tooltip>\n        ) : null}\n      </HeaderActionWrapper>\n    );\n  }\n};\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport styled from 'styled-components';\nimport PanelHeaderAction from './panelHeaderAction';\nimport {\n  EyeSeen,\n  EyeUnseen,\n  VertDots,\n  ArrowDown,\n  Trash,\n  Clock\n} from '../common/icons';\n\n\nimport {\n    //InlineInput,\n    StyledPanelHeader,\n    Tooltip\n} from '../common/styled-components';\n\nconst defaultProps = {\n  isDragNDropEnabled: true,\n  showRemoveLayer: true,\n  className: '',\n  idx: 1,\n  // isConfigActive: false ,\n  isVisible: true,\n  layerId: 1,\n  layerType: '',\n  labelRCGColorValues: [255, 0, 0],\n  isConfigActive: true,\n  onToggleVisibility: () => {},\n  onUpdateLayerLabel: () => {},\n  onToggleEnableConfig: () => {},\n  onRemoveLayer: () => {}\n};\n\nconst StyledLayerPanelHeader = styled(StyledPanelHeader)`\n  .layer__remove-layer {\n    opacity: 0;\n  }\n  width: 100%;\n  :hover {\n    cursor: pointer;\n    background-color: ${props => props.theme.panelBackgroundHover};\n\n    .layer__drag-handle {\n      opacity: 1;\n    }\n\n    .layer__remove-layer {\n      opacity: 1;\n    }\n\n    .layer__enable-config {\n      color: white\n    }\n  }\n`;\n\nconst HeaderLabelSection = styled.div`\n  display: flex;\n  color: ${props => props.theme.textColor};\n`;\n\nconst HeaderActionSection = styled.div`\n  display: flex;\n`;\n\nconst LayerTitleSection = styled.div`\n  margin-left: 12px;\n  .layer__title__type {\n    color: ${props => props.theme.subtextColor};\n    font-size: 10px;\n    line-height: 12px;\n    letter-spacing: 0.37px;\n    text-transform: capitalize;\n  }\n`;\n\nconst DragHandle = styled.div`\n  display: flex;\n  align-items: center;\n  opacity: 0;\n\n  :hover {\n    cursor: move;\n    color: ${props => props.theme.textColorHl};\n  }\n`;\n\nconst ActionBarContainer = styled.div`\n  display: flex;\n`\nconst IconWrapper = styled.div`\n  color: ${ props => props.theme.textColor };\n  display: inline-flex;\n  margin-left: 5px;\n  transition: color 0.15s;\n  :hover {\n    color: ${ props => props.theme.textColorHl };\n  }\n`\n\nconst ActionBar = ({ layer, actions, actionMap }) =>\n  <ActionBarContainer>\n    {\n      actions.map((a, i) =>\n        <IconWrapper key={ i }>\n          <div data-tip\n            data-for={ `action-bar-${ i }` }\n            onClick={ e => {\n              e.stopPropagation();\n              typeof a.action === \"function\" ?\n                a.action.call(layer) :\n                actionMap[a.action[0]](layer.name, ...a.action.slice(1))\n            } }>\n            <a.Icon />\n          </div>\n          <Tooltip\n            id={ `action-bar-${ i }` }\n            effect=\"solid\"\n            delayShow={ 500 }>\n            <span>{ a.tooltip }</span>\n          </Tooltip>\n        </IconWrapper>\n      )\n    }\n  </ActionBarContainer>\n\nclass RemoveIcon extends React.Component {\n  render() {\n    return (\n      <div { ...this.props }><span className=\"fa fa-close\"/></div>\n    )\n  }\n}\n\nconst LayerPanelHeader = ({\n  className,\n  isConfigActive,\n  isDragNDropEnabled,\n  isVisible,\n  label,\n  layerType,\n  layer,\n  labelRCGColorValues,\n  onToggleVisibility,\n  onUpdateLayerLabel,\n  onToggleEnableConfig,\n  onRemoveLayer,\n  deleteDynamicLayer,\n  showRemoveLayer,\n  actionMap\n}) => (\n  <StyledLayerPanelHeader\n    className={classnames('layer-panel__header', {\n      'sort--handle': !isConfigActive\n    })}\n    style={ layer.actions ? { height: \"32px\" } : null }\n    active={isConfigActive}\n    labelRCGColorValues={labelRCGColorValues}\n    onClick={onToggleEnableConfig}\n  >\n    <HeaderLabelSection className=\"layer-panel__header__content\">\n      {isDragNDropEnabled && (\n        <DragHandle className=\"layer__drag-handle\">\n          <VertDots height=\"20px\" />\n        </DragHandle>\n      )}\n      <PanelHeaderAction\n        className=\"layer__visibility-toggle\"\n        id={layer.name}\n        tooltip={isVisible ? 'hide layer' : 'show layer'}\n        onClick={onToggleVisibility}\n        IconComponent={isVisible ? EyeSeen : EyeUnseen}\n        active={isVisible}\n        flush\n      />\n      <LayerTitleSection className=\"layer__title\">\n        <div>\n          <div style={ { lineHeight: layer.actions ? \"16px\" : \"26px\" } }>{ layer.name }</div>\n          { !layer.actions ? null :\n            <div style={ { lineHeight: \"16px\" } }>\n              <ActionBar actionMap={ actionMap }\n                actions={ layer.actions }\n                layer={ layer }/>\n            </div>\n          }\n        </div>\n      </LayerTitleSection>\n      { layer.loading ?\n        <PanelHeaderAction\n          className=\"layer__loading-layer\"\n          id={layer.name}\n          tooltip={'Layer Loading'}\n          onClick={null}\n          tooltipType=\"error\"\n          IconComponent={Clock}\n\n        />\n        : null\n      }\n    </HeaderLabelSection>\n    <HeaderActionSection className=\"layer-panel__header__actions\">\n      {showRemoveLayer ? (\n        <PanelHeaderAction\n          className=\"layer__remove-layer\"\n          id={layer.name}\n          tooltip={'Remove layer'}\n          onClick={onRemoveLayer}\n          tooltipType=\"error\"\n          IconComponent={ RemoveIcon }\n\n        />\n      ) : null}\n      { !layer._isDynamic ? null :\n        <PanelHeaderAction\n          className=\"layer__remove-layer\"\n          id={layer.name}\n          tooltip={'Delete Dyanmic Layer'}\n          onClick={ deleteDynamicLayer }\n          tooltipType=\"error\"\n          IconComponent={ Trash }/>\n      }\n      <PanelHeaderAction\n        className=\"layer__enable-config\"\n        id={layer.name}\n        tooltip={'Layer settings'}\n        onClick={onToggleEnableConfig}\n        IconComponent={ ArrowDown }\n\n      />\n    </HeaderActionSection>\n  </StyledLayerPanelHeader>\n);\n\nLayerPanelHeader.defaultProps = defaultProps;\n\nexport default LayerPanelHeader\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport ItemSelector from '../common/item-selector/item-selector';\nimport {PanelLabel, SidePanelSection} from '../common/styled-components';\n\nconst SingleSelectFilter = ({filter, setFilter}) => (\n  <SidePanelSection >\n    <PanelLabel>{filter.name}</PanelLabel>\n    <ItemSelector\n      selectedItems={filter.value}\n      // placeholder={\"Select a Value\"}\n      options={filter.domain}\n      multiSelect={false}\n      searchable={false}\n      displayOption={ d => d.name ? d.name : filter.domain.reduce((a, c) => c.value === d ? c.name : a, d) }\n      getOptionValue={d => d.value ? d.value : d}\n      onChange={setFilter}\n      inputTheme=\"secondary\"\n    />\n  </SidePanelSection>\n)\n\n\nexport default SingleSelectFilter;\n","// Copyright (c) 2018 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\n// import ItemSelector from '../common/item-selector/item-selector';\nimport {PanelLabel, SidePanelSection, Input} from '../common/styled-components';\n\nconst SingleSelectFilter = ({filter, setFilter}) => (\n  <SidePanelSection >\n    <PanelLabel>{filter.name}</PanelLabel>\n    <Input \n      type='date' \n      value={filter.value} \n      onChange={(e) => setFilter(e.target.value)}\n    />\n             \n  </SidePanelSection>\n)\n\n\nexport default SingleSelectFilter;\n","// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport pick from 'lodash.pick';\n\nfunction noop() {}\n\nconst StyledSwitchInput = styled.label`\n  ${props =>\n    props.secondary ? props.theme.secondarySwitch : props.theme.inputSwitch};\n`;\n\nconst StyledCheckboxInput = styled.label`\n  ${props => props.theme.inputCheckbox}\n`;\n\nconst HiddenInput = styled.input`\n  position: absolute;\n  display: none;\n`;\n\nconst StyledCheckbox = styled.div`\n  line-height: 0;\n  height: ${props => props.theme.switchBtnHeight};\n  margin-left: ${props => props.theme.switchLabelMargin}px;\n`;\n\nexport default class Checkbox extends Component {\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n    label: PropTypes.node,\n    value: PropTypes.oneOf([true, false, 'indeterminate']),\n    checked: PropTypes.bool,\n    disabled: PropTypes.bool,\n\n    error: PropTypes.string,\n    switch: PropTypes.bool,\n    activeColor: PropTypes.string,\n    secondary: PropTypes.bool,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func\n  };\n\n  static defaultProps = {\n    disabled: false,\n    checked: false,\n    onBlur: noop,\n    onChange: noop,\n    onFocus: noop,\n    label: ''\n  };\n\n  state = {\n    focused: false\n  };\n\n  handleFocus = args => {\n    this.setState({focused: true});\n    this.props.onFocus(args);\n  };\n\n  handleBlur = args => {\n    this.setState({focused: false});\n    this.props.onBlur(args);\n  };\n\n  render() {\n    const inputProps = {\n      ...pick(this.props, ['checked', 'disabled', 'id', 'onChange', 'value']),\n      type: 'checkbox',\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur\n    };\n\n    const labelProps = {\n      ...pick(this.props, ['checked', 'disabled', 'secondary']),\n      htmlFor: this.props.id\n    };\n\n    const LabelElement = this.props.type === 'checkbox' ? StyledCheckboxInput : StyledSwitchInput;\n    return (\n      <StyledCheckbox className=\"kg-checkbox\">\n        <HiddenInput {...inputProps} />\n        <LabelElement className=\"kg-checkbox__label\" {...labelProps}>\n          {this.props.label}\n        </LabelElement>\n      </StyledCheckbox>\n    );\n  }\n}","import React from \"react\"\n\nimport { PanelLabel  } from '../common/styled-components';\n\nimport styled from \"styled-components\"\n\nconst StyledContainer = styled.div`\n  margin-bottom: 10px;\n`\nconst StyledSliderTrack = styled.div`\n  width: 100%;\n  height: 10px;\n  background-color: ${ props => props.theme.sliderBarBgd };\n  border-radius: 2px;\n  position: relative;\n`\nconst StyledSliderHandle = styled.div`\n  width: 10px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  background-color: ${ props => props.theme.sliderHandleColor };\n  top: 50%;\n  border-radius: 2px;\n`\n\nclass SliderFilter extends React.Component {\n  static defaultProps = {\n    min: 0,\n    max: 1,\n    value: 1,\n    onChnage: () => {}\n  }\n  track = null;\n  state = {\n    dragging: false,\n    startX: 0\n  }\n  dragStart = e => {\n    e.preventDefault();\n    document.addEventListener('mouseup', this.dragEnd);\n    document.addEventListener('mousemove', this.drag);\n    this.setState({ dragging: true });\n  }\n  drag = e => {\n    e.preventDefault();\n    const percent = e.movementX / this.track.offsetWidth,\n      range = this.props.max - this.props.min,\n      delta = percent * range;\n    this.props.onChange(Math.max(this.props.min, Math.min(this.props.max, delta + this.props.value)));\n  }\n  dragEnd = e => {\n    document.removeEventListener('mouseup', this.dragEnd);\n    document.removeEventListener('mousemove', this.drag);\n    this.setState({ dragging: false });\n  }\n  render() {\n    const { min, max, value } = this.props,\n      percent = (value - min) / (max - min) * 100;\n    return (\n      <StyledContainer>\n        <PanelLabel>\n          { this.props.name }\n        </PanelLabel>\n        <StyledSliderTrack ref={ comp => this.track = comp }>\n          <StyledSliderHandle\n            style={ { left: `${ percent }%` } }\n            onMouseDown={ e => this.dragStart(e) }/>\n        </StyledSliderTrack>\n      </StyledContainer>\n    )\n  }\n}\n\nexport default SliderFilter\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst CheckboxContainer = styled.div`\n  margin-top: 15px;\n  margin-bottom: 10px;\n  padding: 8px 10px;\n  position: relative;\n  display: flex;\n  background-color: ${ props => props.theme.secondaryInputBgd };\n  transition: ${ props => props.theme.transition };\n  cursor: pointer;\n  border-radius: 2px;\n  :hover {\n    background-color: ${ props => props.theme.secondaryInputBgdHover };\n  }\n`\nconst SliderTrack = styled.div`\n  position: absolute;\n  height: ${ props => props.theme.switchBtnHeight };\n  width: ${ props => parseInt(props.theme.switchBtnWidth) * 2 }px;\n  right: 10px;\n`\nconst Square = styled.div`\n  width: ${ props => props.theme.switchBtnWidth };\n  height: ${ props => props.theme.switchBtnHeight };\n  position: absolute;\n  top: 0px;\n`\nconst ActiveSquare = styled(Square)`\n  background-color: ${ props => props.theme.activeColor };\n  left: 0px;\n`\nconst InactiveSquare = styled(Square)`\n  background-color: ${ props => props.theme.switchTrackBgd };\n  left: ${ props => props.theme.switchBtnWidth };\n`\nconst SliderSquare = styled(Square)`\n  background-color: ${ props => props.checked ? props.theme.textColorHl : props.theme.textColor };\n  transition: ${ props => props.theme.transitionFast };\n  left: ${ props => props.checked ? props.theme.switchBtnWidth : 0 };\n`\nconst CheckboxLabel = styled.label`\n  color: ${ props => props.theme.textColor };\n  margin: 0px;\n  line-height: ${ props => props.theme.switchBtnHeight };\n  cursor: pointer;\n`\n\nclass CheckboxFilter extends React.Component {\n  static defaultProps = {\n    checked: false\n  }\n  render() {\n    return (\n      <CheckboxContainer onClick={ e => this.props.onChange(!this.props.checked) }\n        style={ this.props.style }>\n\n        <CheckboxLabel>\n          { this.props.label }\n        </CheckboxLabel>\n\n        <SliderTrack>\n          <ActiveSquare />\n          <InactiveSquare />\n          <SliderSquare checked={ this.props.checked }/>\n        </SliderTrack>\n\n      </CheckboxContainer>\n    )\n  }\n}\nexport default CheckboxFilter\n","import React, {Component} from 'react';\nimport styled from 'styled-components';\nimport { Button  } from '../common/styled-components'; // StyledPanelHeader\n\n//import * as Filters from 'components/filters';\nimport {\n  SingleSelectFilter,\n  MultiSelectFilter,\n  DateFilter,\n  // Switch\n} from '../filters'\n\nimport SliderFilter from \"./slider-filter\"\n// import Slider from \"../slider/slider\"\n// import deepEqual from 'deep-equal'\n\nimport Checkbox from \"./checkboxFilter\"\n\n// const sliderStyle =  {\n//     width: '100%',\n//     height: 24,\n//     background: '#29323C',\n//     outline: 'none',\n//     opacity: '0.7',\n//     // WebkitTransition: 'opacity .15s ease-in-out',\n//     transition: 'opacity .15s ease-in-out'\n// }\n\nconst StyledFilterPanel = styled.div`\n  margin-bottom: 12px;\n  border-radius: 1px;\n  .filter-panel__filter {\n    margin-top: 24px;\n  }\n`;\n\n// const StyledFilterHeader = StyledPanelHeader.extend`\n//   cursor: pointer;\n//   padding: 10px 12px;\n// `;\n\n// const SubmitButton = styled.button`\n//   background-color: ${ props => props.theme.primaryBtnBgd };\n//   width: 100%\n// `\n// const SubmitButton = styled(Button)`\n//   width: 100%\n// `\n\nconst StyledFilterContent = styled.div`\n  background-color: ${props => props.theme.panelBackground};\n  padding: 12px;\n`;\n\n\n// const CheckboxContainer = styled.div`\n//   margin-top: 15px;\n//   margin-bottom: 10px;\n//   padding: 8px 10px;\n//   background-color: ${ props => props.theme.secondaryInputBgd };\n// `\n\n class LayerFilterPanel extends Component {\n\n\n  render() {\n\n    const { layer } = this.props,\n      filters = layer.filters;\n\n    const renderFilter = (filterName, i) => {\n      const filter = filters[filterName];\n\n      const dispatchUpdateFilter = value => {\n        this.props.updateFilter(layer.name, filterName, value)\n      }\n\n      const getFilter = (filter) => {\n        if (filter.active === false) return null;\n\n        switch(filter.type) {\n          case 'dropdown':\n          case 'single':\n            return <SingleSelectFilter\n              setFilter={ dispatchUpdateFilter }\n              filter={ filter }\n            />;\n          case 'multi':\n            return <MultiSelectFilter\n              setFilter={ dispatchUpdateFilter }\n              filter={ filter }\n            />;\n          case 'hidden':\n            return (<span />)\n          case 'fetch':\n            return (\n              <Button onClick={ () => dispatchUpdateFilter(null) }\n                disabled={ Boolean(filter.disabled) }\n                style={ { width: \"100%\" } }\n                secondary>\n                { filter.name }\n              </Button>\n            );\n          case 'checkbox':\n            return (\n              <Checkbox\n                label={ filter.name }\n                checked={ filter.value }\n                onChange={ dispatchUpdateFilter }/>\n            )\n          case 'slider':\n            return (\n              <SliderFilter { ...filter }\n                onChange={ dispatchUpdateFilter }/>\n            );\n          case 'date':\n            return (\n              <DateFilter\n              setFilter={ dispatchUpdateFilter }\n              filter={ filter }\n              />\n            );\n          default:\n            return (<span >Invalid Filter Type { filter.type }</span>);\n        }\n      }\n\n      return (\n        <div key={ i }>\n          {getFilter(filter)}\n        </div>\n      )\n    }\n\n    return (\n      <StyledFilterPanel className=\"filter-panel\">\n         <StyledFilterContent className=\"filter-panel__content\">\n          { Object.keys(filters).map(renderFilter) }\n         </StyledFilterContent>\n      </StyledFilterPanel>\n    );\n  }\n}\n\nexport default LayerFilterPanel\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst defaultProps = {\n  height: 10,\n  colors: [],\n  className: '',\n  isSelected: false,\n  isReversed: false\n};\n\nconst PaletteWrapper = styled.div`\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  justify-content: space-between;\n  overflow: hidden;\n`;\n\nconst PaletteContainer = styled.div`\n  display: flex;\n  flex-grow: 1;\n  border-width: 1px;\n  border-style: solid;\n  border-color: ${props => props.isSelected ? props.theme.inputBorderActiveColor : 'transparent'};\n  padding: 4px;\n  border-radius: 4px;\n`;\n\nconst ColorBlock = styled.div`\n  flex-grow: 1;\n`;\n\nconst ColorPalette = ({colors, height, className, isSelected, isReversed}) => (\n  <PaletteContainer\n    className={`color-range-palette ${className}`}\n    isSelected={isSelected}\n  >\n    <PaletteWrapper className=\"color-range-palette__inner\"\n                    style={{height, transform: `scale(${isReversed ? -1 : 1}, 1)`}}>\n      {colors.map(color => (\n        <ColorBlock\n          className=\"color-range-palette__block\"\n          key={color}\n          style={{backgroundColor: color}}\n        />\n      ))}\n    </PaletteWrapper>\n  </PaletteContainer>\n);\n\nColorPalette.defaultProps = defaultProps;\n\nexport default ColorPalette;\n","import colorbrewer from \"colorbrewer\"\n\nimport get from \"lodash.get\"\n\nconst COLOR_RANGES = {}\n\nfor (const type in colorbrewer.schemeGroups) {\n\tcolorbrewer.schemeGroups[type].forEach(name => {\n\t\tconst group = colorbrewer[name];\n\t\tfor (const length in group) {\n\t\t\tif (!(length in COLOR_RANGES)) {\n\t\t\t\tCOLOR_RANGES[length] = [];\n\t\t\t}\n\t\t\tCOLOR_RANGES[length].push({\n\t\t\t\ttype,\n\t\t\t\tname,\n\t\t\t\tcategory: \"Colorbrewer\",\n\t\t\t\tcolors: group[length]\n\t\t\t})\n\t\t}\n\t})\n}\n\nexport default COLOR_RANGES\n\nconst getColorRange = (size, name) =>\n\tget(COLOR_RANGES, [size], [])\n\t\t.reduce((a, c) => c.name === name ? c.colors : a, []).slice()\n//console.log(\"COLOR_RANGES\", COLOR_RANGES)\nexport { getColorRange }\n","import React, {Component} from 'react';\n// import { connect } from 'react-redux';\n\nimport styled from 'styled-components';\nimport {\n  PanelLabel,\n  StyledPanelDropdown,\n  Tooltip\n} from '../common/styled-components';\nimport onClickOutside from 'react-onclickoutside';\n\nimport SingleSelectFilter from '../filters/single-select-filter'\n\n\n\nimport ColorPalette from \"./colorPalette\"\nimport COLOR_RANGES from \"../constants/color-ranges\"\n\nimport deepequal from \"deep-equal\"\nimport get from \"lodash.get\"\n\nconst StyledFilterPanel = styled.div`\n  background-color: ${ props => props.theme.sidePanelHeaderBg };\n  margin-bottom: 5px;\n  border-radius: 1px;\n  padding-left: 12px;\n  padding-right: 12px;\n  .filter-panel__filter {\n    margin-top: 24px;\n  }\n`;\n\nclass ColorSelector extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      editing: false,\n      length: props.layer.legend.range.length,\n      isReversed: false,\n      type: props.layer.legend.type\n    }\n  }\n\n  componentDidUpdate(oldProps, oldState) {\n    if ((this.state.type !== this.props.layer.legend.type) ||\n      (this.props.layer.legend.type === \"ordinal\" && this.state.length !== this.props.layer.legend.range.length)) {\n      this.setState({\n        length: this.props.layer.legend.range.length,\n        type: this.props.layer.legend.type\n      })\n    }\n  }\n\n  handleClickOutside = e => {\n    if (this.state.editing !== false) {\n      this.setState({ editing: false });\n    }\n  };\n\n  _onSelectColor = (color, e) => {\n    e.stopPropagation();\n    if (this.props.colorSets[this.state.editing]) {\n      this.props.colorSets[this.state.editing].setColor(color);\n    }\n  };\n\n  _showDropdown = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    this.setState({ editing: true });\n  };\n\n  render() {\n    const legend = this.props.layer.legend;\n    return (\n      <StyledFilterPanel>\n        <div onClick={ this._showDropdown.bind(this) }>\n          <PanelLabel>Legend Selector</PanelLabel>\n          <ColorPalette colors={ legend.range }/>\n        </div>\n        { !this.state.editing ? null :\n          <StyledPanelDropdown className=\"color-selector__dropdown\"\n            style={ { padding: \"5px\" } }>\n            <div style={{height:\"5px\"}}/>\n            { !legend.types || (legend.types && legend.types.length <= 1) ? null :\n              <SingleSelectFilter filter={ {\n                  name: \"Scale Type\",\n                  domain: legend.types,\n                  value: legend.type\n                } }\n                setFilter={ type => this.props.updateLegend(this.props.layer.name, { type }) }/>\n            }\n            { legend.type === \"ordinal\" ? null :\n              <SingleSelectFilter filter={ {\n                  name: \"Steps\",\n                  domain: Object.keys(COLOR_RANGES),\n                  value: this.state.length\n                } }\n                setFilter={ length => this.setState({ length }) }/>\n            }\n          {\n            // COLOR_RANGES[this.state.length]\n            get(COLOR_RANGES, this.state.length, [])\n              // .filter(cr => legend.type !== \"ordinal\" || cr.type === \"qualitative\")\n              .map((cr, i) => {\n                return (\n                  <div key={ cr.name }\n                    onClick={ e => this.props.updateLegend(this.props.layer.name, { range: cr.colors.slice() }) }\n                \t\tdata-tip data-for={ `legend-color-item-${ cr.name }` }\n                    style={ { cursor: \"pointer\" } }>\n                    <ColorPalette colors={ cr.colors }\n                      isReversed={ this.state.isReversed }\n                      isSelected={ deepequal(cr.colors, legend.range) }\n                    />\n      \t\t          <Tooltip\n      \t\t            id={ `legend-color-item-${ cr.name }` }\n      \t\t            effect=\"solid\"\n                      place=\"right\"\n                      delayShow={ 500 }>\n      \t\t            <span>{ cr.name }</span>\n      \t\t          </Tooltip>\n                  </div>\n                )\n              })\n          }\n          </StyledPanelDropdown>\n        }\n      </StyledFilterPanel>\n    );\n  }\n};\nexport default onClickOutside(ColorSelector)\n","import React, {Component} from 'react';\n// import { connect } from 'react-redux';\n\nimport styled from 'styled-components';\nimport {\n  // PanelLabel,\n  // StyledPanelDropdown,\n  Button\n} from '../common/styled-components';\n\nimport LayerHeader from './layerHeader'\nimport LayerFilterPanel from './layerFilterPanel'\n\nimport LegendSelector from \"./legendSelector\"\n\n// import deepEqual from 'deep-equal'\n\nconst StyledFilterPanel = styled.div`\n  margin-bottom: 12px;\n  border-radius: 1px;\n  padding-left: 12px;\n  padding-right: 12px;\n  width: 100%;\n`;\n\nconst StyledLayerControl = styled.div`\n  width: 100%;\n  display: flex;\n  margin-bottom: 5px;\n  background-color: ${ props => props.theme.sidePanelHeaderBg };\n`\n\nconst ModalToggle = ({ layer, toggle }) =>\n  <StyledFilterPanel>\n    <Button onClick={ toggle } secondary={ true } small={ true } width={ \"100%\" }>\n      { layer.modal.show ? \"Hide\" : \"Show\" } Modal\n    </Button>\n  </StyledFilterPanel>\n\n class LayerControl extends Component {\n  state = {\n    showConfig: true\n  }\n\n  onDragStart(e, layerName, index) {\n    this.props.updateDrag({ dragging: layerName })\n  }\n  onDragOver(e, index) {\n    e.preventDefault()\n    this.props.updateDrag({ dragover: index })\n  }\n\n  render() {\n    const { layer, actionMap, index } = this.props;\n\n    const { showConfig } = this.state;\n\n    const removeLayer = () => {\n      this.props.removeLayer(layer.name)\n    }\n\n    const toggleConfig = () => {\n      this.setState({showConfig: !this.state.showConfig})\n    }\n\n    const toggleVisibility = () => {\n      this.props.toggleLayerVisibility(layer.name)\n    }\n\n    const deleteDynamicLayer = () =>\n      this.props.deleteDynamicLayer(layer.name)\n\n    return (\n      <div >\n        <StyledLayerControl draggable={ true }\n          onDragStart={ e => this.onDragStart(e, layer.name, index) }\n          onDragOver={ e => this.onDragOver(e, index) }\n          className='active-layer-container'>\n\n          <LayerHeader\n            layer={ layer }\n            onRemoveLayer={ removeLayer }\n            deleteDynamicLayer={ deleteDynamicLayer }\n            onToggleVisibility={ toggleVisibility }\n            isVisible={ layer._isVisible }\n            onToggleEnableConfig={ toggleConfig }\n            actionMap={ actionMap }\n            showRemoveLayer={ this.props.showRemoveLayer }/>\n        </StyledLayerControl>\n        { !showConfig || !layer.modal || !layer.modal.controlButton ? null :\n          <ModalToggle layer={ layer }\n            toggle={ e => this.props.toggleModal(layer.name) }/>\n        }\n        { !showConfig || !layer.legend || !layer.legend.active || (layer.legend.legendSelector === false) ? null :\n          <LegendSelector layer={ layer }\n            updateLegend={ this.props.updateLegend }/>\n        }\n        { !showConfig || !layer.filters ? null :\n          <LayerFilterPanel layer={ layer }\n            updateFilter={ this.props.updateFilter }\n            fetchLayerData={ this.props.fetchLayerData }/>\n        }\n      </div>\n    );\n  }\n}\n\nexport default LayerControl\n","import React, {Component} from 'react';\n// import { connect } from 'react-redux';\nimport LayerControl from '../layerControl/layerControl'\n\n class ActiveLayers extends Component {\n\n  onDragOver(e) {\n    e.preventDefault()\n  }\n  onDrop(e) {\n    this.props.dropLayer();\n  }\n \n  render() {\n    const { layers, activeLayers } = this.props\n    let ActiveLayersStyle = {\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      padding: 5,\n    }\n    const layersMap = {};\n    layers.forEach(layer => {\n      layersMap[layer.name] = layer;\n    })\n\n    const toRender = activeLayers.map((d, i) =>\n      <LayerControl key={ d }\n        index={ i }\n        layer={ layersMap[d] }\n        showRemoveLayer={ (layersMap[d].removeableIfSingle === false) && (activeLayers.length === 1) ? false : (layersMap[d].removeable === false) ? false : true }\n        { ...this.props }/>\n    )\n\n    return (\n      <div className='active-layer-container' style={ActiveLayersStyle}\n        onDragOver={ e => this.onDragOver(e) }\n        onDrop={ e=> this.onDrop(e) }>\n        { toRender.reverse() }\n      </div>\n    );\n  }\n}\n\nexport default ActiveLayers","import React from \"react\"\n\nimport styled from \"styled-components\"\nimport classnames from \"classnames\"\n\nimport onclickoutside from \"react-onclickoutside\"\n\nconst PADDING = 10;\nclass AccordionSelector extends React.Component {\n  static defaultProps = {\n    value: null,\n    options: [],\n    onSelect: () => {}\n  }\n  state = {\n    open: false\n  }\n  timeout = null;\n  componentsWillUnmount() {\n    clearTimeout(this.timeout);\n  }\n  onSelect(e, value) {\n    e.stopPropagation();\n    if (!this.state.open) {\n      return this.toggleAccordion();\n    }\n    if (value !== this.props.value) {\n      this.props.onSelect(value);\n    }\n    this.toggleAccordion();\n  }\n  toggleAccordion() {\n    const open = !this.state.open;\n    this.setState({ open });\n  }\n  handleClickOutside() {\n    this.state.open && this.toggleAccordion();\n  }\n  render() {\n    const { open } = this.state,\n      { options, value } = this.props;\n    return (\n      <AccordionContainer\n        style={ { height: `${ open ? options.length * 40 + (options.length - 1) * 10 + PADDING * 2 : 40 + PADDING * 2 }px` } }>\n        {\n          options\n            .map(({ label, Icon }, i) =>\n              <AccordionOption key={ label } hasIcon={ Boolean(Icon) }\n                className={ classnames({ open, selected: label === value }) }\n                style={ {\n                  top: `${ open ? i * 50 + PADDING : PADDING }px`,\n                  zIndex: label === value ? 10 : 5 - i\n                } }\n                onClick={ e => this.onSelect(e, label) }\n                top={ i * 50 + PADDING }>\n                { !Boolean(Icon) ? null :\n                  <div><Icon /></div>\n                }\n                <div>{ label }</div>\n              </AccordionOption>\n            )\n        }\n      </AccordionContainer>\n    )\n  }\n}\nexport default onclickoutside(AccordionSelector)\n\nconst AccordionContainer = styled.div`\n  position: relative;\n  width: 100%;\n  transition: height 0.5s;\n  background-color: ${ props => props.theme.sidePanelHeaderBg };\n`\nconst AccordionOption = styled.div`\n  background-color: ${ props => props.theme.sidePanelBg };\n  color: ${ props => props.theme.textColor };\n  cursor: pointer;\n  position: absolute;\n  left: ${ PADDING }px;\n  height: 40px;\n  width: calc(100% - ${ PADDING * 2 }px - 2px);\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  border-right: 2px solid ${ props => props.theme.sidePanelBg };\n  transition: top 0.5s, color 0.15s, background-color 0.15s, border-color 0.15s;\n\n  &.selected.open {\n    border-right-color: ${ props => props.theme.textColorHl };\n    color: ${ props => props.theme.textColorHl };\n  }\n\n  :hover {\n    border-right-color: ${ props => props.theme.panelBackgroundHover };\n    background-color: ${ props => props.theme.panelBackgroundHover };\n    color: ${ props => props.theme.textColorHl };\n  }\n\n  > * {\n    :first-child {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 60px;\n      height: 40px;\n    }\n    :last-child {\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      width: calc(100% - ${ props => props.hasIcon ? 60 : 0 }px);\n      padding-left: 10px;\n    }\n  }\n`","import React, {Component} from 'react';\n\nimport SidebarContainer from './sidebar'\nimport SidebarHeader from './SidebarHeader'\nimport LayerSelector from './LayerSelector'\nimport ActiveLayers from './ActiveLayers'\n\nimport { Layers } from \"../common/icons\"\n\nimport { Tooltip } from '../common/styled-components';\n\nimport AccordionSelector from \"../AccordianSelector.js\"\n\nimport deepequal from \"deep-equal\"\nimport styled from \"styled-components\"\nimport get from \"lodash.get\"\n\nconst SidebarContent = styled.div`\n  ${ props => props.theme.scrollBar };\n  flex-grow: 1;\n  padding: 0;\n  overflow-y: auto;\n  overflow-x: hidden;\n`\n\nconst Pages = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  padding: 10px 10px 10px 10px;\n  color: ${ props => props.theme.inputPlaceholderColor };\n\n  > * {\n    padding: 5px;\n    cursor: pointer;\n    height: 30px;\n    width: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: color 0.15s, background-color 0.15s;\n\n    :hover {\n      color: ${ props => props.theme.textColorHl };\n      background-color: ${ props => props.theme.panelBackgroundHover };\n    }\n    &.active {\n      color: ${ props => props.theme.textColorHl };\n      padding-bottom: 3px;\n      border-bottom: 2px solid ${ props => props.theme.textColorHl };\n    }\n  }\n`\n\nclass Sidebar extends Component {\n  state = {\n    pages: [],\n    activePage: get(this.props, \"pages[0].page\", this.props.pages[0])\n  }\n  componentDidMount() {\n    this.setState({ pages: this.expandPages() });\n  }\n  componentDidUpdate(oldProps) {\n    if (!deepequal(oldProps.pages, this.props.pages)) {\n      this.setState({ pages: this.expandPages() });\n    }\n  }\n\n  setActivePage(activePage) {\n    this.setState({ activePage });\n  }\n  expandPages() {\n    return this.props.pages.map(page => {\n      if (page === \"layers\") {\n        return {\n          page,\n          Icon: () => (\n            <div className={ this.state.activePage === page ? \"active\" : \"\" }\n              onClick={ () => this.setActivePage(page) }\n              data-tip data-for=\"layers-tooltip\">\n              <Layers width=\"30px\" height=\"30px\"/>\n              <Tooltip\n                place=\"bottom\"\n  \t            id=\"layers-tooltip\"\n  \t            effect=\"solid\"\n  \t            delayShow={ 500 }>\n  \t            <span>Layer Controls</span>\n  \t          </Tooltip>\n            </div>\n          ),\n          Comp: () => (\n            <>\n              { !this.props.layers.reduce((a, c) => a || !c.active, false) ? null :\n                <LayerSelector { ...this.props }/>\n              }\n              <ActiveLayers { ...this.props }/>\n            </>\n          )\n        }\n      }\n      if (page === \"basemaps\") {\n        return {\n          page,\n          Icon: () => (\n            <div className={ this.state.activePage === page ? \"active\" : \"\" }\n              onClick={ () => this.setActivePage(page) }\n              data-tip data-for=\"basemap-tooltip\">\n              <span className=\"fa fa-2x fa-map\"/>\n              <Tooltip\n                place=\"bottom\"\n  \t            id=\"basemap-tooltip\"\n  \t            effect=\"solid\"\n  \t            delayShow={ 500 }>\n  \t            <span>Basemap Selector</span>\n  \t          </Tooltip>\n            </div>\n          ),\n          Comp: () => (\n            <BaseMapsSelector style={ this.props.style }\n              setMapStyle={ this.props.setMapStyle }\n              styles={ this.props.mapStyles }/>\n          )\n        }\n      }\n      return {\n        ...page,\n        Icon: () => (\n          <div className={ this.state.activePage === page.page ? \"active\" : \"\" }\n            onClick={ () => this.setActivePage(page.page) }\n            data-tip data-for={ `tooltip-${ page.page }` }>\n            <page.Icon />\n            <Tooltip\n              place=\"bottom\"\n              id={ `tooltip-${ page.page }` }\n              effect=\"solid\"\n              delayShow={ 500 }>\n              { page.tooltip }\n            </Tooltip>\n          </div>\n        ),\n        Comp: () => (\n          <page.Comp map={ this.props.map }\n            layers={ this.props.layers }/>\n        )\n      };\n    })\n  }\n  render() {\n    const { pages } = this.state;\n\n    return (\n      <SidebarContainer isOpen={ this.props.isOpen }\n        transitioning={ this.props.transitioning }\n        onOpenOrClose={ this.props.onOpenOrClose }\n        onTransitionStart={ this.props.onTransitionStart }>\n\n        { !this.props.header ? null :\n          <SidebarHeader header={ this.props.header }/>\n        }\n\n        <Pages>\n          {\n            pages.map(({ page, Icon }) => <Icon key={ page }/>)\n          }\n        </Pages>\n\n        <SidebarContent className='sidebar-content' theme={ this.props.theme }>\n\n          {\n            pages.map(({ page, Comp }, i) =>\n              <div key={ i }\n                style={ { display: page === this.state.activePage ? \"block\" : \"none\" } }>\n                <Comp />\n              </div>\n            )\n          }\n\n        </SidebarContent>\n\n      </SidebarContainer>\n    );\n  }\n}\n\nexport default Sidebar\n\nclass BaseMapsSelector extends React.Component {\n  onSelect(name) {\n    const style = this.props.styles.reduce((a, c) => c.name === name ? c : a);\n    this.props.setMapStyle(style);\n  }\n  render() {\n    const { styles, style } = this.props,\n      options = styles.map(({ name, url }) => ({ label: name, Icon: () => <img src={ url } alt=\"basemap\"/> }));\n    return (\n      <div>\n        <AccordionSelector value={ style.name }\n          options={ options }\n          onSelect={ v => this.onSelect(v) }/>\n      </div>\n    )\n  }\n}\n","import React, {Component} from 'react';\n\nimport styled from \"styled-components\"\n\nimport * as d3scale from \"d3-scale\"\nimport * as d3format from \"d3-format\"\n\nconst MainContainer = styled.div`\n  background-color: ${ props => props.theme.sidePanelHeaderBg };\n  width: 100%;\n  padding: ${ props => props.align === \"vertical\" ? \"10px\" : \"10px 10px 0px 10px\" };\n`\n\nconst StyledTitle = styled.h5`\n  color: ${ props => props.theme.textColorHl };\n`\nconst Title = ({ Title, layer }) =>\n  <StyledTitle>\n    { typeof Title === \"function\" ?\n      <Title layer={ layer }/>\n      : Title\n    }\n  </StyledTitle>\n\nconst LegendContainer = styled.div`\n  width: 100%;\n  display: flex;\n  color: ${ props => props.theme.textColor };\n  border-radius: 4px;\n  overflow: hidden;\n`\nconst ColorBlock = styled.div`\n  align-items: stretch;\n  flex-grow: 1;\n  height: 20px;\n`\nconst TextBlock = styled.div`\n  color: ${ props => props.theme.textColor };\n  display: inline-block;\n  text-align: right;\n`\nconst VerticalColorBlock = styled.div`\n  width: 20px;\n  height: ${ props => props.height || 20 }px;\n`\n\nconst HorizontalLegend = ({ type, format, scale, range, domain, subText, title, layer }) => {\n\n  const textBlock = {\n    width: (100 / (type === 'linear' ? scale.ticks(5).length : range.length)) + '%'\n  }\n  const subTextBlock = {\n    width: subText ? ((100) / (type === 'linear' ? scale.ticks(5).length : range.length)) * Math.floor((type === 'linear' ? scale.ticks(5).length : range.length) / subText.length) + '%' : '',\n    textAlign: 'center'\n  }\n  const subTextBlockMiddle = {\n    width: subText ? (((100) / (type === 'linear' ? scale.ticks(5).length : range.length)) * Math.floor((type === 'linear' ? scale.ticks(5).length : range.length) / subText.length)) +\n        (100 / (type === 'linear' ? scale.ticks(5).length : range.length)) + '%' : '',\n      textAlign: 'center'\n  }\n  const subTextDiv = (i, r = undefined) =>\n      <TextBlock key={ i } style={\n      subText.length % 2 !== 0 && i / Math.floor(range.length/subText.length) === Math.floor(subText.length/2) ?\n          {...subTextBlockMiddle} :\n          {...subTextBlock}\n  }>{\n      r && typeof scale.invertExtent(r)[1] === \"number\" ?\n          subText[i / Math.floor(range.length/subText.length)] : null }\n  </TextBlock>\n\n  return (\n    <MainContainer align={ \"horizontal\" }>\n      { !title ? null : <Title Title={ title } layer={ layer }/> }\n      <LegendContainer className='legend-container'>\n        {\n          type === \"linear\" ?\n            scale.ticks(5).map(t => <ColorBlock key={ t } style={ { backgroundColor: scale(t), ...textBlock } }/>)\n          :\n            range.map((r, i) => <ColorBlock key={ i } style={ { backgroundColor: r, ...textBlock } }/>)\n        }\n      </LegendContainer>\n      <div style={{width:'100%', position: 'relative', right: -3}}>\n        {\n          type === \"ordinal\" ?\n            domain.map(d => <TextBlock key={ d } style={ textBlock } >{ format(d) }</TextBlock>)\n          : type === \"linear\" ?\n            scale.ticks(5).map(t => <TextBlock key={ t } style={ textBlock }>{ format(t) }</TextBlock>)\n          :\n            range.map((r, i) => <TextBlock key={ i } style={ textBlock }>{ typeof scale.invertExtent(r)[1] === \"number\" ? format(scale.invertExtent(r)[1]) : null }</TextBlock>)\n        }\n      </div>\n        <div style={{width:'100%', position: 'relative', right: -3}}>\n            {\n                subText ?\n                type === \"ordinal\" ?\n                    domain.map((d, dI) => dI % Math.floor(scale.ticks(5).length/subText.length) === 0 ? subTextDiv(dI) : null)\n                    : type === \"linear\" ?\n                    scale.ticks(5).map((t, tI) => tI % Math.floor(scale.ticks(5).length/subText.length) === 0 ? subTextDiv(tI) : null)\n                    : range.map((r, i) => i % Math.floor(range.length/subText.length) === 0 ? subTextDiv(i,r) : null) : null\n            }\n      </div>\n    </MainContainer>\n  )\n}\n\nconst VerticalLegend = ({ type, format, scale, range, domain, title, layer }) => {\n  range = (type === \"linear\") ? scale.ticks(5).map(t => scale(t)) : range\n  return (\n    <MainContainer align={ \"vertical\" }>\n      { !title ? null : <Title Title={ title } layer={ layer }/> }\n      <table>\n        <tbody>\n          {\n            type === \"ordinal\" ?\n              domain.map(d =>\n                <tr key={ d }>\n                  <td>\n                    <VerticalColorBlock style={ { backgroundColor: scale(d) } }/>\n                  </td>\n                  <td style={ { paddingLeft: \"5px\" } }>\n                    { format(d) }\n                  </td>\n                </tr>\n              )\n            : type === \"quantile\" ?\n              range.map((r, i) =>\n                <tr key={ r }>\n                  <td>\n                    <VerticalColorBlock height={ 40 }\n                      style={ { backgroundColor: r } }/>\n                  </td>\n                  <td>\n                    { typeof scale.invertExtent(r)[1] === \"number\" ? format(scale.invertExtent(r)[1]) : null }\n                  </td>\n                </tr>\n              )\n            : null\n          }\n        </tbody>\n      </table>\n    </MainContainer>\n  )\n}\n\n class Legend extends Component {\n\n  getScale() {\n    switch (this.props.type) {\n      case \"ordinal\":\n        return d3scale.scaleOrdinal();\n      case \"quantile\":\n        return d3scale.scaleQuantile();\n      case \"quantize\":\n        return d3scale.scaleQuantize();\n      case \"threshold\":\n        return d3scale.scaleThreshold();\n      default:\n        return d3scale.scaleLinear();\n    }\n  }\n\n  render() {\n    let { vertical, format, domain, range } = this.props;\n\n    const scale = this.getScale()\n      .domain(domain)\n      .range(range);\n\n    if (typeof format === \"string\") {\n      format = d3format.format(format);\n    }\n\n    return vertical ?\n      <VerticalLegend { ...this.props }\n        scale={ scale } format={ format }/>\n    :\n      <HorizontalLegend { ...this.props }\n        scale={ scale } format={ format }/>;\n  }\n}\n\nLegend.defaultProps = {\n  title: '',\n  range: [],\n  domain: [],\n  type: \"linear\",\n  format: d => d,\n  vertical: false\n}\n\nexport default Legend\n","import React, {Component} from 'react';\n\nimport styled from \"styled-components\"\n\nimport Legend from '../legend/Legend'\n\nconst InfoBoxContainer = styled.div`\n  position: relative;\n  min-height: 25px;\n`\nconst ToggleButton = styled.span`\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  padding: 5px 8px 8px 8px;\n  border-radius: 4px;\n  color: ${ props => props.theme.textColor };\n  background-color: transparent;\n  transition: colors 0.15s, background-color 0.15s;\n\n  :hover {\n    color: ${ props => props.theme.textColorHl };\n    background-color: ${ props => props.theme.panelBackgroundHover };\n  }\n`\nconst CollapsedInfoBox = styled.div`\n  color: ${ props => props.theme.inputPlaceholderColor };\n  font-weight: bold;\n  font-size: 1.5rem;\n  line-height: 1.5rem;\n`\nconst OpenInfoBoxTitle = styled.div`\n  color: ${ props => props.theme.textColorHl };\n  font-weight: bold;\n  font-size: 1.5rem;\n  line-height: 1.5rem;\n`\n\nconst SidebarContainer = styled.div`\n  ${ props => props.theme.scrollBar };\n  width: ${ props => props.isOpen ? 400 : 0 }px;\n  z-index: 99;\n  display: flex;\n  position: absolute;\n  padding: 20px;\n  top: 0px;\n  right: 0px;\n  max-height: calc(100vh - 100px);\n  pointer-events: none;\n`\nconst SidebarInner = styled.div`\n  ${ props => props.theme.scrollBar };\n  background-color: ${ props => props.theme.sidePanelBg };\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  pointer-events: all;\n`\nconst SidebarContent = styled.div`\n  ${ props => props.theme.scrollBar };\n  flex-grow: 1;\n  padding: ${ props => props.isOpen ? 10 : 0 }px;\n/*\n  overflow-y: auto;\n  overflow-x: hidden;\n*/\n  overflow: auto;\n  color: ${ props => props.theme.textColor };\n\n  > * {\n    margin-bottom: 10px;\n  }\n  > *:last-child {\n    margin-bottom: 0px;\n  }\n`\n\nclass InfoBox extends Component {\n\n  state = {\n    collapsedInfoBoxes: []\n  }\n\n  toggleInfoBox(id) {\n    const { collapsedInfoBoxes } = this.state;\n    if (collapsedInfoBoxes.includes(id)) {\n      this.setState({ collapsedInfoBoxes: collapsedInfoBoxes.filter(d => d !== id) });\n    }\n    else {\n      this.setState({ collapsedInfoBoxes: [...collapsedInfoBoxes, id] });\n    }\n  }\n\n  getToggleButton(id) {\n    return `fa fa-lg\n      ${ this.state.collapsedInfoBoxes.includes(id) ? \"fa-chevron-down\" : \"fa-chevron-up\" }\n    `;\n  }\n\n  render() {\n\n    const { layers, activeLayers } = this.props,\n      _activeLayers = layers.filter(l => activeLayers.includes(l.name)),\n      activeLegends = _activeLayers\n        .reduce((a, c) =>\n          c.legend && (c.legend.active !== false) && c.legend.domain.length ? a.concat({ legend: c.legend, layer: c }) : a\n        , []),\n      activeInfoBoxes = _activeLayers\n        .reduce((a, c) =>\n          c.infoBoxes ?\n            a.concat(\n              Object.keys(c.infoBoxes)\n                .map((key, i) => ({\n                  title: `${ c.name } ${ key }`,\n                  ...c.infoBoxes[key],\n                  id: `${ c.name }-${ key }`,\n                  layer: c\n                }))\n                .filter(i => i.show)\n            )\n            : a\n        , []),\n\n      isOpen = activeLegends.length || activeInfoBoxes.length;\n\n    let sidebarStyle = {\n      alignItems: 'stretch',\n      flexGrow: 1\n    }\n\n    return (\n      <SidebarContainer className='sidebar-container' isOpen={ isOpen }>\n        <div className='sidebar' style={sidebarStyle}>\n          <SidebarInner className='sidebar-inner' isOpen={ isOpen }>\n            <SidebarContent className='sidebar-content' isOpen={ isOpen }>\n              {\n                activeLegends.map((l, i) =>\n                  <Legend key={ i } { ...l.legend } layer={ l.layer }/>\n                )\n              }\n              {\n                activeInfoBoxes.map((b, i) =>\n                  <InfoBoxContainer key={ i }>\n                    { this.state.collapsedInfoBoxes.includes(b.id) ?\n                        (typeof b.title === \"function\") ?\n                          <CollapsedInfoBox><b.title layer={ b.layer }/></CollapsedInfoBox>\n                        : <CollapsedInfoBox>{ b.title }</CollapsedInfoBox>\n                      :\n                        <>\n                          {\n                            (typeof b.title === \"function\") ?\n                              <OpenInfoBoxTitle><b.title layer={ b.layer }/></OpenInfoBoxTitle>\n                            : <OpenInfoBoxTitle>{ b.title }</OpenInfoBoxTitle>\n                          }\n                          <b.comp layer={ b.layer }/>\n                        </>\n                    }\n                    <ToggleButton className={ this.getToggleButton(b.id) }\n                      onClick={ () => this.toggleInfoBox(b.id) }/>\n                  </InfoBoxContainer>\n                )\n              }\n            </SidebarContent>\n          </SidebarInner>\n        </div>\n      </SidebarContainer>\n    );\n  }\n}\n\nexport default InfoBox\n","import React, {Component} from 'react';\nimport styled from 'styled-components';\n// import PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport {CenterFlexbox} from '../common/styled-components';\nimport {Pin, Layers} from '../common/icons';\n\nconst MAX_WIDTH = 400;\nconst MAX_HEIGHT = 600;\n\nconst StyledMapPopover = styled.div`\n  ${props => props.theme.scrollBar}\n  font-size: 11px;\n  font-weight: 500;\n  background-color: ${props => props.theme.panelBackground || '#fefefe'};\n  color: ${props => props.theme.textColor};\n  z-index: 1001;\n  position: absolute;\n  overflow-x: auto;\n  max-height: 500px;\n  .gutter {\n    height: 6px;\n  }\n  table {\n    width: 100%;\n    tbody {\n      border-top: transparent;\n      border-bottom: transparent;\n    }\n    td {\n      border-color: transparent;\n      padding: 0px 4px;\n      color: ${props => props.theme.textColor};\n    }\n    td.row__value {\n      text-align: right;\n      font-weight: 500;\n      color: ${props => props.theme.textColorHl};\n    }\n  }\n`;\n\nconst StyledPin = styled.div`\n  position: absolute;\n  left: 50%;\n  transform: rotate(30deg);\n  top: 3px;\n  color: ${props => props.theme.primaryBtnBgd};\n  :hover {\n    cursor: pointer;\n    color: ${props => props.theme.linkBtnColor};\n  }\n`;\n\nconst StyledLayerName = styled(CenterFlexbox)`\n  color: ${props => props.theme.textColorHl};\n  font-size: 12px;\n  letter-spacing: 0.43px;\n  text-transform: capitalize;\n  padding-left: 14px;\n  padding-right: 14px;\n  margin-top: 12px;\n  svg {\n    margin-right: 4px;\n  }\n`;\n\nconst PopoverBlock = styled.div`\n  max-width: 400px;\n  margin: 10px;\n`\nconst PopoverBlockContainer = styled.div`\n  ${PopoverBlock} {\n    border-bottom: 2px solid ${ props => props.theme.textColor };\n  }\n  ${PopoverBlock}:last-child {\n    border-bottom: none;\n  }\n`\n\nexport class MapPopover extends Component {\n\n  state = {\n    isMouseOver: false,\n    width: 380,\n    height: 160,\n    promise: null,\n    data: [\"Loading...\"]\n  }\n\n  componentDidMount() {\n    this._setContainerSize();\n  }\n\n  componentDidUpdate() {\n    this._setContainerSize();\n  }\n\n  _setContainerSize() {\n    const node = this.popover;\n    if (!node) {\n      return;\n    }\n\n    const width = Math.min(node.scrollWidth, MAX_WIDTH);\n    const height = Math.min(node.scrollHeight, MAX_HEIGHT);\n\n    if (width !== this.state.width || height !== this.state.height) {\n      this.setState({width, height});\n    }\n  }\n\n  _getPosition(x, y) {\n    const topOffset = 30;\n    const leftOffset = 30;\n    const {mapSize} = this.props;\n    const {width, height} = this.state;\n\n    const pos = {};\n    if (x + leftOffset + width > mapSize.width) {\n      pos.right = mapSize.width - x + leftOffset;\n    } else {\n      pos.left = x + leftOffset;\n    }\n\n    if (y + topOffset + height > mapSize.height) {\n      pos.bottom = 10;\n    } else {\n      pos.top = y + topOffset;\n    }\n\n    return pos;\n  }\n\n  render() {\n    const {\n      pinned,\n      data,\n      pos\n    } = this.props;\n\n    if (!data.length) {\n      return null;\n    }\n\n    const hidden = !data.length && !this.state.isMouseOver;\n\n    const [x, y] = pos;\n\n    const style =\n      Number.isFinite(x) && Number.isFinite(y) ? this._getPosition(x, y) : {};\n\n    const blockData = data[0] === \"avl-blocked-popover\" ? data.slice(1) : [data];\n\n    return (\n      <StyledMapPopover\n        ref={ comp => { this.popover = comp; } }\n        className={ classnames('map-popover', {hidden}) }\n        style={ { ...style } }\n        onMouseEnter={ () => this.setState({ isMouseOver: true }) }\n        onMouseLeave={ () => this.setState({ isMouseOver: false }) }>\n\n        { pinned ?\n          <div className=\"map-popover__top\">\n            <StyledPin className=\"popover-pin\" onClick={e => this.props.updatePopover(this.props.layer, { layer: null, pinned: false, data: [] })}>\n              <Pin height=\"16px\" />\n            </StyledPin>\n            <div style={ { height: \"10px\" } }/>\n          </div>\n        : null }\n        <PopoverBlockContainer>\n          {\n            blockData.map((block, i) => (\n              <PopoverBlock key={ i }>\n                { !Array.isArray(block[0]) ?\n                  <StyledLayerName className=\"map-popover__layer-name\">\n                    <Layers height=\"12px\"/>{ block[0] }\n                  </StyledLayerName>\n                : null }\n                { Array.isArray(block[0]) || (!Array.isArray(block[0]) && block.length > 1) ?\n                  <table className=\"map-popover__table\">\n                    <tbody>\n                      {\n                        block.slice(Array.isArray(block[0]) ? 0 : 1)\n                          .map(PopoverRow)\n                      }\n                    </tbody>\n                  </table>\n                : null }\n              </PopoverBlock>)\n            )\n          }\n        </PopoverBlockContainer>\n      </StyledMapPopover>\n    );\n  }\n}\n\nconst PopoverRow = (row, i) =>\n  row.length === 2 ?\n    <tr key={ \"row2-\" + i }>\n      <td className=\"row__name\">{ row[0] }</td>\n      <td className=\"row__value\">{ row[1] }</td>\n    </tr>\n  :\n    <tr key={ \"row1-\" + i }>\n      <td colSpan={ 2 } className=\"row__value\">{ row[0] }</td>\n    </tr>\n\nexport default MapPopover\n","import React from \"react\"\n\nimport { VertDots } from \"./common/icons\"\n\nimport { Tooltip } from './common/styled-components';\n\nimport styled from \"styled-components\"\nimport get from \"lodash.get\"\n\nimport * as d3selection from \"d3-selection\"\n\nconst DraggableContainer = styled.div`\n\tposition: absolute;\n\tz-index: 500;\n\tbackground-color: ${ props => props.theme.sidePanelBg };\n\tcolor: ${ props => props.theme.textColor };\n`\nconst DraggableInner = styled.div`\n\t${ props => props.theme.scrollBar };\n\toverflow: auto;\n\twidth: 100%;\n\theight: 100%;\n\tpadding-top: 35px;\n`\n\nconst DragHandle = styled.div`\n\tposition: absolute;\n\ttop: 5px;\n\tleft: 5px;\n\tborder-radius: 4px;\n\tcolor: ${ props => props.theme.textColor };\n\tz-index: 50;\n\ttransition: color 0.15s, background-color 0.15s;\n\n\tsvg {\n\t\tdisplay: block;\n\t}\n\n\t:hover {\n\t\tcolor: ${ props => props.theme.textColorHl };\n\t\tbackground-color: ${ props => props.theme.panelBackgroundHover };\n\t}\n`\nconst ResizeHandle = styled.div`\n\tposition: absolute;\n\tbottom: 5px;\n\tright: 5px;\n\twidth: 25px;\n\theight: 25px;\n\tborder-right: 2px solid ${ props => props.theme.textColor };\n\tborder-bottom: 2px solid ${ props => props.theme.textColor };\n\tz-index: 50;\n\ttransition: color 0.15s, background-color 0.15s;\n\n\t:hover {\n\t\tborder-right: 3px solid ${ props => props.theme.textColorHl };\n\t\tborder-bottom: 3px solid ${ props => props.theme.textColorHl };\n\t}\n`\n\nconst CloseWrapper = styled.div`\n\tdisplay: inline-block;\n\tcolor: ${ props => props.theme.textColor };\n\tposition: absolute;\n\tright: 5px;\n\ttop: 5px;\n\tcursor: pointer;\n\tpadding: 0px 4px 0px 4px;\n\tborder-radius: 4px;\n\n\t:hover {\n\t\tcolor: ${ props => props.theme.textColorHl };\n\t\tbackground-color: ${ props => props.theme.panelBackgroundHover };\n\t}\n`\n\nconst noop = () => {}\n\nexport default class DraggableModal extends React.Component {\n\tstatic defaultProps = {\n\t\tstartPos: \"bottom\",\n\t\tstartSize: [800, 500],\n\t\tminWidth: 200,\n\t\tminHeight: 200,\n    onClose: noop,\n    meta: null,\n    resizeOnIdChange: false\n\t}\n\tcontainer = null;\n\tdragHandle = null;\n\tresizeHandle = null;\n\tstate = {\n\t\tpos: [0, 0],\n\t\tdragging: false,\n\t\tresizing: false,\n\t\tprevPos: [0, 0],\n\t\tsize: [...this.props.startSize]\n\t}\n\tcomponentDidMount() {\n\t\td3selection.select(this.dragHandle)\n\t\t\t.on(\"mousedown.avl\", () => this.startDragOrResize(\"dragging\"), { bubbles: false })\n\n\t\td3selection.select(this.resizeHandle)\n\t\t\t.on(\"mousedown.avl\", () => this.startDragOrResize(\"resizing\"), { bubbles: false });\n\n    this.setState((state, props) => {\n\t\t\tif (!this.container) return null;\n\n      if (this.resizeOnIdChange()) return null;\n\n      const [width, height] = state.size,\n\t\t\t\tparent = this.container.parentElement,\n  \t\t\tclientWidth = parent.clientWidth,\n  \t\t\tclientHeight = parent.clientHeight;\n\n      if (typeof props.startPos === \"string\") {\n        switch (props.startPos) {\n          \tcase \"top\":\n            \treturn { pos: [clientWidth * 0.5 - width * 0.5, 20] };\n          \tcase \"bottom\":\n            \treturn { pos: [clientWidth * 0.5 - width * 0.5, clientHeight - height - 20] };\n\t\t\tcase \"bottom-right\":\n\t\t\t\treturn { pos: [clientWidth - width - 50, clientHeight - height - 20] };\n\t\t\tdefault:\n\t\t\t\treturn { pos: [...props.startPos] };\n        }\n      }\n      else {\n        return { pos: [...props.startPos] };\n      }\n\n\n    })\n\t}\n\tcomponentWillUnmount() {\n\t\td3selection.select(document.body)\n\t\t\t.on(\"mousemove.avl\", null)\n\t\t\t.on(\"mouseleave.avl\", null)\n\t\t\t.on(\"mouseup.avl\", null);\n\t}\n  resizeOnIdChange(oldProps) {\n    if (this.props.show && this.props.resizeOnIdChange &&\n      (get(oldProps, 'meta.id', undefined) !== get(this.props, 'meta.id', undefined))) {\n\n      const size = [...get(this.props, 'meta.startSize', this.state.size)],\n        startPos = get(this.props, 'meta.startPos', this.props.startPos);\n\n      let pos = [...this.state.pos];\n\n      const [width, height] = size,\n\t\t\t\tparent = this.container.parentElement,\n  \t\t\tclientWidth = parent.clientWidth,\n  \t\t\tclientHeight = parent.clientHeight;\n\n      if (typeof startPos === \"string\") {\n        switch (startPos) {\n          case \"top\": {\n            pos = [clientWidth * 0.5 - width * 0.5, 20];\n            break;\n          }\n          case \"bottom\": {\n            pos = [clientWidth * 0.5 - width * 0.5, clientHeight - height - 20];\n            break;\n          }\n\t\t\tcase \"bottom-right\":\n\t\t\tpos = [clientWidth - width - 50, clientHeight - height - 20];\n\t\t\tbreak;\n\t\t\tdefault: {\n\t\t\t\tpos = [...startPos];\n\t\t\t\tbreak;\n\t\t\t}\n        }\n      }\n      else {\n        pos = [...startPos];\n      }\n\n      this.setState({ size, pos });\n\n      return true;\n    }\n    return false;\n  }\n  componentDidUpdate(oldProps) {\n    this.resizeOnIdChange(oldProps);\n  }\n\tstartDragOrResize(type,event) {\n\t\td3selection.select(document.body)\n\t\t\t.on(\"mousemove.avl\", this.dragOrResize.bind(this))\n\t\t\t.on(\"mouseleave.avl\", this.endDragOrResize.bind(this))\n\t\t\t.on(\"mouseup.avl\", this.endDragOrResize.bind(this));\n\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tconst prevPos = d3selection.mouse(document.body);\n\t\tthis.setState({ [type]: true, prevPos });\n\t}\n\tdragOrResize(event) {\n\t\td3selection.event.stopPropagation();\n\t\td3selection.event.preventDefault();\n\n\t\tconst [x1, y1] = this.state.prevPos,\n\t\t\t[x2, y2] = d3selection.mouse(document.body);\n\n\t\tif (this.state.dragging) {\n\t\t\tconst [x, y] = this.state.pos;\n\n\t\t\tconst newState = {\n\t\t\t\tpos: [Math.max(0, x + (x2 - x1)), Math.max(0, y + (y2 - y1))],\n\t\t\t\tprevPos: [x2, y2]\n\t\t\t};\n\n\t\t\tthis.setState(newState)\n\t\t}\n\t\telse if (this.state.resizing) {\n\t\t\tconst [width, height] = this.state.size;\n\n\t\t\tconst {\n\t\t\t\tminWidth,\n\t\t\t\tminHeight\n\t\t\t} = this.props;\n\n\t\t\tconst newState = {\n\t\t\t\tsize: [Math.max(minWidth, width + (x2 - x1)), Math.max(minHeight, height + (y2 - y1))],\n\t\t\t\tprevPos: [x2, y2]\n\t\t\t};\n\n\t\t\tthis.setState(newState)\n\t\t}\n\t}\n\tendDragOrResize() {\n\t\td3selection.select(document.body)\n\t\t\t.on(\"mousemove.avl\", null)\n\t\t\t.on(\"mouseleave.avl\", null)\n\t\t\t.on(\"mouseup.avl\", null);\n\n\t\td3selection.event.stopPropagation();\n\t\td3selection.event.preventDefault();\n\n\t\tthis.setState({ dragging: false, resizing: false })\n\t}\n\trender() {\n\t\tconst {\n\t\t\tpos: [left, top],\n\t\t\tsize: [width, height]\n\t\t} = this.state;\n\t\treturn (\n\t\t\t<DraggableContainer\n\t\t\t\tstyle={ {\n\t\t\t\t\tleft: `${ Math.max(0, left) }px`,\n\t\t\t\t\ttop:`${ Math.max(0, top) }px`,\n\t\t\t\t\twidth: `${ width }px`,\n\t\t\t\t\theight: `${ height }px`,\n\t\t\t\t\tdisplay: this.props.show ? \"block\" : \"none\"\n\t\t\t\t} }\n\t\t\t\tref={ comp => this.container = comp }>\n\n\t\t\t\t<DraggableInner>\n\t\t\t\t\t{ this.props.children }\n\t\t\t\t</DraggableInner>\n\n\t\t\t\t<CloseWrapper onClick={ this.props.onClose }>\n\t\t\t\t\t<span className=\"fa fa-2x fa-close\" data-tip data-for=\"close-modal-btn\"/>\n          <Tooltip\n            id=\"close-modal-btn\"\n            effect=\"solid\"\n            delayShow={ 500 }>\n            <span>Close Modal</span>\n          </Tooltip>\n\t\t\t\t</CloseWrapper>\n\n\t\t\t\t<DragHandle ref={ comp => this.dragHandle = comp }\n\t\t\t\t\tstyle={ { cursor: this.state.dragging ? \"grabbing\" : \"grab\" } }\n\t\t\t\t\tonMouseDown={ e => e.stopPropagation() }>\n\t\t\t\t\t<VertDots height=\"26px\"/>\n\t\t\t\t</DragHandle>\n\n\t\t\t\t<ResizeHandle ref={ comp => this.resizeHandle = comp }\n\t\t\t\t\tstyle={ { cursor: \"nwse-resize\" } }/>\n\n\t\t\t</DraggableContainer>\n\t\t)\n\t}\n}\n","import React from 'react';\n\nimport styled from 'styled-components';\n\nimport DraggableModal from \"../DraggableModal\"\n\nconst ModalWrapper = styled.div`\n\t${ props => props.theme.scrollBar };\n\t/*background-color: ${ props => props.theme.panelBackground };*/\n\tdisplay: inline-flex;\n\tposition: relative;\n\tpointer-events: all;\n\tpadding: 0px 20px 20px 20px;\n\t/*overflow: auto;*/\n\twidth: 100%;\n\theight: 100%;\n`\n\nconst ModalTitle = styled.div`\n\tdisplay: block;\n\tposition: absolute;\n\ttop: 10px;\n\tleft: 40px;\n\tfont-size: 1.25rem;\n\tcolor: ${ props => props.theme.textColorHl };\n`\n\nclass MapModal extends React.Component {\n\tMODAL_ID = undefined\n\tclose(e, { layerName, modalName }) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tthis.props.toggleModal(layerName, modalName);\n\t}\n\trender() {\n\t\tconst modal = this.props.layers\n\t\t\t.filter(l => this.props.activeLayers.includes(l.name))\n\t\t\t.reduce((a, layer) => {\n\t\t\t\tlet m = null;\n\t\t\t\tif (layer.modals) {\n\t\t\t\t\tfor (const key in layer.modals) {\n\t\t\t\t\t\tif (layer.modals[key].show) {\n\t\t\t\t\t\t\tm = {\n\t\t\t\t\t\t\t\t...layer.modals[key],\n\t\t\t\t\t\t\t\tid: `${ layer.name }-${ key }`,\n\t\t\t\t\t\t\t\tlayerName: layer.name,\n\t\t\t\t\t\t\t\tmodalName: key,\n\t\t\t\t\t\t\t\tprops: layer.modals[key].props || {},\n\t\t\t\t\t\t\t\tlayer,\n\t\t\t\t\t\t\t\tstartSize: layer.modals[key].startSize || [800, 500],\n\t\t\t\t\t\t\t\tstartPos: layer.modals[key].position || \"bottom\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn m || a;\n\t\t\t}, {});\n\n\t\tBoolean(modal.comp) && (this.MODAL_ID = modal.id)\n\n\t\treturn (\n\t\t\t<DraggableModal show={ Boolean(modal.comp) }\n\t\t\t\tonClose={ e => this.close(e, modal) }\n\t\t\t\tmeta={ { id: this.MODAL_ID, startSize: modal.startSize, startPos: modal.startPos } }\n\t\t\t\tresizeOnIdChange={ true }>\n\t\t\t\t{ modal.title && <ModalTitle>{ modal.title }</ModalTitle> }\n\t\t\t\t<ModalWrapper>\n\t\t\t\t\t{ !Boolean(modal.comp) ? null :\n\t\t\t\t\t\t<modal.comp { ...modal.props }\n\t\t\t\t\t\t\tlayer={ modal.layer }/>\n\t\t\t\t\t}\n\t\t\t\t</ModalWrapper>\n\t\t\t</DraggableModal>\n\t\t)\n\t}\n}\n\nexport default MapModal\n","import React from \"react\"\n\nimport styled from \"styled-components\"\n\nimport { Tooltip } from '../common/styled-components';\n\nconst StyledControl = styled.div`\n  width: 44px;\n  height: 44px;\n  border-radius: 4px;\n  overflow: hidden;\n  background-color: #999;\n  position: absolute;\n  cursor: pointer;\n  border: 2px solid #999;\n  border-color: ${ props => props.showActive ? \"#fff\" : \"#999\" };\n  :hover {\n    border-color: #fff;\n  }\n`\nconst ControlContainer = styled.div`\n  position: relative;\n  width: 44px;\n  height: 44px;\n  margin-left: -2px;\n`\n\nexport default ({ mapStyles, style, getStaticImageUrl, setMapStyle }) => {\n  const [isOpen, setOpen] = React.useState(false),\n\n    clicked = React.useCallback(style => {\n      if (!isOpen) {\n        setOpen(true);\n      }\n      else {\n        setMapStyle(style);\n        setOpen(false);\n      }\n    }, [isOpen]);\n\n  const styles = mapStyles.map(s => ({\n    ...s,\n    url: getStaticImageUrl(s.style.slice(23), [40, 40]),\n    active: s.name === style.name\n  }))\n  return (\n    <ControlContainer>\n      { styles.map((style, i) =>\n          <StyledControl key={ style.name }\n            showActive={ isOpen && style.active }\n\t\t\t\t\t\tdata-tip data-for={ style.name }\n            style={ {\n              top: \"0px\",\n              left: isOpen ? `${ i * 50 }px` : \"0px\",\n              zIndex: style.active ? 100 : 0,\n              transition: \"left 0.25s\"\n            } }\n            onClick={ e => clicked(style) }>\n            <img src={ style.url }/>\n            <Tooltip id={ style.name }\n              effect=\"solid\"\n              place=\"top\">\n              <span>{ style.name }</span>\n            </Tooltip>\n          </StyledControl>\n        )\n      }\n    </ControlContainer>\n  )\n}\n","import React from \"react\"\n\nimport styled from \"styled-components\"\n\nimport classnames from \"classnames\"\n\nimport { Tooltip } from '../common/styled-components';\n\nimport MapStyleControl from \"./MapStyleControl\"\n\nconst ActionContainer = styled.div`\n\tposition: absolute;\n\ttop: ${ props => props.sidebar ? 50 : 20 }px;\n\tleft: ${ props => props.sidebar && props.isOpen ? 340 : props.sidebar && !props.isOpen ? 40 : 20 }px;\n\ttransition: left 0.25s;\n\tz-index: 50;\n\tdisplay: flex;\n\tflex-direction: column;\n`\nconst ActionItem = styled.div`\n\tposition: relative;\n\n\tcolor: #ccc;\n\tbackground-color: #999;\n  border: 2px solid #999;\n\n\twidth: 40px;\n\theight: 40px;\n\tborder-radius: 20px;\n\n\tmargin-top 10px;\n\t:first-child {\n\t\tmargin-top 0px;\n\t}\n\n\tdisplay: flex;\n  justify-content: center;\n  align-items: center;\n\n  cursor: pointer;\n\n  transition: border-color 0.15s, color 0.15s, background-color 0.15s;\n\n  :hover {\n  \tborder: 2px solid #fff;\n\t\tcolor: #fff;\n\t\tbackground-color: #aaa;\n  }\n  &.disabled {\n  \tpointer-events: all;\n  \tcursor: not-allowed;\n  \tcolor: #aaa;\n\t\tbackground-color: #888;\n\t\tborder-color: #888;\n  }\n  &.disabled:hover {\n  \tborder-color: ${ props => props.theme.errorColor };\n  }\n\n\tsvg {\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tborder-radius: 20px;\n\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: -2px;\n\t\tleft: -2px;\n\n\t\tline {\n\t\t\tstroke: ${ props => props.theme.errorColor };\n\t\t\tstroke-width: 4px;\n\t\t\ttransition: stroke 0.15s;\n\t\t}\n\t\t:hover line {\n\t\t\tstroke: ${ props => props.theme.errorColor };\n\t\t}\n\t}\n`\n\nconst NO_OP = () => {};\n\nclass MapActions extends React.Component {\n\tMOUNTED = false;\n\tstate = {\n\t\twaitingActions: []\n\t}\n\tcomponentDidMount() {\n\t\tthis.MOUNTED = true;\n\t}\n\tcomponentWillUnmount() {\n\t\tthis.MOUNTED = false;\n\t}\n\tdoAndPauseAction(e, disableFor, action, id) {\n\t\taction(e);\n\n\t\tconst waitingActions = [...this.state.waitingActions, id];\n\t\tthis.setState({ waitingActions });\n\n\t\tsetTimeout(() => {\n\t\t\tconst waitingActions = this.state.waitingActions.filter(d => d !== id);\n\t\t\tthis.MOUNTED && this.setState({ waitingActions });\n\t\t}, disableFor);\n\t}\n\trender() {\n\t\tconst actions = this.props.layers\n\t\t\t.filter(l => this.props.activeLayers.includes(l.name))\n\t\t\t.reduce((actions, layer) => {\n\t\t\t\tif (layer.active) {\n\t\t\t\t\tactions.push(\n\t\t\t\t\t\t...Object.keys(layer.mapActions)\n\t\t\t\t\t\t\t.map(actionName => {\n\t\t\t\t\t\t\t\tconst id = `${ layer.name }-${ actionName }`;\n\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\taction = NO_OP,\n\t\t\t\t\t\t\t\t\tdisabled = false,\n\t\t\t\t\t\t\t\t\tdisableFor = 0,\n\t\t\t\t\t\t\t\t\t...rest\n\t\t\t\t\t\t\t\t} = layer.mapActions[actionName];\n\t\t\t\t\t\t\t\tconst isDisabled = disabled || this.state.waitingActions.includes(id);\n\n\t\t\t\t\t\t\t\tlet boundAction = NO_OP.bind(layer);\n\n\t\t\t\t\t\t\t\tif (Array.isArray(action)) {\n\t\t\t\t\t\t\t\t\tconst a = action[0];\n\t\t\t\t\t\t\t\t\tif (a in this.props.actionMap) {\n\t\t\t\t\t\t\t\t\t\tboundAction = this.props.actionMap[a].bind(layer, layer.name, ...action.slice(1));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tboundAction = action.bind(layer);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\taction: disableFor ? e => this.doAndPauseAction(e, disableFor, boundAction, id) : boundAction,\n\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\tlayer,\n\t\t\t\t\t\t\t\t\tdisabled: isDisabled,\n\t\t\t\t\t\t\t\t\t...rest\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn actions;\n\t\t\t}, [])\n\t\treturn (\n\t\t\t<ActionContainer sidebar={ this.props.sidebar } isOpen={ this.props.isOpen }>\n\t\t\t\t{ !this.props.showStyleControl ? null :\n\t\t\t\t\t<MapStyleControl setMapStyle={ this.props.actionMap[\"setMapStyle\"] }\n\t\t\t\t\t\tgetStaticImageUrl={ this.props.getStaticImageUrl }\n\t\t\t\t\t\tmapStyles={ this.props.mapStyles }\n\t\t\t\t\t\tstyle={ this.props.style }/>\n\t\t\t\t}\n\t\t\t\t{ !this.props.showMapActions ? null :\n\t\t\t\t\tactions.map(({ Icon, id, tooltip, action, disabled, layer }) =>\n\t\t\t\t\t\t<ActionItem key={ id }\n\t\t\t\t\t\t\tdata-tip data-for={ id }\n          \t\tonClick={ disabled ? null : action }\n          \t\tclassName={ classnames({ disabled }) }>\n\n\t\t\t\t\t\t\t<Icon layer={ layer }/>\n\t\t          <Tooltip\n\t\t            id={ id }\n\t\t            effect=\"solid\"\n\t\t            place=\"right\">\n\t\t            <span>{ typeof tooltip === \"function\" ? tooltip({ layer }) : tooltip }</span>\n\t\t          </Tooltip>\n\n\t\t          { !disabled ? null :\n\t\t\t          <svg>\n\t\t\t          \t<line x1=\"40\" x2=\"0\" y1=\"0\" y2=\"40\"/>\n\t\t\t          </svg>\n\t\t\t        }\n\n\t\t\t\t\t\t</ActionItem>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</ActionContainer>\n\t\t)\n\t}\n}\n\nexport default MapActions\n","import React from \"react\"\n\nimport styled from \"styled-components\"\n\nimport classnames from \"classnames\"\n\nimport deepequal from \"deep-equal\"\n\nconst MessageContainer = styled.div`\n\tleft: 0px;\n\ttop: 0px;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 50;\n\tpointer-events: none;\n\toutline: 0;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\n\t> * {\n\t\ttransition: top 0.5s;\n\t}\n`\nconst MessageStyled = styled.div`\n\tpointer-events: all;\n\n\tposition: absolute;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\n\tmin-width: 400px;\n\tdisplay: inline-block;\n\tpadding: 15px 50px 15px 15px;\n\tcolor: ${ props => props.theme.textColor };\n\tbackground-color: ${ props => props.theme.sidePanelBg };\n\ttext-align: left;\n\tborder-radius: 4px;\n\n\tfont-size: 1rem;\n\n\t&.confirm {\n\t\tpadding-right: 15px;\n\n\t\t.confirm-buttons-div {\n\t\t\tmargin-top: 5px;\n\t\t\tbutton:first-child {\n\t\t\t\tfloat: left;\n\t\t\t}\n\t\t\tbutton:last-child {\n\t\t\t\tfloat: right;\n\t\t\t}\n\t\t}\n\t\t.confirm-buttons-div::after {\n\t\t\tcontent: \"\";\n\t\t\tclear: both;\n\t\t\tdisplay: table;\n\t\t}\n\t}\n\n\t@keyframes entering {\n\t\tfrom {\n\t\t\ttop: -${ props => props.height }px;\n\t\t\ttransform: translateX(-50%) scale(0.25, 0.25);\n\t\t}\n\t\tto {\n\t\t\ttop: ${ props => props.top }px;\n\t\t\ttransform: translateX(-50%) scale(1, 1);\n\t\t}\n\t}\n\t&.entering {\n\t\tanimation: entering 1.0s;\n\t\ttransition: top 1.0s;\n\t}\n\n\t@keyframes dismissing {\n\t\tfrom {\n\t\t\ttop: ${ props => props.top }px;\n\t\t\ttransform: translateX(-50%) scale(1, 1);\n\t\t}\n\t\tto {\n\t\t\ttop: -${ props => props.height }px;\n\t\t\ttransform: translateX(-50%) scale(0.25, 0.25);\n\t\t}\n\t}\n\t&.dismissing {\n\t\tanimation: dismissing 1.0s;\n\t\ttransition: top 1.0s;\n\t}\n\n`\nconst DismissButton = styled.div`\n\tposition: absolute;\n\ttop: 10px;\n\tright: 10px;\n\tpadding: 5px;\n\twidth: 30px;\n\theight: 30px;\n\tdisplay: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px;\n\tcolor: ${ props => props.theme.textColor };\n\tbackground-color: ${ props => props.theme.sidePanelBg };\n  transition: background-color 0.15s, color 0.15s;\n\n  :hover {\n  \tbackground-color: ${ props => props.theme.textColor };\n  \tcolor: ${ props => props.theme.sidePanelBg };\n  }\n`\n\nclass MapMessages extends React.Component {\n\tstatic defaultProps = {\n\t\tmessages: []\n\t}\n\tstate = {\n\t\tdismissing: new Map(),\n\t\ttimeouts: new Map(),\n\t\theights: new Map()\n\t}\n\tcomponentDidUpdate(oldProps) {\n\t\tif (this.props.messages.length > oldProps.messages.length) {\n\t\t\tconst length = this.props.messages.length,\n\t\t\t\tmessage = this.props.messages[length - 1],\n\t\t\t\ttimeouts = new Map(this.state.timeouts);\n\t\t\tif (message.duration) {\n\t\t\t\ttimeouts.set(\n\t\t\t\t\tmessage.id,\n\t\t\t\t\tsetTimeout(() => this.readyDismiss(message.id), message.duration)\n\t\t\t\t);\n\t\t\t\tthis.setState({ timeouts });\n\t\t\t}\n\t\t}\n\t\telse if ((this.props.messages.length === oldProps.messages.length) &&\n\t\t\t\t\t\t\t!deepequal(\n\t\t\t\t\t\t\t\toldProps.messages.map(({ id, update }) => ({ id, update})),\n\t\t\t\t\t\t\t\tthis.props.messages.map(({ id, update }) => ({ id, update}))\n\t\t\t\t\t\t\t)) {\n\t\t\tthis.props.messages.forEach(({ update, id, duration }) => {\n\t\t\t\tconst old = oldProps.messages.find(m => m.id === id);\n\t\t\t\tif ((old.update !== update) && duration) {\n\t\t\t\t\tconst timeouts = new Map(this.state.timeouts);\n\t\t\t\t\tclearTimeout(timeouts.get(id));\n\t\t\t\t\ttimeouts.set(\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tsetTimeout(() => this.readyDismiss(id), duration)\n\t\t\t\t\t)\n\t\t\t\t\tthis.setState({ timeouts });\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\treadyDismiss(id) {\n\t\tconst i = this.props.messages.findIndex(m => m.id === id);\n\t\tthis.dismiss(id, i);\n\t}\n\tdismiss(id, i) {\n\t\tclearTimeout(this.state.timeouts.get(id));\n\t\tthis.state.timeouts.delete(id);\n\n\t\tconst message = this.props.messages.find(m => m.id === id);\n\n\t\tthis.props.dismiss(id);\n\n\t\tthis.state.heights.delete(id);\n\n\t\tid = `${ id }-dismissing`;\n\n\t\tconst dismissing = new Map(\n\t\t\t[...this.state.dismissing,\n\t\t\t\t[id, { timeout: setTimeout(() => this.clear(id), 1000), message: { ...message, id }, i }]\n\t\t\t]\n\t\t);\n\t\tthis.setState({ dismissing });\n\t}\n\tclear(id) {\n\t\tconst dismissing = this.state.dismissing;\n\t\tdismissing.delete(id);\n\t\tthis.setState({ dismissing: new Map(dismissing) });\n\t}\n\treportHeight(id, height) {\n\t\tconst heights = new Map([...this.state.heights, [id, height]]);\n\t\tthis.setState({ heights });\n\t}\n\tgetHeight(id) {\n\t\treturn this.state.heights.get(id) || 0;\n\t}\n\trender() {\n\t\tconst {\n\t\t\tdismissing\n\t\t} = this.state;\n\t\tconst {\n\t\t\tmessages\n\t\t} = this.props;\n\t\tlet Messages = [...messages];\n\t\tdismissing.forEach((data, id) => {\n\t\t\tMessages.splice(data.i, 0, data.message);\n\t\t})\n// console.log(\"<MapMessages.render>\", this.props.messages, dismissing)\n\n\t\tlet current = 0;\n\t\tconst getTop = (id, dismissing) => {\n\t\t\tconst height = this.getHeight(id),\n\t\t\t\ttop = current + 10;\n\t\t\tif (!dismissing) current += height + 10;\n\t\t\treturn top;\n\t\t}\n\t\treturn (\n\t\t\t<MessageContainer>\n\t\t\t\t{\n\t\t\t\t\tMessages.map(({ id, ...rest }, i) =>\n\t\t\t\t\t\t<MessageFactory key={ id }\n\t\t\t\t\t\t\tid={ id } { ...rest }\n\t\t\t\t\t\t\tdismissing={ dismissing.has(id) }\n\t\t\t\t\t\t\tdismiss={ id => this.readyDismiss(id) }\n\t\t\t\t\t\t\tzIndex={ messages.length - i - (dismissing ? messages.length : 0)}\n\t\t\t\t\t\t\treportHeight={ this.reportHeight.bind(this) }\n\t\t\t\t\t\t\theight={ this.getHeight(id) }\n\t\t\t\t\t\t\ttop={ getTop(id, dismissing.has(id)) }/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</MessageContainer>\n\t\t)\n\t}\n}\nexport default MapMessages\n\nconst MessageFactory = ({ ...props }) =>\n\tprops.onConfirm ? <ConfirmMessage { ...props }/> : <Message { ...props }/>\n// //\nclass Message extends React.Component {\n\tcomp = null;\n\ttimeout = null;\n\tstate = {\n\t\tentering: !this.props.dismissing\n\t}\n\tcomponentDidMount() {\n\t\tthis.checkHeight();\n\t\tif (this.state.entering) {\n\t\t\tthis.timeout = setTimeout(() => this.setState({ entering: false }), 1000);\n\t\t}\n\t}\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.timeout);\n\t}\n\tcomponentDidUpdate(oldProps) {\n\t\tthis.checkHeight();\n\t}\n\tcheckHeight() {\n\t\tconst comp = this.comp;\n\t\tif (!comp) return;\n\t\tconst height = comp.clientHeight;\n\t\tif (height !== this.props.height) {\n\t\t\tthis.props.reportHeight(this.props.id, height);\n\t\t}\n\t}\n\trenderMessage() {\n\t\tconst {\n\t\t\tMessage,\n\t\t\tdismiss,\n\t\t\tlayer,\n\t\t\tid\n\t\t} = this.props;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ typeof Message === \"function\" ? <Message layer={ layer }/> : Message }\n\t\t\t\t<DismissButton onClick={ () => dismiss(id) }>\n\t\t\t\t\t<span className=\"fa fa-lg fa-close\"/>\n\t\t\t\t</DismissButton>\n\t\t\t</>\n\t\t)\n\t}\n// //\n\trender() {\n\t\tconst {\n\t\t\tdismissing,\n\t\t\tzIndex,\n\t\t\theight,\n\t\t\ttop,\n\t\t\tonConfirm\n\t\t} = this.props;\n\t\tconst { entering } = this.state,\n\t\t\tconfirm = Boolean(onConfirm);\n\n\t\treturn (\n\t\t\t<MessageStyled\n\t\t\t\tclassName={ classnames({ dismissing, entering, confirm }) }\n\t\t\t\tref={ comp => this.comp = comp }\n\t\t\t\theight={ height }\n\t\t\t\tstyle={ {\n\t\t\t\t\tzIndex,\n\t\t\t\t\ttop: `${ top }px`\n\t\t\t\t} }>\n\t\t\t\t{ this.renderMessage() }\n\t\t\t</MessageStyled>\n\t\t)\n\t}\n}\n// //\nclass ConfirmMessage extends Message {\n\trenderMessage() {\n\t\tconst {\n\t\t\tMessage,\n\t\t\tdismiss,\n\t\t\tonConfirm,\n\t\t\tlayer,\n\t\t\tid\n\t\t} = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ typeof Message === \"function\" ? <Message layer={ layer }/> : Message }\n\t\t\t\t<div className=\"confirm-buttons-div\">\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-danger\"\n\t\t\t\t\t\tonClick={ () => dismiss(id) }>\n\t\t\t\t\t\tDismiss\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className=\"btn btn-sm btn-outline-success\"\n\t\t\t\t\t\tonClick={ () => { onConfirm(); dismiss(id); } }>\n\t\t\t\t\t\tConfirm\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t)\n\t}\n}\n","import React from \"react\"\n\nexport default ({ width='100vw', height='100vh', color='#005bcc' }) => (\n\t<div style={ { width, height, display: 'flex', justifyContent: 'center', alignItems: 'center' } }>\n\t\t<svg width=\"100\" height=\"100\">\n\t\t <path fill={color} d=\"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\n\t\t  c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z\">\n\t\t      <animateTransform\n\t\t         attributeName=\"transform\"\n\t\t         attributeType=\"XML\"\n\t\t         type=\"rotate\"\n\t\t         dur=\"2s\"\n\t\t         from=\"0 50 50\"\n\t\t         to=\"360 50 50\"\n\t\t         repeatCount=\"indefinite\" />\n\t\t  </path>\n\t\t <path fill={color} d=\"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\n\t\t  c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z\">\n\t\t      <animateTransform\n\t\t         attributeName=\"transform\"\n\t\t         attributeType=\"XML\"\n\t\t         type=\"rotate\"\n\t\t         dur=\"1s\"\n\t\t         from=\"0 50 50\"\n\t\t         to=\"-360 50 50\"\n\t\t         repeatCount=\"indefinite\" />\n\t\t  </path>\n\t\t <path fill={color} d=\"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\n\t\t  L82,35.7z\">\n\t\t      <animateTransform\n\t\t         attributeName=\"transform\"\n\t\t         attributeType=\"XML\"\n\t\t         type=\"rotate\"\n\t\t         dur=\"2s\"\n\t\t         from=\"0 50 50\"\n\t\t         to=\"360 50 50\"\n\t\t         repeatCount=\"indefinite\" />\n\t\t  </path>\n\t\t</svg>\n\t</div>\n)\n\nexport const ScalableLoading = ({ scale = 1 }) => {\n\tconst size = 100 * scale;\n\treturn (\n\t\t<div style={ { position: \"relative\", width: `${ size }px`, height: `${ size }px` } }>\n\t\t\t<div style={ {\n\t\t\t\ttransform: `translate(-${ 50 - size * 0.5 }%, -${ 50 - size * 0.5 }%) scale(${ scale }, ${ scale })`,\n\t\t\t\twidth: \"100px\", height: \"100px\"\n\t\t\t} }>\n\t\t\t\t<svg width=\"100\" height=\"100\">\n\t\t\t\t <path fill=\"#005bcc\" d=\"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\n\t\t\t\t  c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z\">\n\t\t\t\t      <animateTransform\n\t\t\t\t         attributeName=\"transform\"\n\t\t\t\t         attributeType=\"XML\"\n\t\t\t\t         type=\"rotate\"\n\t\t\t\t         dur=\"2s\"\n\t\t\t\t         from=\"0 50 50\"\n\t\t\t\t         to=\"360 50 50\"\n\t\t\t\t         repeatCount=\"indefinite\" />\n\t\t\t\t  </path>\n\t\t\t\t <path fill=\"#005bcc\" d=\"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\n\t\t\t\t  c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z\">\n\t\t\t\t      <animateTransform\n\t\t\t\t         attributeName=\"transform\"\n\t\t\t\t         attributeType=\"XML\"\n\t\t\t\t         type=\"rotate\"\n\t\t\t\t         dur=\"1s\"\n\t\t\t\t         from=\"0 50 50\"\n\t\t\t\t         to=\"-360 50 50\"\n\t\t\t\t         repeatCount=\"indefinite\" />\n\t\t\t\t  </path>\n\t\t\t\t <path fill=\"#005bcc\" d=\"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\n\t\t\t\t  L82,35.7z\">\n\t\t\t\t      <animateTransform\n\t\t\t\t         attributeName=\"transform\"\n\t\t\t\t         attributeType=\"XML\"\n\t\t\t\t         type=\"rotate\"\n\t\t\t\t         dur=\"2s\"\n\t\t\t\t         from=\"0 50 50\"\n\t\t\t\t         to=\"360 50 50\"\n\t\t\t\t         repeatCount=\"indefinite\" />\n\t\t\t\t  </path>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","const listeners = new Map();\n\nexport const listen = (layer, otherLayerName) => {\n  if (!listeners.has(otherLayerName)) {\n    listeners.set(otherLayerName, []);\n  }\n  listeners.get(otherLayerName).push(layer);\n}\nexport const unlisten = layer => {\n  for (let [, value] of listeners) {\n    value = value.filter(l => l !== layer);\n  }\n}\n\nexport class FilterMessage {\n  constructor(layerName, filterName, oldValue, newValue, data) {\n    this.type = \"FilterMessage\";\n    this.layerName = layerName;\n    this.filterName = filterName;\n    this.oldValue = oldValue;\n    this.newValue = newValue;\n    this.data = data;\n  }\n}\n\nexport const dispatchMessage = (layerName, message) => {\nconsole.log(\"<LayerMessageSystem.dispatchMessage>\", layerName, message);\n  if (listeners.has(layerName)) {\n    for (const listener of listeners.get(layerName)) {\n      listener.receiveLayerMessage(message)\n    }\n  }\n}\n","import React from \"react\"\n\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl'\n//import { MAPBOX_TOKEN } from 'store/config'\n\nimport deepequal from \"deep-equal\"\nimport get from \"lodash.get\"\nimport styled from \"styled-components\"\nimport { format as d3format } from \"d3-format\"\n\nimport Sidebar from './components/sidebar'\nimport Infobox from './components/infobox/Infobox'\nimport MapPopover from \"./components/popover/MapPopover\"\nimport MapModal from \"./components/modal/MapModal\"\nimport MapActions from \"./components/MapActions\"\nimport MapMessages from \"./components/MapMessages\"\n\nimport { ScalableLoading } from \"./components/loading/LoadingPage\"\n\nimport './avlmap.css'\n\nimport {\n\tdispatchMessage,\n\tFilterMessage\n} from \"./LayerMessageSystem\"\n\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiYW0zMDgxIiwiYSI6IkxzS0FpU0UifQ.rYv6mHCcNd7KKMs7yhY3rw'\n\nlet UNIQUE_ID = 0;\nconst getUniqueId = (str = \"unique-id\") =>\n\t`${ str }-${ ++UNIQUE_ID }`\n\n// const getMapPreview = (map, style, size=[60, 40]) => {\n//   if (!Boolean(map)) return \"\";\n//\n//   return `https://api.mapbox.com/styles/v1/am3081/${ style }/static/` +\n//     `${ map.getCenter().toArray().join(',') },${ map.getZoom() },0,0/` +\n//     `${ size.join('x') }?` +\n//     `attribution=false&logo=false&access_token=${ mapboxgl.accessToken }`;\n// }\nconst getStaticImageUrl = (style, size = [60, 40]) =>\n  `https://api.mapbox.com/styles/v1/am3081/${ style }/static/` +\n    `${ -74.2179 },${ 43.2994 },1.5/${ size.join(\"x\") }?` +\n    `attribution=false&logo=false&access_token=${ mapboxgl.accessToken }`\n\nexport const DEFAULT_STYLES = [\n  { name: \"Dark\",\n    style: \"mapbox://styles/am3081/cjqqukuqs29222sqwaabcjy29\" },\n  { name: \"Light\",\n    style: 'mapbox://styles/am3081/cjms1pdzt10gt2skn0c6n75te' },\n  { name: \"Satellite\",\n    style: 'mapbox://styles/am3081/cjya6wla3011q1ct52qjcatxg' },\n  { name: \"Satellite Streets\",\n    style: `mapbox://styles/am3081/cjya70364016g1cpmbetipc8u` }\n]\n\nclass AvlMap extends React.Component {\n\n\tstatic defaultProps = {\n\t\tid: null,\n\t\theight: \"100%\",\n\t  styles: [...DEFAULT_STYLES],\n\t  styleName: \"Dark\",\n\t\tstyle: null,\n\t\tcenter: [-73.680647, 42.68],\n\t\tminZoom: 2,\n\t\tzoom: 10,\n\t\tlayers: [],\n\t  mapControl: 'bottom-right',\n\t  scrollZoom: true,\n    boxZoom: true,\n\t  sidebar: true,\n    mapactions: true,\n\t\tshowStyleControl: false,\n\t  update: [],\n\t\theader: \"AVAIL Map\",\n\t  sidebarPages: [\"layers\", \"basemaps\"],\n\t\tlayerProps: {},\n\t\tpreserveDrawingBuffer: false,\n    MAPBOX_TOKEN: MAPBOX_TOKEN\n\t}\n\n  static ActiveMaps = {};\n  static addActiveMap = (id, component, map) => {\n    AvlMap.ActiveMaps[id] = { component, map };\n  }\n  static removeActiveMap = id => {\n    delete AvlMap.ActiveMaps[id];\n  }\n  static updateMap = ([id, action, ...args]) => {\n    if (id in AvlMap.ActiveMaps) {\n      const { component } = AvlMap.ActiveMaps[id];\n      component && component[action] && component[action].call(component, ...args);\n    }\n  }\n  static doAction = ([id, action, ...args]) => {\n      console.log('in do action')\n    if (id in AvlMap.ActiveMaps) {\n      const { component } = AvlMap.ActiveMaps[id];\n      if(component && component[action]) {\n          console.log('do action', id, action, ...args)\n          let result = component[action].call(component, ...args);\n          console.log('action result ', result)\n          return result\n      }\n    }\n  }\n\tsta\n  testFunc(...args) {\n    console.log(\"TEST FUNCTION:\", ...[...args].map(arg => arg.toString()));\n  }\n\n  constructor(props) {\n    super(props);\n  \tthis.state = {\n\t\t\tid: this.props.id || getUniqueId('avl-map'),\n  \t\tmap: null,\n\t\t\tdynamicLayers: [],\n  \t\tactiveLayers: [],\n      sources: {},\n  \t\tpopover: {\n  \t\t\tpos: [0, 0],\n  \t\t\tpinned: false,\n  \t\t\tdata: [],\n\t\t\t\tlayer: null\n  \t\t},\n      dragPan: true,\n  \t\tdragging: null,\n  \t\tdragover: null,\n      width: 0,\n      height: 0,\n      messages: [],\n      isOpen: true,\n      transitioning: false,\n      style: props.styles.reduce((a, c) =>\n\t\t\t\t((c.name === props.styleName) || (c.name === props.style)) ? c : a\n\t\t\t, props.styles[0])\n  \t}\n    this.MOUNTED = false;\n    mapboxgl.accessToken = props.MAPBOX_TOKEN\n    this.container = React.createRef();\n  }\n\n  setState(...args) {\n    this.MOUNTED && super.setState(...args);\n  }\n  forceUpdate(...args) {\n    this.MOUNTED && super.forceUpdate(...args);\n  }\n\n  componentDidMount() {\n    this.MOUNTED = true;\n\n    const {\n    \tcenter,\n    \tminZoom,\n    \tzoom,\n      mapControl,\n\t\t\tpreserveDrawingBuffer,\n\t\t\tstyle\n    } = this.props;\n\n\t\tconst { id } = this.state;\n\n\t\tconst regex = /^mapbox:\\/\\/styles\\//;\n\n    const map = new mapboxgl.Map({\n      container: id,\n      style: regex.test(style) ? style : this.state.style.style,\n      center,\n      minZoom,\n      zoom,\n      attributionControl: false,\n\t\t\tpreserveDrawingBuffer\n    });\n\n\n    if(mapControl) {\n      map.addControl(new mapboxgl.NavigationControl(), mapControl);\n    }\n\n    if(!this.props.boxZoom){\n      map.boxZoom.disable();\n    }\n\n    if(!this.props.scrollZoom) {\n      console.log('scroll zoom disable')\n      map.scrollZoom.disable();\n    };\n\n    if(this.props.dragPan === false) {\n      console.log('dragPan disable')\n      map.dragPan.disable();\n    }\n\n    ([...document.getElementsByClassName(\"mapboxgl-ctrl-logo\")])\n      .forEach(logo => {\n        logo.parentElement.style.margin = '0';\n        logo.style.display = 'none';\n      })\n\n    this.props.layers.forEach(layer => {\n      layer.version = layer.version || 1.0;\n      layer.initComponent(this);\n    });\n\n    map.on('load',  () => {\n      const activeLayers = [];\n\n      this.props.layers.forEach(layer => {\n\n        layer.initMap(map);\n\n      \tif (layer.active) {\n          this._addLayer(map, layer, activeLayers);\n          activeLayers.push(layer.name);\n\n          layer._onAdd(map);\n          ++layer.loading;\n\n\t\t\t\t\tconst layerProps = get(this.props.layerProps, layer.name, {});\n\t\t\t\t\tPromise.resolve(layer.onAdd(map, layerProps))\n            .then(() => --layer.loading)\n            .then(() => layer.render(map))\n            .then(() => this.setState({ activeLayers }));\n      \t}\n      })\n\n      if (this.props.fitBounds){\n        map.fitBounds(this.props.fitBounds)\n      }\n      this.setState({ map, activeLayers: [] })\n\n      AvlMap.addActiveMap(id, this, map);\n    })\n    // map.on('sourcedata', () => this.foceUpdate());\n    this.setContainerSize();\n  }\n  componentWillUnmount() {\n    // this.state.activeLayers.forEach(layer => this.removeLayer(layer));\n\n    this.MOUNTED = false;\n\n    AvlMap.removeActiveMap(this.state.id);\n  }\n\n  componentDidUpdate(oldProps, oldState) {\n    this.setContainerSize();\n\n\t\tthis.state.activeLayers.forEach(layerName => {\n\t\t\tconst layer = this.getLayer(layerName);\n\n\t\t\tconst layerProps = get(this.props, [\"layerProps\", layerName], null);\n\t\t\tif (layerProps) {\n\t\t\t\tlayer.receiveProps(oldProps.layerProps[layerName], layerProps);\n\t\t\t}\n\n\t\t\tif (!deepequal(oldProps.layerProps[layerName], layerProps)) {\n\t\t\t\tlayer.onPropsChange(oldProps.layerProps[layerName], layerProps);\n\t\t\t}\n\t\t})\n  }\n\n\taddDynamicLayer(layerName, layerFactory) {\n  \treturn new Promise((resolve, reject) => {\n      if (!this.state.map) return resolve();\n\n      const layer = this.getLayer(layerName);\n\n      if (!layer) return resolve();\n\n      const newLayer = layerFactory.call(null, layer),\n          newLayerName = newLayer.name,\n          allLayers = [\n              ...this.props.layers,\n              ...this.state.dynamicLayers\n          ];\n\n      newLayer._isDynamic = true;\n      newLayer.initComponent(this);\n      newLayer.initMap(this.state.map);\n\n      const adjustName = allLayers.reduce((a, c) =>\n          a || c.name === newLayerName\n          , false)\n\n      if (adjustName) {\n          const regExpStr = newLayerName + \" \\\\((\\\\d+)\\\\)\",\n              regex = new RegExp(regExpStr),\n              num = allLayers.reduce((a, c) => {\n                  const match = regex.exec(c.name);\n                  if (match) {\n                      return Math.max(a, +match[1]);\n                  }\n                  return a;\n              }, 1);\n          newLayer.name = `${newLayerName} (${num + 1})`;\n      }\n      if (newLayer.active) {\n          this._addLayer(this.state.map, newLayer);\n          ++newLayer.loading;\n          newLayer._onAdd(this.state.map);\n\n          const layerProps = get(this.props.layerProps, newLayer.name, {});\n          Promise.resolve(newLayer.onAdd(this.state.map, layerProps))\n              .then(() => --newLayer.loading)\n              .then(() => newLayer.render(this.state.map))\n              .then(() => this.setState({activeLayers: [...this.state.activeLayers, newLayer.name]}));\n      }\n      this.setState({\n          dynamicLayers: [\n              ...this.state.dynamicLayers,\n              newLayer\n          ]\n      })\n      resolve(newLayer)\n    })\n\t}\n\tdeleteDynamicLayer(layerName, otherLayerName=false) {\n\t\tlayerName = otherLayerName || layerName;\n\n\t\tconst layer = this.getLayer(layerName);\n\n\t\tif (!layer) return;\n\n\t\tthis.removeLayer(layerName);\n\n\t\tthis.setState({\n\t\t\tdynamicLayers: this.state.dynamicLayers.filter(l => l.name !== layerName)\n\t\t})\n\t}\n\n  sendMessage(layerName, data) {\n    data = {\n      id: getUniqueId(),\n      duration: data.onConfirm ? 0 : 6000,\n      ...data,\n\t\t\tMessage: data.msg || data.message || data.Message,\n      update: false,\n      layer: this.getLayer(layerName)\n    }\n// console.log(\"<AvlMap.sendMessage>\", layerName, data, [...this.state.messages]);\n    const update = this.state.messages.reduce((a, c) => a || (c.id === data.id), false);\n    let messages = [...this.state.messages];\n    if (update) {\n      messages = messages.map(({ id, Message, ...rest }) => ({\n        Message: id === data.id ? data.Message : Message,\n        id,\n        ...rest,\n        update: id === data.id ? Date.now() : false\n      }))\n    }\n    else {\n      messages = [...messages, data];\n    }\n    this.setState({ messages });\n  }\n  dismissMessage(id) {\n    const messages = this.state.messages.filter(m => m.id !== id);\n// console.log(\"<AvlMap.dismissMessage>\", id, messages);\n    this.setState({ messages });\n  }\n\n\trenderLayer(layerName) {\n\t\tconst layer = this.getLayer(layerName);\n\t\tlayer && layer.active && layer.render(this.state.map);\n\t}\n\n  setContainerSize() {\n    const div = this.container.current,\n      width = div.scrollWidth,\n      height = div.scrollHeight;\n    if ((width !== this.state.width) || (height !== this.state.height)) {\n      this.setState({ width, height })\n    }\n  }\n\n  getLayer(layerName) {\n  \treturn [\n\t\t\t...this.props.layers,\n\t\t\t...this.state.dynamicLayers\n\t\t]\n\t\t.reduce((a, c) => c.name === layerName ? c : a, null);\n  }\n\n  _addLayer(map, newLayer, activeLayers=this.state.activeLayers) {\n    const sources = { ...this.state.sources };\n\n    const sourcesToAdd = new Set(newLayer.layers.map(l => l.source))\n\n    newLayer.sources.forEach(source => {\n      if (!sourcesToAdd.has(source.id)) return;\n\n      if (!map.getSource(source.id)) {\n        map.addSource(source.id, source.source);\n      }\n      if (!(source.id in sources)) {\n        sources[source.id] = [];\n      }\n    })\n\n    const activeMBLayers = activeLayers.reduce((a, ln) => {\n      const layer = this.props.layers.reduce((a, c) => c.name === ln ? c : a);\n      return [...a, ...layer.layers];\n    }, [])\n\n    const newMBLayers = newLayer.layers.slice();\n    newMBLayers.sort((a, b) => {\n      const azi = a.zIndex || 0,\n        bzi = b.zIndex || 0;\n      return azi - bzi;\n    })\n\n    //console.log('mbLayers', newMBLayers)\n\n    newMBLayers.forEach(mbLayer => {\n      const zIndex = mbLayer.zIndex || 0;\n      let layerAdded = false;\n      activeMBLayers.forEach(aMBL => {\n        const aMBLzIndex = aMBL.zIndex || 0;\n        if (aMBLzIndex > zIndex) {\n          if(!map.getLayer(mbLayer.id)) {\n            map.addLayer(mbLayer, aMBL.id);\n            layerAdded = true;\n          }\n        }\n      })\n      if (!layerAdded) {\n        if (Boolean(mbLayer.beneath) && Boolean(map.getLayer(mbLayer.beneath))) {\n          map.addLayer(mbLayer, mbLayer.beneath);\n        }\n        else {\n          map.addLayer(mbLayer);\n        }\n      }\n      sources[mbLayer.source].push(mbLayer.id)\n    })\n\n    this.setState({ sources });\n  }\n\n  addLayer(layerName, otherLayerName=false) {\n\t\tlayerName = otherLayerName || layerName;\n\n  \tconst layer = this.getLayer(layerName);\n  \tif (this.state.map && layer && !layer.active) {\n  \t\tlayer.active = true;\n      this._addLayer(this.state.map, layer);\n      ++layer.loading;\n      layer._onAdd(this.state.map);\n\n\n\t\t\tconst layerProps = get(this.props.layerProps, layerName, {});\n      Promise.resolve(layer.onAdd(this.state.map, layerProps))\n        .then(() => --layer.loading)\n        .then(() => layer.render(this.state.map))\n        .then(() => this.setState({ activeLayers: [...this.state.activeLayers, layerName] }));\n      ;\n  \t}\n  }\n  removeLayer(layerName, otherLayerName=false) {\n\t\tlayerName = otherLayerName || layerName;\n\n  \tconst layer = this.getLayer(layerName);\n  \tif (this.state.map && layer && layer.active && !layer.loading) {\n  \t\tlayer.active = false;\n  \t\tlayer._onRemove(this.state.map);\n  \t\tlayer.onRemove(this.state.map);\n\n      const sourcesToRemove = []\n  \t\tlayer.layers.forEach(layer => {\n  \t\t\tthis.state.map.removeLayer(layer.id);\n        sourcesToRemove.push([layer.source, layer.id])\n  \t\t});\n\n      const sources = { ...this.state.sources };\n      sourcesToRemove.forEach(([sourceId, layerId]) => {\n        if (sourceId in sources) {\n          sources[sourceId] = sources[sourceId].filter(lId => lId !== layerId);\n        }\n      })\n\n  \t\tlayer.sources.forEach(source => {\n        if (get(sources, [source.id, \"length\"], \"not-added\") === 0) {\n          this.state.map.removeSource(source.id);\n          delete sources[source.id]\n        }\n  \t\t})\n\n  \t\tthis.setState({ activeLayers: this.state.activeLayers.filter(ln => ln !== layerName), sources });\n  \t}\n    else if (this.state.map && layer && layer.active && layer.loading) {\n      this.sendMessage(null, { Message: \"Cannot remove a layer while it is loading.\" })\n    }\n  }\n  toggleLayerVisibility(layerName) {\n  \tconst layer = this.getLayer(layerName);\n  \tif (this.state.map && layer) {\n  \t\tlayer.toggleVisibility(this.state.map);\n\t\t\tthis.forceUpdate();\n  \t}\n  }\n\n  updatePopover(layerName, update) {\n\t\tif ((update.pinned === false) && this.state.popover.pinned) {\n\t\t\tconst func = this.state.popover.layer.popover.onUnPinned;\n\t\t\t(typeof func === \"function\") && func.call(this.state.popover.layer);\n\t\t\tthis.state.popover.layer._clearPinnedState();\n\t\t}\n  \tthis.setState({ popover: { ...this.state.popover, ...update }});\n  }\n\n  toggleModal(layerName, modalName, props={}) {\n  \tconst layer = this.getLayer(layerName),\n      modal = layer.modals[modalName],\n      show = !modal.show;\n\n\t\tthis.props.layers.forEach(layer => {\n\t\t\tif (layer.modals) {\n        for (const modal in layer.modals) {\n\t\t\t\t  layer.modals[modal].show = false;\n        }\n\t\t\t}\n\t\t})\n    modal.show = show;\n    modal.props = modal.props ? { ...modal.props, ...props } : props;\n    if (!show && (typeof modal.onClose === \"function\")) {\n      modal.onClose.call(layer);\n    }\n  \tthis.forceUpdate();\n  }\n  updateModal(layerName, modalName, props={}) {\n    const layer = this.getLayer(layerName),\n      modal = layer.modals[modalName];\n    modal.props = modal.props ? { ...modal.props, ...props } : props;\n    this.forceUpdate();\n  }\n\n  onSelect(layerName, selection) {\n    if (!this.state.map) return;\n\n  \tconst layer = this.getLayer(layerName)\n\n    layer.selection = selection;\n    ++layer.loading;\n    this.forceUpdate();\n\n    layer.onSelect(selection)\n      // .then(() => layer.fetchData())\n      .then(data => layer.active && (layer.receiveDataOld(this.state.map, data), layer.render(this.state.map)))\n      .then(() => --layer.loading)\n      .then(() => this.forceUpdate());\n  }\n\n  toggleInfoBox(layerName, infoBoxName) {\n  \tconst layer = this.getLayer(layerName)\n\n  \tif (layer.infoBoxes) {\n  \t\tconst infoBox = layer.infoBoxes[infoBoxName];\n  \t\tif (infoBox) {\n  \t\t\tinfoBox.show = !infoBox.show;\n  \t\t}\n  \t}\n  \tthis.forceUpdate();\n  }\n\n  updateFilter(layerName, filterName, value = null) {\n    if (!this.state.map) return;\n\n  \tconst layer = this.getLayer(layerName),\n      filter = layer.filters[filterName],\n  \t\toldValue = filter.value,\n      domain = filter.domain;\n\n\t  (value !== null) && (filter.value = value);\n\n\t\tlet onChange = () => {};\n  \tif (layer.filters[filterName].onChange) {\n      if (layer.version >= 2) {\n\t\t\t\tonChange = () => layer.filters[filterName].onChange.call(layer, oldValue, value, domain);\n      }\n      else {\n        onChange = () => layer.filters[filterName].onChange(this.state.map, layer, value, oldValue);\n      }\n  \t}\n\n  \t++layer.loading;\n  \tthis.forceUpdate();\n\n\t\t// Promise.resolve(onChange())\n\t\t// \t.then(() => layer.onFilterFetch(filterName, oldValue, value))\n\t\tlayer.onFilterFetch(filterName, oldValue, value)\n      .then(data => {\n\t\t\t\tif (layer.active) {\n\t\t\t\t\tonChange();\n\t\t\t\t\tlayer.receiveDataOld(this.state.map, data);\n\t\t\t\t\t(data !== false) && layer.render(this.state.map);\n\t\t\t\t}\n\t\t\t})\n      .then(() => --layer.loading)\n\t\t\t.then(() => {\n\t\t\t\t\tif (filter.dispatchMessage) {\n\t\t\t\t\t\tconst data = filter.dispatchFunc ? filter.dispatchFunc.call(layer) : null;\n\t\t\t\t\t\tdispatchMessage(layerName, new FilterMessage(layerName, filterName, oldValue, value, data));\n\t\t\t\t\t}\n\t\t\t})\n      .then(() => this.forceUpdate());\n\n    // if (layer.filters[filterName].refLayers) {\n    //   layer.filters[filterName].refLayers.forEach(refLayerName => {\n\t\t//\n    //   \tconst layer = this.getLayer(refLayerName),\n    //       filter = layer.filters[filterName],\n    //   \t\toldValue = filter.value,\n    //       domain = filter.domain;\n\t\t//\n    //     (value !== null) && (filter.value = value);\n\t\t//\n    //     if (layer.active) {\n\t\t//\n    //       if (layer.filters[filterName].onChange) {\n    //         if (layer.version >= 2) {\n    //           layer.filters[filterName].onChange.call(layer, oldValue, value, domain);\n    //         }\n    //         else {\n    //           layer.filters[filterName].onChange(this.state.map, layer, value, oldValue);\n    //         }\n    //       }\n\t\t//\n    //       ++layer.loading;\n    //       this.forceUpdate();\n\t\t//\n    //       layer.onFilterFetch(filterName, oldValue, value)\n    //         .then(data => layer.active && (layer.receiveDataOld(this.state.map, data), layer.render(this.state.map)))\n    //         .then(() => --layer.loading)\n    //         .then(() => this.forceUpdate());\n    //     }\n    //   })\n    // }\n  }\n\n  updateLegend(layerName, update) {\n    if (!this.state.map) return;\n\n  \tconst layer = this.getLayer(layerName);\n\n\t\tlayer.legend = {\n\t\t\t...layer.legend,\n\t\t\t...update\n\t\t};\n\t\t++layer.loading;\n\t\tthis.forceUpdate();\n\n  \tlayer.onLegendChange()\n\t\t\t.then(data => layer.active && (layer.receiveDataOld(this.state.map, data), layer.render(this.state.map)))\n\t\t\t.then(() => --layer.loading)\n\t\t\t.then(() => this.forceUpdate());\n  }\n\n  fetchLayerData(layerName) {\n    if (!this.state.map) return;\n\n  \tconst layer = this.getLayer(layerName);\n\n  \t++layer.loading;\n  \tthis.forceUpdate();\n\n  \tlayer.fetchData()\n\t\t\t.then(data => layer.active && (layer.receiveDataOld(this.state.map, data), layer.render(this.state.map)))\n\t\t\t.then(() => --layer.loading)\n\t\t\t.then(() => this.forceUpdate());\n  }\n\n  updateDrag(update) {\n  \tthis.setState({\n  \t\t...this.state,\n  \t\t...update\n  \t})\n  }\n  dropLayer() {\n\t\tconst activeLayers = this.state.activeLayers.filter(l => l !== this.state.dragging),\n\t\t\tinsertBefore = activeLayers[this.state.dragover];\n\t\tactiveLayers.splice(this.state.dragover, 0, this.state.dragging)\n\t\tconst draggingLayer = this.getLayer(this.state.dragging),\n\t\t\tbeforeLayer = this.getLayer(insertBefore);\n\t\tlet beforeLayerId = null;\n\t\tif (beforeLayer) {\n\t\t\tbeforeLayerId = beforeLayer.layers[0].id;\n\t\t}\n\t\tdraggingLayer.layers.forEach(({ id }) => {\n\t\t\tthis.state.map.moveLayer(id, beforeLayerId)\n\t\t})\n\t\tthis.setState({ activeLayers });\n\n    const layersWithZIndex = activeLayers.reduce((a, c) => {\n      const layer = this.getLayer(c),\n        mbLayers = layer.layers.reduce((a, c) => {\n          return c.zIndex ? [...a, c] : a;\n        }, []);\n      return [...a, ...mbLayers];\n    }, [])\n    layersWithZIndex.sort((a, b) => a.zIndex - b.zIndex);\n    layersWithZIndex.forEach(mbLayer => {\n      this.state.map.moveLayer(mbLayer.id);\n    })\n  }\n\n  onTransitionStart() {\n    this.setState({ transitioning: true });\n  }\n  onOpenOrClose(isOpen) {\n    this.setState({ isOpen, transitioning: false });\n  }\n\n  setMapStyle(style) {\n    const { map } = this.state;\n    if (Boolean(map) && (style.style !== this.state.style.style)) {\n      map.once('style.load', e => {\n        const activeLayers = [];\n        this.state.activeLayers.forEach(layerName => {\n        \tconst layer = this.getLayer(layerName);\n          this._addLayer(map, layer, activeLayers);\n          activeLayers.push(layerName);\n          layer.onStyleChange(map);\n        });\n      })\n      this.state.activeLayers.forEach(layerName => {\n        const layer = this.getLayer(layerName);\n        layer._onRemove(map);\n      })\n      map.setStyle(style.style);\n    }\n    this.setState({ style });\n  }\n\n\trender() {\n\t\tconst actionMap = {\n\t\t\ttoggleModal: this.toggleModal.bind(this),\n      updateModal: this.updateModal.bind(this),\n\t\t\ttoggleInfoBox: this.toggleInfoBox.bind(this),\n\t\t\tsetMapStyle: this.setMapStyle.bind(this)\n\t\t}\n\t\tconst allLayers = [\n\t\t\t...this.props.layers,\n\t\t\t...this.state.dynamicLayers\n\t\t]\n\t\tconst mapStyles = this.props.styles.map(s => ({\n\t\t\t...s,\n\t\t\turl: getStaticImageUrl(s.style.slice(23))\n\t\t}))\n\t\treturn (\n\t\t\t<div id={ this.state.id } style={ { height: this.props.height } } ref={ this.container } className='z-30 focus:outline-none active:outline-none'>\n\n\t\t\t\t{ !this.props.sidebar ? null :\n          <Sidebar isOpen={ this.state.isOpen }\n            transitioning={ this.state.transitioning }\n            onOpenOrClose={ this.onOpenOrClose.bind(this) }\n            onTransitionStart={ this.onTransitionStart.bind(this) }\n            layers={ allLayers }\n  \t\t\t\t\tactiveLayers={ this.state.activeLayers }\n  \t\t\t\t\taddLayer={ this.addLayer.bind(this) }\n  \t\t\t\t\tremoveLayer={ this.removeLayer.bind(this) }\n\t\t\t\t\t\tdeleteDynamicLayer={ this.deleteDynamicLayer.bind(this) }\n  \t\t\t\t\ttoggleLayerVisibility={ this.toggleLayerVisibility.bind(this) }\n  \t\t\t\t\tactionMap= { actionMap }\n  \t\t\t\t\theader={ this.props.header }\n  \t\t\t\t\ttoggleModal={ this.toggleModal.bind(this) }\n            updateModal={ this.updateModal.bind(this) }\n  \t\t\t\t\tupdateFilter={ this.updateFilter.bind(this) }\n  \t\t\t\t\tupdateLegend={ this.updateLegend.bind(this) }\n  \t\t\t\t\tfetchLayerData={ this.fetchLayerData.bind(this) }\n  \t\t\t\t\tupdateDrag={ this.updateDrag.bind(this) }\n  \t\t\t\t\tdropLayer={ this.dropLayer.bind(this) }\n            pages={ this.props.sidebarPages }\n            mapStyles={ mapStyles }\n            style={ this.state.style }\n            setMapStyle={ this.setMapStyle.bind(this) }\n            map={ this.state.map }/>\n        }\n\n\t\t\t\t<Infobox layers={ allLayers }\n\t\t\t\t\tactiveLayers={ this.state.activeLayers }/>\n\n\t\t\t\t<MapPopover { ...this.state.popover }\n\t\t\t\t\tupdatePopover={ this.updatePopover.bind(this) }\n          mapSize={ {\n            width: this.state.width,\n            height: this.state.height\n          } }/>\n\n\t\t\t\t<MapModal layers={ allLayers }\n\t\t\t\t\tactiveLayers={ this.state.activeLayers }\n\t\t\t\t\ttoggleModal={ this.toggleModal.bind(this) }/>\n\n        <MapActions layers={ allLayers }\n\t\t\t\t\tactiveLayers={ this.state.activeLayers }\n          sidebar={ this.props.sidebar }\n          isOpen={ (this.state.isOpen && !this.state.transitioning) || (!this.state.isOpen && this.state.transitioning) }\n          actionMap={ actionMap }\n          mapStyles={ mapStyles }\n\t\t\t\t\tstyle={ this.state.style }\n\t\t\t\t\tshowStyleControl={ this.props.showStyleControl }\n\t\t\t\t\tgetStaticImageUrl={ getStaticImageUrl }\n\t\t\t\t\tshowMapActions={ this.props.mapactions }/>\n\n        <MapMessages\n          messages={ this.state.messages }\n          dismiss={ this.dismissMessage.bind(this) }/>\n\n        <LoadingLayers layers={ allLayers }\n          sidebar={ this.props.sidebar }\n          isOpen={ (this.state.isOpen && !this.state.transitioning) || (!this.state.isOpen && this.state.transitioning) }/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst LoadingContainer = styled.div`\n\tposition: absolute;\n\tbottom: 20px;\n\tleft: ${ props => props.sidebar && props.isOpen ? 340 : props.sidebar && !props.isOpen ? 40 : 20 }px;\n\ttransition: left 0.25s;\n\tz-index: 50;\n\tdisplay: flex;\n\tflex-direction: column;\n  pointer-events: none;\n  color: ${ props => props.theme.textColorHl };\n  outline: 0;\n\n\n  > * {\n    margin-bottom: 10px;\n    min-width: 300px;\n    background-color: ${ props => props.theme.sidePanelBg };\n    border-radius: 4px;\n    border-top-right-radius: ${ props => (props.height + props.padding * 2) * 0.5 }px;\n    border-bottom-right-radius: ${ props => (props.height + props.padding * 2) * 0.5 }px;\n    font-size: 1rem;\n  }\n\t> *:last-child {\n\t\tmargin-bottom: 0px;\n\t}\n`\nclass LoadingIndicator extends React.Component {\n\tstate = {\n\t\tprogress: null\n\t}\n\tformat = d3format(\".0%\");\n\n\tcomponentDidMount() {\n\t\tthis.props.layer.registerLoadingIndicator(this.setState.bind(this));\n\t}\n\tcomponentWillUnmount() {\n\t\tthis.props.layer.unregisterLoadingIndicator();\n\t}\n\trender() {\n\t\tconst { layer } = this.props,\n\t\t\theight = 40,\n\t\t\tpadding = 10;\n\t\treturn (\n\t\t\t<div key={ layer.name } style={ { height: `${ height + 20 }px`, padding: `${ padding }px`, display: \"flex\" } }>\n\n\t\t\t\t<div style={ { height: `${ height }px`, lineHeight: `${ height }px`, textAlign: \"left\", width: `65%` } }>\n\t\t\t\t\t { layer.name }\n\t\t\t\t</div>\n\n\t\t\t\t<div style={ { paddingLeft: `${ padding }px`, height: `${ height }px`, lineHeight: `${ height }px`, textAlign: \"left\", width: `calc(35% - ${ height }px)` } }>\n\n\t\t\t\t\t{ this.state.progress === null ? null :\n\t\t\t\t\t\t`${ this.format(this.state.progress) }`\n\t\t\t\t\t}\n\n\t\t\t\t</div>\n\n\t\t\t\t<ScalableLoading scale={ height * 0.01 }/>\n\t\t\t</div>\n\t\t)\n\t}\n}\nclass LoadingLayers extends React.Component {\n\trender() {\n\t  const { layers, sidebar, isOpen } = this.props,\n\t\t\tloadingLayers = layers.reduce((a, c) => {\n\t\t    c.loading && a.push(c);\n\t\t\t\t// a.push(c);\n\t\t    return a;\n\t\t  }, []),\n\t\t\theight = 40,\n\t\t\tpadding = 10;\n\t\treturn (\n\t    <LoadingContainer sidebar={ sidebar } isOpen={ isOpen } height={ height } padding={ padding }>\n\t      { loadingLayers.map((l, i) => <LoadingIndicator key={ l.name } layer={ l }/>) }\n\t    </LoadingContainer>\n\t\t)\n\t}\n}\n\nexport default AvlMap\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { reduxFalcor} from \"utils/redux-falcor-new\";\nimport {ResponsiveBar} from '@nivo/bar'\nimport { fnum } from \"utils/sheldusUtils\"\nimport hazardcolors from \"constants/hazardColors\";\nimport * as d3 from \"d3\";\nconst get = require(\"lodash.get\");\nvar format =  d3.format(\".2s\")\nconst fmt = (d) => d < 1000 ? d : format(d)\n\nconst hazards = [\n    {value:'wind', name:'Wind',total_cost: 0},\n    {value:'wildfire', name:'Wildfire',total_cost: 0},\n    {value:'tsunami', name:'Tsunami/Seiche',total_cost: 0},\n    {value:'tornado', name:'Tornado',total_cost: 0},\n    {value:'riverine', name:'Flooding',total_cost: 0},\n    {value:'lightning', name:'Lightning',total_cost: 0},\n    {value:'landslide', name:'Landslide',total_cost: 0},\n    {value:'icestorm', name:'Ice Storm',total_cost: 0},\n    {value:'hurricane', name:'Hurricane',total_cost: 0},\n    {value:'heatwave', name:'Heat Wave',total_cost: 0},\n    {value:'hail', name:'Hail',total_cost: 0},\n    {value:'earthquake', name:'Earthquake',total_cost: 0},\n    {value:'drought', name:'Drought',total_cost: 0},\n    {value:'avalanche', name:'Avalanche',total_cost: 0},\n    {value:'coldwave', name:'Coldwave',total_cost: 0},\n    {value:'winterweat', name:'Snow Storm',total_cost: 0},\n    {value:'volcano', name:'Volcano',total_cost: 0},\n    {value:'coastal', name:'Coastal Hazards',total_cost: 0}\n]\nlet years = []\nconst start_year = 1953\nconst end_year = 2020\nfor(let i = start_year; i <= end_year; i++) {\n    years.push(i)\n}\n\nclass FemaDisastersStackedBarGraph extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            isLoading : true\n        }\n    }\n\n    componentDidUpdate(oldProps){\n        if(oldProps.hazard !== this.props.hazard){\n            this.fetchFalcorDeps()\n        }\n    }\n\n\n    fetchFalcorDeps(){\n        this.setState({\n            isLoading : true\n        });\n        return this.props.falcor.get(['fema','disasters','length'])\n            .then(response =>{\n                let length = get(response.json,['fema','disasters','length'],null)\n                if(length){\n                    this.props.falcor.get(['fema','disasters','byIndex',[{from:0,to:length-1}],this.props.attributes])\n                        .then(response =>{\n                            this.setState({\n                                isLoading : false\n                            })\n                            return response\n                        })\n\n                }else { return Promise.resolve({}) }\n            })\n    }\n\n    transformData(){\n        let graph = get(this.props.falcorCache,['fema','disasters','byId'],null)\n        let graph_data = []\n\n        if(graph) {\n            graph_data = years.reduce((a, year) => {\n                a.push({\n                    'year': year.toString(),\n                })\n                return a\n            }, [])\n            graph_data.forEach(d =>{\n                hazards.forEach(hazard =>{\n                    d[hazard.value] = 0\n                })\n            })\n            graph_data.forEach(d =>{\n                hazards.forEach(hazard =>{\n                    Object.values(graph).filter(d => d !== '$__path').forEach(item =>{\n                        if(item.year && get(item,['year','value'],0).toString() === d.year && get(item,['disaster_type','value'],'') === hazard.value){\n                            d[hazard.value] += parseFloat(get(item,['total_cost','value'],0))\n                        }\n                    })\n                })\n            })\n        }\n        return graph_data\n    }\n\n    calculateCountDisastersByYear (){\n        let graph = get(this.props.falcorCache,['fema','disasters','byId'],null)\n        let graph_data = []\n\n        if(graph) {\n            graph_data = years.reduce((a, year) => {\n                a.push({\n                    'year': year.toString(),\n                    'count' : 0\n                })\n                return a\n            }, [])\n            graph_data.forEach(d =>{\n                let count = 0\n                Object.values(graph).filter(d => d !== '$__path').forEach(item =>{\n                    if(item.year && get(item,['year','value'],0).toString() === d.year){\n                        count += 1\n                        d['count'] = count.toString()\n                    }\n                })\n            })\n        }\n        return graph_data\n    }\n\n    render(){\n        let data = this.props.type === 'disasters' ? this.transformData() : this.calculateCountDisastersByYear()\n        if(!this.state.isLoading){\n            return(\n                <div style={ { width: \"100%\", height: this.props.height ? this.props.height : \"300px\" } }>\n                    <ResponsiveBar\n                        data={data}\n                        keys={this.props.type ==='disasters' ? hazards.map(d => d.value) : ['count']}\n                        indexBy=\"year\"\n                        margin={{ top: 60, right: 80, bottom: 70, left: 80 }}\n                        padding={0.2}\n                        colors={this.props.type ==='disasters' ? (d) => hazardcolors[d.id] : {\"scheme\":\"nivo\"}}\n                        groupMode={this.props.type ==='disasters' ? 'stacked' : null}\n                        enableLabel={false}\n                        enableGridX={false}\n                        enableGridY= {false}\n                        axisBottom={{\n                            tickSize: 5,\n                            tickPadding: 5,\n                            tickRotation: -60,\n                            legend: 'year',\n                            legendPosition: 'middle',\n                            legendOffset: 45\n                        }}\n                        axisLeft={{\n                            tickSize: 5,\n                            tickPadding: 5,\n                            tickRotation: 0,\n                            legend: this.props.type ==='disasters' ? 'Total Cost $' : 'Total Count #',\n                            legendPosition: 'middle',\n                            legendOffset: -55,\n                            format: v => `${this.props.type ==='disasters' ? fnum(v) : fmt(v)}`\n                        }}\n                        labelSkipWidth={12}\n                        labelSkipHeight={12}\n                        /*labelFormat={d=> `${fnum(d)}`}*/\n                        /*labelTextColor={{ from: 'color', modifiers: [ [ 'darker', 1.6 ] ] }}*/\n                        /*yScale={{\n                            type: 'log',\n                            base: 10,\n                            max: 'auto',\n                        }}*/\n                        /*legends={[\n                            {\n                                dataFrom: 'keys',\n                                anchor: 'bottom-right',\n                                direction: 'row',\n                                justify: false,\n                                translateX: 120,\n                                translateY: 0,\n                                itemsSpacing: 2,\n                                itemWidth: 100,\n                                itemHeight: 20,\n                                itemDirection: 'left-to-right',\n                                itemOpacity: 0.85,\n                                symbolSize: 20,\n                                effects: [\n                                    {\n                                        on: 'hover',\n                                        style: {\n                                            itemOpacity: 1\n                                        }\n                                    }\n                                ]\n                            }\n                        ]}*/\n                        animate={true}\n                        motionStiffness={90}\n                        motionDamping={15}\n                        tooltipFormat={value => `${this.props.type ==='disasters' ? fnum(value) : fmt(value)}`}\n                    />\n                </div>\n            )\n        }else{\n            return(\n                <div style={ { width: \"100%\", height: this.props.height ? this.props.height : \"300px\" } }>\n                    Loading ...\n                </div>\n            )\n        }\n\n\n    }\n}\n\nconst mapDispatchToProps = { };\n\nconst mapStateToProps = (state,ownProps) => {\n    return {\n        geoid:ownProps.geoid,\n        censusKey:ownProps.censusKey,\n        graph: state.graph,\n        severeWeatherData : get(state.graph,['severeWeather'])\n    };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxFalcor(FemaDisastersStackedBarGraph))\n\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport { fnum } from \"utils/sheldusUtils\"\nimport hazardcolors from \"constants/hazardColors\";\n\nlet years = []\nconst start_year = 1953\nconst end_year = 2020\nfor(let i = start_year; i <= end_year; i++) {\n    years.push(i)\n}\n\nconst hazards = [\n    {value:'wind', name:'Wind'},\n    {value:'wildfire', name:'Wildfire'},\n    {value:'tsunami', name:'Tsunami/Seiche'},\n    {value:'tornado', name:'Tornado'},\n    {value:'riverine', name:'Flooding'},\n    {value:'lightning', name:'Lightning'},\n    {value:'landslide', name:'Landslide'},\n    {value:'icestorm', name:'Ice Storm'},\n    {value:'hurricane', name:'Hurricane'},\n    {value:'heatwave', name:'Heat Wave'},\n    {value:'hail', name:'Hail'},\n    {value:'earthquake', name:'Earthquake'},\n    {value:'drought', name:'Drought'},\n    {value:'avalanche', name:'Avalanche'},\n    {value:'coldwave', name:'Coldwave'},\n    {value:'winterweat', name:'Snow Storm'},\n    {value:'volcano', name:'Volcano'},\n    {value:'coastal', name:'Coastal Hazards'}\n]\n\nconst FEMA_COUNTY_ATTRIBUTES =[\n    'ia_ihp_amount',\n    'ia_ihp_count',\n    'pa_project_amount',\n    'pa_federal_share_obligated',\n    'hma_prop_actual_amount_paid',\n    'hma_prop_number_of_properties',\n    'hma_proj_project_amount',\n    'hma_proj_project_amount_count',\n    'hma_proj_federal_share_obligated',\n    'hma_proj_federal_share_obligated_count',\n    'total_cost',\n    \"total_disasters\"\n];\n\nclass FemaDisastersCombinedHazardListTable extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            hazards: hazards.reduce((a,c) =>{\n                a.push(c.value)\n                return a\n            },[]),\n\n            currentHazard :'',\n            isLoading : true\n        }\n\n    }\n\n    componentDidUpdate(oldProps){\n        if(this.props.year !== oldProps.year){\n            this.fetchFalcorDeps()\n        }\n    }\n\n    fetchFalcorDeps(){\n\n\n        this.setState({\n            isLoading : true\n        });\n\n        return this.props.falcor.get(['fema','disasters','length'])\n            .then(response =>{\n                let length = get(response.json,['fema','disasters','length'],null)\n                let result = {}\n                if(length){\n                    this.props.falcor.get(['fema','disasters','byIndex',[{from:0,to:length-1}],this.props.attributes])\n                        .then( async response =>{\n                            this.setState({\n                                isLoading : false\n                            })\n                            console.time(\"result\")\n                            result = await this.props.falcor.get(['fema','disasters',[\"\"],this.state.hazards,[this.props.year],FEMA_COUNTY_ATTRIBUTES])\n                            console.timeEnd(\"result\")\n                            return response\n                        })\n\n                return result\n                }else { return Promise.resolve({}) }\n\n            })\n\n    }\n\n    processByIdData(){\n        let graph_data = []\n        let graph = get(this.props.falcorCache,['fema','disasters','byId'],null)\n        if(graph) {\n            graph_data = hazards.reduce((a, c) => {\n                a.push({\n                    'hazard': c.value,\n                    'count' : 0\n                })\n                return a\n            }, [])\n            graph_data.forEach(d =>{\n                let sum = 0\n                Object.values(graph).filter(d => d !== '$__path').forEach(item =>{\n                    if(this.props.year === 'allTime') {\n                        if(get(item,['disaster_type','value'],'').toString() === d.hazard) {\n                            sum += +get(item,['total_cost','value'],0)\n                            d['total_cost_summaries'] = sum\n                        }\n                    }else{\n                        if(get(item,['disaster_type','value'],'').toString() === d.hazard && get(item,['year','value'],'').toString() === this.props.year.toString()){\n                            sum += +get(item,['total_cost','value'],0)\n                            d['total_cost_summaries'] = sum\n                        }\n                    }\n\n                })\n            })\n        }\n\n        return graph_data\n    }\n\n    processFemaCountyData(){\n        let graph = get(this.props.falcorCache,['fema','disasters',this.props.geoid],null)\n        let data = []\n        let header_columns = [\"name\",\"value\",\"total_cost\",\"total_cost_summaries\"]\n        let declarationsData = this.processByIdData()\n        if(graph){\n            data = Object.keys(graph).map(hazard =>{\n                return header_columns.reduce((a,header) =>{\n                    hazards.forEach(item =>{\n                        if(item.value === hazard){\n                            if (header === 'name' || header === 'value') {\n                                a[header] = item[header]\n                            }\n                            else{\n                                a[header] = get(graph,[item.value,this.props.year,header,'value'],0)\n                            }\n                        }\n                    })\n                    return a\n                },{})\n\n            })\n            declarationsData.forEach(dd =>{\n                data.forEach(d =>{\n                    if(d.value === dd.hazard){\n                        d['total_cost_summaries'] = dd.total_cost_summaries || 0\n                    }\n                })\n            })\n        }\n\n        return data\n    }\n\n    render(){\n        let combineData = this.processFemaCountyData()\n        return(\n            <div className=\"align-middle inline-block min-w-full overflow-hidden\"\n                 key={0}>\n                <table className=\"min-w-full\">\n                    <thead>\n                    <tr>\n                        <th className=\"px-3  py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase \">\n                            Hazard\n                        </th>\n                        <th className=\"px-3 text-right py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase \"\n\n                        >\n                            $ Total Cost - {this.props.year}\n                        </th>\n                        <th className=\"px-3 text-right py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase \"\n\n                        >\n                            $ Total Cost Summaries - {this.props.year}\n                        </th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {\n                            combineData.sort((a,b) => b['total_cost'] - a['total_cost'])\n                            .map((hazard,i) =>{\n                                return (\n                                    <tr className={`bg-white  ${this.props.activeHazard === hazard.value ? 'border-b-4 border-blue-300' : 'border-b border-gray-200' }` }\n                                        key={i} id={hazard.value}>\n                                        <td style={{backgroundColor:hazardcolors[hazard.value]}} className=\"px-4 py-2 whitespace-no-wrap text-sm leading-5 font-medium text-gray-100\" key={i}>\n                                            <div\n                                                className=\"hover:text-blue-100 cursor-pointer\"\n\n                                                onClick={(e) =>{\n                                                    e.persist()\n                                                    if(this.state.currentHazard !== hazard.value){\n                                                        this.props.setHazard(hazard.value)\n                                                        this.setState({\n                                                            currentHazard : hazard.value\n                                                        })\n                                                    }else{\n                                                        this.props.setHazard(null)\n                                                    }\n                                                }}\n                                            >\n                                                {hazard.name}\n                                            </div>\n                                        </td>\n                                        <td>\n                                            {fnum(hazard.total_cost)}\n                                        </td>\n                                        <td>\n                                            {fnum(hazard.total_cost_summaries)}\n                                        </td>\n                                    </tr>\n                                )\n                            })\n\n                    }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}\n\nconst mapDispatchToProps = { };\n\nconst mapStateToProps = (state,ownProps) => {\n    return {\n        activeStateGeoid : state.user.activeStateGeoid,\n        geoid:ownProps.geoid,\n        censusKey:ownProps.censusKey,\n        graph: state.graph,\n        severeWeatherData : get(state.graph,['severeWeather'])\n    };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxFalcor(FemaDisastersCombinedHazardListTable))\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport { fnum } from \"utils/sheldusUtils\"\nimport * as d3 from \"d3\";\nimport {Table, TopNav} from \"@availabs/avl-components\";\nimport FemaDisastersStackedBarGraph from \"./components/femaDisastersStackedBarGraph\";\nimport FemaDisastersCombinedHazardListTable from \"./components/femaDisastersCombinedHazardListTable\";\nimport FemaDisastersCombinedEventsLayerFactory from './layers/femaDisastersCombinedTotalCostEventsLayer'\nimport {Link} from 'react-router-dom';\nimport {Select} from \"@availabs/avl-components\";\nimport AvlMap from \"../../components/AvlMap\";\nimport {setActiveStateGeoid} from \"store/modules/stormEvents\";\nimport {shmp} from 'pages/components/shmp-theme.js'\nimport {withRouter} from \"react-router\";\n\nvar format =  d3.format(\".2s\")\nvar _ = require('lodash')\nconst fmt = (d) => d < 1000 ? d : format(d)\nlet years = []\nconst start_year = 1953\nconst end_year = 2020\nfor(let i = start_year; i <= end_year; i++) {\n    years.push(i)\n}\nconst attributes=[\n    \"disaster_number\",\n    \"name\",\n    \"declaration_date\",\n    \"total_cost\",\n    \"disaster_type\",\n    \"total_number_ia_approved\",\n    'total_amount_ihp_approved',\n    'total_amount_ha_approved',\n    \"total_amount_ona_approved\",\n    'total_obligated_amount_pa',\n    'total_obligated_amount_cat_ab',\n    'total_obligated_amount_cat_c2g',\n    'pa_load_date',\n    'ia_load_date',\n    'total_obligated_amount_hmgp',\n    'last_refresh'\n]\nconst tableCols = [\n    {\n        Header: 'Disaster Number',\n        accessor: 'disaster_number',\n        Cell: (data) => {\n            return (\n                <div style={{cursor: 'pointer'}}>\n                    <Link to={`/fema_disasters/disaster/${data.row.original.disaster_number}`}>{data.row.original.disaster_number}</Link>\n                </div>\n            )\n        }\n    },\n    {\n        Header : 'Disaster Name',\n        accessor: 'name'\n    },\n    {\n        Header : 'Declaration Date',\n        accessor: 'declaration_date',\n        disableFilters: true,\n        Cell: (data) => {\n            return <div style = {{ textAlign: 'center'}}>{new Date(get(data,'row.values.declaration_date', '')).toLocaleDateString('en-US')}</div>\n        }\n    },\n    {\n        Header: 'Total Amount IHP Approved',\n        accessor: 'total_amount_ihp_approved',\n        disableFilters: true,\n        Cell: (data) => {\n            return <div style = {{ textAlign: 'right'}}>{fnum(get(data,'row.values.total_amount_ihp_approved', ''))}</div>\n        }\n    },\n    {\n        Header : 'Total Obligated Amount PA',\n        accessor: 'total_obligated_amount_pa',\n        disableFilters: true,\n        Cell: (data) => {\n            return <div style = {{ textAlign: 'right'}}>{fnum(get(data,'row.values.total_obligated_amount_pa', ''))}</div>\n        }\n    },\n    {\n        Header:'Total Obligated Amount HGMP',\n        accessor: 'total_obligated_amount_hmgp',\n        disableFilters: true,\n        Cell: (data) => {\n            return <div style = {{ textAlign: 'right'}}>{fnum(get(data,'row.values.total_obligated_amount_hmgp', ''))}</div>\n        }\n    },\n    {\n        Header:'Total Cost',\n        accessor: 'total_cost',\n        disableFilters: true,\n        Cell: (data) => {\n            return <div style = {{ textAlign: 'right'}}>{fnum(get(data,'row.values.total_cost', ''))}</div>\n        }\n    },\n];\nlet stat_boxes = [\n    {name:'# IA Approved',value:'total_number_ia_approved',amount:0},\n    {name:'$ IHP Approved',value:'total_amount_ihp_approved',amount:0},\n    {name:'$ ONA Approved',value:'total_amount_ona_approved',amount:0},\n    {name:'$ Obligated PA',value:'total_obligated_amount_pa',amount:0},\n    {name:'$ Obligated CAT AB',value:'total_obligated_amount_cat_ab',amount:0},\n    {name:'$ Obligate CAT C2G',value:'total_obligated_amount_cat_c2g',amount:0},\n    {name:'$ Obligated HMGP',value:'total_obligated_amount_hmgp',amount:0},\n    {name:'Total Funds',value:'total_funds'}\n]\nlet total_funds = 0\nclass FemaDisasters extends React.Component {\n    FemaCombinedEventsLayer = FemaDisastersCombinedEventsLayerFactory({active:true})\n    constructor(props) {\n        super(props);\n        this.state= {\n            select: {\n                domain: [...years, 'allTime'],\n                value: []\n            },\n            hazard: 'riverine',\n            year: 'allTime',\n        }\n        this.handleChange = this.handleChange.bind(this)\n    }\n\n    setHazard = (hazard) =>{\n        if (this.state.hazard !== hazard) {\n            this.setState({hazard})\n        }\n    }\n\n    setYear = (year) => {\n        if (this.state.year !== year) {\n            this.setState({year})\n        }\n    }\n\n    handleChange(e) {\n        this.setState({ year: e })\n    }\n\n    fetchFalcorDeps() {\n        return this.props.falcor.get(['fema','disasters','length'])\n            .then(response =>{\n                let length = get(response.json,['fema','disasters','length'],null)\n                if(length){\n                    this.props.falcor.get(['fema','disasters','byIndex',[{from:0,to:length-1}],attributes])\n                        .then(response =>{\n                            return response\n                        })\n\n                }else { return Promise.resolve({}) }\n            })\n    }\n\n    processData(){\n        if(Object.keys(this.props.falcorCache).length > 0){\n            let graph = get(this.props.falcorCache,['fema','disasters','byId'],{})\n            let data = []\n            Object.keys(graph).filter(d => d!=='$__path').forEach(item =>{\n                data.push(\n                    attributes.reduce((out,attribute) =>{\n                    if(graph[item][attribute]){\n                        out[attribute] =  graph[item][attribute].value\n                    }\n                    return out\n                },{}))\n\n                stat_boxes.forEach(d =>{\n                    if(d && d.value !== 'total_funds'){\n                        d.amount += get(graph,[item,d.value,'value'],0) ? parseFloat(get(graph,[item,d.value,'value'],0)) : 0\n                    }\n                })\n                total_funds = stat_boxes.reduce((a,c) =>{\n                    if(c.value !== 'total_funds'){\n                        a += c.amount\n                    }\n                    return a\n                },0)\n            })\n            return _.filter(data,v => _.keys(v).length !== 0)\n        }\n    }\n\n    render() {\n        let data = this.processData();\n        let navItems = [\n            {\n                name: 'By Hazard',\n                id: 1,\n                path: `/maps/fema`, // d.data['url-slug'],\n                sectionClass: 'mb-4',\n                itemClass: 'font-bold',\n                children: [],\n                rest: {}\n            },\n            {\n                name: 'By Disaster Number',\n                id: 2,\n                path: `/fema_disasters`, // d.data['url-slug'],\n                sectionClass: 'mb-4',\n                itemClass: 'font-bold',\n                children: [],\n                rest: {}\n            }\n\n        ]\n        return (\n            <div className=\"flex flex-col lg:flex-row h-screen box-border w-full -mt-4 fixed overflow-auto\">\n                <div className='w-full fixed bg-white m-0'>\n                    {this.props.match.params.datatype === 'fema' || this.props.match.path === '/fema_disasters'?\n                        <TopNav\n                            menuItems={navItems}\n                            customTheme={{\n                                sidebarBg: 'bg-white',\n                                topNavHeight: 'h-12' ,\n                                navitemTop: 'px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-gray-800 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out',\n                                navitemTopActive: 'px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-blue-500 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out'\n                            }}\n                        /> :null}\n                </div>\n                <div className=\"container max-w-7xl mx-auto h-auto \">\n                    <div className=\"mt-10 grid grid-cols-8 gap-5 sm:grid-cols-8 py-5\">\n                        {stat_boxes.map((stat_box,i) =>{\n                            return(\n                                <div className=\"bg-white shadow rounded-lg\"  key={i}>\n                                    <div className=\"px-4 py-5 sm:p-6\">\n                                        <dl>\n                                            <dt className=\"text-sm leading-5 font-medium text-gray-500 break-words\">\n                                                {stat_box.name}\n                                            </dt>\n                                            <dd className=\"mt-1 text-3xl leading-9 font-semibold text-gray-900\">\n                                                {stat_box.value !== 'total_funds' ? stat_box.value.includes('number')? fmt(stat_box.amount) :fnum(stat_box.amount): fnum(total_funds)}\n                                            </dd>\n                                        </dl>\n                                    </div>\n                                </div>\n                            )\n                        })}\n                    </div>\n                    <div>\n                        {data && data.length > 0 ?\n                            <Table\n                                defaultPageSize={10}\n                                showPagination={false}\n                                columns={tableCols}\n                                data={data}\n                                initialPageSize={10}\n                                minRows={data.length}\n                                sortBy={'last_refresh'}\n                                sortOrder={'desc'}\n                            />\n                            :\n                            <div>\n                                Loading ....\n                            </div>\n                        }\n\n                    </div>\n                    <div>\n                        <FemaDisastersStackedBarGraph\n                            attributes={[\n                                \"name\",\n                                \"year\",\n                                \"total_cost\",\n                                \"disaster_type\"\n                            ]}\n                            type={'disasters'}\n                        />\n                    </div>\n                    <div>\n                        <FemaDisastersStackedBarGraph\n                            attributes={[\n                                \"name\",\n                                \"year\",\n                                \"total_cost\",\n                                \"disaster_type\"\n                            ]}\n                            type={'count'}\n                        />\n                    </div>\n                </div>\n               {/* <div className='flex flex-col lg:flex-row h-screen box-border overflow-hidden'>\n                    <div className='flex-auto h-full order-last lg:order-none overflow-hidden'>\n                        <div className='h-full'>\n                            <AvlMap\n                                layers={[\n                                    this.FemaCombinedEventsLayer\n                                ]}\n                                height={'90%'}\n                                center={[0, 0]}\n                                zoom={4}\n                                year={2018}\n                                //hazards={this.props.hazards}\n                                fips={''}\n                                styles={[\n                                    {name: 'Blank', style: 'mapbox://styles/am3081/ckaml4r1e1uip1ipgtx5vm9zk'}\n                                ]}\n                                sidebar={false}\n                                attributes={false}\n                                layerProps={{\n                                    [this.FemaCombinedEventsLayer.name]: {\n                                        year: this.state.year,\n                                        hazard : this.state.hazard,\n                                        fips : this.props.activeStateGeoid.length > 0 ? this.props.activeStateGeoid.map(d => d.state_fips) : null,\n                                        geography : this.state.geography_filter\n                                    }\n                                }}\n                            />\n                        </div>\n                    </div>\n                    <div className='h-56 lg:h-auto lg:w-1/4 p-2 lg:min-w-64 overflow-auto'>\n                        {\n                            this.props.activeStateGeoid.length > 0 && this.props.activeStateGeoid[0].state_fips !== \"\" ?\n                                <div>\n                                    <div id={`closeMe`} className=\"bg-white border border-blue-500 font-bold text-lg px-4 py-3 rounded relative\">\n                                        <span className=\"block sm:inline\">{this.props.activeStateGeoid.map(d => d.state_fips)}-{this.props.activeStateGeoid.map(d => d.state_name)}</span>\n                                        <span className=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\n                                        <svg className=\"fill-current h-6 w-6 text-blue-500\"\n                                             role=\"button\"\n                                             xmlns=\"http://www.w3.org/2000/svg\"\n                                             viewBox=\"0 0 20 20\"\n                                             onClick={(e) =>{\n                                                 e.target.closest(`#closeMe`).style.display = 'none'\n                                                 this.props.setActiveStateGeoid([{state_fips:\"\",state_name:\"\"}])\n                                                 window.history.pushState({state : '1'},\"state\",\"/stormevents/\")\n                                             }}>\n                                            <title>Close</title>\n                                            <path d=\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\"/>\n                                        </svg>\n                                    </span>\n                                    </div>\n                                </div>\n                                :null\n                        }\n                        <div className='text-3xl'>\n                            <Select\n                                multi={false}\n                                placeholder={\"Select a year..\"}\n                                domain={this.state.select.domain}\n                                value={this.state.year}\n                                onChange={this.handleChange}\n                            />\n                        </div>\n                        <FemaDisastersCombinedHazardListTable\n                            geoid = {[\"\"]}\n                            year = {this.state.year}\n                            hazard = {['riverine']}\n                            attributes={[\n                                \"name\",\n                                \"year\",\n                                \"total_cost\",\n                                \"disaster_type\"\n                            ]}\n                            setHazard={this.setHazard.bind(this)}\n                            activeHazard={this.state.hazard}\n                        />\n\n                    </div>\n                </div>*/}\n\n            </div>\n\n\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n        activeStateGeoid : state.stormEvents.activeStateGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', [])\n    };\n};\n\nconst mapDispatchToProps = {\n    setActiveStateGeoid\n};\nconst ConnectedComponent = connect(mapStateToProps, mapDispatchToProps)(reduxFalcor(FemaDisasters))\nexport default [\n    {\n        path: '/fema_disasters',\n        mainNav: false,\n        exact: true,\n        name: 'FEMA Disasters',\n        authed:false,\n        component:withRouter(ConnectedComponent),\n        layoutSettings: {\n            fixed: true,\n            maxWidth: '',//'max-w-7xl',\n            headerBar: false,\n            nav: 'top',\n\n        }\n    }\n\n]\n","import React from \"react\"\nimport MapLayer from \"components/AvlMap/MapLayer\"\nimport {falcorGraph} from \"store/falcorGraphNew\"\nimport get from \"lodash.get\"\nimport hazardcolors from \"../../../constants/hazardColors\";\nimport * as d3scale from 'd3-scale'\nimport * as d3 from 'd3'\nimport { fnum } from \"utils/sheldusUtils\"\nimport * as turf from '@turf/turf'\nimport { connect } from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport {setActiveStateGeoid} from \"../../../store/modules/stormEvents\";\n\n\nvar format =  d3.format(\"~s\")\nconst fmt = (d) => d < 1000 ? d : format(d)\nconst fips = [\"01\", \"02\", \"04\", \"05\", \"06\", \"08\", \"09\", \"10\", \"11\", \"12\", \"13\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"40\", \"41\", \"42\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \"50\", \"51\", \"53\", \"54\", \"55\", \"56\"]\nlet onLoadBounds = {}\nlet hazard = null\nlet state_fips = null\nconst FEMA_COUNTY_ATTRIBUTES =[\n    'ia_ihp_amount',\n    'ia_ihp_count',\n    'pa_project_amount',\n    'pa_federal_share_obligated',\n    'hma_prop_actual_amount_paid',\n    'hma_prop_number_of_properties',\n    'hma_proj_project_amount',\n    'hma_proj_project_amount_count',\n    'hma_proj_federal_share_obligated',\n    'hma_proj_federal_share_obligated_count',\n    'total_cost',\n    \"total_disasters\"\n];\n\nclass femaDisastersCombinedTotalCostEventsLayer extends MapLayer {\n    receiveProps(oldProps, newProps) {\n        if (this.filters.year.value !== newProps.year) {\n            this.filters.year.value = newProps.year ?\n                [newProps.year] : newProps.year ? newProps.year : null;\n        }\n        if (oldProps.hazard !== newProps.hazard) {\n            hazard = newProps.hazard\n            this.filters.hazard.value = newProps.hazard\n        }\n        if (oldProps.fips !== newProps.fips) {\n            state_fips = newProps.fips\n        }\n        if(oldProps.geography !== newProps.geography){\n            this.filters.geography.value = newProps.geography\n        }\n\n    }\n\n\n    onPropsChange(oldProps, newProps) {\n        if (this.filters.year.value !== newProps.year) {\n            this.filters.year.value = newProps.year ?\n                [newProps.year] : newProps.year ? newProps.year : null\n            this.doAction([\"fetchLayerData\"]);\n        }\n        if (oldProps.hazard !== newProps.hazard) {\n            hazard = newProps.hazard\n            this.filters.hazard.value = newProps.hazard || 'riverine'\n            this.doAction([\"fetchLayerData\"]);\n        }\n        if(oldProps.fips !== newProps.fips){\n            state_fips = newProps.fips\n            this.doAction([\"fetchLayerData\"]);\n        }\n        if(oldProps.geography !== newProps.geography){\n            this.filters.geography.value = newProps.geography\n            this.doAction([\"fetchLayerData\"]);\n        }\n\n    }\n    onAdd(map) {\n        this.map = map\n\n        falcorGraph.get(\n            ['geo', fips,'counties', 'geoid'],\n        )\n            .then(response => {\n                this.filtered_geographies = Object.values(response.json.geo)\n                    .reduce((out, state) => {\n                        if (state.counties) {\n                            out = [...out, ...state.counties]\n                        }\n                        return out\n                    }, [])\n                onLoadBounds = map.getBounds()\n                this.fetchData().then(d => this.render(this.map))\n            })\n\n    }\n\n    fetchData(){\n        if (this.filtered_geographies.length === 0) {\n            return Promise.resolve()\n        }\n        if (hazard) {\n            this.filters.hazard.value = hazard\n        }\n        let geo_fips = state_fips && !state_fips.includes(\"\") ? state_fips : fips\n        let geography = state_fips && !state_fips.includes(\"\") ? this.filters.geography.value : 'counties'\n        return falcorGraph.get(['geo',geo_fips,geography,'geoid'])\n            .then(response =>{\n                this.filtered_geographies = Object.values(response.json.geo)\n                    .reduce((out, state) => {\n                        if (state[geography]) {\n                            out = [...out, ...state[geography]]\n                        }\n                        return out\n                    }, [])\n                if(this.filtered_geographies.length > 0){\n                    console.time('response')\n                    return falcorGraph.get(['fema','disasters',this.filtered_geographies,this.filters.hazard.value,this.filters.year.value,FEMA_COUNTY_ATTRIBUTES])\n                        .then(response =>{\n                            console.timeEnd('response')\n                            return response\n                        })\n                }\n            })\n\n    }\n\n    render(map){\n        let data = get(falcorGraph.getCache(),['fema','disasters'],{})\n        let hazard = this.filters.hazard.value\n        let year = this.filters.year.value\n        let measure = 'total_cost'\n        let geography = state_fips && !state_fips.includes(\"\") ? this.filters.geography.value : 'counties'\n        let lossByFilteredGeoids = Object.keys(data)\n            .reduce((a,c) =>{\n                if(this.filtered_geographies){\n                    this.filtered_geographies.filter(d => d !== '$__path').forEach(geo =>{\n                        if(geo === c && get(data[c], `${hazard}.${year}.${measure}.value`, false)){\n                            a[c] = get(data[c], `${hazard}.${year}.${measure}.value`, false)\n                        }\n                    })\n                }\n                return a\n            },{})\n        //let lossDomain = Object.values(lossByFilteredGeoids).sort((a, b) => a - b)\n\n        /*let domain = [0, d3.quantile(lossDomain, 0), d3.quantile(lossDomain, 0.25), d3.quantile(lossDomain, 0.5),\n            d3.quantile(lossDomain, 0.75), d3.quantile(lossDomain, 1)]*/\n        let domain = [1000000,5000000,10000000,100000000,1000000000,10000000000]\n\n        let range = [\"#F1EFEF\", ...hazardcolors[this.filters.hazard.value + '_range']]\n\n        this.legend.domain = domain\n        this.legend.range = range\n        let colorScale = d3scale.scaleThreshold()\n            .domain(domain)\n            .range(\n                range //[\"#f2efe9\", \"#fadaa6\", \"#f7c475\", \"#f09a10\", \"#cf4010\"]\n            )\n        let colors = Object.keys(lossByFilteredGeoids)\n            .reduce((a, c) => {\n                a[c] = colorScale(lossByFilteredGeoids[c])\n                return a\n            }, {})\n        if(geography === \"counties\" && Object.keys(lossByFilteredGeoids).length > 0){\n            /*map.setLayoutProperty('cousubs', 'visibility', 'none');\n            map.setLayoutProperty('tracts', 'visibility', 'none');*/\n            map.setLayoutProperty('counties', 'visibility', 'visible');\n            map.setFilter('counties', [\"all\", [\"match\", [\"get\", \"county_fips\"],this.filtered_geographies, true, false]])\n            map.setPaintProperty(\n                'counties',\n                'fill-color',\n                ['case',\n                    [\"has\", [\"to-string\", [\"get\", 'county_fips']], [\"literal\", colors]],\n                    [\"get\", [\"to-string\", [\"get\", 'county_fips']], [\"literal\", colors]],\n                    \"hsl(0, 3%, 94%)\"\n                ]\n            )\n        }\n        map.on('click',(e, layer)=> {\n            let relatedFeatures = map.queryRenderedFeatures(e.point, {\n                layers: ['states']\n            });\n            if(relatedFeatures[0]){\n                let state_fips = relatedFeatures.reduce((a, c) => {\n                    a = c.properties.state_fips\n\n                    return a\n                }, '')\n                let state_name = relatedFeatures.reduce((a, c) => {\n                    a = c.properties.state_name\n                    return a\n                }, '')\n                this.state_fips = state_fips\n                this.state_name = state_name\n                this.infoBoxes.overview.show = true\n                map.setFilter(\"states\",[\"all\",\n                    [\"match\", [\"get\", \"state_fips\"],[state_fips],true,false]\n                ])\n                map.setFilter('counties', [\"all\", [\"match\", [\"get\", \"county_fips\"],this.filtered_geographies, true, false]])\n                map.fitBounds(turf.bbox(relatedFeatures[0].geometry))\n                this.forceUpdate()\n            }\n        })\n        if(state_fips && state_fips.includes(\"\")){\n            this.state_fips = \"\"\n            this.state_name = \"\"\n            map.setFilter('states',undefined)\n            /*map.setLayoutProperty('cousubs', 'visibility', 'none');\n            map.setLayoutProperty('tracts', 'visibility', 'none');*/\n            map.setLayoutProperty('counties', 'visibility', 'visible');\n            map.setPaintProperty(\n                'counties',\n                'fill-color',\n                ['case',\n                    [\"has\", [\"to-string\", [\"get\", 'county_fips']], [\"literal\", colors]],\n                    [\"get\", [\"to-string\", [\"get\", 'county_fips']], [\"literal\", colors]],\n                    \"hsl(0, 3%, 94%)\"\n                ]\n            );\n            map.fitBounds(onLoadBounds)\n            this.forceUpdate()\n        }\n    }\n}\n\nexport default (props = {}) =>\n    new femaDisastersCombinedTotalCostEventsLayer(\"Fema Disasters Combined Events\", {\n        ...props,\n        selectedStations: new Map(),\n        stationFeatures: [],\n        popover: {\n            layers: [\"states\",\"counties\"],\n            pinned:false,\n            dataFunc: function (d) {\n                const {properties} = d\n                let graph = get(falcorGraph.getCache(),['fema','disasters'],{})\n                let fips = null\n                let fips_name = ''\n                let total_cost = 0\n                let total_disasters = 0\n                if(state_fips){\n                    if(!state_fips.includes(\"\")){\n                        if(this.filters.geography.value === 'counties'){\n                            fips = properties.county_fips ? properties.county_fips : ''\n                            fips_name = properties.county_name ? properties.county_name : ''\n                        }else{\n                            fips = properties.geoid ? properties.geoid : ''\n                            fips_name = ''\n                        }\n                    }else{\n                        fips = properties.state_fips ? properties.state_fips : ''\n                        fips_name = properties.state_name ? properties.state_name : ''\n                    }\n                }else{\n                    fips = properties.state_fips ? properties.state_fips : ''\n                    fips_name = properties.state_name ? properties.state_name : ''\n                }\n                if(fips.length > 2){\n                    total_cost = Object.keys(graph).reduce((a,c) =>{\n                        if(c === fips){\n                            a += parseFloat(get(graph,[fips,this.filters.hazard.value,this.filters.year.value,'total_cost','value'],0))\n                        }\n                        return a\n                    },0)\n                    total_disasters = Object.keys(graph).reduce((a,c) =>{\n                        if(c === fips){\n                            a += parseFloat(get(graph,[fips,this.filters.hazard.value,this.filters.year.value,'total_disasters','value'],0))\n                        }\n                        return a\n                    },0)\n                }else{\n                    total_cost = Object.keys(graph).reduce((a,c) =>{\n                        if(c.slice(0,2) === fips){\n                            a += parseFloat(get(graph,[c,this.filters.hazard.value,this.filters.year.value,'total_cost','value'],0))\n                        }\n                        return a\n                    },0)\n                    total_disasters = Object.keys(graph).reduce((a,c) =>{\n                        if(c.slice(0,2) === fips){\n                            a += parseFloat(get(graph,[c,this.filters.hazard.value,this.filters.year.value,'total_disasters','value'],0))\n                        }\n                        return a\n                    },0)\n                }\n                return [\n                    [   (<div className='text-lg text-bold bg-white'>\n                        {fips_name !== '' ? fips_name : get(falcorGraph.getCache(),['geo',fips,'name'],'')} - {this.filters.year.value}\n                        </div>)\n                    ],\n                    [   (<div className='text-sm bg-white'>\n                        $ Total Cost: {fnum(total_cost)}\n                        </div>)\n                    ],\n                    [\n                        (<div className='text-sm bg-white'>\n                            # Episodes : {fmt(total_disasters)}\n                        </div>)\n                    ]\n                ]\n            }\n        },\n        showAttributesModal: false,\n        legend: {\n            title: 'Total Damage',\n            type: \"threshold\",\n            types: [\"threshold\", \"quantile\", \"quantize\",\"linear\"],\n            vertical: false,\n            range: [],\n            active: false,\n            domain: [],\n\n        },\n        sources: [\n            {\n                id: \"composite\",\n                source: {\n                    \"url\": \"mapbox://lobenichou.albersusa,lobenichou.albersusa-points\",\n                    \"type\": \"vector\"\n                }\n            },\n            {\n                id: \"albersusa\",\n                source: {\n                    \"url\": \"mapbox://lobenichou.albersusa\",\n                    \"type\": \"vector\"\n                }\n            },\n            {\n                id:'albersusa_cousubs',\n                source:{\n                    \"url\":\"mapbox://am3081.8xwbxcmy\",\n                    \"type\":\"vector\"\n                }\n            },\n            {\n                id:'albersusa_tracts',\n                source:{\n                    \"url\":\"mapbox://am3081.2n3as7pn\",\n                    \"type\":\"vector\"\n                }\n            }\n\n        ],\n        filters: {\n            'year': {\n                type: 'dropdown',\n                value: 'allTime',\n                domain: [ 'allTime']\n            },\n            'hazard': {\n                type: 'dropdown',\n                value: 'riverine',\n                domain: []\n            },\n            'geography':{\n                type:'dropdown',\n                value : 'counties',\n                domain : []\n            }\n        },\n        layers: [\n            {\n                \"id\": \"counties\",\n                \"type\": \"fill\",\n                \"source\": \"albersusa\",\n                \"source-layer\": \"albersusa\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"county\"], true, false],\n                \"layout\": {},\n                \"paint\": {\n                    \"fill-color\": \"hsl(0, 3%, 94%)\",\n                    \"fill-opacity\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        0,\n                        1\n                    ],\n                    \"fill-outline-color\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        \"hsl(0, 4%, 85%)\",\n                        \"hsl(0, 4%, 85%)\"\n                    ],\n                }\n            },\n            {\n                \"id\": \"states\",\n                \"type\": \"fill\",\n                \"source\": \"albersusa\",\n                \"source-layer\": \"albersusa\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"state\"], true, false],\n                \"layout\": {\n                },\n                \"paint\": {\n                    \"fill-color\": \"rgba(0,0,0,0)\",\n                }\n            },\n            {\n                \"id\": \"state-boundaries\",\n                \"type\": \"line\",\n                \"source\": \"composite\",\n                \"source-layer\": \"albersusa\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"state\"], true, false],\n                \"layout\": {},\n                \"paint\": {\"line-color\": \"hsl(0, 0%, 34%)\", \"line-width\": 0.5}\n            },\n            {\n                \"id\": \"county-points\",\n                \"type\": \"symbol\",\n                \"source\": \"composite\",\n                \"source-layer\": \"albersusa-points\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"county\"], true, false],\n                \"layout\": {\n                    \"text-field\": [\"to-string\", [\"get\", \"county_fips\"]],\n                    \"text-font\": [\"Overpass Mono Bold\", \"Arial Unicode MS Regular\"],\n                    \"visibility\": \"none\"\n                },\n                \"paint\": {\n                    \"text-color\": \"hsl(0, 0%, 100%)\",\n                    \"text-halo-color\": \"hsl(0, 0%, 6%)\",\n                    \"text-halo-width\": 1,\n                    \"text-opacity\": [\"step\", [\"zoom\"], 0, 6, 1]\n                }\n            },\n            {\n                \"id\": \"state-points\",\n                \"type\": \"symbol\",\n                \"source\": \"composite\",\n                \"source-layer\": \"albersusa-points\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"state\"], true, false],\n                \"layout\": {\n                    \"text-field\": [\"to-string\", [\"get\", \"state_abbrev\"]],\n                    \"text-font\": [\"Overpass Mono Bold\", \"Arial Unicode MS Regular\"],\n                },\n                \"paint\": {\n                    \"text-color\": \"hsl(0, 0%, 0%)\",\n                    \"text-opacity\": [\"step\", [\"zoom\"], 1, 6, 0],\n                    \"text-halo-color\": \"hsl(0, 0%, 100%)\",\n                    \"text-halo-width\": 1\n                }\n            }\n        ],\n        infoBoxes:{\n            overview:{\n                title:\"\",\n                comp:(props)  =>{\n                    return (\n                        <ControlBase\n                            layer={props}\n                            state_fips = {props.layer.state_fips}\n                            state_name = {props.layer.state_name}\n                        />\n                    )\n                },\n                show:true\n            }\n        },\n        state_fips: null,\n        state_name : null,\n\n    })\n\nclass NationalLandingControlBase extends React.Component{\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            current_state_name : props.state_name,\n            current_state_fips : props.state_fips\n        }\n    }\n\n    componentDidUpdate(prevProps){\n        if(this.props.state_fips !== prevProps.state_fips && this.props.state_name !== prevProps.state_name){\n            this.props.setActiveStateGeoid([{state_fips: this.props.state_fips,state_name:this.props.state_name}])\n        }\n\n\n    }\n\n    render(){\n        return(\n            <div>\n\n            </div>\n        )\n\n    }\n\n}\n\nconst mapStateToProps = (state, { id }) =>\n    ({\n        activeStateGeoid : state.stormEvents.activeStateGeoid\n    });\nconst mapDispatchToProps = {\n    setActiveStateGeoid,\n};\n\nconst ControlBase = connect(mapStateToProps, mapDispatchToProps)(reduxFalcor(NationalLandingControlBase))\n","\n//import {handler} from 'components/avl-components/components/Themes'\n\nconst light_base = {\n    shadow: 'shadow',\n    ySpace: 'py-4',\n    sidebarBorder: '',\n    text: 'text-gray-800',\n    textContrast: \"text-white\",\n    border: \"broder-gray-400\",\n\n    textInfo: \"text-teal-400\",\n    bgInfo: \"bg-teal-400\",\n    borderInfo: \"border-teal-400\",\n\n    textSuccess: \"text-green-400\",\n    bgSuccess: \"bg-green-400\",\n    borderSuccess: \"border-green-400\",\n\n    textDanger: \"text-red-400\",\n    bgDanger: \"bg-red-400\",\n    borderDanger: \"border-red-400\",\n\n    textWarning: \"text-yellow-400\",\n    bgWarning: \"bg-yellow-400\",\n    borderWarning: \"border-yellow-400\",\n\n    textLight: \"text-gray-400\", // <-- for text styled like placeholder but can't be selected with ::placeholder\n    // these 2 should be equal\n    placeholder: 'placeholder-gray-400',\n\n    menuIcon: 'mr-3 h-6 w-6',\n    topMenuBorder: 'border-b border-gray-200',\n    headerShadow: '',\n    navText: 'text-gray-100',\n    navitemTop: 'px-8  tracking-widest uppercase inline-flex items-center border-b-2 border-r border-transparent text-base font-medium leading-5 text-gray-600 hover:bg-white hover:text-blue-500 border-gray-200 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out',\n    navitemTopActive: 'px-8  tracking-widest uppercase inline-flex items-center  border-b-2 border-r-0 text-base font-medium leading-5 text-blue-500 bg-white focus:outline-none  sfocus:border-indigo-700 transition duration-150 ease-in-out',\n    navitemSide: 'mb-1 group flex pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out',\n    navitemSideActive: 'mb-1 group flex pl-3 pr-4 py-2border-l-4 border-indigo-500 text-base font-medium text-indigo-600 bg-indigo-100 focus:outline-none hover:text-indigo-800 focus:text-indigo-800 hover:bg-indigo-200 focus:bg-indigo-200 focus:border-indigo-700 transition duration-150 ease-in-out',\n    topNavHeight: 'h-16',\n\n\n    bg: 'bg-gray-100',\n    sidebarBg: 'bg-gray-100',\n    menuBg: 'bg-gray-100',\n    menuBgHover: 'hover:bg-gray-300',\n    menuBgActive: 'bg-teal-200',\n    menuBgActiveHover: 'hover:bg-teal-300',\n    menuText: \"text-gray-100\",\n    menuTextHover: \"hover:text-gray-700\",\n    menuTextActive: \"text-teal-500\",\n    menuTextActiveHover: \"hover:text-teal-700\",\n\n    headerBg: 'bg-gray-200',\n    headerBgHover: \"hover:bg-gray-400\",\n\n    inputBg: \"bg-white disabled:bg-gray-200 cursor-pointer focus:outline-none\",\n    inputBorder: \"rounded border-0 border-transparent hover:border-gray-300 focus:border-gray-600 disabled:border-gray-200\",\n    inputBgDisabled: \"bg-gray-200 cursor-not-allowed focus:outline-none\",\n    inputBorderDisabled: \"rounded border-2 border-gray-200 hover:border-gray-200\",\n    inputBgFocus: \"bg-white cursor-pointer focus:outline-none\",\n    inputBorderFocus: \"rounded border-2 border-transparent hover:border-gray-600 focus:border-gray-600 border-gray-600\",\n\n    textBase: \"text-base\",\n    textSmall: \"text-sm\",\n    textLarge: \"text-lg\",\n    paddingBase: \"py-1 px-2\",\n    paddingSmall: \"py-0 px-1\",\n    paddingLarge: \"py-2 px-4\",\n\n    contentBg: 'bg-white',\n\n    accent1: 'bg-gray-100',\n    accent2: 'bg-gray-300',\n    accent3: 'bg-gray-400',\n    accent4: 'bg-gray-500',\n\n    highlight1: \"bg-teal-200\",\n    highlight2: \"bg-teal-300\",\n    highlight3: \"bg-teal-400\",\n    highlight4: \"bg-teal-500\",\n\n    width: '',\n    sidebarW: '56',\n    transition: \"transition ease-in-out duration-150\",\n    button: `\n\t\tinline-flex items-center\n\t\tpx-4 py-2 border border-gray-300\n\t\ttext-sm leading-5 font-medium\n\t\trounded-md text-gray-700 bg-white\n\t\thover:text-gray-500\n\t\tfocus:outline-none focus:shadow-outline-blue focus:border-blue-300\n\t\tactive:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out\n\t\tdisabled:cursor-not-allowed`,\n    buttonPrimary: 'inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700 transition duration-150 ease-in-out disabled:cursor-not-allowed',\n\n    tableRow: 'bg-gray-100 hover:bg-gray-200 transition ease-in-out duration-150',\n    tableRowStriped: 'bg-gray-100 even:bg-gray-200 hover:bg-gray-300 transition ease-in-out duration-150',\n\n    tableCell: 'px-4 py-1 whitespace-no-wrap',\n\n    tableHeader: \"px-4 py-2 pb-1 border-b-2 border-gray-300 bg-gray-200 text-left font-medium text-gray-700 uppercase first:rounded-tl-md last:rounded-tr-md\"\n}\n\nconst button = [\n    { $default: \"rounded inline-flex items-center justify-center @transition disabled:cursor-not-allowed disabled:bg-transparent disabled:opacity-50 focus:outline-none border\" }, // <-- applied to all buttons\n    { $default: \"$button\", // <-- this is pulled from the theme during composeDefaults and overwritten\n        Primary: \"$buttonPrimary\", // <-- this is pulled from the theme during composeDefaults and overwritten\n        Success: \"$buttonSuccess\",\n        Danger: \"$buttonDanger\",\n        Info: \"$buttonInfo\"\n    },\n    { $default: \"px-4 py-1 @textBase\", // <<-- padding based on size\n        Large: \"px-6 py-2 @textLarge\",\n        Small: \"px-2 py-0 @textSmall\"\n    },\n    { Block: \"w-full\" }\n]\nconst input = [\n    { $default: \"w-full block rounded cursor-pointer disabled:cursor-not-allowed @transition @text @placeholder @inputBg @inputBorder\" },\n    { $default: \"@paddingBase @textBase\", // <<-- padding based on size\n        Large: \"@paddingLarge @textLarge\",\n        Small: \"@paddingSmall @textSmall\"\n    }\n]\nconst navitem = [\n    { $default: \"group border-transparent font-medium focus:outline-none @transition\"},\n    { Top: \"mr-4 inline-flex items-center px-1 pt-1 border-b-2 text-sm leading-5\",\n        Side: \"mb-1 flex pl-3 pr-4 py-2 border-l-4 text-bas\"\n    },\n    { $default: \"@menuBg @menuBgHover @menuText @menuTextHover\",\n        Active: \"@menuBgActive @menuBgActiveHover @menuTextActive @menuTextActiveHover\" }\n]\nconst textbutton = [\n    { $default: \"@transition inline-flex px-2 hover:font-bold disabled:font-normal disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none\" },\n    { $default: \"$textbutton\",\n        Info: \"text-teal-400 hover:text-teal-500 disabled:text-teal-400\"\n    },\n    { $default: \"text-base\",\n        Large: \"text-lg\",\n        Small: \"text-sm\"\n    },\n    { $default: \"font-normal cursor-pointer\",\n        Active: \"font-bold cursor-default\"\n    }\n]\nconst list = [\n    { $default: \"@transition rounded\"\n    },\n    {\n        $default: \"p-2 pb-0 bg-white shadow\",\n        Dragging: \"p-2 pb-0 bg-white\",\n        Item: \"py-1 px-3 bg-gray-300 mb-2 border-b\"\n    }\n]\nconst $compositions = {\n    $defaults: [\n        \"input\",\n        \"navitemTop\",\n        \"navitemTopActive\",\n        \"navitemSide\",\n        \"navitemSideActive\"\n    ], // <-- these are generated in theme during composeDefaults\n    button,\n    input,\n    navitem,\n    textbutton,\n    list\n}\nconst TEST_THEME_BASE = {\n    ...light_base,\n\n    tableInfoBar: \"bg-white\",\n    tableRow: 'bg-white hover:bg-gray-200 @transition',\n    tableRowStriped: 'bg-white even:bg-gray-100 hover:bg-gray-200 @transition',\n\n    button: \"text-gray-400 border-gray-400 hover:bg-gray-400 hover:text-white disabled:text-gray-400\",\n    buttonPrimary: \"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white disabled:text-blue-400\",\n    buttonSuccess: \"text-green-400 border-green-400 hover:bg-green-400 hover:text-white disabled:text-green-400\",\n    buttonDanger: \"text-red-400 border-red-400 hover:bg-red-400 hover:text-white disabled:text-red-400\",\n    buttonInfo: \"text-teal-400 border-teal-400 hover:bg-teal-400 hover:text-white disabled:text-teal-400\",\n\n    textbutton: \"text-gray-400 hover:text-gray-500 disabled:text-gray-400\",\n\n    $compositions\n}\n\n//export const shmp = new Proxy(TEST_THEME_BASE, handler);\n","import React  from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport config from './components/config'\nimport {withRouter} from \"react-router\";\nimport {stormEventsData} from \"./DataFetching/StormEventsDataFecthing\";\nimport {sbaData} from \"./DataFetching/SBADataFetching\";\nimport {femaDisastersData} from \"./DataFetching/FEMADisastersDataFetching\";\nimport Legend from \"./components/Legend\";\nimport hazardcolors from \"../../constants/hazardColors\";\nimport {fnumClean} from \"../../utils/sheldusUtils\";\nimport StackedBarGraph from \"../components/bar/stackedBarGraph\";\nimport SlideOver from \"./components/SlideOver\";\nimport HazardListTable from \"../components/listTable/hazardListTable\";\nimport MapsLayerFactory from \"./MapsLayer\";\nimport AvlMap from \"../../components/AvlMap\";\nimport {TopNav, useTheme} from '@availabs/avl-components'\nimport FemaDisasters from \"../fema_disasters\";\n\nclass NationalLanding extends React.Component {\n    MapsLayer = MapsLayerFactory({active: true});\n\n    constructor(props) {\n        super(props);\n        // Don't call this.setState() here!\n        this.state = {\n            layer: 'Tracts Layer',\n            year: 'allTime',\n            hazard: 'riverine',\n            select: {\n                domain: [...config['years'], 'allTime'],\n                value: []\n            },\n            geography_storm : [{name : 'County',value : 'counties'},{name:'Municipality',value:'cousubs'},{name:'Tracts',value:'tracts'}],\n            geography_sba : [{name : 'County',value : 'counties'},{name:'Zip Codes',value:'zip_codes'}],\n            geography_filter : 'counties',\n            data : [],\n            fips_value : null,\n            current_fips_name : \"us\",\n            showModal : false,\n            isLoading : true\n        };\n        this.handleChange = this.handleChange.bind(this)\n    }\n    setYear = (year) => {\n        if (this.state.year !== year) {\n            this.setState({year})\n        } else {\n            this.setYear('allTime')\n        }\n\n    }\n    setHazard = (hazard) =>{\n        if (this.state.hazard !== hazard) {\n            this.setState({hazard})\n        }\n    }\n    setGeography = (e) =>{\n        if(this.state.geography_filter !== e.target.value){\n            this.setState({ ...this.state, [e.target.id]: e.target.value })\n        }\n    }\n\n    handleChange(e) {\n        this.setState({ year: e })\n    }\n\n    componentDidUpdate(oldProps,oldState){\n        if(this.state.hazard !== oldState.hazard){\n            this.fetchFalcorDeps()\n        }\n        if(this.state.fips_value !== oldState.fips_value){\n            this.fetchFalcorDeps()\n        }\n        if(this.state.year !== oldState.year){\n            this.fetchFalcorDeps()\n        }\n        if(this.props.match.params.datatype !== oldProps.match.params.datatype){\n            this.fetchFalcorDeps()\n        }\n        if(this.state.geography_filter !== oldState.geography_filter){\n            this.fetchFalcorDeps()\n        }\n    }\n\n    fetchFalcorDeps(){\n        switch (this.props.match.params.datatype) {\n            case 'sba':\n                return sbaData('map',config[this.props.match.params.datatype].data_columns,this.state.fips_value,this.state.geography_filter,this.state.hazard,this.state.year)\n            case 'stormevents':\n                return stormEventsData('map',config[this.props.match.params.datatype].data_columns,this.state.fips_value,this.state.geography_filter,this.state.hazard,this.state.year)// \"\" is for the whole country\n            case 'fema':\n                return femaDisastersData('map',config[this.props.match.params.datatype].data_columns,this.state.fips_value,this.state.geography_filter,this.state.hazard,this.state.year)\n            default:\n                return Promise.resolve({})\n        }\n\n\n    }\n\n    processFipsDomain(){\n        const geoFipsData = get(this.props.falcorCache,['geo'],null)\n        let domain = []\n        if(geoFipsData){\n            domain = Object.keys(geoFipsData).filter(d => d!=='$__path')\n                .reduce((out, state) => {\n                    if(config.fips.includes(state)){\n                        out.push({\n                            'fips':state,\n                            'name': geoFipsData[state].name || ''\n                        })\n                    }\n                    return out\n                }, [])\n        }\n\n        return domain\n    }\n\n    render() {\n        let navItems = [\n            {\n                name: 'By Hazard',\n                id: 1,\n                path: `/maps/fema`, // d.data['url-slug'],\n                sectionClass: 'mb-4',\n                itemClass: 'font-bold',\n                children: [],\n                rest: {}\n            },\n            {\n                name: 'By Disaster Number',\n                id: 2,\n                path: `/fema_disasters`, // d.data['url-slug'],\n                sectionClass: 'mb-4',\n                itemClass: 'font-bold',\n                children: [],\n                rest: {}\n            }\n\n        ]\n        return (\n            <div className='flex flex-col lg:flex-row h-screen box-border w-full -mt-4 fixed overflow-auto'>\n                <div className='flex-auto h-full order-last lg:order-none'>\n                    <div className='w-full fixed bg-white z-10'>\n                        {this.props.match.params.datatype === 'fema' || this.props.match.params.datatype === 'fema_disasters'?\n                            <TopNav\n                                menuItems={navItems}\n                                customTheme={{\n                                    sidebarBg: 'bg-white',\n                                    topNavHeight: 'h-12' ,\n                                    navitemTop: 'px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-gray-800 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out',\n                                    navitemTopActive: 'px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-blue-500 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out'\n                                }}\n                            /> :null}\n                    </div>\n                    <div className='h-full'>\n                        <div className=\"mx-auto h-8 w-2/6 pt-11 z-40\">\n                            <Legend\n                                title = {`Losses in each County from ${config['Hazards'].filter(d => d.value === this.state.hazard)[0].name}, ${this.state.year.replace('allTime', '1996-2019')}`}\n                                type = {\"threshold\"}\n                                range= {[\"#F1EFEF\",...hazardcolors[this.state.hazard + '_range']]}\n                                domain = {this.state.geography === 'counties' ? config[this.props.match.params.datatype].counties_domain : config[this.props.match.params.datatype].other_domain}\n                                format= {fnumClean}\n                            />\n                        </div>\n                            <AvlMap\n                                layers={[\n                                    this.MapsLayer\n                                ]}\n                                height={'90%'}\n                                center={[0, 0]}\n                                zoom={4}\n                                year={2018}\n                                fips={''}\n                                styles={[\n                                    {name: 'Blank', style: 'mapbox://styles/am3081/ckaml4r1e1uip1ipgtx5vm9zk'}\n                                ]}\n                                sidebar={false}\n                                attributes={false}\n                                layerProps={{\n                                    [this.MapsLayer.name]: {\n                                        year: this.state.year,\n                                        hazard : this.state.hazard,\n                                        fips : this.state.fips_value ? this.state.fips_value : null,\n                                        geography : this.state.geography_filter,\n                                        dataType : this.props.match.params.datatype,\n                                        falcorCache: this.props.falcorCache\n                                    }\n                                }}\n                            />\n                        <div className='absolute bottom-20 h-40 z-30 md:w-full md:px-12'>\n                            <div className=\"text-xs absolute pt-8\">Click on a bar to filter the data by year</div>\n                            <StackedBarGraph\n                                height={200}\n                                type={'graph'}\n                                data_type={this.props.match.params.datatype}\n                                setYear={this.setYear.bind(this)}\n                                hazard={this.state.hazard}\n                                geoid={this.state.fips_value? this.state.fips_value : null}\n                            />\n                        </div>\n\n                    </div>\n                </div>\n                <SlideOver\n                    HeaderTitle={<div>\n                        <div>{this.props.match.params.datatype === 'stormevents' ? `Storm Event Losses` : this.props.match.params.datatype === \"sba\" ? `SBA Loans`: \"FEMA Disasters\"}</div>\n                        <label className=\"text-base text-opacity-100\">Select a State</label>\n                        {this.processFipsDomain() ? <div className=\"relative\">\n                            <select\n                                className=\"rounded-lg py-3 px-3 border-2 border-gray-200 w-full bg-white\"\n                                onChange={(e) =>{\n                                    let fips = e.target.value\n                                    this.setState({\n                                        fips_value: fips === 'National' ? null : fips\n                                    })\n                                }}\n                            >\n                                <option value={null}>National</option>\n                                {this.processFipsDomain() ? this.processFipsDomain().map((d,i) =>{\n                                    return(\n                                        <option value={d.fips} key={i}>\n                                            {d.name}\n                                        </option>\n                                    )\n                                }):null}\n                            </select>\n                        </div> : null}\n\n                        {this.state.fips_value ?\n                            <div>\n                                <label className=\"text-sm\">Select a Geography</label>\n                                <select\n                                    className=\"rounded-lg py-3 px-3 border-2 border-gray-200 w-full bg-white\"\n                                    onChange={(e) =>{\n                                        let filter = e.target.value\n                                        this.setState({\n                                            geography_filter: filter\n                                        })\n                                    }}\n                                >\n                                    { this.props.match.params.datatype === \"sba\" || this.props.match.params.datatype === \"fema\"? this.state.geography_sba.map((d,i) =>{\n                                        return(\n                                            <option value={d.value} key={i}>\n                                                {d.name}\n                                            </option>\n                                        )\n                                    }):\n                                        this.state.geography_storm.map((d,i) =>{\n                                            return(\n                                                <option value={d.value} key={i}>\n                                                    {d.name}\n                                                </option>\n                                            )\n                                        })\n                                    }\n                                </select>\n                            </div>\n\n                            : null}\n                    </div>}\n                >\n                    <HazardListTable\n                        type={'table'}\n                        data_type={this.props.match.params.datatype}\n                        geoid={this.state.fips_value ? this.state.fips_value : null}\n                        year={this.state.year}\n                        setHazard={this.setHazard.bind(this)}\n                        activeHazard={this.state.hazard}\n                    />\n                </SlideOver>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        falcorCache: state.falcorCache,\n    };\n};\nconst mapDispatchToProps = {\n\n};\nconst ConnectedComponent = connect(mapStateToProps, mapDispatchToProps)(reduxFalcor(NationalLanding))\n\nexport default [\n    {\n        path: '/maps/:datatype',\n        mainNav: false,\n        exact: false,\n        name: 'Maps',\n        authed:false,\n        component:withRouter(ConnectedComponent),\n        layoutSettings: {\n            fixed: true,\n            maxWidth: '',//'max-w-7xl',\n            headerBar: false,\n            nav: 'top'\n        }\n    },{\n        path: '/maps/stormevents',\n        mainNav: true,\n        exact: true,\n        name: 'NCEI Storm Events',\n        authed:false,\n        component:withRouter(ConnectedComponent),\n        layoutSettings: {\n            fixed: true,\n            maxWidth: '',//'max-w-7xl',\n            headerBar: true,\n            nav: 'top'\n        }\n    },\n    {\n        path: '/maps/sba',\n        mainNav: true,\n        exact: true,\n        name: 'SBA Hazard Loans',\n        authed:false,\n        component:withRouter(ConnectedComponent),\n        layoutSettings: {\n            fixed: true,\n            maxWidth: '',//'max-w-7xl',\n            headerBar: true,\n            nav: 'top',\n            subNav: 'true'\n        }\n    },\n    {\n        path: '/maps/fema',\n        mainNav: true,\n        exact: true,\n        name: 'FEMA Disasters',\n        authed:false,\n        component:withRouter(ConnectedComponent),\n        layoutSettings: {\n            fixed: true,\n            maxWidth: '',//'max-w-7xl',\n            headerBar: true,\n            nav: 'top',\n\n        }\n    },\n\n\n]\n\n","const ctpDoc = {\n    app: \"npmrds\",\n    type: \"hhd-page\",\n    attributes: [\n        { key: \"section\",\n            type: \"text\",\n            required: true,\n            default: \"props:section\",\n            hidden: true\n        },\n        { key: \"sectionLanding\",\n            type: \"boolean\",\n            default: false,\n            editable: false,\n            hidden: true\n        },\n        { key: \"index\",\n            type: \"number\",\n            default: \"props:index\",\n            editable: false,\n            hidden: true\n        },\n        { key: \"title\",\n            type: \"text\"\n        },\n        { key: \"content\",\n            type: \"richtext\",\n            required: true\n        },\n        { key: \"tags\",\n            type: \"text\",\n            isArray: true\n        }\n    ]\n}\n\n\nexport {\n    ctpDoc\n}","import React from \"react\"\n\nconst DmsContext = React.createContext({\n  authRules: null, user: null,\n  useRouter: false, basePath: null\n});\n\nexport const useAuth = () => React.useContext(DmsContext);\n\nexport default DmsContext;\n","import React from \"react\"\n\nexport default React.createContext({\n  buttonThemes: {}\n});\n","import React, { useContext } from \"react\"\n\nconst noop = () => {};\n\nconst DmsContext = React.createContext({\n  dataItems: [],\n  interact: noop,\n  makeInteraction: noop,\n  makeOnClick: noop\n});\n\nexport const useDms = () => useContext(DmsContext);\n\nexport default DmsContext\n","import React from \"react\"\n\nexport default React.createContext({\n  userouter: false,\n  basePath: null\n});\n","import React from \"react\"\n\nconst MessengerContext = React.createContext({});\n\nexport const useMessenger = () => React.useContext(MessengerContext);\n\nexport default MessengerContext;\n","import React from \"react\"\n\nimport get from \"lodash.get\"\nimport * as d3format from \"d3-format\"\nimport * as d3timeFormat from \"d3-time-format\"\n\nimport { hasValue, verifyValue } from \"@availabs/avl-components\"\n\nexport const checkEditorValue = value => Boolean(value) && value.getCurrentContent().hasText();\n\nexport const checkDmsValue = (value, attributes) => {\n  if (!hasValue(value)) return false;\n\n  if (Array.isArray(value)) {\n    return value.reduce((a, c) => a || checkDmsValue(c, attributes), false)\n  }\n\n  return attributes.reduce((a, c) => {\n    if (a === true) return true;\n\n    const Value = get(value, c.key);\n    if (c.type === \"dms-format\") {\n      return checkDmsValue(Value, c.attributes);\n    }\n    else if (c.type === \"richtext\") {\n      if (Array.isArray(Value)) {\n        return Value.reduce((a, c) => a || c.getCurrentContent().hasText(), false);\n      }\n      return Boolean(Value) && Value.getCurrentContent().hasText();\n    }\n    else if (Array.isArray(Value)) {\n      return Value.reduce((a, c) => a || hasValue(c), false);\n    }\n    return hasValue(Value);\n  }, false)\n}\nexport const verifyDmsValue = (value, attributes, required = false) => {\n  if (!hasValue(value)) return !required;\n\n  if (Array.isArray(value)) {\n    return value.reduce((a, c) => a && verifyDmsValue(c, attributes), true);\n  }\n  return attributes.reduce((a, c) => {\n    const Value = get(value, c.key);\n\n    if (c.type === \"dms-format\") {\n      return a && verifyDmsValue(Value, c.attributes);\n    }\n    else if (c.type === \"richtext\") {\n      if (!c.required) return a;\n\n      if (Array.isArray(Value)) {\n        return a && Value.reduce((a, c) => a && c.getCurrentContent().hasText, true);\n      }\n      return a && (Boolean(Value) && Value.getCurrentContent().hasText())   ;\n    }\n    else if (Array.isArray(Value)) {\n      return a && (Value.length ?\n        Value.reduce((aa, cc) => aa && verifyValue(cc, c.type, c.verify)) : !c.required\n      )\n    }\n    return a && (hasValue(value[c.key]) ?\n      verifyValue(value[c.key], c.type, c.verify) : !c.required\n    );\n  }, true)\n}\n\nexport const processAction = action => {\n  let response = {\n    action: \"unknown\",\n    seedProps: () => null,\n    showConfirm: false,\n    label: null,\n    buttonTheme: null,\n    disabled: false,\n    then: null,\n    doThen: () => Promise.resolve(),\n    goBackAfterApiAction: true\n  };\n  if (typeof action === \"string\") {\n    response.action = action;\n  }\n  else {\n    response = { ...response, ...action };\n  }\n  if (typeof response.seedProps === \"object\") {\n    const map = { ...response.seedProps };\n    response.seedProps = (props, self) => mapDataToProps(map, { props, self });\n  }\n  const { then, ...processed } = response;\n  if (typeof then === \"function\") {\n    processed.doThen = () => Promise.resolve(then());\n  }\n  return processed;\n}\n\nconst oREGEX = /^(\\d*)(?<!1)([1|2|3])$/;\nconst oFunc = d => {\n  const match = oREGEX.exec(d);\n  switch (match && match[2]) {\n    case \"1\":\n      return d + \"st\";\n    case \"2\":\n      return d + \"nd\";\n    case \"3\":\n      return d + \"rd\";\n    default:\n      return d + \"th\";\n  }\n}\n\nconst dateFormats = {\n  M: \"%-m\", // Month of year as integer [1, 2, ...11, 12]\n  MM: \"%m\", // Month of year as zero-padded interger [01, 02, ...11, 12]\n  MMM: \"%b\",  // Abreviated month name [Jan, Feb, ...Nov, Dec]\n  MMMM: \"%B\", // Full month name\n  Q: \"%q\",  // Quarter [1, 2, 3, 4]\n  Qo: [\"%q\", oFunc],  // Quarter [1st, 2nd, 2rd, 4th]\n  D: \"%-d\", // Day of month [1, 2, ...11, 12, ...]\n  Do: [\"%-d\", oFunc], // Day of month [1st, 2nd, ...11th, 12th, ...]\n  DD: \"%d\", // Zero-padded day of month [01, 02, ...11, 12, ...]\n  d: \"%w\", // Day of week [0, 1, ...5, 6] with Sunday as 0\n  ddd: \"%a\", // abbreviated weekday name [Sun, Mon, ...Fri, Sat]\n  dddd: \"%A\", // full weekday name\n  YY: \"%y\", // Year as 2 digits [20, 21, 22, ...]\n  YYYY: \"%Y\", // Full year [2020, 2021, 2022, ...]\n  A: \"%p\", // AM or PM\n  a: [\"%p\", p => p.toLowerCase()], // am or pm\n  H: \"%-H\", // 24-hour clock hour [0, 1, ...22, 23]\n  HH: \"%H\", // zero-padded 24-hour clock [00, 01, ...22, 23]\n  h: \"%-I\", // 12-hour close [1, 2, ..., 11, 12]\n  hh: \"%I\", // zero-padded 12-hour clock [01, 02, ...11, 12]\n  m: \"%-M\", // minute [0, 1, ...58, 59]\n  mm: \"%M\", // zero-padded minute [00, 01, ...58, 59]\n  s: \"%-S\", // seconds [0, 1, ...58, 59]\n  ss: \"%S\", // zero-padded seconds [00, 01, ...8, 59]\n}\nconst DATE_REGEX = /(M+|Q|Do|D+|do|d+|Y+|A|a|H+|h+|m+|s+)/g;\nconst getDateFormat = format => {\n  const args = format.split(DATE_REGEX)\n    .map(a => (a in dateFormats) ? dateFormats[a] : a)\n    .reduce((a, c) =>\n      typeof c === \"string\" ? [...a.slice(0, -1), a.slice(-1) + c] : [...a, c, \"\"]\n    , [\"\"])\n    .map(a => {\n      if (typeof a === \"string\") {\n        return d3timeFormat.timeFormat(a);\n      }\n      let [format, func] = a;\n      format = d3timeFormat.timeFormat(format);\n      return v => func(format(v));\n    });\n  return v => { const date = new Date(v); return args.reduce((a, c) => a + c(date), \"\"); };\n}\n\nconst identity = d => d;\nexport const getFormat = format => {\n  if (format === \"date\") {\n    return getDateFormat(\"MMM Do, YYYY h:mm a\");\n  }\n  else if (/^date:/.test(format)) {\n    return getDateFormat(format.slice(5));//value => moment(value).format(format.replace(/^date:/, \"\"));\n  }\n  return format ? d3format.format(format) : identity;\n}\n\nexport const useDmsColumns = columns => {\n  return React.useMemo(() => {\n    const temp = columns.map(att => {\n      if (typeof att === \"string\") {\n        if (/^(dms|api):(.+)$/.test(att)) {\n          att = { action: att };\n        }\n        else {\n          att = { path: att };\n        }\n      }\n      if (att.action) {\n        return processAction(att);\n      }\n      if (att.path && !/^self|item|props:/.test(att.path)) {\n        att.path = `self:data.${ att.path }`;\n      }\n      return { ...att,\n        key: att.path.split(/[:.]/).pop(),\n        format: getFormat(att.format)\n      };\n    })\n    return temp.reduce((a, c) => {\n      const [atts, acts] = a;\n      if (c.path) {\n        atts.push(c);\n      }\n      else {\n        acts.push(c);\n      }\n      return a;\n    }, [[], []]);\n  }, [columns]);\n}\n\nexport const compareActions = (action1 = \"\", action2 = \"\") =>\n  action1.replace(/^dms:/, \"\") === action2.replace(/^dms:/, \"\")\n\nexport const capitalize = string =>\n  string.toLowerCase().split(\"\")\n    .map((c, i) => i === 0 ? c.toUpperCase() : c).join(\"\");\nexport const prettyKey = key =>\n  key.replace(/(?<!^)(?=[A-Z])/g, \" \")\n    .replace(/[_-]/g, \" \")\n    .split(\" \").map(capitalize).join(\" \");\n\nexport const ITEM_REGEX = /^item:(.+)$/;\nexport const PROPS_REGEX = /^props:(.+)$/;\nconst SELF_REGEX = /^self:(.+)$/;\n\nexport const dmsIsNum = value => {\n  if ((value === \"\") ||\n      (value === null) ||\n      isNaN(value)) {\n    return false\n  }\n  return true\n}\n\nconst processArgs = (args, sources) =>\n  args.map(arg => {\n    if (typeof arg === \"string\") {\n      if (SELF_REGEX.test(arg)) {\n        return { path: arg };\n      }\n      return { value: getValue(arg, sources) };\n    }\n    return { value: arg };\n  })\n\nexport const makeSort = (sort, sources) => {\n  if (!sources) {\n    sources = { props: sort }\n    sort = get(sources, [\"props\", \"sort\"]);\n  }\n  if (!sources.item) {\n    sources.item = get(sources, [\"props\", \"item\"], null);\n  }\n\n  if (!sort) return false;\n\n  if (typeof sort === \"function\") return sort;\n\n  let { comparator, accessor } = sort;\n\n  return (a, b) => {\n    const av = getValue(accessor, { self: a }),\n      bv = getValue(accessor, { self: b });\n    return comparator(av, bv);\n  }\n}\n\nexport const makeFilter = (filter, sources) => {\n  if (!sources) {\n    sources = { props: filter }\n    filter = get(sources, [\"props\", \"filter\"]);\n  }\n  if (!sources.item) {\n    sources.item = get(sources, [\"props\", \"item\"], null);\n  }\n\n  if (!filter) return false;\n\n  if (typeof filter === \"function\") return filter;\n\n  let { args, comparator } = filter;\n\n  args = processArgs(args, sources);\n\n  return d =>\n    comparator(\n      ...args.map(({ path, value }) => value || getValue(path, { self: d }) || \"\" )\n    );\n}\n\nexport const checkAuth = (rules, action, props, item) => {\n  const rule = get(rules, action.replace(/^(dms|api):(.+)$/, (m, c1, c2) => c2), null);\n\n  if (!rule) return true;\n\n  let { args, comparator } = rule;\n\n  args = args.map(a => {\n    if (typeof a === \"string\") {\n      if (a.includes(\"props:\")) {\n        return get(props, a.slice(6));\n      }\n      if (a.includes(\"item:\")) {\n        return get(item, a.slice(5));\n      }\n    }\n    return a;\n  })\n  return comparator(...args);\n}\n\nconst OPS = [\n  \">>>\", \"==>\", \"-->\", \"->\", \"==\", \">\", \"<\", \">=\", \"<=\"\n]\n\nconst getCompare = arg => {\n  switch (arg) {\n    case \"==\":\n      return (a, b) => a === b;\n    case \">\":\n      return (a, b) => a > b;\n    case \"<\":\n      return (a, b) => a < b;\n    case \">=\":\n      return (a, b) => a >= b;\n    case \"<=\":\n      return (a, b) => a <= b;\n    default:\n      return (a, b) => a === b;\n  }\n}\n\nconst applyOp = (op, args, source, func) => {\n  switch (op) {\n    case \">>>\":\n      func(args[0]);\n      return source.map(d => get(d, ...args, null));\n    case \"==>\":\n      return source.filter(d => getCompare(args[1])(get(d, args[0], null), args[2]))\n    case \"-->\":\n      return source.reduce((a, c) => getCompare(args[1])(get(c, args[0], null), args[2]) ? c : a, null)\n    case \"==\":\n      return getCompare(op)(args[0], source);\n    default:\n      return source;\n  }\n}\nconst getArgs = (op, split) => {\n  const { length } = split;\n  switch (op) {\n    case \">>>\":\n    case \"==\":\n      return split.splice(length - 2, length);\n    case \"==>\":\n    case \"-->\":\n      return split.splice(length - 3, length);\n    default:\n      return [];\n  }\n}\nconst reduceSplit = (split, source, func) => {\n  if (!split.length) return source;\n\n  const path = split.pop();\n  if (OPS.includes(path)) {\n    const args = getArgs(path, split).reverse();\n    return reduceSplit(split, applyOp(path, args, source, func), func);\n  }\n  func(path);\n  return reduceSplit(split, get(source, path, null), func);\n}\n\nconst getValueFromPath = (pathArg, sources, directives, _default, format = identity) => {\n  if (typeof pathArg !== \"string\") return _default || pathArg;\n\n  const {\n    preserveKeys,\n    preservePath,\n    preserveSource\n  } = (directives || {});\n\n  const REGEX = /^(item|props|self):(.+)$/;\n\n  let key = null, path = null, source = null;\n\n  const removeSource = p => p.replace(REGEX, (m, c1, c2) => c2),\n    setPreserve = d => {\n      key = removeSource(d).split(\".\").pop();\n      path = removeSource(d);\n      if (source) return;\n      source = d.replace(REGEX, (m, c1, c2) => c1);\n    }\n\n  const split = pathArg.toString().split(new RegExp(`(${ OPS.join(\"|\") })`))\n    .reduce((a, c) => {\n      const match = REGEX.exec(c);\n      if (match) {\n        const [, from, p] = match,\n          source = get(sources, from, null);\n        setPreserve(c);\n        return [...a, get(source, p, null)];\n      }\n      return [...a, c];\n    }, []).reverse();\n\n  const value = format(reduceSplit(split, split.pop(), setPreserve));\n\n  if (preserveKeys) {\n    return { key, value };\n  }\n  else if (preservePath) {\n    return { key, path, value };\n  }\n  else if (preserveSource) {\n    return { key, path, source, value };\n  }\n  return value;\n}\n\nexport const getValue = (arg, sources, directives = {}, _default = null) => {\n  if (!hasValue(arg)) return _default || arg;\n\n  if (!sources.item) {\n    sources.item = get(sources, [\"props\", \"item\"], null);\n  }\n\n  if (Array.isArray(arg)) {\n    return arg.map(a => getValue(a, sources, directives, _default));\n  }\n\n  if (typeof arg !== \"object\") {\n    if (typeof arg === \"string\") {\n      arg = arg.replace(/^(from:)/, \"props:\");\n    }\n    arg = { path: arg }\n  }\n  let {\n    path,\n    filter,\n    sortBy,\n    props = {},\n    type,\n    key,\n    value,\n    format,\n    interact = []\n  } = arg;\n\n  let data = getValueFromPath(path, sources, directives, _default, getFormat(format));\n\n  if (type) {\n    if (!Array.isArray(data)) {\n      data = [data];\n    }\n    filter = makeFilter(filter, sources);\n    if (filter) {\n      data = data.filter(filter);\n    }\n    if (sortBy) {\n      data.sort((a, b) => {\n        const av = get(a, sortBy, a),\n          bv = get(b, sortBy, b);\n        return av < bv ? -1 : bv < av ? 1 : 0;\n      })\n    }\n\n    if (!Array.isArray(interact)) {\n      interact = [interact];\n    }\n\n    const args = ({\n      data: data.map((d, i) => ({\n        key: getValueFromPath(key, { self: d, ...sources }, directives, `key-${ i }`),\n        value: getValueFromPath(value, { self: d, ...sources }, directives, d),\n        interact: interact.map(a => getValueFromPath(a, { self: d, ...sources }, directives)),\n        props: mapDataToProps(props, { self: d, ...sources }, directives)\n      })),\n      Comp: type\n    })\n    return (func, interact) => func(args, interact);\n  }\n  return data;\n}\n\nexport const mapDataToProps = (map, sources = {}, _directives = {}) => {\n  if (!sources.item) {\n    sources.item = get(sources, [\"props\", \"item\"], null);\n  }\n  const directiveKeys = Object.keys(map).filter(k => /^\\$.+$/.test(k)),\n    directives = { ..._directives };\n  for (const k of directiveKeys) {\n    directives[k.slice(1)] = map[k];\n    delete map[k];\n  }\n\n  const mappedProps = {};\n\n  for (const key in map) {\n    const path = map[key],\n      children = key === \"children\",\n      DIRECTIVES = children ? {} : directives;\n\n    let savedChildren = [];\n    if (children) {\n      savedChildren = React.Children.toArray(get(sources, [\"props\", \"children\"], null));\n    }\n\n    let result;\n    if (Array.isArray(path)) {\n      result = path.map(p => getValue(p, sources, DIRECTIVES));\n    }\n    else if (typeof path === \"object\") {\n      const args = path.args.map(arg => getValueFromPath(arg, sources, DIRECTIVES));\n      result = path.func(...args);\n    }\n    else if (typeof path === \"function\") {\n      result = path(sources);\n    }\n    else {\n      result = getValue(path, sources, DIRECTIVES);\n    }\n\n    if (children) {\n      if (Array.isArray(result)) {\n        result = [...result, ...savedChildren];\n      }\n      else {\n        result = [result, ...savedChildren];\n      }\n    }\n    mappedProps[key] = result;\n\n  }\n  return mappedProps;\n}\n","import { processAction, checkAuth } from \"../../utils\"\n\nimport get from \"lodash.get\"\n\nconst flattenAttributes = (Sections, Attributes = [], depth = 0, id = [0]) => {\n  if (!Sections.length) return Attributes;\n\n  const { attributes, sections, ...rest } = Sections.pop();\n  if (sections) {\n    flattenAttributes(sections, Attributes, depth + 1, [...id, 0]);\n  }\n  if (attributes) {\n    Attributes.push(...attributes.map((att, i) => {\n      const Att = {\n        ...rest,\n        ...att,\n        depth,\n        id: `${ att.key }-${ id.join(\".\") }.${ i }`\n      }\n      if ((Att.type === \"boolean\")) {\n        Att.default = Boolean(Att.default);\n      }\n      return Att;\n    }))\n  }\n  const last = id.pop()\n  return flattenAttributes(Sections, Attributes, depth, [...id, last + 1]);\n}\n\nexport const processFormat = (format, formats = {}) => {\n  format = JSON.parse(JSON.stringify(format));\n\n  if (format.registerFormats) {\n    format.registerFormats.forEach(f => processFormat(f, formats));\n  }\n\n  if (!format.sections) {\n    const attributes = format.attributes;\n    format.attributes = flattenAttributes([{ attributes }]);\n  }\n  else {\n    format.attributes = flattenAttributes(format.sections.reverse());\n  }\n\n  formats[`${ format.app }+${ format.type }`] = format;\n\n  return formats;\n}\n\nexport const getItem = (id, props) => {\n  return (props.dataItems || []).reduce((a, c) => c.id === id ? c : a, null);\n}\n\nconst makePath = (basePath, action, itemId = null, props = null) =>\n  `${ basePath }/${ action }${ itemId ? `/${ itemId }` : \"\" }`\n\nconst normalizeArgs = (dmsAction, item, props) => {\n  let itemId = null;\n  if (typeof item === \"object\") {\n    itemId = get(item, \"id\", null);\n  }\n  else if ((typeof item === \"string\") || (typeof item === \"number\")) {\n    itemId = item;\n    item = getItem(itemId, props);\n  }\n  else if (!item) {\n    item = get(props, \"item\", null);\n    itemId = get(item, \"id\", null);\n  }\n  return [\n    processAction(dmsAction),\n    item, itemId,\n    props,\n    props.interact\n  ]\n}\nexport const makeInteraction = (...args) => {\n  const [\n    { action, seedProps, disabled, doThen, goBackAfterApiAction, ...rest },\n    item, itemId,\n    props,\n    interact\n  ] = normalizeArgs(...args);\n\n  const { authRules, useRouter, basePath, location, history } = props,\n\n    hasAuth = checkAuth(authRules, action, props, item),\n\n    propsToSeed = seedProps(props, item);\n\n  if (useRouter && hasAuth && !disabled) {\n    const { push } = history,\n      { pathname, search = \"\" } = location,\n\n      stack = get(location, [\"state\", \"stack\"], []),\n      stackLength = stack.length,\n\n      searchStack = get(location, [\"state\", \"search\"], []),\n      searchLength = searchStack.length;\n\n    return /^(dms:)*back$/.test(action) ?\n      { type: \"link\",\n        key: action,\n        action,\n        ...rest,\n        to: {\n          pathname: get(stack, [stackLength - 1], basePath),\n          search: get(searchStack, [searchLength - 1], \"\"),\n          state: {\n            stack: stack.slice(0, -1),\n            search: searchStack.slice(0, -1)\n          }\n        }\n      }\n      : /^(dms:)*home$/.test(action) ?\n        { type: \"link\",\n          key: action,\n          action,\n          ...rest,\n          to: {\n            pathname: basePath,\n            state: {\n              stack: [],\n              search: []\n            }\n          }\n        }\n      : /^api:/.test(action) ?\n        { type: \"button\",\n          key: action,\n          action,\n          ...rest,\n          onClick: e => {\n            e.stopPropagation();\n            return Promise.resolve(interact(action, itemId, propsToSeed))\n              .then(() => doThen())\n              .then(() => goBackAfterApiAction && push({\n                  pathname: get(stack, [stackLength - 1], basePath),\n                  search: get(searchStack, [searchLength - 1], \"\"),\n                  state: {\n                    stack: stack.slice(0, -1),\n                    search: searchStack.slice(0, -1)\n                  }\n                })\n              )\n          }\n        }\n      : { type: \"link\",\n          key: action,\n          action,\n          ...rest,\n          to: {\n            pathname: makePath(basePath, action, itemId),\n            search: !propsToSeed ? \"\" : `?${ Object.keys(propsToSeed).map(k => `${ k }=${ propsToSeed[k] }`).join('&') }`,\n            state: {\n              stack: [...stack, pathname],\n              search: [...searchStack, search]\n            }\n          }\n        }\n  }\n  return {\n    type: \"button\",\n    key: action,\n    action,\n    disabled: disabled || !hasAuth,\n    ...rest,\n    onClick: e => {\n      e.stopPropagation();\n      if (!hasAuth) return Promise.resolve();\n      return Promise.resolve(interact(action, itemId, propsToSeed))\n        .then(() => /^api:/.test(action) && doThen())\n        .then(() => /^api:/.test(action) && interact(\"dms:back\"));\n    }\n  }\n}\n\nexport const makeOnClick = (...args) => {\n  const [\n    { action, seedProps, doThen },\n    item, itemId,\n    props,\n    interact\n  ] = normalizeArgs(...args);\n\n  const { authRules, useRouter, basePath, location, history } = props,\n\n    hasAuth = checkAuth(authRules, action, props, item),\n\n    propsToSeed = seedProps(props, item);\n\n  if (useRouter && hasAuth) {\n    const { push } = history,\n      { pathname, search = \"\" } = location,\n\n      stack = get(location, [\"state\", \"stack\"], []),\n      stackLength = stack.length,\n\n      searchStack = get(location, [\"state\", \"search\"], []),\n      searchLength = searchStack.length;\n\n    return /^(dms:)*back$/.test(action) ?\n      (e => {\n        e.stopPropagation();\n        push({\n          pathname: get(stack, [stackLength - 1], basePath),\n          search: get(searchStack, [searchLength - 1], \"\"),\n          state: {\n            stack: stack.slice(0, -1),\n            search: searchStack.slice(0, -1)\n          }\n        });\n      })\n      : /^(dms:)*home$/.test(action) ?\n        (e => {\n          e.stopPropagation();\n          push({\n            pathname: basePath,\n            state: {\n              stack: [],\n              search: []\n            }\n          });\n        })\n      : /^api:/.test(action) ?\n        (e => {\n          e.stopPropagation();\n          return Promise.resolve(interact(action, itemId, propsToSeed))\n            .then(() => doThen())\n            .then(() => push({\n              pathname: get(stack, [stackLength - 1], basePath),\n              search: get(searchStack, [searchLength - 1], \"\"),\n              state: {\n                stack: stack.slice(0, -1),\n                search: searchStack.slice(0, -1)\n              }\n            }))\n        })\n      : (e => {\n          e.stopPropagation();\n          push({\n            pathname: makePath(basePath, action, itemId, propsToSeed),\n            search: !propsToSeed ? \"\" : `?${ Object.keys(propsToSeed).map(k => `${ k }=${ propsToSeed[k] }`).join('&') }`,\n            state: {\n              stack: [...stack, pathname],\n              search: [...searchStack, search]\n            }\n          })\n        })\n  }\n  return (\n    e => {\n      e.stopPropagation();\n      if (!hasAuth) return Promise.resolve();\n      return Promise.resolve(interact(action, itemId, propsToSeed))\n        .then(() => /^api:/.test(action) && doThen())\n        .then(() => /^api:/.test(action) && interact(\"dms:back\"));\n    }\n  )\n}\n","import React, { useContext } from \"react\"\n\nimport {\n  AuthContext,\n  ButtonContext,\n  DmsContext,\n  MessengerContext,\n  RouterContext\n} from \"../contexts\"\nimport { checkAuth } from \"../utils\"\n\nimport { getItem, makeInteraction, makeOnClick, processFormat } from \"./utils/dms-provider-utils\"\n\nimport get from \"lodash.get\"\n\nexport const useMakeInteraction = (dmsAction, item, props) => {\n  props = {\n    ...props,\n    ...useContext(DmsContext),\n    ...useContext(AuthContext),\n    ...useContext(RouterContext)\n  }\n  return makeInteraction(dmsAction, item, props)\n}\nexport const useMakeOnClick = (dmsAction, item, props) => {\n  props = {\n    ...props,\n    ...useContext(DmsContext),\n    ...useContext(AuthContext),\n    ...useContext(RouterContext)\n  }\n  return makeOnClick(dmsAction, item, props)\n}\n\nconst processMessage = msg => ({\n  canGoPrev: true,\n  canGoNext: false,\n  canGo: true,\n  ...msg\n})\n\nlet UNIQUE_ID = 0;\nconst newMsgId = () => `dms-msg-${ ++UNIQUE_ID }`;\n\nexport default (Component, options = {}) => {\n  const {\n    authRules = {},\n    buttonThemes = {},\n    imgUploadUrl = 'https://graph.availabs.org'\n  } = options;\n\n  class Wrapper extends React.Component {\n    static defaultProps = {\n      showHome: true,\n      dataItems: [],\n      defaultAction: [\"list\", null, null],\n      app: \"app-name\",\n      type: \"format-type\",\n      format: null,\n      apiInteract: () => Promise.resolve()\n    }\n\n    constructor(props) {\n      super(props);\n\n      this.registeredFormats = {};\n\n      this.registeredFormats = processFormat(props.format);\n\n      this.state = {\n        stack: [{\n          dmsAction: this.props.defaultAction[0],\n          id: this.props.defaultAction[1],\n          props: this.props.defaultAction[2]\n        }],\n        pageMessages: [],\n        attributeMessages: []\n      }\n      this.interact = this.interact.bind(this);\n      this.makeInteraction = this.makeInteraction.bind(this);\n      this.makeOnClick = this.makeOnClick.bind(this);\n    }\n\n    componentDidMount() {\n      const { action, id, props } = get(this.props, \"routerParams\", {});\n      if (action) {\n        this.interact(action, id, props);\n      }\n    }\n\n    getItem(id) {\n      return getItem(id, this.props);\n    }\n\n    makeOnClick(dmsAction, item, props) {\n      return makeOnClick(dmsAction, item, { ...this.props, ...props, interact: this.interact })\n    }\n    makeInteraction(dmsAction, item, props) {\n      return makeInteraction(dmsAction, item, { ...this.props, ...props, interact: this.interact });\n    }\n\n    interact(dmsAction, id, props, options) {\n      if (arguments.length === 1) {\n        id = dmsAction;\n        dmsAction = \"click\";\n      }\n\n      const hasAuth = checkAuth(authRules, dmsAction, this.props, this.getItem(id));\n      if (!hasAuth) return;\n\n      if (/^(dms:)*back$/.test(dmsAction)) {\n        this.popAction();\n      }\n      else if (/^(dms:)*home$/.test(dmsAction)) {\n        this.clearStack();\n      }\n      else if (/^api:/.test(dmsAction)) {\n        return this.props.apiInteract(dmsAction, id, props, options);\n      }\n      else {\n        this.pushAction(dmsAction, id, props);\n      }\n    }\n\n    pushAction(dmsAction, id, props) {\n      const stack = this.props.useRouter ?\n        this.state.stack.slice(0, 1) : [...this.state.stack];\n\n      stack.push({ dmsAction, id, props });\n      if (stack.length > 100) {\n        stack.splice(1, 1);\n      }\n      this.setState({ stack });\n    }\n    popAction() {\n      if (this.state.stack.length > 1) {\n        const stack = [...this.state.stack];\n        stack.pop();\n        this.setState({ stack });\n      }\n    }\n    clearStack() {\n      const stack = [...this.state.stack].slice(0, 1);\n      this.setState({ stack });\n    }\n    getTop() {\n      const { stack } = this.state;\n      return stack[stack.length - 1];\n    }\n\n    sendPageMessage = msg => {\n      this.setState(state => {\n        const { pageMessages } = state;\n        return {\n          pageMessages: [...pageMessages, processMessage(msg)]\n        }\n      })\n    }\n    removePageMessage = ids => {\n      this.setState(state => {\n        const { pageMessages } = state;\n        return {\n          pageMessages: pageMessages.filter(msg => !ids.includes(msg.id))\n        };\n      })\n    }\n    sendAttributeMessage = msg => {\n      this.setState(state => {\n        const { attributeMessages } = state;\n        return {\n          attributeMessages: [...attributeMessages, processMessage(msg)]\n        };\n      })\n    }\n    removeAttributeMessage = ids => {\n      this.setState(state => {\n        const { attributeMessages } = state;\n        return {\n          attributeMessages: attributeMessages.filter(msg => !ids.includes(msg.id))\n        };\n      })\n    }\n    getMessengerProps = () => ({\n      pageMessages: this.state.pageMessages,\n      attributeMessages: this.state.attributeMessages,\n      sendPageMessage: this.sendPageMessage,\n      removePageMessage: this.removePageMessage,\n      sendAttributeMessage: this.sendAttributeMessage,\n      removeAttributeMessage: this.removeAttributeMessage,\n      newMsgId\n    })\n\n    getDmsProps() {\n      const { app, type, dataItems, format } = this.props,\n        { id, ...top } = this.getTop(),\n        item = this.getItem(id);\n\n      return {\n        makeInteraction: this.makeInteraction,\n        makeOnClick: this.makeOnClick,\n        interact: this.interact,\n        stack: this.state.stack,\n        registeredFormats: this.registeredFormats,\n        [type]: item,\n        dataItems,\n        format: this.registeredFormats[`${ format.app }+${ format.type }`],\n        item,\n        type,\n        app,\n        top,\n        imgUploadUrl\n      }\n    }\n    render() {\n      const { user } = this.props,\n        dmsProps = this.getDmsProps(),\n        msgProps = this.getMessengerProps();\n      return (\n        <DmsContext.Provider value={ dmsProps }>\n          <AuthContext.Provider value={ { authRules, user } }>\n            <ButtonContext.Provider value={ { buttonThemes } }>\n              <MessengerContext.Provider value={ msgProps }>\n                <Component { ...this.props } { ...dmsProps } { ...msgProps }/>\n              </MessengerContext.Provider>\n            </ButtonContext.Provider>\n          </AuthContext.Provider>\n        </DmsContext.Provider>\n      )\n    }\n  }\n  return Wrapper;\n}\n","import React, { useState, useEffect } from \"react\"\n\nimport {  ButtonContext } from \"../contexts\"\n\nimport { useMakeInteraction } from \"../wrappers/dms-provider\"\n\nimport { Button, LinkButton } from \"@availabs/avl-components\"\n\nimport get from \"lodash.get\"\n\nconst cleanAction = action =>\n  action.replace(/^(dms|api):(.+)$/, (m, c1, c2) => c2);\n\nconst DEFAULT_BUTTON_THEMES = {\n  // create: \"button\",\n  // back: \"button\",\n  // edit: \"button\",\n  delete: \"buttonDanger\",\n  cancel: \"buttonInfo\"\n}\n\nconst getButtonTheme = (themes, label, action)=> {\n  action = cleanAction(action);\n  let theme = get(themes, label, get(DEFAULT_BUTTON_THEMES, label, null));\n  if (theme) return theme;\n  return get(themes, action, get(DEFAULT_BUTTON_THEMES, action, \"button\"));\n}\n\nconst ActionButton = ({ action, label, buttonTheme, ...props }) => {\n  label = label || cleanAction(action);\n  return (\n    <ButtonContext.Consumer>\n      { ({ buttonThemes }) =>\n        <Button { ...props } buttonTheme={ buttonTheme || getButtonTheme(buttonThemes, label, action) }>\n          { label }\n        </Button>\n      }\n    </ButtonContext.Consumer>\n  )\n}\n\nconst ActionLink = ({ action, label, buttonTheme, ...props }) => {\n  label = label || cleanAction(action);\n  return (\n    <ButtonContext.Consumer>\n      { ({ buttonThemes }) =>\n        <LinkButton { ...props } buttonTheme={ buttonTheme || getButtonTheme(buttonThemes, label, action) }>\n          { label  }\n        </LinkButton>\n      }\n    </ButtonContext.Consumer>\n  )\n}\n\nconst OpenConfirm = ({ Button, ...props }) => {\n  const OpenedAndWating = ({ setOpen }) => {\n    const [waiting, setWaiting] = useState(true);\n    useEffect(() => {\n      const timeout = waiting && setTimeout(setWaiting, 1000, false);\n      return () => clearTimeout(timeout);\n    }, [waiting])\n    return (\n      <div>\n        <Button waiting={ waiting }/>\n        <ActionButton action=\"cancel\"\n          className=\"ml-1\"\n          onClick={ e => {\n            e.stopPropagation();\n            setOpen(false);\n          } }/>\n      </div>\n    )\n  }\n  const [openConfirm, setOpen] = useState(false);\n  return openConfirm ? <OpenedAndWating setOpen={ setOpen }/> :\n    <ActionButton { ...props }\n      onClick={ e => { e.stopPropagation(); setOpen(true); } }/>\n}\n\nexport const DmsButton = ({ action, item, props = {}, disabled = false, ...others }) => {\n  const { showConfirm, type, to, ...interaction } = useMakeInteraction(action, item, props);\n\n  const Disabled = disabled || interaction.disabled;\n\n  const RenderButton = ({ waiting }) => {\n    if (waiting) {\n      return <ActionButton { ...interaction } { ...others }\n        disabled={ true }/>\n    }\n    switch (type) {\n      case \"link\":\n        return <ActionLink { ...interaction } { ...others } to={ to }\n          disabled={ Disabled }/>\n      default:\n        return <ActionButton { ...interaction } { ...others }\n          disabled={ Disabled }/>\n    }\n  }\n\n  if (!Disabled && showConfirm) {\n    return <OpenConfirm Button={ RenderButton } { ...interaction } { ...others }/>\n  }\n  return <RenderButton />;\n}\n","import React, { useState  }  from \"react\"\nimport { Link } from 'react-router-dom'\n\nimport { List, ListItemAction, Input } from '@availabs/avl-components'\n\nimport { DmsButton } from \"components/dms/components/dms-button\"\n\nimport { makeFilter } from \"components/dms/utils\"\n\n// import ReadOnlyEditor from \"components/DMS/components/editor/editor.read-only\"\n\nconst DmsTable = ({ sortBy, sortOrder, columns, initialPageSize, Container, ...props }) => {\n    const [newSectionTitle, setNewSectionTitle] = useState('');\n\n    const filter = makeFilter(props),\n        dataItems = (filter ? props.dataItems.filter(filter) : props.dataItems);\n\n\n    return (\n        <div>\n\n            <div className=\"flex\">\n                <Input value={ newSectionTitle } onChange={ setNewSectionTitle }\n                       className='w-full text-xl p-4 flex-1 rounded-lg'\n                       placeholder=\"Enter section name...\" autoFocus/>\n                <DmsButton large className=\"flex-0 text-xl ml-3 px-8\"\n                           disabled={ !Boolean(newSectionTitle) }\n                           action={ {\n                               action: 'api:create',\n                               seedProps: () => ({ section: newSectionTitle, sectionLanding: 1 })\n                           } }\n                />\n            </div>\n            {!props.dataItems.length ? null :\n                (\n                    dataItems\n                        .filter(d => d.data.sectionLanding)\n                        .map((d,i) => {\n                            const subSections = props.dataItems\n                                .filter(({ data }) => !data.sectionLanding && (data.section === d.data.section));\n                            return (\n                                <List key={i} className='my-3'>\n                                    <ListItemAction\n                                        item={`${d.id} ${d.data.section}`}\n                                        action={ [\n                                            <DmsButton key=\"create\"\n                                                       action={{\n                                                           action: 'create',\n                                                           seedProps: () => ({section: d.data.section, index: subSections.length })\n                                                       }}\n                                                       label='Add Page'\n                                            />,\n                                            <DmsButton item={ d.id } action=\"edit\" className=\"ml-3 flex-0\"/>,\n                                            <DmsButton key=\"api:delete\" item={ d.id }\n                                                       className=\"ml-2\"\n                                                       action={ {\n                                                           action: 'api:delete',\n                                                           showConfirm: true\n                                                       } }\n                                                       label='Delete'\n                                            />\n                                        ]\n                                        }\n                                    />\n                                    { subSections.map(d =>\n                                        <div key={ d.id } className=\"p-3 m-3 mt-0 flex border-2 rounded-lg\">\n                                            <div className=\"flex-1\"><Link to={`docs/view/${d.id}`}><h4>{ d.data.title }</h4></Link></div>\n                                            <DmsButton item={ d.id } action=\"edit\" className=\"ml-3 flex-0\"/>\n                                            <DmsButton item={ d.id } action=\"api:delete\" className=\"ml-3 flex-0\"/>\n                                        </div>\n                                    )\n                                    }\n                                </List>\n                            )\n                        })\n\n                )}\n        </div>\n    )\n}\n\nDmsTable.defaultProps = {\n    dmsAction: \"list\",\n    dataItems: [],\n    columns: [],\n    filter: false,\n    sortBy: \"updated_at\",\n    sortOrder: \"desc\",\n    initialPageSize: 10,\n    striped: false\n}\nexport default DmsTable;\n","import React  from \"react\"\nimport { useTheme } from \"@availabs/avl-components\"\n\n// import { List, ListItemAction, Input } from 'components/avl-components/components'\n// import { Link } from 'react-router-dom'\n\nimport { DmsButton } from \"components/dms/components/dms-button\"\n\nexport const Create = ({ createState, setValues, item, ...props }) => {\n    const theme = useTheme();\n    let Title = createState.sections[0].attributes[3]\n    let Content = createState.sections[0].attributes[4]\n    let Tags = createState.sections[0].attributes[5]\n\n    return (\n        <div className='max-w-5xl mx-auto'>\n            <form onSubmit={ e => e.preventDefault() }>\n                <div className=\"w-full flex flex-col justify-centerhasValue h-min-screen\">\n                    <div\n                        className={`text-3xl text-3xl font-bold leading-7`}>\n                        <Title.Input\n                            className={`p-4 border-none active:border-none focus:outline-none custom-bg ${theme.text}`}\n                            autoFocus={ true }\n                            value={ Title.value }\n                            placeholder={'Untilted'}\n                            onChange={ Title.onChange }\n                        />\n                    </div>\n                    *<div\n                    className={`hidden`}>\n                    <div>Tags</div>\n                    <Tags.Input\n                        className={`border-none active:border-none focus:outline-none custom-bg h-full ${theme.text}`}\n                        value={ Tags.value }\n\n                    />\n                </div>\n                    <div\n                        className={`p-2 font-thin overflow-hidden`}>\n                        <Content.Input\n                            className={`p-4 border-none active:border-none focus:outline-none custom-bg h-full ${theme.text}`}\n                            value={ Content.value }\n                            onChange={ Content.onChange }\n                        />\n                    </div>\n\n                </div>\n                <div className=\"mt-2 mb-4 max-w-2xl\">\n                    <DmsButton className=\"w-1/2\" large  type=\"submit\"\n                               action={ createState.dmsAction } item={ item } props={ props }/>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Create\n","import React from \"react\"\n\nimport { useTheme } from \"@availabs/avl-components\"\n\nexport default ({ active, disabled, children, ...props }) => {\n  const theme = useTheme();\n  return (\n    <button { ...props } disabled={ disabled } tabIndex={ -1 }\n      onMouseDown={ e => e.preventDefault() }\n      className={ `px-1 first:rounded-l last:rounded-r focus:border-none focus:outline-none\n        ${ active ? `${ theme.menuBgActive } ${ theme.menuBgActiveHover }` : theme.menuBg }\n        ${ active ? `${ theme.menuTextActive } ${ theme.menuTextActiveHover }` : theme.menuText }\n        ${ disabled ? \"bg-red-300 cursor-not-allowed\" :\n            `${ theme.menuBgHover } ${ theme.menuTextHover } cursor-pointer`\n        }\n      ` }>\n      { children }\n    </button>\n  )\n}\n","import React from \"react\"\n\nconst Text = ({ children }) =>\n  <div className=\"px-1 font-serif font-semibold\" style={ { fontSize: \"1.25em\" } }>\n    { children }\n  </div>\n\nconst Icon = ({ children }) =>\n  <div className=\"flex item-center justify-center px-1\">\n    { children }\n  </div>\n\nexport default ({\n  // \"blockquote\": (\n  //   <svg viewBox=\"0 0 24 24\"\n  //     height=\"24\" width=\"24\"\n  //     xmlns=\"http://www.w3.org/2000/svg\">\n  //     <path d=\"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z\" />\n  //     <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  //   </svg>\n  // ),\n  \"blockquote\": (\n    <Icon><span className=\"fas fa-quote-right\"/></Icon>\n  ),\n  // \"code-block\": (\n  //   <svg viewBox=\"0 0 24 24\"\n  //     height=\"24\" width=\"24\"\n  //     xmlns=\"http://www.w3.org/2000/svg\">\n  //     <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n  //     <path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/>\n  //   </svg>\n  // ),\n  \"code-block\": (\n    <Icon><span className=\"fas fa-code\"/></Icon>\n  ),\n  \"header-one\": <Text>H1</Text>,\n  \"header-two\": <Text>H2</Text>,\n  \"header-three\": <Text>H3</Text>,\n  // \"ordered-list-item\": (\n  //   <svg viewBox=\"0 0 24 24\"\n  //     height=\"24\" width=\"24\"\n  //     xmlns=\"http://www.w3.org/2000/svg\">\n  //     <path d=\"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\"/>\n  //     <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n  //   </svg>\n  // ),\n  \"ordered-list-item\": (\n    <Icon><span className=\"fas fa-list-ol\" style={ { fontSize: \"1.25em\" } }/></Icon>\n  ),\n  // \"unordered-list-item\": (\n  //   <svg viewBox=\"0 0 24 24\"\n  //     height=\"24\" width=\"24\"\n  //     xmlns=\"http://www.w3.org/2000/svg\">\n  //     <path d=\"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\"/>\n  //     <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n  //   </svg>\n  // ),\n  \"unordered-list-item\": (\n    <Icon><span className=\"fas fa-list-ul\" style={ { fontSize: \"1.25em\" } }/></Icon>\n  ),\n\n  // \"BOLD\": (\n  //   <Icon><span className=\"fas fa-bold\"/></Icon>\n  // ),\n  \"BOLD\": (\n    <Text>B</Text>\n  ),\n  // \"CODE\": (\n  //   <svg viewBox=\"0 0 24 24\"\n  //     height=\"24\" width=\"24\"\n  //     xmlns=\"http://www.w3.org/2000/svg\">\n  //     <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n  //     <path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/>\n  //   </svg>\n  // ),\n  \"CODE\": (\n    <Icon><span className=\"fas fa-code\"/></Icon>\n  ),\n  // \"ITALIC\": (\n  //   <svg viewBox=\"0 0 24 24\"\n  //     height=\"24\" width=\"24\"\n  //     xmlns=\"http://www.w3.org/2000/svg\">\n  //     <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n  //     <path d=\"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z\"/>\n  //   </svg>\n  // ),\n  // \"ITALIC\": (\n  //   <Icon><span className=\"fas fa-italic\"/></Icon>\n  // ),\n  \"ITALIC\": (\n    <Text><i>I</i></Text>\n  ),\n  \"STRIKETHROUGH\": (\n    <Text><strike>&nbsp;S&nbsp;</strike></Text>\n  ),\n  \"SUBSCRIPT\": (\n    <Text>\n      x<sub>2</sub>\n    </Text>\n  ),\n  \"SUPERSCRIPT\": (\n    <Text>\n      x<sup>2</sup>\n    </Text>\n  ),\n  \"UNDERLINE\": (\n    <Text><u>U</u></Text>\n  ),\n  // \"text-left\": (\n  //   <svg viewBox=\"0 0 24 24\"\n  //     height=\"24\" width=\"24\"\n  //     xmlns=\"http://www.w3.org/2000/svg\">\n  //     <path d=\"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L17,17 L17,7 L3,7 Z\" />\n  //     <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  //   </svg>\n  // ),\n  \"text-left\": (\n    <Icon><span className=\"fas fa-align-left\" style={ { fontSize: \"1.25em\" } }/></Icon>\n  ),\n  // \"text-center\": (\n  //   <svg viewBox=\"0 0 24 24\"\n  //     height=\"24\" width=\"24\"\n  //     xmlns=\"http://www.w3.org/2000/svg\">\n  //     <path d=\"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M5,7 L5,17 L19,17 L19,7 L5,7 Z\" />\n  //     <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  //   </svg>\n  // ),\n  \"text-center\": (\n    <Icon><span className=\"fas fa-align-center\" style={ { fontSize: \"1.25em\" } }/></Icon>\n  ),\n  // \"text-right\": (\n  //   <svg viewBox=\"0 0 24 24\" transform=\"scale(-1 1)\"\n  //     height=\"24\" width=\"24\"\n  //     xmlns=\"http://www.w3.org/2000/svg\">\n  //     <path d=\"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L17,17 L17,7 L3,7 Z\" />\n  //     <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  //   </svg>\n  // ),\n  \"text-right\": (\n    <Icon><span className=\"fas fa-align-right\" style={ { fontSize: \"1.25em\" } }/></Icon>\n  ),\n  \"text-justify\": (\n    <Icon><span className=\"fas fa-align-justify\" style={ { fontSize: \"1.25em\" } }/></Icon>\n  ),\n\n  \"indent\": (\n    <Icon><span className=\"fas fa-indent\" style={ { fontSize: \"1.25em\" } }/></Icon>\n  ),\n  \"outdent\": (\n    <Icon><span className=\"fas fa-outdent\" style={ { fontSize: \"1.25em\" } }/></Icon>\n  )\n})\n\n/*const BoldOld =\n  <svg height=\"24\" width=\"24\"\n    viewBox=\"0 0 24 24\"\n    xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\"/>\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n  </svg>\n\n\nconst UnderlineOld =\n  <svg\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n    <path d=\"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\"/>\n  </svg>\n*/\n","import React from \"react\"\n\nimport { Modifier, EditorState } from 'draft-js';\n\nimport Button from \"./button\"\nimport ICONS from \"./icons\"\n\nexport default (dataType, buttonType, store) =>\n  () => {\n    const {\n      getEditorState,\n      setEditorState\n    } = store;\n    const editorState = getEditorState();\n\n    const getStartData = contentState =>\n      contentState\n        .getBlockForKey(editorState.getSelection().getStartKey())\n        .getData()\n\n    const isActive = () => {\n      const data = getStartData(editorState.getCurrentContent());\n      return data.get(dataType) === buttonType;\n    }\n\n    const click = e => {\n      e.preventDefault();\n      const contentState = editorState.getCurrentContent(),\n        selectionState = editorState.getSelection(),\n        blockData = getStartData(contentState),\n\n        newContentState = Modifier.setBlockData(\n          contentState,\n          selectionState,\n          isActive() ? blockData.delete(dataType) : blockData.set(dataType, buttonType)\n        );\n\n      setEditorState(\n        EditorState.set(\n          editorState,\n          { currentContent: newContentState }\n        )\n      );\n    }\n\n    return (\n      <Button active={ isActive() } onClick={ click }>\n        { ICONS[buttonType] }\n      </Button>\n    )\n  }\n","import React from \"react\"\n\nimport { Modifier, EditorState } from 'draft-js';\n\nimport Button from \"./button\"\nimport ICONS from \"./icons\"\n\nexport default (dataType, buttonType, store, shift, max, min = 0) =>\n  () => {\n    const {\n      getEditorState,\n      setEditorState\n    } = store;\n    const editorState = getEditorState();\n\n    const getStartData = React.useCallback(contentState =>\n      contentState\n        .getBlockForKey(editorState.getSelection().getStartKey())\n        .getData()\n    , [editorState]);\n\n    const isDisabled = React.useCallback(() => {\n      const data = getStartData(editorState.getCurrentContent()),\n        value = data.get(dataType) || 0;\n      return (value + shift < min) || (value + shift > max);\n    }, [getStartData, editorState]);\n\n    const click = React.useCallback(e => {\n      e.preventDefault();\n      const contentState = editorState.getCurrentContent(),\n        selectionState = editorState.getSelection(),\n        blockData = getStartData(contentState);\n\n      let value = blockData.get(dataType) || min;\n      value = Math.max(min, Math.min(max, value + shift));\n\n      const newContentState = Modifier.setBlockData(\n        contentState,\n        selectionState,\n        value > min ? blockData.set(dataType, value) : blockData.delete(dataType)\n      );\n\n      setEditorState(\n        EditorState.set(\n          editorState,\n          { currentContent: newContentState }\n        )\n      );\n    }, [getStartData, editorState, setEditorState]);\n\n    return (\n      <Button disabled={ isDisabled() } onClick={ click }>\n        { ICONS[buttonType] }\n      </Button>\n    )\n  }\n","import React from \"react\"\n\nimport { RichUtils } from 'draft-js';\n\nimport Button from \"./button\"\nimport ICONS from \"./icons\"\n\nexport default (buttonType, store) =>\n  () => {\n    const {\n      getEditorState,\n      setEditorState\n    } = store;\n    const editorState = getEditorState();\n    const click = e => {\n      e.preventDefault();\n      setEditorState(\n        RichUtils.toggleBlockType(editorState, buttonType)\n      );\n    }\n    const isActive = () =>\n      editorState\n        .getCurrentContent()\n        .getBlockForKey(editorState.getSelection().getStartKey())\n        .getType() === buttonType;\n\n    return (\n      <Button active={ isActive() }\n        onClick={ click }>\n        { ICONS[buttonType] }\n      </Button>\n    )\n  }\n","import React from \"react\"\n\nimport { RichUtils } from 'draft-js';\n\nimport Button from \"./button\"\nimport ICONS from \"./icons\"\n\nexport default (buttonType, store) =>\n  () => {\n    const {\n      getEditorState,\n      setEditorState\n    } = store;\n    const editorState = getEditorState();\n    const click = e => {\n      e.preventDefault();\n      setEditorState(\n        RichUtils.toggleInlineStyle(editorState, buttonType)\n      );\n    }\n    const isActive = () =>\n      editorState\n        .getCurrentInlineStyle()\n        .has(buttonType)\n\n    return (\n      <Button active={ isActive() } onClick={ click }>\n        { ICONS[buttonType] }\n      </Button>\n    )\n  }\n","//import React from \"react\"\n\nimport Immutable from \"immutable\"\n\nimport makeBlockDataButton from \"./makeBlockDataButton\"\nimport makeDataRangeButton from \"./makeDataRangeButton\"\nimport makeBlockStyleButton from \"./makeBlockStyleButton\"\nimport makeInlineStyleButton from \"./makeInlineStyleButton\"\n\nexport default () => {\n  const store = {\n    blockMap: Immutable.OrderedMap()\n  };\n\n  const getBlockMap = editorState => {\n    const selection = editorState.getSelection(),\n      startKey = selection.getStartKey(),\n      endKey = selection.getEndKey();\n    let found = false;\n    return editorState.getCurrentContent()\n      .getBlockMap()\n      .reduce((a, block) => {\n        const key = block.getKey();\n        if (key === startKey) {\n          found = true;\n        }\n        if (found) {\n          a = a.set(key, block);\n        }\n        if (key === endKey) {\n          found = false;\n        }\n        return a;\n      }, Immutable.OrderedMap())\n  }\n\n  return {\n    initialize: ({ getEditorState, setEditorState }) => {\n      store.getEditorState = getEditorState;\n      store.setEditorState = setEditorState;\n      store.blockMap = getBlockMap(getEditorState());\n    },\n    onChange: editorState => {\n      store.blockMap = getBlockMap(editorState);\n      return editorState;\n    },\n    BlockQuoteButton: makeBlockStyleButton(\"blockquote\", store),\n    CodeBlockButton: makeBlockStyleButton(\"code-block\", store),\n    HeaderOneButton: makeBlockStyleButton(\"header-one\", store),\n    HeaderTwoButton: makeBlockStyleButton(\"header-two\", store),\n    HeaderThreeButton: makeBlockStyleButton(\"header-three\", store),\n    OrderedListButton: makeBlockStyleButton(\"ordered-list-item\", store),\n    UnorderedListButton: makeBlockStyleButton(\"unordered-list-item\", store),\n\n    BoldButton: makeInlineStyleButton(\"BOLD\", store),\n    CodeButton: makeInlineStyleButton(\"CODE\", store),\n    ItalicButton: makeInlineStyleButton(\"ITALIC\", store),\n    StrikeThroughButton: makeInlineStyleButton(\"STRIKETHROUGH\", store),\n    SubScriptButton: makeInlineStyleButton(\"SUBSCRIPT\", store),\n    SuperScriptButton: makeInlineStyleButton(\"SUPERSCRIPT\", store),\n    UnderlineButton: makeInlineStyleButton(\"UNDERLINE\", store),\n\n    LeftAlignButton: makeBlockDataButton(\"textAlign\", \"text-left\", store),\n    CenterAlignButton: makeBlockDataButton(\"textAlign\", \"text-center\", store),\n    RightAlignButton: makeBlockDataButton(\"textAlign\", \"text-right\", store),\n    JustifyAlignButton: makeBlockDataButton(\"textAlign\", \"text-justify\", store),\n\n    TextIndentButton: makeDataRangeButton(\"textIndent\", \"indent\", store, 1, 4),\n    TextOutdentButton: makeDataRangeButton(\"textIndent\", \"outdent\", store, -1, 4)\n  }\n}\n","import React from \"react\"\n\nimport { EditorState, AtomicBlockUtils, Modifier, SelectionState } from 'draft-js';\n\nexport default (options = {}) => {\n  const {\n    wrappers = []\n  } = options;\n\n  const ImageBlock = React.forwardRef(({ blockProps, compProps }, ref) =>\n    <img src={ blockProps.src } key={ blockProps.key } { ...compProps } ref={ ref } alt=\"\"/>\n  )\n\n  const WrappedBlock = wrappers.reduce((a, c) => c(a), ImageBlock);\n\n  return {\n    blockRendererFn: (block, { getEditorState }) => {\n      if (block.getType() === \"atomic\") {\n        const contentState = getEditorState().getCurrentContent(),\n          entityKey = block.getEntityAt(0);\n\n        if (!entityKey) return null;\n\n        const entity = contentState.getEntity(entityKey),\n          type = entity.getType();\n\n        if (type === \"IMAGE\") {\n          return {\n            component: WrappedBlock,\n            editable: false,\n            props: {\n              src: entity.getData().src,\n              key: entityKey\n            }\n          };\n        }\n      }\n      return null;\n    },\n    addImage: (src, editorState) => {\n      const contentState = editorState.getCurrentContent()\n          .createEntity(\n            'IMAGE',\n            'IMMUTABLE',\n            { src }\n          ),\n        entityKey = contentState.getLastCreatedEntityKey(),\n        newEditorState = AtomicBlockUtils.insertAtomicBlock(editorState, entityKey, 'IMAGE-BLOCK');\n\n      const newContentState = newEditorState.getCurrentContent();\n\n      const beforeKey = newContentState.getSelectionBefore().getStartKey(),\n        block = newContentState.getBlockForKey(beforeKey);\n\n      if (block.getLength() > 0) return newEditorState;\n\n      const firstBlock = newContentState.getFirstBlock(),\n        lastBlock = newContentState.getLastBlock(),\n        selectAll = new SelectionState({ anchorKey: firstBlock.getKey(), focusKey: lastBlock.getKey() }),\n        currentContent =  Modifier.replaceWithFragment(\n          newContentState,\n          selectAll,\n          newContentState.getBlockMap().filter(b => b.getKey() !== beforeKey)\n        ),\n        anchorKey = currentContent.getLastBlock().getKey();\n\n      return EditorState.forceSelection(\n        EditorState.set(\n          newEditorState,\n          { currentContent }\n        ),\n        new SelectionState({ anchorKey, focusKey: anchorKey })\n      )\n    }\n  }\n}\n","import React from \"react\"\n\nimport linkifyIt from \"linkify-it\"\nimport tlds from \"tlds\"\n\nconst linkify = linkifyIt()\n  .tlds(tlds)\n  .add(\"ftp\", null)\n  .set({ fuzzyIP: true });\n\nconst Link = ({ store, options, decoratedText, children, ...props }) => {\n  const links = linkify.match(decoratedText),\n    href = links && links.pop().url;\n\n  const {\n    target = \"_blank\"\n  } = options;\n\n  return store.getReadOnly() ?\n    <a className=\"text-blue-500 underline cursor-pointer\"\n      href={ href } target={ target }>\n      { children }\n    </a>\n  :\n    <div className=\"inline-block relative hoverable\">\n      <div className=\"text-blue-500 underline cursor-pointer\">\n        { children }\n      </div>\n      <div className=\"read-only-link-tooltip show-on-hover show-on-bottom pb-1 px-2 bg-gray-200 absolute z-50 rounded\"\n        onClick={ e => e.stopPropagation() } contentEditable={ false }>\n        <a className=\"text-blue-500 underline cursor-pointer\"\n          href={ href } target={ target }>\n          { href }\n        </a>\n      </div>\n    </div>\n}\n\nconst strategy = (contentBlock, callback) => {\n  const text = contentBlock.getText(),\n    links = linkify.match(text);\n  links && links.forEach(({ index, lastIndex }) => callback(index, lastIndex));\n}\n\nexport default (options = {}) => {\n  const store = {};\n  return {\n    initialize: ({ getReadOnly }) => {\n      store.getReadOnly = getReadOnly;\n    },\n    decorators: [\n      { strategy,\n        component: props => <Link { ...props } store={ store } options={ options }/>\n      }\n    ]\n  }\n}\n","import React from \"react\"\n\nconst makeStrategy = script =>\n  (contentBlock, callback, contentState) => {\n    const characterList = contentBlock.getCharacterList();\n    let start = null;\n    characterList.forEach((c, i) => {\n      const hasStyle = c.hasStyle(script);\n      if (hasStyle && (start === null)) {\n        start = i;\n      }\n      else if (!hasStyle) {\n        if (start !== null) {\n          callback(start, i);\n        }\n        start = null;\n      }\n    })\n    if (start !== null) {\n      callback(start, characterList.size);\n    }\n  }\n\nexport default () => ({\n  decorators: [\n    { strategy: makeStrategy(\"SUPERSCRIPT\"),\n      component: props => <sup>{ props.children }</sup>\n    },\n    { strategy: makeStrategy(\"SUBSCRIPT\"),\n      component: props => <sub>{ props.children }</sub>\n    }\n  ]\n})\n","export const combineCompProps = (...props) =>\n  props.reduce((a, c) => {\n    for (const key in c) {\n      if (!(key in a)) {\n        a[key] = c[key];\n      }\n      else {\n        switch (key) {\n          case \"className\":\n            a[key] = `${ a[key] } ${ c[key] }`;\n            break;\n          case \"style\":\n            a[key] = { ...a[key], ...c[key] };\n            break;\n          case \"onMouseOut\":\n          case \"onMouseDown\":\n          case \"onMouseMove\": {\n            const prev = a[key];\n            a[key] = e => {\n              prev(e);\n              c[key](e);\n            }\n            break;\n          }\n          default:\n            break;\n        }\n      }\n    }\n    return a;\n  }, {})\n","import React from \"react\"\n\nimport { useSetRefs } from \"@availabs/avl-components\"\n\nimport throttle from \"lodash.throttle\"\n\nimport { combineCompProps } from \"../utils\"\n\nconst POSITIONS = [\"block\", \"inline-block float-left mr-2\", \"block mx-auto\", \"inline-block float-right ml-2\"]\n\nconst BUTTONS = [\n  <svg viewBox=\"0 0 24 24\"\n    height=\"24\" width=\"24\"\n    xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L17,17 L17,7 L3,7 Z\" />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>,\n  <svg viewBox=\"0 0 24 24\"\n    height=\"24\" width=\"24\"\n    xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M21,15 L15,15 L15,17 L21,17 L21,15 Z M21,7 L15,7 L15,9 L21,9 L21,7 Z M15,13 L21,13 L21,11 L15,11 L15,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L13,17 L13,7 L3,7 Z\" />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>,\n  <svg viewBox=\"0 0 24 24\"\n    height=\"24\" width=\"24\"\n    xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M5,7 L5,17 L19,17 L19,7 L5,7 Z\" />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>,\n  <svg viewBox=\"0 0 24 24\"\n    height=\"24\" width=\"24\"\n    xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M9,15 L3,15 L3,17 L9,17 L9,15 Z M9,7 L3,7 L3,9 L9,9 L9,7 Z M3,13 L9,13 L9,11 L3,11 L3,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M11,7 L11,17 L21,17 L21,7 L11,7 Z\" />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>\n]\n\nexport default store =>\n  Component =>\n    React.forwardRef(({ compProps = {}, ...props }, ref) => {\n      const {\n        block, contentState, blockProps = {}\n      } = props;\n      const {\n        adjustPosition,\n        position\n      } = blockProps;\n\n      const handleClick = (e, p) => {\n        e.preventDefault();\n        if (p !== position) {\n          adjustPosition(block, contentState, p);\n          setDisplay(\"none\");\n        }\n      }\n\n      const figRef = React.useRef(),\n        compRef = React.useRef(),\n        [display, setDisplay] = React.useState(\"none\"),\n        [pos, setPos] = React.useState([0, 0]);\n\n      const _onMouseMove = React.useCallback(e => {\n          setDisplay(\"flex\");\n          if (compRef.current) {\n            const figRect = figRef.current.getBoundingClientRect(),\n              compRect = compRef.current.getBoundingClientRect();\n            setPos([\n              (compRect.x - figRect.x), compRect.width\n            ]);\n          }\n        }, [figRef, compRef]),\n        onMouseMove = React.useMemo(() => throttle(_onMouseMove, 25), [_onMouseMove]);\n\n      const newCompProps = combineCompProps(\n        compProps,\n        { className: POSITIONS[position] }\n      )\n\n      return (\n        <figure ref={ figRef } className=\"relative\" key={ blockProps.key }\n          onMouseMove={ onMouseMove }\n          onMouseOut={ e => { setDisplay(\"none\"); onMouseMove.cancel() } }>\n\n          <div className={ `absolute top-0 p-1 z-10 justify-center` }\n            style={ {\n              display: store.getReadOnly() ? \"none\" : display,\n              left: `${ pos[0] }px`, width: `${ pos[1] }px`\n            } }>\n            { BUTTONS.map((b, i) =>\n                <button className={ `\n                    py-1 px-2 bg-gray-100 hover:bg-gray-300\n                    ${ position === i ? \"bg-gray-300\" : \"\" }\n                  ` }\n                  onClick={ e => handleClick(e, i) } key={ i }\n                  onMouseDown={ e => e.preventDefault() }>\n                  { b }\n                </button>\n              )\n            }\n          </div>\n\n          <Component ref={ useSetRefs(ref, compRef) }\n            compProps={ newCompProps } { ...props }/>\n\n        </figure>\n      )\n    })\n","import { EditorState } from 'draft-js';\n\nimport makeWrapper from \"./wrapper\"\n\nexport default () => {\n  const store = {};\n\n  const adjustPosition = (block, contentState, position) => {\n    const entityKey = block.getEntityAt(0),\n      editorState = store.getEditorState();\n    contentState.mergeEntityData(entityKey, { position });\n    store.setEditorState(\n      EditorState.forceSelection(\n        editorState,\n        editorState.getSelection()\n      )\n    )\n  }\n\n  return {\n    initialize: ({ getEditorState, setEditorState, getReadOnly }) => {\n      store.getEditorState = getEditorState;\n      store.setEditorState = setEditorState;\n      store.getReadOnly = getReadOnly;\n    },\n    blockRendererFn: (block, { getEditorState }) => {\n      if (block.getType() === \"atomic\") {\n        const contentState = getEditorState().getCurrentContent(),\n          entityKey = block.getEntityAt(0);\n\n        if (!entityKey) return null;\n\n        const { position = 0 } = contentState.getEntity(entityKey).getData();\n        \n        return {\n          props: {\n            adjustPosition,\n            position,\n            key: entityKey\n          }\n        };\n      }\n      return null;\n    },\n    wrapper: makeWrapper(store)\n  }\n}\n","import React from \"react\"\nimport { EditorState, DefaultDraftBlockRenderMap, getDefaultKeyBinding } from \"draft-js\"\n\nimport Immutable from \"immutable\"\n\nconst customStyleMap = {\n  'STRIKETHROUGH': {\n    textDecoration: 'line-through',\n  }\n};\n\nconst blockStyleFn = block => {\n  const textAlign = block.getData().get(\"textAlign\"),\n    textIndent = block.getData().get(\"textIndent\");\n\n  const styles = [\n    textIndent ? `indent-${ textIndent }` : \"\",\n    textAlign || \"\"\n  ]\n\n  const type = block.getType();\n  switch (type) {\n    case \"header-one\":\n      styles.push(\"text-3xl font-extrabold\");\n      break;\n    case \"header-two\":\n      styles.push(\"text-2xl font-bold\");\n      break;\n    case \"header-three\":\n      styles.push(\"text-xl font-semibold\");\n      break;\n    case \"header-four\":\n      styles.push(\"text-base font-medium\");\n      break;\n    case \"header-five\":\n      styles.push(\"text-sm font-medium\");\n      break;\n    case \"header-six\":\n      styles.push(\"text-xs font-medium\");\n      break;\n    case \"blockquote\":\n      styles.push(\"rounded bg-gray-200 py-2 px-3 m-2\");\n      break;\n    default:\n      break;\n  }\n  return styles.filter(Boolean).join(\" \");\n}\n\nconst myBlockRenderMap = Immutable.Map({\n  \"blockquote\": {\n    element: \"blockquote\",\n    wrapper: <div className=\"rounded bg-gray-100 p-2 my-2\"/>\n  },\n  \"code-block\": {\n    element: \"pre\",\n    wrapper: <pre className=\"border font-mono py-2 px-3 rounded bg-gray-50 my-2\"/>\n  },\n  \"atomic\": {\n    element: \"figure\",\n    wrapper: <figure className=\"relative z-10\"/>\n  }\n})\nconst blockRenderMap = DefaultDraftBlockRenderMap.merge(myBlockRenderMap);\n\nconst hasListSelected = editorState =>\n  editorState.getCurrentContent()\n    .getBlockForKey(editorState.getSelection().getStartKey())\n    .getType().includes(\"ordered-list-item\");\n\nconst onTab = (store, e) => {\n\n  if (!((+e.keyCode === 9) || (+e.code === 0x000f))) return getDefaultKeyBinding(e);\n  if (!hasListSelected(store.getEditorState())) return getDefaultKeyBinding(e);\n  e.preventDefault();\n\n  let found = false;\n  const direction = e.shiftKey ? -1 : 1,\n\n    editorState = store.getEditorState(),\n\n    contentState = editorState.getCurrentContent(),\n    blockMap = contentState.getBlockMap(),\n\n    selection = editorState.getSelection(),\n    startKey = selection.getStartKey(),\n    endKey = selection.getEndKey(),\n\n    newBlockMap = blockMap.reduce((a, block) => {\n      const depth = block.getDepth(),\n        key = block.getKey();\n      if (key === startKey) {\n        found = true;\n      }\n      if (found) {\n        block = block.set(\"depth\", Math.max(0, Math.min(4, depth + direction)));\n      }\n      if (key === endKey) {\n        found = false;\n      }\n      return a.set(block.getKey(), block);\n    }, blockMap);\n\n  store.setEditorState(\n    EditorState.forceSelection(\n      EditorState.push(\n        editorState,\n        contentState.merge({ blockMap: newBlockMap }),\n        'adjust-depth'\n      ),\n      selection\n    )\n  );\n}\n\nexport default () => {\n  const store = {};\n\n  return {\n    initialize: ({ getEditorState, setEditorState, ...rest }) => {\n      store.getEditorState = getEditorState;\n      store.setEditorState = setEditorState;\n    },\n    keyBindingFn: onTab.bind(null, store),\n    customStyleMap,\n    blockStyleFn,\n    blockRenderMap\n  }\n}\n","import React from \"react\"\n\nimport { useSetRefs } from \"@availabs/avl-components\"\n\nimport throttle from \"lodash.throttle\"\n\nimport { combineCompProps } from \"../utils\"\n\nexport default store =>\n  Component =>\n    React.forwardRef(({ compProps = {}, ...props }, ref) => {\n      const {\n        block, contentState, blockProps = {}\n      } = props;\n\n      const {\n        adjustWidth,\n        width = null\n      } = blockProps\n\n      const compRef = React.useRef(),\n        [hovering, setHovering] = React.useState(false),\n        [canResize, setCanResize] = React.useState(0);\n\n      const [resizing, setResizing] = React.useState(0),\n        [screenX, setScreenX] = React.useState(0);\n\n      const _onResize = React.useCallback(e => {\n          e.preventDefault();\n          if (compRef.current && resizing) {\n            const compRect = compRef.current.getBoundingClientRect(),\n              diff = screenX - e.screenX,\n              width = compRect.width - diff * resizing;\n            setScreenX(e.screenX);\n            adjustWidth(block, contentState, width);\n          }\n        }, [compRef, resizing, screenX, adjustWidth, block, contentState]),\n\n        onResize = React.useMemo(() => throttle(_onResize, 25), [_onResize]),\n\n        onMouseUp = React.useCallback(e => {\n          setResizing(0);\n        }, []);\n\n      React.useEffect(() => {\n        document.addEventListener(\"mousemove\", onResize);\n        document.addEventListener(\"mouseup\", onMouseUp);\n        return () => {\n          document.removeEventListener(\"mousemove\", onResize);\n          document.removeEventListener(\"mouseup\", onMouseUp);\n        }\n      }, [onResize, onMouseUp]);\n\n      const onMouseMove = React.useCallback(e => {\n        setHovering(true);\n        if (compRef.current) {\n          const compRect = compRef.current.getBoundingClientRect();\n          if ((e.clientX >= compRect.x) && (e.clientX <= (compRect.x + 20))) {\n            setCanResize(-1);\n          }\n          else if ((e.clientX >= (compRect.x + compRect.width - 20)) && (e.clientX <= (compRect.x + compRect.width))) {\n            setCanResize(1);\n          }\n          else {\n            setCanResize(0);\n          }\n        }\n      }, [compRef]);\n\n      const onMouseDown = React.useCallback(e => {\n        if (canResize) {\n          e.preventDefault();\n          setResizing(canResize);\n          setScreenX(e.screenX);\n        }\n      }, [canResize]);\n\n      const newCompProps = combineCompProps(\n        compProps,\n        { style: {\n            width: width ? `${ width }px` : null,\n            cursor: canResize ? \"ew-resize\" : \"auto\",\n            boxShadow: hovering || resizing ?\n              \"0 0 2px 4px rgba(0, 0, 0, 0.25)\" : \"\"\n          },\n          onMouseDown\n        }\n      );\n\n      return (\n        <figure className=\"relative\" key={ blockProps.key }\n          onMouseMove={ store.getReadOnly() ? null : onMouseMove }\n          onMouseOut={ e => setHovering(false) }>\n\n          <Component ref={ useSetRefs(ref, compRef) }\n            compProps={ newCompProps } { ...props }/>\n\n        </figure>\n      )\n    })\n","import { EditorState } from 'draft-js';\n\nimport makeWrapper from \"./wrapper\"\n\nexport default () => {\n  const store = {};\n\n  const adjustWidth = (block, contentState, width) => {\n    const entityKey = block.getEntityAt(0),\n      editorState = store.getEditorState();\n    contentState.mergeEntityData(entityKey, { width });\n    store.setEditorState(\n      EditorState.forceSelection(\n        editorState,\n        editorState.getSelection()\n      )\n    )\n  }\n\n  return {\n    initialize: ({ getEditorState, setEditorState, getReadOnly }) => {\n      store.getEditorState = getEditorState;\n      store.setEditorState = setEditorState;\n      store.getReadOnly = getReadOnly;\n\n      store.resizing = 0;\n      store.screenX = null;\n    },\n    blockRendererFn: (block, { getEditorState }) => {\n      if (block.getType() === \"atomic\") {\n        const contentState = getEditorState().getCurrentContent(),\n          entityKey = block.getEntityAt(0);\n\n        if (!entityKey) return null;\n\n        const { width = null } = contentState.getEntity(entityKey).getData();\n\n        return {\n          props: {\n            adjustWidth,\n            width,\n            key: entityKey\n          }\n        };\n      }\n      return null;\n    },\n    wrapper: makeWrapper(store)\n  }\n}\n","import React from \"react\"\n\nimport {\n  EditorState,\n  convertFromRaw,\n  CompositeDecorator\n} from 'draft-js';\nimport Editor from \"@draft-js-plugins/editor\"\n\nimport 'draft-js/dist/Draft.css';\nimport './styles.css'\n\nimport makeButtonPlugin from './buttons';\nimport makeImagePlugin from \"./image\"\nimport makeLinkItPlugin from \"./linkify-it\"\nimport makeSuperSubScriptPlugin from \"./super-sub-script\"\nimport makePositionablePlugin from \"./positionable\"\nimport makeStuffPlugin from \"./stuff\"\nimport makeResizablePlugin from \"./resizable\"\n\nconst positionablePlugin = makePositionablePlugin();\nconst resizablePlugin = makeResizablePlugin();\n\nconst imagePlugin = makeImagePlugin({\n  wrappers: [\n    positionablePlugin.wrapper,\n    resizablePlugin.wrapper\n  ]\n});\n\nconst linkItPlugin = makeLinkItPlugin();\n\nconst plugins = [\n  makeButtonPlugin(),\n  imagePlugin,\n  linkItPlugin,\n  makeSuperSubScriptPlugin(),\n  positionablePlugin,\n  resizablePlugin,\n  makeStuffPlugin()\n];\n\nconst decorator = new CompositeDecorator(\n  linkItPlugin.decorators\n)\n\nclass ReadOnlyEditor extends React.Component {\n  static defaultProps = {\n    spellCheck: true,\n    isRaw: true\n  }\n  state = {\n    editorState: EditorState.createEmpty()\n  }\n\n  componentDidMount() {\n    this.loadFromProps();\n  }\n  componentDidUpdate() {\n    if (!this.props.isRaw && (this.props.value !== this.state.editorState)) {\n      this.loadFromProps();\n    }\n  }\n  loadFromProps() {\n    if (this.props.isRaw && this.props.value) {\n      this.loadFromRawContent(this.props.value);\n    }\n    else if (!this.props.isRaw) {\n      this.onChange(this.props.value);\n    }\n  }\n\n  loadFromRawContent(content) {\n    const editorState = EditorState.createWithContent(\n      convertFromRaw(content),\n      decorator\n    );\n    this.onChange(editorState);\n  }\n\n  onChange(editorState) {\n    this.setState({ editorState });\n  }\n\n  render() {\n    if (!this.props.value) return null;\n\n    return (\n      <div className=\"draft-js-editor read-only-editor flow-root\">\n        <Editor editorState={ this.state.editorState }\n          onChange={ es => this.onChange(es) }\n          plugins={ plugins }\n          readOnly={ true }\n          spellCheck={ this.props.spellCheck }/>\n      </div>\n    );\n  }\n}\nexport default ReadOnlyEditor;\n","import React  from \"react\"\nimport { useTheme } from \"@availabs/avl-components\"\n\nimport { SideNav } from '@availabs/avl-components'\n\nimport ReadOnlyEditor from \"components/dms/components/editor/editor.read-only\"\n\nconst View = ({ item, dataItems, ...props }) => {\n    const theme = useTheme;\n    console.log('view', item,dataItems, props)\n\n    if (!item ) {\n        item = dataItems[0]\n    }\n    if(!item || !item.data ) return null\n\n    const { data } = item\n\n    let navItems = dataItems\n        .filter(d => d.data.sectionLanding)\n        .map((d,i) => {\n            return {\n                name: d.data.section,\n                path: `/docs/view/${d.id}`,\n                sectionClass: 'mb-4',\n                itemClass: 'font-bold',\n                children: dataItems\n                    .filter(({ data }) => !data.sectionLanding && (data.section === d.data.section))\n                    .map(p => ({name: p.data.title, path: `/docs/view/${p.id}`, itemClass: 'font-thin -mt-2'}))\n            }\n        })\n\n    return (\n        <div className={ `max-w-7xl mx-auto flex items-start`}>\n            <div className='w-60 border-2 overflow-hidden'>\n                <SideNav menuItems={navItems} />\n            </div>\n            <div className=\"w-full flex flex-col justify-center hasValue h-min-screen pl-4\">\n                <div className={`px-2 pt-2 pb-6 text-3xl font-bold leading-7 ${theme.text}`}>\n                    {data.title}\n                </div>\n                <div className={'p-2 pb-6 font-thin'}>\n                    <ReadOnlyEditor value={data.content} />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default View\n","import { /*docsPage, docsSection,*/ ctpDoc } from './docs.type'\n//import SectionManager from './components/SectionManager'\n//import PageEdit from './components/PageEdit'\nimport PageView from './components/PageView'\n\nlet config = {\n    type: \"dms-manager\", // top level component for managing data items\n      wrappers: [\n        \"dms-manager\",\n        \"dms-provider\",\n        \"dms-falcor\",\n        \"dms-router\"\n      ],\n      props: {\n        format: ctpDoc,\n        title: \" \",\n        className: 'h-full',\n        noHeader: true\n      },\n      children: [\n        { type: PageView,\n          dmsAction: \"view\"\n        },\n      ]\n}\n\nexport default config","import React from \"react\"\n\nimport { useTheme } from \"@availabs/avl-components\"\n\nconst Separator = ({ ...props }) =>\n  <div className=\"border-r border-l mx-2 border-current\" style={ { borderColor: \"currentColor\" } }/>\n\nexport default (options = {}) => {\n  const {\n    position = \"top\",\n    direction = \"row\"\n  } = options;\n\n  const store = {};\n\n  const Toolbar = ({ children }) => {\n    const theme = useTheme();\n    return (\n      <div className={ `absolute ${ position }-0 left-0 w-full p-2 z-10 h-14` }>\n        <div className={ `flex flex-${ direction } shadow-md h-10 p-1 rounded ${ theme.menuBg } w-full` }>\n          { children }\n        </div>\n      </div>\n    )\n  }\n\n  return {\n    initialize: ({ getEditorState, setEditorState, getProps }) => {\n      store.getEditorState = getEditorState;\n      store.setEditorState = setEditorState;\n    },\n    Toolbar,\n    Separator\n  }\n}\n","import React from \"react\"\n\nimport { useTheme, imgLoader, showLoading } from \"@availabs/avl-components\"\n\nimport {\n  EditorState,\n  CompositeDecorator,\n  convertToRaw,\n  convertFromRaw\n} from 'draft-js';\nimport Editor from \"@draft-js-plugins/editor\"\n\nimport 'draft-js/dist/Draft.css';\nimport './styles.css'\n\nimport makeButtonPlugin from './buttons';\nimport makeToolbarPlugin from \"./toolbar\"\nimport makeImagePlugin from \"./image\"\nimport makeLinkItPlugin from \"./linkify-it\"\nimport makeSuperSubScriptPlugin from \"./super-sub-script\"\nimport makePositionablePlugin from \"./positionable\"\nimport makeStuffPlugin from \"./stuff\"\nimport makeResizablePlugin from \"./resizable\"\n\nconst buttonPlugin = makeButtonPlugin(),\n  { BlockQuoteButton,\n    CodeBlockButton,\n    HeaderOneButton,\n    HeaderTwoButton,\n    HeaderThreeButton,\n    OrderedListButton,\n    UnorderedListButton,\n    BoldButton,\n    CodeButton,\n    ItalicButton,\n    StrikeThroughButton,\n    SubScriptButton,\n    SuperScriptButton,\n    UnderlineButton,\n    LeftAlignButton,\n    CenterAlignButton,\n    JustifyAlignButton,\n    RightAlignButton,\n    TextIndentButton,\n    TextOutdentButton\n  } = buttonPlugin;\n\nconst toolbarPlugin = makeToolbarPlugin(),\n  { Toolbar, Separator } = toolbarPlugin;\n\nconst positionablePlugin = makePositionablePlugin(),\n  resizablePlugin = makeResizablePlugin();\n\nconst imagePlugin = makeImagePlugin({\n    wrappers: [\n      positionablePlugin.wrapper,\n      resizablePlugin.wrapper\n    ]\n  }),\n  { addImage } = imagePlugin;\n\nconst linkItPlugin = makeLinkItPlugin();\n\nconst plugins = [\n  buttonPlugin,\n  toolbarPlugin,\n  imagePlugin,\n  linkItPlugin,\n  makeSuperSubScriptPlugin(),\n\n  positionablePlugin,\n  resizablePlugin,\n\n  makeStuffPlugin()\n];\n\nconst decorator = new CompositeDecorator(\n  linkItPlugin.decorators\n)\n\nexport const createEmpty = () =>\n  EditorState.createEmpty(decorator);\nexport const createWithContent = content =>\n  EditorState.createWithContent(convertFromRaw(content), decorator);\nexport const createEditorState = value =>\n  Boolean(value) ? createWithContent(value) : createEmpty();\nexport { convertToRaw }\n\nexport const loadFromLocalStorage = id => {\n  if (window.localStorage) {\n    let saved = JSON.parse(window.localStorage.getItem(id));\n    if (saved) {\n      if ((saved = convertFromRaw(saved)).hasText()) {\n        return createWithContent(saved);\n      }\n      else {\n        window.localStorage.removeItem(id);\n      }\n    }\n  }\n  return createEmpty();\n}\nexport const saveToLocalStorage = (id, editorState) => {\n  if (window.localStorage) {\n    const saved = JSON.stringify(convertToRaw(editorState.getCurrentContent()));\n    window.localStorage.setItem(id, saved);\n  }\n}\n\nclass MyEditor extends React.Component {\n  static defaultProps = {\n    disabled: false,\n    autoFocus: false,\n    id: \"draft-js-editor\",\n    placeholder: \"Type a value...\"\n  }\n  constructor(props, ...args) {\n    super(props, ...args);\n    this.state = {\n      hasFocus: false\n    }\n\n    this.editor = null;\n\n    this.handleDroppedFiles = this.handleDroppedFiles.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n  }\n  componentDidMount() {\n    this.props.autoFocus && this.focus();\n  }\n  componentWillUnmount() {\n    this.editor = null;\n  }\n\n  focus() {\n    setTimeout(() => { this.editor && this.editor.focus(); }, 25);\n  }\n  handleChange(editorState) {\n    this.props.onChange(editorState);\n  }\n  handleDroppedFiles(selection, files, { getEditorState }) {\n    if (this.props.disabled || !files.length) return \"not-handled\";\n\n    const file = files[0];\n\n    if (!/^image[/]/.test(file.type)) {\n      return \"not-handled\";\n    }\n\n    this.props.uploadImage(file)\n      .then(({ filename, url }) => {\n        this.handleChange(addImage(url, getEditorState()));\n        // this.handleChange(addImage(getEditorState(), url));\n      });\n    return \"handled\";\n  }\n  onFocus(e) {\n    this.setState(state => ({ hasFocus: true }));\n    if (typeof this.props.onFocus === \"function\") {\n      this.props.onFocus(e);\n    }\n  }\n  onBlur(e) {\n    this.setState(state => ({ hasFocus: false }));\n    if (typeof this.props.onBlur === \"function\") {\n      this.props.onBlur(e);\n    }\n  }\n\n  render() {\n    return (\n      <EditorWrapper id={ this.props.id }\n        hasFocus={ this.state.hasFocus }>\n\n        <div className=\"px-2 pb-2 flow-root\">\n          <Editor ref={ n => this.editor = n }\n            placeholder={ this.props.placeholder }\n            editorState={ this.props.value }\n            onChange={ this.handleChange }\n            plugins={ plugins }\n            readOnly={ this.props.disabled }\n            handleDroppedFiles={ this.handleDroppedFiles }\n            spellCheck={ true }\n            onFocus={ this.onFocus }\n            onBlur={ this.onBlur }/>\n        </div>\n\n        <Toolbar>\n          <BoldButton />\n          <ItalicButton />\n          <StrikeThroughButton />\n          <UnderlineButton />\n          <SubScriptButton />\n          <SuperScriptButton />\n          <CodeButton />\n\n          <Separator />\n\n          <HeaderOneButton />\n          <HeaderTwoButton />\n          <HeaderThreeButton />\n\n          <Separator />\n\n          <BlockQuoteButton />\n          <CodeBlockButton />\n          <OrderedListButton />\n          <UnorderedListButton />\n\n          <Separator />\n\n          <LeftAlignButton />\n          <CenterAlignButton />\n          <JustifyAlignButton />\n          <RightAlignButton />\n\n          <Separator />\n\n          <TextOutdentButton />\n          <TextIndentButton />\n        </Toolbar>\n\n        { this.props.children }\n\n      </EditorWrapper>\n    );\n  }\n}\nconst LoadingOptions = {\n  position: \"absolute\",\n  className: \"rounded\"\n}\nexport default imgLoader(showLoading(MyEditor, LoadingOptions));\n\nconst EditorWrapper = ({ children, hasFocus, id, ...props }) => {\n  const theme = useTheme();\n  return (\n    <div className={ `pt-16 relative rounded draft-js-editor\n      ${ theme.inputBg.replace(\"cursor-pointer\", \"cursor-auto\") } w-full\n      ${ hasFocus ? theme.inputBorderFocus : theme.inputBorder }\n    ` } { ...props }>\n      { children }\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport {\n  Button,\n  useTheme,\n  imgLoader,\n  showLoading,\n  useBrush\n} from \"@availabs/avl-components\"\n\nimport get from \"lodash.get\"\n\nconst ImgInput = ({ height = 500, autoFocus = false, value: propsValue, onChange, ...props }) => {\n  const [draggingOver, setDragging] = React.useState(false);\n\n  const dragOver = e => {\n    stopIt(e);\n\n    setDragging(true);\n  }\n  const onDragExit = e => {\n    stopIt(e);\n\n    setDragging(false);\n  }\n  const stopIt = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  const [stack, setStack] = React.useState([]),\n    [index, setIndex] = React.useState(-1),\n    [history, setHistory] = React.useState([]);\n\n  const pushStack = v => {\n      setStack([...stack.slice(0, index + 1), v]);\n      setIndex(index + 1);\n    },\n    clearStack = () => {\n      setStack([]);\n      setIndex(-1);\n    };\n\n    React.useEffect(() => {\n      if (propsValue) {\n        setStack([propsValue]);\n        setIndex(0)\n      }\n    }, [propsValue]);\n\n  const [img, setImg] = React.useState(null),\n    [, setLoaded] = React.useState(false),\n    imgSrc = get(stack, [index, \"url\"]);\n\n  const uploadImage = file => {\n    props.uploadImage(file)\n      .then(({ filename, url }) => onChange({ filename, url }));\n  }\n  const dropIt = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (props.disabled) return;\n\n    setDragging(false);\n\n    const file = get(e, [\"dataTransfer\", \"files\", 0], null);\n    file && uploadImage(file);\n  }\n  const handleChange = e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (props.disabled) return;\n\n    const file = get(e, [\"target\", \"files\", 0], null);\n    file && uploadImage(file);\n  }\n  const applyCrop = e => {\n    const { naturalHeight } = img,\n      { height } = svg.getBoundingClientRect(),\n      scale = naturalHeight / height;\n\n    const [[x1, y1], [x2, y2]] = selection.map(d => d.map(dd => dd * scale)),\n      filename = stack[index].filename;\n\n    props.editImage(imgSrc, filename, \"crop\", [x2 - x1, y2 - y1, x1, y1])\n      .then(url => {\n        pushStack({ filename, url });\n        setHistory([...history, url]);\n      })\n      .then(clearBrush);\n  }\n  const undo = e => {\n    clearBrush();\n    setIndex(Math.max(0, index - 1));\n  }\n  const redo = e => {\n    clearBrush();\n    setIndex(Math.min(stack.length - 1, index + 1));\n  }\n  const saveImage = () => {\n    const { url, filename } = stack[index];\n    props.saveImage(url, filename, history)\n      .then(url => {\n        clearStack();\n        onChange({ url, filename });\n      });\n  }\n  const removeImage = () => {\n    clearStack();\n    onChange(null);\n  }\n\n  // React.useEffect(() => {\n  //   if (index < 1) {\n  //     Attribute.setWarning(\"unsaved\", null);\n  //   }\n  //   else {\n  //     Attribute.setWarning(\"unsaved\", {\n  //       msg: \"You have unsaved edits to your image!!! Either Save or Undo your edits.\",\n  //       canGoPrev: false\n  //     });\n  //   }\n  // }, [index, Attribute, propsValue, onChange])\n\n  const [svg, setSvg] = React.useState(null)\n  const {\n    Brush,\n    selection,\n    clearBrush\n  } = useBrush(svg);\n\n  const [hasFocus, setFocus] = React.useState(autoFocus),\n    [ref, setRef] = React.useState(null);\n  React.useEffect(() => {\n    autoFocus && ref && ref.focus();\n  }, [autoFocus, ref]);\n\n  const theme = useTheme();\n\n  return (\n    <div className={ `\n        w-full ${ hasFocus ? theme.inputBorderFocus : theme.inputBorder  } rounded p-2 relative\n      ` } tabIndex=\"0\" ref={ setRef } onClick={ e => ref.focus() }\n      onFocus={ e => setFocus(true) }\n      onBlur={ e => setFocus(false) }>\n      <div className={ `\n          border-2 border-dashed rounded p-2 ${ theme.inputBg }\n          ${ draggingOver ? \"border-gray-500\" : \"\" }\n        ` }\n        onDragOver={ e => !props.disabled && dragOver(e) }\n        onDragLeave={ e => !props.disabled && onDragExit(e) }\n        onDrop={ e => dropIt(e) }>\n\n        <div className=\"relative flex items-center justify-center w-full\" style={ { height: `${ height }px` } }>\n\n          { imgSrc ?\n              <div className=\"flex-1 absolute top-0 bottom-0 left-0 right-0 flex items-center justify-center hoverable\">\n                <div className=\"relative\" style={ { maxHeight: `${ height }px` } }>\n                  <div className=\"z-0 h-full\" style={ { maxHeight: `${ height }px` } }>\n                    <img src={ imgSrc } alt={ propsValue  } ref={ setImg }\n                      className=\"block\" style={ { maxHeight: `${ height }px` } }\n                      onLoad={ e => setLoaded(true) }/>\n                  </div>\n                  <div className=\"absolute top-0 left-0 w-full h-full z-10\"\n                    style={ { maxHeight: `${ height }px` } }>\n                    <svg className=\"w-full h-full\" ref={ setSvg }>\n                      { <Brush /> }\n                    </svg>\n                  </div>\n                </div>\n                <div onClick={ e => removeImage() }\n                  className={ `\n                    absolute right-0 top-0 z-10 show-on-hover\n                    rounded bg-red-500 p-1 cursor-pointer\n                  ` }>\n                  <svg width=\"20\" height=\"20\">\n                    <line x2=\"20\" y2=\"20\" style={ { stroke: \"#fff\", strokeWidth: 4 } }/>\n                    <line y1=\"20\" x2=\"20\" style={ { stroke: \"#fff\", strokeWidth: 4 } }/>\n                  </svg>\n                </div>\n              </div>\n            : draggingOver ?\n              <span className=\"far fa-image fa-9x pointer-events-none opacity-50\"/>\n            : props.disabled ?\n              <span className=\"fas fa-times fa-9x pointer-events-none opacity-50\"/>\n            :\n              <div className=\"flex-0 flex flex-col items-center\">\n                <LabelButton id={ props.id } onChange={ e => handleChange(e) }/>\n                <div className=\"mt-1\">...or drag and drop</div>\n                <div className=\"mt-1\">{ props.message }</div>\n              </div>\n          }\n\n        </div>\n\n      </div>\n      <div className={ `mt-2 p-2 border-2 rounded ${ theme.accent1 } flex` }>\n        <div className=\"flex flex-1\">\n          <Button disabled={ !Boolean(selection) } onClick={ e => applyCrop(e) } tabIndex=\"-1\">\n            Apply Crop\n          </Button>\n          <Button disabled={ index < 1 } onClick={ e => undo(e) } tabIndex=\"-1\">\n            Undo\n          </Button>\n          <Button disabled={ (index + 1) === stack.length } onClick={ e => redo(e) } tabIndex=\"-1\">\n            Redo\n          </Button>\n        </div>\n        <div className=\"flex-0 flex justify-end\">\n          <Button disabled={ get(stack, [index, \"url\"]) === get(propsValue, \"url\") }\n            onClick={ e => saveImage() } buttonTheme=\"buttonSuccess\">\n            Save\n          </Button>\n        </div>\n      </div>\n      { props.children }\n    </div>\n  )\n}\nconst LoadingOptions = {\n  position: \"absolute\",\n  className: \"rounded\"\n}\nexport default imgLoader(showLoading(ImgInput, LoadingOptions));\n\nconst LabelButton = props => {\n  const theme = useTheme();\n  return (\n    <div>\n      <label htmlFor={ props.id } className={ `${ theme.buttonInfo } cursor-pointer` }>\n        Select an image file...\n      </label>\n      <input className=\"py-1 px-2 w-full rounded hidden\" tabIndex=\"-1\"\n        type=\"file\" accept=\"image/*\" { ...props }/>\n    </div>\n  )\n}\n","import React from \"react\"\n\nimport { hasValue, verifyValue } from \"@availabs/avl-components\"\n\nimport { isRequired, getAttributes } from \"../../wrappers/utils/dms-create-utils\"\n\nimport { useDms } from \"../../contexts/dms-context\"\n\nimport { getInput } from \"../../wrappers/utils/get-dms-input\"\n\nimport {\n  checkDmsValue,\n  checkEditorValue,\n  verifyDmsValue,\n  prettyKey\n} from \"../../utils\"\n\nclass Attribute {\n  constructor(att, props) {\n    Object.assign(this, att);\n\n    this.name = this.name || prettyKey(this.key);\n    this.Input = getInput(this, props);\n  }\n  checkHasValue = value => {\n    if (Array.isArray(value)) {\n      return value && value.reduce((a, c) => a || hasValue(c), false)\n    }\n    return hasValue(value);\n  }\n  verifyValue = value => {\n    if (this.checkHasValue(value)) {\n      if (Array.isArray(value)) {\n        return value.reduce((a, c) =>\n          a && verifyValue(c, this.type, this.verify)\n        , true)\n      }\n      else {\n        return verifyValue(value, this.type, this.verify);\n      }\n    }\n    return !this.required;\n  }\n}\n\nclass EditorAttribute extends Attribute {\n  checkHasValue = value => {\n    if (Array.isArray(value)) {\n      return hasValue(value) && value.reduce((a, c) => a || checkEditorValue(c), false);\n    }\n    return checkEditorValue(value);\n  }\n  verifyValue = value => {\n    return !this.required || this.checkHasValue(value);\n  }\n}\nclass DmsAttribute extends Attribute {\n  constructor(att, formats, props) {\n    super(att, props);\n\n    this.Format = JSON.parse(JSON.stringify(formats[this.format]));\n    this.attributes = getAttributes(this.Format, props.registeredFormats);\n\n    this.required = this.isArray ? this.required : isRequired(this.attributes);\n  }\n  checkHasValue = (value, attributes = this.attributes) => {\n    return checkDmsValue(value, attributes);\n  }\n  verifyValue = (value, attributes = this.attributes) => {\n    return verifyDmsValue(value, attributes, this.required);\n  }\n}\n\nconst makeNewAttribute = (att, formats, props) => {\n  if (att.type === \"dms-format\") {\n    return new DmsAttribute(att, formats, props);\n  }\n  else if (att.type === \"richtext\") {\n    return new EditorAttribute(att, props);\n  }\n  return new Attribute(att, props);\n}\n\nexport const useDmsSections = (sections, value, onChange, props) => {\n\n  const { registeredFormats } = useDms();\n\n  const setValues = React.useCallback((k, v) => {\n    onChange({ ...value, [k]: v });\n  }, [value, onChange]);\n\n  const [Sections, setSections] = React.useState([]);\n\n  React.useEffect(() => {\n    if (sections.length && !Sections.length) {\n      const Sections = sections.map(({ title, attributes }, index) => {\n        const section = {\n          index,\n          title,\n          isActive: false,\n          verified: false,\n          attributes: attributes.map(att => makeNewAttribute(att, registeredFormats, props))\n        }\n        return section;\n      })\n      setSections(Sections);\n    }\n  }, [sections, Sections.length, registeredFormats, props]);\n\n  return React.useMemo(() => {\n    Sections.forEach(section => {\n      section.attributes.forEach(att => {\n        att.onChange = v => {\n          setValues(att.key, v);\n        }\n      })\n    })\n    return Sections;\n  }, [Sections, setValues]);\n}\n","import React from \"react\"\n\nimport { useDms } from \"../contexts/dms-context\"\nimport { useAuth } from \"../contexts/auth-context\"\nimport { useTheme } from \"@availabs/avl-components\"\n\nimport { useSetSections } from \"../wrappers/dms-create\"\n\nimport {\n  useDmsSections\n} from \"./utils/dms-input-utils\"\n\nexport default React.forwardRef(({ Attribute, id, autoFocus = false, onFocus, onBlur, onChange, value, ...props }, ref) => {\n  value = value || {};\n\n  const Props = { ...props, ...useDms(), user: useAuth().user };\n\n  const sections = useSetSections(Attribute.Format),\n    Sections = useDmsSections(sections, value, onChange, Props);\n\n  const [hasFocus, setFocus] = React.useState(autoFocus),\n    [prev, setPrev] = React.useState(hasFocus),\n    _onFocus = React.useCallback(() => setFocus(true), [setFocus]),\n    _onBlur = React.useCallback(() => setFocus(false), [setFocus]);\n\n  React.useEffect(() => {\n    if (hasFocus !== prev) {\n      (typeof onBlur === \"function\") && !hasFocus && onBlur();\n      (typeof onFocus === \"function\") && hasFocus && onFocus();\n      setPrev(hasFocus);\n    }\n  }, [hasFocus, prev, onFocus, onBlur]);\n\n  const theme = useTheme();\n\n  return (\n    <div id={ id } className={ `\n        w-full border-2 border-transparent rounded p-2 ${ theme.transition }\n        ${ hasFocus ? theme.inputBorderFocus: theme.inputBorder }\n      `}>\n      { Sections.map(section =>\n          <div key={ section.index }>\n            { !section.title ? null :\n              <div className=\"text-lg font-bold\">{ section.title }</div>\n            }\n            { section.attributes.map(({ Input, key, ...att }, i) =>\n                <div key={ key } className={ `border-l-4 pl-2 pb-2 mb-2 last:mb-0\n                  ${ !att.verifyValue(value[key]) ? theme.borderDanger : att.required ? theme.borderSuccess :\n                    att.checkHasValue(value[key]) ? theme.borderInfo : theme.borderLight }\n                  ${ att.hidden ? 'hidden' : '' }\n                ` }>\n                  <label htmlFor={ att.id }>{ att.name }</label>\n                  <Input { ...props } onChange={ att.onChange } value={ value[key] }\n                    ref={ (section.index === 0) && (i === 0) ? ref : null }\n                    autoFocus={ autoFocus && (section.index === 0) && (i === 0) }\n                    onFocus={ _onFocus } onBlur={ _onBlur }/>\n                </div>\n              )\n            }\n          </div>\n        )\n      }\n    </div>\n  )\n})\n","import React from \"react\"\n\nimport {\n  Button, ValueContainer, ValueItem,\n  verifyValue as utilityVerify, hasValue as defaultHasValue,\n  useSetRefs\n} from \"@availabs/avl-components\"\n\nconst DefaultDisplay = ({ value }) => {\n  switch (typeof value) {\n    case \"object\":\n      return JSON.stringify(value, null, 3);\n    default:\n      return value.toString();\n  }\n};\nconst defaultGetEmptyValue = () => null;\n\nexport default React.forwardRef(({ Input, onChange, value, disabled, autoFocus,\n  DisplayComp = DefaultDisplay, inputProps, type, verify,\n  verifyValue = utilityVerify,\n  hasValue = defaultHasValue,\n  getEmptyValue = defaultGetEmptyValue, ...props }, ref) => {\n\n  value = value || [];\n\n  const [node, setNode] = React.useState(null),\n    [newItem, setNewItem] = React.useState(getEmptyValue),\n\n    addToArray = React.useCallback(e => {\n      const newValue = [...value, newItem];\n      onChange(newValue);\n      setNewItem(getEmptyValue());\n      node && node.focus();\n    }, [value, newItem, node, onChange, getEmptyValue]),\n\n    removeFromArray = React.useCallback(v => {\n      onChange(value.filter(vv => vv !== v));\n    }, [value, onChange]),\n\n    editItem = React.useCallback(v => {\n      setNewItem(v);\n      removeFromArray(v);\n      node && node.focus();\n    }, [node, removeFromArray]),\n\n    buttonDisabled = React.useMemo(() =>\n      disabled ||\n      !hasValue(newItem) ||\n      value.includes(newItem) ||\n      !verifyValue(newItem, type, verify) ||\n      ((type === \"number\") && !value.reduce((a, c) => a && (+c !== +newItem), true))\n    , [value, newItem, hasValue, verifyValue, verify, type, disabled]),\n\n    onKeyDown = React.useCallback(e => {\n      if (!buttonDisabled && e.keyCode === 13) {\n        e.stopPropagation();\n        e.preventDefault();\n        addToArray();\n      }\n    }, [addToArray, buttonDisabled]);\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"flex\">\n        <Input value={ newItem } onChange={ setNewItem } { ...props } { ...inputProps }\n          disabled={ disabled } autoFocus={ autoFocus } onKeyDown={ onKeyDown }\n          placeholder={ `Type a value...`} ref={ useSetRefs(ref, setNode) }/>\n        <Button onClick={ addToArray } className=\"ml-1\"\n          disabled={ buttonDisabled }>\n          add\n        </Button>\n      </div>\n      { !value.length ? null :\n        <div className=\"mt-1 ml-10\">\n          <ValueContainer>\n            { value.map((v, i) => (\n                <ValueItem key={ i } edit={ e => editItem(v) }\n                  remove={ e => removeFromArray(v) }>\n                  { <DisplayComp value={ v }/> }\n                </ValueItem>\n              ))\n            }\n          </ValueContainer>\n        </div>\n      }\n    </div>\n  )\n})\n","import React from \"react\"\n\nimport {\n  Button, useSetRefs,\n  verifyValue as utilityVerify,\n  hasValue as defaultHasValue\n} from \"@availabs/avl-components\"\n\nconst DefaultDisplay = ({ value }) => {\n  switch (typeof value) {\n    case \"object\":\n      return JSON.stringify(value, null, 3);\n    default:\n      return value.toString();\n  }\n};\nconst defaultGetEmptyValue = () => null;\n\nexport default React.forwardRef(({ Input, onChange, value, disabled, autoFocus,\n  DisplayComp = DefaultDisplay, inputProps, type, verify,\n  verifyValue = utilityVerify, hasValue = defaultHasValue,\n  getEmptyValue = defaultGetEmptyValue, ...props }, ref) => {\n\n  value = value || [];\n\n  const [node, setNode] = React.useState(null),\n    [newItem, setNewItem] = React.useState(getEmptyValue),\n    [editIndex, setEditIndex] = React.useState(null),\n    [openEditor, setOpenEditor] = React.useState(false),\n\n    addToArray = React.useCallback(e => {\n      const newValue = editIndex === null ? [...value, newItem] : [...value];\n      if (editIndex) {\n        value[editIndex] = newItem;\n      }\n      onChange(newValue);\n      setNewItem(getEmptyValue());\n      setEditIndex(null);\n      setOpenEditor(false);\n      node && node.focus();\n    }, [value, newItem, node, onChange, getEmptyValue, editIndex]),\n\n    removeFromArray = React.useCallback(v => {\n      onChange(value.filter(vv => vv !== v));\n    }, [value, onChange]),\n\n    createNewItem = React.useCallback(e => {\n      setOpenEditor(!openEditor);\n      setEditIndex(null);\n      setNewItem(getEmptyValue());\n    }, [openEditor,getEmptyValue]),\n\n    editItem = React.useCallback((v,i) => {\n      setEditIndex(i);\n      setNewItem(v);\n      setOpenEditor(false);\n      node && node.focus();\n    }, [node]),\n\n    buttonDisabled = React.useMemo(() =>\n      disabled ||\n      !hasValue(newItem) ||\n      value.includes(newItem) ||\n      !verifyValue(newItem, type, verify) ||\n      ((type === \"number\") && !value.reduce((a, c) => a && (+c !== +newItem), true))\n    , [value, newItem, hasValue, verifyValue, verify, type, disabled]),\n\n    onKeyDown = React.useCallback(e => {\n      if (!buttonDisabled && e.keyCode === 13) {\n        e.stopPropagation();\n        e.preventDefault();\n        addToArray();\n      }\n    }, [addToArray, buttonDisabled]),\n\n    move = React.useCallback((index, dir) => {\n      if (((index + dir) < 0) || ((index + dir) >= value.length)) return;\n      const newValue = [...value],\n        [item] = newValue.splice(index, 1);\n      newValue.splice(index + dir, 0, item);\n      onChange(newValue);\n    }, [onChange, value]);\n\n// console.log(\"VALUE:\", value)\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"flex flex-col\">\n        <div>\n          <Button onClick={ createNewItem }\n            buttonTheme={ openEditor ? \"buttonDanger\" : \"buttonSuccess\" }>\n            { openEditor ? 'cancel' : 'create new' }\n          </Button>\n        </div>\n        <div style={ { display: openEditor ? \"block\" : \"none\" } }>\n          <EditComponent Input={ Input }\n            { ...props } { ...inputProps }\n            ref={ useSetRefs(ref, setNode) }\n            value={ newItem }\n            onChange={ setNewItem }\n            autoFocus={ autoFocus }\n            onKeyDown={ onKeyDown }\n            disabled ={ disabled }\n            placeholder={ `Type a value...`}>\n\n            <Button onClick={ addToArray }\n              buttonTheme=\"buttonSuccess\"\n              disabled={ buttonDisabled }>\n              create\n            </Button>\n          </EditComponent>\n        </div>\n      </div>\n      { !value.length ? null :\n        value.map((v, i) =>\n          <div className=\"p-2 my-2 border rounded\" key={ i }>\n            { editIndex === i ?\n              <EditComponent Input={ Input }\n                { ...props } { ...inputProps }\n                value={ newItem }\n                onChange={ setNewItem }\n                autoFocus={ autoFocus }\n                onKeyDown={ onKeyDown }\n                disabled ={ disabled }\n                placeholder={ `Type a value...`}>\n\n                <Button onClick={ addToArray }\n                  buttonTheme=\"buttonSuccess\"\n                  disabled={ buttonDisabled }>\n                  save\n                </Button>\n              </EditComponent>\n            :\n              <div className='w-full'>\n                <ValueItem\n                  edit={ e => editItem(v, i) }\n                  remove={ e => removeFromArray(v) }\n                  move={ m => move(i, m) }\n                  index={ i } length={ value.length }>\n\n                  <DisplayComp value={ v }/>\n                </ValueItem>\n              </div>\n            }\n          </div>\n        )\n      }\n    </div>\n  )\n})\n\nconst ValueItem = ({ edit, remove, move, index, length, children }) =>\n  <div>\n    <div className=\"flex\">\n      <div className=\"flex-0 flex flex-col mr-1\">\n        <Button small className=\"h-8 mb-1\"\n          disabled={ index - 1 < 0 }\n          onClick={ e => move(-1) }>\n          <span className=\"fa fa-arrow-up\"/>\n        </Button>\n        <Button small className=\"h-8\"\n          disabled={ index + 1 >= length }\n          onClick={ e => move(1) }>\n          <span className=\"fa fa-arrow-down\"/>\n        </Button>\n      </div>\n      <div className=\"flex-1 flex flex-col\">\n        <div className=\"flex items-start\">\n          <Button onClick={ edit }\n            buttonTheme=\"buttonPrimarySmall\">\n            edit\n          </Button>\n          <Button className=\"ml-1\" onClick={ remove }\n            buttonTheme=\"buttonDangerSmall\">\n            remove\n          </Button>\n        </div>\n        <div className=\"ml-2\">\n          { children }\n        </div>\n      </div>\n    </div>\n  </div>\n\nconst EditComponent = React.forwardRef(({ Input, children, ...props }, ref) =>\n  <div>\n    <div className=\"my-2\">\n      <Input { ...props } ref={ ref }/>\n    </div>\n    { children }\n  </div>\n)\n","import React from \"react\"\n\nimport {\n  Input,\n  TextArea,\n  Select,\n  ObjectInput,\n  BooleanInput,\n  MarkdownInput\n} from \"@availabs/avl-components\"\n\nimport Editor, { createEmpty } from \"../../components/editor\"\nimport ReadOnlyEditor from \"../../components/editor/editor.read-only\"\nimport ImgInput from \"../../components/img-input\"\nimport DmsInput from \"../../components/dms-input\"\nimport ArrayInput from \"../../components/array-input\"\nimport OrderedArrayInput from \"../../components/ordered-array-input\"\nimport { getValue } from \"../../utils\"\n\nimport get from \"lodash.get\"\n\nconst getDomain = (att, props) => {\n  if (att.domain) {\n    if (typeof att.domain === \"string\") {\n      return getValue(att.domain, { props }) || [];\n    }\n    return att.domain;\n  }\n  return null;\n}\n\nconst getComp = (value, att, i = null) => {\n  if (!value) return null;\n\n  const key = `${ att.key }${ i === null ? \"\" : `-${ i }` }`,\n    name = i === null ? att.name : \"\";\n  if (Array.isArray(value)) {\n    return (\n      <div key={ key }>\n        <div className=\"font-bold\">{ name }</div>\n        { value.map((v, i) => getComp(v, att, i)) }\n      </div>\n    )\n  }\n  if (att.type === \"richtext\") {\n    if (!value.getCurrentContent().hasText()) return null;\n    return (\n      <div key={ key }>\n        <div className=\"font-bold\">{ name }</div>\n        <ReadOnlyEditor key={ att.key } value={ value } isRaw={ false }/>\n      </div>\n    )\n  }\n  else if (att.type === \"dms-format\") {\n    return att.attributes.map(att => getComp(get(value, att.key), att))\n  }\n  return (\n    <div key={ key }>\n      { !name ? null :\n        <span className=\"font-bold\">{ name }: </span>\n      }\n      { value }\n    </div>)\n}\n\nconst makeDisplayComp = attribute => {\n  return ({ value }) => {\n    const comp = React.useMemo(() => getComp(value, attribute), [value]);\n    return (\n      <div>\n        { comp }\n      </div>\n    )\n  }\n}\nfunction getEmptyFormatValue(att, props) {\n  return att.attributes.reduce((a, c) => {\n    if (c.type === \"dms-format\") {\n      a[c.key] = getEmptyFormatValue(c);\n    }\n    else if (c.type === \"richtext\") {\n      a[c.key] = createEmpty();\n    }\n    else if (\"default\" in c) {\n      a[c.key] = getValue(c.default, props);\n    }\n    return a;\n  }, {})\n}\n\nconst EditorDisplayComp = ({ value }) =>\n  <ReadOnlyEditor value={ value } isRaw={ false }/>;\n\nexport const getInput = (att, props, disabled) => {\n  let { type, isArray = false } = att,\n    domain = getDomain(att, props);\n\n  if (domain) {\n    return props => (\n      <Select { ...props } multi={ isArray } domain={ domain } id={ att.id }\n        disabled={ disabled || (att.editable === false) }/>\n    );\n  }\n  let InputComp = null, inputProps = {}, DisplayComp, getEmptyValue;\n\n  switch (type) {\n    case \"markdown\":\n      InputComp = MarkdownInput;\n      break;\n    case \"textarea\":\n      InputComp = TextArea;\n      break;\n    case \"img\":\n      InputComp = ImgInput;\n      inputProps = { imgUploadUrl: get(props, \"imgUploadUrl\") };\n      break;\n    case \"richtext\":\n      InputComp = Editor;\n      DisplayComp = EditorDisplayComp;\n      getEmptyValue = createEmpty;\n      inputProps = { imgUploadUrl: get(props, \"imgUploadUrl\") };\n      break;\n    case \"object\":\n      InputComp = ObjectInput;\n      break;\n    case \"dms-format\":\n      InputComp = DmsInput;\n      inputProps = { Attribute: att };\n      getEmptyValue = getEmptyFormatValue.bind(null, att, props);\n      DisplayComp = makeDisplayComp(att);\n      break;\n    case \"boolean\":\n      InputComp = BooleanInput;\n      break;\n    default:\n      InputComp = Input;\n      inputProps = { type };\n      break;\n  }\n  if (isArray) {\n    return React.forwardRef((props, ref) => (\n      type === 'dms-format' ?\n        <OrderedArrayInput\n          { ...props }\n          Input={ props.EditComp || InputComp }\n          id={ att.id }\n          inputProps={ inputProps }\n          verifyValue={ att.verifyValue }\n          hasValue={ att.checkHasValue }\n          DisplayComp={ props.DisplayComp || DisplayComp } ref={ ref }\n          getEmptyValue={ getEmptyValue }\n          disabled={ disabled || (att.editable === false) }\n        /> :\n        <ArrayInput\n          { ...props }\n          Input={ props.EditComp || InputComp }\n          id={ att.id }\n          inputProps={ inputProps }\n          verifyValue={ att.verifyValue }\n          hasValue={ att.checkHasValue }\n          DisplayComp={ props.DisplayComp || DisplayComp } ref={ ref }\n          getEmptyValue={ getEmptyValue }\n          disabled={ disabled || (att.editable === false) }\n        />\n    ))\n  }\n  return React.forwardRef((props, ref) => (\n    <InputComp id={ att.id } { ...inputProps } { ...props } ref={ ref }\n      disabled={ disabled || (att.editable === false) }/>\n  ))\n}\n","import {\n  createEditorState,\n  convertToRaw\n} from \"../../components/editor\"\n\nimport { getInput } from \"./get-dms-input\"\n\nimport get from \"lodash.get\"\n\nimport { verifyValue, hasValue } from \"@availabs/avl-components\"\nimport {\n  getValue,\n  prettyKey,\n  checkEditorValue,\n  checkDmsValue,\n  verifyDmsValue\n} from \"../../utils\"\n\nexport class DmsCreateStateClass {\n  constructor(setValues, dmsMsg) {\n    this.numSections = 0;\n    this.activeSection = null;\n    this.activeIndex = -1;\n\n    this.verified = false;\n    this.hasWarning = false;\n    this.warnings = [];\n\n    this.values = {};\n    this.hasValues = false;\n    this.defaultsLoaded = false;\n\n    this.canGoNext = false;\n    this.next = () => {};\n\n    this.canGoPrev = false;\n    this.prev = () => {};\n\n    this.sections = [];\n    this.attributes = [];\n    this.badAttributes = [];\n    this.ignoredAttributes = [];\n\n    this.setValues = (key, value) => {\n      setValues(prev => ({ ...prev, [key]: value }));\n    }\n    this.mapOldToNew = (oldKey, newKey, value) => {\n      this.ignoredAttributes.push(oldKey);\nconsole.log(\"MAP OLD TO NEW:\", oldKey, newKey, value)\n      const att = this.attributes.find(d => d.key === newKey);\n      att.onChange(att.mapOldToNew(value));\n    };\n    this.deleteOld = oldKey => {\n      this.ignoredAttributes.push(oldKey);\n      setValues(prev => ({ ...prev }));\n    };\n    this.ininitialized = false;\n    this.initValues = (values, initialized = true) => {\n      this.attributes.forEach(att => att.initValue(values[att.key]));\n      this.initialized = initialized;\n    }\n\n    this.msgIds = {};\n    this.setWarning = (type, warning) => {\n      if (warning && !(type in this.msgIds)) {\n        const msgId = dmsMsg.newMsgId();\n        this.msgIds[type] = msgId;\n        dmsMsg.sendPageMessage({ msg: warning, id: msgId });\n      }\n      else if (!warning && (type in this.msgIds)) {\n        const msgId = this.msgIds[type];\n        dmsMsg.removePageMessage([msgId]);\n        delete this.msgIds[type];\n      }\n    }\n    this.cleanup = () => {\n      const msgIds = Object.values(this.msgIds);\n      if (msgIds.length) {\n        dmsMsg.removePageMessage(msgIds);\n      }\n      this.sections.forEach(section =>\n        section.attributes.forEach(att => att.cleanup())\n      );\n    }\n  }\n  getValues = values => {\n    return this.attributes.reduce((a, c) => {\n      const value = get(values, c.key);\n      if (c.checkHasValue(value)) {\n        a[c.key] = c.getValue(value);\n      }\n      return a;\n    }, {})\n  }\n  onSave = () => {\n    this.sections.forEach(section =>\n      section.attributes.forEach(att => att.onSave())\n    );\n  }\n}\n\nclass Attribute {\n  constructor(att, setValues, dmsMsg, props) {\n    Object.assign(this, att);\n\n    this.name = this.name || prettyKey(this.key);\n    this.Input = getInput(this, props);\n\n    this.value = this.isArray ? [] : null;\n    this.hasValue = false;\n    this.verified = !this.required;\n\n    this.hasDefault = (\"default\" in att);\n    this.defaultLoaded = false;\n    this.defaultValue = null;\n\n    this.onChange = value => {\n      this.value = value;\n      this.hasValue = this.checkHasValue(value);\n      this.verified = this.verifyValue(value);\n      this.sendWarnings(value);\n      setValues(this.key, value);\n    }\n\n    this.msgIds = {};\n    this.hasWarning = false;\n    this.setWarning = (type, warning) => {\n      if (warning && !(type in this.msgIds)) {\n        const msgId = dmsMsg.newMsgId();\n        this.msgIds[type] = msgId;\n        if (typeof warning === \"string\") {\n          warning = { msg: warning };\n        }\n        dmsMsg.sendAttributeMessage({ ...warning, id: msgId });\n      }\n      else if (!warning && (type in this.msgIds)) {\n        const msgId = this.msgIds[type];\n        dmsMsg.removeAttributeMessage([msgId]);\n        delete this.msgIds[type];\n      }\n      this.hasWarning = Boolean(this.getWarnings().length);\n    }\n    this.cleanup = () => {\n      const msgIds = Object.values(this.msgIds);\n      if (msgIds.length) {\n        dmsMsg.removeAttributeMessage(msgIds);\n      }\n    }\n    this.onSave = () => {\n\n    }\n  }\n  mapOldToNew = value => value;\n\n  getDefault = props => {\n    this.defaultValue = getValue(this.default, { props });\n    this.defaultLoaded = this.checkHasValue(this.defaultValue);\n    return this.defaultValue;\n  }\n  getValue = value => value;\n  checkHasValue = value => {\n    if (Array.isArray(value)) {\n      return value && value.reduce((a, c) => a || hasValue(c), false)\n    }\n    return hasValue(value);\n  }\n  verifyValue = value => {\n    if (this.checkHasValue(value)) {\n      if (Array.isArray(value)) {\n        return value.reduce((a, c) =>\n          a && verifyValue(c, this.type, this.verify)\n        , true)\n      }\n      else {\n        return verifyValue(value, this.type, this.verify);\n      }\n    }\n    return !this.required;\n  }\n  sendWarnings = value => {\n    if (!this.verified) {\n      if (!this.hasValue && this.required) {\n        this.setWarning(\"missing-data\", `Missing value for required attribute: ${ this.name }.`);\n        this.setWarning(\"invalid-data\", null);\n      }\n      else {\n        this.setWarning(\"invalid-data\", `Invalid value for attribute: ${ this.name }.`);\n        this.setWarning(\"missing-data\", null);\n      }\n    }\n    else {\n      this.setWarning(\"invalid-data\", null);\n      this.setWarning(\"missing-data\", null);\n    }\n  };\n  initValue = value => {\n    if (this.isArray) {\n      this.onChange(value || [])\n    }\n    else {\n      // this.onChange(this.type === \"boolean\" ? Boolean(value) : value);\n      this.onChange(value);\n    }\n  }\n  getWarnings = () => Object.values(this.msgIds);\n}\n\nclass EditorAttribute extends Attribute {\n  constructor(att, setValues, dmsMsg, props) {\n    super(att, setValues, dmsMsg, props);\n\n    this.hasDefault = false;\n\n    this.value = this.isArray ? [] : createEditorState(null);\n  }\n  mapOldToNew = value => {\n    if (Array.isArray(value)) {\n      return value.map(createEditorState);\n    }\n    return createEditorState(value);\n  };\n\n  getValue = value => {\n    if (Array.isArray(value)) {\n      return value.map(v => convertToRaw(v.getCurrentContent()));\n    }\n    return convertToRaw(value.getCurrentContent());\n  }\n  initValue = value => {\n    if (this.isArray) {\n      this.onChange(value ? value.map(createEditorState) : []);\n    }\n    else {\n      this.onChange(createEditorState(value));\n    }\n  }\n  checkHasValue = value => {\n    if (Array.isArray(value)) {\n      return value && value.reduce((a, c) => a || checkEditorValue(c), false);\n    }\n    return checkEditorValue(value);\n  }\n  verifyValue = value => {\n    return !this.required || this.checkHasValue(value);\n  }\n}\n\nexport const isRequired = attributes => {\n  return attributes.reduce((a, c) => {\n    if (c.type === \"dms-format\") {\n      return a || isRequired(c.attributes);\n    }\n    return a || c.required;\n  }, false)\n}\n\nexport const getAttributes = (format, formats) => {\n  const attributes = [];\n  format.attributes.forEach(att => {\n    const Att = Object.assign({}, att);\n    Att.name = att.name || prettyKey(att.key);\n    if (Att.type === \"dms-format\") {\n      Att.attributes = getAttributes(formats[Att.format], formats);\n    }\n    attributes.push(Att);\n  })\n  return attributes;\n}\n\nconst checkDmsDefault = defaults =>\n  Object.keys(defaults).reduce((a, c) => {\n    if (typeof defaults[c] === \"object\") {\n      return a && checkDmsDefault(defaults[c]);\n    }\n    return a && hasValue(defaults[c]);\n  }, true)\n\nclass DmsAttribute extends Attribute {\n  constructor(att, setValues, dmsMsg, props) {\n    super(att, setValues, dmsMsg, props);\n\n    this.Format = JSON.parse(JSON.stringify(props.registeredFormats[att.format]));\n    this.attributes = getAttributes(this.Format, props.registeredFormats);\n\n    this.value = this.isArray ? [] : {};\n\n    this.defaultValue = this.isArray ? [] : this.getDefault(props);\n    this.hasDefault = this.isArray ? false : Boolean(Object.keys(this.defaultValue).length);\n    this.defaultLoaded = false;\n\n    this.required = this.isArray ? this.required : isRequired(this.attributes);\n  }\n  _mapOldToNew = (value, attributes) => {\n    return attributes.reduce((a, c) => {\n      const Value = get(value, c.key),\n        length = get(Value, \"length\", 0);\n      if (c.type === \"dms-format\") {\n        if (c.isArray && length) {\n          a[c.key] = Value.map(v => this._mapOldToNew(v, c.attributes));\n        }\n        else if (checkDmsValue(Value, c.attributes)) {\n          a[c.key] = this._mapOldToNew(Value, c.attributes);\n        }\n      }\n      else if (c.type === \"richtext\") {\n        if (c.isArray && length) {\n          a[c.key] = Value.map(createEditorState)\n        }\n        else {\n          a[c.key] = createEditorState(Value);\n        }\n      }\n      else {\n        a[c.key] = Value;\n      }\n      return a;\n    }, {});\n  };\n  mapOldToNew = value => {\n    if (Array.isArray(value)) {\n      return value.map(v => this._mapOldToNew(v, this.attributes));\n    }\n    return this._mapOldToNew(value, this.attributes);\n  };\n  _getDefault = (props, attributes) => {\n    return attributes.reduce((a, c) => {\n      if (c.type === \"dms-format\") {\n        const defaults = this._getDefault(props, c.attributes);\n        if (Object.keys(defaults).length) {\n          a[c.key] = defaults;\n        }\n      }\n      else if ((\"default\" in c) && (c.type !== \"richtext\")) {\n        a[c.key] = getValue(c.default, { props });\n      }\n      return a;\n    }, {})\n  }\n  getDefault = props => {\n    const defaults = this._getDefault(props, this.attributes);\n    if ((this.defaultLoaded = checkDmsDefault(defaults)) === true) {\n      this.defaultValue = defaults;\n    };\n    return defaults;\n  }\n  _getValue = (value, attributes) => {\n    return attributes.reduce((a, c) => {\n      const Value = get(value, c.key),\n        length = get(Value, \"length\", 0);\n      if (c.type === \"dms-format\") {\n        if (c.isArray && length) {\n          a[c.key] = Value.map(v => this._getValue(v, c.attributes))\n        }\n        else if (checkDmsValue(Value, c.attributes)) {\n          a[c.key] = this._getValue(Value, c.attributes);\n        }\n      }\n      else if (c.type === \"richtext\") {\n        if (c.isArray && length) {\n          a[c.key] = Value.map(v => convertToRaw(v.getCurrentContent()));\n        }\n        else if (checkEditorValue(Value)) {\n          a[c.key] = convertToRaw(Value.getCurrentContent());\n        }\n      }\n      else if (hasValue(Value)) {\n        a[c.key] = Value;\n      }\n      return a;\n    }, {});\n  }\n  getValue = values => {\n    if (Array.isArray(values)) {\n      return values.map(v => this._getValue(v, this.attributes));\n    }\n    return this._getValue(values, this.attributes);\n  }\n  _initValue = (value, attributes) => {\n    return attributes.reduce((a, c) => {\n      if (c.type === \"dms-format\") {\n        a[c.key] = c.isArray ?\n          get(value, c.key, []).map(v => this._initValue(v, c.attributes)) :\n          this._initValue(get(value, c.key, {}), c.attributes);\n      }\n      else if (c.type === \"richtext\") {\n        a[c.key] = c.isArray ?\n          get(value, c.key, []).map(createEditorState) :\n          createEditorState(get(value, c.key));\n      }\n      else {\n        a[c.key] = get(value, c.key, c.isArray ? [] : null);\n        // if (c.type === \"boolean\") {\n        //   a[c.key] = Boolean(a[c.key]);\n        // }\n      }\n      return a;\n    }, {})\n  }\n  initValue = value => {\n    this.onChange(\n      this.isArray ? (value ? value.map(v => this._initValue(v, this.attributes)) : []) :\n      this._initValue(value, this.attributes)\n    );\n  }\n  checkHasValue = (value, attributes = this.attributes) => {\n    return checkDmsValue(value, attributes);\n  }\n  // cleanup = () => {\n  //\n  // }\n  onSave = () => {\n\n  }\n  _sendWarnings = (value, attributes, attTree) => {\n    attributes.forEach(att => {\n      const Value = get(value, att.key);\n\n      const missingKey = `missing-data-${ attTree.map(att => att.key).join(\"-\") }-${ att.key }`,\n        invalidKey = `invalid-data-${ attTree.map(att => att.key).join(\"-\") }-${ att.key }`;\n\n      let missingMsg = null,\n        invalidMsg = null;\n\n      if (att.isArray) {\n         if (att.required && !(Value && Value.length)) {\n           missingMsg = `Missing value for required attribute: ${ attTree.map(att => att.name).join(\" -> \") } -> ${ att.name }.`;\n         }\n      }\n      else if (att.type === \"dms-format\") {\n        return this._sendWarnings(Value, att.attributes, [...attTree, att]);\n      }\n      else if (att.type === \"richtext\") {\n        if (att.required && !checkEditorValue(Value)) {\n          missingMsg = `Missing value for required attribute: ${ attTree.map(att => att.name).join(\" -> \") } -> ${ att.name }.`;\n        }\n      }\n      else {\n        const _hasValue = hasValue(Value),\n          verified = verifyValue(Value, att.type, att.verify);\n        if (att.required && !_hasValue) {\n          missingMsg = `Missing value for required attribute: ${ attTree.map(att => att.name).join(\" -> \") } -> ${ att.name }.`;\n        }\n        else if (_hasValue && !verified) {\n          invalidMsg = `Invalid value for attribute: ${ attTree.map(att => att.name).join(\" -> \") } -> ${ att.name }.`;\n        }\n      }\n      this.setWarning(missingKey, missingMsg);\n      this.setWarning(invalidKey, invalidMsg);\n    })\n  }\n  sendWarnings = value => {\n    if (this.isArray) {\n      if (this.required && !hasValue(value)) {\n        this.setWarning(`missing-data-${ this.key }`, `Missing value for required attribute: ${ this.name }.`);\n      }\n      else {\n        this.setWarning(`missing-data-${ this.key }`, null);\n      }\n      return;\n    }\n    this._sendWarnings(value, this.attributes, [this]);\n  }\n  verifyValue = (value, attributes = this.attributes) => {\n    return verifyDmsValue(value, attributes, this.required);\n  }\n}\nexport const makeNewAttribute = (att, setValues, dmsMsg, props) => {\n  if (att.type === \"dms-format\") {\n    return new DmsAttribute(att, setValues, dmsMsg, props);\n  }\n  else if (att.type === \"richtext\") {\n    return new EditorAttribute(att, setValues, dmsMsg, props);\n  }\n  return new Attribute(att, setValues, dmsMsg, props);\n}\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\"\n\nimport deepequal from \"deep-equal\"\nimport get from \"lodash.get\"\nimport throttle from \"lodash.throttle\"\n\nimport { hasValue, useTheme, AvlModal } from \"@availabs/avl-components\"\nimport { DmsCreateStateClass, makeNewAttribute } from \"./utils/dms-create-utils\"\n\nimport { useMessenger } from \"../contexts/messenger-context\"\n\nexport const useSetSections = format => {\n  return useMemo(() => {\n    let title = null;\n    return format.attributes\n      .reduce((a, c) => {\n        if (c.title !== title) {\n          title = c.title;\n          a.push({ title, attributes: [] });\n        }\n        a[a.length - 1].attributes.push(c);\n        return a;\n      }, []);\n  }, [format]);\n}\n\nexport const useDmsCreateState = props => {\n\n  const { dmsAction, format, item } = props,\n    sections = useSetSections(format);\n\n  const dmsMsg = useMessenger(),\n    { attributeMessages } = dmsMsg;\n\n  const [section, setSection] = useState(0);\n  const [values, setValues] = useState({});\n\n  const [[DmsCreateState, Sections], setState] = useState([new DmsCreateStateClass(setValues, dmsMsg), []]);\n\n  useEffect(() => {\n    return () => DmsCreateState.cleanup();\n  }, [DmsCreateState]);\n\n  useEffect(() => {\n    if (!Sections.length && sections.length) {\n      const DmsCreateState = new DmsCreateStateClass(setValues, dmsMsg);\n\n      const Sections = sections.map(({ title, attributes }, index) => ({\n        index,\n        title,\n        isActive: false,\n        verified: false,\n        attributes: attributes.map(att => makeNewAttribute(att, DmsCreateState.setValues, dmsMsg, props))\n      }))\n\n      DmsCreateState.sections = Sections;\n      DmsCreateState.numSections = Sections.length;\n      DmsCreateState.attributes = Sections.reduce((a, c) => a.concat(c.attributes), []);\n\n      DmsCreateState.initValues(values, false);\n\n      setState([DmsCreateState, Sections]);\n    };\n  }, [Sections.length, sections, props, dmsMsg, values]);\n\n  return React.useMemo(() => {\n\n    if (Sections.length) {\n\n      DmsCreateState.values = values;\n      DmsCreateState.saveValues = DmsCreateState.getValues(values);\n      DmsCreateState.hasValues = DmsCreateState.attributes.reduce((a, c) =>\n        a || (\n          (c.editable !== false) &&\n          c.checkHasValue(values[c.key]) &&\n          !deepequal(c.defaultValue, DmsCreateState.saveValues[c.key])\n        )\n      , false);\n\n      DmsCreateState.defaultsLoaded = DmsCreateState.attributes.reduce((a, c) =>\n        a && (!c.hasDefault || c.defaultLoaded)\n      , true);\n\n      Sections.forEach((sect, index) => {\n        sect.isActive = section === index;\n        sect.verified = sect.attributes.reduce((a, c) => a && c.verified, true);\n        const msgIds = sect.attributes.reduce((a, c) => a.concat(c.getWarnings()), []);\n        sect.warnings = attributeMessages.filter(({ id }) => msgIds.includes(id));\n        sect.hasWarning = Boolean(sect.warnings.length);\n      })\n      DmsCreateState.verified = Sections.reduce((a, c) => a && c.verified, true);\n      DmsCreateState.warnings = Sections.reduce((a, c) => a.concat(c.warnings), []);\n\n      DmsCreateState.activeSection = Sections[section];\n      DmsCreateState.activeIndex = section;\n\n      DmsCreateState.hasWarning = Sections[section].hasWarning;\n      const { canGoNext, canGoPrev } = Sections[section].warnings\n        .reduce((a, c) => ({\n          canGoPrev: a.canGoPrev && c.canGoPrev,\n          canGoNext: a.canGoNext && c.canGoNext\n        }), { canGoNext: true, canGoPrev: true });\n\n      DmsCreateState.canGoNext = canGoNext &&\n        Sections[section].verified && ((section + 1) < Sections.length);\n      DmsCreateState.next = () => {\n        if (!DmsCreateState.canGoNext) return;\n        setSection(section + 1);\n      };\n      DmsCreateState.canGoPrev = canGoPrev && (section > 0);\n      DmsCreateState.prev = () => {\n        if (!DmsCreateState.canGoPrev) return;\n        setSection(section - 1);\n      };\n    }\n\n    DmsCreateState.dmsAction = {\n      action: \"api:create\",\n      label: dmsAction,\n      seedProps: () => DmsCreateState.getValues(values),\n      disabled: DmsCreateState.hasWarning || !DmsCreateState.verified,\n      then: () => {\n        DmsCreateState.onSave();\n        if (window.localStorage) {\n          window.localStorage.removeItem(makeStorageId(format, item));\n        }\n      }\n    }\n\n    return DmsCreateState;\n  }, [DmsCreateState, Sections, attributeMessages, section, values, dmsAction, format, item]);\n}\n\nconst makeStorageId = (format = {}, item = null) =>\n  `${ format.app }+${ format.type }${ item ? `:${ item.id }` : `` }`;\n\nconst useLocalStorage = (DmsCreateState, format = {}, doSave = false, ready = true, item = null) => {\n\n  const [_ready, setReady] = useState(false);\n  useEffect(() => {\n    const timeout = setTimeout(setReady, 50, Boolean(window.localStorage))\n    return () => clearTimeout(timeout);\n  }, []);\n\n  ready = ready && _ready;\n\n  const storageId = makeStorageId(format, item);\n\n  const [showModal, setShowModal] = useState(false),\n    [checked, setChecked] = useState(!Boolean(window.localStorage)),\n    onHide = useCallback(() => {\n      setShowModal(false);\n      setChecked(true);\n    }, []),\n    [data, setData] = useState(null);\n\n  useEffect(() => {\n    if (!ready || checked || showModal) return;\n\n    const data = JSON.parse(window.localStorage.getItem(storageId));\n    setShowModal(Boolean(data));\n    setChecked(!Boolean(data));\n    setData(data);\n  }, [storageId, checked, data, DmsCreateState, format, item, ready, showModal]);\n\n  const loadData = useCallback(() => {\n    DmsCreateState.initValues(data);\n    setChecked(true);\n  }, [data, DmsCreateState]);\n\n  const { saveValues } = DmsCreateState;\n\n  const saveToLocalStorage = useMemo(() => throttle((storageId, DmsCreateState) => {\n    const { saveValues } = DmsCreateState;\n    window.localStorage.setItem(storageId, JSON.stringify(saveValues));\n  }, 500), []);\n\n  useEffect(() => {\n    if (!ready || !checked) return;\n\n    if (doSave) {\n      saveToLocalStorage(storageId, DmsCreateState);\n    }\n    else if (!doSave) {\n      window.localStorage.removeItem(storageId);\n    }\n  }, [doSave, storageId, ready, checked, DmsCreateState, saveValues, saveToLocalStorage]);\n\n  return [showModal, onHide, loadData];\n}\n\nconst LoadModal = ({ action, ...props }) => {\n  const theme = useTheme();\n  return (\n    <AvlModal { ...props }\n      closeLabel=\"Continue Without Loading\"\n      actions={ [{ label: \"Load Data\", action }] }>\n      <div className=\"text-center\">\n        <div className=\"text-xl\">\n          You have unsaved data.<br />Do you wish to load this data?\n        </div>\n        <div className={ `font-bold text-2xl py-2 px-4 ${ theme.textWarning }` }>\n          WARNING: The unsaved data will be lost if not loaded!\n        </div>\n      </div>\n    </AvlModal>\n  )\n}\n\nexport const dmsCreate = Component => {\n  return ({ ...props }) => {\n    const DmsCreateState = useDmsCreateState(props);\n\n    useEffect(() => {\n      if (DmsCreateState.hasValues && DmsCreateState.verified) {\n        DmsCreateState.setWarning(\"unsaved\", \"You have unsaved data!!!\");\n      }\n      else {\n        DmsCreateState.setWarning(\"unsaved\", null);\n      }\n    }, [DmsCreateState.hasValues, DmsCreateState.verified, DmsCreateState]);\n\n    useEffect(() => {\n      if (DmsCreateState.defaultsLoaded) return;\n\n      const values = {};\n\n      DmsCreateState.attributes.forEach(att => {\n        // if ((\"default\" in att) && !att.hasValue) {\n        //   const value = getValue(att.default, { props });\n        //   hasValue(value) && (values[att.key] = value);\n        // }\n        if (att.hasDefault && !att.defaultLoaded) {\n          const value = att.getDefault(props);\n          hasValue(value) && (values[att.key] = value);\n        }\n      })\n      if (Object.keys(values).length) {\n        DmsCreateState.initValues(values);\n      }\n    });\n\n    const [show, onHide, loadData] = useLocalStorage(DmsCreateState, props.format, DmsCreateState.hasValues, DmsCreateState.defaultsLoaded);\n\n    return (\n      <>\n        { !DmsCreateState.activeSection ? null :\n          <Component { ...props } createState={ DmsCreateState }/>\n        }\n        <LoadModal show={ show }\n          onHide={ onHide }\n          action={ loadData }/>\n      </>\n    )\n  }\n}\n\nconst hasBeenUpdated = (base, DmsCreateState) => {\n  const { saveValues, attributes, ignoredAttributes } = DmsCreateState;\n\n  return ignoredAttributes.length || attributes.reduce((a, c) =>\n    a || !deepequal(base[c.key], saveValues[c.key])\n  , false);\n}\n\nexport const dmsEdit = Component => {\n  return ({ ...props }) => {\n\n    const { item } = props;\n\n    const [data, setData] = useState({});\n    useEffect(() => {\n      setData(get(item, \"data\", {}));\n    }, [item]);\n\n    const DmsCreateState = useDmsCreateState(props),\n      updated = hasBeenUpdated(data, DmsCreateState);\n\n    useEffect(() => {\n      if (DmsCreateState.hasValues && DmsCreateState.verified && updated) {\n        DmsCreateState.setWarning(\"unsaved\", \"You have unsaved edits!!!\");\n      }\n      else {\n        DmsCreateState.setWarning(\"unsaved\", null);\n      }\n    }, [DmsCreateState, DmsCreateState.hasValues, DmsCreateState.verified, updated]);\n\n    DmsCreateState.dmsAction.action = \"api:edit\";\n    DmsCreateState.dmsAction.disabled = !updated || DmsCreateState.dmsAction.disabled;\n\n    useEffect(() => {\n      if (!DmsCreateState.initialized && Object.keys(data).length) {\n        DmsCreateState.initValues(data);\n      }\n    }, [data, DmsCreateState]);\n\n    const attributeMap = DmsCreateState.attributes\n      .reduce((a, c) => { a[c.key] = c; return a; }, {});\n\n    DmsCreateState.badAttributes = [];\n    for (const att in data) {\n      if (!DmsCreateState.ignoredAttributes.includes(att) && !(att in attributeMap) && hasValue(data[att])) {\n        DmsCreateState.badAttributes.push({\n          key: att,\n          value: data[att]\n        });\n      }\n    }\n\n    const [showModal, onHide, loadData] = useLocalStorage(DmsCreateState, props.format, DmsCreateState.hasValues && updated, Boolean(item), item);\n\n    return (\n      <>\n        { (!DmsCreateState.activeSection || !DmsCreateState.hasValues) ? null :\n          <Component { ...props } createState={ DmsCreateState }/>\n        }\n        <LoadModal show={ showModal }\n          onHide={ onHide }\n          action={ loadData }/>\n      </>\n    )\n  }\n}\n","import React from \"react\"\n\nimport { Button, useTheme } from \"@availabs/avl-components\"\n\n//import styled from \"styled-components\"\n\nexport default ({ sections, activeIndex, canGoPrev, prev, canGoNext, next, children, ...props }) => {\n  const theme = useTheme();\n  return (\n    <div className=\"w-full\">\n      { sections.length < 2 ? null :\n        <>\n          <div className=\"text-2xl mb-2 wizard\"\n            width={ ((activeIndex + 1) / sections.length) * 100 }>\n            <div className=\"flex\">\n              { sections.map((sect, i) =>\n                  <div key={ i } className={ `\n                    flex-1 font-bold ${ theme.transition }\n                    ${ (i === activeIndex) ? theme.text :\n                        (i < activeIndex) ? theme.textInfo :\n                        theme.textLight }\n                  ` }>\n                    <div className=\"pr-6 pl-2\">\n                      { sect.title || `Page ${ i + 1 }` }\n                    </div>\n                  </div>\n                )\n              }\n            </div>\n          </div>\n          <div className=\"flex\">\n            { sections.length < 2 ? null :\n              <Button className=\"flex-0\" disabled={ !canGoPrev }\n                onClick={ prev } buttonTheme=\"buttonInfo\">\n                prev\n              </Button>\n            }\n            <div className=\"flex-1 flex justify-end\">\n              { sections.length < 2 ? null :\n                <Button className=\"flex-0\" disabled={ !canGoNext }\n                  onClick={ next } buttonTheme=\"buttonInfo\">\n                  next\n                </Button>\n              }\n            </div>\n          </div>\n        </>\n      }\n      <div>\n        { children }\n      </div>\n    </div>\n  )\n}\n\n\n","import React from \"react\"\n\nimport { Button, Select, useTheme } from \"@availabs/avl-components\"\n\nimport { DmsButton } from \"./dms-button\"\n\nimport { dmsCreate, dmsEdit } from \"../wrappers/dms-create\"\nimport DmsWizard from \"./dms-wizard\"\n\nconst BadAttributeRow = ({ oldKey, value, attributes, deleteOld, mapOldToNew, ...props }) => {\n  const [newAtt, setNewAtt] = React.useState(null);\n  return (\n    <div className=\"border-2 p-3 rounded-md mt-2 mr-2 last:mr-0\">\n      <div className=\"rounded border p-3\">\n        <div className=\"w-full flex mb-2\">\n          <div className=\"flex-0 mr-4\">\n            <div className=\"font-bold\">\n              Attribute\n            </div>\n            <div>\n              { oldKey }\n            </div>\n          </div>\n          <div className=\"flex-1\">\n            <div className=\"font-bold\">\n              Value\n            </div>\n            <div className=\"whitespace-pre-wrap\">\n              { JSON.stringify(value, null, 4) }\n            </div>\n          </div>\n        </div>\n        <Button onClick={ e => deleteOld(oldKey) } className=\"w-full\">\n          Remove Old Attribute\n        </Button>\n      </div>\n      <div className=\"rounded border p-3 mt-3\">\n        <Select domain={ attributes }\n          multi={ false }\n          searchable={ true }\n          onChange={ setNewAtt }\n          accessor={ d => d.key }\n          placeholder=\"Select an attribute...\"\n          value={ newAtt }/>\n        <Button disabled={ !newAtt } className=\"w-full mt-2\"\n          onClick={ e => mapOldToNew(oldKey, newAtt.key, value) }>\n          Map Old Attribute { newAtt ? `to ${ newAtt.key }` : \"to...\" }\n        </Button>\n      </div>\n    </div>\n  )\n}\nexport const DmsCreateBase = ({ createState, ...props }) => {\n  const theme = useTheme();\n  return (\n    <div>\n      <DmsWizard { ...createState }>\n        <form onSubmit={ e => e.preventDefault() }>\n          <div className=\"mt-2 mb-4 max-w-2xl\">\n            <DmsButton className=\"w-1/2\" large type=\"submit\"\n              action={ createState.dmsAction } props={ props }/>\n          </div>\n          <div className=\"w-full flex flex-col justify-center\">\n            { createState.activeSection.attributes\n                .map(({ Input, key, ...att }, i) => (\n                  <div key={ key }\n                    className={ `border-l-4 pl-2 mb-2 pb-2\n                      ${ att.fullWidth || (att.type === \"richtext\") || (att.type === \"img\") ? \"w-full\" : \"max-w-2xl\"}\n                      ${ !att.verified ? theme.borderDanger : att.required ? theme.borderSuccess :\n                          att.hasValue ? theme.borderInfo : theme.borderLight }\n                      ${ att.hidden ? 'hidden' : '' }\n                    ` }>\n                    <label htmlFor={ att.id }>{ att.name }</label>\n                    <Input value={ att.value } onChange={ att.onChange }\n                      autoFocus={ i === 0 }/>\n                  </div>\n                ))\n            }\n          </div>\n        </form>\n      </DmsWizard>\n      <div className=\"flex\">\n        { createState.badAttributes.map(att =>\n          <BadAttributeRow { ...att } oldKey={ att.key }\n            { ...createState }/>\n        ) }\n      </div>\n    </div>\n  );\n}\nexport const DmsCreate = dmsCreate(DmsCreateBase);\nexport const DmsEdit = dmsEdit(DmsCreateBase);\n","import React from \"react\"\n\nimport { DmsButton } from \"./dms-button\"\n\nimport { Table } from \"@availabs/avl-components\"\n\nimport get from \"lodash.get\"\n\nimport { makeFilter, prettyKey, getValue, useDmsColumns } from \"../utils\"\n\nconst DmsTable = ({ sortBy, sortOrder, columns, expandColumns, initialPageSize, ...props }) => {\n  const [attributes, actions] = useDmsColumns(columns);\n\n  const filter = makeFilter(props),\n    dataItems = (filter ? props.dataItems.filter(filter) : props.dataItems);\n\n  const getAttributeName = att => {\n    att = att.split(/[:.]/).pop();\n    const name = get(props, [\"format\", \"attributes\"], [])\n      .reduce((a, c) => c.key === att ? (c.name || prettyKey(c.key)) : a, att);\n    return name === att ? prettyKey(att) : name;\n  };\n\n  const columnData = [\n    // add attributes\n    ...attributes\n      .map(({ path, key, format, Cell, ...rest }) => {\n        return {\n          id: key,\n          accessor: d => d[key],\n          Header: getAttributeName(key),\n          Cell: ({ value, ...others }) =>\n            Cell ? <Cell value={ format(value) } { ...others }/> : format(value),\n          ...rest\n        }\n      }),\n    ...actions\n      .map(a => {\n        return {\n          ...a,\n          accessor: a.action,\n          disableFilters: true,\n          disableSortBy: true,\n          Cell: cell =>\n            <div className=\"flex justify-end\">\n              <DmsButton action={ a } item={ cell.row.original.self }\n                buttonTheme={ props.buttonTheme }/>\n            </div>\n        }\n      })\n  ]\n\n  const data = dataItems\n    .map(self => ({\n      self,\n      ...attributes.reduce((a, c) => {\n        const { value, key } = getValue(c.path, { self }, { preserveKeys: true });\n        a[key] = value;\n        return a;\n      }, {}),\n      ...actions.reduce((o, a) => {\n        o[a.action] = a;\n        return o\n      }, {}),\n      onClick: props.makeOnClick('dms:view', self.id),\n      subRows: [],\n      expand: expandColumns.map(c => getValue(c, { self }, { preserveKeys: true }))\n    }))\n// console.log(\"DATA ITEMS:\", dataItems)\n  return !props.dataItems.length ? null : (\n    <Table data={ data }\n      columns={ columnData }\n      sortBy={ sortBy }\n      sortOrder={ sortOrder }\n      initialPageSize={ initialPageSize }\n      ExpandRow={ props.ExpandRow }/>\n  )\n}\nDmsTable.defaultProps = {\n  dmsAction: \"list\",\n  dataItems: [],\n  columns: [],\n  expandColumns: [],\n  filter: false,\n  sortBy: \"updated_at\",\n  sortOrder: \"desc\",\n  initialPageSize: 10,\n  striped: false,\n  ExpandRow: undefined\n}\nexport default DmsTable;\n","import React from \"react\"\n\nimport { useTheme, HeaderComponent } from \"@availabs/avl-components\"\nimport { useDms } from \"../contexts/dms-context\"\nimport { useMessenger } from \"../contexts/messenger-context\"\n\nimport { DmsButton } from \"./dms-button\"\n\nexport default ({ title, shadowed = true, showHome = true, dmsActions = [], navBarSide = true, ...props }) => {\n  const { stack, top, item } = useDms(),\n    { pageMessages, attributeMessages } = useMessenger();\n\n  if (stack.length > 1) {\n    dmsActions.unshift({\n      action: \"dms:back\",\n      // showConfirm: Boolean(pageMessages.length)\n    });\n  }\n  if ((stack.length > 1) && showHome) {\n     dmsActions.unshift({\n       action: \"dms:home\",\n       // showConfirm: Boolean(pageMessages.length)\n     });\n  }\n  if (top.dmsAction === \"list\") {\n    dmsActions.unshift({ action: \"dms:create\" });\n  }\n  const theme = useTheme();\n\n  return (\n    <div className={ `\n        fixed top-0 left-0 right-0\n        ${ navBarSide ? `md:ml-${ theme.sidebarW }` : '' }\n      ` }>\n      <HeaderComponent title={ title || `${ props.app } Manager` }>\n        <div className=\"flex-0 flex items-center\">\n          { !pageMessages.length ? null :\n            <Warning warnings={ pageMessages }/>\n          }\n          { !attributeMessages.length ? null :\n            <Warning warnings={ attributeMessages } type=\"att\"/>\n          }\n          { dmsActions.map(a =>\n              <DmsButton className=\"ml-1\" key={ a.action || a } action={ a } item={ item }/>\n            )\n          }\n        </div>\n      </HeaderComponent>\n    </div>\n  )\n}\nconst Warning = ({ warnings, type = \"page\" }) => {\n  const theme = useTheme();\n  return (\n    <div className={ `\n      ${ type === \"att\" ? theme.textDanger : theme.textInfo } ${ theme.transition }\n      flex items-center rounded cursor-pointer\n      relative hoverable ml-1\n    ` }>\n      <span className=\"fas fa-2x fa-exclamation-triangle\"/>\n      <div className={ `\n        show-on-hover show-on-bottom pt-1 bg-transparent\n        absolute right-0 cursor-default\n      ` }>\n        <div className={ `\n          px-4 py-1 rounded shadow ${ theme.accent2 } ${ theme.text }\n        ` }>\n          { warnings.map(({ id, msg }) =>\n              <div key={ id } className={ `my-1 whitespace-nowrap rounded ${ theme.text }` }>\n                { msg }\n              </div>\n            )\n          }\n        </div>\n      </div>\n    </div>\n  )\n}\n","import DmsCard from \"./dms-card\"\nimport { DmsCreate, DmsEdit } from \"./dms-create\"\nimport DmsTable from \"./dms-table\"\nimport DmsHeader from \"./dms-header\"\nimport DmsContent from \"./dms-content\"\n\nexport default {\n  \"dms-card\": DmsCard,\n  \"dms-create\": DmsCreate,\n  \"dms-edit\": DmsEdit,\n  \"dms-table\": DmsTable,\n  \"dms-header\": DmsHeader,\n  \"dms-content\": DmsContent\n}\n","import React from \"react\"\n\nimport { useTheme } from \"@availabs/avl-components\"\n\nexport default ({ title, body, footer, children }) => {\n  const theme = useTheme();\n  return (\n    <div>\n      { !title ? null :\n        <div className={ `${ theme.contentBg } rounded px-4 py-2 mb-3 shadow text-3xl font-bold` }>\n          { title }\n        </div>\n      }\n      { !body ? null :\n        <div className={ `${ theme.contentBg } rounded px-8 py-4 mb-3 shadow` }>\n          { body }\n        </div>\n      }\n      { children }\n      { !footer ? null :\n        <div className={ `rounded py-2 px-4 ${ theme.contentBg } shadow` }>{ footer }</div>\n      }\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default ({ className=\"mt-20 flex-1 w-full mx-auto max-w-7xl mb-10\", children }) =>\n  <div className=\"flex\">\n    <div className={ className }>\n      { children }\n    </div>\n  </div>\n","import React from \"react\"\n\nimport { compareActions } from \"../utils\"\n\nimport get from \"lodash.get\"\n\nexport default Component =>\n  ({ children, ...props }) => {\n\n    const dmsActions = [];\n\n    children = React.Children.toArray(children)\n      .reduce((children, child) => {\n        if (compareActions(child.props.dmsAction, props.top.dmsAction)) {\n\n          dmsActions.push(...get(child.props, [\"dmsActions\"], []));\n\n          children.push(React.cloneElement(child,\n            { ...props,\n              ...get(props, [\"top\", \"props\"], {}), // <-- result of DmsAction seedProps,\n              [props.type]: props.item\n            }\n          ));\n        }\n        else if (!child.props.dmsAction) {\n          children.push(child);\n        }\n        return children;\n      }, [])\n      .map(child => {\n        if (!compareActions(child.props.dmsAction, props.top.dmsAction)) {\n          return React.cloneElement(child,\n            { dmsActions,\n              ...props,\n              ...get(props, [\"top\", \"props\"], {}), // <-- result of DmsAction seed props\n              [props.type]: props.item\n            }\n          );\n        }\n        return child;\n      })\n    return (\n      <Component { ...props }>{ children }</Component>\n    )\n  }\n","import React from \"react\"\n\nimport DmsComponents from \"./components\"\n\nimport { DmsButton } from \"./components/dms-button\"\n\nimport { HeaderComponent } from \"@availabs/avl-components\"\n\nimport dmsManager from \"./wrappers/dms-manager\"\n\n// import \"./styles.css\"\n\nconst DmsManager = ({ showHome = true, stack, top = {}, noHeader = false, className = null, ...props }) => {\n  if (!props.format) {\n    return <NoFormat />\n  }\n\n  const { dmsAction } = top, actions = [];\n\n  if ((stack.length > 1) && showHome) {\n     actions.push({\n       Comp: DmsButton,\n       action: \"dms:home\"\n     })\n  }\n  if (stack.length > 1) {\n    actions.push({\n      Comp: DmsButton,\n      action: \"dms:back\"\n    })\n  }\n  if (dmsAction === \"list\") {\n    actions.push({\n      Comp: DmsButton,\n      action: \"dms:create\"\n    })\n  }\n\n  return (\n    <>\n      { noHeader ? null :\n        <HeaderComponent title={ props.title || `${ props.app } Manager` }>\n          { actions.map(({ Comp, action }) =>\n              <Comp className=\"ml-2\" key={ action } action={ action }/>\n            )\n          }\n        </HeaderComponent>\n      }\n      <div className={ className }>\n        { props.children }\n      </div>\n    </>\n  )\n}\nconst NoFormat = () => <div large className=\"p-5\">No format supplied!!!</div>;\n\nexport default {\n  ...DmsComponents,\n  \"dms-manager\": dmsManager(DmsManager)\n}\n","import React from \"react\"\n\nimport { avlFalcor } from \"@availabs/avl-components\"\n\nimport get from \"lodash.get\"\n\nimport {\n  makeFilter,\n  // ITEM_REGEX,\n  PROPS_REGEX\n} from \"../utils\"\n\nconst processPath = (path, props) => {\n  return path.map(p => {\n    const match = PROPS_REGEX.exec(p);\n    if (match) {\n      return get(props, match[1], null);\n    }\n    return p;\n  })\n}\n\nconst getDataItems = (path, falcorCache, filter = false) => {\n  const length = get(falcorCache, [...path, \"length\"], 0);\n\n  const dataItems = [];\n  for (let i = 0; i < length; ++i) {\n    const p = get(falcorCache, [...path, \"byIndex\", i, \"value\"], null);\n    if (p) {\n      const dataItem = JSON.parse(JSON.stringify(get(falcorCache, [...p], {}))),\n        data = get(dataItem, [\"data\", \"value\"], null);\n      if (data) {\n        dataItem.data = data;\n        dataItems.push(dataItem);\n      }\n    }\n  }\n  return filter ? dataItems.filter(filter) : dataItems;\n}\n\nconst DefaultOptions = {\n  loading: true\n}\n\nexport default (WrappedComponent, options = {}) => {\n  class Wrapper extends React.Component {\n    state = { loading: 0 };\n\n    MOUNTED = false;\n    componentDidMount() {\n      this.MOUNTED = true;\n      this.fetchFalcorDeps();\n    }\n    componentWillUnmount() {\n      this.MOUNTED = false;\n    }\n    setState(...args) {\n      this.MOUNTED && super.setState(...args);\n    }\n\n    startLoading(bool = true) {\n      this.setState(({ loading }) => ({ loading: bool ? ++loading : loading }));\n    }\n    stopLoading(bool = true) {\n      this.setState(({ loading }) => ({ loading: bool ? --loading : loading }));\n    }\n\n    fetchFalcorDeps(loading = true) {\n      this.startLoading(loading);\n      const { path } = this.props;\n      return this.props.falcor.get([...path, \"length\"])\n        .then(res => {\n          let length = get(res, [\"json\", ...path, \"length\"], 0);\n          if (length) {\n            return this.props.falcor.get(\n              [...path, \"byIndex\", { from: 0, to: length - 1 },\n                [\"id\", \"app\", \"type\", \"data\", \"updated_at\"]\n              ]\n            )\n          }\n        }).then(() => this.stopLoading(loading))\n    }\n    apiInteract(action, id, data, options = {}) {\n      let falcorAction = false;\n\n      options = {\n        ...DefaultOptions,\n        ...options\n      }\n\n      switch (action) {\n        case \"api:edit\":\n          falcorAction = this.falcorEdit;\n          break;\n        case \"api:create\":\n          falcorAction = this.falcorCreate;\n          break;\n        case \"api:delete\":\n          falcorAction = this.falcorDelete;\n          break;\n        default:\n          break;\n      }\n\n      if (falcorAction) {\n        this.startLoading(options.loading);\n        return Promise.resolve(falcorAction.call(this, action, id, data))\n          .then(() => this.fetchFalcorDeps(options.loading))\n          .then(() => this.stopLoading(options.loading));\n      }\n      return Promise.resolve();\n    }\n    falcorEdit(action, id, data) {\n      if (!(id && data)) return;\n\n      return this.props.falcor.call([\"dms\", \"data\", \"edit\"], [id, data]);\n    }\n    falcorCreate(action, id, data) {\n      const args = [this.props.app, this.props.type, data].filter(Boolean);\n\n      if (args.length < 3) return;\n\n      return this.props.falcor.call([\"dms\", \"data\", \"create\"], args);\n    }\n    falcorDelete(action, id, ids) {\n      ids = ids || [];\n      const args = [this.props.app, this.props.type, id, ...ids].filter(Boolean);\n\n      if (args.length < 3) return;\n\n      return this.props.falcor.call([\"dms\", \"data\", \"delete\"], args);\n    }\n    render() {\n      return (\n        <WrappedComponent { ...this.props } loading={ Boolean(this.state.loading) }\n          apiInteract={ (...args) => this.apiInteract(...args) }/>\n      )\n    }\n  }\n  const mS2P = (falcorCache, props) => {\n    const { app, type } = get(props, \"format\", props),\n      defaultPath = [\"dms\", \"data\", `${ app }+${ type }`],\n      path = processPath(get(props, \"path\", defaultPath), props),\n      dataItems = getDataItems(path, falcorCache, makeFilter(props.filter, { props, item: get(props, type, null) }));\n    return {\n      dataItems,\n      path,\n      app,\n      type\n    }\n  }\n  const mapCacheToProps = (falcorCache, props) =>\n    mS2P(falcorCache, { ...props, ...options });\n\n  return avlFalcor(Wrapper, { mapCacheToProps });\n}\n","import React from \"react\"\n\nimport { DmsButton } from \"../components/dms-button\"\nimport ReadOnlyEditor from \"../components/editor/editor.read-only\"\n\nimport { MarkdownViewer } from \"@availabs/avl-components\"\n\nimport get from \"lodash.get\"\n\nimport { prettyKey, getValue } from \"../utils\"\n\nconst SEED_PROPS = () => ({});\n\nconst ViewItem = ({ value, type }) =>\n  type === \"img\" ?\n    <div className=\"h-64 flex justify-start items-center\">\n      <img src={ value.url } className=\"h-64\" alt={ value.filename }/>\n    </div>\n  : (type === \"object\") || (type === \"dms-format\") ?\n    <div className=\"whitespace-pre-wrap\">\n      { JSON.stringify(value, null, 4) }\n    </div>\n  : type === \"richtext\" ?\n    <ReadOnlyEditor value={ value }/>\n  : type === \"markdown\" ?\n    <MarkdownViewer markdown={ value }/>\n  : <div>{ value }</div>\n\nconst ViewRow = ({ name, children }) =>\n  <div className=\"grid grid-cols-4 my-2\">\n    <div className=\"col-span-1 font-bold\">{ name }</div>\n    <div className=\"col-span-3\">\n      { children }\n    </div>\n  </div>\n\nconst View = (Component, options = {}) => {\n  return class Wrapper extends React.Component {\n    static defaultProps = {\n      dmsAction: \"view\",\n      actions: [],\n      interact: () => {},\n      mapDataToProps: {},\n      seedProps: props => ({})\n    }\n    renderChildren() {\n      const { seedProps = SEED_PROPS, ...props } = this.props;\n      return React.Children.map(this.props.children, child =>\n        React.cloneElement(child, { ...props, ...seedProps(props) })\n      )\n    }\n    renderItem({ value, key }, item) {\n      let { format } = this.props,\n        attributes = get(format, \"attributes\", []),\n        attribute = attributes.reduce((a, c) => c.key === key ? c: a, {}),\n        name = attribute.name || prettyKey(key),\n        type = attribute.type;\n\n      if (!value) return { value: null, name };\n\n      if (attribute.isArray) {\n        value = value.map((v, i) => <ViewItem key={ i } type={ type } value={ v }/>)\n      }\n      else {\n        value = <ViewItem type={ type } value={ value }/>\n      }\n\n      return { value, name };\n    }\n    renderRow(objectArg, sources) {\n      let {\n        value,\n        key,\n        source\n      } = objectArg;\n\n      if (source === \"item\") {\n        const { value, name } = this.renderItem(objectArg, sources.item);\n        return ( !value ? null :\n          <ViewRow key={ key } name={ name }>\n            { value }\n          </ViewRow>\n        );\n      }\n      return (\n        <ViewRow key={ key } name={ prettyKey(key) }>\n          { value }\n        </ViewRow>\n      );\n    }\n    getActionGroups(actions, key) {\n      const item = get(this, [\"props\", this.props.type], null);\n      if (!Array.isArray(actions)) {\n        return (\n          <DmsButton key={ get(actions, \"action\", actions) }\n            item={ item } action={ actions } props={ this.props }/>\n        )\n      }\n      return (\n        <div key={ key }>\n          { actions.map((a, i) => this.getActionGroups(a, i)) }\n        </div>\n      )\n    }\n    render() {\n      const {\n        actions, //interact,\n        type, //format,\n        mapDataToProps\n      } = { ...this.props, ...options };\n\n      const item = get(this, [\"props\", type], null);\n\n      if (!item) return null;\n\n      const sources = { item, props: this.props },\n        props = {},\n        directives = { preserveSource: true };\n\n      for (const key in mapDataToProps) {\n        const path = mapDataToProps[key];\n\n        if (typeof mapDataToProps[key] === \"string\") {\n          const { source, ...result } = getValue(path, sources, directives);\n          props[key] = source === \"item\" ?\n            this.renderItem(result, sources.item).value : result.value;\n        }\n        else {\n          const mapped = path.map(p => getValue(p, sources, directives));\n          props[key] = mapped.map(v => this.renderRow(v, sources));\n        }\n      }\n\n      return (\n        <div>\n          <Component { ...props } { ...this.props }/>\n          { !actions.length ? null :\n            <div>\n              { this.getActionGroups(actions) }\n            </div>\n          }\n          <div>{ this.renderChildren() }</div>\n        </div>\n\n      )\n    }\n  }\n}\n\nexport default View","import React from \"react\"\n\nimport { Redirect } from \"react-router-dom\"\n\nimport { RouterContext } from \"../contexts\"\n\nimport {\n  useRouteMatch, useParams,\n  useHistory, useLocation,\n  Switch, Route\n} from \"react-router-dom\"\n\nimport get from \"lodash.get\"\n\nconst GetParams = ({ Component, ...others }) => {\n  const routerParams = useParams(),\n    { search } = useLocation();\n  const searchParams = new URLSearchParams(search),\n    props = [...searchParams.entries()]\n      .reduce((a, [k, v]) => {\n        a[k] = v;\n        return a;\n      }, {});\n  return <Component { ...others } routerParams={ { ...routerParams, props } }/>;\n}\n\nconst ParseItems = ({ Component, ...props}) => {\n  const { action, attribute, value } = useParams();\n\n  const id = get(props, \"dataItems\", []).reduce((a, c) => {\n    const cValue = get(c, [\"data\", attribute], null)\n      .toString().toLowerCase();\n    return cValue === value.toString().toLowerCase() ? c.id : a;\n  }, undefined);\n\n  if (!id) return <Component key=\"no-id\" { ...props }/>;\n\n  return <Redirect to={ `${ props.basePath }/${ action }/${ id }` }/>\n  // return <Component { ...props } routerParams={ { action, id } }/>\n}\n\nexport default (Component, options = {}) =>\n  props => {\n    const { path } = useRouteMatch(),\n      alt11 = `${ path }/:action`,\n      alt13 = `${ path }/:action/:id`,\n      alt21 = `${ path }/:action/:attribute/:value`;\n\n    const location = useLocation(),\n      history = useHistory();\n\n    const routerProps = React.useMemo(() =>\n      ({\n        basePath: path,\n        useRouter: true,\n        location,\n        history\n      })\n    , [path, location, history]);\n\n    return (\n      <RouterContext.Provider value={ routerProps }>\n        <Switch>\n          <Route exact path={ path }>\n            <Component { ...props } { ...routerProps }/>\n          </Route>\n          <Route exact path={ [alt11, alt13] }>\n            <GetParams { ...props } { ...routerProps } Component={ Component }/>\n          </Route>\n          <Route exact path={ alt21 }>\n            <ParseItems { ...props } { ...routerProps } Component={ Component }/>\n          </Route>\n        </Switch>\n      </RouterContext.Provider>\n    )\n  }\n","import React, { useState, useEffect } from \"react\"\n\nimport { useAuth } from \"../contexts/auth-context\"\nimport { useDms } from \"../contexts/dms-context\"\nimport { mapDataToProps as doMapDataToProps, getValue } from \"../utils\"\nimport { hasValue } from \"@availabs/avl-components\"\n\n// import get from \"lodash.get\"\n\nconst createElements = ({ data, Comp }, interact) =>\n  data.map((d, i) =>\n    <Comp key={ d.key } { ...d.props }\n      onClick={ !d.interact.length ? null :\n        e => interact(...d.interact)\n      }>\n      { d.value }\n    </Comp>\n  )\n\nexport default (Component, options = {}) => {\n  const {\n    mapDataToProps = {},\n    interactOnMount = []\n  } = options;\n\n  return ({ ...props }) => {\n    const newProps = { ...props, ...useDms(), user: useAuth().user },\n      { interact } = newProps;\n\n    const [acted, setActed] = useState(false);\n\n    let defaultInteract = [];\n    if (!acted) {\n      defaultInteract = [\n        getValue(interactOnMount[0], { props: newProps }),\n        getValue(interactOnMount[1], { props: newProps }),\n        doMapDataToProps(interactOnMount[2] || {}, { props: newProps })\n      ];\n    }\n    const [action, id, seededProps] = defaultInteract,\n      numOnMount = interactOnMount.filter(hasValue).length,\n      numInteract = defaultInteract.filter(hasValue).length,\n      ready = Boolean(action) && (numOnMount === numInteract);\n\n    useEffect(() => {\n      if (!acted && ready) {\n        interact(action, id, seededProps);\n        setActed(true);\n      }\n    }, [acted, ready, interact, action, id, seededProps]);\n\n    const handleData = data => {\n      if (Array.isArray(data)) {\n        return data.map(handleData);\n      }\n      if (typeof data === \"function\") {\n        return data(createElements, newProps.interact);\n      }\n      return data;\n    }\n\n    const mapped = doMapDataToProps(mapDataToProps, { props: newProps })\n\n    for (const key in mapped) {\n      const data = mapped[key];\n      newProps[key] = handleData(data);\n    }\n    return <Component { ...newProps }/>\n  }\n}\n","import dmsFalcor from \"./dms-falcor\"\nimport dmsView from \"./dms-view\"\nimport dmsRouter from \"./dms-router\"\n\nimport dmsProvider from \"./dms-provider\"\nimport dmsManager from \"./dms-manager\"\nimport dmsConsumer from \"./dms-consumer\"\n\nimport { dmsCreate, dmsEdit } from \"./dms-create\"\n\nimport dmsShare from \"./dms-share\"\n\nexport default {\n  \"dms-falcor\": dmsFalcor,\n  \"dms-view\": dmsView,\n  \"dms-router\": dmsRouter,\n  \"dms-provider\": dmsProvider,\n  \"dms-manager\": dmsManager,\n  \"dms-consumer\": dmsConsumer,\n  \"dms-share\": dmsShare,\n  \"dms-create\": dmsCreate,\n  \"dms-edit\": dmsEdit\n}\n","import React from \"react\"\n\nimport get from \"lodash.get\"\n\nimport { mapDataToProps as doMapDataToProps } from \"../utils\"\n\nexport default (Component, options = {}) => {\n  const {\n    mapDataToProps = {},\n    propsToShare = {}\n  } = options;\n  return ({ children, ...props }) => {\n    let toShare = doMapDataToProps(mapDataToProps, { props });\n    if (typeof propsToShare === \"string\") {\n      const split = propsToShare.split(\".\");\n      toShare[split.pop()] = get(props, propsToShare, propsToShare);\n    }\n    else if (Array.isArray(propsToShare)) {\n      propsToShare.forEach(prop => {\n        const split = prop.split(\".\");\n        toShare[split.pop()] = get(props, prop, prop);\n      });\n    }\n    else {\n      for (const prop in propsToShare) {\n        toShare[prop] = get(props, propsToShare[prop], propsToShare[prop]);\n      }\n    }\n    return (\n      <Component { ...props }>\n        { React.Children.map(children, child => React.cloneElement(child, toShare)) }\n      </Component>\n    )\n  }\n}\n","import React from 'react';\nimport {ctpDoc} from './docs.type'\nimport SectionManager from './components/SectionManager'\nimport PageEdit from './components/PageEdit'\nimport PageView from './components/PageView'\nimport {ComponentFactory} from '@availabs/avl-components'\nimport {\n    addComponents,\n    addWrappers\n} from \"@availabs/avl-components\"\nimport viewConfig from './view'\nimport DmsComponents from \"components/dms\"\nimport DmsWrappers from \"components/dms/wrappers\"\n\n\naddComponents(DmsComponents)\naddWrappers(DmsWrappers)\n\nlet editorConfig = {\n    type: \"dms-content\",\n    // type: \"dms-manager\",\n    wrappers: [\n// wrapper order is important\n// from index zero to i, higher index wrappers send props into lower index wrappers\n// higher index wrappers do not see props from lower index wrappers\n        \"dms-manager\",\n        \"dms-provider\",\n        \"dms-router\",\n        \"show-loading\",\n        \"dms-falcor\",\n        \"with-auth\"\n    ],\n    props: {\n        format: ctpDoc,\n        title: \"Documentation\",\n    },\n    children: [\n        { type: \"dms-header\",\n            props: {\n                title: \"Documentation\",\n                shadowed: false\n            }\n        },\n// dms-manager children are special\n// they are only shown when the dms-manager state.stack.top.action === child.props.dmsAction\n        { type: SectionManager,\n            props: {\n                dmsAction: \"list\"\n            }\n        },\n        { type: PageView,\n            props: { dmsAction: \"view\"},\n\n        },\n\n        { type: PageEdit,\n            props: {\n                dmsAction: \"create\",\n            },\n            wrappers: [ \"dms-create\", \"with-auth\"],\n        },\n\n        { type: PageEdit,\n            props: { dmsAction: \"edit\" },\n            wrappers: [\"dms-edit\",\"with-auth\"]\n        }\n    ]\n}\n\nconst Documentation = (props) => (\n    <div className='mt-20'>\n        <h4> NPMRDS Documentation </h4>\n        <ComponentFactory config={ viewConfig }/>\n    </div>\n)\n\nconst DocsEditor= (props) => (\n    <div className='mt-20'>\n        <h4> NPMRDS Documentation </h4>\n        <ComponentFactory config={ editorConfig }/>\n    </div>\n)\n\n\nexport default [{\n    path: \"/methodology\",\n    mainNav: true,\n    // exact: true,\n    auth: false,\n    name: 'Methodology',\n    icon: '',\n    layoutSettings: {\n        fixed: true,\n        maxWidth: '',//'max-w-7xl',\n        headerBar: false,\n        nav: 'top',\n        \n    },\n    component: Documentation\n},\n    {\n        path: \"/docs\",\n        mainNav: false,\n        // exact: true,\n        auth: false,\n        name: 'Docs Editor',\n        icon: '',\n        layoutSettings: {\n            fixed: true,\n            maxWidth: '',//'max-w-7xl',\n            headerBar: false,\n            nav: 'top',\n            \n        },\n        component: DocsEditor\n    }\n]\n","// import { sendSystemMessage } from './messages';\n\n// import { AUTH_HOST, AUTH_PROJECT_NAME } from 'config'\n\n\nconst SET_AMOUNT = 'USER::SET_AMOUNT';\n\nfunction setAmount(id) {\n    return {\n        type:SET_AMOUNT,\n        id\n    }\n}\n\n\nexport const setActiveAmount = (id) =>{\n    return (dispatch) => {\n        dispatch(setAmount(id))\n    }\n};\n\n\n\n\n\nexport const actions = {\n    setActiveAmount,\n\n};\n\nlet initialState = {\n    activeAmount: null,\n};\n\nconst ACTION_HANDLERS = {\n\n    [SET_AMOUNT]: (state =initialState, action) => {\n        const newState = Object.assign({}, state)\n        if(action.id) {\n            newState.activeAmount = action.id;\n            localStorage.setItem('Amount', newState.activeAmount);\n        }\n        return newState\n    }\n\n};\n\nexport default function scenarioReducer(state = initialState, action) {\n\n    const handler = ACTION_HANDLERS[action.type];\n    return handler ? handler(state, action) : state;\n}\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport {setActiveAmount} from \"../../../store/modules/femaDisasterDeclarations\";\nimport {fnum} from \"../../../utils/sheldusUtils\";\n\n\n\nconst IA_ATTRIBUTES = [\n    'ihp_amount',\n    'ihp_count',\n    'ha_amount',\n    'ha_count',\n    'fip_amount',\n    'fip_count',\n    'on_a_amount',\n    'on_a_count',\n    'rental_assistance_amount',\n    'rental_assistance_count',\n    'repair_amount',\n    'repair_count',\n    'replacement_amount',\n    'replacement_count',\n    'personal_property_amount',\n    'personal_property_count',\n    'roof_damage_amount',\n    'roof_damage_count',\n    'foundation_damage_amount',\n    'foundation_damage_count',\n    'flood_damage_amount',\n    'flood_damage_count'\n];\n\nlet stat_boxes = [\n    {name:'$ IHP Amount',value:'ihp_amount',amount:0,count:0},\n    {name:'$ HA Amount',value:'ha_amount',amount:0,count:0},\n    {name:'$ FIP Amount',value:'fip_amount',amount:0,count:0},\n    {name:'$ ON A Amount',value:'on_a_amount',amount:0,count:0},\n    {name:'$ Rental Assistance Amount',value:'rental_assistance_amount',amount:0,count:0},\n    {name:'$ Repair Amount',value:'repair_amount',amount:0,count:0},\n    {name:'$ Replacement Amount',value:'replacement_amount',amount:0,count:0},\n    {name:'$ Personal Property Amount',value:'personal_property_amount',amount:0,count:0},\n    {name:'$ Roof Damage Amount',value:'roof_damage_amount',amount:0,count:0},\n    {name: '$ Foundation Damage Amount',value:'foundation_damage_amount',amount:0,count:0},\n    {name:'$ Flood Damage Amount',value:'flood_damage_amount',amount:0,count:0}\n];\n\nclass FemaDisastersIATotalsStatBoxes extends React.Component{\n\n    fetchFalcorDeps(){\n        return this.props.falcor.get(['fema','disasters','byId',this.props.disaster_number,'ia_totals',IA_ATTRIBUTES])\n            .then(response =>{\n                return response\n            })\n    }\n\n    processData(){\n        let graph = get(this.props.falcorCache,['fema','disasters','byId',this.props.disaster_number,'ia_totals'],null)\n        if(graph){\n            Object.keys(graph).forEach(item =>{\n                stat_boxes.forEach(d =>{\n\n                    if(d.value === item && item.includes(\"amount\")){\n                        d.amount = graph[item].value || 0\n                    }\n                    if(item.includes(\"count\") && d.value.split(\"_amount\")[0]+\"_count\" === item){\n                        d.count = parseInt(graph[item].value) || 0\n                    }\n\n                })\n            })\n        }\n    }\n\n    render(){\n        this.processData()\n        return(\n            <div className=\"mt-5 grid grid-cols-6 gap-5 sm:grid-cols-6 py-5\">\n                {stat_boxes.map((stat_box,i) =>{\n                    return(\n                        <div className=\"bg-white overflow-hidden shadow rounded-lg cursor-pointer\" key={i}  onClick={(e) =>{\n                            console.log('e',stat_box.value)\n                            this.props.setActiveAmount(stat_box.value)\n                        }}>\n                            <div className=\"px-4 py-5 sm:p-6\">\n                                <dl>\n                                    <dt className=\"text-base leading-6 font-normal text-gray-900 break-words\">\n                                        {stat_box.name}\n                                    </dt>\n                                    <dd className=\"mt-1 flex justify-between items-baseline md:block lg:flex\">\n                                        <div className=\"flex items-baseline text-2xl leading-8 font-semibold text-indigo-600\">\n                                            {fnum(stat_box.amount)}\n                                        </div>\n                                    </dd>\n                                    <dd className=\"mt-1 flex justify-between items-baseline md:block lg:flex\">\n                                        <div className=\"text-sm leading-5 font-medium text-gray-500\">\n                                            # {stat_box.count}\n                                        </div>\n                                    </dd>\n                                </dl>\n                            </div>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        activeStateGeoid : state.stormEvents.activeStateGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', [])\n    };\n};\nconst mapDispatchToProps = {\n    setActiveAmount\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(reduxFalcor(FemaDisastersIATotalsStatBoxes))\n","import React from \"react\"\nimport MapLayer from \"components/AvlMap/MapLayer\"\nimport {falcorGraph} from \"store/falcorGraphNew\"\nimport get from \"lodash.get\"\nimport * as d3scale from 'd3-scale'\nimport * as d3 from 'd3'\nimport { fnum } from \"utils/sheldusUtils\"\nimport { extent } from \"d3-array\"\nconst fips = [\"01\", \"02\", \"04\", \"05\", \"06\", \"08\", \"09\", \"10\", \"11\", \"12\", \"13\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"40\", \"41\", \"42\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \"50\", \"51\", \"53\", \"54\", \"55\", \"56\"]\n\nconst IA_ATTRIBUTES = [\n    'ihp_amount',\n    'ihp_count',\n    'ha_amount',\n    'ha_count',\n    'fip_amount',\n    'fip_count',\n    'on_a_amount',\n    'on_a_count',\n    'rental_assistance_amount',\n    'rental_assistance_count',\n    'repair_amount',\n    'repair_count',\n    'replacement_amount',\n    'replacement_count',\n    'personal_property_amount',\n    'personal_property_count',\n    'roof_damage_amount',\n    'roof_damage_count',\n    'foundation_damage_amount',\n    'foundation_damage_count',\n    'flood_damage_amount',\n    'flood_damage_count'\n];\nconst PA_ATTRIBUTES = [\n    'project_amount',\n    'project_amount_count',\n    'federal_share_obligated',\n    'federal_share_obligated_count',\n    'total_obligated',\n    'total_obligated_count',\n\n]\nconst HMA_MITIGATED_PROPERTIES_ATTRIBUTES = [\n    'actual_amount_paid',\n    'number_of_properties'\n]\n\n\nlet stat_boxes = [\n    {name:'IHP Amount',value:'ihp_amount',amount:0,count:0},\n    {name:'HA Amount',value:'ha_amount',amount:0,count:0},\n    {name:'FIP Amount',value:'fip_amount',amount:0,count:0},\n    {name:'ON A Amount',value:'on_a_amount',amount:0,count:0},\n    {name:'Rental Assistance Amount',value:'rental_assistance_amount',amount:0,count:0},\n    {name:'Repair Amount',value:'repair_amount',amount:0,count:0},\n    {name:'Replacement Amount',value:'replacement_amount',amount:0,count:0},\n    {name:'Personal Property Amount',value:'personal_property_amount',amount:0,count:0},\n    {name:'Roof Damage Amount',value:'roof_damage_amount',amount:0,count:0},\n    {name: 'Foundation Damage Amount',value:'foundation_damage_amount',amount:0,count:0},\n    {name:'Flood Damage Amount',value:'flood_damage_amount',amount:0,count:0},\n    {name:'$ Project Amount',value:'project_amount',amount:0,count:0},\n    {name:'$ Federal Share Obligated Amount',value:'federal_share_obligated',amount:0,count:0},\n    {name:'$ Total Obligated Amount',value:'total_obligated',amount:0,count:0},\n    {name:'$ Actual Amount Paid',value:'actual_amount_paid',amount:0,count:0},\n];\nclass FemaDisastersTotalsEventsLayer extends MapLayer {\n    receiveProps(oldProps, newProps) {\n\n        if (this.filters.disaster_number.value !== newProps.disaster_number) {\n            this.filters.disaster_number.value = newProps.disaster_number\n        }\n        if(oldProps.active_amount !== newProps.active_amount){\n            this.filters.amount.value = newProps.active_amount ?\n                newProps.active_amount : newProps.active_amount ? newProps.active_amount : null;\n        }\n\n    }\n\n    onPropsChange(oldProps, newProps) {\n\n        if(this.filters.disaster_number.value !== newProps.disaster_number){\n            this.filters.disaster_number.value = newProps.disaster_number\n            this.doAction([\"fetchLayerData\"]);\n        }\n        if(oldProps.active_amount !== newProps.active_amount){\n            this.filters.amount.value = newProps.active_amount ?\n                newProps.active_amount : newProps.active_amount ? newProps.active_amount : null;\n            this.doAction([\"fetchLayerData\"]);\n        }\n\n\n    }\n\n\n    onAdd(map) {\n        this.map = map\n        falcorGraph.get(\n            ['geo',fips, 'counties', 'geoid']\n        )\n            .then(response => {\n                this.filtered_geographies = Object.values(response.json.geo)\n                    .reduce((out, state) => {\n                        if (state.counties) {\n                            out = [...out, ...state.counties]\n                        }\n                        return out\n                    }, [])\n                // onLoadBounds = map.getBounds()\n                this.fetchData().then(d => this.render(this.map))\n            })\n\n\n    }\n\n    fetchData(){\n        let amount = this.filters.amount.value\n        if(IA_ATTRIBUTES.includes(amount)){\n            return falcorGraph.get(\n                ['fema','disasters','byId',this.filters.disaster_number.value,'ia','zipCodes'],\n\n            )\n                .then(response => {\n                    this.zip_codes = get(response.json,['fema','disasters','byId',this.filters.disaster_number.value,'ia','zipCodes'],[]).filter(d => d !== null)\n                    if(this.zip_codes.length > 0){\n                        return falcorGraph.get(['fema','disasters','byId',this.filters.disaster_number.value,'ia','byZip',this.zip_codes,IA_ATTRIBUTES])\n                            .then(response =>{\n                                this.render(this.map)\n                            })\n                    }\n\n                })\n        }\n        if(PA_ATTRIBUTES.includes(amount)){\n            return falcorGraph.get(\n                ['fema','disasters','byId',this.filters.disaster_number.value,'pa','zipCodes'],\n\n            )\n                .then(response => {\n                    this.zip_codes = get(response.json,['fema','disasters','byId',this.filters.disaster_number.value,'pa','zipCodes'],[]).filter(d => d !== null)\n                    if(this.zip_codes.length > 0){\n                        return falcorGraph.get(['fema','disasters','byId',this.filters.disaster_number.value,'pa','byZip',this.zip_codes,PA_ATTRIBUTES])\n                            .then(response =>{\n                                this.render(this.map)\n                            })\n                    }\n\n                })\n        }\n        if(HMA_MITIGATED_PROPERTIES_ATTRIBUTES.includes(amount)){\n            return falcorGraph.get(\n                ['fema','disasters','byId',this.filters.disaster_number.value,'hma_mitigated_properties','zipCodes'],\n\n            )\n                .then(response => {\n                    this.zip_codes = get(response.json,['fema','disasters','byId',this.filters.disaster_number.value,'hma_mitigated_properties','zipCodes'],[]).filter(d => d !== null)\n                    if(this.zip_codes.length > 0){\n                        return falcorGraph.get(['fema','disasters','byId',this.filters.disaster_number.value,'hma_mitigated_properties','byZip',this.zip_codes,HMA_MITIGATED_PROPERTIES_ATTRIBUTES])\n                            .then(response =>{\n                                this.render(this.map)\n                            })\n                    }\n\n                })\n        }\n\n    }\n\n    getColorScale(domain) {\n        switch (this.legend.type) {\n            case \"quantile\":\n                return d3scale.scaleQuantile()\n                    .domain(domain)\n                    .range(this.legend.range);\n            case \"quantize\":\n                this.legend.domain = extent(domain)\n                return d3scale.scaleQuantize()\n                    .domain(domain)\n                    .range(this.legend.range);\n            case \"threshold\": {\n                this.legend.domain = domain\n                return d3scale.scaleThreshold()\n                    .domain(domain)\n                    .range(this.legend.range)\n            }\n            default:\n                this.layer.forceUpdate()\n                return d3scale.scaleQuantile()\n                    .domain(domain)\n                    .range(this.legend.range);\n        }\n\n\n    }\n\n    render(map){\n        let data = IA_ATTRIBUTES.includes(this.filters.amount.value) ?\n            get(falcorGraph.getCache(),['fema','disasters','byId',this.filters.disaster_number.value,'ia','byZip'],{})\n            : PA_ATTRIBUTES.includes(this.filters.amount.value) ?\n            get(falcorGraph.getCache(),['fema','disasters','byId',this.filters.disaster_number.value,'pa','byZip'],{})\n                :\n            get(falcorGraph.getCache(),['fema','disasters','byId',this.filters.disaster_number.value,'hma_mitigated_properties','byZip'],{})\n        if(Object.keys(data).length > 0 && this.zip_codes){\n            let filteredData = Object.keys(data).reduce((a,c) =>{\n                if(this.zip_codes){\n                    this.zip_codes.filter(d => d!== '$__path').forEach(zip_code =>{\n                        if(zip_code === c && get(data, [c,this.filters.amount.value,'value'], false)){\n                            a[c] = get(data, [c,this.filters.amount.value,'value'], false)\n                        }\n                    })\n                }\n                return a\n            },{})\n            let amountDomain = Object.values(filteredData).sort((a, b) => a - b)\n            let domain = [0, d3.quantile(amountDomain, 0), d3.quantile(amountDomain, 0.25), d3.quantile(amountDomain, 0.5),\n                d3.quantile(amountDomain, 0.75), d3.quantile(amountDomain, 1)]\n            let range = [\"#f2efe9\", \"#fadaa6\", \"#f7c475\", \"#f09a10\", \"#cf4010\"]\n\n            this.legend.domain = domain\n            this.legend.range = range\n\n            let colorScale = d3scale.scaleThreshold()\n                .domain(domain)\n                .range(\n                    range //[\"#f2efe9\", \"#fadaa6\", \"#f7c475\", \"#f09a10\", \"#cf4010\"]\n                )\n            let colors = Object.keys(filteredData)\n                .reduce((a, c) => {\n                    a[c] = colorScale(filteredData[c])\n                    return a\n                }, {})\n            console.log('colors',colors)\n            map.setLayoutProperty('zipcodes', 'visibility', 'visible');\n            map.setFilter('zipcodes', [\n                \"all\",\n                [\n                    \"match\",\n                    [\"get\", \"ZCTA5CE10\"],\n                    [...new Set(this.zip_codes)],\n                    true,\n                    false\n                ]\n            ])\n            map.setPaintProperty(\n                'zipcodes',\n                'fill-color',\n                ['case',\n                    [\"has\", [\"to-string\", [\"get\", 'ZCTA5CE10']], [\"literal\", colors]],\n                    [\"get\", [\"to-string\", [\"get\", 'ZCTA5CE10']], [\"literal\", colors]],\n                    \"hsl(0, 3%, 94%)\"\n                ]\n            )\n        }\n\n\n    }\n}\n\nexport default (props = {}) =>\n    new FemaDisastersTotalsEventsLayer(\"FEMA Disasters IA Events\", {\n        ...props,\n        selectedStations: new Map(),\n        stationFeatures: [],\n        popover: {\n            layers: [\"zipcodes\"],\n            pinned:false,\n            dataFunc: function (d) {\n                return [\n                    [   (<div className='text-lg text-bold bg-white'>\n                        ZIP - {d.properties[\"ZCTA5CE10\"]}\n                    </div>)\n                    ],\n                    [   (<div className='text-sm bg-white'>\n                        {stat_boxes.reduce((a,c)=>{\n                            if(c.value === this.filters.amount.value){\n                                a = c.name\n                            }\n                            return a\n                        },'')} -\n                        {   IA_ATTRIBUTES.includes(this.filters.amount.value) ?\n                            fnum(get(falcorGraph.getCache(),['fema','disasters','byId',this.filters.disaster_number.value,'ia','byZip',d.properties[\"ZCTA5CE10\"],this.filters.amount.value,'value'],0))\n                            : PA_ATTRIBUTES.includes(this.filters.amount.value) ?\n                            fnum(get(falcorGraph.getCache(),['fema','disasters','byId',this.filters.disaster_number.value,'pa','byZip',d.properties[\"ZCTA5CE10\"],this.filters.amount.value,'value'],0))\n                            :\n                                fnum(get(falcorGraph.getCache(),['fema','disasters','byId',this.filters.disaster_number.value,'hma_mitigated_properties','byZip',d.properties[\"ZCTA5CE10\"],this.filters.amount.value,'value'],0))\n                        }\n\n                    </div>)\n                    ],\n                ]\n            }\n        },\n        showAttributesModal: false,\n        legend: {\n            title: 'Total Damage',\n            type: \"threshold\",\n            types: [\"threshold\", \"quantile\", \"quantize\",\"linear\"],\n            vertical: false,\n            range: [],\n            active: false,\n            domain: [],\n            format: fnum\n        },\n        sources: [\n            {\n                id: \"composite\",\n                source: {\n                    \"url\": \"mapbox://lobenichou.albersusa,lobenichou.albersusa-points\",\n                    \"type\": \"vector\"\n                }\n            },\n            {\n                id: \"albersusa\",\n                source: {\n                    \"url\": \"mapbox://lobenichou.albersusa\",\n                    \"type\": \"vector\"\n                }\n            },\n            {\n                id:'albersusa_zip_codes',\n                source:{\n                    \"url\":\"mapbox://am3081.4jgx8fkw\",\n                    \"type\":\"vector\"\n                }\n            }\n        ],\n        filters: {\n            'disaster_number': {\n                type: 'dropdown',\n                value: window.location.pathname.split(\"/\")[3],\n                domain: []\n            },\n            'amount':{\n                type:'dropdown',\n                value : 'ihp_amount',\n                domain:[]\n            },\n\n        },\n        layers: [\n            {\n                \"id\": \"counties\",\n                \"type\": \"fill\",\n                \"source\": \"albersusa\",\n                \"source-layer\": \"albersusa\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"county\"], true, false],\n                \"layout\": {},\n                \"paint\": {\n                    \"fill-color\": \"hsl(0, 3%, 94%)\",\n                    \"fill-opacity\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        0,\n                        1\n                    ],\n                    \"fill-outline-color\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        \"hsl(0, 4%, 85%)\",\n                        \"hsl(0, 4%, 85%)\"\n                    ],\n                }\n            },\n            {\n                \"id\": \"zipcodes\",\n                \"type\": \"fill\",\n                \"source\": \"albersusa_zip_codes\",\n                \"source-layer\": \"albersusa_zip_codes\",\n                \"filter\": [\"match\", [\"get\", \"type\"],[\"ZCTA5CE10\"],true, false],\n                \"layout\": {},\n                \"paint\": {\n                    \"fill-color\": \"hsl(0, 3%, 94%)\",\n                    \"fill-opacity\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        0,\n                        1\n                    ],\n                    \"fill-outline-color\": [\n                        \"case\",\n                        [\"boolean\", [\"feature-state\", \"hover\"], false],\n                        \"hsl(0, 4%, 85%)\",\n                        \"hsl(0, 4%, 85%)\"\n                    ],\n                }\n            },\n            {\n                \"id\": \"states\",\n                \"type\": \"fill\",\n                \"source\": \"albersusa\",\n                \"source-layer\": \"albersusa\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"state\"], true, false],\n                \"layout\": {\n                },\n                \"paint\": {\n                    \"fill-color\": \"rgba(0,0,0,0)\",\n                }\n            },\n            {\n                \"id\": \"state-boundaries\",\n                \"type\": \"line\",\n                \"source\": \"composite\",\n                \"source-layer\": \"albersusa\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"state\"], true, false],\n                \"layout\": {},\n                \"paint\": {\"line-color\": \"hsl(0, 0%, 34%)\", \"line-width\": 0.5}\n            },\n            {\n                \"id\": \"county-points\",\n                \"type\": \"symbol\",\n                \"source\": \"composite\",\n                \"source-layer\": \"albersusa-points\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"county\"], true, false],\n                \"layout\": {\n                    \"text-field\": [\"to-string\", [\"get\", \"county_fips\"]],\n                    \"text-font\": [\"Overpass Mono Bold\", \"Arial Unicode MS Regular\"],\n                    \"visibility\": \"none\"\n                },\n                \"paint\": {\n                    \"text-color\": \"hsl(0, 0%, 100%)\",\n                    \"text-halo-color\": \"hsl(0, 0%, 6%)\",\n                    \"text-halo-width\": 1,\n                    \"text-opacity\": [\"step\", [\"zoom\"], 0, 6, 1]\n                }\n            },\n            {\n                \"id\": \"state-points\",\n                \"type\": \"symbol\",\n                \"source\": \"composite\",\n                \"source-layer\": \"albersusa-points\",\n                \"filter\": [\"match\", [\"get\", \"type\"], [\"state\"], true, false],\n                \"layout\": {\n                    \"text-field\": [\"to-string\", [\"get\", \"state_abbrev\"]],\n                    \"text-font\": [\"Overpass Mono Bold\", \"Arial Unicode MS Regular\"],\n                },\n                \"paint\": {\n                    \"text-color\": \"hsl(0, 0%, 0%)\",\n                    \"text-opacity\": [\"step\", [\"zoom\"], 1, 6, 0],\n                    \"text-halo-color\": \"hsl(0, 0%, 100%)\",\n                    \"text-halo-width\": 1\n                }\n            }\n        ],\n\n    })\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport {setActiveAmount} from \"../../../store/modules/femaDisasterDeclarations\";\nimport {fnum} from \"../../../utils/sheldusUtils\";\n\n\nconst PA_ATTRIBUTES = [\n    'project_amount',\n    'project_amount_count',\n    'federal_share_obligated',\n    'federal_share_obligated_count',\n    'total_obligated',\n    'total_obligated_count',\n\n]\n\nlet stat_boxes = [\n    {name:'$ Project Amount',value:'project_amount',amount:0,count:0},\n    {name:'$ Federal Share Obligated Amount',value:'federal_share_obligated',amount:0,count:0},\n    {name:'$ Total Obligated Amount',value:'total_obligated',amount:0,count:0}\n];\n\nclass FemaDisastersPATotalsStatBoxes extends React.Component{\n\n\n\n    fetchFalcorDeps(){\n        return this.props.falcor.get(['fema','disasters','byId',this.props.disaster_number,'pa_totals',PA_ATTRIBUTES])\n            .then(response =>{\n                return response\n            })\n    }\n\n    processData(){\n        let graph = get(this.props.falcorCache,['fema','disasters','byId',this.props.disaster_number,'pa_totals'],null)\n        if(graph){\n            Object.keys(graph).forEach(item =>{\n                stat_boxes.forEach(d =>{\n                    if(d.value === item && !item.includes(\"_count\")){\n                        d.amount = graph[item].value || 0\n                    }\n                    if(item.includes(\"count\") && d.value === item.split(\"_count\")[0]){\n                        d.count = parseInt(graph[item].value) || 0\n                    }\n\n                })\n            })\n        }\n    }\n\n    render(){\n        this.processData()\n        return(\n            <div className=\"mt-5 grid grid-cols-6 gap-5 sm:grid-cols-6 py-5\">\n                {stat_boxes.map((stat_box,i) =>{\n                    return(\n                        <div className=\"bg-white overflow-hidden shadow rounded-lg cursor-pointer\" key={i}  onClick={(e) =>{\n                            console.log('e',stat_box.value)\n                            this.props.setActiveAmount(stat_box.value)\n                        }}>\n                            <div className=\"px-4 py-5 sm:p-6\">\n                                <dl>\n                                    <dt className=\"text-base leading-6 font-normal text-gray-900 break-words\">\n                                        {stat_box.name}\n                                    </dt>\n                                    <dd className=\"mt-1 flex justify-between items-baseline md:block lg:flex\">\n                                        <div className=\"flex items-baseline text-2xl leading-8 font-semibold text-indigo-600\">\n                                            {fnum(stat_box.amount)}\n                                        </div>\n                                    </dd>\n                                    <dd className=\"mt-1 flex justify-between items-baseline md:block lg:flex\">\n                                        <div className=\"text-sm leading-5 font-medium text-gray-500\">\n                                            # {stat_box.count}\n                                        </div>\n                                    </dd>\n                                </dl>\n                            </div>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        activeStateGeoid : state.stormEvents.activeStateGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', [])\n    };\n};\nconst mapDispatchToProps = {\n    setActiveAmount\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(reduxFalcor(FemaDisastersPATotalsStatBoxes))\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport {setActiveAmount} from \"../../../store/modules/femaDisasterDeclarations\";\nimport {fnum} from \"../../../utils/sheldusUtils\";\nimport * as d3 from \"d3\";\nvar format =  d3.format(\"~s\")\nconst fmt = (d) => d < 1000 ? d : format(d)\n\nconst HMA_MITIGATED_PROPERTIES_ATTRIBUTES = [\n    'actual_amount_paid',\n    'number_of_properties'\n]\n\nlet stat_boxes = [\n    {name:'$ Actual Amount Paid',value:'actual_amount_paid',amount:0,count:0},\n];\n\nclass FemaDisastersHMAMitigatedPropertiesTotalsStatBoxes extends React.Component{\n\n    fetchFalcorDeps(){\n        return this.props.falcor.get(['fema','disasters','byId',this.props.disaster_number,'hma_mitigated_properties_totals',HMA_MITIGATED_PROPERTIES_ATTRIBUTES])\n            .then(response =>{\n                return response\n            })\n    }\n\n    processData(){\n        let graph = get(this.props.falcorCache,['fema','disasters','byId',this.props.disaster_number,'hma_mitigated_properties_totals'],null)\n        if(graph){\n            stat_boxes.forEach(d =>{\n                d.amount = graph['actual_amount_paid'].value || 0\n                d.count = fmt(graph['number_of_properties'].value) || 0\n            })\n        }\n    }\n\n    render(){\n        this.processData()\n        return(\n            <div className=\"mt-5 grid grid-cols-6 gap-5 sm:grid-cols-6 py-5\">\n                {stat_boxes.map((stat_box,i) =>{\n                    return(\n                        <div className=\"bg-white overflow-hidden shadow rounded-lg cursor-pointer\" key={i}  onClick={(e) =>{\n                            console.log('e',stat_box.value)\n                            this.props.setActiveAmount(stat_box.value)\n                        }}>\n                            <div className=\"px-4 py-5 sm:p-6\">\n                                <dl>\n                                    <dt className=\"text-base leading-6 font-normal text-gray-900 break-words\">\n                                        {stat_box.name}\n                                    </dt>\n                                    <dd className=\"mt-1 flex justify-between items-baseline md:block lg:flex\">\n                                        <div className=\"flex items-baseline text-2xl leading-8 font-semibold text-indigo-600\">\n                                            {fnum(stat_box.amount)}\n                                        </div>\n                                    </dd>\n                                    <dd className=\"mt-1 flex justify-between items-baseline md:block lg:flex\">\n                                        <div className=\"text-sm leading-5 font-medium text-gray-500\">\n                                            # {stat_box.count}\n                                        </div>\n                                    </dd>\n                                </dl>\n                            </div>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        activeStateGeoid : state.stormEvents.activeStateGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', [])\n    };\n};\nconst mapDispatchToProps = {\n    setActiveAmount\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(reduxFalcor(FemaDisastersHMAMitigatedPropertiesTotalsStatBoxes))\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport {setActiveAmount} from \"../../../store/modules/femaDisasterDeclarations\";\nimport {fnum} from \"../../../utils/sheldusUtils\";\n\n\nconst HMA_MITIGATED_PROJECTS_ATTRIBUTES = [\n    'project_amount',\n    'project_amount_count',\n    'federal_share_obligated',\n    'federal_share_obligated_count'\n]\n\nlet stat_boxes = [\n    {name:'$ Project Amount',value:'project_amount',amount:0,count:0},\n    {name:'$ Federal Share Obligated Amount',value:'federal_share_obligated',amount:0,count:0},\n];\n\nclass FemaDisastersHMAMitigatedProjectsTotalsStatBoxes extends React.Component{\n\n    fetchFalcorDeps(){\n        return this.props.falcor.get(['fema','disasters','byId',this.props.disaster_number,'hma_mitigated_projects_totals',HMA_MITIGATED_PROJECTS_ATTRIBUTES])\n            .then(response =>{\n                return response\n            })\n    }\n\n    processData(){\n        let graph = get(this.props.falcorCache,['fema','disasters','byId',this.props.disaster_number,'hma_mitigated_projects_totals'],null)\n        if(graph){\n            return Object.keys(graph).forEach(item =>{\n                 stat_boxes.forEach(d =>{\n                    if(d.value === item && !item.includes(\"_count\")){\n                        d.amount = graph[item].value || 0\n                    }\n                    if(item.includes(\"count\") && d.value === item.split(\"_count\")[0]){\n                        d.count = parseInt(graph[item].value) || 0\n                    }\n\n                })\n            })\n        }\n    }\n\n    render(){\n        this.processData()\n        return(\n            <div className=\"mt-5 grid grid-cols-6 gap-5 sm:grid-cols-6 py-5\">\n                {stat_boxes.map((stat_box,i) =>{\n                    return(\n                        <div className=\"bg-white overflow-hidden shadow rounded-lg cursor-pointer\" key={i}  onClick={() =>{\n                            console.log('e',stat_box.value)\n                            this.props.setActiveAmount(stat_box.value)\n                        }}>\n                            <div className=\"px-4 py-5 sm:p-6\">\n                                <dl>\n                                    <dt className=\"text-base leading-6 font-normal text-gray-900 break-words\">\n                                        {stat_box.name}\n                                    </dt>\n                                    <dd className=\"mt-1 flex justify-between items-baseline md:block lg:flex\">\n                                        <div className=\"flex items-baseline text-2xl leading-8 font-semibold text-indigo-600\">\n                                            {fnum(stat_box.amount)}\n                                        </div>\n                                    </dd>\n                                    <dd className=\"mt-1 flex justify-between items-baseline md:block lg:flex\">\n                                        <div className=\"text-sm leading-5 font-medium text-gray-500\">\n                                            # {stat_box.count}\n                                        </div>\n                                    </dd>\n                                </dl>\n                            </div>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        activeStateGeoid : state.stormEvents.activeStateGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', [])\n    };\n};\nconst mapDispatchToProps = {\n    setActiveAmount\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(reduxFalcor(FemaDisastersHMAMitigatedProjectsTotalsStatBoxes))\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {reduxFalcor} from \"utils/redux-falcor-new\";\nimport get from 'lodash.get';\nimport {Header, Table, TopNav} from \"@availabs/avl-components\";\nimport FemaDisastersIATotalsStatBoxes from \"./FemaDisastersIATotalsStatBoxes\";\nimport FemaDisastersTotalsEventsLayer from '../layers/femaDisastersTotalsEventsLayer'\nimport FemaDisastersPATotalsStatBoxes from \"./FemaDisastersPATotalsStatBoxes\";\nimport FemaDisastersHMAMitigatedPropertiesTotalsStatBoxes from \"./femaDisastersHMAMitigatedPropertiesStatBoxes\";\nimport FemaDisastersHMAMitigatedProjectsTotalsStatBoxes from \"./femaDisastersHMAMitigatedProjectsStatBoxes\";\nimport {fnum} from \"../../../utils/sheldusUtils\";\nimport * as d3 from \"d3\";\nimport AvlMap from \"../../../components/AvlMap\";\nimport {shmp} from 'pages/components/shmp-theme.js'\nimport {withRouter} from \"react-router\";\nvar format =  d3.format(\"~s\")\nvar _ = require(\"lodash\")\nconst fmt = (d) => d < 1000 ? d : format(d)\n\n\nconst tableCols = [\n    {\n        Header: 'Disaster Number',\n        accessor: 'disaster_number',\n    },\n    {\n        Header: 'Designated Area',\n        accessor: 'designated_area',\n        disableFilters: true\n    },\n    {\n        Header: 'Declaration Title',\n        accessor: 'declaration_title',\n        disableFilters: true\n    },\n    {\n        Header: 'Declaration Request Number',\n        accessor: 'declaration_request_number',\n        disableFilters: true\n    },\n    {\n        Header : 'State',\n        accessor: 'state',\n    },\n    {\n        Header : 'Declaration Type',\n        accessor: 'declaration_type',\n        disableFilters: true\n    },\n    {\n        Header:'Declaration Date',\n        accessor:'declaration_date',\n        disableFilters: true\n    }\n];\n\nconst attributes=['disaster_number','designated_area','declaration_title','declaration_request_number','state','declaration_type','declaration_date']\nlet stat_boxes = [\n    {name:'# IA Approved',value:'total_number_ia_approved',amount:0},\n    {name:'$ IHP Approved',value:'total_amount_ihp_approved',amount:0},\n    {name:'$ ONA Approved',value:'total_amount_ona_approved',amount:0},\n    {name:'$ Obligated PA',value:'total_obligated_amount_pa',amount:0},\n    {name:'$ Obligated CAT AB',value:'total_obligated_amount_cat_ab',amount:0},\n    {name:'$ Obligate CAT C2G',value:'total_obligated_amount_cat_c2g',amount:0},\n    {name:'$ Obligated HMGP',value:'total_obligated_amount_hmgp',amount:0},\n    {name:'Total Funds',value:'total_funds'}\n];\nlet total_funds = 0\n\nclass FemaDisasterDeclarations extends React.Component{\n    FemaDisastersTotalsEventsLayer = FemaDisastersTotalsEventsLayer({active:true})\n    constructor(props) {\n        super(props);\n        this.state ={\n\n        }\n    }\n\n\n    componentDidMount(){\n\n    }\n\n    fetchFalcorDeps(){\n        let disaster_number = window.location.pathname.split(\"/\")[3]\n\n        return this.props.falcor.get(['fema','disasters',[disaster_number],'declarations','length'])\n            .then(response =>{\n                let length = get(response.json,['fema','disasters',disaster_number,'declarations','length'],null)\n                if(length){\n\n                    this.props.falcor.get(['fema','disasters',disaster_number,'declarations','byIndex',[{from:0,to:length-1}],attributes],\n                        ['fema','disasters','byId',disaster_number,stat_boxes.map(d => d.value)])\n                        .then(response =>{\n                            return response\n                        })\n                } else { return Promise.resolve({}) }\n            })\n    }\n\n    processData(){\n        if(Object.keys(this.props.falcorCache).length > 0){\n            let graph = get(this.props.falcorCache,['fema','disasters','declarations','byId'],{})\n            let data = [];\n            let disaster_number = window.location.pathname.split(\"/\")[3]\n            Object.keys(graph).filter(d => d!=='$__path').forEach(item =>{\n                if(graph[item]['disaster_number'].value.toString() === disaster_number.toString()){\n                    data.push(\n                        attributes.reduce((out,attribute) =>{\n                            if(graph[item][attribute]){\n                                out[attribute] =  attribute.includes('date') || attribute.includes('last_refresh') ?\n                                    new Date(graph[item][attribute].value).toLocaleDateString('en-US') :\n                                    attribute.includes('number')\n                                    ? graph[item][attribute].value  :fnum(graph[item][attribute].value) || '$0'\n                            }\n                            return out\n                        },{}))\n                }\n            })\n            let femaDisasterData = get(this.props.falcorCache,['fema','disasters','byId',window.location.pathname.split(\"/\")[3]],null)\n            if(femaDisasterData){\n                stat_boxes.forEach(d =>{\n                    if(d && d.value !== 'total_funds' && femaDisasterData[d.value]){\n                        d.amount  = parseFloat(femaDisasterData[d.value].value) || 0\n                    }\n                })\n                total_funds = stat_boxes.reduce((a,c) =>{\n                    if(c.value !== 'total_funds'){\n                        a += c.amount\n                    }\n                    return a\n                },0)\n            }\n            return data\n        }\n    }\n\n    render(){\n        let data = this.processData()\n        let navItems = [\n            {\n                name: 'By Hazard',\n                id: 1,\n                path: `/maps/fema`, // d.data['url-slug'],\n                sectionClass: 'mb-4',\n                itemClass: 'font-bold',\n                children: [],\n                rest: {}\n            },\n            {\n                name: 'By Disaster Number',\n                id: 2,\n                path: `/fema_disasters`, // d.data['url-slug'],\n                sectionClass: 'mb-4',\n                itemClass: 'font-bold',\n                children: [],\n                rest: {}\n            }\n\n        ]\n        return (\n            <div className=\"h-screen box-border w-full -mt-4 fixed overflow-auto\">\n                <div className='relative bg-white z-40 m-0'>\n                    {this.props.match.params.datatype === 'fema' || this.props.match.params.disasterId ?\n                        <TopNav\n                            menuItems={navItems}\n                            customTheme={{\n                                sidebarBg: 'bg-white',\n                                topNavHeight: 'h-12' ,\n                                navitemTop: 'px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-gray-800 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out',\n                                navitemTopActive: 'px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-blue-500 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out'\n                            }}\n                        /> :null}\n                </div>\n                <div className=\"container max-w-7xl mx-auto\">\n                    <h1>{data && data.length > 0? `${_.uniq(_.map(data, 'declaration_title')).join(\",\")} - ${_.uniq(_.map(data, 'state')).join(\",\")}` : 'Loading'}</h1>\n                    <div className=\"mt-5 grid grid-cols-8 gap-5 sm:grid-cols-8 py-5\">\n                        {stat_boxes.map((stat_box,i) =>{\n                            return(\n                                <div className=\"bg-white overflow-hidden shadow rounded-lg\"  key={i}>\n                                    <div className=\"px-4 py-5 sm:p-6\">\n                                        <dl>\n                                            <dt className=\"text-sm leading-5 font-medium text-gray-500 break-words\">\n                                                {stat_box.name}\n                                            </dt>\n                                            <dd className=\"mt-1 text-3xl leading-9 font-semibold text-gray-900\">\n                                                {\n                                                    stat_box.value !== 'total_funds' ?\n                                                        stat_box.value.includes('number') ?\n                                                            fmt(stat_box.amount) :\n                                                            fnum(stat_box.amount):\n                                                        fnum(total_funds)\n                                                }\n                                            </dd>\n                                        </dl>\n                                    </div>\n                                </div>\n                            )\n                        })}\n                    </div>\n                    <div>\n                        {data && data.length > 0 ?\n                            <Table\n                                defaultPageSize={10}\n                                showPagination={false}\n                                columns={tableCols}\n                                data={data}\n                                initialPageSize={10}\n                                minRows={data.length}\n                                sortBy={'declaration_date'}\n                                sortOrder={'desc'}\n                            />\n                            :\n                            <div>\n                                Loading ....\n                            </div>\n                        }\n                    </div>\n                    <div>\n                        <Header title={'Individual And Households Programs Valid Registration'}/>\n                        <FemaDisastersIATotalsStatBoxes\n                            disaster_number={[window.location.pathname.split(\"/\")[3]]}\n                        />\n                    </div>\n                    <div>\n                        <Header title={'Public Assistance Funded Projects Details v1'}/>\n                        <FemaDisastersPATotalsStatBoxes\n                            disaster_number={[window.location.pathname.split(\"/\")[3]]}\n                        />\n                    </div>\n                    <div>\n                        <Header title={'Hazard Mitigation Assistance Mitigated Properties v2'}/>\n                        <FemaDisastersHMAMitigatedPropertiesTotalsStatBoxes\n                            disaster_number={[window.location.pathname.split(\"/\")[3]]}\n                        />\n                    </div>\n                    <div>\n                        <Header title={'Hazard Mitigation Assistance Mitigated Projects v2'}/>\n                        <FemaDisastersHMAMitigatedProjectsTotalsStatBoxes\n                            disaster_number={[window.location.pathname.split(\"/\")[3]]}\n                        />\n                    </div>\n                </div>\n                <AvlMap\n                    layers={[\n                        this.FemaDisastersTotalsEventsLayer\n                    ]}\n                    height={'100%'}\n                    center={[0, 0]}\n                    zoom={4}\n                    year={2018}\n                    //hazards={this.props.hazards}\n                    fips={''}\n                    styles={[\n                        {name: 'Blank', style: 'mapbox://styles/am3081/ckaml4r1e1uip1ipgtx5vm9zk'}\n                    ]}\n                    sidebar={false}\n                    attributes={false}\n                    layerProps={{\n                        [this.FemaDisastersTotalsEventsLayer.name]: {\n                            disaster_number: window.location.pathname.split(\"/\")[3],\n                            active_amount : this.props.activeAmount ? this.props.activeAmount : 'ihp_amount',\n                        }\n                    }}\n                />\n            </div>\n\n\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        activeAmount:state.femaDisasterDeclarations.activeAmount,\n        activeStateGeoid : state.stormEvents.activeStateGeoid,\n        activeStateAbbrev : state.stormEvents.activeStateAbbrev,\n        graph: state.graph,\n        hazards: get(state.graph, 'riskIndex.hazards.value', [])\n    };\n};\nconst mapDispatchToProps = {\n};\n\nconst ConnectedComponent = connect(mapStateToProps,mapDispatchToProps)(reduxFalcor(FemaDisasterDeclarations))\nexport default [\n    {\n        path: '/fema_disasters/disaster/:disasterId',\n        mainNav: false,\n        exact: false,\n        name: 'Disaster Declaration',\n       \n        layoutSettings: {\n            fixed: true,\n            maxWidth: '',//'max-w-7xl',\n            headerBar: false,\n            nav: 'top'\n        },\n        component: withRouter(ConnectedComponent)\n            \n    }\n\n]\n","\n\n\nconst pageSection = {\n    app: \"shmp\",\n    type: \"page-section\",\n    attributes: [\n        { key: \"title\",\n            type: \"text\"\n        },\n        { key: \"content\",\n            type: \"richtext\",\n            required: true\n        },\n        {\n          key: 'section',\n          type: \"text\"\n        }\n    ]\n}\n\nconst shmpDoc = {\n  app: \"shmp\",\n  type: \"doc-page\",\n  registerFormats: [pageSection],\n  attributes: [\n    { key: \"section\",\n      type: \"text\",\n      required: true,\n      default: \"props:section\",\n      hidden: true\n    },\n    { key: \"sectionLanding\",\n      type: \"boolean\",\n      default: false,\n      editable: false,\n      hidden: true\n    },\n    { key: \"index\",\n      type: \"number\",\n      default: \"props:index\",\n      editable: false,\n      hidden: true\n    },\n    { key: \"title\",\n      type: \"text\"\n    },\n    {\n      key: 'url-slug',\n      type: \"text\"\n    },\n    {\n      key: 'showSidebar',\n      type: \"boolean\",\n      default: true,\n      required: true\n    },\n    {\n      key: 'sections',\n        type: \"dms-format\",\n        format: \"shmp+page-section\",\n      isArray: true,\n      editInPlace: true,\n    }\n  ]\n}\n\nexport {\n  shmpDoc,\n  pageSection\n}\n\n","import React from 'react'\n\nconst logo = () => (\n\t<div className='flex-shrink-0 pl-8 mt-2'>\n\t    <svg width={`${175}px`} height={`${50}px`}>\n\t        <path \n\t        \tfill={'#5d87a1'} \n\t        \tstroke={'none'}\n\t            style={{transform: `scale(0.15)`}}\n\t            d=\"m234.2 250.8c-1.5726-1.5726-1.5153-3.3974 0.2088-6.6457 0.77484-1.4599 1.9438-5.2942 2.5978-8.5208 1.0128-4.9972 0.96511-6.0904-0.32186-7.3773-0.83096-0.83096-7.7375-5.2029-15.348-9.7154-9.2951-5.5115-14.265-9.0804-15.142-10.873-0.91101-1.8632-2.0821-2.6681-3.8819-2.6681-5.4563 0-11.294-9.3264-11.308-18.065-5e-3 -3.0096-0.51174-3.8252-3.2556-5.2369-1.7875-0.91966-4.5204-2.6905-6.0731-3.9352l-2.8232-2.2631-88.039-0.22091c-64.659-0.16224-88.408-0.52671-89.427-1.3724-0.97957-0.81297-1.3875-3.5937-1.3875-9.4577 0-9.0369 0.53268-10.137 6.3447-13.109 1.7354-0.88713 4.8225-3.1071 6.8602-4.9334s5.5254-4.2492 7.7504-5.3843c2.2693-1.1577 5.1405-3.7985 6.5396-6.0148 1.3718-2.173 3.8902-4.6729 5.5964-5.5552 2.5407-1.3138 2.9666-1.9978 2.353-3.7785-0.41212-1.1958-0.84817-4.1919-0.969-6.658-0.18676-3.8118-0.57606-4.5673-2.5975-5.0413-2.1402-0.50186-2.4073-1.1693-2.6732-6.6777-0.35717-7.3994 0.37566-8.1085 12.295-11.897 14.512-4.6125 40.563-3.6811 47.862 1.7113 2.6649 1.9686 3.2635 2.0292 8.6866 0.87832 3.2035-0.67982 7.4648-0.9283 9.4697-0.55218 5.0534 0.94803 17.049-2.2309 20.519-5.4375 5.8549-5.4115 10.304-8 13.752-8h3.4668l-0.81045-4.25c-1.3009-6.8218-0.95445-10.226 1.3732-13.495 2.7551-3.8692 2.7314-4.2551-0.26168-4.2551-3.0676 0-5.5567-3.4272-5.5567-7.6511 0-3.8814 1.2954-5.2624 9.3068-9.9212 8.2047-4.7713 12.511-9.0365 13.743-13.613 1.6972-6.303 23.745-24.714 33.876-28.289 2.7344-0.96477 9.804-1.3616 24.702-1.3868 11.479-0.0194 24.802-0.34116 29.606-0.71507 6.005-0.46739 9.65-0.30061 11.664 0.53371 3.623 1.5007 5.5654 5.6912 4.2463 9.1607-0.58348 1.5347-0.59019 3.1212-0.0175 4.1445 0.59863 1.0697 0.45236 3.5348-0.41223 6.9474-1.1585 4.5727-1.6704 5.2894-3.7777 5.2894-2.4166 0-2.4376-0.0839-2.4376-9.739 0-6.0662-0.40831-9.8957-1.0827-10.154-0.59549-0.22847-7.7955-5.5e-4 -16 0.50649s-21.217 0.82652-28.917 0.70996c-13.55-0.20512-14.173-0.12269-19.383 2.5667-2.9605 1.5282-7.4605 4.6736-10 6.9897-2.5395 2.3161-6.9719 6.1386-9.8498 8.4944-3.9317 3.2184-5.5106 5.3156-6.3508 8.4358-1.3116 4.8711-5.4292 8.8908-15.185 14.824-8.0091 4.8708-8.8431 5.8667-4.9134 5.8667 1.6151 0 3.5439 0.73184 4.2863 1.6263 2.0641 2.4871 1.6458 8.5107-0.83268 11.991-1.9268 2.706-2.112 3.9043-1.5814 10.234 0.69434 8.282-0.82668 11.149-5.9156 11.149-3.1289 0-11.082 4.9116-14.098 8.7067-1.0024 1.2613-2.8583 2.2933-4.1243 2.2933s-4.2148 0.675-6.5532 1.5c-2.3964 0.8455-7.681 1.5-12.111 1.5-4.323 0-9.8579 0.53438-12.3 1.1875-4.1503 1.11-4.6895 1.0155-8.2644-1.4487-5.1697-3.5637-10.804-4.6853-23.68-4.7143-10.883-0.0245-20.102 1.6097-25.85 4.5819-3.268 1.6899-3.6408 3.9902-0.79328 4.894 2.8085 0.89139 4.0456 3.6931 3.855 8.7308-0.08999 2.3792 0.39383 5.3674 1.0752 6.6404 1.8562 3.4684 0.50288 6.8014-4.1221 10.152-2.2814 1.6527-4.9812 4.3748-5.9995 6.0493s-3.2584 3.8056-4.978 4.736c-1.7196 0.93033-5.3213 3.6005-8.0038 5.9338-2.6825 2.3332-6.6662 5.1549-8.8526 6.2703-3.8301 1.954-3.9753 2.21-3.9753 7.0077v4.9797l84.75 0.0245c54.842 0.0158 86.338 0.39023 89.25 1.061 2.475 0.57009 5.4 1.8564 6.5 2.8586s3.498 2.5796 5.3288 3.5054c3.935 1.9899 6.1712 6.6396 6.1712 12.831 0 3.4532 0.56446 4.8701 2.75 6.9033 1.5125 1.4071 4.0177 2.8574 5.5671 3.223 1.5803 0.37289 3.5202 1.8897 4.4185 3.455 1.0391 1.8105 6.8596 5.9155 16.576 11.69 11.126 6.6129 15.278 9.6198 16.152 11.7 1.1225 2.6697 1.2534 2.7164 2.806 1.0008 1.1163-1.2336 1.3347-2.2641 0.69442-3.2767-1.7692-2.7978-0.95499-4.9542 2.7578-7.304l3.7226-2.356-0.18725-7.9086c-0.10299-4.3497 0.13436-9.9336 0.52743-12.409 0.62619-3.9428 1.0243-4.5 3.2147-4.5 2.4964 0 2.5001 0.0145 2.5545 10 0.03 5.5 0.42011 11.649 0.86692 13.664 0.76792 3.4637 0.61517 3.792-2.7922 6-2.6901 1.7433-3.6077 3.0335-3.6169 5.0858-7e-3 1.5125 0.19066 2.75 0.43883 2.75s2.9347-0.64686 5.97-1.4375c3.0353-0.79061 9.9198-1.7469 15.299-2.125 5.778-0.40623 12.799-1.6594 17.158-3.0625 8.7003-2.8007 10.232-2.8869 14.263-0.80237 2.0879 1.0797 4.2531 1.3678 6.9082 0.91922 5.5874-0.94398 7.9515 0.073 7.9515 3.4206 0 4.1826-2.9568 6.1198-16.32 10.692-6.6988 2.2921-14.205 4.866-16.68 5.7198s-8.1 2.2755-12.5 3.1595c-4.4 0.88396-9.8 2.0488-12 2.5886-4.8983 1.2018-27.595 5.9272-28.469 5.9272-0.34712 0-1.1711-0.54-1.8311-1.2zm22.3-9.4383c8.0536-2.2335 17.582-4.3746 23.599-5.3032 3.0795-0.47519 7.3545-1.756 9.5-2.8461 2.1455-1.0902 6.7133-2.7682 10.151-3.729 3.4375-0.96079 6.25-2.0294 6.25-2.3746s-0.81315-1.1355-1.807-1.7562c-1.4153-0.88388-3.4204-0.60285-9.25 1.2965-4.7155 1.5363-11.657 2.7536-18.943 3.3219-11.012 0.85886-18.769 2.7899-25.788 6.4192-1.7122 0.88543-3.998 1.6099-5.0795 1.6099-2.1912 0-3.0463 1.5793-2.3365 4.3153 0.52185 2.0115 3.8458 1.7802 13.704-0.95363zm197.99 9.4585c-0.27653-0.72608-0.38701-57.345-0.24553-125.82l0.25725-124.5h5v251l-2.2545 0.32014c-1.24 0.17607-2.4807-0.27393-2.7572-1zm-141.73-11.32c-0.26285-1.375-0.0903-2.5 0.38342-2.5 0.47373 0 0.86133 1.125 0.86133 2.5s-0.17254 2.5-0.38342 2.5c-0.21089 0-0.59848-1.125-0.86133-2.5zm3.3237 0.25c-0.0812-2.8296 1.3028-3.7176 2.3377-1.5 0.46666 1 0.7 1 1.1667 0 1.0287-2.2044 2.4172-1.3372 2.4014 1.5-0.0108 1.9329-0.27194 2.345-0.87895 1.3868-0.72914-1.1509-0.9485-1.1509-1.4086 0s-0.69365 1.1509-1.5 0c-0.80634-1.1509-1.0395-1.1509-1.4972 0-0.29816 0.74973-0.57763 0.12565-0.62105-1.3868zm-68.079-56.45c-8.1288-2.9402-9.7296-5.3852-6.5232-9.963 1.4615-2.0866 1.516-2.0893 5.25-0.25957 6.2409 3.0582 11.408 3.4483 14.299 1.0795 2.1956-1.799 2.3053-2.1937 0.97432-3.5034-0.825-0.81181-4.5252-2.3974-8.2226-3.5235-10.854-3.3057-13.777-6.2186-13.777-13.726 0-8.7045 5.4454-12.828 17-12.874 12.113-0.0477 16.777 3.2909 12.592 9.0135-1.2827 1.7542-1.7358 1.8068-5.0976 0.59113-4.3498-1.5729-10.283-1.7457-11.688-0.34043-2.1807 2.1807-0.25814 4.5333 5.1938 6.3554 13.201 4.412 16 6.9224 16 14.351 0 8.7114-6.4335 13.5-18 13.399-3.575-0.0313-7.175-0.30114-8-0.59955zm41.75 0.0111c-1.5795-0.41272-1.75-2.1018-1.75-17.334v-16.877l-11.5-0.59981-0.31037-3.75-0.31036-3.75h17.592c19.061 0 19.468 0.12363 18.118 5.5022-0.58112 2.3154-1.0636 2.4978-6.6078 2.4978h-5.981v16.893c0 14.482-0.22578 16.98-1.5818 17.5-1.7332 0.6651-4.9398 0.63067-7.6682-0.0823zm19 0c-0.9625-0.25152-1.75-0.58567-1.75-0.74254 0-0.15686 3.7446-9.4614 8.3212-20.677l8.3212-20.391 11.052-0.5907 8.1526 20.019c4.4839 11.011 8.1526 20.433 8.1526 20.938 0 2.3572-8.0689 2.9215-10.272 0.71839-0.77816-0.77816-1.9899-2.8032-2.6928-4.5-1.2661-3.0566-1.3469-3.0852-8.7309-3.0852h-7.4529l-1.6757 3.9452c-1.9879 4.6801-5.3322 5.9579-11.426 4.3654zm23.932-18.061c-1.1402-3.622-3.5963-9.7222-3.6385-9.037-0.0241 0.39214-0.93732 2.9796-2.0293 5.75l-1.9854 5.037h4.102c3.4499 0 4.0145-0.27821 3.5511-1.75zm28.068 18.061c-1.5795-0.41275-1.75-2.1019-1.75-17.334v-16.877l-11.5-0.59981-0.31037-3.75-0.31036-3.75h17.592c19.061 0 19.468 0.12363 18.118 5.5022-0.58112 2.3154-1.0636 2.4978-6.6078 2.4978h-5.981v16.893c0 14.482-0.22578 16.98-1.5818 17.5-1.7332 0.6651-4.9398 0.63067-7.6682-0.0823zm27.25-20.782v-21.528h13.031c14.109 0 14.862 0.30561 13.557 5.5022-0.59921 2.3875-0.95993 2.4978-8.1682 2.4978h-7.5413l0.31036 3.75 0.31037 3.75 11.615 0.60323-0.61458 7.3968-11.5 0.59981v9.8193l16.5 0.58088v8l-27.5 0.55644zm283.28 17.818c-9.4587-3.3493-12.495-13.232-5.9716-19.439l3.3046-3.1443-2.8046-2.8045c-4.3208-4.3208-3.5466-9.9884 2.0034-14.666l2.6196-2.208-2.0888-2.292c-3.4677-3.805-4.5482-6.781-4.6019-12.674-0.0862-9.4647 4.7809-15.709 14.492-18.593 6.1596-1.8292 9.5685-1.896 18.51-0.36269 5.9321 1.0172 7.2325 0.94538 10.441-0.57693 4.0577-1.9255 6.909-1.1567 8.7975 2.3721 1.7565 3.2821 1.1416 5.0186-2.37 6.6932l-3.3929 1.618 1.4891 3.5638c3.0468 7.2919-0.61674 16.269-8.5403 20.927-4.2586 2.5034-5.654 2.7611-16.092 2.9712-11.912 0.23982-14.55 1.2182-11.503 4.2659 1.1191 1.1195 4.9485 1.6375 15.214 2.0582 15.342 0.6287 18.939 1.7992 22.259 7.2444 3.9478 6.4747 1.2942 16.965-5.4449 21.525-1.8887 1.278-5.5669 2.9655-8.1738 3.75-6.2344 1.8763-22.578 1.7444-28.146-0.22714zm25.594-11.09c3.5042-2.6042 3.946-6.5715 0.96438-8.6599-3.0489-2.1355-15.795-2.1859-19.87-0.0785-2.9746 1.5382-4.7447 5.4109-3.4389 7.5237 2.6249 4.2472 17.198 5.0394 22.344 1.2147zm-4.4186-38.672c5.6873-2.3763 7.2676-8.1293 3.5362-12.873-2.5212-3.2052-6.9123-4.2217-11.581-2.6808-7.2153 2.3813-7.8844 12.548-1.0223 15.535 3.9876 1.7356 4.9541 1.7376 9.0673 0.019zm-196.2 25.764c-2.8954-0.62713-2.91 0.11915 0.73789-37.778 2.0295-21.084 3.3807-31.186 4.2446-31.735 1.4388-0.91328 9.2461-1.0823 12.284-0.26594 2.0192 0.54265 7.7916 14.247 16.033 38.062l3.1597 9.1313 8.3346-22.499c4.584-12.374 9.0041-23.168 9.8223-23.987 1.1-1.1 3.1254-1.3834 7.7726-1.0875 3.4567 0.22011 6.466 0.60497 6.6873 0.85525 0.71904 0.81326 6.7136 67.083 6.1505 67.994-0.92676 1.4995-7.2231 2.2198-11.198 1.281l-3.7782-0.89239-1.6281-18.758c-0.89546-10.317-1.8103-18.941-2.0329-19.163-0.22266-0.22266-3.2686 7.335-6.7687 16.795-3.5001 9.4598-7.0588 17.762-7.9082 18.45-1.829 1.4805-7.5523 1.6467-10.082 0.29279-1.1045-0.5911-4.186-7.38-8.0567-17.75-6.667-17.861-8.0157-20.504-8.0356-15.743-0.0193 4.622-2.8707 35.666-3.3168 36.112-0.68223 0.68224-10.049 1.1994-12.421 0.68574zm86-0.3794c-2.249-0.90398-2.25-0.91587-2.25-25.83 0-27.873-0.49737-26.139 7.5-26.139 7.9973 0 7.5-1.7326 7.5 26.132v24.918l-2.5651 0.97525c-3.1139 1.1839-7.1556 1.1617-10.185-0.0559zm31.131-0.87843c-4.5968-2.803-5.3806-6.4072-5.3806-24.74 0-16.28-0.01-16.351-2.25-16.383-3.6669-0.0518-5.75-2.3226-5.75-6.2681 0-3.4143 0.17292-3.5937 3.75-3.8898l3.75-0.31037 1-13h13l1 13 10 1v9l-10.642 0.60946 0.3212 15.028c0.28833 13.49 0.5191 15.172 2.255 16.44 1.6811 1.2274 2.2596 1.1984 4.4278-0.22227 2.3707-1.5533 2.5842-1.5228 4.3162 0.61618 2.8724 3.5472 2.3808 7.6886-1.1281 9.5031-4.2975 2.2223-14.747 2.0074-18.669-0.38391zm28.869 0.87843c-2.249-0.90398-2.25-0.91587-2.25-25.83 0-27.873-0.49737-26.139 7.5-26.139 8.0024 0 7.5-1.7739 7.5 26.482v25.268l-3.125 0.625c-4.0966 0.81932-6.867 0.70241-9.625-0.40616zm85.139-0.87361c-5.3384-3.2553-7.8214-7.7523-7.8571-14.23-0.0359-6.5256 1.9693-10.064 7.5731-13.365 2.7352-1.6111 5.194-2 12.645-2h9.2493l6.8e-4 -3.6786c1e-3 -7.7647-8.2363-10.125-18.44-5.2825-4.2058 1.9958-6.2371 1.4384-7.5742-2.0784-1.7161-4.5138-1.1497-5.4944 4.765-8.2501 4.8882-2.2775 7.0988-2.6803 14.75-2.6879 7.6357-8e-3 9.6264 0.34895 13.132 2.3522 7.2895 4.1653 8.3679 7.4501 8.3679 25.488 0 15.527 0.0103 15.598 2.5 17.229 3.0759 2.0154 3.1591 3.7161 0.31144 6.3691-3.013 2.807-9.4198 2.7555-12.46-0.10026l-2.2771-2.1392-4.9727 2.1392c-6.4474 2.7736-15.375 2.8798-19.713 0.23445zm20.41-10.373c0.81477-0.65709 1.1871-2.7552 1-5.6345l-0.29816-4.5876-4.8365-0.30832c-7.8904-0.50301-11.59 3.3398-8.5981 8.9305 1.9771 3.6943 9.0361 4.5813 12.733 1.6zm36.702 11.333c-5.8582-2.3977-7.4421-8.2887-7.4756-27.805-0.0228-13.296-0.15091-14.25-1.9137-14.25-3.4739 0-6.0023-3.1519-5.4146-6.75 0.47732-2.9224 0.87222-3.25 3.9173-3.25h3.3865v-6.393c0-7.2055 0.39585-7.607 7.5-7.607 7.0958 0 7.5 0.4071 7.5 7.5547v6.3408l5.25 0.30226c4.6458 0.26748 5.2883 0.5729 5.5829 2.654 0.18308 1.2934 0.062 3.4309-0.26905 4.75-0.53447 2.1295-1.1602 2.3983-5.5829 2.3983h-4.981v14.389c0 12.568 0.23677 14.682 1.8709 16.7 1.8475 2.2816 1.9059 2.2874 4.6778 0.47124 2.767-1.813 2.8329-1.8072 4.6291 0.41116 2.8724 3.5472 2.3808 7.6886-1.1281 9.5031-3.1619 1.6351-14.09 1.9964-17.55 0.58032zm35.515-1.7582c-8.2313-4.3298-11.281-9.8134-11.829-21.27-0.53037-11.093 1.4211-17.634 6.894-23.107 7.2022-7.2022 20.815-8.8847 30.162-3.7281 6.3793 3.519 9.0602 9.1263 9.5821 20.041l0.41918 8.7676h-16.122c-17.979 0-18.189 0.0989-14.171 6.6886 3.3592 5.5093 12.416 6.2752 21.101 1.7842 3.7369-1.9324 3.6444-1.9599 5.5033 1.6348 3.7283 7.2097-1.6465 10.993-16.556 11.653-8.9476 0.39622-9.8189 0.25293-14.985-2.4642zm19.679-32.536c-0.66435-4.9531-3.5156-7.7602-7.8824-7.7602-4.0676 0-8.8123 4.8043-8.8123 8.9231v3.0769h17.263zm26.305 34.345-2.5-0.69512-0.26352-33.888c-0.20565-26.445 0.014-34.064 1-34.69 1.5835-1.0052 11.867-1.0568 13.408-0.0674 0.62951 0.40408 7.492 10.59 15.25 22.636l14.105 21.901v-22.044c0-19.179 0.2056-22.123 1.5818-22.651 2.0202-0.77521 9.2402-0.76139 12.168 0.0233l2.25 0.60298v33.915c0 38.403 0.74386 35.344-8.5963 35.349-2.803 2e-3 -5.761-0.54881-6.5734-1.223-0.8124-0.67424-7.5191-10.634-14.904-22.133l-13.427-20.907-1 43.177-2.5 0.69432c-3.1837 0.88421-6.8181 0.88392-10-8e-4zm87 0.0529c-2.4914-0.74125-2.5017-0.7951-3-15.701l-0.5-14.957-10.75-18.23c-5.9125-10.027-10.75-18.641-10.75-19.143 0-2.3274 11.439-3.0313 14.247-0.8768 1.9977 1.5325 11.302 17.584 13.766 23.75l1.7988 4.5 1.1542-3c2.2897-5.9513 13.279-24.561 15.07-25.52 2.2713-1.2156 10.971-1.2612 12.857-0.0675 1.5352 0.97215 0.89759 2.2446-13.312 26.562l-7.5817 12.975v14.216c0 7.8186-0.41268 14.471-0.91707 14.782-1.6358 1.011-9.5149 1.4737-12.083 0.70964zm-701.29-26.78c-0.39138-0.39137-0.71159-4.649-0.71159-9.4615v-8.7499l-6.5488-11.1c-3.6019-6.105-6.2753-11.542-5.941-12.083 0.89938-1.4552 9.1367-1.1938 10.669 0.33866 0.7272 0.7272 2.6718 4.078 4.3214 7.4462 1.6496 3.3682 3.2242 6.1298 3.4992 6.1368 0.275 7e-3 1.5242-2.1729 2.7759-4.8443 3.8933-8.3087 5.7633-10.061 10.738-10.061 2.4026 0 4.6434 0.44488 4.9794 0.98862 0.33605 0.54375-2.2249 5.8312-5.691 11.75l-6.302 10.761-1 19-5.0384 0.29492c-2.7711 0.16221-5.3586-0.0253-5.75-0.41667zm34.739-0.78485c-11.25-4.9004-14.35-25.805-5.3459-36.06 3.6734-4.1838 8.5024-5.8934 16.477-5.8334 11.343 0.0854 17.605 5.2715 19.651 16.275 2.1112 11.353-1.7883 21.688-9.5772 25.384-4.2423 2.0131-16.802 2.1518-21.205 0.23413zm14.605-7.623c6.4914-3.4741 6.56-21.43 0.095-24.89-8.3713-4.4802-15.595 5.0532-13.003 17.161 1.548 7.2312 7.3488 10.705 12.908 7.7293zm23.657 8.4091c-0.39202-0.39202-0.71277-9.827-0.71277-20.967v-20.254l3.25-0.72758c5.5547-1.2436 17.039-0.75511 20.982 0.89237 8.2332 3.4401 10.292 14.445 3.9295 21.009l-3.1209 3.22 4.8979 8.1478c5.4298 9.0326 5.3568 9.2991-2.5452 9.2991-4.224 0-4.577-0.22782-7.1682-4.6258-4.6861-7.9536-6.7717-10.874-7.7652-10.874-0.52809 0-1.1852 3.375-1.4602 7.5l-0.5 7.5-4.5372 0.2961c-2.4955 0.16286-4.858-0.0246-5.25-0.41667zm17.821-25.823c2.9611-2.9611 2.1595-6.5519-1.7766-7.9586-4.1804-1.494-5.7576-0.20556-5.7576 4.7038 0 2.4006 0.3 4.6647 0.66667 5.0314 1.3869 1.3869 4.5126 0.5783 6.8675-1.7766zm20.934 25.22c-0.28142-0.73338-0.38933-10.321-0.2398-21.305l0.27188-19.972h10l1 19 14.591-19.601 5.1258 0.30068c2.8192 0.16538 5.2698 0.75068 5.4458 1.3007 0.17597 0.55-2.6265 4.9774-6.2277 9.8386l-6.5476 8.8386 7.6221 10.562c8.3981 11.637 8.4129 12.219 0.31191 12.246-5.4437 0.0178-5.7411-0.22585-13.492-11.051-3.124-4.3634-6.0344-7.9335-6.4674-7.9335s-0.91674 4.1625-1.0749 9.25l-0.28753 9.25-4.7602 0.30521c-3.2727 0.20983-4.9201-0.11146-5.2719-1.0282zm218.28-30.466c-1.39-0.36326-1.75-1.5515-1.75-5.777 0-6.0187 0.59113-6.5337 7.5-6.5337 6.8997 0 7.5 0.51947 7.5 6.4904 0 4.6265-0.27714 5.3506-2.25 5.8794-2.5099 0.67261-8.3196 0.64143-11-0.059zm60 0c-1.39-0.36326-1.75-1.5515-1.75-5.777 0-6.0187 0.59113-6.5337 7.5-6.5337 6.9018 0 7.5 0.51846 7.5 6.5 0 3.8977-0.41545 5.4454-1.5818 5.893-1.7617 0.67603-8.9606 0.62523-11.668-0.0823zm-399.75-43.204c0-22.787-0.18128-22.107 5.8907-22.107 3.8592 0 4.9452 1.1525 12.701 13.478l6.9081 10.978 0.28474-11.44c0.30253-12.155 0.64114-12.973 5.3835-13 6.0005-0.0344 5.8318-0.67503 5.8318 22.142v20.943l-11.415-0.59981-14.085-22.489-0.28174 11.495-0.28173 11.495h-10.937zm45-0.63601v-21.529l13.238 0.27903c14.408 0.30369 14.804 0.49255 13.332 6.3581-0.57508 2.2913-1.008 2.4209-8.0886 2.4209h-7.481v6.9002l11.5 0.59981v8l-11.5 0.59981v9.8193l16.5 0.58088 0.31037 3.75 0.31036 3.75h-28.121zm40.115 14.827c-1.099-3.739-3.6605-12.648-5.6922-19.798-2.0317-7.15-3.8898-13.52-4.1291-14.155-0.56626-1.5035 4.8771-2.6859 8.6002-1.8682 2.7135 0.59599 3.0658 1.2717 5.645 10.829 1.513 5.6066 3.0598 10.79 3.4374 11.518 0.37756 0.72851 1.741-3.4805 3.0298-9.3534 2.4198-11.026 3.714-13.471 7.1308-13.471 4.4523 0 5.5029 1.6563 7.8996 12.454 1.2875 5.8004 2.6055 10.546 2.9289 10.546 0.32345 0 1.8887-4.7494 3.4784-10.554 3.0367-11.089 4.055-12.459 9.2402-12.43 5.8506 0.0318 5.8473 0.20664-0.41561 22.078l-5.8433 20.406-11.322 0.59673-1.0001-3.7984c-0.55005-2.0891-1.7838-6.9484-2.7416-10.798l-1.7415-7-5.2201 21-11.286 0.59643z\"\n\t        />\n\t    </svg>\n\t</div>\n)\n\nexport default logo","import React  from \"react\"\nimport {SideNav, useTheme} from '@availabs/avl-components'\nimport logo from './Logo.js'\n\nconst AdminLayout = ({children}) => {\n\tconst theme = useTheme()\n\treturn (\n\t  \t<div className=\"w-full\">\n\t  \t\t<div className=\"flex min-h-screen\">\n\t\t  \t\t<SideNav  \n\t\t  \t\t\tlogo={<div className='border-b border-gray-200'>{logo('SHMP')}</div>}\n\t\t  \t\t\ttopMenu={<div className='border-b border-gray-200 pb-3'></div>}\n\t\t    \t\tmenuItems={[\n\t\t    \t\t\t{\n\t\t\t                name: 'Home',\n\t\t\t                id: 0,\n\t\t\t                path: `/admin/`, \n\t\t\t                sectionClass: 'mt-4'\n\t\t\t            },\n\t\t    \t\t\t{\n\t\t\t                name: 'Plan',\n\t\t\t                id: 0,\n\t\t\t                path: `/cms/`\n\t\t\t            }\n\t\t    \t\t]}\n\t\t    \t\tfixed={true}\n\t\t    \t/>\n\t\t    \t<div className={`flex-1 md:ml-${theme.sidebarW}`}>\t\n\t    \t\t\t{children}\n\t    \t\t</div>\n\t    \t</div>\n\t\t</div>\n\t)\n}\n\nexport default AdminLayout","import React, { useState  }  from \"react\"\nimport { Link } from 'react-router-dom'\n\nimport { Input, DndList } from '@availabs/avl-components'\nimport { DmsButton } from \"components/dms/components/dms-button\"\n\nimport AdminLayout from './AdminLayout'\n\n\nimport get from \"lodash.get\"\n\n// import ReadOnlyEditor from \"components/DMS/components/editor/editor.read-only\"\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"open\":\n      return {\n        ...Object.keys(state).reduce((a, c) => ({ ...a, [c]: \"closed\" }), {}),\n        [action.id]: \"opened\"\n      };\n    case \"close\":\n      return { ...state, [action.id]: \"closed\" };\n    default: \n      return { ...state, [action.id]: \"closed\" };\n  }\n}\n\nexport default ({ dataItems=[], interact, ...props }) => {\n  const [newSectionTitle, setNewSectionTitle] = useState('');\n\n  const droppedSection = React.useCallback((start, end) => {\n    const sections = [...dataItems]\n      .filter(({ data }) => data.sectionLanding)\n      .sort((a, b) => a.data.index - b.data.index);\n\n    const [item] = sections.splice(start, 1);\n    sections.splice(end, 0, item);\n\n    sections.forEach((item, i) => {\n      interact(\"api:edit\", item.id, { ...item.data, index: i }, { loading: false });\n      item.data.index = i; // <-- this is temp. It just makes the list look nice until data is updated\n    })\n  },[dataItems,interact])\n\n  const droppedSubsection = React.useCallback((start, end, section) => {\n    const subSection = [...dataItems]\n      .filter(({ data }) => !data.sectionLanding && (data.section === section))\n      .sort((a, b) => a.data.index - b.data.index);\n\n    const [item] = subSection.splice(start, 1);\n    subSection.splice(end, 0, item);\n\n    subSection.forEach((item, i) => {\n      interact(\"api:edit\", item.id, { ...item.data, index: i }, { loading: false });\n      item.data.index = i; // <-- this is temp. It just makes the list look nice until data is updated\n    })\n  }, [dataItems, interact]);\n\n  const [state, dispatch] = React.useReducer(reducer, {});\n\n  return (\n    <AdminLayout>\n      <div className=\"w-full max-w-7xl mx-auto p-2\">\n        <div className='pt-2 pb-3'>\n          <h3 className='inline font-bold text-3xl'> Pages</h3>\n        </div>\n        <div className=\"flex mt-3\">\n          <Input value={ newSectionTitle } onChange={ setNewSectionTitle }\n            className='w-full text-xl p-4 flex-1 rounded-lg shadow'\n            placeholder=\"Enter section name...\" autoFocus/>\n          <DmsButton large className=\"flex-0 text-xl ml-3\"\n            action={ {\n              disabled: !Boolean(newSectionTitle),\n              action: 'api:create',\n              seedProps: () => ({ section: newSectionTitle, sectionLanding: true })\n            } }/>\n        </div>\n        <div className='pt-4'>\n        { !dataItems.length ? null :\n          <DndList onDrop={ droppedSection }>\n            { dataItems\n                .filter(d => d.data.sectionLanding)\n                .sort((a, b) => +a.data.index - +b.data.index)\n                .map((d, i) => {\n                  const subSections = dataItems\n                    .filter(({ data }) => !data.sectionLanding && (data.section === d.data.section))\n                    .sort((a, b) => +a.data.index - +b.data.index);\n                  const max = get(subSections, [subSections.length - 1, \"data\", \"index\"], -1);\n                  return (\n                    <div key={ i } className='border-b py-4'>\n                      <div style={ { display: \"flex\", alignItems: \"center\" } }>\n                        <div style={ { flexGrow: 1, display: \"flex\", alignItems: \"center\" } }>\n                          <div style={ { fontWeight: \"bold\", fontSize: \"1.5rem\", width: \"30px\" } }\n                            onClick={\n                              e => dispatch({ type: state[d.id] === \"opened\" ? \"close\" : \"open\", id: d.id })\n                            }>\n                            { !subSections.length ? null : state[d.id] === \"opened\" ? \"-\" : \"+\" }\n                          </div>\n                          { d.data.section }\n                        </div>\n                        <div style={ { flexGrow: 0 } }>\n                          <DmsButton key=\"create\"\n                            action={{\n                              action: 'create',\n                              seedProps: () => ({ section: d.data.section, index: max + 1 })\n                            }}\n                            label='Add Page'/>\n                          <DmsButton key=\"edit\" item={ d.id }\n                            action=\"edit\" className=\"ml-3 flex-0\"/>\n                          <DmsButton key=\"api:delete\" item={ d.id }\n                            className=\"ml-3\"\n                            action={ {\n                              action: 'api:delete',\n                              showConfirm: true\n                            } }\n                            label='Delete'/>\n                        </div>\n                      </div>\n                      { state[d.id] !== \"opened\" ? null :\n                        <div style={ { flexGrow: 1 } }>\n                          <DndList onDrop={ (start, end) => droppedSubsection(start, end, d.data.section) }>\n                            { subSections.map(d =>\n                                <div key={ d.id } className=\"flex border-2 rounded-lg\" style={ { padding: \"1rem\", alignItems: \"center\" } }>\n                                  <div className=\"flex-1\">\n                                    <Link to={ `/docs/view/${ d.id }` }>\n                                      <h4 style={ { margin: \"0px\" } }>{ d.data.title }</h4>\n                                    </Link>\n                                  </div>\n                                  <DmsButton item={ d.id } action=\"edit\" className=\"ml-3 flex-0\"/>\n                                  <DmsButton item={ d.id } action=\"api:delete\" className=\"ml-3 flex-0\"/>\n                                </div>\n                              )\n                            }\n                          </DndList>\n                        </div>\n                      }\n                    </div>\n                  )\n                })\n            }\n          </DndList>\n        }\n        </div>\n      </div>\n    </AdminLayout>\n  )\n}\n","import React from \"react\"\nimport ReadOnlyEditor from \"components/dms/components/editor/editor.read-only\"\n// import { useTheme } from '@availabs/avl-components'\n\n\nconst ValueItem = ({ isPlaceholder, remove, edit, moveUp, moveDown, disabled = false }) => {\n  // const theme = useTheme();\n  return (\n    <div >\n      { isPlaceholder || disabled || !moveUp ? null :\n        <div className={ `\n            text-blue-400 hover:text-blue-700\n            pt-2 pr-1 inline-block cursor-pointer\n          ` }\n          onClick={ moveUp }>\n          <svg width=\"22\" height=\"22\" fill=\"currentColor\" viewBox=\"0 0 20 20\" stroke=\"currentColor\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.7071 12.7071C14.3166 13.0976 13.6834 13.0976 13.2929 12.7071L10 9.41421L6.70711 12.7071C6.31658 13.0976 5.68342 13.0976 5.29289 12.7071C4.90237 12.3166 4.90237 11.6834 5.29289 11.2929L9.29289 7.29289C9.68342 6.90237 10.3166 6.90237 10.7071 7.29289L14.7071 11.2929C15.0976 11.6834 15.0976 12.3166 14.7071 12.7071Z\"/>\n          </svg>\n        </div>\n      }\n      { isPlaceholder || disabled || !moveDown ? null :\n        <div className={ `\n            text-blue-400 hover:text-blue-700\n            pt-2 pr-1 inline-block cursor-pointer\n          ` }\n          onClick={ moveDown }>\n          <svg width=\"22\" height=\"22\" viewBox=\"0 0 20 20\" fill=\"currentColor\" stroke=\"currentColor\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289L10 10.5858L13.2929 7.29289C13.6834 6.90237 14.3166 6.90237 14.7071 7.29289C15.0976 7.68342 15.0976 8.31658 14.7071 8.70711L10.7071 12.7071C10.3166 13.0976 9.68342 13.0976 9.29289 12.7071L5.29289 8.70711C4.90237 8.31658 4.90237 7.68342 5.29289 7.29289Z\"/>\n           </svg>\n        </div>\n      }\n      { isPlaceholder || disabled || !edit ? null :\n        <div className={ `\n            text-blue-400 hover:text-blue-700\n            pt-2 pr-1 inline-block cursor-pointer\n          ` }\n          onClick={ edit }>\n          <svg width=\"22\" height=\"22\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"/>\n          </svg>\n        </div>\n      }\n      { isPlaceholder || disabled || !remove ? null :\n        <div className={ `\n            text-blue-400 hover:text-blue-700\n            pt-2 pr-1 inline-block cursor-pointer \n          ` }\n          onClick={ remove }>\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 20 20\" fill=\"currentColor\" stroke=\"currentColor\">\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L10 8.58579L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L11.4142 10L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L10 11.4142L5.70711 15.7071C5.31658 16.0976 4.68342 16.0976 4.29289 15.7071C3.90237 15.3166 3.90237 14.6834 4.29289 14.2929L8.58579 10L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289Z\"/>\n            </svg>\n        </div>\n      }\n    </div>\n  )\n}\n\nconst View = ({value, edit, remove, moveUp, moveDown,}) => {\n    if(!value) return false\n    return (\n        <div className='relative px-4 sm:px-6 lg:px-12 w-full'>\n            <h3 className='section-header text-xl tracking-wider mx-auto my-2 font-medium border-b border-t border-gray-200 py-1 flex'>\n                <div className='flex-1 py-1'>{value.title} <span className='text-sm font-normal text-blue-500'>{value.section && edit ? ` #${value.section}` : `` }</span></div>\n                <ValueItem edit={edit} remove={remove}  moveUp={moveUp} moveDown={moveDown} />\n            </h3>\n            <div className='font-normal text-lg text-gray-600 leading-8'>\n                <ReadOnlyEditor value={value.content} isRaw={value.content.blocks ? true : false}/>\n            </div>\n        </div>\n    )\n               \n}\n\nView.settings = {\n    hasControls: true\n}\n\nexport default View\n","import React from \"react\"\n\nimport { useDms } from \"components/dms/contexts/dms-context\"\nimport { useAuth } from \"components/dms/contexts/auth-context\"\n// import { useTheme } from \"components/avl-components/wrappers/with-theme\"\n\nimport { useSetSections } from \"components/dms/wrappers/dms-create\"\n\nimport { createEmpty } from \"components/dms/components/editor\"\n\nimport { useDmsSections } from \"components/dms/components/utils/dms-input-utils\"\nimport { Button } from \"@availabs/avl-components\"\n\n\nimport get from 'lodash.get'\n\nlet Edit = React.forwardRef(({ Attribute, id, autoFocus = false, onFocus, onBlur, onChange, value, save, buttonDisabled, ...props }, ref) => {\n  value = value || {};\n\n  const Props = { ...props, ...useDms(), user: useAuth().user };\n  const sections = useSetSections(Attribute.Format),\n    Sections = useDmsSections(sections, value, onChange, Props);\n\n  let Title = get(Sections, '[0].attributes',[]).filter(a => a.key === 'title').pop()\n  let Section = get(Sections, '[0].attributes',[]).filter(a => a.key === 'section').pop()\n  let Content = get(Sections, '[0].attributes',[]).filter(a => a.key === 'content').pop()\n \n\n  return (\n    <div className='w-full'>\n        <div className='relative px-4 sm:px-6 lg:px-12'>\n            <h3 className='section-header text-xl tracking-wider mx-auto mb-2 mt-2 font-medium border-b border-t border-gray-300 py-2 flex'>\n                {Title ? \n                <Title.Input\n                    ref={ ref }\n                    className='p-1'\n                    autoFocus={true}\n                    value={ value[Title.key] }\n                    placeholder={'Section Title'}\n                    onChange={Title.onChange}\n                /> : ''}\n                <Button \n                    className=\"ml-2 py-1 px-2\"\n                    onClick={ save } \n                    disabled={ buttonDisabled }\n                >\n                    Save\n                </Button>\n            </h3>\n            <div className='h-10 border-b w-full'>\n\n                {Section ? \n                <Section.Input\n                    ref={ ref }\n                    className='p-1'\n                    autoFocus={true}\n                    value={ value[Section.key] }\n                    placeholder={'#Section'}\n                    onChange={Section.onChange}\n                /> : ''}\n            </div>\n            <div className='font-normal text-lg leading-8 text-gray-600'>\n                {Content ? \n                <Content.Input\n                    ref={ ref }\n                    autoFocus={true}\n                    value={ get(value, `[${Content.key}]`, createEmpty()) }\n                    placeholder={'Section Content'}\n                    onChange={Content.onChange}\n                /> : ''}\n            </div>\n        </div>\n    </div>\n  )\n})\n\nEdit.settings = {\n    hasControls: true\n}\n\nexport default Edit","import React from \"react\"\n\nconst SectionSideNav = ({sections}) => (\n    <div className='bg-white shadow w-64 h-full hidden sm:block fixed' >\n        <ul className='py-6 pl-4 pr-4 text-md'>\n            { \n               sections.map((section,i) => {\n\n                    return (\n                        <React.Fragment>\n                        {(i === 0 || (sections[i-1] && sections[i-1].section !== section.section)) ? \n                            <li \n                                key={section.section+i} \n                                className={`${i === 0 ? '' : 'pt-6' } text-blue-500 font-medium`}>\n                                {section.section}\n                            </li> : ''\n                        }\n                        <li \n                            key={i} \n                            className='cursor-pointer hover:text-blue-500 pl-4'>\n                                {section.title}\n                        </li>\n                        </React.Fragment>\n                    )\n                })\n            }\n        </ul>\n    </div>\n)\n\nexport default SectionSideNav","import React from \"react\"\nimport get from 'lodash.get'\n\nimport {TopNav, useTheme} from '@availabs/avl-components'\n\nimport {DmsButton} from \"components/dms/components/dms-button\"\n\n\n\n// import SectionManager from './SectionManager'\nimport SectionView from './SectionView'\nimport SectionEdit from './SectionEdit'\nimport SectionSideNav from './SectionSideNav'\n//import AuthMenu from 'pages/Auth/AuthMenu'\n\nimport logo from './Logo.js'\n\n\n\n\nexport const Create = ({createState, setValues, item, dataItems, ...props}) => {\n    const theme = useTheme();\n    dataItems = dataItems.sort((a, b) => a.data.index - b.data.index)\n    if (!item) {\n        item = dataItems.filter(d => d.data.sectionLanding && d.data.index === 0).pop()\n    }\n    if (!item || !item.data) return null\n\n    const {data} = item\n    let navItems = dataItems\n        .filter(d => d.data.sectionLanding)\n        .map((d) => {\n            return {\n                name: d.data.section,\n                id: d.id,\n                path: `/cms/edit/${d.id}`, // d.data['url-slug'],\n                sectionClass: 'mb-4',\n                itemClass: 'font-bold',\n                children: dataItems\n                    .filter(({data}) => !data.sectionLanding && (data.section === d.data.section))\n                    .map(p => ({name: p.data.title, id:p.id, path: `/cms/edit/${p.id}`, itemClass: 'font-thin -mt-2'})),\n                rest: props\n            }\n        })\n    let activePage = props['doc-page'] || item\n    let subNav = data.sectionLanding ? get(navItems.filter((data) => (data.id === get(activePage, `id`))), `[0].children`, []) :\n        get(navItems.filter((data) => (data.children.map(c => c.id).includes(get(activePage, `id`)))), `[0].children`, [])\n\n\n    let Title = createState.sections[0].attributes.filter(a => a.key === 'title').pop()\n    let URL = createState.sections[0].attributes.filter(a => a.key === 'url-slug').pop()\n    let ShowSidebar = createState.sections[0].attributes.filter(a => a.key === 'showSidebar').pop()\n    let Sections = createState.sections[0].attributes.filter(a => a.key === 'sections').pop()\n\n    \n    return (\n        <div className={`flex items-start flex-col min-h-screen`}>\n            <div className='w-full fixed bg-white z-10'>\n                <TopNav \n                    menuItems={navItems} \n                    logo={logo('SHMP')}\n                    \n                />\n                {subNav.length ? \n                \t<TopNav \n                \t\tmenuItems={subNav} \n                \t\tcustomTheme={{\n                            sidebarBg: 'bg-white',\n                            topNavHeight: 'h-12' ,\n                            navitemTop: 'px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-gray-800 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out',\n                            navitemTopActive: 'px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-blue-500 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out'\n                        }} /> \n                \t: null\n               \t}\n            </div>\n            \n            <div className={`w-full hasValue flex-1 ${subNav.length ? 'mt-24' : 'mt-12'}`}>\n                { ShowSidebar.value ? \n                    <SectionSideNav sections={ get(data, `sections`, []) } /> : ''\n                }\n                <div className={`h-full ${ShowSidebar.value ? 'sm:ml-64' : ''} p-1 md:p-6`}>\n                    <div className={'bg-white shadow h-full flex justify-between flex-col lg:flex-row'}>\n                    <div className='hidden xl:block xl:w-64 p-4'> \n                        \n                    </div>\n                    <div className='border-l border-gray-200 py-8 max-w-6xl flex-1'>\n                        <div className='font-sm font-light text-md'>\n                           <Sections.Input\n                                className={`p-4 border-none active:border-none focus:outline-none custom-bg h-full ${theme.text}`}\n                                value={Sections.value}\n                                onChange={Sections.onChange}\n                                DisplayComp={SectionView}\n                                EditComp={SectionEdit}\n                            />\n                        </div>\n                    </div>\n                    <div\n                        className={`p-2 font-thin overflow-hidden`}>\n\n                    </div>\n                    <div className='w-full xl:block lg:w-64 order-first lg:order-last border-b lg:border-none'>\n                        <div className=\"p-4 border-l\">\n                            <h4 className='font-bold '> Page Settings </h4>\n                            <div>\n                                Title\n                                <Title.Input\n                                    autoFocus={true}\n                                    value={Title.value}\n                                    placeholder={'Title'}\n                                    onChange={Title.onChange}\n                                />\n                            </div>\n                            <div>\n                                url\n                                <URL.Input\n                                    className={`ml-2 ${theme.text}`}\n                                    autoFocus={true}\n                                    value={URL.value}\n                                    placeholder={'/url'}\n                                    onChange={URL.onChange}\n                                />\n                            </div>\n                            <div>\n                                Show Sidebar\n                                <ShowSidebar.Input\n                                    className={`ml-2 ${theme.text}`}\n                                    autoFocus={true}\n                                    value={ShowSidebar.value}\n                                    placeholder={'/url'}\n                                    onChange={ShowSidebar.onChange}\n                                />\n                            </div>\n                             <div className=\"mt-2 mb-4 max-w-2xl\">\n                                <DmsButton \n                                    className=\"w-full\" \n                                    large \n                                    type=\"submit\"\n                                    label='Save'\n                                    action={createState.dmsAction} \n                                    item={item} \n                                    props={props}/>\n                            </div>\n                            \n                        </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Create\n\n\n","import {shmpDoc} from './docs.type'\nimport PageManager from './components/PageManager'\nimport PageEdit from './components/PageEdit'\nimport { API_HOST } from 'config'\n// import PageView from './components/PageView'\n\n\nlet config = {\n    type: 'div',\n    wrappers: [\n        \"dms-manager\",\n        {\n            type:\"dms-provider\",\n            options: {\n                imgUploadUrl: `${ API_HOST }/img/new`,\n            }\n        },\n        \"dms-router\",\n        \"show-loading\",\n        \"dms-falcor\",\n        \"with-auth\"\n      ],\n    props: {\n        format: shmpDoc,\n        title: \"Documentation\",\n    },\n    children: [\n        {\n            type: PageManager,\n            props: { dmsAction: \"list\" }\n        },\n        {\n            type: PageEdit,\n            props: {dmsAction: \"create\"},\n            wrappers: [\"dms-create\", \"with-auth\"]\n        },\n\n        {\n            type: PageEdit,\n            props: {dmsAction: \"edit\"},\n            wrappers: [\"dms-edit\", \"with-auth\"]\n        }\n    ]\n}\n\nexport default {\n    path: \"/cms\",\n    mainNav: false,\n    // exact: true,\n    auth: true,\n    name: 'CMS',\n    authLevel: 5,\n    icon: '',\n    layout: 'Simple',\n    layoutSettings: {\n        fixed: true,\n        nav: 'side',\n        maxWidth: '',\n        headerBar: false,\n        \n    },\n    component: config\n}\n","export const PROJECT_NAME = 'NPMRDS';\nexport const PROJECT_THEME = 'TEST_THEME';\n\nlet API_HOST = 'https://graph.availabs.org';\nlet AUTH_HOST = 'https://availauth.availabs.org';\nlet CLIENT_HOST = 'https://npmrds.availabs.org';\n\nif (process.env.NODE_ENV === 'development') {\n  // API_HOST = 'http://localhost:4444';\n  // AUTH_HOST = 'http://localhost:3457';\n  CLIENT_HOST = 'http://localhost:3000';\n}\nexport { API_HOST, AUTH_HOST, CLIENT_HOST };\n","import Auth from \"pages/auth\"\nimport Home from \"pages/home\"\nimport DataDownload from \"pages/DataDownload\"\nimport Overview from './pages/Overview/index'\nimport NoMatch from \"pages/404\"\nimport StormEvents from 'pages/StormEvents/index_combined'\nimport Methodology from 'pages/Methodology/methodology'\nimport FemaDisasters from 'pages/fema_disasters/index'\nimport FemaDisasterDeclarations from 'pages/fema_disasters/components/femaDisasterDeclarations'\nimport CMS from 'pages/CMS/edit'\n\n\nconst Routes = [\n  //...Landing,\n  Home,\n  ...StormEvents,\n  CMS,\n  DataDownload,\n  ...Overview,\n  ...Methodology,\n  ...FemaDisasters,\n  ...FemaDisasterDeclarations,\n  Auth,\n  NoMatch\n]\n\nexport default Routes\n","import React from 'react';\nimport { BrowserRouter, Switch } from 'react-router-dom';\n\nimport ScrollToTop from 'utils/ScrollToTop'\n\nimport Routes from 'Routes';\n\nimport {\n  DefaultLayout,\n  Messages\n} from \"@availabs/avl-components\"\n\nclass App extends React.Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <ScrollToTop />\n        <Switch>\n          { Routes.map((route, i) =>\n              <DefaultLayout key={ i } { ...route } { ...this.props }\n                menus={ Routes.filter(r => r.mainNav) }/>\n            )\n          }\n        </Switch>\n        <Messages />\n      </BrowserRouter>\n    );\n  }\n}\nexport default App\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport falcorCache from \"utils/redux-falcor-new/falcorCache\"\nimport { messages } from \"@availabs/avl-components\"\n\nimport { Reducers } from \"@availabs/ams\"\nimport overview from \"./modules/overview\";\nimport stormEvents from \"./modules/stormEvents\";\nimport femaDisasterDeclarations from \"./modules/femaDisasterDeclarations\";\nimport geo from \"./modules/geo\";\n\nconst reducer = combineReducers({\n  ...Reducers,\n  messages,\n  stormEvents,\n  femaDisasterDeclarations,\n  geo,\n  overview,\n  // graph\n  falcorCache\n});\n\nexport default createStore(reducer, applyMiddleware(thunk))\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {composeTheme} from \"@availabs/avl-components/dist/Themes/utils\";\n\nconst light_base = {\n    shadow: 'shadow',\n    ySpace: 'py-4',\n    text: 'text-gray-800',\n    textContrast: \"text-white\",\n    border: \"broder-gray-400\",\n\n    textInfo: \"text-teal-400\",\n    bgInfo: \"bg-teal-400\",\n    borderInfo: \"border-teal-400\",\n\n    textSuccess: \"text-green-400\",\n    bgSuccess: \"bg-green-400\",\n    borderSuccess: \"border-green-400\",\n\n    textDanger: \"text-red-400\",\n    bgDanger: \"bg-red-400\",\n    borderDanger: \"border-red-400\",\n\n    textWarning: \"text-yellow-400\",\n    bgWarning: \"bg-yellow-400\",\n    borderWarning: \"border-yellow-400\",\n\n    textLight: \"text-gray-400\", // <-- for text styled like placeholder but can't be selected with ::placeholder\n    placeholder: 'placeholder-gray-400',\n\n    menuIcon: 'mr-3 h-6 w-6',\n    topMenuBorder: 'border-b border-gray-200',\n    topMenuScroll: '',\n    headerShadow: '',\n    navText: 'text-gray-100',\n    navitemTop: 'px-4 text-sm font-medium tracking-widest uppercase inline-flex items-center border-b-2 border-r border-transparent  leading-5 text-gray-600 hover:bg-white hover:text-blue-500 border-gray-200 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out h-full',\n    navitemTopActive: 'px-4 text-sm font-medium tracking-widest uppercase inline-flex items-center  border-b-2 border-r-0 leading-5 text-blue-500 bg-white focus:outline-none  sfocus:border-indigo-700 transition duration-150 ease-in-out',\n    topNavHeight: 'h-12',\n\n    navMenu: 'h-full relative',\n    navMenuOpen: 'bg-blue-600 text-white shadow w-56 rounded-t-lg',\n    navMenuBg: 'bg-blue-600 bb-rounded-10 shadow-lg text-white rounded-b-lg',\n    navMenuItem: 'hover:font-medium cursor-pointer px-2 py-1 text-lg font-semibold',\n\n\n    bg: 'bg-gray-50',\n    sidebarBg: 'bg-white',\n    sidebarW: '56',\n    sidebarBorder: ' border-r border-gray-200',\n    navitemSide: 'font-sans group flex pl-8 pr-4 py-2 border-l-4 border-transparent text-base font-base text-gray-600 hover:text-blue-600 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out',\n    navitemSideActive: 'group flex pl-8 pr-4 py-2 border-l-4 border-blue-500 text-base font-base text-gray-600 focus:outline-none hover:text-indigo-800 focus:text-indigo-800 focus:bg-indigo-200 focus:border-indigo-700 transition duration-150 ease-in-out',\n\n\n    menuBg: 'bg-gray-100 z-50',\n    menuBgHover: 'hover:bg-gray-300',\n    menuBgActive: 'bg-teal-200',\n    menuBgActiveHover: 'hover:bg-teal-300',\n    menuText: \"text-gray-100\",\n    menuTextHover: \"hover:text-gray-700\",\n    menuTextActive: \"text-teal-500\",\n    menuTextActiveHover: \"hover:text-teal-700\",\n\n    headerBg: 'bg-gray-200',\n    headerBgHover: \"hover:bg-gray-400\",\n\n    inputBg: \"bg-white disabled:bg-gray-200 cursor-pointer focus:outline-none\",\n    inputBorder: \"rounded border-0 border-transparent hover:border-gray-300 focus:border-gray-600 disabled:border-gray-200\",\n    inputBgDisabled: \"bg-gray-200 cursor-not-allowed focus:outline-none\",\n    inputBorderDisabled: \"rounded border-2 border-gray-200 hover:border-gray-200\",\n    inputBgFocus: \"bg-white cursor-pointer focus:outline-none\",\n    inputBorderFocus: \"rounded border-2 border-transparent hover:border-gray-600 focus:border-gray-600 border-gray-600\",\n\n    textBase: \"text-base\",\n    textSmall: \"text-sm\",\n    textLarge: \"text-lg\",\n    paddingBase: \"py-1 px-2\",\n    paddingSmall: \"py-0 px-1\",\n    paddingLarge: \"py-2 px-4\",\n\n    contentBg: 'bg-white',\n\n    accent1: 'bg-blue-100',\n    accent2: 'bg-gray-300',\n    accent3: 'bg-gray-400',\n    accent4: 'bg-gray-500',\n\n    highlight1: \"bg-teal-200\",\n    highlight2: \"bg-teal-300\",\n    highlight3: \"bg-teal-400\",\n    highlight4: \"bg-teal-500\",\n\n    width: '',\n\n    transition: \"transition ease-in-out duration-150\",\n    button: `\n\t\tinline-flex items-center\n\t\tpx-4 py-2 border border-gray-300\n\t\ttext-sm leading-5 font-medium\n\t\trounded-md text-gray-700 bg-white\n\t\thover:text-gray-500\n\t\tfocus:outline-none focus:shadow-outline-blue focus:border-blue-300\n\t\tactive:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out\n\t\tdisabled:cursor-not-allowed`,\n    buttonPrimary: 'inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700 transition duration-150 ease-in-out disabled:cursor-not-allowed',\n\n    tableRow: 'bg-gray-100 hover:bg-gray-200 transition ease-in-out duration-150',\n    tableRowStriped: 'bg-gray-100 even:bg-gray-200 hover:bg-gray-300 transition ease-in-out duration-150',\n\n    tableCell: 'px-4 py-1 whitespace-no-wrap',\n\n    tableHeader: \"px-4 py-2 pb-1 border-b-2 border-gray-300 bg-gray-200 text-left font-medium text-gray-700 uppercase first:rounded-tl-md last:rounded-tr-md\"\n}\n\nconst button = [\n    { $default: \"rounded inline-flex items-center justify-center @transition disabled:cursor-not-allowed disabled:bg-transparent disabled:opacity-50 focus:outline-none border\" }, // <-- applied to all buttons\n    { $default: \"$button\", // <-- this is pulled from the theme during composeDefaults and overwritten\n        Primary: \"$buttonPrimary\", // <-- this is pulled from the theme during composeDefaults and overwritten\n        Success: \"$buttonSuccess\",\n        Danger: \"$buttonDanger\",\n        Info: \"$buttonInfo\"\n    },\n    { $default: \"px-4 py-1 @textBase\", // <<-- padding based on size\n        Large: \"px-6 py-2 @textLarge\",\n        Small: \"px-2 py-0 @textSmall\"\n    },\n    { Block: \"w-full\" }\n]\nconst input = [\n    { $default: \"w-full block rounded cursor-pointer disabled:cursor-not-allowed @transition @text @placeholder @inputBg @inputBorder\" },\n    { $default: \"@paddingBase @textBase\", // <<-- padding based on size\n        Large: \"@paddingLarge @textLarge\",\n        Small: \"@paddingSmall @textSmall\"\n    }\n]\nconst navitem = [\n    { $default: \"group border-transparent font-medium focus:outline-none @transition\"},\n    { Top: \"mr-4 inline-flex items-center px-1 pt-1 border-b-2 text-sm leading-5\",\n        Side: \"mb-1 flex pl-3 pr-4 py-2 border-l-4 text-bas\"\n    },\n    { $default: \"@menuBg @menuBgHover @menuText @menuTextHover\",\n        Active: \"@menuBgActive @menuBgActiveHover @menuTextActive @menuTextActiveHover\" }\n]\nconst textbutton = [\n    { $default: \"@transition inline-flex px-2 hover:font-bold disabled:font-normal disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none\" },\n    { $default: \"$textbutton\",\n        Info: \"text-teal-400 hover:text-teal-500 disabled:text-teal-400\"\n    },\n    { $default: \"text-base\",\n        Large: \"text-lg\",\n        Small: \"text-sm\"\n    },\n    { $default: \"font-normal cursor-pointer\",\n        Active: \"font-bold cursor-default\"\n    }\n]\nconst list = [\n    { $default: \"@transition rounded\"\n    },\n    {\n        $default: \"p-2 pb-0 bg-white shadow\",\n        Dragging: \"p-2 pb-0 bg-white\",\n        Item: \"py-1 px-3 bg-gray-300 mb-2 border-b\"\n    }\n]\nconst $compositions = {\n    $defaults: [\n        \"input\",\n        \"navitemTop\",\n        \"navitemTopActive\",\n        \"navitemSide\",\n        \"navitemSideActive\"\n    ], // <-- these are generated in theme during composeDefaults\n    button,\n    input,\n    navitem,\n    textbutton,\n    list\n}\nconst TEST_THEME_BASE = {\n    ...light_base,\n\n    tableInfoBar: \"bg-white\",\n    tableRow: 'bg-white hover:bg-gray-200 @transition',\n    tableRowStriped: 'bg-white even:bg-gray-100 hover:bg-gray-200 @transition',\n\n    button: \"text-gray-400 border-gray-400 hover:bg-gray-400 hover:text-white disabled:text-gray-400\",\n    buttonPrimary: \"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white disabled:text-blue-400\",\n    buttonSuccess: \"text-green-400 border-green-400 hover:bg-green-400 hover:text-white disabled:text-green-400\",\n    buttonDanger: \"text-red-400 border-red-400 hover:bg-red-400 hover:text-white disabled:text-red-400\",\n    buttonInfo: \"text-teal-400 border-teal-400 hover:bg-teal-400 hover:text-white disabled:text-teal-400\",\n\n    textbutton: \"text-gray-400 hover:text-gray-500 disabled:text-gray-400\",\n\n    $compositions\n}\n\nconst compose = (themeType, theme) => {\n    const [base, ...rest] = themeType.split(/(?<!^)(?=[A-Z])/);\n    if (!theme.$compositions) return theme[base] || \"\";\n    if (!theme.$compositions[base]) return theme[base] || \"\";\n\n    return theme.$compositions[base].reduce((a, c) => {\n        let option = c.$default || \"\";\n        for (const opt of rest) {\n            if (opt in c) {\n                option = c[opt];\n            }\n        }\n        a.push(option);\n        return a;\n    }, []).filter(Boolean).join(\" \");\n}\n\n\n\nconst handler = {\n    get: (theme, definition, receiver) => {\n        if (!(definition in theme)) {\n            theme[definition] = compose(definition, theme);\n        }\n        return theme[definition];\n    }\n}\n\nexport default new Proxy(TEST_THEME_BASE, handler);\n\n//export default composeTheme(TEST_THEME_BASE)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport { API_HOST } from 'config'\nimport { AUTH_HOST, PROJECT_NAME, CLIENT_HOST } from 'config'\n\nimport { falcorGraph } from 'store/falcorGraphNew'\nimport { FalcorProvider } from 'utils/redux-falcor-new'\n\n\nimport { Provider } from 'react-redux';\nimport store from 'store';\nimport {\n  //Themes,\n  ThemeContext,\n  // FalcorProvider,\n  // falcorGraph,\n  addComponents,\n  addWrappers\n} from \"@availabs/avl-components\"\n\nimport reportWebVitals from './reportWebVitals';\n\nimport DmsComponents from \"components/dms\"\nimport DmsWrappers from \"components/dms/wrappers\"\n\nimport {\n  Components as AmsComponents,\n  Wrappers as AmsWrappers,\n  enableAuth\n} from \"@availabs/ams\"\n\nimport 'styles/tailwind.css';\nimport Theme from './Theme'\n\naddComponents(DmsComponents);\naddWrappers(DmsWrappers);\n\naddComponents(AmsComponents);\naddWrappers(AmsWrappers);\n\nconst AuthEnabledApp = enableAuth(App, { AUTH_HOST, PROJECT_NAME, CLIENT_HOST });\n\nReactDOM.render(\n  <React.StrictMode>\n   \t<Provider store={ store }>\n  \t\t<FalcorProvider falcor={ falcorGraph }>\n        <ThemeContext.Provider value={ Theme }>\n  \t    \t<AuthEnabledApp />\n        </ThemeContext.Provider>\n      </FalcorProvider>\n  \t</Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","let years = []\nconst start_year = 1996\nconst end_year = 2019\nfor(let i = start_year; i <= end_year; i++) {\n    years.push(i)\n}\nconst Hazards = [\n    {value:'wind', name:'Wind'},\n    {value:'wildfire', name:'Wildfire'},\n    {value:'tsunami', name:'Tsunami/Seiche'},\n    {value:'tornado', name:'Tornado'},\n    {value:'riverine', name:'Flooding'},\n    {value:'lightning', name:'Lightning'},\n    {value:'landslide', name:'Landslide'},\n    {value:'icestorm', name:'Ice Storm'},\n    {value:'hurricane', name:'Hurricane'},\n    {value:'heatwave', name:'Heat Wave'},\n    {value:'hail', name:'Hail'},\n    {value:'earthquake', name:'Earthquake'},\n    {value:'drought', name:'Drought'},\n    {value:'avalanche', name:'Avalanche'},\n    {value:'coldwave', name:'Coldwave'},\n    {value:'winterweat', name:'Snow Storm'},\n    {value:'volcano', name:'Volcano'},\n    {value:'coastal', name:'Coastal Hazards'}\n]\n\nlet hazards = Hazards.reduce((a,c) =>{\n    a.push(c.value)\n    return a\n},[])\n\nconst config = {\n    'fips': [\"01\", \"02\", \"04\", \"05\", \"06\", \"08\", \"09\", \"10\", \"11\", \"12\", \"13\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"40\", \"41\", \"42\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \"50\", \"51\", \"53\", \"54\", \"55\", \"56\"],\n    'years': years,\n    'hazards': hazards,\n    'Hazards': Hazards,\n    'stormevents' : {\n        data_columns: ['total_damage', 'num_episodes','property_damage','crop_damage','num_episodes','num_events','state','state_fips','annualized_damage'],\n        sort: 'annualized_damage',\n        graph_column : ['total_damage'],\n        table_column : ['total_damage', 'annualized_damage', 'num_episodes'],\n        table_header : ['Damage','Yearly Avg Damage','# Episodes'],\n        map_column: ['total_damage'],\n        fetch_url : 'severeWeather',\n        popover : [\n            {\n                'name' : 'Property Damage',\n                'value' : 'property_damage',\n                type: 'fnum'\n            },\n            {\n                'name' : 'Crop Damage',\n                'value' : 'crop_damage',\n                type: 'fnum'\n            },\n            {\n                'name' : 'Injuries',\n                'value' : 'injuries',\n                type: 'fmt'\n            },\n            {\n                'name' : 'Property Damage',\n                'value' : 'property_damage',\n                type: 'fnum'\n            },\n            {\n                'name' : 'Fatalities',\n                'value' : 'fatalities',\n                type : 'fmt'\n            },\n        ],\n        measure : 'total_damage',\n        counties_domain : [1000000, 5000000, 10000000, 100000000, 1000000000, 10000000000],\n        other_domain : [10000, 50000, 100000, 1000000, 10000000, 100000000]\n\n    },\n    'sba':{\n        data_columns: ['total_loss','loan_total','num_loans','state_abbrev'],\n        sort: 'total_loss',\n        graph_column : ['total_loss'],\n        table_column : ['total_loss', 'loan_total', 'num_loans'],\n        table_header: ['Total Loss',' $ Loan','# Loans'],\n        fetch_url : 'sba.all',\n        popover : [\n            {\n                'name' : 'Total Loss',\n                'value' : 'total_loss',\n                //type: fnum\n            },\n            {\n                'name' : 'Total Loan',\n                'value' : 'loan_total',\n                //type: fnum\n            },\n            {\n                'name' : '# Loans',\n                'value' : 'num_loans',\n                //type: fmt\n            },\n\n        ],\n        measure: 'total_loss',\n        counties_domain : [1000000, 5000000, 10000000, 100000000, 1000000000, 10000000000],\n        other_domain : [10000, 50000, 100000, 1000000, 10000000, 100000000]\n    },\n    'fema' :{\n        data_columns: [\n            'ia_ihp_amount',\n            'ia_ihp_count',\n            'pa_project_amount',\n            'pa_federal_share_obligated',\n            'hma_prop_actual_amount_paid',\n            'hma_prop_number_of_properties',\n            'hma_proj_project_amount',\n            'hma_proj_project_amount_count',\n            'hma_proj_federal_share_obligated',\n            'hma_proj_federal_share_obligated_count',\n            'total_cost',\n            \"total_cost_summaries\",\n            \"total_disasters\"\n        ],\n        sort: 'total_cost_summaries',\n        graph_column : ['total_cost'],\n        table_column : ['ia_ihp_amount','pa_project_amount','hma_total_amount',\"total_cost_summaries\"], //\n        table_header: ['IHA','PA','HMGP','$Total Cost Summaries'],\n        fetch_url: 'fema.disasters',\n        popover : [\n            {\n                'name' : 'Total Cost',\n                'value' : 'total_cost',\n                //type: fnum\n            },\n            {\n                'name' : '# Episodes',\n                'value' : 'total_disasters',\n                //type: fmt\n            },\n\n        ],\n        measure: 'total_cost',\n        counties_domain: [1000000, 5000000, 10000000, 100000000, 1000000000, 10000000000],\n        other_domain : [1000000, 5000000, 10000000, 100000000, 1000000000, 10000000000]\n    }\n}\n\nmodule.exports = config\n","const {\n    scaleOrdinal,\n    scaleThreshold\n} = require(\"d3-scale\");\n\nconst ss = require(\"simple-statistics\");\n\nconst { format } = require(\"d3-format\");\n\n// const LimitedAttributes = {\n//     num_events: \"Occurances\",\n//     property_damage: \"Property Damage $\"\n// }\n\nconst sheldusAttributes = {\n    num_events: \"Occurances\",\n    property_damage: \"Property Damage $\",\n    crop_damage: \"Crop Damage $\",\n    injuries: \"Injuries\",\n    fatalities: \"Fatalities\"\n}\n\nconst scaleCk = () => {\n    let domain = [0, 1, 2, 3, 4],\n        range = [\"#f2efe9\", \"#fadaa6\", \"#f7c475\", \"#f09a10\", \"#cf4010\"],\n        scale = scaleThreshold()\n            .domain(domain)\n            .range(range);\n    function Scale(d) {\n        return scale(d);\n    }\n    Scale.domain = function(d) {\n        if (!arguments.length) {\n            return domain;\n        }\n        domain = d;\n        ckmeans();\n        return Scale;\n    }\n    Scale.range = function(r) {\n        if (!arguments.length) {\n            return range;\n        }\n        range = r;\n        ckmeans();\n        return Scale;\n    }\n    Scale.invertExtent = function(e) {\n        return scale.invertExtent(e);\n    }\n    function ckmeans() {\n        const ckmeans = ss.ckmeans(domain, range.length),\n            thresholds = ckmeans.slice(0, range.length).map(ck => ck[ck.length - 1]);\n        scale.domain(thresholds)\n            .range(range);\n    }\n    return Scale;\n}\n\nconst increase = 100\nconst getColors = num => {\n    const colors = [];\n    let r = 0, g = increase, b = 0;\n    for (let i = 0; i < num; ++i) {\n\n        colors.push(`rgb(${ r },${ g },${ b })`);\n\n        b += increase;\n\n        if (b > 255) {\n            b %= 255;\n            g += increase;\n        }\n\n        if (g > 255) {\n            g %= 255;\n            r += increase;\n        }\n\n        if (r > 255) {\n            r %= 255;\n        }\n    }\n    return colors;\n}\n\nconst increase2 = 85\nconst getColors2 = num => {\n    const colors = [];\n    let r = 0, g = increase2, b = 0;\n    for (let i = 0; i < num; ++i) {\n\n        colors.push(`rgb(${ r },${ g },${ b })`);\n\n        b += increase2;\n\n        if (b > 255) {\n            b = 0;\n            g += increase2;\n        }\n\n        if (g > 255) {\n            g = 0;\n            r += increase2;\n        }\n\n        if (r > 255) {\n            r = 0;\n        }\n    }\n    return colors;\n}\n\nconst D3_CATEGORY20 = [\n    \"#1f77b4\",\n    \"#aec7e8\",\n    \"#ff7f0e\",\n    \"#ffbb78\",\n    \"#2ca02c\",\n    \"#98df8a\",\n    \"#d62728\",\n    \"#ff9896\",\n    \"#9467bd\",\n    \"#c5b0d5\",\n    \"#8c564b\",\n    \"#c49c94\",\n    \"#e377c2\",\n    \"#f7b6d2\",\n    \"#7f7f7f\",\n    \"#c7c7c7\",\n    \"#bcbd22\",\n    \"#dbdb8d\",\n    \"#17becf\",\n    \"#9edae5\"\n];\n\nconst getHazardName = hazardid =>\n    (hazardid === \"winterweat\") ? \"Winter Weather\" :\n        ['nri', 'bric', 'sovist', 'sovi', 'builtenv'].includes(hazardid) ? hazardid.toUpperCase() :\n            hazardid.split(\"\")\n                .map((d, i) => i === 0 ? d.toUpperCase() : d)\n                .join(\"\")\n\nfunction fnum(x, withDollar=true, roundUnder10K=true) {\n    if(isNaN(x)) return x;\n\n    if(x < 9999 && !roundUnder10K) {\n        const frmt = format(withDollar ? \"$,.0f\" : \",.0f\")\n        return frmt(x);\n    }\n    if (x > 999 && x < 9999 && roundUnder10K) {\n        const frmt = format(withDollar ? \"$,.0f\" : \",.0f\")\n        return frmt(x/1000) + \"K\";\n    }\n\n    if(x < 1000000) {\n        const frmt = format(withDollar ? \"$,.0f\" : \",.0f\")\n        return frmt(x/1000) + \"K\";\n    }\n    if( x < 10000000) {\n        const frmt = format(withDollar ? \"$,.0f\" : \",.0f\")\n        return frmt(x/1000000) + \"M\";\n    }\n\n    if(x < 1000000000) {\n        const frmt = format(withDollar ? \"$,.1f\" : \",.1f\")\n        return frmt(x/1000000) + \"M\";\n    }\n\n    if(x < 1000000000000) {\n        const frmt = format(withDollar ? \"$,.1f\" : \",.1f\")\n        return frmt(x/1000000000) + \"B\";\n    }\n\n    return \"$1T+\";\n}\n\n\nfunction fnumClean(x, withDollar=true, roundUnder10K=true) {\n    if(isNaN(x)) return x;\n\n    if(x < 9999 && !roundUnder10K) {\n        const frmt = format(withDollar ? \"$,.0f\" : \",.0f\")\n        return frmt(x);\n    }\n    if (x > 999 && x < 9999 && roundUnder10K) {\n        const frmt = format(withDollar ? \"$,.0f\" : \",.0f\")\n        return frmt(x/1000) + \"K\";\n    }\n\n    if(x < 1000000) {\n        const frmt = format(withDollar ? \"$,.0f\" : \",.0f\")\n        return frmt(x/1000) + \"K\";\n    }\n    if( x < 10000000) {\n        const frmt = format(withDollar ? \"$,.0f\" : \",.0f\")\n        return frmt(x/1000000) + \"M\";\n    }\n\n    if(x < 1000000000) {\n        const frmt = format(withDollar ? \"$,.0f\" : \",.0f\")\n        return frmt(x/1000000) + \"M\";\n    }\n\n    if(x < 1000000000000) {\n        const frmt = format(withDollar ? \"$,.0f\" : \",.0f\")\n        return frmt(x/1000000000) + \"B\";\n    }\n\n    return \"$1T+\";\n}\n\nconst ftypeMap = {\n    730: { name: \"Education\", color: D3_CATEGORY20[0] },\n    740: { name: \"Emergency Response and Law Enforcement\", color: D3_CATEGORY20[1] },\n    800: { name: \"Health and Medical\", color: D3_CATEGORY20[4] },\n    820: { name: \"Public Attractions and Landmark Buildings\", color: D3_CATEGORY20[5] },\n    830: { name: \"Government and Military\", color: D3_CATEGORY20[16] }\n}\n\nmodule.exports = {\n\n    getHazardName,\n    fnum,\n    fnumClean,\n    getColors,\n    getColors2,\n    scaleCk,\n    ftypeMap,\n\n    getColorScale: domain =>\n        scaleOrdinal()\n            .domain((domain && domain.sort()) || [1, 2])\n            .range(D3_CATEGORY20),\n\n    processSheldus : (data,key) => {\n        let yearly = {\n            id: sheldusAttributes[key],\n            \"color\": \"#047bf8\",\n            data: Object.keys(data).reduce((total,year) => {\n                total.push({\n                    \"x\": +year,\n                    \"y\": data[year][key] || 0\n                })\n                return total\n            }, [])\n        }\n        let fiveYear = {\n            id: '5 Year Avg ' + sheldusAttributes[key],\n            \"color\": \"#e65252\",\n            data: Object.keys(data).reduce((total,year) => {\n                let avgTotal = 0\n                let count = 0\n                for(let i=4; i >= 0; i-- ) {\n                    if(data[year-i] && data[year-i][key]){\n                        avgTotal += data[year-i][key]\n                    }\n                    count += 1\n                }\n                let avg = !isNaN(avgTotal / count)  > 0\n                    ? (avgTotal / count)\n                    : 0\n                total.push({\n                    \"x\": +year,\n                    \"y\": +(avg.toFixed(2))\n                })\n                return total\n            }, [])\n\n        }\n        return [yearly,fiveYear]\n    },\n\n    processDataForBarChart: (rawData, geoids, lossType=\"property_damage\", hazard=null) => {\n// console.log(\"<processDataForBarChart>\",rawData,geoids)\n        const data = {}, keys = {};\n        for (const geoid in rawData) {\n            if (!geoids.includes(geoid)) continue;\n            for (const hazardid in rawData[geoid]) {\n                if (hazard && (hazardid !== hazard)) continue;\n\n                if (!(hazardid in keys)) {\n                    keys[hazardid] = true;\n                }\n                for (const year in rawData[geoid][hazardid]) {\n                    if (year === 'allTime') continue;\n                    if (!(year in data)) {\n                        data[year] = { year };\n                    }\n                    if (!(hazardid in data[year])) {\n                        data[year][hazardid] = 0;\n                    }\n                    const value = data[year][hazardid] + +rawData[geoid][hazardid][year][lossType];\n                    data[year][hazardid] = value;\n                }\n            }\n        }\n        return { data: Object.values(data), keys: Object.keys(keys) };\n    },\n\n    processSheldus5year : (data, key, type) => {\n        type = type ? type : 'avg'\n        return Object.keys(data).reduce((total,year) => {\n            let avgTotal = 0\n            let count = 0\n            for(let i=4; i >= 0; i-- ) {\n                if(data[year-i] && data[year-i][key]){\n                    avgTotal += data[year-i][key]\n                }\n                count += 1\n            }\n            let avg = !isNaN(avgTotal / count) && count > 0\n                ? (avgTotal / count)\n                : 0\n            total[year] = type === 'avg' ?  +(avg.toFixed(2)) : +(avgTotal.toFixed(2))\n            return total\n        }, {})\n    },\n\n    sumData : (data, key, len) => {\n        return Object.keys(data).reduce((total,year) => {\n            let avgTotal = 0\n            for(let i=(len-1); i >= 0; i-- ) {\n                if(data[year-i] && data[year-i][key]){\n                    avgTotal += data[year-i][key]\n                }\n            }\n            // let avg = !isNaN(avgTotal / count) && count > 0\n            //     ? (avgTotal / count)\n            //     : 0\n            total[year] = +(avgTotal.toFixed(2))\n            return total\n        }, {})\n\n    },\n\n    total : (data,key) => {\n        // this is a stupid hack\n        // to remove crud keys that falcor adds to object\n        let numYears = Object.keys(data)\n            .filter(d => d.length === 4)\n            .length\n\n        if(numYears <= 0) return ''\n\n        let total =  Object.keys(data).reduce((total,year) => {\n            if(data[year][key] && !isNaN(+data[year][key])) {\n                total += data[year][key]\n            }\n            return total\n        }, 0)\n        return fnum(total, false)\n    },\n\n    avg : (data,key) => {\n        // this is a stupid hack\n        // to remove crud keys that falcor adds to object\n        let numYears = Object.keys(data)\n            .filter(d => d.length === 4)\n            .length\n\n        if(numYears <= 0) return ''\n\n        let total =  Object.keys(data).reduce((total,year) => {\n            if(data[year][key] && !isNaN(+data[year][key])) {\n                total += data[year][key]\n            }\n            return total\n        }, 0)\n\n\n\n        return fnum( total / numYears , false)\n    },\n\n    avgData : (data,key, len) => {\n        return Object.keys(data).reduce((total,year) => {\n            let avgTotal = 0\n            let count = 0\n            for(let i=len-1; i >= 0; i-- ) {\n                if(data[year-i] && data[year-i][key]){\n                    avgTotal += data[year-i][key]\n                }\n                count += 1\n            }\n            let avg = !isNaN(avgTotal / count) && count > 0\n                ? (avgTotal / count)\n                : 0\n            total[year] = +(avg.toFixed(2))\n            return total\n        }, {})\n\n    }\n\n}"],"sourceRoot":""}