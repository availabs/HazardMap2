/*! For license information please see 2.68fbef1c.chunk.js.LICENSE.txt */
(this["webpackJsonpavl-starter"]=this["webpackJsonpavl-starter"]||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(678)},function(t,e,n){"use strict";t.exports=n(679)},function(t,e,n){t.exports=n(683)()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(25);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";n.d(e,"i",(function(){return r})),n.d(e,"j",(function(){return i})),n.d(e,"o",(function(){return o})),n.d(e,"l",(function(){return a})),n.d(e,"q",(function(){return s})),n.d(e,"w",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"r",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return p})),n.d(e,"g",(function(){return d})),n.d(e,"f",(function(){return y})),n.d(e,"k",(function(){return v})),n.d(e,"n",(function(){return g})),n.d(e,"p",(function(){return m})),n.d(e,"t",(function(){return b})),n.d(e,"s",(function(){return _})),n.d(e,"u",(function(){return x})),n.d(e,"v",(function(){return w})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return S})),n.d(e,"m",(function(){return k}));var r=1e-6,i=1e-12,o=Math.PI,a=o/2,s=o/4,u=2*o,c=180/o,l=o/180,f=Math.abs,h=Math.atan,p=Math.atan2,d=Math.cos,y=Math.ceil,v=Math.exp,g=(Math.floor,Math.log),m=Math.pow,b=Math.sin,_=Math.sign||function(t){return t>0?1:t<0?-1:0},x=Math.sqrt,w=Math.tan;function E(t){return t>1?0:t<-1?o:Math.acos(t)}function S(t){return t>1?a:t<-1?-a:Math.asin(t)}function k(t){return(t=b(t/2))*t}},function(t,e,n){(function(e){var n="__lodash_hash_undefined__",r="[object Function]",i="[object GeneratorFunction]",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,s=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,l=/^\[object .+?Constructor\]$/,f="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,p=f||h||Function("return this")();var d=Array.prototype,y=Function.prototype,v=Object.prototype,g=p["__core-js_shared__"],m=function(){var t=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),b=y.toString,_=v.hasOwnProperty,x=v.toString,w=RegExp("^"+b.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=p.Symbol,S=d.splice,k=N(p,"Map"),O=N(Object,"create"),C=E?E.prototype:void 0,P=C?C.toString:void 0;function T(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function M(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function A(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function I(t,e){for(var n,r,i=t.length;i--;)if((n=t[i][0])===(r=e)||n!==n&&r!==r)return i;return-1}function j(t,e){for(var n,r=0,i=(e=function(t,e){if(B(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||q(t))return!0;return a.test(t)||!o.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:B(n=e)?n:L(n)).length;null!=t&&r<i;)t=t[z(e[r++])];return r&&r==i?t:void 0}function R(t){return!(!U(t)||(e=t,m&&m in e))&&(function(t){var e=U(t)?x.call(t):"";return e==r||e==i}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}(t)?w:l).test(function(t){if(null!=t){try{return b.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t));var e}function D(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function N(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return R(n)?n:void 0}T.prototype.clear=function(){this.__data__=O?O(null):{}},T.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},T.prototype.get=function(t){var e=this.__data__;if(O){var r=e[t];return r===n?void 0:r}return _.call(e,t)?e[t]:void 0},T.prototype.has=function(t){var e=this.__data__;return O?void 0!==e[t]:_.call(e,t)},T.prototype.set=function(t,e){return this.__data__[t]=O&&void 0===e?n:e,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(t){var e=this.__data__,n=I(e,t);return!(n<0)&&(n==e.length-1?e.pop():S.call(e,n,1),!0)},M.prototype.get=function(t){var e=this.__data__,n=I(e,t);return n<0?void 0:e[n][1]},M.prototype.has=function(t){return I(this.__data__,t)>-1},M.prototype.set=function(t,e){var n=this.__data__,r=I(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},A.prototype.clear=function(){this.__data__={hash:new T,map:new(k||M),string:new T}},A.prototype.delete=function(t){return D(this,t).delete(t)},A.prototype.get=function(t){return D(this,t).get(t)},A.prototype.has=function(t){return D(this,t).has(t)},A.prototype.set=function(t,e){return D(this,t).set(t,e),this};var L=F((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(q(t))return P?P.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return s.test(t)&&n.push(""),t.replace(u,(function(t,e,r,i){n.push(r?i.replace(c,"$1"):e||t)})),n}));function z(t){if("string"==typeof t||q(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function F(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(F.Cache||A),n}F.Cache=A;var B=Array.isArray;function U(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function q(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==x.call(t)}t.exports=function(t,e,n){var r=null==t?void 0:j(t,e);return void 0===r?n:r}}).call(this,n(53))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(204);function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(56),i=n(307);function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=n(36);function s(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?Object(a.a)(t):e}function u(t){var e=Object(i.a)();return function(){var n,i=Object(r.a)(t);if(e){var o=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"c",(function(){return f}));var r=n(38),i=function(){},o=function(t,e,n){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})},a={arr:Array.isArray,obj:function(t){return!!t&&"Object"===t.constructor.name},fun:function(t){return"function"===typeof t},str:function(t){return"string"===typeof t},num:function(t){return"number"===typeof t},und:function(t){return void 0===t}};function s(t,e){if(a.arr(t)){if(!a.arr(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var u=function(t){return a.str(t)&&("#"==t[0]||/\d/.test(t)||!(!r.colorNames||!r.colorNames[t]))},c=function(t,e,n){a.fun(t.forEach)?t.forEach(e,n):Object.keys(t).forEach((function(r){return e.call(n,t[r],r)}))},l=function(t){return a.und(t)?[]:a.arr(t)?t:[t]};function f(t,e){if(t.size){var n=Array.from(t);t.clear(),c(n,e)}}},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var i={DefaultLayout:!0,Themes:!0,Compositions:!0,makeProxy:!0,composeTheme:!0,Messages:!0,messages:!0,sendSystemMessage:!0,dismissSystemMessage:!0};Object.defineProperty(e,"DefaultLayout",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"makeProxy",{enumerable:!0,get:function(){return p.makeProxy}}),Object.defineProperty(e,"composeTheme",{enumerable:!0,get:function(){return p.composeTheme}}),Object.defineProperty(e,"Messages",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"messages",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"sendSystemMessage",{enumerable:!0,get:function(){return y.sendSystemMessage}}),Object.defineProperty(e,"dismissSystemMessage",{enumerable:!0,get:function(){return y.dismissSystemMessage}}),e.Compositions=e.Themes=void 0;var o=n(514);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var a=m(n(1011)),s=n(367);Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))}));var u=n(264);Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}));var c=n(297);Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===c[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))}));var l=n(536);Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===l[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))}));var f=g(n(515));e.Themes=f;var h=g(n(516));e.Compositions=h;var p=n(365),d=m(n(1012)),y=g(n(559));function v(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return v=function(){return t},t}function g(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=v();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function m(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(236);var i=n(308),o=n(143);function a(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(i.a)(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ServerStyleSheet",(function(){return Ft})),n.d(e,"StyleSheetConsumer",(function(){return it})),n.d(e,"StyleSheetContext",(function(){return rt})),n.d(e,"StyleSheetManager",(function(){return lt})),n.d(e,"ThemeConsumer",(function(){return At})),n.d(e,"ThemeContext",(function(){return Mt})),n.d(e,"ThemeProvider",(function(){return It})),n.d(e,"__PRIVATE__",(function(){return qt})),n.d(e,"createGlobalStyle",(function(){return Lt})),n.d(e,"css",(function(){return bt})),n.d(e,"isStyledComponent",(function(){return _})),n.d(e,"keyframes",(function(){return zt})),n.d(e,"useTheme",(function(){return Ut})),n.d(e,"version",(function(){return w})),n.d(e,"withTheme",(function(){return Bt}));var r=n(423),i=n(1),o=n.n(i),a=n(644),s=n.n(a),u=n(645),c=n(646),l=n(427),f=n(147),h=n.n(f);function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var d=function(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n},y=function(t){return null!==t&&"object"==typeof t&&"[object Object]"===(t.toString?t.toString():Object.prototype.toString.call(t))&&!Object(r.typeOf)(t)},v=Object.freeze([]),g=Object.freeze({});function m(t){return"function"==typeof t}function b(t){return t.displayName||t.name||"Component"}function _(t){return t&&"string"==typeof t.styledComponentId}var x="undefined"!=typeof t&&(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",w="5.2.1",E="undefined"!=typeof window&&"HTMLElement"in window,S=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof t&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof t&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY)),k={};function O(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var C=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=t.prototype;return e.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},e.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;t>=i;)(i<<=1)<0&&O(16,""+t);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(t+1),s=0,u=e.length;s<u;s++)this.tag.insertRule(a,e[s])&&(this.groupSizes[t]++,a++)},e.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),r=n+e;this.groupSizes[t]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n,o=r;o<i;o++)e+=this.tag.getRule(o)+"/*!sc*/\n";return e},t}(),P=new Map,T=new Map,M=1,A=function(t){if(P.has(t))return P.get(t);for(;T.has(M);)M++;var e=M++;return P.set(t,e),T.set(e,t),e},I=function(t){return T.get(t)},j=function(t,e){P.set(t,e),T.set(e,t)},R="style["+x+'][data-styled-version="5.2.1"]',D=new RegExp("^"+x+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),N=function(t,e,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&t.registerName(e,r)},L=function(t,e){for(var n=e.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(D);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(j(c,u),N(t,c,s[3]),t.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},z=function(){return n.nc},F=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(t){for(var e=t.childNodes,n=e.length;n>=0;n--){var r=e[n];if(r&&1===r.nodeType&&r.hasAttribute(x))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(x,"active"),r.setAttribute("data-styled-version","5.2.1");var a=z();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},B=function(){function t(t){var e=this.element=F(t);e.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,n=0,r=e.length;n<r;n++){var i=e[n];if(i.ownerNode===t)return i}O(17)}(e),this.length=0}var e=t.prototype;return e.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var e=this.sheet.cssRules[t];return void 0!==e&&"string"==typeof e.cssText?e.cssText:""},t}(),U=function(){function t(t){var e=this.element=F(t);this.nodes=e.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e),r=this.nodes[t];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),q=function(){function t(t){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),V=E,G={isServer:!E,useCSSOMInjection:!S},W=function(){function t(t,e,n){void 0===t&&(t=g),void 0===e&&(e={}),this.options=p({},G,{},t),this.gs=e,this.names=new Map(n),!this.options.isServer&&E&&V&&(V=!1,function(t){for(var e=document.querySelectorAll(R),n=0,r=e.length;n<r;n++){var i=e[n];i&&"active"!==i.getAttribute(x)&&(L(t,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}t.registerId=function(t){return A(t)};var e=t.prototype;return e.reconstructWithOptions=function(e,n){return void 0===n&&(n=!0),new t(p({},this.options,{},e),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(n=(e=this.options).isServer,r=e.useCSSOMInjection,i=e.target,t=n?new q(i):r?new B(i):new U(i),new C(t)));var t,e,n,r,i},e.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},e.registerName=function(t,e){if(A(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},e.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(A(t),n)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(A(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var e=t.getTag(),n=e.length,r="",i=0;i<n;i++){var o=I(i);if(void 0!==o){var a=t.names.get(o),s=e.getGroup(i);if(void 0!==a&&0!==s.length){var u=x+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(t){t.length>0&&(c+=t+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},t}(),H=/(a)(d)/gi,K=function(t){return String.fromCharCode(t+(t>25?39:97))};function X(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=K(e%52)+n;return(K(e%52)+n).replace(H,"$1-$2")}var Y=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Z=function(t){return Y(5381,t)};function $(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(m(n)&&!_(n))return!1}return!0}var J=Z("5.2.1"),Q=function(){function t(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&$(t),this.componentId=e,this.baseHash=Y(J,e),this.baseStyle=n,W.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,e,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=mt(this.rules,t,e,n).join(""),a=X(Y(this.baseHash,o.length)>>>0);if(!e.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);e.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Y(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var p=mt(h,t,e,n),d=Array.isArray(p)?p.join(""):p;c=Y(c,d+f),l+=d}}if(l){var y=X(c>>>0);if(!e.hasNameForId(r,y)){var v=n(l,"."+y,void 0,r);e.insertRules(r,y,v)}i.push(y)}}return i.join(" ")},t}(),tt=/^\s*\/\/.*$/gm,et=[":","[",".","#"];function nt(t){var e,n,r,i,o=void 0===t?g:t,a=o.options,s=void 0===a?g:a,c=o.plugins,l=void 0===c?v:c,f=new u.a(s),h=[],p=function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(n,r,i,o,a,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return t(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return t(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(e)}}}((function(t){h.push(t)})),d=function(t,r,o){return 0===r&&et.includes(o[n.length])||o.match(i)?t:"."+e};function y(t,o,a,s){void 0===s&&(s="&");var u=t.replace(tt,""),c=o&&a?a+" "+o+" { "+u+" }":u;return e=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(a||!o?"":o,c)}return f.use([].concat(l,[function(t,e,i){2===t&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},p,function(t){if(-2===t){var e=h;return h=[],e}}])),y.hash=l.length?l.reduce((function(t,e){return e.name||O(15),Y(t,e.name)}),5381).toString():"",y}var rt=o.a.createContext(),it=rt.Consumer,ot=o.a.createContext(),at=(ot.Consumer,new W),st=nt();function ut(){return Object(i.useContext)(rt)||at}function ct(){return Object(i.useContext)(ot)||st}function lt(t){var e=Object(i.useState)(t.stylisPlugins),n=e[0],r=e[1],a=ut(),u=Object(i.useMemo)((function(){var e=a;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),c=Object(i.useMemo)((function(){return nt({options:{prefix:!t.disableVendorPrefixes},plugins:n})}),[t.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,t.stylisPlugins)||r(t.stylisPlugins)}),[t.stylisPlugins]),o.a.createElement(rt.Provider,{value:u},o.a.createElement(ot.Provider,{value:c},t.children))}var ft=function(){function t(t,e){var n=this;this.inject=function(t,e){void 0===e&&(e=st);var r=n.name+e.hash;t.hasNameForId(n.id,r)||t.insertRules(n.id,r,e(n.rules,r,"@keyframes"))},this.toString=function(){return O(12,String(n.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=e}return t.prototype.getName=function(t){return void 0===t&&(t=st),this.name+t.hash},t}(),ht=/([A-Z])/,pt=/([A-Z])/g,dt=/^ms-/,yt=function(t){return"-"+t.toLowerCase()};function vt(t){return ht.test(t)?t.replace(pt,yt).replace(dt,"-ms-"):t}var gt=function(t){return null==t||!1===t||""===t};function mt(t,e,n,r){if(Array.isArray(t)){for(var i,o=[],a=0,s=t.length;a<s;a+=1)""!==(i=mt(t[a],e,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return gt(t)?"":_(t)?"."+t.styledComponentId:m(t)?"function"!=typeof(u=t)||u.prototype&&u.prototype.isReactComponent||!e?t:mt(t(e),e,n,r):t instanceof ft?n?(t.inject(n,r),t.getName(r)):t:y(t)?function t(e,n){var r,i,o=[];for(var a in e)e.hasOwnProperty(a)&&!gt(e[a])&&(y(e[a])?o.push.apply(o,t(e[a],a)):m(e[a])?o.push(vt(a)+":",e[a],";"):o.push(vt(a)+": "+(r=a,(null==(i=e[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(t):t.toString();var u}function bt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return m(t)||y(t)?mt(d(v,[t].concat(n))):0===n.length&&1===t.length&&"string"==typeof t[0]?t:mt(d(t,n))}new Set;var _t=function(t,e,n){return void 0===n&&(n=g),t.theme!==n.theme&&t.theme||e||n.theme},xt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,wt=/(^-|-$)/g;function Et(t){return t.replace(xt,"-").replace(wt,"")}var St=function(t){return X(Z(t)>>>0)};function kt(t){return"string"==typeof t&&!0}var Ot=function(t){return"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},Ct=function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t};function Pt(t,e,n){var r=t[n];Ot(e)&&Ot(r)?Tt(r,e):t[n]=e}function Tt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Ot(a))for(var s in a)Ct(s)&&Pt(t,a[s],s)}return t}var Mt=o.a.createContext(),At=Mt.Consumer;function It(t){var e=Object(i.useContext)(Mt),n=Object(i.useMemo)((function(){return function(t,e){return t?m(t)?t(e):Array.isArray(t)||"object"!=typeof t?O(8):e?p({},e,{},t):t:O(14)}(t.theme,e)}),[t.theme,e]);return t.children?o.a.createElement(Mt.Provider,{value:n},t.children):null}var jt={};function Rt(t,e,n){var r=_(t),a=!kt(t),s=e.attrs,u=void 0===s?v:s,c=e.componentId,f=void 0===c?function(t,e){var n="string"!=typeof t?"sc":Et(t);jt[n]=(jt[n]||0)+1;var r=n+"-"+St("5.2.1"+n+jt[n]);return e?e+"-"+r:r}(e.displayName,e.parentComponentId):c,d=e.displayName,y=void 0===d?function(t){return kt(t)?"styled."+t:"Styled("+b(t)+")"}(t):d,x=e.displayName&&e.componentId?Et(e.displayName)+"-"+e.componentId:e.componentId||f,w=r&&t.attrs?Array.prototype.concat(t.attrs,u).filter(Boolean):u,E=e.shouldForwardProp;r&&t.shouldForwardProp&&(E=e.shouldForwardProp?function(n,r){return t.shouldForwardProp(n,r)&&e.shouldForwardProp(n,r)}:t.shouldForwardProp);var S,k=new Q(n,x,r?t.componentStyle:void 0),O=k.isStatic&&0===u.length,C=function(t,e){return function(t,e,n,r){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,u=t.foldedComponentIds,c=t.shouldForwardProp,f=t.styledComponentId,h=t.target,d=function(t,e,n){void 0===t&&(t=g);var r=p({},e,{theme:t}),i={};return n.forEach((function(t){var e,n,o,a=t;for(e in m(a)&&(a=a(r)),a)r[e]=i[e]="className"===e?(n=i[e],o=a[e],n&&o?n+" "+o:n||o):a[e]})),[r,i]}(_t(e,Object(i.useContext)(Mt),s)||g,e,o),y=d[0],v=d[1],b=function(t,e,n,r){var i=ut(),o=ct();return e?t.generateAndInjectStyles(g,i,o):t.generateAndInjectStyles(n,i,o)}(a,r,y),_=n,x=v.$as||e.$as||v.as||e.as||h,w=kt(x),E=v!==e?p({},e,{},v):e,S={};for(var k in E)"$"!==k[0]&&"as"!==k&&("forwardedAs"===k?S.as=E[k]:(c?c(k,l.a):!w||Object(l.a)(k))&&(S[k]=E[k]));return e.style&&v.style!==e.style&&(S.style=p({},e.style,{},v.style)),S.className=Array.prototype.concat(u,f,b!==f?b:null,e.className,v.className).filter(Boolean).join(" "),S.ref=_,Object(i.createElement)(x,S)}(S,t,e,O)};return C.displayName=y,(S=o.a.forwardRef(C)).attrs=w,S.componentStyle=k,S.displayName=y,S.shouldForwardProp=E,S.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):v,S.styledComponentId=x,S.target=r?t.target:t,S.withComponent=function(t){var r=e.componentId,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["componentId"]),o=r&&r+"-"+(kt(t)?t:Et(b(t)));return Rt(t,p({},i,{attrs:w,componentId:o}),n)},Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?Tt({},t.defaultProps,e):e}}),S.toString=function(){return"."+S.styledComponentId},a&&h()(S,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),S}var Dt=function(t){return function t(e,n,i){if(void 0===i&&(i=g),!Object(r.isValidElementType)(n))return O(1,String(n));var o=function(){return e(n,i,bt.apply(void 0,arguments))};return o.withConfig=function(r){return t(e,n,p({},i,{},r))},o.attrs=function(r){return t(e,n,p({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Rt,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){Dt[t]=Dt(t)}));var Nt=function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=$(t),W.registerId(this.componentId+1)}var e=t.prototype;return e.createStyles=function(t,e,n,r){var i=r(mt(this.rules,e,n,r).join(""),""),o=this.componentId+t;n.insertRules(o,o,i)},e.removeStyles=function(t,e){e.clearRules(this.componentId+t)},e.renderStyles=function(t,e,n,r){t>2&&W.registerId(this.componentId+t),this.removeStyles(t,n),this.createStyles(t,e,n,r)},t}();function Lt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var a=bt.apply(void 0,[t].concat(n)),s="sc-global-"+St(JSON.stringify(a)),u=new Nt(a,s);function c(t){var e=ut(),n=ct(),r=Object(i.useContext)(Mt),o=Object(i.useRef)(e.allocateGSInstance(s)).current;return Object(i.useLayoutEffect)((function(){return l(o,t,e,r,n),function(){return u.removeStyles(o,e)}}),[o,t,e,r,n]),null}function l(t,e,n,r,i){if(u.isStatic)u.renderStyles(t,k,n,i);else{var o=p({},e,{theme:_t(e,r,c.defaultProps)});u.renderStyles(t,o,n,i)}}return o.a.memo(c)}function zt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=bt.apply(void 0,[t].concat(n)).join(""),o=St(i);return new ft(o,i)}var Ft=function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=z();return"<style "+[n&&'nonce="'+n+'"',x+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?O(2):t._emitSheetCSS()},this.getStyleElement=function(){var e;if(t.sealed)return O(2);var n=((e={})[x]="",e["data-styled-version"]="5.2.1",e.dangerouslySetInnerHTML={__html:t.instance.toString()},e),r=z();return r&&(n.nonce=r),[o.a.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var e=t.prototype;return e.collectStyles=function(t){return this.sealed?O(2):o.a.createElement(lt,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return O(3)},t}(),Bt=function(t){var e=o.a.forwardRef((function(e,n){var r=Object(i.useContext)(Mt),a=t.defaultProps,s=_t(e,r,a);return o.a.createElement(t,p({},e,{theme:s,ref:n}))}));return h()(e,t),e.displayName="WithTheme("+b(t)+")",e},Ut=function(){return Object(i.useContext)(Mt)},qt={StyleSheet:W,masterSheet:at};e.default=Dt}.call(this,n(153))},function(t,e,n){"use strict";function r(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(309);var i=n(143),o=n(310);function a(t,e){return Object(r.a)(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||Object(i.a)(t,e)||Object(o.a)()}},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return i}));var r=n(1);function i(t,e){var n=Object(r.useState)((function(){return{inputs:e,result:t()}}))[0],i=Object(r.useRef)(n),o=Boolean(e&&i.current.inputs&&function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(e,i.current.inputs))?i.current:{inputs:e,result:t()};return Object(r.useEffect)((function(){i.current=o}),[o]),o.result}function o(t,e){return i((function(){return t}),e)}var a=i,s=o},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";e.a=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}t.exports=n},,function(t,e,n){t.exports=n(690)},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},,function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"Provider",(function(){return l})),n.d(e,"connectAdvanced",(function(){return S})),n.d(e,"ReactReduxContext",(function(){return o})),n.d(e,"connect",(function(){return U})),n.d(e,"batch",(function(){return $.unstable_batchedUpdates})),n.d(e,"useDispatch",(function(){return H})),n.d(e,"createDispatchHook",(function(){return W})),n.d(e,"useSelector",(function(){return Z})),n.d(e,"createSelectorHook",(function(){return X})),n.d(e,"useStore",(function(){return G})),n.d(e,"createStoreHook",(function(){return V})),n.d(e,"shallowEqual",(function(){return O}));var r=n(1),i=n.n(r),o=(n(2),i.a.createContext(null));var a=function(t){t()},s={notify:function(){}};function u(){var t=a,e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var r=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var c=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=u())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},t}();var l=function(t){var e=t.store,n=t.context,a=t.children,s=Object(r.useMemo)((function(){var t=new c(e);return t.onStateChange=t.notifyNestedSubs,{store:e,subscription:t}}),[e]),u=Object(r.useMemo)((function(){return e.getState()}),[e]);Object(r.useEffect)((function(){var t=s.subscription;return t.trySubscribe(),u!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[s,u]);var l=n||o;return i.a.createElement(l.Provider,{value:s},a)},f=n(17),h=n(54),p=n(147),d=n.n(p),y=n(629),v="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,g=[],m=[null,null];function b(t,e){var n=t[1];return[e.payload,n+1]}function _(t,e,n){v((function(){return t.apply(void 0,e)}),n)}function x(t,e,n,r,i,o,a){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,a())}function w(t,e,n,r,i,o,a,s,u,c){if(t){var l=!1,f=null,h=function(){if(!l){var t,n,h=e.getState();try{t=r(h,i.current)}catch(p){n=p,f=p}n||(f=null),t===o.current?a.current||u():(o.current=t,s.current=t,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var E=function(){return[null,0]};function S(t,e){void 0===e&&(e={});var n=e,a=n.getDisplayName,s=void 0===a?function(t){return"ConnectAdvanced("+t+")"}:a,u=n.methodName,l=void 0===u?"connectAdvanced":u,p=n.renderCountProp,v=void 0===p?void 0:p,S=n.shouldHandleStateChanges,k=void 0===S||S,O=n.storeKey,C=void 0===O?"store":O,P=(n.withRef,n.forwardRef),T=void 0!==P&&P,M=n.context,A=void 0===M?o:M,I=Object(h.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),j=A;return function(e){var n=e.displayName||e.name||"Component",o=s(n),a=Object(f.a)({},I,{getDisplayName:s,methodName:l,renderCountProp:v,shouldHandleStateChanges:k,storeKey:C,displayName:o,wrappedComponentName:n,WrappedComponent:e}),u=I.pure;var p=u?r.useMemo:function(t){return t()};function S(n){var o=Object(r.useMemo)((function(){var t=n.reactReduxForwardedRef,e=Object(h.a)(n,["reactReduxForwardedRef"]);return[n.context,t,e]}),[n]),s=o[0],u=o[1],l=o[2],d=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(y.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:j}),[s,j]),v=Object(r.useContext)(d),S=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(v)&&Boolean(v.store);var O=S?n.store:v.store,C=Object(r.useMemo)((function(){return function(e){return t(e.dispatch,a)}(O)}),[O]),P=Object(r.useMemo)((function(){if(!k)return m;var t=new c(O,S?null:v.subscription),e=t.notifyNestedSubs.bind(t);return[t,e]}),[O,S,v]),T=P[0],M=P[1],A=Object(r.useMemo)((function(){return S?v:Object(f.a)({},v,{subscription:T})}),[S,v,T]),I=Object(r.useReducer)(b,g,E),R=I[0][0],D=I[1];if(R&&R.error)throw R.error;var N=Object(r.useRef)(),L=Object(r.useRef)(l),z=Object(r.useRef)(),F=Object(r.useRef)(!1),B=p((function(){return z.current&&l===L.current?z.current:C(O.getState(),l)}),[O,R,l]);_(x,[L,N,F,l,B,z,M]),_(w,[k,O,T,C,L,N,F,z,M,D],[O,T,C]);var U=Object(r.useMemo)((function(){return i.a.createElement(e,Object(f.a)({},B,{ref:u}))}),[u,e,B]);return Object(r.useMemo)((function(){return k?i.a.createElement(d.Provider,{value:A},U):U}),[d,U,A])}var O=u?i.a.memo(S):S;if(O.WrappedComponent=e,O.displayName=o,T){var P=i.a.forwardRef((function(t,e){return i.a.createElement(O,Object(f.a)({},t,{reactReduxForwardedRef:e}))}));return P.displayName=o,P.WrappedComponent=e,d()(P,e)}return d()(O,e)}}function k(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function O(t,e){if(k(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!k(t[n[i]],e[n[i]]))return!1;return!0}var C=n(94);function P(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function T(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function M(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=T(t);var i=r(e,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=T(i),i=r(e,n)),i},r}}var A=[function(t){return"function"===typeof t?M(t):void 0},function(t){return t?void 0:P((function(t){return{dispatch:t}}))},function(t){return t&&"object"===typeof t?P((function(e){return Object(C.b)(t,e)})):void 0}];var I=[function(t){return"function"===typeof t?M(t):void 0},function(t){return t?void 0:P((function(){return{}}))}];function j(t,e,n){return Object(f.a)({},n,t,e)}var R=[function(t){return"function"===typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var u=t(e,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return j}}];function D(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function N(t,e,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,p=!1;function d(i,p){var d=!f(p,a),y=!l(i,o);return o=i,a=p,d&&y?(s=t(o,a),e.dependsOnOwnProps&&(u=e(r,a)),c=n(s,u,a)):d?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(u=e(r,a)),c=n(s,u,a)):y?function(){var e=t(o,a),r=!h(e,s);return s=e,r&&(c=n(s,u,a)),c}():c}return function(i,l){return p?d(i,l):(s=t(o=i,a=l),u=e(r,a),c=n(s,u,a),p=!0,c)}}function L(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=Object(h.a)(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),u=i(t,o);return(o.pure?N:D)(a,s,u,t,o)}function z(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function F(t,e){return t===e}function B(t){var e=void 0===t?{}:t,n=e.connectHOC,r=void 0===n?S:n,i=e.mapStateToPropsFactories,o=void 0===i?I:i,a=e.mapDispatchToPropsFactories,s=void 0===a?A:a,u=e.mergePropsFactories,c=void 0===u?R:u,l=e.selectorFactory,p=void 0===l?L:l;return function(t,e,n,i){void 0===i&&(i={});var a=i,u=a.pure,l=void 0===u||u,d=a.areStatesEqual,y=void 0===d?F:d,v=a.areOwnPropsEqual,g=void 0===v?O:v,m=a.areStatePropsEqual,b=void 0===m?O:m,_=a.areMergedPropsEqual,x=void 0===_?O:_,w=Object(h.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=z(t,o,"mapStateToProps"),S=z(e,s,"mapDispatchToProps"),k=z(n,c,"mergeProps");return r(p,Object(f.a)({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:E,initMapDispatchToProps:S,initMergeProps:k,pure:l,areStatesEqual:y,areOwnPropsEqual:g,areStatePropsEqual:b,areMergedPropsEqual:x},w))}}var U=B();function q(){return Object(r.useContext)(o)}function V(t){void 0===t&&(t=o);var e=t===o?q:function(){return Object(r.useContext)(t)};return function(){return e().store}}var G=V();function W(t){void 0===t&&(t=o);var e=t===o?G:V(t);return function(){return e().dispatch}}var H=W(),K=function(t,e){return t===e};function X(t){void 0===t&&(t=o);var e=t===o?q:function(){return Object(r.useContext)(t)};return function(t,n){void 0===n&&(n=K);var i=e(),o=function(t,e,n,i){var o,a=Object(r.useReducer)((function(t){return t+1}),0)[1],s=Object(r.useMemo)((function(){return new c(n,i)}),[n,i]),u=Object(r.useRef)(),l=Object(r.useRef)(),f=Object(r.useRef)(),h=Object(r.useRef)(),p=n.getState();try{o=t!==l.current||p!==f.current||u.current?t(p):h.current}catch(d){throw u.current&&(d.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),d}return v((function(){l.current=t,f.current=p,h.current=o,u.current=void 0})),v((function(){function t(){try{var t=l.current(n.getState());if(e(t,h.current))return;h.current=t}catch(d){u.current=d}a()}return s.onStateChange=t,s.trySubscribe(),t(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(t,n,i.store,i.subscription);return Object(r.useDebugValue)(o),o}}var Y,Z=X(),$=n(82);Y=$.unstable_batchedUpdates,a=Y},function(t,e,n){"use strict";var r=n(1038),i=n(228),o=n(89),a=n(1054),s=n(161),u=n(391),c=n(393),l=n(576),f=n(1055),h=n(592),p=n(283),d=n(75),y=n(574),v=n(55),g=n(399),m=n(1120),b=n(603),_=n(284),x=n(1121),w=n(1124),E=n(110),S=n(604),k=n(1130),O={Editor:f,EditorBlock:h,EditorState:v,CompositeDecorator:a,Entity:p,EntityInstance:y,BlockMapBuilder:i,CharacterMetadata:o,ContentBlock:s,ContentState:u,RawDraftContentState:m,SelectionState:_,AtomicBlockUtils:r,KeyBindingUtil:g,Modifier:d,RichUtils:b,DefaultDraftBlockRenderMap:c,DefaultDraftInlineStyle:l,convertFromHTML:n(601),convertFromRaw:w,convertToRaw:x,genKey:E,getDefaultKeyBinding:S,getVisibleSelectionRect:k};t.exports=O},function(t,e,n){"use strict";var r=n(331);e.a=function(t){return Object(r.b)(t[t.length-1])}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Vn})),n.d(e,"b",(function(){return wn})),n.d(e,"c",(function(){return En})),n.d(e,"d",(function(){return zn})),n.d(e,"e",(function(){return Mn})),n.d(e,"f",(function(){return tr})),n.d(e,"g",(function(){return Ie})),n.d(e,"h",(function(){return Cn})),n.d(e,"i",(function(){return Hn})),n.d(e,"j",(function(){return Wn})),n.d(e,"k",(function(){return Zn})),n.d(e,"l",(function(){return Yn})),n.d(e,"m",(function(){return _n})),n.d(e,"n",(function(){return Tn})),n.d(e,"o",(function(){return Pn})),n.d(e,"p",(function(){return An})),n.d(e,"q",(function(){return Se})),n.d(e,"r",(function(){return pn})),n.d(e,"s",(function(){return Ee})),n.d(e,"t",(function(){return mn})),n.d(e,"u",(function(){return dn})),n.d(e,"v",(function(){return Gn})),n.d(e,"w",(function(){return Kn})),n.d(e,"x",(function(){return Xn}));var r=n(1),i=n.n(r),o=n(115),a=n(2),s=n.n(a),u=n(633),c=n.n(u),l=n(71),f=n.n(l),h=n(152),p=n.n(h),d=n(410),y=n(79),v=n(97),g=n(412),m=n.n(g),b=n(27),_=n.n(b),x=(n(66),n(312),n(126)),w=(n(91),n(429)),E=n(430),S=n(431),k=n(432),O=n(433),C=n(434),P=n(435),T=n(436),M=n(437),A=n(438),I=n(439),j=n(440),R=n(441),D=n(442),N=n(443),L=n(444),z=n(445),F=n(446),B=n(447),U=n(448),q=n(449),V=n(450),G=n(451),W=n(452),H=n(453),K=n(454),X=n(455),Y=n(1181),Z=n(1182),$=n(1183),J=n(1184),Q=n(1185),tt=n(1186),et=n(1187),nt=n(1188),rt=n(659),it=n(332),ot=n(456),at=n(1189),st=n(1190),ut=n(83),ct=n.n(ut),lt=n(413),ft=n.n(lt),ht=n(149),pt=n(1191),dt=n(1192),yt=n(1193),vt=n(172),gt=n(415),mt=n(416),bt=n(241),_t=n(1194),xt=n(1195),wt=n(1196),Et=n(1197),St=n(660),kt=n(1198),Ot=n(458),Ct=n(238),Pt=n(1199),Tt=n(1213),Mt=n(173),At=n(1200),It=n(1201),jt=n(1202),Rt=n(174),Dt=n(1203),Nt=n(1204),Lt=n(1205),zt=n(175),Ft=n(176),Bt=n(1206),Ut=n(326),qt=n(1207),Vt=(n(1209),n(661)),Gt=n(1210),Wt=(n(634),n(414)),Ht=n.n(Wt),Kt=n(180),Xt=n.n(Kt),Yt=n(242),Zt=n.n(Yt),$t=n(211),Jt=n.n($t),Qt=n(80),te=n.n(Qt),ee=n(92),ne=n.n(ee),re=n(635),ie=n.n(re);function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(n),!0).forEach((function(e){oe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ue={fill:s.a.string,fontSize:s.a.number,fontFamily:s.a.string},ce=s.a.shape({domain:s.a.shape({line:s.a.shape({stroke:s.a.string.isRequired,strokeWidth:s.a.number.isRequired,strokeDasharray:s.a.string}).isRequired}).isRequired,ticks:s.a.shape({line:s.a.shape({stroke:s.a.string.isRequired,strokeWidth:s.a.number.isRequired,strokeDasharray:s.a.string}).isRequired,text:s.a.shape(se({},ue)).isRequired}).isRequired,legend:s.a.shape({text:s.a.shape(se({},ue)).isRequired}).isRequired}),le=s.a.shape({line:s.a.shape({stroke:s.a.string.isRequired,strokeWidth:s.a.number.isRequired,strokeDasharray:s.a.string}).isRequired}),fe=s.a.shape({text:s.a.shape(se({},ue)).isRequired}),he=s.a.shape({text:s.a.shape(se({},ue)).isRequired}),pe=s.a.shape({text:s.a.shape(se({},ue)).isRequired}),de=s.a.shape({text:s.a.shape(se({},ue)).isRequired}),ye=s.a.shape({line:s.a.shape({stroke:s.a.string.isRequired,strokeWidth:s.a.number.isRequired,strokeDasharray:s.a.string}).isRequired}),ve=s.a.shape({text:s.a.shape(se(se({},ue),{},{outlineWidth:s.a.number.isRequired,outlineColor:s.a.string.isRequired})).isRequired,link:s.a.shape({stroke:s.a.string.isRequired,strokeWidth:s.a.number.isRequired,outlineWidth:s.a.number.isRequired,outlineColor:s.a.string.isRequired}).isRequired,outline:s.a.shape({stroke:s.a.string.isRequired,strokeWidth:s.a.number.isRequired,outlineWidth:s.a.number.isRequired,outlineColor:s.a.string.isRequired}).isRequired,symbol:s.a.shape({fill:s.a.string.isRequired,outlineWidth:s.a.number.isRequired,outlineColor:s.a.string.isRequired}).isRequired}),ge=(s.a.shape({background:s.a.string.isRequired,fontFamily:s.a.string.isRequired,fontSize:s.a.number.isRequired,textColor:s.a.string.isRequired,axis:ce.isRequired,grid:le.isRequired,legends:fe.isRequired,labels:he.isRequired,dots:pe.isRequired,markers:de,crosshair:ye.isRequired,annotations:ve.isRequired}),{background:"transparent",fontFamily:"sans-serif",fontSize:11,textColor:"#333333",axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{text:{}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff"},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff"},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff"},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff"}}}),me=["axis.ticks.text","axis.legend.text","legends.text","labels.text","dots.text","markers.text","annotations.text"],be=function(t,e){var n=c()({},t,e);return me.forEach((function(t){void 0===f()(n,"".concat(t,".fontFamily"))&&p()(n,"".concat(t,".fontFamily"),n.fontFamily),void 0===f()(n,"".concat(t,".fontSize"))&&p()(n,"".concat(t,".fontSize"),n.fontSize),void 0===f()(n,"".concat(t,".fill"))&&p()(n,"".concat(t,".fill"),n.textColor)})),n},_e=Object(r.createContext)(),xe=function(t){var e=t.children,n=t.animate,o=t.stiffness,a=t.damping,s=t.config,u=Object(r.useMemo)((function(){var t=m()(s)?y.config[s]:s;return{animate:n,springConfig:{stiffness:o,damping:a},config:t}}),[n,o,a,s]);return i.a.createElement(_e.Provider,{value:u},e)},we={animate:s.a.bool,motionStiffness:s.a.number,motionDamping:s.a.number,motionConfig:s.a.oneOfType([s.a.oneOf(Object.keys(y.config)),s.a.shape({mass:s.a.number,tension:s.a.number,friction:s.a.number,clamp:s.a.bool,precision:s.a.number,velocity:s.a.number,duration:s.a.number,easing:s.a.func})])};xe.defaultProps={animate:!0,stiffness:90,damping:15,config:"default"};var Ee=function(){return Object(r.useContext)(_e)},Se=function(t){var e=Ee(),n=e.animate,i=e.config,o=function(t){var e=Object(r.useRef)();return Object(r.useEffect)((function(){e.current=t}),[t]),e.current}(t),a=Object(r.useMemo)((function(){return Object(d.a)(o,t)}),[o,t]),s=Object(y.useSpring)({from:{value:0},to:{value:1},reset:!0,config:i,immediate:!n}).value;return Object(y.to)(s,a)},ke={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:_()(w.b),PRGn:_()(E.b),PiYG:_()(S.b),PuOr:_()(k.b),RdBu:_()(O.b),RdGy:_()(C.b),RdYlBu:_()(P.b),RdYlGn:_()(T.b),spectral:_()(M.b),blues:_()(A.b),greens:_()(I.b),greys:_()(j.b),oranges:_()(R.b),purples:_()(D.b),reds:_()(N.b),BuGn:_()(L.b),BuPu:_()(z.b),GnBu:_()(F.b),OrRd:_()(B.b),PuBuGn:_()(U.b),PuBu:_()(q.b),PuRd:_()(V.b),RdPu:_()(G.b),YlGnBu:_()(W.b),YlGn:_()(H.b),YlOrBr:_()(K.b),YlOrRd:_()(X.b)},Oe=Object.keys(ke),Ce=(Y.a,Z.a,$.a,J.a,Q.a,tt.a,et.a,nt.a,rt.a,_()(w.b),_()(E.b),_()(S.b),_()(k.b),_()(O.b),_()(C.b),_()(P.b),_()(T.b),_()(M.b),_()(A.b),_()(I.b),_()(j.b),_()(R.b),_()(D.b),_()(N.b),_()(L.b),_()(z.b),_()(F.b),_()(B.b),_()(U.b),_()(q.b),_()(V.b),_()(G.b),_()(W.b),_()(H.b),_()(K.b),_()(X.b),w.a,E.a,S.a,k.a,O.a,C.a,P.a,T.a,M.a,A.a,I.a,j.a,R.a,D.a,N.a,it.a,it.b,it.c,it.d,ot.c,ot.a,at.a,L.a,z.a,F.a,B.a,U.a,q.a,V.a,G.a,W.a,H.a,K.a,X.a,ot.b,st.a,s.a.oneOfType([s.a.oneOf(Oe),s.a.func,s.a.arrayOf(s.a.string)]),{basis:ht.b,basisClosed:pt.a,basisOpen:dt.a,bundle:yt.a,cardinal:vt.b,cardinalClosed:gt.b,cardinalOpen:mt.b,catmullRom:bt.a,catmullRomClosed:_t.a,catmullRomOpen:xt.a,linear:wt.a,linearClosed:Et.a,monotoneX:St.a,monotoneY:St.b,natural:kt.a,step:Ot.a,stepAfter:Ot.b,stepBefore:Ot.c}),Pe=Object.keys(Ce),Te=(s.a.oneOf(Pe),Pe.filter((function(t){return t.endsWith("Closed")}))),Me=(s.a.oneOf(Te),ft()(Pe,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed")),Ae=(s.a.oneOf(Me),ft()(Pe,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed")),Ie=(s.a.oneOf(Ae),{defs:s.a.arrayOf(s.a.shape({id:s.a.string.isRequired})).isRequired,fill:s.a.arrayOf(s.a.shape({id:s.a.string.isRequired,match:s.a.oneOfType([s.a.oneOf(["*"]),s.a.object,s.a.func]).isRequired})).isRequired}),je={ascending:Ct.a,descending:Pt.a,insideOut:Tt.a,none:Mt.a,reverse:At.a},Re=Object.keys(je),De=(s.a.oneOf(Re),{expand:It.a,diverging:jt.a,none:Rt.a,silhouette:Dt.a,wiggle:Nt.a}),Ne=Object.keys(De),Le=(s.a.oneOf(Ne),{binary:Lt.a,dice:zt.a,slice:Ft.a,sliceDice:Bt.a,squarify:Ut.a,resquarify:qt.a}),ze=Object.keys(Le),Fe=(s.a.oneOf(ze),s.a.shape({top:s.a.number,right:s.a.number,bottom:s.a.number,left:s.a.number}).isRequired),Be=(s.a.oneOf(["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]),Object(x.a)(rt.a),{top:0,right:0,bottom:0,left:0});function Ue(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qe(t,e){if(t){if("string"===typeof t)return Ue(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(t,e):void 0}}function Ve(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||qe(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ge=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),We="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,He="undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Ke="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(He):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var Xe=["top","right","bottom","left","width","height","size","weight"],Ye="undefined"!==typeof MutationObserver,Ze=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){Ke(o)}function s(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=t}return s}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){We&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ye?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){We&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;Xe.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),$e=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Je=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||He},Qe=an(0,0,0,0);function tn(t){return parseFloat(t)||0}function en(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+tn(t["border-"+n+"-width"])}),0)}function nn(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Qe;var r=Je(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=tn(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=tn(r.width),u=tn(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=en(r,"left","right")+o),Math.round(u+a)!==n&&(u-=en(r,"top","bottom")+a)),!function(t){return t===Je(t).document.documentElement}(t)){var c=Math.round(s+o)-e,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return an(i.left,i.top,s,u)}var rn="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof Je(t).SVGGraphicsElement}:function(t){return t instanceof Je(t).SVGElement&&"function"===typeof t.getBBox};function on(t){return We?rn(t)?function(t){var e=t.getBBox();return an(0,0,e.width,e.height)}(t):nn(t):Qe}function an(t,e,n,r){return{x:t,y:e,width:n,height:r}}var sn=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=an(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=on(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),un=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return $e(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);$e(this,{target:t,contentRect:n})},cn=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new Ge,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof Je(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new sn(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof Je(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new un(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),ln="undefined"!==typeof WeakMap?new WeakMap:new Ge,fn=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ze.getInstance(),r=new cn(e,n,this);ln.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){fn.prototype[t]=function(){var e;return(e=ln.get(this))[t].apply(e,arguments)}}));var hn="undefined"!==typeof He.ResizeObserver?He.ResizeObserver:fn,pn=function(){var t=Object(r.useRef)(null),e=Ve(Object(r.useState)({left:0,top:0,width:0,height:0}),2),n=e[0],i=e[1],o=Object(r.useState)((function(){return new hn((function(t){var e=Ve(t,1)[0];return i(e.contentRect)}))})),a=Ve(o,1)[0];return Object(r.useEffect)((function(){return t.current&&a.observe(t.current),function(){return a.disconnect()}}),[]),[t,n]},dn=function(t){return Object(r.useMemo)((function(){return"function"===typeof(e=t)?e:"string"===typeof e?0===e.indexOf("time:")?Object(Gt.a)(e.slice("5")):Object(Vt.a)(e):function(t){return t};var e}),[t])},yn=Object(r.createContext)(),vn={},gn=function(t){var e=t.theme,n=void 0===e?vn:e,o=t.children,a=function(t){return Object(r.useMemo)((function(){return be(ge,t)}),[t])}(n);return i.a.createElement(yn.Provider,{value:a},o)},mn=function(){return Object(r.useContext)(yn)},bn=function(t){var e=t.children,n=t.condition,i=t.wrapper;return n?Object(r.cloneElement)(i,{},e):e},_n=function(){},xn={position:"relative"},wn=function(t){var e=t.children,n=t.theme,a=t.isInteractive,s=void 0===a||a,u=t.renderWrapper,c=void 0===u||u,l=t.animate,f=t.motionStiffness,h=t.motionDamping,p=t.motionConfig,d=Object(r.useRef)(null),y=Object(o.f)(d),v=y.actions,g=y.state,m=Object(r.useCallback)((function(t,e){return v.showTooltipFromEvent(t,e)}),[v.showTooltipFromEvent]),b=Object(r.useMemo)((function(){return{showTooltip:s?m:_n,hideTooltip:s?v.hideTooltip:_n}}),[v.hideTooltip,s,m]);return i.a.createElement(gn,{theme:n},i.a.createElement(xe,{animate:l,stiffness:f,damping:h,config:p},i.a.createElement(o.c.Provider,{value:v},i.a.createElement(o.e.Provider,{value:g},i.a.createElement(bn,{condition:c,wrapper:i.a.createElement("div",{style:xn,ref:d})},e(b),s&&i.a.createElement(o.b,null))))))},En=function(t){var e=t.children,n=Ve(pn(),2),r=n[0],o=n[1],a=o.width>0&&o.height>0;return i.a.createElement("div",{ref:r,style:{width:"100%",height:"100%"}},a&&e({width:o.width,height:o.height}))},Sn={linearGradient:function(t){var e=t.id,n=t.colors;return i.a.createElement("linearGradient",{id:e,x1:0,x2:0,y1:0,y2:1},n.map((function(t){var e=t.offset,n=t.color,r=t.opacity;return i.a.createElement("stop",{key:e,offset:"".concat(e,"%"),stopColor:n,stopOpacity:void 0!==r?r:1})})))}},kn=Object(r.memo)((function(t){var e=t.id,n=t.background,r=t.color,o=t.size,a=t.padding,s=t.stagger,u=o+a,c=o/2,l=a/2;return!0===s&&(u=2*o+2*a),i.a.createElement("pattern",{id:e,width:u,height:u,patternUnits:"userSpaceOnUse"},i.a.createElement("rect",{width:u,height:u,fill:n}),i.a.createElement("circle",{cx:l+c,cy:l+c,r:c,fill:r}),s&&i.a.createElement("circle",{cx:1.5*a+o+c,cy:1.5*a+o+c,r:c,fill:r}))}));kn.displayName="PatternDots",kn.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};function On(t){return function(t){if(Array.isArray(t))return Ue(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||qe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Math.PI;var Cn=function(t){return t*Math.PI/180},Pn=function(t){return 180*t/Math.PI},Tn=function(t,e){return{x:Math.cos(t)*e,y:Math.sin(t)*e}},Mn=function(t){var e=t%360;return e<0&&(e+=360),e},An={svg:{align:{left:"start",center:"middle",right:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},In=Object(r.memo)((function(t){var e=t.id,n=t.spacing,r=t.rotation,o=t.background,a=t.color,s=t.lineWidth,u=Math.round(r)%360,c=Math.abs(n);u>180?u-=360:u>90?u-=180:u<-180?u+=360:u<-90&&(u+=180);var l,f=c,h=c;return 0===u?l="\n                M 0 0 L ".concat(f," 0\n                M 0 ").concat(h," L ").concat(f," ").concat(h,"\n            "):90===u?l="\n                M 0 0 L 0 ".concat(h,"\n                M ").concat(f," 0 L ").concat(f," ").concat(h,"\n            "):(f=Math.abs(c/Math.sin(Cn(u))),h=c/Math.sin(Cn(90-u)),l=u>0?"\n                    M 0 ".concat(-h," L ").concat(2*f," ").concat(h,"\n                    M ").concat(-f," ").concat(-h," L ").concat(f," ").concat(h,"\n                    M ").concat(-f," 0 L ").concat(f," ").concat(2*h,"\n                "):"\n                    M ".concat(-f," ").concat(h," L ").concat(f," ").concat(-h,"\n                    M ").concat(-f," ").concat(2*h," L ").concat(2*f," ").concat(-h,"\n                    M 0 ").concat(2*h," L ").concat(2*f," 0\n                ")),i.a.createElement("pattern",{id:e,width:f,height:h,patternUnits:"userSpaceOnUse"},i.a.createElement("rect",{width:f,height:h,fill:o,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),i.a.createElement("path",{d:l,strokeWidth:s,stroke:a,strokeLinecap:"square"}))}));In.displayName="PatternLines",In.defaultProps={spacing:5,rotation:0,color:"#000000",background:"#ffffff",lineWidth:2};var jn=Object(r.memo)((function(t){var e=t.id,n=t.background,r=t.color,o=t.size,a=t.padding,s=t.stagger,u=o+a,c=a/2;return!0===s&&(u=2*o+2*a),i.a.createElement("pattern",{id:e,width:u,height:u,patternUnits:"userSpaceOnUse"},i.a.createElement("rect",{width:u,height:u,fill:n}),i.a.createElement("rect",{x:c,y:c,width:o,height:o,fill:r}),s&&i.a.createElement("rect",{x:1.5*a+o,y:1.5*a+o,width:o,height:o,fill:r}))}));jn.displayName="PatternSquares",jn.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};var Rn={patternDots:kn,patternLines:In,patternSquares:jn};function Dn(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Nn=se(se({},Sn),Rn),Ln=Object(r.memo)((function(t){var e=t.defs;return!e||e.length<1?null:i.a.createElement("defs",null,e.map((function(t){var e=t.type,n=Dn(t,["type"]);return Nn[e]?i.a.createElement(Nn[e],se({key:n.id},n)):null})))})),zn=function(t){var e=t.width,n=t.height,r=t.margin,o=t.defs,a=t.children,s=t.role,u=mn();return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",role:s,width:e,height:n},i.a.createElement(Ln,{defs:o}),i.a.createElement("rect",{width:e,height:n,fill:u.background}),i.a.createElement("g",{transform:"translate(".concat(r.left,",").concat(r.top,")")},a))},Fn=Object(r.memo)((function(t){var e=t.size,n=t.color,r=t.borderWidth,o=t.borderColor;return i.a.createElement("circle",{r:e/2,fill:n,stroke:o,strokeWidth:r,style:{pointerEvents:"none"}})})),Bn=function(t){var e=t.x,n=t.y,r=t.symbol,o=t.size,a=t.datum,s=t.color,u=t.borderWidth,c=t.borderColor,l=t.label,f=t.labelTextAnchor,h=t.labelYOffset,p=t.theme,d=Ee(),g=d.animate,m=d.config,b=Object(y.useSpring)({transform:"translate(".concat(e,", ").concat(n,")"),config:m,immediate:!g});return i.a.createElement(v.animated.g,{transform:b.transform,style:{pointerEvents:"none"}},i.a.createElement(r,{size:o,color:s,datum:a,borderWidth:u,borderColor:c}),l&&i.a.createElement("text",{textAnchor:f,y:h,style:p.dots.text},l))};Bn.defaultProps={symbol:Fn,labelTextAnchor:"middle",labelYOffset:-12};Object(r.memo)(Bn);var Un=function(t){var e=t.width,n=t.height,r=t.axis,o=t.scale,a=t.value,s=t.lineStyle,u=t.textStyle,c=t.legend,l=t.legendPosition,f=t.legendOffsetX,h=t.legendOffsetY,p=t.legendOrientation,d=mn(),y=0,v=0,g=0,m=0;"y"===r?(g=o(a),v=e):(y=o(a),m=n);var b=null;if(c){var _=function(t){var e=t.axis,n=t.width,r=t.height,i=t.position,o=t.offsetX,a=t.offsetY,s=t.orientation,u=0,c=0,l="vertical"===s?-90:0,f="start";if("x"===e)switch(i){case"top-left":u=-o,c=a,f="end";break;case"top":c=-a,f="horizontal"===s?"middle":"start";break;case"top-right":u=o,c=a,f="horizontal"===s?"start":"end";break;case"right":u=o,c=r/2,f="horizontal"===s?"start":"middle";break;case"bottom-right":u=o,c=r-a,f="start";break;case"bottom":c=r+a,f="horizontal"===s?"middle":"end";break;case"bottom-left":c=r-a,u=-o,f="horizontal"===s?"end":"start";break;case"left":u=-o,c=r/2,f="horizontal"===s?"end":"middle"}else switch(i){case"top-left":u=o,c=-a,f="start";break;case"top":u=n/2,c=-a,f="horizontal"===s?"middle":"start";break;case"top-right":u=n-o,c=-a,f="horizontal"===s?"end":"start";break;case"right":u=n+o,f="horizontal"===s?"start":"middle";break;case"bottom-right":u=n-o,c=a,f="end";break;case"bottom":u=n/2,c=a,f="horizontal"===s?"middle":"end";break;case"bottom-left":u=o,c=a,f="horizontal"===s?"start":"end";break;case"left":u=-o,f="horizontal"===s?"end":"middle"}return{x:u,y:c,rotation:l,textAnchor:f}}({axis:r,width:e,height:n,position:l,offsetX:f,offsetY:h,orientation:p});b=i.a.createElement("text",{transform:"translate(".concat(_.x,", ").concat(_.y,") rotate(").concat(_.rotation,")"),textAnchor:_.textAnchor,dominantBaseline:"central",style:u},c)}return i.a.createElement("g",{transform:"translate(".concat(y,", ").concat(g,")")},i.a.createElement("line",{x1:0,x2:v,y1:0,y2:m,stroke:d.markers.lineColor,strokeWidth:d.markers.lineStrokeWidth,style:s}),b)};Un.defaultProps={legendPosition:"top-right",legendOffsetX:14,legendOffsetY:14,legendOrientation:"horizontal"};var qn=Object(r.memo)(Un),Vn=Object(r.memo)((function(t){var e=t.markers,n=t.width,r=t.height,o=t.xScale,a=t.yScale;return e&&0!==e.length?e.map((function(t,e){return i.a.createElement(qn,Object.assign({key:e},t,{width:n,height:r,scale:"y"===t.axis?a:o}))})):null})),Gn=function(){return Xt()(Jt()({margin:Be}),Zt()({width:s.a.number.isRequired,height:s.a.number.isRequired,margin:Fe}),te()((function(t,e){return t.width!==e.width||t.height!==e.height||!Ht()(t.margin,e.margin)}),(function(t){var e=Object.assign({},Be,t.margin);return{margin:e,width:t.width-e.left-e.right,height:t.height-e.top-e.bottom,outerWidth:t.width,outerHeight:t.height}})))},Wn=function(t,e){var n,r=ct()(t)?t:function(e){return f()(e,t)};return e&&(n=ct()(e)?e:Object(Vt.a)(e)),n?function(t){return n(r(t))}:r},Hn=function(t){return ct()(t)?t:function(e){return f()(e,t)}},Kn=function(){return Xt()(Zt()(we),Jt()({animate:true,motionDamping:15,motionStiffness:90}))},Xn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcKey,n=void 0===e?"theme":e,r=t.destKey,i=void 0===r?"theme":r;return Xt()(Zt()(oe({},n,s.a.object)),te()([n],(function(t){return oe({},i,be(ge,t[n]))})))};var Yn=function(t,e,n,r,i,o){return t<=i&&i<=t+n&&e<=o&&o<=e+r},Zn=function(t,e){var n=e.clientX,r=e.clientY,i=t.getBoundingClientRect();return[n-i.left,r-i.top]},$n=Object.keys(Sn),Jn=Object.keys(Rn),Qn=function(t,e,n){if("*"===t)return!0;if(ct()(t))return t(e);if(ne()(t)){var r=n?f()(e,n):e;return Ht()(ie()(r,Object.keys(t)),t)}return!1},tr=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.dataKey,o=r.colorKey,a=void 0===o?"color":o,s=r.targetKey,u=void 0===s?"fill":s,c=[],l={};return t.length&&e.length&&(c=On(t),e.forEach((function(e){for(var r=function(r){var o=n[r],s=o.id,h=o.match;if(Qn(h,e,i)){var d=t.find((function(t){return t.id===s}));if(d)if(Jn.includes(d.type))if("inherit"===d.background||"inherit"===d.color){var y=f()(e,a),v=d.background,g=d.color,m=s;"inherit"===d.background&&(m="".concat(m,".bg.").concat(y),v=y),"inherit"===d.color&&(m="".concat(m,".fg.").concat(y),g=y),p()(e,u,"url(#".concat(m,")")),l[m]||(c.push(se(se({},d),{},{id:m,background:v,color:g})),l[m]=1)}else p()(e,u,"url(#".concat(s,")"));else if($n.includes(d.type)){if(d.colors.map((function(t){return t.color})).includes("inherit")){var b=f()(e,a),_=s,x=se(se({},d),{},{colors:d.colors.map((function(t,e){return"inherit"!==t.color?t:(_="".concat(_,".").concat(e,".").concat(b),se(se({},t),{},{color:"inherit"===t.color?b:t.color}))}))});x.id=_,p()(e,u,"url(#".concat(_,")")),l[_]||(c.push(x),l[_]=1)}else p()(e,u,"url(#".concat(s,")"))}return"break"}},o=0;o<n.length;o++){if("break"===r(o))break}}))),c}}).call(this,n(53))},function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&t.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(143);function i(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(r.a)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"createStringInterpolator",(function(){return r})),n.d(e,"frameLoop",(function(){return s})),n.d(e,"to",(function(){return i})),n.d(e,"now",(function(){return u})),n.d(e,"colorNames",(function(){return c})),n.d(e,"skipAnimation",(function(){return l})),n.d(e,"requestAnimationFrame",(function(){return f})),n.d(e,"batchedUpdates",(function(){return h})),n.d(e,"willAdvance",(function(){return p})),n.d(e,"assign",(function(){return d}));var r,i,o=n(233),a=n(10),s=new o.a,u=function(){return performance.now()},c=null,l=!1,f="undefined"!==typeof window?window.requestAnimationFrame:function(){return-1},h=function(t){return t()},p=a.g,d=function(t){var e;return e=Object.assign({to:i,now:u,frameLoop:s,colorNames:c,skipAnimation:l,createStringInterpolator:r,requestAnimationFrame:f,batchedUpdates:h,willAdvance:p},function(t){var e={};for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}(t)),i=e.to,u=e.now,s=e.frameLoop,c=e.colorNames,l=e.skipAnimation,r=e.createStringInterpolator,f=e.requestAnimationFrame,h=e.batchedUpdates,p=e.willAdvance,e}},function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return l}));var r=n(4);function i(t){return[Object(r.e)(t[1],t[0]),Object(r.c)(t[2])]}function o(t){var e=t[0],n=t[1],i=Object(r.g)(n);return[i*Object(r.g)(e),i*Object(r.t)(e),Object(r.t)(n)]}function a(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function s(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function u(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function c(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function l(t){var e=Object(r.u)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}},function(t,e,n){"use strict";function r(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function i(t,e){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof e?this.interpolator(e):this.range(e)}return this}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}))},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(319);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:K(t)}function r(t){return s(t)?t:X(t)}function i(t){return u(t)?t:Y(t)}function o(t){return a(t)&&!c(t)?t:Z(t)}function a(t){return!(!t||!t[f])}function s(t){return!(!t||!t[h])}function u(t){return!(!t||!t[p])}function c(t){return s(t)||u(t)}function l(t){return!(!t||!t[d])}e(r,n),e(i,n),e(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",y="delete",v=5,g=1<<v,m=g-1,b={},_={value:!1},x={value:!1};function w(t){return t.value=!1,t}function E(t){t&&(t.value=!0)}function S(){}function k(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function O(t){return void 0===t.size&&(t.size=t.__iterate(P)),t.size}function C(t,e){if("number"!==typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?O(t)+e:e}function P(){return!0}function T(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function M(t,e){return I(t,e,0)}function A(t,e){return I(t,e,e)}function I(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var j=0,R=1,D=2,N="function"===typeof Symbol&&Symbol.iterator,L="@@iterator",z=N||L;function F(t){this.next=t}function B(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function U(){return{value:void 0,done:!0}}function q(t){return!!W(t)}function V(t){return t&&"function"===typeof t.next}function G(t){var e=W(t);return e&&e.call(t)}function W(t){var e=t&&(N&&t[N]||t[L]);if("function"===typeof e)return e}function H(t){return t&&"number"===typeof t.length}function K(t){return null===t||void 0===t?at():a(t)?t.toSeq():ct(t)}function X(t){return null===t||void 0===t?at().toKeyedSeq():a(t)?s(t)?t.toSeq():t.fromEntrySeq():st(t)}function Y(t){return null===t||void 0===t?at():a(t)?s(t)?t.entrySeq():t.toIndexedSeq():ut(t)}function Z(t){return(null===t||void 0===t?at():a(t)?s(t)?t.entrySeq():t:ut(t)).toSetSeq()}F.prototype.toString=function(){return"[Iterator]"},F.KEYS=j,F.VALUES=R,F.ENTRIES=D,F.prototype.inspect=F.prototype.toSource=function(){return this.toString()},F.prototype[z]=function(){return this},e(K,n),K.of=function(){return K(arguments)},K.prototype.toSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq {","}")},K.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},K.prototype.__iterate=function(t,e){return ft(this,t,e,!0)},K.prototype.__iterator=function(t,e){return ht(this,t,e,!0)},e(X,K),X.prototype.toKeyedSeq=function(){return this},e(Y,K),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(t,e){return ft(this,t,e,!1)},Y.prototype.__iterator=function(t,e){return ht(this,t,e,!1)},e(Z,K),Z.of=function(){return Z(arguments)},Z.prototype.toSetSeq=function(){return this},K.isSeq=ot,K.Keyed=X,K.Set=Z,K.Indexed=Y;var $,J,Q,tt="@@__IMMUTABLE_SEQ__@@";function et(t){this._array=t,this.size=t.length}function nt(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function rt(t){this._iterable=t,this.size=t.length||t.size}function it(t){this._iterator=t,this._iteratorCache=[]}function ot(t){return!(!t||!t[tt])}function at(){return $||($=new et([]))}function st(t){var e=Array.isArray(t)?new et(t).fromEntrySeq():V(t)?new it(t).fromEntrySeq():q(t)?new rt(t).fromEntrySeq():"object"===typeof t?new nt(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function ut(t){var e=lt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function ct(t){var e=lt(t)||"object"===typeof t&&new nt(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function lt(t){return H(t)?new et(t):V(t)?new it(t):q(t)?new rt(t):void 0}function ft(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function ht(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new F((function(){var t=i[n?o-a:a];return a++>o?U():B(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function pt(t,e){return e?dt(e,t,"",{"":t}):yt(t)}function dt(t,e,n,r){return Array.isArray(e)?t.call(r,n,Y(e).map((function(n,r){return dt(t,n,r,e)}))):vt(e)?t.call(r,n,X(e).map((function(n,r){return dt(t,n,r,e)}))):e}function yt(t){return Array.isArray(t)?Y(t).map(yt).toList():vt(t)?X(t).map(yt).toMap():t}function vt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function gt(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!==typeof t.equals||"function"!==typeof e.equals||!t.equals(e))}function mt(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!c(t);if(l(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&gt(i[1],t)&&(n||gt(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var f=!0,h=e.__iterate((function(e,r){if(n?!t.has(e):i?!gt(e,t.get(r,b)):!gt(t.get(r,b),e))return f=!1,!1}));return f&&t.size===h}function bt(t,e){if(!(this instanceof bt))return new bt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(J)return J;J=this}}function _t(t,e){if(!t)throw new Error(e)}function xt(t,e,n){if(!(this instanceof xt))return new xt(t,e,n);if(_t(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Q)return Q;Q=this}}function wt(){throw TypeError("Abstract")}function Et(){}function St(){}function kt(){}K.prototype[tt]=!0,e(et,Y),et.prototype.get=function(t,e){return this.has(t)?this._array[C(this,t)]:e},et.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},et.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new F((function(){return i>r?U():B(t,i,n[e?r-i++:i++])}))},e(nt,X),nt.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},nt.prototype.has=function(t){return this._object.hasOwnProperty(t)},nt.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(!1===t(n[a],a,this))return o+1}return o},nt.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new F((function(){var a=r[e?i-o:o];return o++>i?U():B(t,a,n[a])}))},nt.prototype[d]=!0,e(rt,Y),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=G(this._iterable),r=0;if(V(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=G(this._iterable);if(!V(n))return new F(U);var r=0;return new F((function(){var e=n.next();return e.done?e:B(t,r++,e.value)}))},e(it,Y),it.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===t(a,o++,this))break}return o},it.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new F((function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return B(t,i,r[i++])}))},e(bt,Y),bt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},bt.prototype.get=function(t,e){return this.has(t)?this._value:e},bt.prototype.includes=function(t){return gt(this._value,t)},bt.prototype.slice=function(t,e){var n=this.size;return T(t,e,n)?this:new bt(this._value,A(e,n)-M(t,n))},bt.prototype.reverse=function(){return this},bt.prototype.indexOf=function(t){return gt(this._value,t)?0:-1},bt.prototype.lastIndexOf=function(t){return gt(this._value,t)?this.size:-1},bt.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},bt.prototype.__iterator=function(t,e){var n=this,r=0;return new F((function(){return r<n.size?B(t,r++,n._value):U()}))},bt.prototype.equals=function(t){return t instanceof bt?gt(this._value,t._value):mt(t)},e(xt,Y),xt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},xt.prototype.get=function(t,e){return this.has(t)?this._start+C(this,t)*this._step:e},xt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},xt.prototype.slice=function(t,e){return T(t,e,this.size)?this:(t=M(t,this.size),(e=A(e,this.size))<=t?new xt(0,0):new xt(this.get(t,this._end),this.get(e,this._end),this._step))},xt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},xt.prototype.lastIndexOf=function(t){return this.indexOf(t)},xt.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},xt.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new F((function(){var a=i;return i+=e?-r:r,o>n?U():B(t,o++,a)}))},xt.prototype.equals=function(t){return t instanceof xt?this._start===t._start&&this._end===t._end&&this._step===t._step:mt(this,t)},e(wt,n),e(Et,wt),e(St,wt),e(kt,wt),wt.Keyed=Et,wt.Indexed=St,wt.Set=kt;var Ot="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function Ct(t){return t>>>1&1073741824|3221225471&t}function Pt(t){if(!1===t||null===t||void 0===t)return 0;if("function"===typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return Ct(n)}if("string"===e)return t.length>Ft?Tt(t):Mt(t);if("function"===typeof t.hashCode)return t.hashCode();if("object"===e)return At(t);if("function"===typeof t.toString)return Mt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Tt(t){var e=qt[t];return void 0===e&&(e=Mt(t),Ut===Bt&&(Ut=0,qt={}),Ut++,qt[t]=e),e}function Mt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Ct(e)}function At(t){var e;if(Nt&&void 0!==(e=Dt.get(t)))return e;if(void 0!==(e=t[zt]))return e;if(!jt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[zt]))return e;if(void 0!==(e=Rt(t)))return e}if(e=++Lt,1073741824&Lt&&(Lt=0),Nt)Dt.set(t,e);else{if(void 0!==It&&!1===It(t))throw new Error("Non-extensible objects are not allowed as keys.");if(jt)Object.defineProperty(t,zt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[zt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[zt]=e}}return e}var It=Object.isExtensible,jt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function Rt(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}var Dt,Nt="function"===typeof WeakMap;Nt&&(Dt=new WeakMap);var Lt=0,zt="__immutablehash__";"function"===typeof Symbol&&(zt=Symbol(zt));var Ft=16,Bt=255,Ut=0,qt={};function Vt(t){_t(t!==1/0,"Cannot perform this action with an infinite size.")}function Gt(t){return null===t||void 0===t?ie():Wt(t)&&!l(t)?t:ie().withMutations((function(e){var n=r(t);Vt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Wt(t){return!(!t||!t[Kt])}e(Gt,Et),Gt.prototype.toString=function(){return this.__toString("Map {","}")},Gt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Gt.prototype.set=function(t,e){return oe(this,t,e)},Gt.prototype.setIn=function(t,e){return this.updateIn(t,b,(function(){return e}))},Gt.prototype.remove=function(t){return oe(this,t,b)},Gt.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return b}))},Gt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Gt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=ve(this,wn(t),e,n);return r===b?void 0:r},Gt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ie()},Gt.prototype.merge=function(){return he(this,void 0,arguments)},Gt.prototype.mergeWith=function(e){return he(this,e,t.call(arguments,1))},Gt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"===typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},Gt.prototype.mergeDeep=function(){return he(this,pe,arguments)},Gt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return he(this,de(e),n)},Gt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"===typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},Gt.prototype.sort=function(t){return qe(fn(this,t))},Gt.prototype.sortBy=function(t,e){return qe(fn(this,e,t))},Gt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Gt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)},Gt.prototype.asImmutable=function(){return this.__ensureOwner()},Gt.prototype.wasAltered=function(){return this.__altered},Gt.prototype.__iterator=function(t,e){return new te(this,t,e)},Gt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},Gt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?re(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Gt.isMap=Wt;var Ht,Kt="@@__IMMUTABLE_MAP__@@",Xt=Gt.prototype;function Yt(t,e){this.ownerID=t,this.entries=e}function Zt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function $t(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Jt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Qt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function te(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&ne(t._root)}function ee(t,e){return B(t,e[0],e[1])}function ne(t,e){return{node:t,index:0,__prev:e}}function re(t,e,n,r){var i=Object.create(Xt);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function ie(){return Ht||(Ht=re(0))}function oe(t,e,n){var r,i;if(t._root){var o=w(_),a=w(x);if(r=ae(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===b?-1:1:0)}else{if(n===b)return t;i=1,r=new Yt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?re(i,r):ie()}function ae(t,e,n,r,i,o,a,s){return t?t.update(e,n,r,i,o,a,s):o===b?t:(E(s),E(a),new Qt(e,r,[i,o]))}function se(t){return t.constructor===Qt||t.constructor===Jt}function ue(t,e,n,r,i){if(t.keyHash===r)return new Jt(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&m,s=(0===n?r:r>>>n)&m;return new Zt(e,1<<a|1<<s,a===s?[ue(t,e,n+v,r,i)]:(o=new Qt(e,r,i),a<s?[t,o]:[o,t]))}function ce(t,e,n,r){t||(t=new S);for(var i=new Qt(t,Pt(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function le(t,e,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==r&&(i|=u,a[o++]=l)}return new Zt(t,i,a)}function fe(t,e,n,r,i){for(var o=0,a=new Array(g),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[r]=i,new $t(t,o+1,a)}function he(t,e,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],u=r(s);a(s)||(u=u.map((function(t){return pt(t)}))),i.push(u)}return ye(t,e,i)}function pe(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):gt(t,e)?t:e}function de(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return gt(e,i)?e:i}}function ye(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,b,(function(t){return t===b?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)})):t.constructor(n[0])}function ve(t,e,n,r){var i=t===b,o=e.next();if(o.done){var a=i?n:t,s=r(a);return s===a?t:s}_t(i||t&&t.set,"invalid keyPath");var u=o.value,c=i?b:t.get(u,b),l=ve(c,e,n,r);return l===c?t:l===b?t.remove(u):(i?ie():t).set(u,l)}function ge(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function me(t,e,n,r){var i=r?t:k(t);return i[e]=n,i}function be(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}function _e(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}Xt[Kt]=!0,Xt[y]=Xt.remove,Xt.removeIn=Xt.deleteIn,Yt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(gt(n,i[o][0]))return i[o][1];return r},Yt.prototype.update=function(t,e,n,r,i,o,a){for(var s=i===b,u=this.entries,c=0,l=u.length;c<l&&!gt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(E(a),(s||!f)&&E(o),!s||1!==u.length){if(!f&&!s&&u.length>=xe)return ce(t,u,r,i);var h=t&&t===this.ownerID,p=h?u:k(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Yt(t,p)}},Zt.prototype.get=function(t,e,n,r){void 0===e&&(e=Pt(n));var i=1<<((0===t?e:e>>>t)&m),o=this.bitmap;return 0===(o&i)?r:this.nodes[ge(o&i-1)].get(t+v,e,n,r)},Zt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=Pt(r));var s=(0===e?n:n>>>e)&m,u=1<<s,c=this.bitmap,l=0!==(c&u);if(!l&&i===b)return this;var f=ge(c&u-1),h=this.nodes,p=l?h[f]:void 0,d=ae(p,t,e+v,n,r,i,o,a);if(d===p)return this;if(!l&&d&&h.length>=we)return fe(t,h,c,s,d);if(l&&!d&&2===h.length&&se(h[1^f]))return h[1^f];if(l&&d&&1===h.length&&se(d))return d;var y=t&&t===this.ownerID,g=l?d?c:c^u:c|u,_=l?d?me(h,f,d,y):_e(h,f,y):be(h,f,d,y);return y?(this.bitmap=g,this.nodes=_,this):new Zt(t,g,_)},$t.prototype.get=function(t,e,n,r){void 0===e&&(e=Pt(n));var i=(0===t?e:e>>>t)&m,o=this.nodes[i];return o?o.get(t+v,e,n,r):r},$t.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=Pt(r));var s=(0===e?n:n>>>e)&m,u=i===b,c=this.nodes,l=c[s];if(u&&!l)return this;var f=ae(l,t,e+v,n,r,i,o,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<Ee)return le(t,c,h,s)}else h++;var p=t&&t===this.ownerID,d=me(c,s,f,p);return p?(this.count=h,this.nodes=d,this):new $t(t,h,d)},Jt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(gt(n,i[o][0]))return i[o][1];return r},Jt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=Pt(r));var s=i===b;if(n!==this.keyHash)return s?this:(E(a),E(o),ue(this,t,e,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!gt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(E(a),(s||!f)&&E(o),s&&2===l)return new Qt(t,this.keyHash,u[1^c]);var h=t&&t===this.ownerID,p=h?u:k(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Jt(t,this.keyHash,p)},Qt.prototype.get=function(t,e,n,r){return gt(n,this.entry[0])?this.entry[1]:r},Qt.prototype.update=function(t,e,n,r,i,o,a){var s=i===b,u=gt(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(E(a),s?void E(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new Qt(t,this.keyHash,[r,i]):(E(o),ue(this,t,e,Pt(r),[r,i])))},Yt.prototype.iterate=Jt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},Zt.prototype.iterate=$t.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Qt.prototype.iterate=function(t,e){return t(this.entry)},e(te,F),te.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return ee(t,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return ee(t,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return ee(t,o.entry);e=this._stack=ne(o,e)}continue}e=this._stack=this._stack.__prev}return U()};var xe=g/4,we=g/2,Ee=g/4;function Se(t){var e=Re();if(null===t||void 0===t)return e;if(ke(t))return t;var n=i(t),r=n.size;return 0===r?e:(Vt(r),r>0&&r<g?je(0,r,v,null,new Pe(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function ke(t){return!(!t||!t[Oe])}e(Se,St),Se.of=function(){return this(arguments)},Se.prototype.toString=function(){return this.__toString("List [","]")},Se.prototype.get=function(t,e){if((t=C(this,t))>=0&&t<this.size){var n=ze(this,t+=this._origin);return n&&n.array[t&m]}return e},Se.prototype.set=function(t,e){return De(this,t,e)},Se.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Se.prototype.insert=function(t,e){return this.splice(t,0,e)},Se.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Re()},Se.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){Fe(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},Se.prototype.pop=function(){return Fe(this,0,-1)},Se.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){Fe(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},Se.prototype.shift=function(){return Fe(this,1)},Se.prototype.merge=function(){return Be(this,void 0,arguments)},Se.prototype.mergeWith=function(e){return Be(this,e,t.call(arguments,1))},Se.prototype.mergeDeep=function(){return Be(this,pe,arguments)},Se.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Be(this,de(e),n)},Se.prototype.setSize=function(t){return Fe(this,0,t)},Se.prototype.slice=function(t,e){var n=this.size;return T(t,e,n)?this:Fe(this,M(t,n),A(e,n))},Se.prototype.__iterator=function(t,e){var n=0,r=Ie(this,e);return new F((function(){var e=r();return e===Ae?U():B(t,n++,e)}))},Se.prototype.__iterate=function(t,e){for(var n,r=0,i=Ie(this,e);(n=i())!==Ae&&!1!==t(n,r++,this););return r},Se.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?je(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Se.isList=ke;var Oe="@@__IMMUTABLE_LIST__@@",Ce=Se.prototype;function Pe(t,e){this.array=t,this.ownerID=e}Ce[Oe]=!0,Ce[y]=Ce.remove,Ce.setIn=Xt.setIn,Ce.deleteIn=Ce.removeIn=Xt.removeIn,Ce.update=Xt.update,Ce.updateIn=Xt.updateIn,Ce.mergeIn=Xt.mergeIn,Ce.mergeDeepIn=Xt.mergeDeepIn,Ce.withMutations=Xt.withMutations,Ce.asMutable=Xt.asMutable,Ce.asImmutable=Xt.asImmutable,Ce.wasAltered=Xt.wasAltered,Pe.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&m;if(r>=this.array.length)return new Pe([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-v,n))===a&&o)return this}if(o&&!i)return this;var s=Le(this,t);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},Pe.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&m;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-v,n))===o&&i===this.array.length-1)return this}var a=Le(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Te,Me,Ae={};function Ie(t,e){var n=t._origin,r=t._capacity,i=Ue(r),o=t._tail;return a(t._root,t._level,0);function a(t,e,n){return 0===e?s(t,n):u(t,e,n)}function s(t,a){var s=a===i?o&&o.array:t&&t.array,u=a>n?0:n-a,c=r-a;return c>g&&(c=g),function(){if(u===c)return Ae;var t=e?--c:u++;return s&&s[t]}}function u(t,i,o){var s,u=t&&t.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);return l>g&&(l=g),function(){for(;;){if(s){var t=s();if(t!==Ae)return t;s=null}if(c===l)return Ae;var n=e?--l:c++;s=a(u&&u[n],i-v,o+(n<<i))}}}}function je(t,e,n,r,i,o,a){var s=Object.create(Ce);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Re(){return Te||(Te=je(0,0,v))}function De(t,e,n){if((e=C(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?Fe(t,e).set(0,n):Fe(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o=w(x);return e>=Ue(t._capacity)?r=Ne(r,t.__ownerID,0,e,n,o):i=Ne(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):je(t._origin,t._capacity,t._level,i,r):t}function Ne(t,e,n,r,i,o){var a,s=r>>>n&m,u=t&&s<t.array.length;if(!u&&void 0===i)return t;if(n>0){var c=t&&t.array[s],l=Ne(c,e,n-v,r,i,o);return l===c?t:((a=Le(t,e)).array[s]=l,a)}return u&&t.array[s]===i?t:(E(o),a=Le(t,e),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Le(t,e){return e&&t&&e===t.ownerID?t:new Pe(t?t.array.slice():[],e)}function ze(t,e){if(e>=Ue(t._capacity))return t._tail;if(e<1<<t._level+v){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&m],r-=v;return n}}function Fe(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new S,i=t._origin,o=t._capacity,a=i+e,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,l=0;a+l<0;)c=new Pe(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=v);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=Ue(o),h=Ue(s);h>=1<<u+v;)c=new Pe(c&&c.array.length?[c]:[],r),u+=v;var p=t._tail,d=h<f?ze(t,s-1):h>f?new Pe([],r):p;if(p&&h>f&&a<o&&p.array.length){for(var y=c=Le(c,r),g=u;g>v;g-=v){var b=f>>>g&m;y=y.array[b]=Le(y.array[b],r)}y.array[f>>>v&m]=p}if(s<o&&(d=d&&d.removeAfter(r,0,s)),a>=h)a-=h,s-=h,u=v,c=null,d=d&&d.removeBefore(r,0,a);else if(a>i||h<f){for(l=0;c;){var _=a>>>u&m;if(_!==h>>>u&m)break;_&&(l+=(1<<u)*_),u-=v,c=c.array[_]}c&&a>i&&(c=c.removeBefore(r,u,a-l)),c&&h<f&&(c=c.removeAfter(r,u,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):je(a,s,u,c,d)}function Be(t,e,n){for(var r=[],o=0,s=0;s<n.length;s++){var u=n[s],c=i(u);c.size>o&&(o=c.size),a(u)||(c=c.map((function(t){return pt(t)}))),r.push(c)}return o>t.size&&(t=t.setSize(o)),ye(t,e,r)}function Ue(t){return t<g?0:t-1>>>v<<v}function qe(t){return null===t||void 0===t?We():Ve(t)?t:We().withMutations((function(e){var n=r(t);Vt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Ve(t){return Wt(t)&&l(t)}function Ge(t,e,n,r){var i=Object.create(qe.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function We(){return Me||(Me=Ge(ie(),Re()))}function He(t,e,n){var r,i,o=t._map,a=t._list,s=o.get(e),u=void 0!==s;if(n===b){if(!u)return t;a.size>=g&&a.size>=2*o.size?(r=(i=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return t;r=o,i=a.set(s,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):Ge(r,i)}function Ke(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Xe(t){this._iter=t,this.size=t.size}function Ye(t){this._iter=t,this.size=t.size}function Ze(t){this._iter=t,this.size=t.size}function $e(t){var e=bn(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=_n,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(e===D){var r=t.__iterator(e,n);return new F((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===R?j:R,n)},e}function Je(t,e,n){var r=bn(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,b);return o===b?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(D,i);return new F((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return B(r,s,e.call(n,a[1],s,t),i)}))},r}function Qe(t,e){var n=bn(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=$e(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=_n,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function tn(t,e,n,r){var i=bn(t);return r&&(i.has=function(r){var i=t.get(r,b);return i!==b&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,b);return o!==b&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate((function(t,o,u){if(e.call(n,t,o,u))return s++,i(t,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(D,o),s=0;return new F((function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return B(i,r?c:s++,l,o)}}))},i}function en(t,e,n){var r=Gt().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}function nn(t,e,n){var r=s(t),i=(l(t)?qe():Gt()).asMutable();t.__iterate((function(o,a){i.update(e.call(n,o,a,t),(function(t){return(t=t||[]).push(r?[a,o]:o),t}))}));var o=mn(t);return i.map((function(e){return yn(t,o(e))}))}function rn(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),T(e,n,i))return t;var o=M(e,i),a=A(n,i);if(o!==o||a!==a)return rn(t.toSeq().cacheResult(),e,n,r);var s,u=a-o;u===u&&(s=u<0?0:u);var c=bn(t);return c.size=0===s?s:t.size&&s||void 0,!r&&ot(t)&&s>=0&&(c.get=function(e,n){return(e=C(this,e))>=0&&e<s?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,u=!0,c=0;return t.__iterate((function(t,n){if(!u||!(u=a++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==s})),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),a=0,u=0;return new F((function(){for(;a++<o;)i.next();if(++u>s)return U();var t=i.next();return r||e===R?t:B(e,u-1,e===j?void 0:t.value[1],t)}))},c}function on(t,e,n){var r=bn(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate((function(t,i,s){return e.call(n,t,i,s)&&++a&&r(t,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(D,i),s=!0;return new F((function(){if(!s)return U();var t=a.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?r===D?t:B(r,u,c,t):(s=!1,U())}))},r}function an(t,e,n,r){var i=bn(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return t.__iterate((function(t,o,c){if(!s||!(s=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,a)})),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(D,o),u=!0,c=0;return new F((function(){var t,o,l;do{if((t=s.next()).done)return r||i===R?t:B(i,c++,i===j?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],u&&(u=e.call(n,l,o,a))}while(u);return i===D?t:B(i,o,l,t)}))},i}function sn(t,e){var n=s(t),i=[t].concat(e).map((function(t){return a(t)?n&&(t=r(t)):t=n?st(t):ut(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||n&&s(o)||u(t)&&u(o))return o}var c=new et(i);return n?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),c}function un(t,e,n){var r=bn(t);return r.__iterateUncached=function(r,i){var o=0,s=!1;function u(t,c){var l=this;t.__iterate((function(t,i){return(!e||c<e)&&a(t)?u(t,c+1):!1===r(t,n?i:o++,l)&&(s=!0),!s}),i)}return u(t,0),o},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),s=[],u=0;return new F((function(){for(;o;){var t=o.next();if(!1===t.done){var c=t.value;if(r===D&&(c=c[1]),e&&!(s.length<e)||!a(c))return n?t:B(r,u++,c,t);s.push(o),o=c.__iterator(r,i)}else o=s.pop()}return U()}))},r}function cn(t,e,n){var r=mn(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}function ln(t,e){var n=bn(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(R,r),a=0;return new F((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?B(n,a++,e):B(n,a++,i.value,i)}))},n}function fn(t,e,n){e||(e=xn);var r=s(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?X(o):u(t)?Y(o):Z(o)}function hn(t,e,n){if(e||(e=xn),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return pn(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return pn(e,t,n)?n:t}))}function pn(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function dn(t,e,r){var i=bn(t);return i.size=new et(r).map((function(t){return t.size})).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(R,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map((function(t){return t=n(t),G(i?t.reverse():t)})),a=0,s=!1;return new F((function(){var n;return s||(n=o.map((function(t){return t.next()})),s=n.some((function(t){return t.done}))),s?U():B(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function yn(t,e){return ot(t)?e:t.constructor(e)}function vn(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function gn(t){return Vt(t.size),O(t)}function mn(t){return s(t)?r:u(t)?i:o}function bn(t){return Object.create((s(t)?X:u(t)?Y:Z).prototype)}function _n(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):K.prototype.cacheResult.call(this)}function xn(t,e){return t>e?1:t<e?-1:0}function wn(t){var e=G(t);if(!e){if(!H(t))throw new TypeError("Expected iterable or array-like: "+t);e=G(n(t))}return e}function En(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);Cn(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=Gt(o)},i=r.prototype=Object.create(Sn);return i.constructor=r,r}e(qe,Gt),qe.of=function(){return this(arguments)},qe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},qe.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):We()},qe.prototype.set=function(t,e){return He(this,t,e)},qe.prototype.remove=function(t){return He(this,t,b)},qe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},qe.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},qe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},qe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Ge(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},qe.isOrderedMap=Ve,qe.prototype[d]=!0,qe.prototype[y]=qe.prototype.remove,e(Ke,X),Ke.prototype.get=function(t,e){return this._iter.get(t,e)},Ke.prototype.has=function(t){return this._iter.has(t)},Ke.prototype.valueSeq=function(){return this._iter.valueSeq()},Ke.prototype.reverse=function(){var t=this,e=Qe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Ke.prototype.map=function(t,e){var n=this,r=Je(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},Ke.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?gn(this):0,function(i){return t(i,e?--n:n++,r)}),e)},Ke.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(R,e),r=e?gn(this):0;return new F((function(){var i=n.next();return i.done?i:B(t,e?--r:r++,i.value,i)}))},Ke.prototype[d]=!0,e(Xe,Y),Xe.prototype.includes=function(t){return this._iter.includes(t)},Xe.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},Xe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(R,e),r=0;return new F((function(){var e=n.next();return e.done?e:B(t,r++,e.value,e)}))},e(Ye,Z),Ye.prototype.has=function(t){return this._iter.includes(t)},Ye.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},Ye.prototype.__iterator=function(t,e){var n=this._iter.__iterator(R,e);return new F((function(){var e=n.next();return e.done?e:B(t,e.value,e.value,e)}))},e(Ze,X),Ze.prototype.entrySeq=function(){return this._iter.toSeq()},Ze.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){vn(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},Ze.prototype.__iterator=function(t,e){var n=this._iter.__iterator(R,e);return new F((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){vn(r);var i=a(r);return B(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},Xe.prototype.cacheResult=Ke.prototype.cacheResult=Ye.prototype.cacheResult=Ze.prototype.cacheResult=_n,e(En,Et),En.prototype.toString=function(){return this.__toString(On(this)+" {","}")},En.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},En.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},En.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=kn(this,ie()))},En.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+On(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:kn(this,n)},En.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:kn(this,e)},En.prototype.wasAltered=function(){return this._map.wasAltered()},En.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},En.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},En.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?kn(this,e,t):(this.__ownerID=t,this._map=e,this)};var Sn=En.prototype;function kn(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function On(t){return t._name||t.constructor.name||"Record"}function Cn(t,e){try{e.forEach(Pn.bind(void 0,t))}catch(n){}}function Pn(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){_t(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Tn(t){return null===t||void 0===t?Nn():Mn(t)&&!l(t)?t:Nn().withMutations((function(e){var n=o(t);Vt(n.size),n.forEach((function(t){return e.add(t)}))}))}function Mn(t){return!(!t||!t[In])}Sn[y]=Sn.remove,Sn.deleteIn=Sn.removeIn=Xt.removeIn,Sn.merge=Xt.merge,Sn.mergeWith=Xt.mergeWith,Sn.mergeIn=Xt.mergeIn,Sn.mergeDeep=Xt.mergeDeep,Sn.mergeDeepWith=Xt.mergeDeepWith,Sn.mergeDeepIn=Xt.mergeDeepIn,Sn.setIn=Xt.setIn,Sn.update=Xt.update,Sn.updateIn=Xt.updateIn,Sn.withMutations=Xt.withMutations,Sn.asMutable=Xt.asMutable,Sn.asImmutable=Xt.asImmutable,e(Tn,kt),Tn.of=function(){return this(arguments)},Tn.fromKeys=function(t){return this(r(t).keySeq())},Tn.prototype.toString=function(){return this.__toString("Set {","}")},Tn.prototype.has=function(t){return this._map.has(t)},Tn.prototype.add=function(t){return Rn(this,this._map.set(t,!0))},Tn.prototype.remove=function(t){return Rn(this,this._map.remove(t))},Tn.prototype.clear=function(){return Rn(this,this._map.clear())},Tn.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},Tn.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},Tn.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},Tn.prototype.merge=function(){return this.union.apply(this,arguments)},Tn.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},Tn.prototype.sort=function(t){return Ln(fn(this,t))},Tn.prototype.sortBy=function(t,e){return Ln(fn(this,e,t))},Tn.prototype.wasAltered=function(){return this._map.wasAltered()},Tn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},Tn.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},Tn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Tn.isSet=Mn;var An,In="@@__IMMUTABLE_SET__@@",jn=Tn.prototype;function Rn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Dn(t,e){var n=Object.create(jn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Nn(){return An||(An=Dn(ie()))}function Ln(t){return null===t||void 0===t?qn():zn(t)?t:qn().withMutations((function(e){var n=o(t);Vt(n.size),n.forEach((function(t){return e.add(t)}))}))}function zn(t){return Mn(t)&&l(t)}jn[In]=!0,jn[y]=jn.remove,jn.mergeDeep=jn.merge,jn.mergeDeepWith=jn.mergeWith,jn.withMutations=Xt.withMutations,jn.asMutable=Xt.asMutable,jn.asImmutable=Xt.asImmutable,jn.__empty=Nn,jn.__make=Dn,e(Ln,Tn),Ln.of=function(){return this(arguments)},Ln.fromKeys=function(t){return this(r(t).keySeq())},Ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ln.isOrderedSet=zn;var Fn,Bn=Ln.prototype;function Un(t,e){var n=Object.create(Bn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function qn(){return Fn||(Fn=Un(We()))}function Vn(t){return null===t||void 0===t?Yn():Gn(t)?t:Yn().unshiftAll(t)}function Gn(t){return!(!t||!t[Hn])}Bn[d]=!0,Bn.__empty=qn,Bn.__make=Un,e(Vn,St),Vn.of=function(){return this(arguments)},Vn.prototype.toString=function(){return this.__toString("Stack [","]")},Vn.prototype.get=function(t,e){var n=this._head;for(t=C(this,t);n&&t--;)n=n.next;return n?n.value:e},Vn.prototype.peek=function(){return this._head&&this._head.value},Vn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Xn(t,e)},Vn.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Vt(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Xn(e,n)},Vn.prototype.pop=function(){return this.slice(1)},Vn.prototype.unshift=function(){return this.push.apply(this,arguments)},Vn.prototype.unshiftAll=function(t){return this.pushAll(t)},Vn.prototype.shift=function(){return this.pop.apply(this,arguments)},Vn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yn()},Vn.prototype.slice=function(t,e){if(T(t,e,this.size))return this;var n=M(t,this.size);if(A(e,this.size)!==this.size)return St.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Xn(r,i)},Vn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Xn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Vn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Vn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new F((function(){if(r){var e=r.value;return r=r.next,B(t,n++,e)}return U()}))},Vn.isStack=Gn;var Wn,Hn="@@__IMMUTABLE_STACK__@@",Kn=Vn.prototype;function Xn(t,e,n,r){var i=Object.create(Kn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Yn(){return Wn||(Wn=Xn(0))}function Zn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}Kn[Hn]=!0,Kn.withMutations=Xt.withMutations,Kn.asMutable=Xt.asMutable,Kn.asImmutable=Xt.asImmutable,Kn.wasAltered=Xt.wasAltered,n.Iterator=F,Zn(n,{toArray:function(){Vt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new Xe(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new Ke(this,!0)},toMap:function(){return Gt(this.toKeyedSeq())},toObject:function(){Vt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return qe(this.toKeyedSeq())},toOrderedSet:function(){return Ln(s(this)?this.valueSeq():this)},toSet:function(){return Tn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ye(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Vn(s(this)?this.valueSeq():this)},toList:function(){return Se(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return yn(this,sn(this,t.call(arguments,0)))},includes:function(t){return this.some((function(e){return gt(e,t)}))},entries:function(){return this.__iterator(D)},every:function(t,e){Vt(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return yn(this,tn(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate((function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return Vt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Vt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""})),e},keys:function(){return this.__iterator(j)},map:function(t,e){return yn(this,Je(this,t,e))},reduce:function(t,e,n){var r,i;return Vt(this.size),arguments.length<2?i=!0:r=e,this.__iterate((function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return yn(this,Qe(this,!0))},slice:function(t,e){return yn(this,rn(this,t,e,!0))},some:function(t,e){return!this.every(er(t),e)},sort:function(t){return yn(this,fn(this,t))},values:function(){return this.__iterator(R)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return O(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return en(this,t,e)},equals:function(t){return mt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(tr).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(er(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(P)},flatMap:function(t,e){return yn(this,cn(this,t,e))},flatten:function(t){return yn(this,un(this,t,!0))},fromEntrySeq:function(){return new Ze(this)},get:function(t,e){return this.find((function(e,n){return gt(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,i=wn(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,b):b)===b)return e}return r},groupBy:function(t,e){return nn(this,t,e)},has:function(t){return this.get(t,b)!==b},hasIn:function(t){return this.getIn(t,b)!==b},isSubset:function(t){return t="function"===typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"===typeof t.isSubset?t:n(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(Qn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return hn(this,t)},maxBy:function(t,e){return hn(this,e,t)},min:function(t){return hn(this,t?nr(t):or)},minBy:function(t,e){return hn(this,e?nr(e):or,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return yn(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return yn(this,an(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(er(t),e)},sortBy:function(t,e){return yn(this,fn(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return yn(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return yn(this,on(this,t,e))},takeUntil:function(t,e){return this.takeWhile(er(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var $n=n.prototype;$n[f]=!0,$n[z]=$n.values,$n.__toJS=$n.toArray,$n.__toStringMapper=rr,$n.inspect=$n.toSource=function(){return this.toString()},$n.chain=$n.flatMap,$n.contains=$n.includes,function(){try{Object.defineProperty($n,"length",{get:function(){if(!n.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Zn(r,{flip:function(){return yn(this,$e(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey((function(e){return gt(e,t)}))},lastKeyOf:function(t){return this.findLastKey((function(e){return gt(e,t)}))},mapEntries:function(t,e){var n=this,r=0;return yn(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return yn(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var Jn=r.prototype;function Qn(t,e){return e}function tr(t,e){return[e,t]}function er(t){return function(){return!t.apply(this,arguments)}}function nr(t){return function(){return-t.apply(this,arguments)}}function rr(t){return"string"===typeof t?JSON.stringify(t):t}function ir(){return k(arguments)}function or(t,e){return t<e?1:t>e?-1:0}function ar(t){if(t.size===1/0)return 0;var e=l(t),n=s(t),r=e?1:0;return sr(t.__iterate(n?e?function(t,e){r=31*r+ur(Pt(t),Pt(e))|0}:function(t,e){r=r+ur(Pt(t),Pt(e))|0}:e?function(t){r=31*r+Pt(t)|0}:function(t){r=r+Pt(t)|0}),r)}function sr(t,e){return e=Ot(e,3432918353),e=Ot(e<<15|e>>>-15,461845907),e=Ot(e<<13|e>>>-13,5),e=Ot((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=Ct((e=Ot(e^e>>>13,3266489909))^e>>>16)}function ur(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return Jn[h]=!0,Jn[z]=$n.entries,Jn.__toJS=$n.toObject,Jn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+rr(t)},Zn(i,{toKeyedSeq:function(){return new Ke(this,!1)},filter:function(t,e){return yn(this,tn(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return yn(this,Qe(this,!1))},slice:function(t,e){return yn(this,rn(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=M(t,t<0?this.count():this.size);var r=this.slice(0,t);return yn(this,1===n?r:r.concat(k(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return yn(this,un(this,t,!1))},get:function(t,e){return(t=C(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=C(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return yn(this,ln(this,t))},interleave:function(){var t=[this].concat(k(arguments)),e=dn(this.toSeq(),Y.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),yn(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return yn(this,an(this,t,e,!1))},zip:function(){return yn(this,dn(this,ir,[this].concat(k(arguments))))},zipWith:function(t){var e=k(arguments);return e[0]=this,yn(this,dn(this,t,e))}}),i.prototype[p]=!0,i.prototype[d]=!0,Zn(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=$n.includes,Zn(X,r.prototype),Zn(Y,i.prototype),Zn(Z,o.prototype),Zn(Et,r.prototype),Zn(St,i.prototype),Zn(kt,o.prototype),{Iterable:n,Seq:K,Collection:wt,Map:Gt,OrderedMap:qe,List:Se,Stack:Vn,Set:Tn,OrderedSet:Ln,Record:En,Range:xt,Repeat:bt,is:gt,fromJS:pt}}()},function(t,e,n){"use strict";var r=function(t){};t.exports=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(r(e),!t){var a;if(void 0===e)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(e.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},function(t,e,n){"use strict";n.r(e),n.d(e,"BrowserRouter",(function(){return f})),n.d(e,"HashRouter",(function(){return h})),n.d(e,"Link",(function(){return m})),n.d(e,"NavLink",(function(){return x}));var r=n(47);n.d(e,"MemoryRouter",(function(){return r.MemoryRouter})),n.d(e,"Prompt",(function(){return r.Prompt})),n.d(e,"Redirect",(function(){return r.Redirect})),n.d(e,"Route",(function(){return r.Route})),n.d(e,"Router",(function(){return r.Router})),n.d(e,"StaticRouter",(function(){return r.StaticRouter})),n.d(e,"Switch",(function(){return r.Switch})),n.d(e,"generatePath",(function(){return r.generatePath})),n.d(e,"matchPath",(function(){return r.matchPath})),n.d(e,"useHistory",(function(){return r.useHistory})),n.d(e,"useLocation",(function(){return r.useLocation})),n.d(e,"useParams",(function(){return r.useParams})),n.d(e,"useRouteMatch",(function(){return r.useRouteMatch})),n.d(e,"withRouter",(function(){return r.withRouter}));var i=n(51),o=n(1),a=n.n(o),s=n(96),u=(n(2),n(17)),c=n(54),l=n(70),f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.a)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.Router,{history:this.history,children:this.props.children})},e}(a.a.Component);var h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.b)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.Router,{history:this.history,children:this.props.children})},e}(a.a.Component);var p=function(t,e){return"function"===typeof t?t(e):t},d=function(t,e){return"string"===typeof t?Object(s.c)(t,null,null,e):t},y=function(t){return t},v=a.a.forwardRef;"undefined"===typeof v&&(v=y);var g=v((function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(c.a)(t,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=y!==v&&e||n,a.a.createElement("a",l)}));var m=v((function(t,e){var n=t.component,i=void 0===n?g:n,o=t.replace,s=t.to,f=t.innerRef,h=Object(c.a)(t,["component","replace","to","innerRef"]);return a.a.createElement(r.__RouterContext.Consumer,null,(function(t){t||Object(l.a)(!1);var n=t.history,r=d(p(s,t.location),t.location),c=r?n.createHref(r):"",g=Object(u.a)({},h,{href:c,navigate:function(){var e=p(s,t.location);(o?n.replace:n.push)(e)}});return y!==v?g.ref=e||f:g.innerRef=f,a.a.createElement(i,g)}))})),b=function(t){return t},_=a.a.forwardRef;"undefined"===typeof _&&(_=b);var x=_((function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,o=t.activeClassName,s=void 0===o?"active":o,f=t.activeStyle,h=t.className,y=t.exact,v=t.isActive,g=t.location,x=t.sensitive,w=t.strict,E=t.style,S=t.to,k=t.innerRef,O=Object(c.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.__RouterContext.Consumer,null,(function(t){t||Object(l.a)(!1);var n=g||t.location,o=d(p(S,n),n),c=o.pathname,C=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=C?Object(r.matchPath)(n.pathname,{path:C,exact:y,sensitive:x,strict:w}):null,T=!!(v?v(P,n):P),M=T?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(h,s):h,A=T?Object(u.a)({},E,{},f):E,I=Object(u.a)({"aria-current":T&&i||null,className:M,style:A,to:o},O);return b!==_?I.ref=e||k:I.innerRef=k,a.a.createElement(m,I)}))}))},function(t,e,n){"use strict";n.r(e),n.d(e,"MemoryRouter",(function(){return m})),n.d(e,"Prompt",(function(){return _})),n.d(e,"Redirect",(function(){return S})),n.d(e,"Route",(function(){return P})),n.d(e,"Router",(function(){return g})),n.d(e,"StaticRouter",(function(){return R})),n.d(e,"Switch",(function(){return D})),n.d(e,"__HistoryContext",(function(){return y})),n.d(e,"__RouterContext",(function(){return v})),n.d(e,"generatePath",(function(){return E})),n.d(e,"matchPath",(function(){return C})),n.d(e,"useHistory",(function(){return z})),n.d(e,"useLocation",(function(){return F})),n.d(e,"useParams",(function(){return B})),n.d(e,"useRouteMatch",(function(){return U})),n.d(e,"withRouter",(function(){return N}));var r=n(51),i=n(1),o=n.n(i),a=(n(2),n(96)),s=n(405),u=n(70),c=n(17),l=n(406),f=n.n(l),h=(n(686),n(54)),p=n(147),d=n.n(p),y=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router-History"),v=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router"),g=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(r.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(v.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(y.Provider,{children:this.props.children||null,value:this.props.history}))},e}(o.a.Component);var m=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(a.d)(e.props),e}return Object(r.a)(e,t),e.prototype.render=function(){return o.a.createElement(g,{history:this.history,children:this.props.children})},e}(o.a.Component);var b=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(o.a.Component);function _(t){var e=t.message,n=t.when,r=void 0===n||n;return o.a.createElement(v.Consumer,null,(function(t){if(t||Object(u.a)(!1),!r||t.staticContext)return null;var n=t.history.block;return o.a.createElement(b,{onMount:function(t){t.release=n(e)},onUpdate:function(t,r){r.message!==e&&(t.release(),t.release=n(e))},onUnmount:function(t){t.release()},message:e})}))}var x={},w=0;function E(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(x[t])return x[t];var e=f.a.compile(t);return w<1e4&&(x[t]=e,w++),e}(t)(e,{pretty:!0})}function S(t){var e=t.computedMatch,n=t.to,r=t.push,i=void 0!==r&&r;return o.a.createElement(v.Consumer,null,(function(t){t||Object(u.a)(!1);var r=t.history,s=t.staticContext,l=i?r.push:r.replace,f=Object(a.c)(e?"string"===typeof n?E(n,e.params):Object(c.a)({},n,{pathname:E(n.pathname,e.params)}):n);return s?(l(f),null):o.a.createElement(b,{onMount:function(){l(f)},onUpdate:function(t,e){var n=Object(a.c)(e.to);Object(a.f)(n,Object(c.a)({},f,{key:n.key}))||l(f)},to:n})}))}var k={},O=0;function C(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=k[n]||(k[n]={});if(r[t])return r[t];var i=[],o={regexp:f()(t,i,e),keys:i};return O<1e4&&(r[t]=o,O++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],h=u.slice(1),p=t===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce((function(t,e,n){return t[e.name]=h[n],t}),{})}}),null)}var P=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(v.Consumer,null,(function(e){e||Object(u.a)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?C(n.pathname,t.props):e.match,i=Object(c.a)({},e,{location:n,match:r}),a=t.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(v.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):f?f(i):null:"function"===typeof s?s(i):null)}))},e}(o.a.Component);function T(t){return"/"===t.charAt(0)?t:"/"+t}function M(t,e){if(!t)return e;var n=T(t);return 0!==e.pathname.indexOf(n)?e:Object(c.a)({},e,{pathname:e.pathname.substr(n.length)})}function A(t){return"string"===typeof t?t:Object(a.e)(t)}function I(t){return function(){Object(u.a)(!1)}}function j(){}var R=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handlePush=function(t){return e.navigateTo(t,"PUSH")},e.handleReplace=function(t){return e.navigateTo(t,"REPLACE")},e.handleListen=function(){return j},e.handleBlock=function(){return j},e}Object(r.a)(e,t);var n=e.prototype;return n.navigateTo=function(t,e){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,s=void 0===o?{}:o;s.action=e,s.location=function(t,e){return t?Object(c.a)({},e,{pathname:T(t)+e.pathname}):e}(i,Object(a.c)(t)),s.url=A(s.location)},n.render=function(){var t=this.props,e=t.basename,n=void 0===e?"":e,r=t.context,i=void 0===r?{}:r,s=t.location,u=void 0===s?"/":s,l=Object(h.a)(t,["basename","context","location"]),f={createHref:function(t){return T(n+A(t))},action:"POP",location:M(n,Object(a.c)(u)),push:this.handlePush,replace:this.handleReplace,go:I(),goBack:I(),goForward:I(),listen:this.handleListen,block:this.handleBlock};return o.a.createElement(g,Object(c.a)({},l,{history:f,staticContext:i}))},e}(o.a.Component);var D=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(v.Consumer,null,(function(e){e||Object(u.a)(!1);var n,r,i=t.props.location||e.location;return o.a.Children.forEach(t.props.children,(function(t){if(null==r&&o.a.isValidElement(t)){n=t;var a=t.props.path||t.props.from;r=a?C(i.pathname,Object(c.a)({},t.props,{path:a})):e.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},e}(o.a.Component);function N(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(e){var n=e.wrappedComponentRef,r=Object(h.a)(e,["wrappedComponentRef"]);return o.a.createElement(v.Consumer,null,(function(e){return e||Object(u.a)(!1),o.a.createElement(t,Object(c.a)({},r,e,{ref:n}))}))};return n.displayName=e,n.WrappedComponent=t,d()(n,t)}var L=o.a.useContext;function z(){return L(y)}function F(){return L(v).location}function B(){var t=L(v).match;return t?t.params:{}}function U(t){var e=F(),n=L(v).match;return t?C(e.pathname,t):n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=new Date,i=new Date;function o(t,e,n,a){function s(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return s.floor=function(e){return t(e=new Date(+e)),e},s.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},s.range=function(n,r,i){var o,a=[];if(n=s.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return a;do{a.push(o=new Date(+n)),e(n,i),t(n)}while(o<n&&n<r);return a},s.filter=function(n){return o((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(s.count=function(e,o){return r.setTime(+e),i.setTime(+o),t(r),t(i),Math.floor(n(r,i))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t===0}:function(e){return s.count(0,e)%t===0}):s:null}),s}},function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return y}));var r=n(428),i=n(426),o=n(95),a=n(1180);var s=n(170),u=[0,1];function c(t){return t}function l(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function f(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=l(i,r),o=n(a,o)):(r=l(r,i),o=n(o,a)),function(t){return o(r(t))}}function h(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=l(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(e){var n=Object(r.a)(t,e,1,i)-1;return a[n](o[n](e))}}function p(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function d(){var t,e,n,r,l,p,d=u,y=u,v=i.a,g=c;function m(){var t=Math.min(d.length,y.length);return g!==c&&(g=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(d[0],d[t-1])),r=t>2?h:f,l=p=null,b}function b(e){return isNaN(e=+e)?n:(l||(l=r(d.map(t),y,v)))(t(g(e)))}return b.invert=function(n){return g(e((p||(p=r(y,d.map(t),o.a)))(n)))},b.domain=function(t){return arguments.length?(d=Array.from(t,s.a),m()):d.slice()},b.range=function(t){return arguments.length?(y=Array.from(t),m()):y.slice()},b.rangeRound=function(t){return y=Array.from(t),v=a.a,m()},b.clamp=function(t){return arguments.length?(g=!!t||c,m()):g!==c},b.interpolate=function(t){return arguments.length?(v=t,m()):v},b.unknown=function(t){return arguments.length?(n=t,b):n},function(n,r){return t=n,e=r,m()}}function y(){return d()(c,c)}},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return s}));var r=1e3,i=6e4,o=36e5,a=864e5,s=6048e5},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(1049),a=n(391),s=n(1051),u=n(284),c=n(44),l=c.OrderedSet,f=c.Record,h=c.Stack,p=c.OrderedMap,d=c.List,y=f({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()}),v=function(){e.createEmpty=function(t){return this.createWithText("",t)},e.createWithText=function(t,n){return e.createWithContent(a.createFromText(t),n)},e.createWithContent=function(t,n){if(0===t.getBlockMap().count())return e.createEmpty(n);var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:h(),redoStack:h(),decorator:n||null,selection:u.createEmpty(r)})},e.create=function(t){var n=t.currentContent,i=r({},t,{treeMap:m(n,t.decorator),directionMap:s.getDirectionMap(n)});return new e(new y(i))},e.fromJS=function(t){return new e(new y(r({},t,{directionMap:null!=t.directionMap?p(t.directionMap):t.directionMap,inlineStyleOverride:null!=t.inlineStyleOverride?l(t.inlineStyleOverride):t.inlineStyleOverride,nativelyRenderedContent:null!=t.nativelyRenderedContent?a.fromJS(t.nativelyRenderedContent):t.nativelyRenderedContent,redoStack:null!=t.redoStack?h(t.redoStack.map((function(t){return a.fromJS(t)}))):t.redoStack,selection:null!=t.selection?new u(t.selection):t.selection,treeMap:null!=t.treeMap?p(t.treeMap).map((function(t){return d(t).map((function(t){return o.fromJS(t)}))})):t.treeMap,undoStack:null!=t.undoStack?h(t.undoStack.map((function(t){return a.fromJS(t)}))):t.undoStack,currentContent:a.fromJS(t.currentContent)})))},e.set=function(t,n){return new e(t.getImmutable().withMutations((function(e){var r=e.get("decorator"),i=r;null===n.decorator?i=null:n.decorator&&(i=n.decorator);var a=n.currentContent||t.getCurrentContent();if(i!==r){var s,u=e.get("treeMap");return s=i&&r?function(t,e,n,r,i){return n.merge(e.toSeq().filter((function(e){return r.getDecorations(e,t)!==i.getDecorations(e,t)})).map((function(e){return o.generate(t,e,r)})))}(a,a.getBlockMap(),u,i,r):m(a,i),void e.merge({decorator:i,treeMap:s,nativelyRenderedContent:null})}a!==t.getCurrentContent()&&e.set("treeMap",function(t,e,n,r){var i=t.getCurrentContent().set("entityMap",n),a=i.getBlockMap();return t.getImmutable().get("treeMap").merge(e.toSeq().filter((function(t,e){return t!==a.get(e)})).map((function(t){return o.generate(i,t,r)})))}(t,a.getBlockMap(),a.getEntityMap(),i)),e.merge(n)})))};var t=e.prototype;function e(t){i(this,"_immutable",void 0),this._immutable=t}return t.toJS=function(){return this.getImmutable().toJS()},t.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},t.getCurrentContent=function(){return this.getImmutable().get("currentContent")},t.getUndoStack=function(){return this.getImmutable().get("undoStack")},t.getRedoStack=function(){return this.getImmutable().get("redoStack")},t.getSelection=function(){return this.getImmutable().get("selection")},t.getDecorator=function(){return this.getImmutable().get("decorator")},t.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},t.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},t.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},t.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},t.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(t,n){return e.set(t,{inlineStyleOverride:n})},t.getCurrentInlineStyle=function(){var t=this.getInlineStyleOverride();if(null!=t)return t;var e=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(t,e){var n=e.getStartKey(),r=e.getStartOffset(),i=t.getBlockForKey(n);if(r>0)return i.getInlineStyleAt(r-1);if(i.getLength())return i.getInlineStyleAt(0);return _(t,n)}(e,n):function(t,e){var n=e.getStartKey(),r=e.getStartOffset(),i=t.getBlockForKey(n);if(r<i.getLength())return i.getInlineStyleAt(r);if(r>0)return i.getInlineStyleAt(r-1);return _(t,n)}(e,n)},t.getBlockTree=function(t){return this.getImmutable().getIn(["treeMap",t])},t.isSelectionAtStartOfContent=function(){var t=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(t,0,0)},t.isSelectionAtEndOfContent=function(){var t=this.getCurrentContent().getBlockMap().last(),e=t.getLength();return this.getSelection().hasEdgeWithin(t.getKey(),e,e)},t.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(t,e){return g(t,e,!1)},e.forceSelection=function(t,e){return e.getHasFocus()||(e=e.set("hasFocus",!0)),g(t,e,!0)},e.moveSelectionToEnd=function(t){var n=t.getCurrentContent().getLastBlock(),r=n.getKey(),i=n.getLength();return e.acceptSelection(t,new u({anchorKey:r,anchorOffset:i,focusKey:r,focusOffset:i,isBackward:!1}))},e.moveFocusToEnd=function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())},e.push=function(t,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.getCurrentContent()===n)return t;var o=s.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:o,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:null});var a=t.getSelection(),u=t.getCurrentContent(),c=t.getUndoStack(),l=n;a!==u.getSelectionAfter()||b(t,r)?(c=c.push(u),l=l.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(l=l.set("selectionBefore",u.getSelectionBefore()));var f=t.getInlineStyleOverride(),p=["adjust-depth","change-block-type","split-block"];-1===p.indexOf(r)&&(f=null);var d={currentContent:l,directionMap:o,undoStack:c,redoStack:h(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:f};return e.set(t,d)},e.undo=function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var i=t.getCurrentContent(),o=s.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:o,undoStack:n.shift(),redoStack:t.getRedoStack().push(i),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:i.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var i=t.getCurrentContent(),o=s.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:o,undoStack:t.getUndoStack().push(i),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},t.getImmutable=function(){return this._immutable},e}();function g(t,e,n){return v.set(t,{selection:e,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function m(t,e){return t.getBlockMap().map((function(n){return o.generate(t,n,e)})).toOrderedMap()}function b(t,e){return e!==t.getLastChangeType()||"insert-characters"!==e&&"backspace-character"!==e&&"delete-character"!==e}function _(t,e){var n=t.getBlockMap().reverse().skipUntil((function(t,n){return n===e})).skip(1).skipUntil((function(t,e){return t.getLength()})).first();return n?n.getInlineStyleAt(n.getLength()-1):l()}t.exports=v},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=Symbol.for("FluidValue:config");function i(t){var e=o(t);return e?e.get():t}function o(t){if(t)return t[r]}var a=function(){var t,e;t=this,e=this,Object.defineProperty(t,r,{value:e,configurable:!0})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return A})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return x})),n.d(e,"h",(function(){return _}));var r=n(36),i=n(65),o=n(56),a=n(7),s=n(8),u=n(6),c=n(9),l=n(10),f=n(144),h=n(57),p=n(151),d=n(17),y=n(38),v=n(1),g=n(130),m=Symbol.for("Animated:node"),b=function(t){return t&&t[m]},_=function(t,e){return Object(l.a)(t,m,e)},x=function(t){return t&&t[m]&&t[m].getPayload()},w=function(){function t(){Object(u.a)(this,t),this.payload=void 0,_(this,this)}return Object(c.a)(t,[{key:"getPayload",value:function(){return this.payload||[]}}]),t}(),E=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this))._value=t,r.done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,l.d.num(r._value)&&(r.lastPosition=r._value),r}return Object(c.a)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(t,e){return l.d.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value!==t&&(this._value=t,!0)}},{key:"reset",value:function(){var t=this.done;this.done=!1,l.d.num(this._value)&&(this.elapsedTime=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(t,e){return new n(t)}}]),n}(w),S=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,r){var i;return Object(u.a)(this,n),(i=e.call(this,0))._value=void 0,i._string=null,i._toString=void 0,i._toString=Object(f.a)({output:[t,r]}),i}return Object(c.a)(n,[{key:"getValue",value:function(){var t=this._string;return null==t?this._string=this._toString(this._value):t}},{key:"setValue",value:function(t){if(l.d.num(t)){if(!Object(i.a)(Object(o.a)(n.prototype),"setValue",this).call(this,t))return!1;this._string=null}else this._string=t,this._value=1;return!0}},{key:"reset",value:function(t){t&&(this._toString=Object(f.a)({output:[this.getValue(),t]})),this._value=0,Object(i.a)(Object(o.a)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(l.d.str(t)&&l.d.str(e))return new n(t,e);throw TypeError('Expected "from" and "to" to be strings')}}]),n}(E),k={current:null},O=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(u.a)(this,n),(t=e.call(this)).source=void 0,t.setValue(r),t}return Object(c.a)(n,[{key:"getValue",value:function(t){if(!this.source)return null;var e={};return Object(l.b)(this.source,(function(n,r){if((o=n)&&o[m]===o)e[r]=n.getValue(t);else{var i=Object(h.b)(n);i?e[r]=i.get():t||(e[r]=n)}var o})),e}},{key:"setValue",value:function(t){this.source=t,this.payload=this._makePayload(t)}},{key:"reset",value:function(){this.payload&&Object(l.b)(this.payload,(function(t){return t.reset()}))}},{key:"_makePayload",value:function(t){if(t){var e=new Set;return Object(l.b)(t,this._addToPayload,e),Array.from(e)}}},{key:"_addToPayload",value:function(t){var e=this;Object(h.b)(t)&&k.current&&k.current.dependencies.add(t);var n=x(t);n&&Object(l.b)(n,(function(t){return e.add(t)}))}}]),n}(w),C=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,a){var s,c;return Object(u.a)(this,n),(c=e.call(this,null)).source=void 0,Object(i.a)((s=Object(r.a)(c),Object(o.a)(n.prototype)),"setValue",s).call(s,c._makeAnimated(t,a)),c}return Object(c.a)(n,[{key:"getValue",value:function(){return this.source.map((function(t){return t.getValue()}))}},{key:"setValue",value:function(t){var e=this.getPayload();t&&t.length==e.length?Object(l.b)(e,(function(e,n){return e.setValue(t[n])})):(this.source=this._makeAnimated(t),this.payload=this._makePayload(this.source))}},{key:"_makeAnimated",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return t?t.map((function(t,n){return(Object(l.e)(t)?S:E).create(t,e[n])})):[]}}],[{key:"create",value:function(t,e){return new n(t,e)}}]),n}(O),P=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,null)).update=t,r.dirty=!1,r}return Object(c.a)(n,[{key:"setValue",value:function(t,e){if(t){if(e&&(k.current=e,t.style)){var r=e.host.createAnimatedStyle;t=Object(d.a)(Object(d.a)({},t),{},{style:r(t.style)})}Object(i.a)(Object(o.a)(n.prototype),"setValue",this).call(this,t),k.current=null}}},{key:"onParentChange",value:function(t){var e=this,n=t.type;this.dirty||"change"!==n||(this.dirty=!0,y.frameLoop.onFrame((function(){e.dirty=!1,e.update()})))}}]),n}(O),T=function(t,e){return Object(v.forwardRef)((function(n,r){var i=Object(v.useRef)(null),o=!l.d.fun(t)||t.prototype&&t.prototype.isReactComponent,a=Object(p.a)(),s=new P((function(){var t=i.current;o&&!t||!1===(!!t&&e.applyAnimatedValues(t,s.getValue(!0)))&&a()})),u=new Set;return s.setValue(n,{dependencies:u,host:e}),Object(g.a)((function(){return Object(l.b)(u,(function(t){return t.addChild(s)})),function(){return Object(l.b)(u,(function(t){return t.removeChild(s)}))}})),Object(v.createElement)(t,Object(d.a)({},e.getComponentProps(s.getValue()),{ref:o&&function(t){i.current=function(t,e){t&&(l.d.fun(t)?t(e):t.current=e);return e}(r,t)}}))}))};var M=Symbol.for("AnimatedComponent"),A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=e.createAnimatedStyle,o=void 0===i?function(t){return new O(t)}:i,a=e.getComponentProps,s=void 0===a?function(t){return t}:a,u={applyAnimatedValues:r,createAnimatedStyle:o,getComponentProps:s},c=function(t){var e=I(t)||"Anonymous";return(t=l.d.str(t)?T(t,u):t[M]||(t[M]=T(t,u))).displayName="Animated("+e+")",t};return Object(l.b)(t,(function(t,e){l.d.str(e)||(e=I(t)),c[e]=c(t)})),{animated:c}},I=function(t){return l.d.str(t)?t:t&&l.d.str(t.displayName)?t.displayName:l.d.fun(t)&&t.name||null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return b}));var r=n(235),i=n(303),o=n(142),a=n(240),s=n(150),u=n(4),c=n(141),l=n(125),f=n(72),h=n(39),p=Object(u.g)(30*u.r),d=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,c,l,f,h,d,y,v,g,m){var b=l-r,_=f-i,x=b*b+_*_;if(x>4*e&&g--){var w=a+d,E=s+y,S=c+v,k=Object(u.u)(w*w+E*E+S*S),O=Object(u.c)(S/=k),C=Object(u.a)(Object(u.a)(S)-1)<u.i||Object(u.a)(o-h)<u.i?(o+h)/2:Object(u.e)(E,w),P=t(C,O),T=P[0],M=P[1],A=T-r,I=M-i,j=_*A-b*I;(j*j/x>e||Object(u.a)((b*A+_*I)/x-.5)>.3||a*d+s*y+c*v<p)&&(n(r,i,o,a,s,c,T,M,C,w/=k,E/=k,S,g,m),m.point(T,M),n(T,M,C,w,E,S,l,f,h,d,y,v,g,m))}}return function(e){var r,i,o,a,s,u,c,l,f,p,d,y,v={point:g,lineStart:m,lineEnd:_,polygonStart:function(){e.polygonStart(),v.lineStart=x},polygonEnd:function(){e.polygonEnd(),v.lineStart=m}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function m(){l=NaN,v.point=b,e.lineStart()}function b(r,i){var o=Object(h.a)([r,i]),a=t(r,i);n(l,f,c,p,d,y,l=a[0],f=a[1],c=r,p=o[0],d=o[1],y=o[2],16,e),e.point(l,f)}function _(){v.point=g,e.lineEnd()}function x(){m(),v.point=w,v.lineEnd=E}function w(t,e){b(r=t,e),i=l,o=f,a=p,s=d,u=y,v.point=b}function E(){n(l,f,c,p,d,y,i,o,r,a,s,u,16,e),v.lineEnd=_,_()}return v}}(t,e):function(t){return Object(l.b)({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var y=Object(l.b)({point:function(t,e){this.stream.point(t*u.r,e*u.r)}});function v(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}function g(t,e,n,r,i,o){var a=Object(u.g)(o),s=Object(u.t)(o),c=a*t,l=s*t,f=a/t,h=s/t,p=(s*n-a*e)/t,d=(s*e+a*n)/t;function y(t,o){return[c*(t*=r)-l*(o*=i)+e,n-l*t-c*o]}return y.invert=function(t,e){return[r*(f*t-h*e+p),i*(d-h*t-f*e)]},y}function m(t){return b((function(){return t}))()}function b(t){var e,n,h,p,m,b,_,x,w,E,S=150,k=480,O=250,C=0,P=0,T=0,M=0,A=0,I=0,j=1,R=1,D=null,N=r.a,L=null,z=s.a,F=.5;function B(t){return x(t[0]*u.r,t[1]*u.r)}function U(t){return(t=x.invert(t[0],t[1]))&&[t[0]*u.h,t[1]*u.h]}function q(){var t=g(S,0,0,j,R,I).apply(null,e(C,P)),r=(I?g:v)(S,k-t[0],O-t[1],j,R,I);return n=Object(c.b)(T,M,A),_=Object(a.a)(e,r),x=Object(a.a)(n,_),b=d(_,F),V()}function V(){return w=E=null,B}return B.stream=function(t){return w&&E===t?w:w=y(function(t){return Object(l.b)({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(N(b(z(E=t)))))},B.preclip=function(t){return arguments.length?(N=t,D=void 0,V()):N},B.postclip=function(t){return arguments.length?(z=t,L=h=p=m=null,V()):z},B.clipAngle=function(t){return arguments.length?(N=+t?Object(i.a)(D=t*u.r):(D=null,r.a),V()):D*u.h},B.clipExtent=function(t){return arguments.length?(z=null==t?(L=h=p=m=null,s.a):Object(o.a)(L=+t[0][0],h=+t[0][1],p=+t[1][0],m=+t[1][1]),V()):null==L?null:[[L,h],[p,m]]},B.scale=function(t){return arguments.length?(S=+t,q()):S},B.translate=function(t){return arguments.length?(k=+t[0],O=+t[1],q()):[k,O]},B.center=function(t){return arguments.length?(C=t[0]%360*u.r,P=t[1]%360*u.r,q()):[C*u.h,P*u.h]},B.rotate=function(t){return arguments.length?(T=t[0]%360*u.r,M=t[1]%360*u.r,A=t.length>2?t[2]%360*u.r:0,q()):[T*u.h,M*u.h,A*u.h]},B.angle=function(t){return arguments.length?(I=t%360*u.r,q()):I*u.h},B.reflectX=function(t){return arguments.length?(j=t?-1:1,q()):j<0},B.reflectY=function(t){return arguments.length?(R=t?-1:1,q()):R<0},B.precision=function(t){return arguments.length?(b=d(_,F=t*t),V()):Object(u.u)(F)},B.fitExtent=function(t,e){return Object(f.a)(B,t,e)},B.fitSize=function(t,e){return Object(f.c)(B,t,e)},B.fitWidth=function(t,e){return Object(f.d)(B,t,e)},B.fitHeight=function(t,e){return Object(f.b)(B,t,e)},function(){return e=t.apply(this,arguments),B.invert=e.invert&&U,q()}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return q})),n.d(e,"b",(function(){return z})),n.d(e,"e",(function(){return W})),n.d(e,"c",(function(){return $})),n.d(e,"d",(function(){return J}));var r=n(239);var i=n(319);function o(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=n(43),s=n(29),u=n(28),c=1e-6,l="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});!function(){var t=function(){var t=new l(4);return l!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}()}();function f(t,e){var n,r,i,o=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}([],e,t);return n=o,r=o,i=1/o[3],n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=r[3]*i,o}function h(t,e){var n=t%e;return n<0?e+n:n}function p(t,e,n){return n*e+(1-n)*t}function d(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],p=e[10],d=e[11],y=e[12],v=e[13],g=e[14],m=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*s+x*f+w*y,t[1]=b*i+_*u+x*h+w*v,t[2]=b*o+_*c+x*p+w*g,t[3]=b*a+_*l+x*d+w*m,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*r+_*s+x*f+w*y,t[5]=b*i+_*u+x*h+w*v,t[6]=b*o+_*c+x*p+w*g,t[7]=b*a+_*l+x*d+w*m,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*r+_*s+x*f+w*y,t[9]=b*i+_*u+x*h+w*v,t[10]=b*o+_*c+x*p+w*g,t[11]=b*a+_*l+x*d+w*m,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*r+_*s+x*f+w*y,t[13]=b*i+_*u+x*h+w*v,t[14]=b*o+_*c+x*p+w*g,t[15]=b*a+_*l+x*d+w*m,t}function y(t,e,n){var r,i,o,a,s,u,c,l,f,h,p,d,y=n[0],v=n[1],g=n[2];return e===t?(t[12]=e[0]*y+e[4]*v+e[8]*g+e[12],t[13]=e[1]*y+e[5]*v+e[9]*g+e[13],t[14]=e[2]*y+e[6]*v+e[10]*g+e[14],t[15]=e[3]*y+e[7]*v+e[11]*g+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=f,t[9]=h,t[10]=p,t[11]=d,t[12]=r*y+s*v+f*g+e[12],t[13]=i*y+u*v+h*g+e[13],t[14]=o*y+c*v+p*g+e[14],t[15]=a*y+l*v+d*g+e[15]),t}function v(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function g(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],f=t[8],h=t[9],p=t[10],d=t[11],y=t[12],v=t[13],g=t[14],m=t[15],b=e[0],_=e[1],x=e[2],w=e[3],E=e[4],S=e[5],k=e[6],O=e[7],C=e[8],P=e[9],T=e[10],M=e[11],A=e[12],I=e[13],j=e[14],R=e[15];return Math.abs(n-b)<=c*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-_)<=c*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-x)<=c*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-w)<=c*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-E)<=c*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(s-S)<=c*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-k)<=c*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(l-O)<=c*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(f-C)<=c*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(h-P)<=c*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(p-T)<=c*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(d-M)<=c*Math.max(1,Math.abs(d),Math.abs(M))&&Math.abs(y-A)<=c*Math.max(1,Math.abs(y),Math.abs(A))&&Math.abs(v-I)<=c*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(g-j)<=c*Math.max(1,Math.abs(g),Math.abs(j))&&Math.abs(m-R)<=c*Math.max(1,Math.abs(m),Math.abs(R))}function m(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function b(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function _(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function x(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}var w=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};!function(){var t=function(){var t=new l(2);return l!=Float32Array&&(t[0]=0,t[1]=0),t}()}();!function(){var t=function(){var t=new l(3);return l!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}();function E(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}var S=Math.PI,k=S/4,O=S/180,C=180/S,P=512;function T(t){return Math.pow(2,t)}function M(t){return Math.log2(t)}function A(t){var e=Object(a.a)(t,2),n=e[0],r=e[1];E(Number.isFinite(n)),E(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var i=r*O;return[P*(n*O+S)/(2*S),P*(S+Math.log(Math.tan(k+.5*i)))/(2*S)]}function I(t){var e=Object(a.a)(t,2),n=e[0],r=e[1],i=n/P*(2*S)-S,o=2*(Math.atan(Math.exp(r/P*(2*S)-S))-k);return[i*C,o*C]}function j(t){var e=t.latitude,n=t.longitude,r=t.highPrecision,i=void 0!==r&&r;E(Number.isFinite(e)&&Number.isFinite(n));var o={},a=Math.cos(e*O),s=512/360,u=s/a,c=12790407194604047e-21/a;if(o.unitsPerMeter=[c,c,c],o.metersPerUnit=[1/c,1/c,1/c],o.unitsPerDegree=[s,u,c],o.degreesPerUnit=[.703125,1/u,1/c],i){var l=O*Math.tan(e*O)/a,f=s*l/2,h=12790407194604047e-21*l,p=h/u*c;o.unitsPerDegree2=[0,f,h],o.unitsPerMeter2=[p,0,p]}return o}function R(t){var e,n,r=t.height,i=t.pitch,o=t.bearing,a=t.altitude,s=t.scale,u=t.center,c=void 0===u?null:u,l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return y(l,l,[0,0,-a]),function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],h=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+l*r,t[6]=s*i+f*r,t[7]=u*i+h*r,t[8]=c*i-o*r,t[9]=l*i-a*r,t[10]=f*i-s*r,t[11]=h*i-u*r}(l,l,-i*O),function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],f=e[6],h=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+l*r,t[2]=s*i+f*r,t[3]=u*i+h*r,t[4]=c*i-o*r,t[5]=l*i-a*r,t[6]=f*i-s*r,t[7]=h*i-u*r}(l,l,o*O),v(l,l,[s/=r,s,s]),c&&y(l,l,((e=[])[0]=-(n=c)[0],e[1]=-n[1],e[2]=-n[2],e)),l}function D(t){var e=t.width,n=t.height,r=t.pitch,i=function(t){var e=t.width,n=t.height,r=t.altitude,i=void 0===r?1.5:r,o=t.pitch,a=void 0===o?0:o,s=t.nearZMultiplier,u=void 0===s?1:s,c=t.farZMultiplier,l=void 0===c?1:c,f=a*O,h=Math.atan(.5/i),p=Math.sin(h)*i/Math.sin(Math.min(Math.max(Math.PI/2-f-h,.01),Math.PI-.01));return{fov:2*h,aspect:e/n,focalDistance:i,near:u,far:(Math.sin(f)*p+i)*l}}({width:e,height:n,altitude:t.altitude,pitch:r,nearZMultiplier:t.nearZMultiplier,farZMultiplier:t.farZMultiplier});return function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}([],i.fov,i.aspect,i.near,i.far)}function N(t,e){var n=Object(a.a)(t,3),r=n[0],i=n[1],o=n[2],s=void 0===o?0:o;return E(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(s)),f(e,[r,i,s,1])}function L(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object(a.a)(t,3),i=r[0],o=r[1],s=r[2];if(E(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(s)){var u=f(e,[i,o,s,1]);return u}var c=f(e,[i,o,0,1]),l=f(e,[i,o,1,1]),h=c[2],p=l[2],d=h===p?0:((n||0)-h)/(p-h);return x([],c,l,d)}function z(t){var e=t.width,n=t.height,r=t.bounds,i=t.minExtent,o=void 0===i?0:i,s=t.maxZoom,u=void 0===s?24:s,c=t.padding,l=void 0===c?0:c,f=t.offset,h=void 0===f?[0,0]:f,p=Object(a.a)(r,2),d=Object(a.a)(p[0],2),y=d[0],v=d[1],g=Object(a.a)(p[1],2),m=g[0],b=g[1];if(Number.isFinite(l)){l={top:l,bottom:l,left:l,right:l}}else E(Number.isFinite(l.top)&&Number.isFinite(l.bottom)&&Number.isFinite(l.left)&&Number.isFinite(l.right));var _=new q({width:e,height:n,longitude:0,latitude:0,zoom:0}),x=_.project([y,b]),w=_.project([m,v]),S=[Math.max(Math.abs(w[0]-x[0]),o),Math.max(Math.abs(w[1]-x[1]),o)],k=[e-l.left-l.right-2*Math.abs(h[0]),n-l.top-l.bottom-2*Math.abs(h[1])];E(k[0]>0&&k[1]>0);var O=k[0]/S[0],C=k[1]/S[1],P=(l.right-l.left)/2/O,T=(l.bottom-l.top)/2/C,M=[(w[0]+x[0])/2+P,(w[1]+x[1])/2+T],A=_.unproject(M),I=Math.min(u,_.zoom+Math.log2(Math.abs(Math.min(O,C))));return E(Number.isFinite(I)),{longitude:A[0],latitude:A[1],zoom:I}}var F=Math.PI/180;function B(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.width,o=t.height,a=t.unproject,s={targetZ:r},u=a([0,o],s),c=a([i,o],s),l=Math.atan(.5/t.altitude),f=(90-t.pitch)*F;return l>f-.01?(e=U(t,0,r),n=U(t,i,r)):(e=a([0,0],s),n=a([i,0],s)),[u,c,n,e]}function U(t,e,n){var r=t.pixelUnprojectionMatrix,i=f(r,[e,0,1,1]),o=f(r,[e,t.height,1,1]),a=I(x([],i,o,(n*t.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2])));return a[2]=n,a}var q=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1},n=e.width,r=e.height,i=e.latitude,o=void 0===i?0:i,a=e.longitude,u=void 0===a?0:a,c=e.zoom,l=void 0===c?0:c,f=e.pitch,h=void 0===f?0:f,p=e.bearing,d=void 0===p?0:p,y=e.altitude,v=void 0===y?1.5:y,g=e.nearZMultiplier,m=void 0===g?.02:g,b=e.farZMultiplier,_=void 0===b?1.01:b;Object(s.a)(this,t),n=n||1,r=r||1;var x=T(l);v=Math.max(.75,v);var w=A([u,o]);w[2]=0,this.projectionMatrix=D({width:n,height:r,pitch:h,altitude:v,nearZMultiplier:m,farZMultiplier:_}),this.viewMatrix=R({height:r,scale:x,center:w,pitch:h,bearing:d,altitude:v}),this.width=n,this.height=r,this.scale=x,this.latitude=o,this.longitude=u,this.zoom=l,this.pitch=h,this.bearing=d,this.altitude=v,this.center=w,this.distanceScales=j(this),this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}return Object(u.a)(t,[{key:"_initMatrices",value:function(){var t=this.width,e=this.height,n=this.projectionMatrix,r=this.viewMatrix,i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];d(i,i,n),d(i,i,r),this.viewProjectionMatrix=i;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v(o,o,[t/2,-e/2,1]),y(o,o,[1,-1,0]),d(o,o,i);var a=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],p=e[11],d=e[12],y=e[13],v=e[14],g=e[15],m=n*s-r*a,b=n*u-i*a,_=n*c-o*a,x=r*u-i*s,w=r*c-o*s,E=i*c-o*u,S=l*y-f*d,k=l*v-h*d,O=l*g-p*d,C=f*v-h*y,P=f*g-p*y,T=h*g-p*v,M=m*T-b*P+_*C+x*O-w*k+E*S;return M?(M=1/M,t[0]=(s*T-u*P+c*C)*M,t[1]=(i*P-r*T-o*C)*M,t[2]=(y*E-v*w+g*x)*M,t[3]=(h*w-f*E-p*x)*M,t[4]=(u*O-a*T-c*k)*M,t[5]=(n*T-i*O+o*k)*M,t[6]=(v*_-d*E-g*b)*M,t[7]=(l*E-h*_+p*b)*M,t[8]=(a*P-s*O+c*S)*M,t[9]=(r*O-n*P-o*S)*M,t[10]=(d*w-y*_+g*m)*M,t[11]=(f*_-l*w-p*m)*M,t[12]=(s*k-a*C-u*S)*M,t[13]=(n*C-r*k+i*S)*M,t[14]=(y*b-d*x-v*m)*M,t[15]=(l*x-f*b+h*m)*M,t):null}([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=o,this.pixelUnprojectionMatrix=a}},{key:"equals",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&g(e.projectionMatrix,this.projectionMatrix)&&g(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=this.projectPosition(t),o=N(i,this.pixelProjectionMatrix),s=Object(a.a)(o,2),u=s[0],c=s[1],l=r?c:this.height-c;return 2===t.length?[u,l]:[u,l,o[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=e.targetZ,o=void 0===i?void 0:i,s=Object(a.a)(t,3),u=s[0],c=s[1],l=s[2],f=r?c:this.height-c,h=o&&o*this.distanceScales.unitsPerMeter[2],p=L([u,f,l],this.pixelUnprojectionMatrix,h),d=this.unprojectPosition(p),y=Object(a.a)(d,3),v=y[0],g=y[1],m=y[2];return Number.isFinite(l)?[v,g,m]:Number.isFinite(o)?[v,g,o]:[v,g]}},{key:"projectPosition",value:function(t){var e=A(t),n=Object(a.a)(e,2);return[n[0],n[1],(t[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(t){var e=I(t),n=Object(a.a)(e,2);return[n[0],n[1],(t[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(t){return A(t)}},{key:"unprojectFlat",value:function(t){return I(t)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e,n,r=t.lngLat,i=L(t.pos,this.pixelUnprojectionMatrix),o=m([],A(r),((e=[])[0]=-(n=i)[0],e[1]=-n[1],e));return I(m([],this.center,o))}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=z(Object.assign({width:r,height:i,bounds:e},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new t({width:r,height:i,longitude:a,latitude:s,zoom:u})}},{key:"getBounds",value:function(t){var e=this.getBoundingRegion(t),n=Math.min.apply(Math,o(e.map((function(t){return t[0]})))),r=Math.max.apply(Math,o(e.map((function(t){return t[0]}))));return[[n,Math.min.apply(Math,o(e.map((function(t){return t[1]}))))],[r,Math.max.apply(Math,o(e.map((function(t){return t[1]}))))]]}},{key:"getBoundingRegion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B(this,t.z||0)}}]),t}(),V=85.05113,G=-85.05113;function W(t){var e=t.width,n=t.height,r=t.longitude,i=t.latitude,o=t.zoom,a=t.pitch,s=void 0===a?0:a,u=t.bearing,c=void 0===u?0:u;(r<-180||r>180)&&(r=h(r+180,360)-180),(c<-180||c>180)&&(c=h(c+180,360)-180);var l=new q({width:e,height:n,longitude:r,latitude:i,zoom:o}),f=l.project([r,V])[1],p=l.project([r,G])[1],d=0;return p-f<n&&(o+=Math.log2(n/(p-f)),f=(l=new q({width:e,height:n,longitude:r,latitude:i,zoom:o})).project([r,V])[1],p=l.project([r,G])[1]),f>0?d=f:p<n&&(d=p-n),d&&(i=l.unproject([e/2,n/2+d])[1]),{width:e,height:n,longitude:r,latitude:i,zoom:o,pitch:s,bearing:c}}function H(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X=.01,Y=["longitude","latitude","zoom"],Z={curve:1.414,speed:1.2};function $(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={},o=Q(t,e,r),a=o.startZoom,s=o.startCenterXY,u=o.uDelta,c=o.w0,l=o.u1,f=o.S,h=o.rho,d=o.rho2,y=o.r0;if(l<X){var v,g=H(Y);try{for(g.s();!(v=g.n()).done;){var _=v.value,x=t[_],w=e[_];i[_]=p(x,w,n)}}catch(A){g.e(A)}finally{g.f()}return i}var E=n*f,S=Math.cosh(y)/Math.cosh(y+h*E),k=c*((Math.cosh(y)*Math.tanh(y+h*E)-Math.sinh(y))/d)/l,O=1/S,C=a+M(O),P=b([],u,k);m(P,P,s);var T=I(P);return i.longitude=T[0],i.latitude=T[1],i.zoom=C,i}function J(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r=Object.assign({},Z,r),o=i.screenSpeed,a=i.speed,s=i.maxDuration,u=Q(t,e,r),c=u.S,l=u.rho,f=1e3*c;return n=Number.isFinite(o)?f/(o/l):f/a,Number.isFinite(s)&&n>s?0:n}function Q(t,e,n){var r=(n=Object.assign({},Z,n)).curve,i=t.zoom,o=[t.longitude,t.latitude],a=T(i),s=e.zoom,u=[e.longitude,e.latitude],c=T(s-i),l=A(o),f=A(u),h=w([],f,l),p=Math.max(t.width,t.height),d=p/c,y=_(h)*a,v=Math.max(y,X),g=r*r,m=(d*d-p*p+g*g*v*v)/(2*p*g*v),b=(d*d-p*p-g*g*v*v)/(2*d*g*v),x=Math.log(Math.sqrt(m*m+1)-m),E=Math.log(Math.sqrt(b*b+1)-b);return{startZoom:i,startCenterXY:l,uDelta:h,w0:p,u1:y,S:(E-x)/r,rho:r,rho2:g,r0:x,r1:E}}},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.useTheme=e.ThemeContext=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(1)),o=n(515);function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var u=i.default.createContext(o.light);e.ThemeContext=u;e.useTheme=function(){return(0,i.useContext)(u)};e.default=function(t){return function(e){var n=s({},e);return i.default.createElement(u.Consumer,null,(function(e){return i.default.createElement(t,s({},n,{theme:e}))}))}}},function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},function(t,e,n){"use strict";function r(t,e){t&&o.hasOwnProperty(t.type)&&o[t.type](t,e)}var i={Feature:function(t,e){r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)r(n[i].geometry,e)}},o={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){a(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)a(n[r],e,0)},Polygon:function(t,e){s(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)s(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)r(n[i],e)}};function a(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function s(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)a(t[n],e,1);e.polygonEnd()}e.a=function(t,e){t&&i.hasOwnProperty(t.type)?i[t.type](t,e):r(t,e)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return Rr}));var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var o=i(r);o.right,o.left;var a=function(t){return null===t?NaN:+t},s=Array.prototype;s.slice,s.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var u=function(t,e,n){if(null==n&&(n=a),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(i-o)}};Array.prototype.slice;var c={value:function(){}};function l(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new f(r)}function f(t){this._=t}function h(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function p(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function d(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=c,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}f.prototype=l.prototype={constructor:f,on:function(t,e){var n,r=this._,i=h(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=d(r[n],t.name,e);else if(null==e)for(n in r)r[n]=d(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=p(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new f(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var y=l;function v(){}var g=function(t){return null==t?v:function(){return this.querySelector(t)}};function m(){return[]}var b=function(t){return null==t?m:function(){return this.querySelectorAll(t)}},_=function(t){return function(){return this.matches(t)}},x=function(t){return new Array(t.length)};function w(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}w.prototype={constructor:w,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function E(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new w(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function S(t,e,n,r,i,o,a){var s,u,c,l={},f=e.length,h=o.length,p=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(p[s]=c="$"+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<h;++s)(u=l[c="$"+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new w(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l[p[s]]===u&&(i[s]=u)}function k(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var O="http://www.w3.org/1999/xhtml",C={svg:"http://www.w3.org/2000/svg",xhtml:O,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},P=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),C.hasOwnProperty(e)?{space:C[e],local:t}:t};function T(t){return function(){this.removeAttribute(t)}}function M(t){return function(){this.removeAttributeNS(t.space,t.local)}}function A(t,e){return function(){this.setAttribute(t,e)}}function I(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function j(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function R(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var D=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function N(t){return function(){this.style.removeProperty(t)}}function L(t,e,n){return function(){this.style.setProperty(t,e,n)}}function z(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function F(t,e){return t.style.getPropertyValue(e)||D(t).getComputedStyle(t,null).getPropertyValue(e)}function B(t){return function(){delete this[t]}}function U(t,e){return function(){this[t]=e}}function q(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function V(t){return t.trim().split(/^|\s+/)}function G(t){return t.classList||new W(t)}function W(t){this._node=t,this._names=V(t.getAttribute("class")||"")}function H(t,e){for(var n=G(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function K(t,e){for(var n=G(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function X(t){return function(){H(this,t)}}function Y(t){return function(){K(this,t)}}function Z(t,e){return function(){(e.apply(this,arguments)?H:K)(this,t)}}W.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $(){this.textContent=""}function J(t){return function(){this.textContent=t}}function Q(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function tt(){this.innerHTML=""}function et(t){return function(){this.innerHTML=t}}function nt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function rt(){this.nextSibling&&this.parentNode.appendChild(this)}function it(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ot(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===O&&e.documentElement.namespaceURI===O?e.createElement(t):e.createElementNS(n,t)}}function at(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var st=function(t){var e=P(t);return(e.local?at:ot)(e)};function ut(){return null}function ct(){var t=this.parentNode;t&&t.removeChild(this)}function lt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ft(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var ht={},pt=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(ht={mouseenter:"mouseover",mouseleave:"mouseout"}));function dt(t,e,n){return t=yt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function yt(t,e,n){return function(r){var i=pt;pt=r;try{t.call(this,this.__data__,e,n)}finally{pt=i}}}function vt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function gt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function mt(t,e,n){var r=ht.hasOwnProperty(t.type)?dt:yt;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function bt(t,e,n){var r=D(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function _t(t,e){return function(){return bt(this,t,e)}}function xt(t,e){return function(){return bt(this,t,e.apply(this,arguments))}}var wt=[null];function Et(t,e){this._groups=t,this._parents=e}function St(){return new Et([[document.documentElement]],wt)}Et.prototype=St.prototype={constructor:Et,select:function(t){"function"!==typeof t&&(t=g(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Et(r,this._parents)},selectAll:function(t){"function"!==typeof t&&(t=b(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Et(r,i)},filter:function(t){"function"!==typeof t&&(t=_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Et(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each((function(t){d[++l]=t})),d;var n,r=e?S:E,i=this._parents,o=this._groups;"function"!==typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],p=h.length,d=t.call(f,f&&f.__data__,l,i),y=d.length,v=u[l]=new Array(y),g=s[l]=new Array(y);r(f,h,v,g,c[l]=new Array(p),d,e);for(var m,b,_=0,x=0;_<y;++_)if(m=v[_]){for(_>=x&&(x=_+1);!(b=g[x])&&++x<y;);m._next=b||null}}return(s=new Et(s,i))._enter=u,s._exit=c,s},enter:function(){return new Et(this._enter||this._groups.map(x),this._parents)},exit:function(){return new Et(this._exit||this._groups.map(x),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new Et(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=k);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new Et(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=P(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?M:T:"function"===typeof e?n.local?R:j:n.local?I:A)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?N:"function"===typeof e?z:L)(t,e,null==n?"":n)):F(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?B:"function"===typeof e?q:U)(t,e)):this.node()[t]},classed:function(t,e){var n=V(t+"");if(arguments.length<2){for(var r=G(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?Z:e?X:Y)(n,e))},text:function(t){return arguments.length?this.each(null==t?$:("function"===typeof t?Q:J)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?tt:("function"===typeof t?nt:et)(t)):this.node().innerHTML},raise:function(){return this.each(rt)},lower:function(){return this.each(it)},append:function(t){var e="function"===typeof t?t:st(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:st(t),r=null==e?ut:"function"===typeof e?e:g(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ct)},clone:function(t){return this.select(t?ft:lt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=vt(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?mt:gt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"===typeof e?xt:_t)(t,e))}};var kt=St;var Ot=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ct(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pt(){}var Tt=.7,Mt=1/Tt,At="\\s*([+-]?\\d+)\\s*",It="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rt=/^#([0-9a-f]{3,8})$/,Dt=new RegExp("^rgb\\("+[At,At,At]+"\\)$"),Nt=new RegExp("^rgb\\("+[jt,jt,jt]+"\\)$"),Lt=new RegExp("^rgba\\("+[At,At,At,It]+"\\)$"),zt=new RegExp("^rgba\\("+[jt,jt,jt,It]+"\\)$"),Ft=new RegExp("^hsl\\("+[It,jt,jt]+"\\)$"),Bt=new RegExp("^hsla\\("+[It,jt,jt,It]+"\\)$"),Ut={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qt(){return this.rgb().formatHex()}function Vt(){return this.rgb().formatRgb()}function Gt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Rt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Wt(e):3===n?new Yt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ht(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ht(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Dt.exec(t))?new Yt(e[1],e[2],e[3],1):(e=Nt.exec(t))?new Yt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Lt.exec(t))?Ht(e[1],e[2],e[3],e[4]):(e=zt.exec(t))?Ht(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ft.exec(t))?Qt(e[1],e[2]/100,e[3]/100,1):(e=Bt.exec(t))?Qt(e[1],e[2]/100,e[3]/100,e[4]):Ut.hasOwnProperty(t)?Wt(Ut[t]):"transparent"===t?new Yt(NaN,NaN,NaN,0):null}function Wt(t){return new Yt(t>>16&255,t>>8&255,255&t,1)}function Ht(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yt(t,e,n,r)}function Kt(t){return t instanceof Pt||(t=Gt(t)),t?new Yt((t=t.rgb()).r,t.g,t.b,t.opacity):new Yt}function Xt(t,e,n,r){return 1===arguments.length?Kt(t):new Yt(t,e,n,null==r?1:r)}function Yt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Zt(){return"#"+Jt(this.r)+Jt(this.g)+Jt(this.b)}function $t(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Jt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Qt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ee(t,e,n,r)}function te(t){if(t instanceof ee)return new ee(t.h,t.s,t.l,t.opacity);if(t instanceof Pt||(t=Gt(t)),!t)return new ee;if(t instanceof ee)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new ee(a,s,u,t.opacity)}function ee(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ne(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function re(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Ot(Pt,Gt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:qt,formatHex:qt,formatHsl:function(){return te(this).formatHsl()},formatRgb:Vt,toString:Vt}),Ot(Yt,Xt,Ct(Pt,{brighter:function(t){return t=null==t?Mt:Math.pow(Mt,t),new Yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Tt:Math.pow(Tt,t),new Yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zt,formatHex:Zt,formatRgb:$t,toString:$t})),Ot(ee,(function(t,e,n,r){return 1===arguments.length?te(t):new ee(t,e,n,null==r?1:r)}),Ct(Pt,{brighter:function(t){return t=null==t?Mt:Math.pow(Mt,t),new ee(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Tt:Math.pow(Tt,t),new ee(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yt(ne(t>=240?t-240:t+120,i,r),ne(t,i,r),ne(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ie=function(t){return function(){return t}};function oe(t,e){return function(n){return t+n*e}}function ae(t){return 1===(t=+t)?se:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ie(isNaN(e)?n:e)}}function se(t,e){var n=e-t;return n?oe(t,n):ie(isNaN(t)?e:t)}var ue=function t(e){var n=ae(e);function r(t,e){var r=n((t=Xt(t)).r,(e=Xt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=se(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ce(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Xt(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}ce((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return re((n-r/e)*e,a,i,o,s)}})),ce((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return re((n-r/e)*e,i,o,a,s)}}));var le=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},fe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,he=new RegExp(fe.source,"g");var pe,de,ye=function(t,e){var n,r,i,o=fe.lastIndex=he.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=fe.exec(t))&&(r=he.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:le(n,r)})),o=he.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},ve=0,ge=0,me=0,be=0,_e=0,xe=0,we="object"===typeof performance&&performance.now?performance:Date,Ee="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Se(){return _e||(Ee(ke),_e=we.now()+xe)}function ke(){_e=0}function Oe(){this._call=this._time=this._next=null}function Ce(t,e,n){var r=new Oe;return r.restart(t,e,n),r}function Pe(){_e=(be=we.now())+xe,ve=ge=0;try{!function(){Se(),++ve;for(var t,e=pe;e;)(t=_e-e._time)>=0&&e._call.call(null,t),e=e._next;--ve}()}finally{ve=0,function(){var t,e,n=pe,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:pe=e);de=t,Me(r)}(),_e=0}}function Te(){var t=we.now(),e=t-be;e>1e3&&(xe-=e,be=t)}function Me(t){ve||(ge&&(ge=clearTimeout(ge)),t-_e>24?(t<1/0&&(ge=setTimeout(Pe,t-we.now()-xe)),me&&(me=clearInterval(me))):(me||(be=we.now(),me=setInterval(Te,1e3)),ve=1,Ee(Pe)))}Oe.prototype=Ce.prototype={constructor:Oe,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Se():+n)+(null==e?0:+e),this._next||de===this||(de?de._next=this:pe=this,de=this),this._call=t,this._time=n,Me()},stop:function(){this._call&&(this._call=null,this._time=1/0,Me())}};var Ae=function(t,e,n){var r=new Oe;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},Ie=y("start","end","cancel","interrupt"),je=[],Re=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,l,f,h;if(1!==n.state)return u();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return Ae(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Ae((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Ce(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Ie,tween:je,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function De(t,e){var n=Le(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ne(t,e){var n=Le(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Le(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var ze,Fe,Be,Ue,qe=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},Ve=180/Math.PI,Ge={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},We=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Ve,skewX:Math.atan(u)*Ve,scaleX:a,scaleY:s}};function He(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:le(t,i)},{i:u-2,x:le(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:le(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:le(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:le(t,n)},{i:s-2,x:le(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var Ke=He((function(t){return"none"===t?Ge:(ze||(ze=document.createElement("DIV"),Fe=document.documentElement,Be=document.defaultView),ze.style.transform=t,t=Be.getComputedStyle(Fe.appendChild(ze),null).getPropertyValue("transform"),Fe.removeChild(ze),t=t.slice(7,-1).split(","),We(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Xe=He((function(t){return null==t?Ge:(Ue||(Ue=document.createElementNS("http://www.w3.org/2000/svg","g")),Ue.setAttribute("transform",t),(t=Ue.transform.baseVal.consolidate())?(t=t.matrix,We(t.a,t.b,t.c,t.d,t.e,t.f)):Ge)}),", ",")",")");function Ye(t,e){var n,r;return function(){var i=Ne(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Ze(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=Ne(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function $e(t,e,n){var r=t._id;return t.each((function(){var t=Ne(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Le(t,r).value[e]}}var Je=function(t,e){var n;return("number"===typeof e?le:e instanceof Gt?ue:(n=Gt(e))?(e=n,ue):ye)(t,e)};function Qe(t){return function(){this.removeAttribute(t)}}function tn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function en(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function nn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function rn(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function on(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function an(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function sn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function un(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&sn(t,i)),n}return i._value=e,i}function cn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&an(t,i)),n}return i._value=e,i}function ln(t,e){return function(){De(this,t).delay=+e.apply(this,arguments)}}function fn(t,e){return e=+e,function(){De(this,t).delay=e}}function hn(t,e){return function(){Ne(this,t).duration=+e.apply(this,arguments)}}function pn(t,e){return e=+e,function(){Ne(this,t).duration=e}}function dn(t,e){if("function"!==typeof e)throw new Error;return function(){Ne(this,t).ease=e}}function yn(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?De:Ne;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var vn=kt.prototype.constructor;function gn(t){return function(){this.style.removeProperty(t)}}function mn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function bn(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&mn(t,o,n)),r}return o._value=e,o}function _n(t){return function(e){this.textContent=t.call(this,e)}}function xn(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&_n(r)),e}return r._value=t,r}var wn=0;function En(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Sn(){return++wn}var kn=kt.prototype;En.prototype=function(t){return kt().transition(t)}.prototype={constructor:En,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=g(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,Re(f[h],e,n,h,f,Le(s,n)));return new En(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=b(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,p=t.call(u,u.__data__,f,c),d=Le(u,n),y=0,v=p.length;y<v;++y)(h=p[y])&&Re(h,e,n,y,p,d);o.push(p),a.push(u)}return new En(o,a,e,n)},filter:function(t){"function"!==typeof t&&(t=_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new En(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new En(a,this._parents,this._name,this._id)},selection:function(){return new vn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Sn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=Le(a,e);Re(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new En(r,this._parents,t,n)},call:kn.call,nodes:kn.nodes,node:kn.node,size:kn.size,empty:kn.empty,each:kn.each,on:function(t,e){var n=this._id;return arguments.length<2?Le(this.node(),n).on.on(t):this.each(yn(n,t,e))},attr:function(t,e){var n=P(t),r="transform"===n?Xe:Je;return this.attrTween(t,"function"===typeof e?(n.local?on:rn)(n,r,$e(this,"attr."+t,e)):null==e?(n.local?tn:Qe)(n):(n.local?nn:en)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=P(t);return this.tween(n,(r.local?un:cn)(r,e))},style:function(t,e,n){var r="transform"===(t+="")?Ke:Je;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=F(this,t),a=(this.style.removeProperty(t),F(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,gn(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=F(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=F(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,$e(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=Ne(this,t),c=u.on,l=null==u.value[a]?o||(o=gn(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=F(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,bn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}($e(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,xn(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Le(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Ye:Ze)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?ln:fn)(e,t)):Le(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?hn:pn)(e,t)):Le(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(dn(e,t)):Le(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};n.each((function(){var n=Ne(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e}))}))}};var On={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Cn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return On.time=Se(),On;return n}kt.prototype.interrupt=function(t){return this.each((function(){qe(this,t)}))},kt.prototype.transition=function(t){var e,n;t instanceof En?(e=t._id,t=t._name):(e=Sn(),(n=On).time=Se(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&Re(a,t,e,c,s,n||Cn(a,e));return new En(r,this._parents,t,e)};function Pn(t){return[+t[0],+t[1]]}function Tn(t){return[Pn(t[0]),Pn(t[1])]}["w","e"].map(Mn),["n","s"].map(Mn),["n","w","e","s","nw","ne","sw","se"].map(Mn);function Mn(t){return{type:t}}var An=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var In=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return An(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}(An);In.right,In.left;var jn=Array.prototype;jn.slice,jn.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Rn=Math.PI,Dn=2*Rn,Nn=1e-6,Ln=Dn-Nn;function zn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Fn(){return new zn}zn.prototype=Fn.prototype={constructor:zn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Nn)if(Math.abs(l*s-u*c)>Nn&&i){var h=n-o,p=r-a,d=s*s+u*u,y=h*h+p*p,v=Math.sqrt(d),g=Math.sqrt(f),m=i*Math.tan((Rn-Math.acos((d+f-y)/(2*v*g)))/2),b=m/g,_=m/v;Math.abs(b-1)>Nn&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*p)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Nn||Math.abs(this._y1-c)>Nn)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Dn+Dn),f>Ln?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>Nn&&(this._+="A"+n+","+n+",0,"+ +(f>=Rn)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Bn="$";function Un(){}function qn(t,e){var n=new Un;if(t instanceof Un)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Un.prototype=qn.prototype={constructor:Un,has:function(t){return Bn+t in this},get:function(t){return this[Bn+t]},set:function(t,e){return this[Bn+t]=e,this},remove:function(t){var e=Bn+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Bn&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Bn&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Bn&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Bn&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Bn&&++t;return t},empty:function(){for(var t in this)if(t[0]===Bn)return!1;return!0},each:function(t){for(var e in this)e[0]===Bn&&t(this[e],e.slice(1),this)}};var Vn=qn;function Gn(){}var Wn=Vn.prototype;function Hn(t,e){var n=new Gn;if(t instanceof Gn)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Gn.prototype=Hn.prototype={constructor:Gn,has:Wn.has,add:function(t){return this[Bn+(t+="")]=t,this},remove:Wn.remove,clear:Wn.clear,values:Wn.keys,size:Wn.size,empty:Wn.empty,each:Wn.each};var Kn=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var Xn=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Kn(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}(Kn);Xn.right,Xn.left;var Yn=Array.prototype;Yn.slice,Yn.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Array.prototype.slice;function Zn(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,f,h,p=t._root,d={data:r},y=t._x0,v=t._y0,g=t._x1,m=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((c=e>=(o=(y+g)/2))?y=o:g=o,(l=n>=(a=(v+m)/2))?v=a:m=a,i=p,!(p=p[f=l<<1|c]))return i[f]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,i?i[f]=d:t._root=d,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(y+g)/2))?y=o:g=o,(l=n>=(a=(v+m)/2))?v=a:m=a}while((f=l<<1|c)===(h=(u>=a)<<1|s>=o));return i[h]=p,i[f]=d,t}var $n=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function Jn(t){return t[0]}function Qn(t){return t[1]}function tr(t,e,n){var r=new er(null==e?Jn:e,null==n?Qn:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function er(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function nr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var rr=tr.prototype=er.prototype;rr.copy=function(){var t,e,n=new er(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=nr(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=nr(e));return n},rr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Zn(this.cover(e,n),e,n,t)},rr.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<o;++n)Zn(this,a[n],s[n],t[n]);return this},rr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},rr.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},rr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},rr.find=function(t,e,n){var r,i,o,a,s,u,c,l=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],y=this._root;for(y&&d.push(new $n(y,l,f,h,p)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(y=u.node)||(i=u.x0)>h||(o=u.y0)>p||(a=u.x1)<l||(s=u.y1)<f))if(y.length){var v=(i+a)/2,g=(o+s)/2;d.push(new $n(y[3],v,g,a,s),new $n(y[2],i,g,v,s),new $n(y[1],v,o,a,g),new $n(y[0],i,o,v,g)),(c=(e>=g)<<1|t>=v)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=u)}else{var m=t-+this._x.call(null,y.data),b=e-+this._y.call(null,y.data),_=m*m+b*b;if(_<n){var x=Math.sqrt(n=_);l=t-x,f=e-x,h=t+x,p=e+x,r=y.data}}return r},rr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,f,h,p=this._root,d=this._x0,y=this._y0,v=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(s=(d+v)/2))?d=s:v=s,(l=a>=(u=(y+g)/2))?y=u:g=u,e=p,!(p=p[f=l<<1|c]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=i,this)},rr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},rr.root=function(){return this._root},rr.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},rr.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new $n(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new $n(n,c,l,o,a)),(n=u[2])&&s.push(new $n(n,r,l,c,a)),(n=u[1])&&s.push(new $n(n,c,i,o,l)),(n=u[0])&&s.push(new $n(n,r,i,c,l))}return this},rr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new $n(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new $n(o,a,s,l,f)),(o=i[1])&&n.push(new $n(o,l,s,u,f)),(o=i[2])&&n.push(new $n(o,a,f,l,c)),(o=i[3])&&n.push(new $n(o,l,f,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},rr.x=function(t){return arguments.length?(this._x=t,this):this._x},rr.y=function(t){return arguments.length?(this._y=t,this):this._y};var ir={value:function(){}};function or(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ar(r)}function ar(t){this._=t}function sr(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ur(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function cr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ir,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ar.prototype=or.prototype={constructor:ar,on:function(t,e){var n,r=this._,i=sr(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=cr(r[n],t.name,e);else if(null==e)for(n in r)r[n]=cr(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=ur(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ar(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var lr,fr,hr=0,pr=0,dr=0,yr=0,vr=0,gr=0,mr="object"===typeof performance&&performance.now?performance:Date,br="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _r(){return vr||(br(xr),vr=mr.now()+gr)}function xr(){vr=0}function wr(){this._call=this._time=this._next=null}function Er(t,e,n){var r=new wr;return r.restart(t,e,n),r}function Sr(){vr=(yr=mr.now())+gr,hr=pr=0;try{!function(){_r(),++hr;for(var t,e=lr;e;)(t=vr-e._time)>=0&&e._call.call(null,t),e=e._next;--hr}()}finally{hr=0,function(){var t,e,n=lr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:lr=e);fr=t,Or(r)}(),vr=0}}function kr(){var t=mr.now(),e=t-yr;e>1e3&&(gr-=e,yr=t)}function Or(t){hr||(pr&&(pr=clearTimeout(pr)),t-vr>24?(t<1/0&&(pr=setTimeout(Sr,t-mr.now()-gr)),dr&&(dr=clearInterval(dr))):(dr||(yr=mr.now(),dr=setInterval(kr,1e3)),hr=1,br(Sr)))}wr.prototype=Er.prototype={constructor:wr,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?_r():+n)+(null==e?0:+e),this._next||fr===this||(fr?fr._next=this:lr=this,fr=this),this._call=t,this._time=n,Or()},stop:function(){this._call&&(this._call=null,this._time=1/0,Or())}};Math.PI,Math.sqrt(5);function Cr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var Pr=function(t){return(t=Cr(Math.abs(t)))?t[1]:NaN},Tr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mr(t){if(!(e=Tr.exec(t)))throw new Error("invalid format: "+t);var e;return new Ar({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ar(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Mr.prototype=Ar.prototype,Ar.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ir,jr,Rr,Dr=function(t,e){var n=Cr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Nr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Dr(100*t,e)},r:Dr,s:function(t,e){var n=Cr(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ir=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cr(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Lr=function(t){return t},zr=Array.prototype.map,Fr=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];jr=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Lr:(e=zr.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Lr:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(zr.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Mr(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,y=t.comma,v=t.precision,g=t.trim,m=t.type;"n"===m?(y=!0,m="g"):Nr[m]||(void 0===v&&(v=12),g=!0,m="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_="$"===h?o:/[%p]/.test(m)?u:"",x=Nr[m],w=/[defgprs%]/.test(m);function E(t){var i,o,u,h=b,E=_;if("c"===m)E=x(t)+E,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),v),g&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0===+t&&"+"!==f&&(S=!1),h=(S?"("===f?f:c:"-"===f||"("===f?"":f)+h,E=("s"===m?Fr[8+Ir/3]:"")+E+(S&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){E=(46===u?a+t.slice(i+1):t.slice(i))+E,t=t.slice(0,i);break}}y&&!p&&(t=r(t,1/0));var k=h.length+t.length+E.length,O=k<d?new Array(d-k+1).join(e):"";switch(y&&p&&(t=r(O+t,O.length?d-E.length:1/0),O=""),n){case"<":t=h+t+E+O;break;case"=":t=h+O+t+E;break;case"^":t=O.slice(0,k=O.length>>1)+h+t+E+O.slice(k);break;default:t=O+h+t+E}return s(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),E.toString=function(){return t+""},E}return{format:f,formatPrefix:function(t,e){var n=f(((t=Mr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Pr(e)/3))),i=Math.pow(10,-r),o=Fr[8+r/3];return function(t){return n(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Rr=jr.format,jr.formatPrefix;var Br=function(){return Math.random()},Ur=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Br),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Br)),qr=(function t(e){function n(){var t=Ur.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Br),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Br));(function t(e){function n(t){var n=qr.source(e)(t);return function(){return n()/t}}return n.source=t,n})(Br),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Br);var Vr=Array.prototype;Vr.map,Vr.slice;var Gr=new Date,Wr=new Date;function Hr(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Hr((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Gr.setTime(+e),Wr.setTime(+r),t(Gr),t(Wr),Math.floor(n(Gr,Wr))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var Kr=Hr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Kr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Hr((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Xr=Kr,Yr=(Kr.range,Hr((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Zr=(Yr.range,1e3),$r=6e4,Jr=36e5,Qr=864e5,ti=6048e5;function ei(t){return Hr((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$r)/ti}))}var ni=ei(0),ri=ei(1),ii=ei(2),oi=ei(3),ai=ei(4),si=ei(5),ui=ei(6),ci=(ni.range,ri.range,ii.range,oi.range,ai.range,si.range,ui.range,Hr((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$r)/Qr}),(function(t){return t.getDate()-1}))),li=ci,fi=(ci.range,Hr((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zr-t.getMinutes()*$r)}),(function(t,e){t.setTime(+t+e*Jr)}),(function(t,e){return(e-t)/Jr}),(function(t){return t.getHours()}))),hi=(fi.range,Hr((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zr)}),(function(t,e){t.setTime(+t+e*$r)}),(function(t,e){return(e-t)/$r}),(function(t){return t.getMinutes()}))),pi=(hi.range,Hr((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Zr)}),(function(t,e){return(e-t)/Zr}),(function(t){return t.getUTCSeconds()}))),di=(pi.range,Hr((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));di.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Hr((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):di:null};di.range;function yi(t){return Hr((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/ti}))}var vi=yi(0),gi=yi(1),mi=yi(2),bi=yi(3),_i=yi(4),xi=yi(5),wi=yi(6),Ei=(vi.range,gi.range,mi.range,bi.range,_i.range,xi.range,wi.range,Hr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Qr}),(function(t){return t.getUTCDate()-1}))),Si=Ei,ki=(Ei.range,Hr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));ki.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Hr((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Oi=ki;ki.range;function Ci(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pi(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ti(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Mi,Ai={"-":"",_:" ",0:"0"},Ii=/^\s*\d+/,ji=/^%/,Ri=/[\\^$*+?|[\]().{}]/g;function Di(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ni(t){return t.replace(Ri,"\\$&")}function Li(t){return new RegExp("^(?:"+t.map(Ni).join("|")+")","i")}function zi(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Fi(t,e,n){var r=Ii.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Bi(t,e,n){var r=Ii.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ui(t,e,n){var r=Ii.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function qi(t,e,n){var r=Ii.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Vi(t,e,n){var r=Ii.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Gi(t,e,n){var r=Ii.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Wi(t,e,n){var r=Ii.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Hi(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ki(t,e,n){var r=Ii.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Xi(t,e,n){var r=Ii.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Yi(t,e,n){var r=Ii.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Zi(t,e,n){var r=Ii.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $i(t,e,n){var r=Ii.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ji(t,e,n){var r=Ii.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Qi(t,e,n){var r=Ii.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function to(t,e,n){var r=Ii.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function eo(t,e,n){var r=Ii.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function no(t,e,n){var r=ji.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ro(t,e,n){var r=Ii.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function io(t,e,n){var r=Ii.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function oo(t,e){return Di(t.getDate(),e,2)}function ao(t,e){return Di(t.getHours(),e,2)}function so(t,e){return Di(t.getHours()%12||12,e,2)}function uo(t,e){return Di(1+li.count(Xr(t),t),e,3)}function co(t,e){return Di(t.getMilliseconds(),e,3)}function lo(t,e){return co(t,e)+"000"}function fo(t,e){return Di(t.getMonth()+1,e,2)}function ho(t,e){return Di(t.getMinutes(),e,2)}function po(t,e){return Di(t.getSeconds(),e,2)}function yo(t){var e=t.getDay();return 0===e?7:e}function vo(t,e){return Di(ni.count(Xr(t)-1,t),e,2)}function go(t){var e=t.getDay();return e>=4||0===e?ai(t):ai.ceil(t)}function mo(t,e){return t=go(t),Di(ai.count(Xr(t),t)+(4===Xr(t).getDay()),e,2)}function bo(t){return t.getDay()}function _o(t,e){return Di(ri.count(Xr(t)-1,t),e,2)}function xo(t,e){return Di(t.getFullYear()%100,e,2)}function wo(t,e){return Di((t=go(t)).getFullYear()%100,e,2)}function Eo(t,e){return Di(t.getFullYear()%1e4,e,4)}function So(t,e){var n=t.getDay();return Di((t=n>=4||0===n?ai(t):ai.ceil(t)).getFullYear()%1e4,e,4)}function ko(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Di(e/60|0,"0",2)+Di(e%60,"0",2)}function Oo(t,e){return Di(t.getUTCDate(),e,2)}function Co(t,e){return Di(t.getUTCHours(),e,2)}function Po(t,e){return Di(t.getUTCHours()%12||12,e,2)}function To(t,e){return Di(1+Si.count(Oi(t),t),e,3)}function Mo(t,e){return Di(t.getUTCMilliseconds(),e,3)}function Ao(t,e){return Mo(t,e)+"000"}function Io(t,e){return Di(t.getUTCMonth()+1,e,2)}function jo(t,e){return Di(t.getUTCMinutes(),e,2)}function Ro(t,e){return Di(t.getUTCSeconds(),e,2)}function Do(t){var e=t.getUTCDay();return 0===e?7:e}function No(t,e){return Di(vi.count(Oi(t)-1,t),e,2)}function Lo(t){var e=t.getUTCDay();return e>=4||0===e?_i(t):_i.ceil(t)}function zo(t,e){return t=Lo(t),Di(_i.count(Oi(t),t)+(4===Oi(t).getUTCDay()),e,2)}function Fo(t){return t.getUTCDay()}function Bo(t,e){return Di(gi.count(Oi(t)-1,t),e,2)}function Uo(t,e){return Di(t.getUTCFullYear()%100,e,2)}function qo(t,e){return Di((t=Lo(t)).getUTCFullYear()%100,e,2)}function Vo(t,e){return Di(t.getUTCFullYear()%1e4,e,4)}function Go(t,e){var n=t.getUTCDay();return Di((t=n>=4||0===n?_i(t):_i.ceil(t)).getUTCFullYear()%1e4,e,4)}function Wo(){return"+0000"}function Ho(){return"%"}function Ko(t){return+t}function Xo(t){return Math.floor(+t/1e3)}!function(t){Mi=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=Li(i),l=zi(i),f=Li(o),h=zi(o),p=Li(a),d=zi(a),y=Li(s),v=zi(s),g=Li(u),m=zi(u),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:oo,e:oo,f:lo,g:wo,G:So,H:ao,I:so,j:uo,L:co,m:fo,M:ho,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ko,s:Xo,S:po,u:yo,U:vo,V:mo,w:bo,W:_o,x:null,X:null,y:xo,Y:Eo,Z:ko,"%":Ho},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Oo,e:Oo,f:Ao,g:qo,G:Go,H:Co,I:Po,j:To,L:Mo,m:Io,M:jo,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ko,s:Xo,S:Ro,u:Do,U:No,V:zo,w:Fo,W:Bo,x:null,X:null,y:Uo,Y:Vo,Z:Wo,"%":Ho},x={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:Yi,e:Yi,f:eo,g:Wi,G:Gi,H:$i,I:$i,j:Zi,L:to,m:Xi,M:Ji,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},q:Ki,Q:ro,s:io,S:Qi,u:Bi,U:Ui,V:qi,w:Fi,W:Vi,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:Wi,Y:Gi,Z:Hi,"%":no};function w(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Ai[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function E(t,e){return function(n){var r,i,o=Ti(1900,void 0,1);if(S(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Pi(Ti(o.y,0,1))).getUTCDay(),r=i>4||0===i?gi.ceil(r):gi(r),r=Si.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Ci(Ti(o.y,0,1))).getDay(),r=i>4||0===i?ri.ceil(r):ri(r),r=li.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Pi(Ti(o.y,0,1)).getUTCDay():Ci(Ti(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Pi(o)):Ci(o)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in Ai?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),_.x=w(n,_),_.X=w(r,_),_.c=w(e,_),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t+="",!0);return e.toString=function(){return t},e}}}(t),Mi.format,Mi.parse,Mi.utcFormat,Mi.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Yo=Hr((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Zo=(Yo.range,Hr((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Jr)}),(function(t,e){return(e-t)/Jr}),(function(t){return t.getUTCHours()}))),$o=(Zo.range,Hr((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*$r)}),(function(t,e){return(e-t)/$r}),(function(t){return t.getUTCMinutes()})));$o.range;function Jo(){this._=null}function Qo(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ta(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ea(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function na(t){for(;t.L;)t=t.L;return t}Jo.prototype={constructor:Jo,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=na(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ta(this,n),n=(t=n).U),n.C=!1,r.C=!0,ea(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ea(this,n),n=(t=n).U),n.C=!1,r.C=!0,ta(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?na(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,ta(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ea(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ta(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ea(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ta(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ea(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ra=Jo;function ia(t,e,n,r){var i=[null,null],o=Pa.push(i)-1;return i.left=t,i.right=e,n&&aa(i,t,e,n),r&&aa(i,e,t,r),Oa[t.index].halfedges.push(o),Oa[e.index].halfedges.push(o),i}function oa(t,e,n){var r=[e,n];return r.left=t,r}function aa(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function sa(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],l=0,f=1,h=s[0]-u,p=s[1]-c;if(o=e-u,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>l&&(l=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<f&&(f=o)}if(o=n-c,p||!(o>0)){if(o/=p,p<0){if(o<l)return;o<f&&(f=o)}else if(p>0){if(o>f)return;o>l&&(l=o)}if(o=i-c,p||!(o<0)){if(o/=p,p<0){if(o>f)return;o>l&&(l=o)}else if(p>0){if(o<l)return;o<f&&(f=o)}return!(l>0||f<1)||(l>0&&(t[0]=[u+l*h,c+l*p]),f<1&&(t[1]=[u+f*h,c+f*p]),!0)}}}}}function ua(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,l=t.right,f=c[0],h=c[1],p=l[0],d=l[1],y=(f+p)/2,v=(h+d)/2;if(d===h){if(y<e||y>=r)return;if(f>p){if(u){if(u[1]>=i)return}else u=[y,n];o=[y,i]}else{if(u){if(u[1]<n)return}else u=[y,i];o=[y,n]}}else if(s=v-(a=(f-p)/(d-h))*y,a<-1||a>1)if(f>p){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function ca(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function la(t,e){return e[+(e.left!==t.site)]}function fa(t,e){return e[+(e.left===t.site)]}var ha,pa=[];function da(){Qo(this),this.x=this.y=this.arc=this.site=this.cy=null}function ya(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,l=o[0]-a,f=o[1]-s,h=2*(u*f-c*l);if(!(h>=-Ma)){var p=u*u+c*c,d=l*l+f*f,y=(f*p-c*d)/h,v=(u*d-l*p)/h,g=pa.pop()||new da;g.arc=t,g.site=i,g.x=y+a,g.y=(g.cy=v+s)+Math.sqrt(y*y+v*v),t.circle=g;for(var m=null,b=Ca._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}Ca.insert(m,g),m||(ha=g)}}}}function va(t){var e=t.circle;e&&(e.P||(ha=e.N),Ca.remove(e),pa.push(e),Qo(e),t.circle=null)}var ga=[];function ma(){Qo(this),this.edge=this.site=this.circle=null}function ba(t){var e=ga.pop()||new ma;return e.site=t,e}function _a(t){va(t),ka.remove(t),ga.push(t),Qo(t)}function xa(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];_a(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Ta&&Math.abs(r-u.circle.cy)<Ta;)o=u.P,s.unshift(u),_a(u),u=o;s.unshift(u),va(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<Ta&&Math.abs(r-c.circle.cy)<Ta;)a=c.N,s.push(c),_a(c),c=a;s.push(c),va(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],aa(c.edge,u.site,c.site,i);u=s[0],(c=s[f-1]).edge=ia(u.site,c.site,null,i),ya(u),ya(c)}function wa(t){for(var e,n,r,i,o=t[0],a=t[1],s=ka._;s;)if((r=Ea(s,a)-o)>Ta)s=s.L;else{if(!((i=o-Sa(s,a))>Ta)){r>-Ta?(e=s.P,n=s):i>-Ta?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Oa[t.index]={site:t,halfedges:[]}}(t);var u=ba(t);if(ka.insert(e,u),e||n){if(e===n)return va(e),n=ba(e.site),ka.insert(u,n),u.edge=n.edge=ia(e.site,u.site),ya(e),void ya(n);if(n){va(e),va(n);var c=e.site,l=c[0],f=c[1],h=t[0]-l,p=t[1]-f,d=n.site,y=d[0]-l,v=d[1]-f,g=2*(h*v-p*y),m=h*h+p*p,b=y*y+v*v,_=[(v*m-p*b)/g+l,(h*b-y*m)/g+f];aa(n.edge,c,d,_),u.edge=ia(c,t,null,_),n.edge=ia(t,d,null,_),ya(e),ya(n)}else u.edge=ia(e.site,u.site)}}function Ea(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}function Sa(t,e){var n=t.N;if(n)return Ea(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var ka,Oa,Ca,Pa,Ta=1e-6,Ma=1e-12;function Aa(t,e){return e[1]-t[1]||e[0]-t[0]}function Ia(t,e){var n,r,i,o=t.sort(Aa).pop();for(Pa=[],Oa=new Array(t.length),ka=new ra,Ca=new ra;;)if(i=ha,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(wa(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;xa(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Oa.length;i<o;++i)if((t=Oa[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=ca(t,Pa[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=Pa.length;o--;)ua(i=Pa[o],t,e,n,r)&&sa(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ta||Math.abs(i[0][1]-i[1][1])>Ta)||delete Pa[o]}(a,s,u,c),function(t,e,n,r){var i,o,a,s,u,c,l,f,h,p,d,y,v=Oa.length,g=!0;for(i=0;i<v;++i)if(o=Oa[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)Pa[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)d=(p=fa(o,Pa[u[s]]))[0],y=p[1],f=(l=la(o,Pa[u[++s%c]]))[0],h=l[1],(Math.abs(d-f)>Ta||Math.abs(y-h)>Ta)&&(u.splice(s,0,Pa.push(oa(a,p,Math.abs(d-t)<Ta&&r-y>Ta?[t,Math.abs(f-t)<Ta?h:r]:Math.abs(y-r)<Ta&&n-d>Ta?[Math.abs(h-r)<Ta?f:n,r]:Math.abs(d-n)<Ta&&y-e>Ta?[n,Math.abs(f-n)<Ta?h:e]:Math.abs(y-e)<Ta&&d-t>Ta?[Math.abs(h-e)<Ta?f:t,e]:null))-1),++c);c&&(g=!1)}if(g){var m,b,_,x=1/0;for(i=0,g=null;i<v;++i)(o=Oa[i])&&(_=(m=(a=o.site)[0]-t)*m+(b=a[1]-e)*b)<x&&(x=_,g=o);if(g){var w=[t,e],E=[t,r],S=[n,r],k=[n,e];g.halfedges.push(Pa.push(oa(a=g.site,w,E))-1,Pa.push(oa(a,E,S))-1,Pa.push(oa(a,S,k))-1,Pa.push(oa(a,k,w))-1)}}for(i=0;i<v;++i)(o=Oa[i])&&(o.halfedges.length||delete Oa[i])}(a,s,u,c)}this.edges=Pa,this.cells=Oa,ka=Ca=Pa=Oa=null}Ia.prototype={constructor:Ia,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return la(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,c,l=n.site,f=-1,h=e[i[o-1]],p=h.left===l?h.right:h.left;++f<o;)a=p,p=(h=e[i[f]]).left===l?h.right:h.left,a&&p&&r<a.index&&r<p.index&&(u=a,c=p,((s=l)[0]-c[0])*(u[1]-s[1])-(s[0]-u[0])*(c[1]-s[1])<0)&&t.push([l.data,a.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],f=u*u+c*c;f<l&&(l=f,a=s.index)}}))}while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}};var ja={value:function(){}};function Ra(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Da(r)}function Da(t){this._=t}function Na(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function La(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function za(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ja,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Da.prototype=Ra.prototype={constructor:Da,on:function(t,e){var n,r=this._,i=Na(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=za(r[n],t.name,e);else if(null==e)for(n in r)r[n]=za(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=La(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Da(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Fa=Ra;function Ba(){}var Ua=function(t){return null==t?Ba:function(){return this.querySelector(t)}};function qa(){return[]}var Va=function(t){return null==t?qa:function(){return this.querySelectorAll(t)}},Ga=function(t){return function(){return this.matches(t)}},Wa=function(t){return new Array(t.length)};function Ha(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ha.prototype={constructor:Ha,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ka(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Ha(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Xa(t,e,n,r,i,o,a){var s,u,c,l={},f=e.length,h=o.length,p=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(p[s]=c="$"+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<h;++s)(u=l[c="$"+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new Ha(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l[p[s]]===u&&(i[s]=u)}function Ya(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Za="http://www.w3.org/1999/xhtml",$a={svg:"http://www.w3.org/2000/svg",xhtml:Za,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ja=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),$a.hasOwnProperty(e)?{space:$a[e],local:t}:t};function Qa(t){return function(){this.removeAttribute(t)}}function ts(t){return function(){this.removeAttributeNS(t.space,t.local)}}function es(t,e){return function(){this.setAttribute(t,e)}}function ns(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function rs(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function is(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var os=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function as(t){return function(){this.style.removeProperty(t)}}function ss(t,e,n){return function(){this.style.setProperty(t,e,n)}}function us(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function cs(t,e){return t.style.getPropertyValue(e)||os(t).getComputedStyle(t,null).getPropertyValue(e)}function ls(t){return function(){delete this[t]}}function fs(t,e){return function(){this[t]=e}}function hs(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ps(t){return t.trim().split(/^|\s+/)}function ds(t){return t.classList||new ys(t)}function ys(t){this._node=t,this._names=ps(t.getAttribute("class")||"")}function vs(t,e){for(var n=ds(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function gs(t,e){for(var n=ds(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ms(t){return function(){vs(this,t)}}function bs(t){return function(){gs(this,t)}}function _s(t,e){return function(){(e.apply(this,arguments)?vs:gs)(this,t)}}ys.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function xs(){this.textContent=""}function ws(t){return function(){this.textContent=t}}function Es(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ss(){this.innerHTML=""}function ks(t){return function(){this.innerHTML=t}}function Os(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Cs(){this.nextSibling&&this.parentNode.appendChild(this)}function Ps(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ts(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Za&&e.documentElement.namespaceURI===Za?e.createElement(t):e.createElementNS(n,t)}}function Ms(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var As=function(t){var e=Ja(t);return(e.local?Ms:Ts)(e)};function Is(){return null}function js(){var t=this.parentNode;t&&t.removeChild(this)}function Rs(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ds(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var Ns={},Ls=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(Ns={mouseenter:"mouseover",mouseleave:"mouseout"}));function zs(t,e,n){return t=Fs(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Fs(t,e,n){return function(r){var i=Ls;Ls=r;try{t.call(this,this.__data__,e,n)}finally{Ls=i}}}function Bs(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Us(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function qs(t,e,n){var r=Ns.hasOwnProperty(t.type)?zs:Fs;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function Vs(t,e,n){var r=os(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Gs(t,e){return function(){return Vs(this,t,e)}}function Ws(t,e){return function(){return Vs(this,t,e.apply(this,arguments))}}var Hs=[null];function Ks(t,e){this._groups=t,this._parents=e}function Xs(){return new Ks([[document.documentElement]],Hs)}Ks.prototype=Xs.prototype={constructor:Ks,select:function(t){"function"!==typeof t&&(t=Ua(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Ks(r,this._parents)},selectAll:function(t){"function"!==typeof t&&(t=Va(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Ks(r,i)},filter:function(t){"function"!==typeof t&&(t=Ga(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Ks(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each((function(t){d[++l]=t})),d;var n,r=e?Xa:Ka,i=this._parents,o=this._groups;"function"!==typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],p=h.length,d=t.call(f,f&&f.__data__,l,i),y=d.length,v=u[l]=new Array(y),g=s[l]=new Array(y);r(f,h,v,g,c[l]=new Array(p),d,e);for(var m,b,_=0,x=0;_<y;++_)if(m=v[_]){for(_>=x&&(x=_+1);!(b=g[x])&&++x<y;);m._next=b||null}}return(s=new Ks(s,i))._enter=u,s._exit=c,s},enter:function(){return new Ks(this._enter||this._groups.map(Wa),this._parents)},exit:function(){return new Ks(this._exit||this._groups.map(Wa),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new Ks(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ya);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new Ks(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ja(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ts:Qa:"function"===typeof e?n.local?is:rs:n.local?ns:es)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?as:"function"===typeof e?us:ss)(t,e,null==n?"":n)):cs(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ls:"function"===typeof e?hs:fs)(t,e)):this.node()[t]},classed:function(t,e){var n=ps(t+"");if(arguments.length<2){for(var r=ds(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?_s:e?ms:bs)(n,e))},text:function(t){return arguments.length?this.each(null==t?xs:("function"===typeof t?Es:ws)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ss:("function"===typeof t?Os:ks)(t)):this.node().innerHTML},raise:function(){return this.each(Cs)},lower:function(){return this.each(Ps)},append:function(t){var e="function"===typeof t?t:As(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:As(t),r=null==e?Is:"function"===typeof e?e:Ua(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(js)},clone:function(t){return this.select(t?Ds:Rs)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Bs(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?qs:Us,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"===typeof e?Ws:Gs)(t,e))}};var Ys=Xs;Math.SQRT2;var Zs,$s,Js=0,Qs=0,tu=0,eu=0,nu=0,ru=0,iu="object"===typeof performance&&performance.now?performance:Date,ou="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function au(){return nu||(ou(su),nu=iu.now()+ru)}function su(){nu=0}function uu(){this._call=this._time=this._next=null}function cu(t,e,n){var r=new uu;return r.restart(t,e,n),r}function lu(){nu=(eu=iu.now())+ru,Js=Qs=0;try{!function(){au(),++Js;for(var t,e=Zs;e;)(t=nu-e._time)>=0&&e._call.call(null,t),e=e._next;--Js}()}finally{Js=0,function(){var t,e,n=Zs,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Zs=e);$s=t,hu(r)}(),nu=0}}function fu(){var t=iu.now(),e=t-eu;e>1e3&&(ru-=e,eu=t)}function hu(t){Js||(Qs&&(Qs=clearTimeout(Qs)),t-nu>24?(t<1/0&&(Qs=setTimeout(lu,t-iu.now()-ru)),tu&&(tu=clearInterval(tu))):(tu||(eu=iu.now(),tu=setInterval(fu,1e3)),Js=1,ou(lu)))}uu.prototype=cu.prototype={constructor:uu,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?au():+n)+(null==e?0:+e),this._next||$s===this||($s?$s._next=this:Zs=this,$s=this),this._call=t,this._time=n,hu()},stop:function(){this._call&&(this._call=null,this._time=1/0,hu())}};var pu=function(t,e,n){var r=new uu;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},du=Fa("start","end","cancel","interrupt"),yu=[],vu=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,l,f,h;if(1!==n.state)return u();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return pu(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(pu((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=cu(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:du,tween:yu,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function gu(t,e){var n=bu(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function mu(t,e){var n=bu(t,e);if(n.state>3)throw new Error("too late; already running");return n}function bu(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var _u,xu,wu,Eu,Su=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},ku=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Ou=180/Math.PI,Cu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Pu=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Ou,skewX:Math.atan(u)*Ou,scaleX:a,scaleY:s}};function Tu(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:ku(t,i)},{i:u-2,x:ku(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:ku(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:ku(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:ku(t,n)},{i:s-2,x:ku(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var Mu=Tu((function(t){return"none"===t?Cu:(_u||(_u=document.createElement("DIV"),xu=document.documentElement,wu=document.defaultView),_u.style.transform=t,t=wu.getComputedStyle(xu.appendChild(_u),null).getPropertyValue("transform"),xu.removeChild(_u),t=t.slice(7,-1).split(","),Pu(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Au=Tu((function(t){return null==t?Cu:(Eu||(Eu=document.createElementNS("http://www.w3.org/2000/svg","g")),Eu.setAttribute("transform",t),(t=Eu.transform.baseVal.consolidate())?(t=t.matrix,Pu(t.a,t.b,t.c,t.d,t.e,t.f)):Cu)}),", ",")",")");function Iu(t,e){var n,r;return function(){var i=mu(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function ju(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=mu(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function Ru(t,e,n){var r=t._id;return t.each((function(){var t=mu(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return bu(t,r).value[e]}}var Du=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Nu(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Lu(){}var zu=.7,Fu=1/zu,Bu="\\s*([+-]?\\d+)\\s*",Uu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",qu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vu=/^#([0-9a-f]{3,8})$/,Gu=new RegExp("^rgb\\("+[Bu,Bu,Bu]+"\\)$"),Wu=new RegExp("^rgb\\("+[qu,qu,qu]+"\\)$"),Hu=new RegExp("^rgba\\("+[Bu,Bu,Bu,Uu]+"\\)$"),Ku=new RegExp("^rgba\\("+[qu,qu,qu,Uu]+"\\)$"),Xu=new RegExp("^hsl\\("+[Uu,qu,qu]+"\\)$"),Yu=new RegExp("^hsla\\("+[Uu,qu,qu,Uu]+"\\)$"),Zu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $u(){return this.rgb().formatHex()}function Ju(){return this.rgb().formatRgb()}function Qu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Vu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?tc(e):3===n?new ic(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ec(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ec(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Gu.exec(t))?new ic(e[1],e[2],e[3],1):(e=Wu.exec(t))?new ic(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Hu.exec(t))?ec(e[1],e[2],e[3],e[4]):(e=Ku.exec(t))?ec(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Xu.exec(t))?uc(e[1],e[2]/100,e[3]/100,1):(e=Yu.exec(t))?uc(e[1],e[2]/100,e[3]/100,e[4]):Zu.hasOwnProperty(t)?tc(Zu[t]):"transparent"===t?new ic(NaN,NaN,NaN,0):null}function tc(t){return new ic(t>>16&255,t>>8&255,255&t,1)}function ec(t,e,n,r){return r<=0&&(t=e=n=NaN),new ic(t,e,n,r)}function nc(t){return t instanceof Lu||(t=Qu(t)),t?new ic((t=t.rgb()).r,t.g,t.b,t.opacity):new ic}function rc(t,e,n,r){return 1===arguments.length?nc(t):new ic(t,e,n,null==r?1:r)}function ic(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function oc(){return"#"+sc(this.r)+sc(this.g)+sc(this.b)}function ac(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function sc(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function uc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new lc(t,e,n,r)}function cc(t){if(t instanceof lc)return new lc(t.h,t.s,t.l,t.opacity);if(t instanceof Lu||(t=Qu(t)),!t)return new lc;if(t instanceof lc)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new lc(a,s,u,t.opacity)}function lc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function fc(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function hc(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Du(Lu,Qu,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:$u,formatHex:$u,formatHsl:function(){return cc(this).formatHsl()},formatRgb:Ju,toString:Ju}),Du(ic,rc,Nu(Lu,{brighter:function(t){return t=null==t?Fu:Math.pow(Fu,t),new ic(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?zu:Math.pow(zu,t),new ic(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oc,formatHex:oc,formatRgb:ac,toString:ac})),Du(lc,(function(t,e,n,r){return 1===arguments.length?cc(t):new lc(t,e,n,null==r?1:r)}),Nu(Lu,{brighter:function(t){return t=null==t?Fu:Math.pow(Fu,t),new lc(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?zu:Math.pow(zu,t),new lc(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ic(fc(t>=240?t-240:t+120,i,r),fc(t,i,r),fc(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var pc=function(t){return function(){return t}};function dc(t,e){return function(n){return t+n*e}}function yc(t){return 1===(t=+t)?vc:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):pc(isNaN(e)?n:e)}}function vc(t,e){var n=e-t;return n?dc(t,n):pc(isNaN(t)?e:t)}var gc=function t(e){var n=yc(e);function r(t,e){var r=n((t=rc(t)).r,(e=rc(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=vc(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function mc(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=rc(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}mc((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return hc((n-r/e)*e,a,i,o,s)}})),mc((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return hc((n-r/e)*e,i,o,a,s)}}));var bc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_c=new RegExp(bc.source,"g");var xc=function(t,e){var n,r,i,o=bc.lastIndex=_c.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=bc.exec(t))&&(r=_c.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:ku(n,r)})),o=_c.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},wc=function(t,e){var n;return("number"===typeof e?ku:e instanceof Qu?gc:(n=Qu(e))?(e=n,gc):xc)(t,e)};function Ec(t){return function(){this.removeAttribute(t)}}function Sc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kc(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Oc(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Cc(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function Pc(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Tc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Mc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ac(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Mc(t,i)),n}return i._value=e,i}function Ic(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Tc(t,i)),n}return i._value=e,i}function jc(t,e){return function(){gu(this,t).delay=+e.apply(this,arguments)}}function Rc(t,e){return e=+e,function(){gu(this,t).delay=e}}function Dc(t,e){return function(){mu(this,t).duration=+e.apply(this,arguments)}}function Nc(t,e){return e=+e,function(){mu(this,t).duration=e}}function Lc(t,e){if("function"!==typeof e)throw new Error;return function(){mu(this,t).ease=e}}function zc(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?gu:mu;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Fc=Ys.prototype.constructor;function Bc(t){return function(){this.style.removeProperty(t)}}function Uc(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function qc(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Uc(t,o,n)),r}return o._value=e,o}function Vc(t){return function(e){this.textContent=t.call(this,e)}}function Gc(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Vc(r)),e}return r._value=t,r}var Wc=0;function Hc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Kc(){return++Wc}var Xc=Ys.prototype;Hc.prototype=function(t){return Ys().transition(t)}.prototype={constructor:Hc,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Ua(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,vu(f[h],e,n,h,f,bu(s,n)));return new Hc(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Va(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,p=t.call(u,u.__data__,f,c),d=bu(u,n),y=0,v=p.length;y<v;++y)(h=p[y])&&vu(h,e,n,y,p,d);o.push(p),a.push(u)}return new Hc(o,a,e,n)},filter:function(t){"function"!==typeof t&&(t=Ga(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Hc(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new Hc(a,this._parents,this._name,this._id)},selection:function(){return new Fc(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Kc(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=bu(a,e);vu(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Hc(r,this._parents,t,n)},call:Xc.call,nodes:Xc.nodes,node:Xc.node,size:Xc.size,empty:Xc.empty,each:Xc.each,on:function(t,e){var n=this._id;return arguments.length<2?bu(this.node(),n).on.on(t):this.each(zc(n,t,e))},attr:function(t,e){var n=Ja(t),r="transform"===n?Au:wc;return this.attrTween(t,"function"===typeof e?(n.local?Pc:Cc)(n,r,Ru(this,"attr."+t,e)):null==e?(n.local?Sc:Ec)(n):(n.local?Oc:kc)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=Ja(t);return this.tween(n,(r.local?Ac:Ic)(r,e))},style:function(t,e,n){var r="transform"===(t+="")?Mu:wc;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=cs(this,t),a=(this.style.removeProperty(t),cs(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Bc(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=cs(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=cs(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,Ru(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=mu(this,t),c=u.on,l=null==u.value[a]?o||(o=Bc(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=cs(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,qc(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ru(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,Gc(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=bu(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Iu:ju)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?jc:Rc)(e,t)):bu(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Dc:Nc)(e,t)):bu(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Lc(e,t)):bu(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};n.each((function(){var n=mu(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e}))}))}};var Yc={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Zc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Yc.time=au(),Yc;return n}Ys.prototype.interrupt=function(t){return this.each((function(){Su(this,t)}))},Ys.prototype.transition=function(t){var e,n;t instanceof Hc?(e=t._id,t=t._name):(e=Kc(),(n=Yc).time=au(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&vu(a,t,e,c,s,n||Zc(a,e));return new Hc(r,this._parents,t,e)};function $c(t,e,n){this.k=t,this.x=e,this.y=n}$c.prototype={constructor:$c,scale:function(t){return 1===t?this:new $c(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new $c(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new $c(1,0,0);$c.prototype},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(56);function i(t,e,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(r.a)(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return u}));var r=n(245),i=n(50),o=n(40),a=n(296);function s(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(r.a)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Object(a.a)(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,o,a=e(),s=0,u=a.length-1,c=a[s],l=a[u],f=10;for(l<c&&(o=c,c=l,l=o,o=s,s=u,u=o);f-- >0;){if((o=Object(r.b)(c,l,n))===i)return a[s]=c,a[u]=l,e(a);if(o>0)c=Math.floor(c/o)*o,l=Math.ceil(l/o)*o;else{if(!(o<0))break;c=Math.ceil(c*o)/o,l=Math.floor(l*o)/o}i=o}return t},t}function u(){var t=Object(i.b)();return t.copy=function(){return Object(i.a)(t,u())},o.b.apply(t,arguments),s(t)}},function(t,e){t.exports=function(t){return null!==t&&"object"===typeof t}},function(t,e,n){var r=n(249),i=n(340),o=n(694),a=n(467),s=n(468),u=n(471),c=Date.prototype.getTime;function l(t,e,n){var p=n||{};return!!(p.strict?o(t,e):t===e)||(!t||!e||"object"!==typeof t&&"object"!==typeof e?p.strict?o(t,e):t==e:function(t,e,n){var o,p;if(typeof t!==typeof e)return!1;if(f(t)||f(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t)!==i(e))return!1;var d=a(t),y=a(e);if(d!==y)return!1;if(d||y)return t.source===e.source&&s(t)===s(e);if(u(t)&&u(e))return c.call(t)===c.call(e);var v=h(t),g=h(e);if(v!==g)return!1;if(v||g){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(typeof t!==typeof e)return!1;try{var m=r(t),b=r(e)}catch(_){return!1}if(m.length!==b.length)return!1;for(m.sort(),b.sort(),o=m.length-1;o>=0;o--)if(m[o]!=b[o])return!1;for(o=m.length-1;o>=0;o--)if(!l(t[p=m[o]],e[p],n))return!1;return!0}(t,e,p))}function f(t){return null===t||void 0===t}function h(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}t.exports=l},function(t,e,n){"use strict";var r="Invariant failed";e.a=function(t,e){if(!t)throw new Error(r)}},function(t,e,n){var r=n(219);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return c}));var r=n(63),i=n(214);function o(t,e,n){var o=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Object(r.a)(n,t.stream(i.a)),e(i.a.result()),null!=o&&t.clipExtent(o),t}function a(t,e,n){return o(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function s(t,e,n){return a(t,[[0,0],e],n)}function u(t,e,n){return o(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function c(t,e,n){return o(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}},,function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return!!t&&r.call(t,e)}var o=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function a(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(65535!==(65535&t)&&65534!==(65535&t)&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function s(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}var u=/&([a-z#][a-z0-9]{1,31});/gi,c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,l=n(531);function f(t,e){var n=0;return i(l,e)?l[e]:35===e.charCodeAt(0)&&c.test(e)&&a(n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10))?s(n):t}var h=/[&<>"]/,p=/[&<>"]/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function y(t){return d[t]}e.assign=function(t){var e=[].slice.call(arguments,1);return e.forEach((function(e){if(e){if("object"!==typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t},e.isString=function(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)},e.has=i,e.unescapeMd=function(t){return t.indexOf("\\")<0?t:t.replace(o,"$1")},e.isValidEntityCode=a,e.fromCodePoint=s,e.replaceEntities=function(t){return t.indexOf("&")<0?t:t.replace(u,f)},e.escapeHtml=function(t){return h.test(t)?t.replace(p,y):t}},function(t,e,n){"use strict";var r=n(89),i=n(1039),o=n(1040),a=n(1042),s=n(282),u=n(44),c=n(1045),l=n(1046),f=n(45),h=n(571),p=n(569),d=n(1047),y=n(1048),v=u.OrderedSet,g={replaceText:function(t,e,n,i,o){var a=p(t,e),s=d(a,e),u=r.create({style:i||v(),entity:o||null});return l(s,s.getSelectionAfter(),n,u)},insertText:function(t,e,n,r,i){return e.isCollapsed()||f(!1),g.replaceText(t,e,n,r,i)},moveText:function(t,e,n){var r=s(t,e),i=g.removeRange(t,e,"backward");return g.replaceWithFragment(i,n,r)},replaceWithFragment:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",i=p(t,e),o=d(i,e);return c(o,o.getSelectionAfter(),n,r)},removeRange:function(t,e,n){var r,i,o,s;e.getIsBackward()&&(e=e.merge({anchorKey:e.getFocusKey(),anchorOffset:e.getFocusOffset(),focusKey:e.getAnchorKey(),focusOffset:e.getAnchorOffset(),isBackward:!1})),r=e.getAnchorKey(),i=e.getFocusKey(),o=t.getBlockForKey(r),s=t.getBlockForKey(i);var u=e.getStartOffset(),c=e.getEndOffset(),l=o.getEntityAt(u),f=s.getEntityAt(c-1);if(r===i&&l&&l===f){var h=a(t.getEntityMap(),o,s,e,n);return d(t,h)}var y=p(t,e);return d(y,e)},splitBlock:function(t,e){var n=p(t,e),r=d(n,e);return y(r,r.getSelectionAfter())},applyInlineStyle:function(t,e,n){return i.add(t,e,n)},removeInlineStyle:function(t,e,n){return i.remove(t,e,n)},setBlockType:function(t,e,n){return h(t,e,(function(t){return t.merge({type:n,depth:0})}))},setBlockData:function(t,e,n){return h(t,e,(function(t){return t.merge({data:n})}))},mergeBlockData:function(t,e,n){return h(t,e,(function(t){return t.merge({data:t.getData().merge(n)})}))},applyEntity:function(t,e,n){var r=p(t,e);return o(r,e,n)}};t.exports=g},function(t,e,n){"use strict";t.exports=function(t){if(null!=t)return t;throw new Error("Got unexpected null or undefined")}},function(t,e,n){"use strict";var r=n(1058),i=n(1060),o=n(1061),a=n(1062);function s(t,e,n,r){if(t===n)return!0;if(!n.startsWith(t))return!1;var o=n.slice(t.length);return!!e&&(o=r?r(o):o,i.contains(o,e))}function u(t){return"Windows"===r.platformName?t.replace(/^\s*NT/,""):t}var c={isBrowser:function(t){return s(r.browserName,r.browserFullVersion,t)},isBrowserArchitecture:function(t){return s(r.browserArchitecture,null,t)},isDevice:function(t){return s(r.deviceName,null,t)},isEngine:function(t){return s(r.engineName,r.engineVersion,t)},isPlatform:function(t){return s(r.platformName,r.platformFullVersion,t,u)},isPlatformArchitecture:function(t){return s(r.platformArchitecture,null,t)}};t.exports=o(c,a)},function(t,e,n){"use strict";function r(){this.reset()}e.a=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){o(i,t,this.t),o(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new r;function o(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}},function(t,e,n){"use strict";n.d(e,"config",(function(){return A})),n.d(e,"to",(function(){return Ut})),n.d(e,"useSpring",(function(){return jt})),n.d(e,"useTransition",(function(){return zt}));var r=n(36),i=n(16),o=n(24),a=n.n(o),s=n(65),u=n(56),c=n(9),l=n(7),f=n(8),h=n(658),p=n(42),d=n(37),y=n(6),v=n(12),g=n(130),m=n(10),b=n(57),_=n(100),x=n(151),w=n(144),E=n(17),S=n(1),k=n(58),O=n(38),C=n(18),P=n(411),T=n(54),M=n(325);var A={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},I=Object(E.a)(Object(E.a)({},A.default),{},{mass:1,damping:1,easing:function(t){return t},clamp:!1}),j=function t(){Object(y.a)(this,t),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,I)};function R(t,e){if(m.d.und(e.decay)){var n=!m.d.und(e.tension)||!m.d.und(e.friction);!n&&m.d.und(e.frequency)&&m.d.und(e.damping)&&m.d.und(e.mass)||(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}else t.duration=void 0}var D=[],N=function t(){Object(y.a)(this,t),this.changed=!1,this.values=D,this.toValues=null,this.fromValues=D,this.to=void 0,this.from=void 0,this.config=new j,this.immediate=!1,this.onStart=void 0,this.onChange=void 0,this.onRest=[]},L=function(t,e){return Object(C.d)(t,e||[{}])};function z(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return m.d.fun(t)?t.apply(void 0,n):t}var F=function(t,e){return!0===t||!!(e&&t&&(m.d.fun(t)?t(e):Object(m.h)(t).includes(e)))},B=function(t,e,n){return t&&(m.d.fun(t)?t(e,n):m.d.arr(t)?t[e]:Object(E.a)({},t))},U=function(t,e){return!0===t.default?t[e]:t.default?t.default[e]:void 0},q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=V;t.default&&!0!==t.default&&(t=t.default,r=Object.keys(t));var i,o=Object(d.a)(r);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=t[a];m.d.und(s)||e.includes(a)||(n[a]=s)}}catch(u){o.e(u)}finally{o.f()}return n},V=["pause","cancel","config","immediate","onDelayEnd","onProps","onStart","onChange","onRest"],G={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onDelayEnd:1,onProps:1,onStart:1,onChange:1,onRest:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,keys:1,callId:1,parentId:1};function W(t){var e=function(t){var e={},n=0;if(Object(m.b)(t,(function(t,r){G[r]||(e[r]=t,n++)})),n)return e}(t);if(e){var n={to:e};return Object(m.b)(t,(function(t,r){return r in e||(n[r]=t)})),n}return Object(E.a)({},t)}function H(t){var e=Object(b.b)(t);return e?H(e.get()):m.d.arr(t)?t.map(H):Object(m.e)(t)?Object(O.createStringInterpolator)({range:[0,1],output:[t,t]})(1):t}function K(t,e){var n=e.key,r=e.props,i=e.state,o=e.actions;return new Promise((function(e,a){var s,u,c=!1,l=F(r.cancel,n);function f(){i.resumeQueue.add(h),u.cancel(),s=u.time-_.Globals.now()}function h(){s>0?(i.pauseQueue.add(f),u=_.Globals.frameLoop.setTimeout(p,s)):p()}function p(){i.pauseQueue.delete(f),t<=(i.cancelId||0)&&(l=!0);try{o.start(Object(E.a)(Object(E.a)({},r),{},{callId:t,delay:s,cancel:l,pause:c}),e)}catch(n){a(n)}}l?p():(s=z(r.delay||0,n),(c=F(r.pause,n))?(i.resumeQueue.add(h),o.pause()):(o.resume(),h()))}))}var X=function(t,e){return 1==e.length?e[0]:e.some((function(t){return t.cancelled}))?$(t):e.every((function(t){return t.noop}))?Y(t):Z(t,e.every((function(t){return t.finished})))},Y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.get();return{value:e,noop:!0,finished:!0,target:t}},Z=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.get();return{value:n,finished:e,target:t}},$=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.get();return{value:e,cancelled:!0,target:t}};function J(t,e,n,r){return Q.apply(this,arguments)}function Q(){return(Q=Object(p.a)(a.a.mark((function t(e,n,r,i){var o,s,u,c,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.pause){t.next=3;break}return t.next=3,new Promise((function(t){r.resumeQueue.add(t)}));case 3:if(o=n.callId,s=n.parentId,u=n.onRest,c=r.asyncTo,l=r.promise,s||e!==c||n.reset){t.next=7;break}return t.abrupt("return",l);case 7:return t.abrupt("return",r.promise=Object(p.a)(a.a.mark((function t(){var f,h,y,v,g,b,_,x;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.asyncId=o,r.asyncTo=e,f=q(n,["onRest"]),v=new Promise((function(t,e){return h=t,y=e})),g=function(t){var e=o<=(r.cancelId||0)&&$(i)||o!==r.asyncId&&Z(i,!1);if(e)throw t.result=e,t},b=function(t){return function(){var e=function(t){throw t instanceof et&&y(t),t};try{return t.apply(void 0,arguments).catch(e)}catch(n){e(n)}}}((function(t,e){var n=new et;g(n);var s=m.d.obj(t)?Object(E.a)({},t):Object(E.a)(Object(E.a)({},e),{},{to:t});return s.parentId=o,Object(m.b)(f,(function(t,e){m.d.und(s[e])&&(s[e]=t)})),i.start(s).then(function(){var t=Object(p.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g(n),!i.is("PAUSED")){t.next=4;break}return t.next=4,new Promise((function(t){r.resumeQueue.add(t)}));case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),t.prev=7,m.d.arr(e)?x=function(){var t=Object(p.a)(a.a.mark((function t(e){var n,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(d.a)(e),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=9;break}return i=r.value,t.next=7,b(i);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()(e):m.d.fun(e)&&(x=Promise.resolve(e(b,i.stop.bind(i)))),t.next=11,Promise.all([x.then(h),v]);case 11:_=Z(i,!0),t.next=21;break;case 14:if(t.prev=14,t.t0=t.catch(7),!(t.t0 instanceof et)){t.next=20;break}_=t.t0.result,t.next=21;break;case 20:throw t.t0;case 21:return t.prev=21,o==r.asyncId&&(r.asyncId=s,r.asyncTo=s?c:void 0,r.promise=s?l:void 0),t.finish(21);case 24:return m.d.fun(u)&&Object(O.batchedUpdates)((function(){u(_)})),t.abrupt("return",_);case 26:case"end":return t.stop()}}),t,null,[[7,14,21,24]])})))());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t,e){t.cancelId=e,t.asyncId=t.asyncTo=t.promise=void 0}var et=function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(){var t;return Object(y.a)(this,n),(t=e.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,t}return n}(Object(h.a)(Error)),nt=function(t){return t instanceof it},rt=1,it=function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(y.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).id=rt++,t.key=void 0,t._priority=0,t._children=new Set,t}return Object(c.a)(n,[{key:"get",value:function(){var t=Object(k.f)(this);return t&&t.getValue()}},{key:"to",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(O.to)(this,e)}},{key:"interpolate",value:function(){Object(P.a)();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(O.to)(this,e)}},{key:"addChild",value:function(t){this._children.size||this._attach(),this._children.add(t)}},{key:"removeChild",value:function(t){this._children.delete(t),this._children.size||this._detach()}},{key:"onParentChange",value:function(t){var e=t.type;this.idle?"start"==e&&(this._reset(),this._start()):"reset"==e&&this._reset()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_reset",value:function(){this._emit({type:"reset",parent:this})}},{key:"_start",value:function(){this._emit({type:"start",parent:this})}},{key:"_onChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._emit({type:"change",parent:this,value:t,idle:e})}},{key:"_onPriorityChange",value:function(t){this.idle||O.frameLoop.start(this),this._emit({type:"priority",parent:this,priority:t})}},{key:"_emit",value:function(t){Object(m.b)(Array.from(this._children),(function(e){e.onParentChange(t)}))}},{key:"priority",get:function(){return this._priority},set:function(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}}]),n}(b.a),ot="CREATED",at="IDLE",st="ACTIVE",ut="PAUSED",ct="DISPOSED",lt=function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(t,r){var i;if(Object(y.a)(this,n),(i=e.call(this)).key=void 0,i.animation=new N,i.queue=void 0,i._phase=ot,i._state={pauseQueue:new Set,resumeQueue:new Set},i._defaultProps={},i._lastCallId=0,i._lastToId=0,!m.d.und(t)||!m.d.und(r)){var o=m.d.obj(t)?Object(E.a)({},t):Object(E.a)(Object(E.a)({},r),{},{from:t});o.default=!0,i.start(o)}return i}return Object(c.a)(n,[{key:"advance",value:function(t){var e=this,n=!0,r=!1,i=this.animation,o=i.config,a=i.toValues,s=Object(k.g)(i.to);if(!s){var u=Object(b.b)(i.to);u&&(a=Object(m.h)(u.get()))}return i.values.forEach((function(u,c){if(!u.done){var l=s?s[c].lastPosition:a[c],f=i.immediate,h=l;if(!f){if(h=u.lastPosition,o.tension<=0)return void(u.done=!0);var p,d=u.elapsedTime+=t,y=i.fromValues[c],v=null!=u.v0?u.v0:u.v0=m.d.arr(o.velocity)?o.velocity[c]:o.velocity;if(m.d.und(o.duration))if(o.decay){var g=!0===o.decay?.998:o.decay,b=Math.exp(-(1-g)*d);h=y+v/(1-g)*(1-b),f=Math.abs(u.lastPosition-h)<.1,p=v*b}else{p=null==u.lastVelocity?v:u.lastVelocity;for(var _=o.precision||(y==l?.005:Math.min(1,.001*Math.abs(l-y))),x=o.restVelocity||_/10,w=o.clamp?0:o.bounce,E=!m.d.und(w),S=y==l?u.v0>0:y<l,k=Math.ceil(t/1),O=0;O<k&&(Math.abs(p)>x||!(f=Math.abs(l-h)<=_));++O){E&&(h==l||h>l==S)&&(p=-p*w,h=l),h+=1*(p+=1*((1e-6*-o.tension*(h-l)+.001*-o.friction*p)/o.mass))}}else{var C=o.progress||0;o.duration<=0?C=1:C+=(1-C)*Math.min(1,d/o.duration),p=((h=y+o.easing(C)*(l-y))-u.lastPosition)/t,f=1==C}u.lastVelocity=p,Number.isNaN(h)&&(console.warn("Got NaN while animating:",e),f=!0)}s&&!s[c].done&&(f=!1),f?u.done=!0:n=!1,u.setValue(h,o.round)&&(r=!0)}})),n?this.finish():r&&this._onChange(this.get()),n}},{key:"is",value:function(t){return this._phase==t}},{key:"set",value:function(t){var e=this;return Object(O.batchedUpdates)((function(){if(e._focus(t),e._set(t)&&!e.is(st))return e._onChange(e.get(),!0);e._stop()})),this}},{key:"pause",value:function(){ft(this,"pause"),this.is(ut)||(this._phase=ut,Object(m.c)(this._state.pauseQueue,(function(t){return t()})))}},{key:"resume",value:function(){ft(this,"resume"),this.is(ut)&&(this._start(),Object(m.c)(this._state.resumeQueue,(function(t){return t()})))}},{key:"finish",value:function(t){var e=this;if(this.resume(),this.is(st)){var n=this.animation;!n.config.decay&&m.d.und(t)&&(t=n.to),m.d.und(t)||this._set(t),Object(O.batchedUpdates)((function(){n.changed||(n.changed=!0,n.onStart&&n.onStart(e)),e._stop()}))}return this}},{key:"update",value:function(t){return ft(this,"update"),(this.queue||(this.queue=[])).push(t),this}},{key:"start",value:function(){var t=Object(p.a)(a.a.mark((function t(e,n){var r,i,o=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ft(this,"start"),m.d.und(e)?(r=this.queue||[],this.queue=[]):r=[m.d.obj(e)?e:Object(E.a)(Object(E.a)({},n),{},{to:e})],t.next=4,Promise.all(r.map((function(t){return o._update(t)})));case 4:return i=t.sent,t.abrupt("return",X(this,i));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"stop",value:function(t){var e=this;return this.is(ct)||(tt(this._state,this._lastCallId),this._focus(this.get()),Object(O.batchedUpdates)((function(){return e._stop(t)}))),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"dispose",value:function(){this.is(ct)||(this.animation&&(this.animation.onRest=[]),this.stop(),this._phase=ct)}},{key:"onParentChange",value:function(t){Object(s.a)(Object(u.a)(n.prototype),"onParentChange",this).call(this,t),"change"==t.type?this.is(st)||(this._reset(),this.is(ut)||this._start()):"priority"==t.type&&(this.priority=t.priority+1)}},{key:"_prepareNode",value:function(t){var e=t.to,n=t.from,r=t.reverse,i=this.key||"",o={to:e=!m.d.obj(e)||Object(b.b)(e)?e:e[i],from:n=!m.d.obj(n)||Object(b.b)(n)?n:n[i]};if(this.is(ot)){if(r){var a=[n,e];e=a[0],n=a[1]}n=Object(b.c)(n);var s=this._updateNode(m.d.und(n)?Object(b.c)(e):n);s&&!m.d.und(n)&&s.setValue(n)}return o}},{key:"_updateNode",value:function(t){var e=Object(k.f)(this);if(!m.d.und(t)){var n=this._getNodeType(t);e&&e.constructor===n||Object(k.h)(this,e=n.create(t))}return e}},{key:"_getNodeType",value:function(t){var e=Object(k.f)(t);return e?e.constructor:m.d.arr(t)?k.a:Object(m.e)(t)?k.c:k.d}},{key:"_update",value:function(t,e){var n=this,r=this._defaultProps,i=function(e){var n=U(t,e);m.d.und(n)||(r[e]=n),r[e]&&(t[e]=r[e])};i("cancel"),i("pause");var o=this._prepareNode(t);return K(++this._lastCallId,{key:this.key,props:t,state:this._state,actions:{pause:this.pause.bind(this),resume:this.resume.bind(this),start:this._merge.bind(this,o)}}).then((function(r){if(t.loop&&r.finished&&(!e||!r.noop)){var i=dt(t);if(i)return n._update(i,!0)}return r}))}},{key:"_merge",value:function(t,e,n){if(e.cancel)return this.stop(!0),n($(this));var r=this.key,i=this.animation,o=this._defaultProps,a=!m.d.und(t.to),s=!m.d.und(t.from);if(a||s){if(!(e.callId>this._lastToId))return n($(this));this._lastToId=e.callId}var u=function(t){return m.d.und(e[t])?o[t]:e[t]},c=ht(u("onDelayEnd"),r);c&&c(e,this),e.default&&function(t,e,n){q(e,n,t)}(o,e,["pause","cancel"]);var l=i.to,f=i.from,h=t.to,p=void 0===h?l:h,d=t.from,y=void 0===d?f:d;if(s&&!a&&(p=y),e.reverse){var v=[y,p];p=v[0],y=v[1]}var g=!Object(m.f)(y,f);g&&(i.from=y);var _=!Object(m.f)(p,l);_&&this._focus(p);var x=Object(b.b)(p),w=Object(b.b)(y);w&&(y=w.get());var S=m.d.arr(e.to)||m.d.fun(e.to),C=i.config,P=C.decay,T=C.velocity;e.config&&!S&&function(t,e,n){for(var r in n&&(R(n=Object(E.a)({},n),e),e=Object(E.a)(Object(E.a)({},n),e)),R(t,e),Object.assign(t,e),I)null==t[r]&&(t[r]=I[r]);var i=t.mass,o=t.frequency,a=t.damping;m.d.und(o)||(o<.01&&(o=.01),a<0&&(a=0),t.tension=Math.pow(2*Math.PI/o,2)*i,t.friction=4*Math.PI*a*i/o)}(C,z(e.config,r),e.config!==o.config?z(o.config,r):void 0);var M=Object(k.f)(this);if(!M||m.d.und(p))return n(Z(this,!0));var A=m.d.und(e.reset)?s&&!e.default:!m.d.und(y)&&F(e.reset,r),j=A?y:this.get(),D=H(p),N=m.d.num(D)||m.d.arr(D)||Object(m.e)(D),L=!S&&(!N||F(o.immediate||e.immediate,r));if(_)if(L)M=this._updateNode(D);else{var B=this._getNodeType(p);if(B!==M.constructor)throw Error("Cannot animate between "+M.constructor.name+" and "+B.name+', as the "to" prop suggests')}var U=M.constructor,V=!!x,G=!1;if(!V){var W=A||this.is(ot)&&g;(_||W)&&(V=!(G=Object(m.f)(H(j),D))),Object(m.f)(C.decay,P)&&Object(m.f)(C.velocity,T)||(V=!0)}if(G&&this.is(st)&&(i.changed&&!A?V=!0:V||this._stop()),!S){(V||Object(b.b)(l))&&(i.values=M.getPayload(),i.toValues=x?null:U==k.c?[1]:Object(m.h)(D)),i.immediate=L,i.onStart=ht(u("onStart"),r),i.onChange=ht(u("onChange"),r);var K=i.onRest,X=A&&!e.onRest?K[0]||m.g:pt(ht(u("onRest"),r),this);if(V){i.onRest=[X,pt(n,this)];var Q=A?0:1;Q<K.length&&Object(O.batchedUpdates)((function(){for(;Q<K.length;Q++)K[Q]()}))}else(A||e.onRest)&&(i.onRest[0]=X)}var tt=ht(u("onProps"),r);tt&&tt(e,this),A&&M.setValue(j),S?n(J(e.to,e,this._state,this)):V?(A&&(this._phase=at),this._reset(),this._start()):this.is(st)&&!_?i.onRest.push(pt(n,this)):n(Y(this,j))}},{key:"_focus",value:function(t){var e=this.animation;if(t!==e.to){var n=Object(b.b)(e.to);n&&n.removeChild(this),e.to=t;var r=0;(n=Object(b.b)(t))&&(n.addChild(this),nt(t)&&(r=(t.priority||0)+1)),this.priority=r}}},{key:"_set",value:function(t){var e=Object(b.b)(t);e&&(t=e.get());var n=Object(k.f)(this),r=n&&n.getValue();return n?n.setValue(t):this._updateNode(t),!Object(m.f)(t,r)}},{key:"_onChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.animation;r.changed||e||(r.changed=!0,r.onStart&&r.onStart(this)),r.onChange&&r.onChange(t,this),Object(s.a)(Object(u.a)(n.prototype),"_onChange",this).call(this,t,e)}},{key:"_reset",value:function(){var t=this.animation;Object(k.f)(this).reset(t.to),this.is(st)||(t.changed=!1),t.immediate||(t.fromValues=t.values.map((function(t){return t.lastPosition}))),Object(s.a)(Object(u.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.is(st)||(this._phase=st,Object(s.a)(Object(u.a)(n.prototype),"_start",this).call(this),O.skipAnimation?this.finish():O.frameLoop.start(this))}},{key:"_stop",value:function(t){if(this.resume(),this.is(st)){this._phase=at,this._onChange(this.get(),!0);var e=this.animation;Object(m.b)(e.values,(function(t){t.done=!0}));var n=e.onRest;n.length&&(e.onRest=[e.toValues?m.g:n[0]],e.changed||(n[0]=m.g),Object(m.b)(n,(function(e){return e(t)})))}}},{key:"idle",get:function(){return!this.is(st)&&!this._state.asyncTo}},{key:"goal",get:function(){return Object(b.c)(this.animation.to)}},{key:"velocity",get:function(){var t=Object(k.f)(this);return t instanceof k.d?t.lastVelocity||0:t.getPayload().map((function(t){return t.lastVelocity||0}))}}]),n}(it);function ft(t,e){if(t.is(ct))throw Error('Cannot call "'+e+'" of disposed "'+t.constructor.name+'" object')}function ht(t,e){return m.d.fun(t)?t:e&&t?t[e]:void 0}var pt=function(t,e){var n=e.animation.to;return t?function(r){if(r)t($(e));else{var i=H(n),o=H(e.get()),a=Object(m.f)(o,i);t(Z(e,a))}}:m.g};function dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.to,r=z(e);if(r){var i=!0!==r&&W(r),o=(i||t).reverse,a=!i||i.reset;return yt(Object(E.a)(Object(E.a)({},t),{},{loop:e,default:!1,to:!o||m.d.arr(n)||m.d.fun(n)?n:void 0,from:a?t.from:void 0,reset:a},i))}}function yt(t){var e=t=W(t),n=e.to,r=e.from,i=new Set;return r?gt(r,i):delete t.from,m.d.obj(n)?gt(n,i):n||delete t.to,t.keys=i.size?Array.from(i):null,t}function vt(t){var e=yt(t);return m.d.und(e.default)&&(e.default=q(e,[!0===e.immediate&&"immediate"])),e}function gt(t,e){Object(m.b)(t,(function(t,n){return null!=t&&e.add(n)}))}var mt=["onStart","onChange","onRest"],bt=1,_t=function(){function t(e,n){Object(y.a)(this,t),this.id=bt++,this.springs={},this.queue=[],this._flush=void 0,this._initialProps=void 0,this._phase=ot,this._lastAsyncId=0,this._active=new Set,this._state={pauseQueue:new Set,resumeQueue:new Set},this._events={onStart:new Set,onChange:new Set,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start(e)}return Object(c.a)(t,[{key:"is",value:function(t){return this._phase==t}},{key:"get",value:function(){var t={};return this.each((function(e,n){return t[n]=e.get()})),t}},{key:"update",value:function(t){return t&&this.queue.push(yt(t)),this}},{key:"start",value:function(t){var e=t?Object(m.h)(t).map(yt):this.queue;return t||(this.queue=[]),this._flush?this._flush(this,e):(Ct(this,e),xt(this,e))}},{key:"stop",value:function(t){if(m.d.und(t))this.each((function(t){return t.stop()})),tt(this._state,this._lastAsyncId);else{var e=this.springs;Object(m.b)(Object(m.h)(t),(function(t){return e[t].stop()}))}return this}},{key:"pause",value:function(t){if(m.d.und(t))this.each((function(t){return t.pause()}));else{var e=this.springs;Object(m.b)(Object(m.h)(t),(function(t){return e[t].pause()}))}return this}},{key:"resume",value:function(t){if(m.d.und(t))this.each((function(t){return t.resume()}));else{var e=this.springs;Object(m.b)(Object(m.h)(t),(function(t){return e[t].resume()}))}return this}},{key:"reset",value:function(){return this.each((function(t){return t.reset()})),this}},{key:"each",value:function(t){Object(m.b)(this.springs,t)}},{key:"dispose",value:function(){this._state.asyncTo=void 0,this.each((function(t){return t.dispose()})),this.springs={}}},{key:"_onFrame",value:function(){var t=this,e=this._events,n=e.onStart,r=e.onChange,o=e.onRest,a=this._active.size>0;a&&this._phase!=st&&(this._phase=st,Object(m.c)(n,(function(e){return e(t)})));var s=(r.size||!a&&o.size)&&this.get();Object(m.c)(r,(function(t){return t(s)})),a||(this._phase=at,Object(m.c)(o,(function(t){var e=Object(i.a)(t,2),n=e[0],r=e[1];r.value=s,n(r)})))}},{key:"onParentChange",value:function(t){"change"==t.type&&(this._active[t.idle?"delete":"add"](t.parent),O.frameLoop.onFrame(this._onFrame))}},{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(t){return t.idle}))}}]),t}();function xt(t,e){return Promise.all(e.map((function(e){return wt(t,e)}))).then((function(e){return X(t,e)}))}function wt(t,e,n){var r=e.to,i=e.loop,o=e.onRest;i&&(e.loop=!1);var a=m.d.arr(r)||m.d.fun(r)?r:void 0;a?(e.to=void 0,e.onRest=void 0):Object(m.b)(mt,(function(n){var r=e[n];if(m.d.fun(r)){var i=t._events[n];i instanceof Set?e[n]=function(){return i.add(r)}:e[n]=function(t){var e=t.finished,n=t.cancelled,o=i.get(r);o?(e||(o.finished=!1),n&&(o.cancelled=!0)):i.set(r,{value:null,finished:e,cancelled:n})}}}));var s=(e.keys||Object.keys(t.springs)).map((function(n){return t.springs[n].start(e)})),u=t._state;return a?s.push(K(++t._lastAsyncId,{props:e,state:u,actions:{pause:m.g,resume:m.g,start:function(e,n){e.onRest=o,e.cancel?function(t,e){return!m.d.und(U(t,e))}(e,"cancel")&&tt(u,e.callId):n(J(a,e,u,t))}}})):e.keys||!0!==e.cancel||tt(u,t._lastAsyncId),Promise.all(s).then((function(o){var a=X(t,o);if(i&&a.finished&&(!n||!a.noop)){var s=dt(e,i,r);if(s)return Ct(t,[s]),wt(t,s,!0)}return a}))}function Et(t,e){var n=Object(E.a)({},t.springs);return e&&Object(m.b)(Object(m.h)(e),(function(t){m.d.und(t.keys)&&(t=yt(t)),m.d.obj(t.to)||(t=Object(E.a)(Object(E.a)({},t),{},{to:void 0})),Ot(n,t,(function(t){return kt(t)}))})),n}function St(t,e){Object(m.b)(e,(function(e,n){t.springs[n]||(t.springs[n]=e,e.addChild(t))}))}function kt(t,e){var n=new lt;return n.key=t,e&&n.addChild(e),n}function Ot(t,e,n){e.keys&&Object(m.b)(e.keys,(function(r){(t[r]||(t[r]=n(r)))._prepareNode(e)}))}function Ct(t,e){Object(m.b)(e,(function(e){Ot(t.springs,e,(function(e){return kt(e,t)}))}))}var Pt=Object(S.createContext)({}),Tt=function(t){var e=t.children,n=Object(T.a)(t,["children"]),r=Object(S.useContext)(Pt);n=L((function(){return Object(E.a)(Object(E.a)({},r),n)}),[r,n.pause,n.cancel,n.immediate,n.config]);var i=Pt.Provider;return Object(S.createElement)(i,{value:n},e)};Tt.Provider=Pt.Provider,Tt.Consumer=Pt.Consumer;var Mt=function(){return Object(S.useContext)(Pt)},At=function(t){return{get controllers(){return t()},update:function(e){return Object(m.b)(t(),(function(t,n){t.update(B(e,n,t))})),this},start:function(e){return Object(p.a)(a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t().map((function(t,n){var r=B(e,n,t);return t.start(r)})));case 2:return r=n.sent,n.abrupt("return",{value:r.map((function(t){return t.value})),finished:r.every((function(t){return t.finished}))});case 4:case"end":return n.stop()}}),n)})))()},stop:function(e){return Object(m.b)(t(),(function(t){return t.stop(e)}))},pause:function(e){return Object(m.b)(t(),(function(t){return t.pause(e)}))},resume:function(e){return Object(m.b)(t(),(function(t){return t.resume(e)}))}}};function It(t,e,n){var r=m.d.fun(e)&&e;r&&!n&&(n=[]);var o=Object(S.useRef)(0),a=Object(x.a)(),s=Object(S.useState)((function(){return{ctrls:[],queue:[],flush:function(t,e){var n=Et(t,e);return o.current>0&&!c.queue.length&&!Object.keys(n).some((function(e){return!t.springs[e]}))?xt(t,e):new Promise((function(r){St(t,n),c.queue.push((function(){r(xt(t,e))})),a()}))}}})),u=Object(i.a)(s,1),c=u[0],l=Object(S.useRef)(),f=Object(v.a)(c.ctrls),h=[],p=Object(x.c)(t)||0,d=f.slice(t,p);function y(t,n){for(var i=t;i<n;i++){var o=f[i]||(f[i]=new _t(null,c.flush)),a=r?r(i,o):e[i];a&&(a=h[i]=vt(a),0==i&&(l.current=a.ref,a.ref=void 0))}}L((function(){f.length=t,y(p,t)}),[t]),L((function(){y(0,Math.min(p,t))}),n);var b=Object(S.useMemo)((function(){return At((function(){return c.ctrls}))}),[]),_=f.map((function(t,e){return Et(t,h[e])})),w=Mt();Object(g.a)((function(){o.current++,c.ctrls=f,l.current&&(l.current.current=b);var t=c.queue;t.length&&(c.queue=[],Object(m.b)(t,(function(t){return t()}))),Object(m.b)(d,(function(t){return t.dispose()})),Object(m.b)(f,(function(t,e){St(t,_[e]),t.start({default:w});var n=h[e];n&&(l.current?t.queue.push(n):t.start(n))}))})),Object(x.b)((function(){return function(){Object(m.b)(c.ctrls,(function(t){return t.dispose()}))}}));var k=_.map((function(t){return Object(E.a)({},t)}));return r||3==arguments.length?[k,b.start,b.stop]:k}function jt(t,e){var n=m.d.fun(t),r=It(1,n?t:[t],n?e||[]:e),o=Object(i.a)(r,3),a=Object(i.a)(o[0],1),s=a[0],u=o[1],c=o[2];return n||2==arguments.length?[s,u,c]:s}var Rt="mount",Dt="enter",Nt="update",Lt="leave";function zt(t,e,n){var r=e.ref,i=e.reset,o=e.sort,a=e.trail,s=void 0===a?0:a,u=e.expires,c=void 0===u||u,l=Object(m.h)(t),f=[],h=Ft(l,e),p=Object(S.useRef)(null),d=i?null:p.current;Object(g.a)((function(){p.current=f})),Object(x.b)((function(){return function(){return Object(m.b)(p.current,(function(t){t.expired&&clearTimeout(t.expirationId),t.ctrl.dispose()}))}}));var y=[];if(d&&Object(m.b)(d,(function(t,e){t.expired?clearTimeout(t.expirationId):~(e=y[e]=h.indexOf(t.key))&&(f[e]=t)})),Object(m.b)(l,(function(t,e){f[e]||(f[e]={key:h[e],item:t,phase:Rt,ctrl:new _t})})),y.length){var v=-1;Object(m.b)(y,(function(t,n){var r=d[n];~t?(v=f.indexOf(r),f[v]=Object(E.a)(Object(E.a)({},r),{},{item:l[t]})):e.leave&&f.splice(++v,0,r)}))}m.d.fun(o)&&f.sort((function(t,e){return o(t.item,e.item)}));var b=-s,_=Object(x.a)(),w=q(e),k=new Map;Object(m.b)(f,(function(t,n){var r,i,o=t.key,a=t.phase;if(a==Rt)r=e.enter,i=Dt;else{var u=h.indexOf(o)<0;if(a!=Lt)if(u)r=e.leave,i=Lt;else{if(!(r=e.update))return;i=Nt}else{if(u)return;r=e.enter,i=Dt}}if(r=z(r,t.item,n),!(r=m.d.obj(r)?W(r):{to:r}).config){var l=e.config||w.config;r.config=z(l,t.item,n)}var f=Object(E.a)(Object(E.a)({},w),{},{delay:b+=s,reset:!1},r);if(i==Dt&&m.d.und(f.from)){var y=m.d.und(e.initial)||d?e.from:e.initial;f.from=z(y,t.item,n)}var v=f.onRest;f.onRest=function(t){var e=p.current,n=e.find((function(t){return t.key===o}));if(n)if(m.d.fun(v)&&v(t,n),t.cancelled&&n.phase!=Nt)n.phase=a;else if(n.ctrl.idle){var r=e.every((function(t){return t.ctrl.idle}));if(n.phase==Lt){var i=z(c,n.item);if(!1!==i){var s=!0===i?0:i;if(n.expired=!0,!r&&s>0)return void(s<=2147483647&&(n.expirationId=setTimeout(_,s)))}}r&&e.some((function(t){return t.expired}))&&_()}};var g=Et(t.ctrl,f);k.set(t,{phase:i,springs:g,payload:f})}));var O=Mt();Object(g.a)((function(){Object(m.b)(f,(function(t){t.ctrl.start({default:O})}))}),[O]);var C=Object(S.useMemo)((function(){return At((function(){return p.current.map((function(t){return t.ctrl}))}))}),[]);Object(S.useImperativeHandle)(r,(function(){return C})),Object(g.a)((function(){Object(m.b)(k,(function(t,e){var n=t.phase,i=t.springs,o=t.payload;St(e.ctrl,i),O.cancel||(e.phase=n,n==Dt&&e.ctrl.start({default:O}),e.ctrl[r?"update":"start"](o))}))}),i?void 0:n);var P=function(t){return Object(S.createElement)(S.Fragment,null,f.map((function(e,n){var r=(k.get(e)||e.ctrl).springs,i=t(Object(E.a)({},r),e.item,e,n);return i&&i.type?Object(S.createElement)(i.type,Object(E.a)({},i.props,{key:m.d.str(e.key)||m.d.num(e.key)?e.key:e.ctrl.id,ref:i.ref})):i})))};return 3==arguments.length?[P,C.start,C.stop]:P}function Ft(t,e){var n=e.key,r=e.keys,i=void 0===r?n:r;return m.d.und(i)?t:m.d.fun(i)?t.map(i):Object(m.h)(i)}var Bt=function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(t,i){var o;Object(y.a)(this,n),(o=e.call(this)).source=t,o.key=void 0,o.idle=!0,o.calc=void 0,o.calc=w.a.apply(void 0,Object(v.a)(i));var a=o._get(),s=m.d.arr(a)?k.a:k.d;return Object(k.h)(Object(r.a)(o),s.create(a)),o}return Object(c.a)(n,[{key:"advance",value:function(t){var e=this._get(),n=this.get();Object(m.f)(e,n)||(Object(k.f)(this).setValue(e),this._onChange(e,this.idle))}},{key:"_get",value:function(){var t=m.d.arr(this.source)?this.source.map((function(t){return t.get()})):Object(m.h)(this.source.get());return this.calc.apply(this,Object(v.a)(t))}},{key:"_reset",value:function(){Object(m.b)(Object(k.g)(this),(function(t){return t.reset()})),Object(s.a)(Object(u.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.idle=!1,Object(s.a)(Object(u.a)(n.prototype),"_start",this).call(this),O.skipAnimation?(this.idle=!0,this.advance()):O.frameLoop.start(this)}},{key:"_attach",value:function(){var t=this,e=!0,n=1;Object(m.b)(Object(m.h)(this.source),(function(r){nt(r)&&(r.idle||(e=!1),n=Math.max(n,r.priority+1)),r.addChild(t)})),this.priority=n,e||(this._reset(),this._start())}},{key:"_detach",value:function(){var t=this;Object(m.b)(Object(m.h)(this.source),(function(e){e.removeChild(t)})),this.idle=!0}},{key:"onParentChange",value:function(t){"start"==t.type?this.advance():"change"==t.type?this.idle?this.advance():t.idle&&(this.idle=Object(m.h)(this.source).every((function(t){return!1!==t.idle})),this.idle&&(this.advance(),Object(m.b)(Object(k.g)(this),(function(t){t.done=!0})))):"priority"==t.type&&(this.priority=Object(m.h)(this.source).reduce((function(t,e){return Math.max(t,(e.priority||0)+1)}),0)),Object(s.a)(Object(u.a)(n.prototype),"onParentChange",this).call(this,t)}}]),n}(it),Ut=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Bt(t,n)};_.Globals.assign({createStringInterpolator:M.a,to:function(t,e){return new Bt(t,e)}})},function(t,e,n){"use strict";var r=n(108);e.__esModule=!0,e.default=void 0;var i=r(n(22)),o=r(n(62)),a=n(1),s=n(313),u=r(n(784)),c=r(n(504)),l=(r(n(124)),r(n(190)),function(t,e){return function(n){var r=(0,a.createFactory)(n),l="function"===typeof t?t:function(e,n){return!(0,c.default)((0,u.default)(e,t),(0,u.default)(n,t))},f=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).state={computedProps:e(n.props),prevProps:n.props},n}return(0,o.default)(n,t),n.getDerivedStateFromProps=function(t,n){return l(n.prevProps,t)?{computedProps:e(t),prevProps:t}:{prevProps:t}},n.prototype.render=function(){return r((0,i.default)({},this.props,this.state.computedProps))},n}(a.Component);return(0,s.polyfill)(f),f}});e.default=l},function(t,e){t.exports="ref"},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(680)},function(t,e,n){var r=n(120),i=n(107);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var r="undefined"!==typeof window?window:t,i=("undefined"!==typeof t||window,"undefined"!==typeof document?document:{})}).call(this,n(53))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t.default:t}e.__esModule=!0;var i=n(709);e.Motion=r(i);var o=n(711);e.StaggeredMotion=r(o);var a=n(712);e.TransitionMotion=r(a);var s=n(714);e.spring=r(s);var u=n(476);e.presets=r(u);var c=n(250);e.stripStyle=r(c);var l=n(715);e.reorderKeys=r(l)},,,function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";var r=n(44),i=r.Map,o=r.OrderedSet,a=r.Record,s=o(),u={style:s,entity:null},c=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getStyle=function(){return this.get("style")},a.getEntity=function(){return this.get("entity")},a.hasStyle=function(t){return this.getStyle().includes(t)},r.applyStyle=function(t,e){var n=t.set("style",t.getStyle().add(e));return r.create(n)},r.removeStyle=function(t,e){var n=t.set("style",t.getStyle().remove(e));return r.create(n)},r.applyEntity=function(t,e){var n=t.getEntity()===e?t:t.set("entity",e);return r.create(n)},r.create=function(t){if(!t)return l;var e=i({style:s,entity:null}).merge(t),n=f.get(e);if(n)return n;var o=new r(e);return f=f.set(e,o),o},r.fromJS=function(t){var e=t.style,n=t.entity;return new r({style:Array.isArray(e)?o(e):e,entity:Array.isArray(n)?o(n):n})},r}(a(u)),l=new c,f=i([[i(u),l]]);c.EMPTY=l,t.exports=c},function(t,e,n){"use strict";var r=n(89),i=n(229),o=n(44),a=o.List,s=o.Map,u=o.OrderedSet,c=o.Record,l=o.Repeat,f=u(),h={parent:null,characterList:a(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:a(),prevSibling:null,nextSibling:null},p=function(t,e){return t.getStyle()===e.getStyle()},d=function(t,e){return t.getEntity()===e.getEntity()},y=function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=a(l(r.EMPTY,n.length))),t},v=function(t){var e,n;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return t.call(this,y(e))||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getKey=function(){return this.get("key")},o.getType=function(){return this.get("type")},o.getText=function(){return this.get("text")},o.getCharacterList=function(){return this.get("characterList")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get("depth")},o.getData=function(){return this.get("data")},o.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():f},o.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},o.getChildKeys=function(){return this.get("children")},o.getParentKey=function(){return this.get("parent")},o.getPrevSiblingKey=function(){return this.get("prevSibling")},o.getNextSiblingKey=function(){return this.get("nextSibling")},o.findStyleRanges=function(t,e){i(this.getCharacterList(),p,t,e)},o.findEntityRanges=function(t,e){i(this.getCharacterList(),d,t,e)},r}(c(h));t.exports=v},function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return y})),n.d(e,"f",(function(){return v})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return m}));var r=n(16),i=n(426),o=n(1180),a=n(50),s=n(40),u=n(67),c=n(199),l=n(200),f=n(166);function h(){var t,e,n,s,u,c=0,l=1,f=a.c,h=!1;function p(e){return isNaN(e=+e)?u:f(0===n?.5:(e=(s(e)-t)*n,h?Math.max(0,Math.min(1,e)):e))}function d(t){return function(e){var n,i,o,a;return arguments.length?(n=e,o=(i=Object(r.a)(n,2))[0],a=i[1],f=t(o,a),p):[f(0),f(1)]}}return p.domain=function(i){var o,a;return arguments.length?(o=i,a=Object(r.a)(o,2),c=a[0],l=a[1],t=s(c=+c),e=s(l=+l),n=t===e?0:1/(e-t),p):[c,l]},p.clamp=function(t){return arguments.length?(h=!!t,p):h},p.interpolator=function(t){return arguments.length?(f=t,p):f},p.range=d(i.a),p.rangeRound=d(o.a),p.unknown=function(t){return arguments.length?(u=t,p):u},function(r){return s=r,t=r(c),e=r(l),n=t===e?0:1/(e-t),p}}function p(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function d(){var t=Object(u.b)(h()(a.c));return t.copy=function(){return p(t,d())},s.a.apply(t,arguments)}function y(){var t=Object(c.b)(h()).domain([1,10]);return t.copy=function(){return p(t,y()).base(t.base())},s.a.apply(t,arguments)}function v(){var t=Object(l.b)(h());return t.copy=function(){return p(t,v()).constant(t.constant())},s.a.apply(t,arguments)}function g(){var t=Object(f.b)(h());return t.copy=function(){return p(t,g()).exponent(t.exponent())},s.a.apply(t,arguments)}function m(){return g.apply(null,arguments).exponent(.5)}},function(t,e,n){var r=n(120),i=n(351),o=n(88),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return y})),n.d(e,"e",(function(){return s}));var r=n(148),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function s(t,e,n){var i;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var u=t,c=e,l=[],f=l,h=!1;function p(){f===l&&(f=l.slice())}function d(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function y(t){if("function"!==typeof t)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return p(),f.push(t),function(){if(e){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,p();var n=f.indexOf(t);f.splice(n,1),l=null}}}function v(t){if(!a(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,c=u(c,t)}finally{h=!1}for(var e=l=f,n=0;n<e.length;n++){(0,e[n])()}return t}function g(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");u=t,v({type:o.REPLACE})}function m(){var t,e=y;return(t={subscribe:function(t){if("object"!==typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(d())}return n(),{unsubscribe:e(n)}}})[r.default]=function(){return this},t}return v({type:o.INIT}),(i={dispatch:v,subscribe:y,getState:d,replaceReducer:g})[r.default]=m,i}function u(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"===typeof t[i]&&(n[i]=t[i])}var a,s=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:o.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(c){a=c}return function(t,e){if(void 0===t&&(t={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var c=s[o],l=n[c],f=t[c],h=l(f,e);if("undefined"===typeof h){var p=u(c,e);throw new Error(p)}i[c]=h,r=r||h!==f}return(r=r||s.length!==Object.keys(t).length)?i:t}}function l(t,e){return function(){return e(t.apply(this,arguments))}}function f(t,e){if("function"===typeof t)return l(t,e);if("object"!==typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in t){var i=t[r];"function"===typeof i&&(n[r]=l(i,e))}return n}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function v(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return d({},n,{dispatch:r=y.apply(void 0,o)(n.dispatch)})}}}},function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return T})),n.d(e,"d",(function(){return A})),n.d(e,"c",(function(){return y})),n.d(e,"f",(function(){return v})),n.d(e,"e",(function(){return d}));var r=n(17);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&i(t),u=e&&i(e),c=s||u;if(t&&i(t)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=a.length;h>=0;h--){var p=a[h];"."===p?o(a,h):".."===p?(o(a,h),f++):f&&(o(a,h),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function s(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));if("object"===typeof e||"object"===typeof n){var r=s(e),i=s(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every((function(r){return t(e[r],n[r])}))}return!1},c=n(70);function l(t){return"/"===t.charAt(0)?t:"/"+t}function f(t){return"/"===t.charAt(0)?t.substr(1):t}function h(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function p(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function y(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function g(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(t,e){e(window.confirm(t))}var _="popstate",x="hashchange";function w(){try{return window.history.state||{}}catch(t){return{}}}function E(t){void 0===t&&(t={}),m||Object(c.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?b:u,v=o.keyLength,E=void 0===v?6:v,S=t.basename?p(l(t.basename)):"";function k(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return S&&(o=h(o,S)),y(o,r,n)}function O(){return Math.random().toString(36).substr(2,E)}var C=g();function P(t){Object(r.a)(B,t),B.length=e.length,C.notifyListeners(B.location,B.action)}function T(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||I(k(t.state))}function M(){I(k(w()))}var A=!1;function I(t){if(A)A=!1,P();else{C.confirmTransitionTo(t,"POP",f,(function(e){e?P({action:"POP",location:t}):function(t){var e=B.location,n=R.indexOf(e.key);-1===n&&(n=0);var r=R.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,N(i))}(t)}))}}var j=k(w()),R=[j.key];function D(t){return S+d(t)}function N(t){e.go(t)}var L=0;function z(t){1===(L+=t)&&1===t?(window.addEventListener(_,T),i&&window.addEventListener(x,M)):0===L&&(window.removeEventListener(_,T),i&&window.removeEventListener(x,M))}var F=!1;var B={length:e.length,action:"POP",location:j,createHref:D,push:function(t,r){var i="PUSH",o=y(t,r,O(),B.location);C.confirmTransitionTo(o,i,f,(function(t){if(t){var r=D(o),a=o.key,u=o.state;if(n)if(e.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=R.indexOf(B.location.key),l=R.slice(0,c+1);l.push(o.key),R=l,P({action:i,location:o})}else window.location.href=r}}))},replace:function(t,r){var i="REPLACE",o=y(t,r,O(),B.location);C.confirmTransitionTo(o,i,f,(function(t){if(t){var r=D(o),a=o.key,u=o.state;if(n)if(e.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=R.indexOf(B.location.key);-1!==c&&(R[c]=o.key),P({action:i,location:o})}else window.location.replace(r)}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(t){void 0===t&&(t=!1);var e=C.setPrompt(t);return F||(z(1),F=!0),function(){return F&&(F=!1,z(-1)),e()}},listen:function(t){var e=C.appendListener(t);return z(1),function(){z(-1),e()}}};return B}var S="hashchange",k={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+f(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function O(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function C(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function P(t){window.location.replace(O(window.location.href)+"#"+t)}function T(t){void 0===t&&(t={}),m||Object(c.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?p(l(t.basename)):"",f=k[s],v=f.encodePath,_=f.decodePath;function x(){var t=_(C());return u&&(t=h(t,u)),y(t)}var w=g();function E(t){Object(r.a)(B,t),B.length=e.length,w.notifyListeners(B.location,B.action)}var T=!1,M=null;function A(){var t,e,n=C(),r=v(n);if(n!==r)P(r);else{var i=x(),a=B.location;if(!T&&(e=i,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(M===d(i))return;M=null,function(t){if(T)T=!1,E();else{var e="POP";w.confirmTransitionTo(t,e,o,(function(n){n?E({action:e,location:t}):function(t){var e=B.location,n=D.lastIndexOf(d(e));-1===n&&(n=0);var r=D.lastIndexOf(d(t));-1===r&&(r=0);var i=n-r;i&&(T=!0,N(i))}(t)}))}}(i)}}var I=C(),j=v(I);I!==j&&P(j);var R=x(),D=[d(R)];function N(t){e.go(t)}var L=0;function z(t){1===(L+=t)&&1===t?window.addEventListener(S,A):0===L&&window.removeEventListener(S,A)}var F=!1;var B={length:e.length,action:"POP",location:R,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=O(window.location.href)),n+"#"+v(u+d(t))},push:function(t,e){var n="PUSH",r=y(t,void 0,void 0,B.location);w.confirmTransitionTo(r,n,o,(function(t){if(t){var e=d(r),i=v(u+e);if(C()!==i){M=e,function(t){window.location.hash=t}(i);var o=D.lastIndexOf(d(B.location)),a=D.slice(0,o+1);a.push(e),D=a,E({action:n,location:r})}else E()}}))},replace:function(t,e){var n="REPLACE",r=y(t,void 0,void 0,B.location);w.confirmTransitionTo(r,n,o,(function(t){if(t){var e=d(r),i=v(u+e);C()!==i&&(M=e,P(i));var o=D.indexOf(d(B.location));-1!==o&&(D[o]=e),E({action:n,location:r})}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(t){void 0===t&&(t=!1);var e=w.setPrompt(t);return F||(z(1),F=!0),function(){return F&&(F=!1,z(-1)),e()}},listen:function(t){var e=w.appendListener(t);return z(1),function(){z(-1),e()}}};return B}function M(t,e,n){return Math.min(Math.max(t,e),n)}function A(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,u=e.keyLength,c=void 0===u?6:u,l=g();function f(t){Object(r.a)(_,t),_.length=_.entries.length,l.notifyListeners(_.location,_.action)}function h(){return Math.random().toString(36).substr(2,c)}var p=M(s,0,o.length-1),v=o.map((function(t){return y(t,void 0,"string"===typeof t?h():t.key||h())})),m=d;function b(t){var e=M(_.index+t,0,_.entries.length-1),r=_.entries[e];l.confirmTransitionTo(r,"POP",n,(function(t){t?f({action:"POP",location:r,index:e}):f()}))}var _={length:v.length,action:"POP",location:v[p],index:p,entries:v,createHref:m,push:function(t,e){var r="PUSH",i=y(t,e,h(),_.location);l.confirmTransitionTo(i,r,n,(function(t){if(t){var e=_.index+1,n=_.entries.slice(0);n.length>e?n.splice(e,n.length-e,i):n.push(i),f({action:r,location:i,index:e,entries:n})}}))},replace:function(t,e){var r="REPLACE",i=y(t,e,h(),_.location);l.confirmTransitionTo(i,r,n,(function(t){t&&(_.entries[_.index]=i,f({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(t){var e=_.index+t;return e>=0&&e<_.entries.length},block:function(t){return void 0===t&&(t=!1),l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return _}},function(t,e,n){"use strict";n.d(e,"animated",(function(){return P}));var r=n(9),i=n(16),o=n(6),a=n(7),s=n(8),u=n(54),c=n(100),l=n(82),f=n(325),h=n(632),p=n(58),d=n(10),y=n(57),v=/^--/;function g(t,e){return null==e||"boolean"===typeof e||""===e?"":"number"!==typeof e||0===e||v.test(t)||b.hasOwnProperty(t)&&b[t]?(""+e).trim():e+"px"}var m={};var b={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","Ms","Moz","O"];b=Object.keys(b).reduce((function(t,e){return _.forEach((function(n){return t[function(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}(n,e)]=t[e]})),t}),b);var x=/^(matrix|translate|scale|rotate|skew)/,w=/^(translate)/,E=/^(rotate|skew)/,S=function(t,e){return d.d.num(t)&&0!==t?t+e:t},k=function t(e,n){return d.d.arr(e)?e.every((function(e){return t(e,n)})):d.d.num(e)?e===n:parseFloat(e)===n},O=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){Object(o.a)(this,n);var r=t.x,a=t.y,s=t.z,c=Object(u.a)(t,["x","y","z"]),l=[],f=[];return(r||a||s)&&(l.push([r||0,a||0,s||0]),f.push((function(t){return["translate3d("+t.map((function(t){return S(t,"px")})).join(",")+")",k(t,0)]}))),Object(d.b)(c,(function(t,e){if("transform"===e)l.push([t||""]),f.push((function(t){return[t,""===t]}));else if(x.test(e)){if(delete c[e],d.d.und(t))return;var n=w.test(e)?"px":E.test(e)?"deg":"";l.push(Object(d.h)(t)),f.push("rotate3d"===e?function(t){var e=Object(i.a)(t,4),r=e[0],o=e[1],a=e[2],s=e[3];return["rotate3d("+r+","+o+","+a+","+S(s,n)+")",k(s,0)]}:function(t){return[e+"("+t.map((function(t){return S(t,n)})).join(",")+")",k(t,e.startsWith("scale")?1:0)]})}})),l.length&&(c.transform=new C(l,f)),e.call(this,c)}return n}(p.b),C=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this)).inputs=t,i.transforms=r,i._value=null,i._children=new Set,i}return Object(r.a)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var t=this,e="",n=!0;return Object(d.b)(this.inputs,(function(r,o){var a=Object(y.c)(r[0]),s=t.transforms[o](d.d.arr(a)?a:r.map(y.c)),u=Object(i.a)(s,2),c=u[0],l=u[1];e+=" "+c,n=n&&l})),n?"none":e}},{key:"addChild",value:function(t){var e=this;this._children.size||Object(d.b)(this.inputs,(function(t){return Object(d.b)(t,(function(t){var n=Object(y.b)(t);n&&n.addChild(e)}))})),this._children.add(t)}},{key:"removeChild",value:function(t){var e=this;this._children.delete(t),this._children.size||Object(d.b)(this.inputs,(function(t){return Object(d.b)(t,(function(t){var n=Object(y.b)(t);n&&n.removeChild(e)}))}))}},{key:"onParentChange",value:function(t){"change"==t.type&&(this._value=null),Object(d.b)(this._children,(function(e){e.onParentChange(t)}))}}]),n}(y.a);c.Globals.assign({colorNames:h.a,createStringInterpolator:f.a,batchedUpdates:l.unstable_batchedUpdates});var P=Object(p.e)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(t,e){if(!t.nodeType||!t.setAttribute)return!1;var n="filter"===t.nodeName||t.parentNode&&"filter"===t.parentNode.nodeName,r=e,i=r.style,o=r.children,a=r.scrollTop,s=r.scrollLeft,l=Object(u.a)(r,["style","children","scrollTop","scrollLeft"]),f=Object.values(l),h=Object.keys(l).map((function(e){return n||t.hasAttribute(e)?e:m[e]||(m[e]=e.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()})))}));c.Globals.frameLoop.onWrite((function(){for(var e in void 0!==o&&(t.textContent=o),i)if(i.hasOwnProperty(e)){var n=g(e,i[e]);"float"===e?e="cssFloat":v.test(e)?t.style.setProperty(e,n):t.style[e]=n}h.forEach((function(e,n){t.setAttribute(e,f[n])})),void 0!==a&&(t.scrollTop=a),void 0!==s&&(t.scrollLeft=s)}))},createAnimatedStyle:function(t){return new O(t)},getComponentProps:function(t){return Object(u.a)(t,["scrollTop","scrollLeft"])}}).animated},function(t,e,n){"use strict";var r=n(696);t.exports=Function.prototype.bind||r},function(t,e,n){"use strict";(function(e){var r=e.Symbol,i=n(341);t.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}}).call(this,n(53))},function(t,e,n){"use strict";var r=n(38);n.d(e,"Globals",(function(){return r}));n(57)},function(t,e,n){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:K(t)}function r(t){return s(t)?t:X(t)}function i(t){return u(t)?t:Y(t)}function o(t){return a(t)&&!c(t)?t:Z(t)}function a(t){return!(!t||!t[f])}function s(t){return!(!t||!t[h])}function u(t){return!(!t||!t[p])}function c(t){return s(t)||u(t)}function l(t){return!(!t||!t[d])}e(r,n),e(i,n),e(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",y="delete",v=5,g=1<<v,m=g-1,b={},_={value:!1},x={value:!1};function w(t){return t.value=!1,t}function E(t){t&&(t.value=!0)}function S(){}function k(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function O(t){return void 0===t.size&&(t.size=t.__iterate(P)),t.size}function C(t,e){if("number"!==typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?O(t)+e:e}function P(){return!0}function T(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function M(t,e){return I(t,e,0)}function A(t,e){return I(t,e,e)}function I(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var j=0,R=1,D=2,N="function"===typeof Symbol&&Symbol.iterator,L="@@iterator",z=N||L;function F(t){this.next=t}function B(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function U(){return{value:void 0,done:!0}}function q(t){return!!W(t)}function V(t){return t&&"function"===typeof t.next}function G(t){var e=W(t);return e&&e.call(t)}function W(t){var e=t&&(N&&t[N]||t[L]);if("function"===typeof e)return e}function H(t){return t&&"number"===typeof t.length}function K(t){return null===t||void 0===t?at():a(t)?t.toSeq():ct(t)}function X(t){return null===t||void 0===t?at().toKeyedSeq():a(t)?s(t)?t.toSeq():t.fromEntrySeq():st(t)}function Y(t){return null===t||void 0===t?at():a(t)?s(t)?t.entrySeq():t.toIndexedSeq():ut(t)}function Z(t){return(null===t||void 0===t?at():a(t)?s(t)?t.entrySeq():t:ut(t)).toSetSeq()}F.prototype.toString=function(){return"[Iterator]"},F.KEYS=j,F.VALUES=R,F.ENTRIES=D,F.prototype.inspect=F.prototype.toSource=function(){return this.toString()},F.prototype[z]=function(){return this},e(K,n),K.of=function(){return K(arguments)},K.prototype.toSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq {","}")},K.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},K.prototype.__iterate=function(t,e){return ft(this,t,e,!0)},K.prototype.__iterator=function(t,e){return ht(this,t,e,!0)},e(X,K),X.prototype.toKeyedSeq=function(){return this},e(Y,K),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(t,e){return ft(this,t,e,!1)},Y.prototype.__iterator=function(t,e){return ht(this,t,e,!1)},e(Z,K),Z.of=function(){return Z(arguments)},Z.prototype.toSetSeq=function(){return this},K.isSeq=ot,K.Keyed=X,K.Set=Z,K.Indexed=Y;var $,J,Q,tt="@@__IMMUTABLE_SEQ__@@";function et(t){this._array=t,this.size=t.length}function nt(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function rt(t){this._iterable=t,this.size=t.length||t.size}function it(t){this._iterator=t,this._iteratorCache=[]}function ot(t){return!(!t||!t[tt])}function at(){return $||($=new et([]))}function st(t){var e=Array.isArray(t)?new et(t).fromEntrySeq():V(t)?new it(t).fromEntrySeq():q(t)?new rt(t).fromEntrySeq():"object"===typeof t?new nt(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function ut(t){var e=lt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function ct(t){var e=lt(t)||"object"===typeof t&&new nt(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function lt(t){return H(t)?new et(t):V(t)?new it(t):q(t)?new rt(t):void 0}function ft(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function ht(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new F((function(){var t=i[n?o-a:a];return a++>o?U():B(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function pt(t,e){return e?dt(e,t,"",{"":t}):yt(t)}function dt(t,e,n,r){return Array.isArray(e)?t.call(r,n,Y(e).map((function(n,r){return dt(t,n,r,e)}))):vt(e)?t.call(r,n,X(e).map((function(n,r){return dt(t,n,r,e)}))):e}function yt(t){return Array.isArray(t)?Y(t).map(yt).toList():vt(t)?X(t).map(yt).toMap():t}function vt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function gt(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!==typeof t.equals||"function"!==typeof e.equals||!t.equals(e))}function mt(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!c(t);if(l(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&gt(i[1],t)&&(n||gt(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var f=!0,h=e.__iterate((function(e,r){if(n?!t.has(e):i?!gt(e,t.get(r,b)):!gt(t.get(r,b),e))return f=!1,!1}));return f&&t.size===h}function bt(t,e){if(!(this instanceof bt))return new bt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(J)return J;J=this}}function _t(t,e){if(!t)throw new Error(e)}function xt(t,e,n){if(!(this instanceof xt))return new xt(t,e,n);if(_t(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Q)return Q;Q=this}}function wt(){throw TypeError("Abstract")}function Et(){}function St(){}function kt(){}K.prototype[tt]=!0,e(et,Y),et.prototype.get=function(t,e){return this.has(t)?this._array[C(this,t)]:e},et.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},et.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new F((function(){return i>r?U():B(t,i,n[e?r-i++:i++])}))},e(nt,X),nt.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},nt.prototype.has=function(t){return this._object.hasOwnProperty(t)},nt.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(!1===t(n[a],a,this))return o+1}return o},nt.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new F((function(){var a=r[e?i-o:o];return o++>i?U():B(t,a,n[a])}))},nt.prototype[d]=!0,e(rt,Y),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=G(this._iterable),r=0;if(V(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=G(this._iterable);if(!V(n))return new F(U);var r=0;return new F((function(){var e=n.next();return e.done?e:B(t,r++,e.value)}))},e(it,Y),it.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===t(a,o++,this))break}return o},it.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new F((function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return B(t,i,r[i++])}))},e(bt,Y),bt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},bt.prototype.get=function(t,e){return this.has(t)?this._value:e},bt.prototype.includes=function(t){return gt(this._value,t)},bt.prototype.slice=function(t,e){var n=this.size;return T(t,e,n)?this:new bt(this._value,A(e,n)-M(t,n))},bt.prototype.reverse=function(){return this},bt.prototype.indexOf=function(t){return gt(this._value,t)?0:-1},bt.prototype.lastIndexOf=function(t){return gt(this._value,t)?this.size:-1},bt.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},bt.prototype.__iterator=function(t,e){var n=this,r=0;return new F((function(){return r<n.size?B(t,r++,n._value):U()}))},bt.prototype.equals=function(t){return t instanceof bt?gt(this._value,t._value):mt(t)},e(xt,Y),xt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},xt.prototype.get=function(t,e){return this.has(t)?this._start+C(this,t)*this._step:e},xt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},xt.prototype.slice=function(t,e){return T(t,e,this.size)?this:(t=M(t,this.size),(e=A(e,this.size))<=t?new xt(0,0):new xt(this.get(t,this._end),this.get(e,this._end),this._step))},xt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},xt.prototype.lastIndexOf=function(t){return this.indexOf(t)},xt.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},xt.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new F((function(){var a=i;return i+=e?-r:r,o>n?U():B(t,o++,a)}))},xt.prototype.equals=function(t){return t instanceof xt?this._start===t._start&&this._end===t._end&&this._step===t._step:mt(this,t)},e(wt,n),e(Et,wt),e(St,wt),e(kt,wt),wt.Keyed=Et,wt.Indexed=St,wt.Set=kt;var Ot="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function Ct(t){return t>>>1&1073741824|3221225471&t}function Pt(t){if(!1===t||null===t||void 0===t)return 0;if("function"===typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return Ct(n)}if("string"===e)return t.length>Ft?Tt(t):Mt(t);if("function"===typeof t.hashCode)return t.hashCode();if("object"===e)return At(t);if("function"===typeof t.toString)return Mt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Tt(t){var e=qt[t];return void 0===e&&(e=Mt(t),Ut===Bt&&(Ut=0,qt={}),Ut++,qt[t]=e),e}function Mt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Ct(e)}function At(t){var e;if(Nt&&void 0!==(e=Dt.get(t)))return e;if(void 0!==(e=t[zt]))return e;if(!jt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[zt]))return e;if(void 0!==(e=Rt(t)))return e}if(e=++Lt,1073741824&Lt&&(Lt=0),Nt)Dt.set(t,e);else{if(void 0!==It&&!1===It(t))throw new Error("Non-extensible objects are not allowed as keys.");if(jt)Object.defineProperty(t,zt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[zt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[zt]=e}}return e}var It=Object.isExtensible,jt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function Rt(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}var Dt,Nt="function"===typeof WeakMap;Nt&&(Dt=new WeakMap);var Lt=0,zt="__immutablehash__";"function"===typeof Symbol&&(zt=Symbol(zt));var Ft=16,Bt=255,Ut=0,qt={};function Vt(t){_t(t!==1/0,"Cannot perform this action with an infinite size.")}function Gt(t){return null===t||void 0===t?ie():Wt(t)&&!l(t)?t:ie().withMutations((function(e){var n=r(t);Vt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Wt(t){return!(!t||!t[Kt])}e(Gt,Et),Gt.of=function(){var e=t.call(arguments,0);return ie().withMutations((function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}}))},Gt.prototype.toString=function(){return this.__toString("Map {","}")},Gt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Gt.prototype.set=function(t,e){return oe(this,t,e)},Gt.prototype.setIn=function(t,e){return this.updateIn(t,b,(function(){return e}))},Gt.prototype.remove=function(t){return oe(this,t,b)},Gt.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return b}))},Gt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Gt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=ve(this,wn(t),e,n);return r===b?void 0:r},Gt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ie()},Gt.prototype.merge=function(){return he(this,void 0,arguments)},Gt.prototype.mergeWith=function(e){return he(this,e,t.call(arguments,1))},Gt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"===typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},Gt.prototype.mergeDeep=function(){return he(this,pe,arguments)},Gt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return he(this,de(e),n)},Gt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,ie(),(function(t){return"function"===typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},Gt.prototype.sort=function(t){return qe(fn(this,t))},Gt.prototype.sortBy=function(t,e){return qe(fn(this,e,t))},Gt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Gt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)},Gt.prototype.asImmutable=function(){return this.__ensureOwner()},Gt.prototype.wasAltered=function(){return this.__altered},Gt.prototype.__iterator=function(t,e){return new te(this,t,e)},Gt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},Gt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?re(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Gt.isMap=Wt;var Ht,Kt="@@__IMMUTABLE_MAP__@@",Xt=Gt.prototype;function Yt(t,e){this.ownerID=t,this.entries=e}function Zt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function $t(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Jt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Qt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function te(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&ne(t._root)}function ee(t,e){return B(t,e[0],e[1])}function ne(t,e){return{node:t,index:0,__prev:e}}function re(t,e,n,r){var i=Object.create(Xt);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function ie(){return Ht||(Ht=re(0))}function oe(t,e,n){var r,i;if(t._root){var o=w(_),a=w(x);if(r=ae(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===b?-1:1:0)}else{if(n===b)return t;i=1,r=new Yt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?re(i,r):ie()}function ae(t,e,n,r,i,o,a,s){return t?t.update(e,n,r,i,o,a,s):o===b?t:(E(s),E(a),new Qt(e,r,[i,o]))}function se(t){return t.constructor===Qt||t.constructor===Jt}function ue(t,e,n,r,i){if(t.keyHash===r)return new Jt(e,r,[t.entry,i]);var o,a=(0===n?t.keyHash:t.keyHash>>>n)&m,s=(0===n?r:r>>>n)&m;return new Zt(e,1<<a|1<<s,a===s?[ue(t,e,n+v,r,i)]:(o=new Qt(e,r,i),a<s?[t,o]:[o,t]))}function ce(t,e,n,r){t||(t=new S);for(var i=new Qt(t,Pt(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function le(t,e,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==r&&(i|=u,a[o++]=l)}return new Zt(t,i,a)}function fe(t,e,n,r,i){for(var o=0,a=new Array(g),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[o++]:void 0;return a[r]=i,new $t(t,o+1,a)}function he(t,e,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],u=r(s);a(s)||(u=u.map((function(t){return pt(t)}))),i.push(u)}return ye(t,e,i)}function pe(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):gt(t,e)?t:e}function de(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return gt(e,i)?e:i}}function ye(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,b,(function(t){return t===b?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)})):t.constructor(n[0])}function ve(t,e,n,r){var i=t===b,o=e.next();if(o.done){var a=i?n:t,s=r(a);return s===a?t:s}_t(i||t&&t.set,"invalid keyPath");var u=o.value,c=i?b:t.get(u,b),l=ve(c,e,n,r);return l===c?t:l===b?t.remove(u):(i?ie():t).set(u,l)}function ge(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function me(t,e,n,r){var i=r?t:k(t);return i[e]=n,i}function be(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}function _e(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}Xt[Kt]=!0,Xt[y]=Xt.remove,Xt.removeIn=Xt.deleteIn,Yt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(gt(n,i[o][0]))return i[o][1];return r},Yt.prototype.update=function(t,e,n,r,i,o,a){for(var s=i===b,u=this.entries,c=0,l=u.length;c<l&&!gt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(E(a),(s||!f)&&E(o),!s||1!==u.length){if(!f&&!s&&u.length>=xe)return ce(t,u,r,i);var h=t&&t===this.ownerID,p=h?u:k(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Yt(t,p)}},Zt.prototype.get=function(t,e,n,r){void 0===e&&(e=Pt(n));var i=1<<((0===t?e:e>>>t)&m),o=this.bitmap;return 0===(o&i)?r:this.nodes[ge(o&i-1)].get(t+v,e,n,r)},Zt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=Pt(r));var s=(0===e?n:n>>>e)&m,u=1<<s,c=this.bitmap,l=0!==(c&u);if(!l&&i===b)return this;var f=ge(c&u-1),h=this.nodes,p=l?h[f]:void 0,d=ae(p,t,e+v,n,r,i,o,a);if(d===p)return this;if(!l&&d&&h.length>=we)return fe(t,h,c,s,d);if(l&&!d&&2===h.length&&se(h[1^f]))return h[1^f];if(l&&d&&1===h.length&&se(d))return d;var y=t&&t===this.ownerID,g=l?d?c:c^u:c|u,_=l?d?me(h,f,d,y):_e(h,f,y):be(h,f,d,y);return y?(this.bitmap=g,this.nodes=_,this):new Zt(t,g,_)},$t.prototype.get=function(t,e,n,r){void 0===e&&(e=Pt(n));var i=(0===t?e:e>>>t)&m,o=this.nodes[i];return o?o.get(t+v,e,n,r):r},$t.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=Pt(r));var s=(0===e?n:n>>>e)&m,u=i===b,c=this.nodes,l=c[s];if(u&&!l)return this;var f=ae(l,t,e+v,n,r,i,o,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<Ee)return le(t,c,h,s)}else h++;var p=t&&t===this.ownerID,d=me(c,s,f,p);return p?(this.count=h,this.nodes=d,this):new $t(t,h,d)},Jt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(gt(n,i[o][0]))return i[o][1];return r},Jt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=Pt(r));var s=i===b;if(n!==this.keyHash)return s?this:(E(a),E(o),ue(this,t,e,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!gt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(E(a),(s||!f)&&E(o),s&&2===l)return new Qt(t,this.keyHash,u[1^c]);var h=t&&t===this.ownerID,p=h?u:k(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),h?(this.entries=p,this):new Jt(t,this.keyHash,p)},Qt.prototype.get=function(t,e,n,r){return gt(n,this.entry[0])?this.entry[1]:r},Qt.prototype.update=function(t,e,n,r,i,o,a){var s=i===b,u=gt(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(E(a),s?void E(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new Qt(t,this.keyHash,[r,i]):(E(o),ue(this,t,e,Pt(r),[r,i])))},Yt.prototype.iterate=Jt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},Zt.prototype.iterate=$t.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Qt.prototype.iterate=function(t,e){return t(this.entry)},e(te,F),te.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return ee(t,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return ee(t,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return ee(t,o.entry);e=this._stack=ne(o,e)}continue}e=this._stack=this._stack.__prev}return U()};var xe=g/4,we=g/2,Ee=g/4;function Se(t){var e=Re();if(null===t||void 0===t)return e;if(ke(t))return t;var n=i(t),r=n.size;return 0===r?e:(Vt(r),r>0&&r<g?je(0,r,v,null,new Pe(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function ke(t){return!(!t||!t[Oe])}e(Se,St),Se.of=function(){return this(arguments)},Se.prototype.toString=function(){return this.__toString("List [","]")},Se.prototype.get=function(t,e){if((t=C(this,t))>=0&&t<this.size){var n=ze(this,t+=this._origin);return n&&n.array[t&m]}return e},Se.prototype.set=function(t,e){return De(this,t,e)},Se.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Se.prototype.insert=function(t,e){return this.splice(t,0,e)},Se.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Re()},Se.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){Fe(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},Se.prototype.pop=function(){return Fe(this,0,-1)},Se.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){Fe(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},Se.prototype.shift=function(){return Fe(this,1)},Se.prototype.merge=function(){return Be(this,void 0,arguments)},Se.prototype.mergeWith=function(e){return Be(this,e,t.call(arguments,1))},Se.prototype.mergeDeep=function(){return Be(this,pe,arguments)},Se.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Be(this,de(e),n)},Se.prototype.setSize=function(t){return Fe(this,0,t)},Se.prototype.slice=function(t,e){var n=this.size;return T(t,e,n)?this:Fe(this,M(t,n),A(e,n))},Se.prototype.__iterator=function(t,e){var n=0,r=Ie(this,e);return new F((function(){var e=r();return e===Ae?U():B(t,n++,e)}))},Se.prototype.__iterate=function(t,e){for(var n,r=0,i=Ie(this,e);(n=i())!==Ae&&!1!==t(n,r++,this););return r},Se.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?je(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Se.isList=ke;var Oe="@@__IMMUTABLE_LIST__@@",Ce=Se.prototype;function Pe(t,e){this.array=t,this.ownerID=e}Ce[Oe]=!0,Ce[y]=Ce.remove,Ce.setIn=Xt.setIn,Ce.deleteIn=Ce.removeIn=Xt.removeIn,Ce.update=Xt.update,Ce.updateIn=Xt.updateIn,Ce.mergeIn=Xt.mergeIn,Ce.mergeDeepIn=Xt.mergeDeepIn,Ce.withMutations=Xt.withMutations,Ce.asMutable=Xt.asMutable,Ce.asImmutable=Xt.asImmutable,Ce.wasAltered=Xt.wasAltered,Pe.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&m;if(r>=this.array.length)return new Pe([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-v,n))===a&&o)return this}if(o&&!i)return this;var s=Le(this,t);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},Pe.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&m;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-v,n))===o&&i===this.array.length-1)return this}var a=Le(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Te,Me,Ae={};function Ie(t,e){var n=t._origin,r=t._capacity,i=Ue(r),o=t._tail;return a(t._root,t._level,0);function a(t,e,n){return 0===e?s(t,n):u(t,e,n)}function s(t,a){var s=a===i?o&&o.array:t&&t.array,u=a>n?0:n-a,c=r-a;return c>g&&(c=g),function(){if(u===c)return Ae;var t=e?--c:u++;return s&&s[t]}}function u(t,i,o){var s,u=t&&t.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);return l>g&&(l=g),function(){for(;;){if(s){var t=s();if(t!==Ae)return t;s=null}if(c===l)return Ae;var n=e?--l:c++;s=a(u&&u[n],i-v,o+(n<<i))}}}}function je(t,e,n,r,i,o,a){var s=Object.create(Ce);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Re(){return Te||(Te=je(0,0,v))}function De(t,e,n){if((e=C(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?Fe(t,e).set(0,n):Fe(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o=w(x);return e>=Ue(t._capacity)?r=Ne(r,t.__ownerID,0,e,n,o):i=Ne(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):je(t._origin,t._capacity,t._level,i,r):t}function Ne(t,e,n,r,i,o){var a,s=r>>>n&m,u=t&&s<t.array.length;if(!u&&void 0===i)return t;if(n>0){var c=t&&t.array[s],l=Ne(c,e,n-v,r,i,o);return l===c?t:((a=Le(t,e)).array[s]=l,a)}return u&&t.array[s]===i?t:(E(o),a=Le(t,e),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Le(t,e){return e&&t&&e===t.ownerID?t:new Pe(t?t.array.slice():[],e)}function ze(t,e){if(e>=Ue(t._capacity))return t._tail;if(e<1<<t._level+v){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&m],r-=v;return n}}function Fe(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new S,i=t._origin,o=t._capacity,a=i+e,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,l=0;a+l<0;)c=new Pe(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=v);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=Ue(o),h=Ue(s);h>=1<<u+v;)c=new Pe(c&&c.array.length?[c]:[],r),u+=v;var p=t._tail,d=h<f?ze(t,s-1):h>f?new Pe([],r):p;if(p&&h>f&&a<o&&p.array.length){for(var y=c=Le(c,r),g=u;g>v;g-=v){var b=f>>>g&m;y=y.array[b]=Le(y.array[b],r)}y.array[f>>>v&m]=p}if(s<o&&(d=d&&d.removeAfter(r,0,s)),a>=h)a-=h,s-=h,u=v,c=null,d=d&&d.removeBefore(r,0,a);else if(a>i||h<f){for(l=0;c;){var _=a>>>u&m;if(_!==h>>>u&m)break;_&&(l+=(1<<u)*_),u-=v,c=c.array[_]}c&&a>i&&(c=c.removeBefore(r,u,a-l)),c&&h<f&&(c=c.removeAfter(r,u,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):je(a,s,u,c,d)}function Be(t,e,n){for(var r=[],o=0,s=0;s<n.length;s++){var u=n[s],c=i(u);c.size>o&&(o=c.size),a(u)||(c=c.map((function(t){return pt(t)}))),r.push(c)}return o>t.size&&(t=t.setSize(o)),ye(t,e,r)}function Ue(t){return t<g?0:t-1>>>v<<v}function qe(t){return null===t||void 0===t?We():Ve(t)?t:We().withMutations((function(e){var n=r(t);Vt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Ve(t){return Wt(t)&&l(t)}function Ge(t,e,n,r){var i=Object.create(qe.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function We(){return Me||(Me=Ge(ie(),Re()))}function He(t,e,n){var r,i,o=t._map,a=t._list,s=o.get(e),u=void 0!==s;if(n===b){if(!u)return t;a.size>=g&&a.size>=2*o.size?(r=(i=a.filter((function(t,e){return void 0!==t&&s!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return t;r=o,i=a.set(s,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):Ge(r,i)}function Ke(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Xe(t){this._iter=t,this.size=t.size}function Ye(t){this._iter=t,this.size=t.size}function Ze(t){this._iter=t,this.size=t.size}function $e(t){var e=bn(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=_n,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(e===D){var r=t.__iterator(e,n);return new F((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===R?j:R,n)},e}function Je(t,e,n){var r=bn(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,b);return o===b?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(D,i);return new F((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return B(r,s,e.call(n,a[1],s,t),i)}))},r}function Qe(t,e){var n=bn(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=$e(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=_n,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function tn(t,e,n,r){var i=bn(t);return r&&(i.has=function(r){var i=t.get(r,b);return i!==b&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,b);return o!==b&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return t.__iterate((function(t,o,u){if(e.call(n,t,o,u))return s++,i(t,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=t.__iterator(D,o),s=0;return new F((function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return B(i,r?c:s++,l,o)}}))},i}function en(t,e,n){var r=Gt().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}function nn(t,e,n){var r=s(t),i=(l(t)?qe():Gt()).asMutable();t.__iterate((function(o,a){i.update(e.call(n,o,a,t),(function(t){return(t=t||[]).push(r?[a,o]:o),t}))}));var o=mn(t);return i.map((function(e){return yn(t,o(e))}))}function rn(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=i:n|=0),T(e,n,i))return t;var o=M(e,i),a=A(n,i);if(o!==o||a!==a)return rn(t.toSeq().cacheResult(),e,n,r);var s,u=a-o;u===u&&(s=u<0?0:u);var c=bn(t);return c.size=0===s?s:t.size&&s||void 0,!r&&ot(t)&&s>=0&&(c.get=function(e,n){return(e=C(this,e))>=0&&e<s?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,u=!0,c=0;return t.__iterate((function(t,n){if(!u||!(u=a++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==s})),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var i=0!==s&&t.__iterator(e,n),a=0,u=0;return new F((function(){for(;a++<o;)i.next();if(++u>s)return U();var t=i.next();return r||e===R?t:B(e,u-1,e===j?void 0:t.value[1],t)}))},c}function on(t,e,n){var r=bn(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate((function(t,i,s){return e.call(n,t,i,s)&&++a&&r(t,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(D,i),s=!0;return new F((function(){if(!s)return U();var t=a.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?r===D?t:B(r,u,c,t):(s=!1,U())}))},r}function an(t,e,n,r){var i=bn(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return t.__iterate((function(t,o,c){if(!s||!(s=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,a)})),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(D,o),u=!0,c=0;return new F((function(){var t,o,l;do{if((t=s.next()).done)return r||i===R?t:B(i,c++,i===j?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],u&&(u=e.call(n,l,o,a))}while(u);return i===D?t:B(i,o,l,t)}))},i}function sn(t,e){var n=s(t),i=[t].concat(e).map((function(t){return a(t)?n&&(t=r(t)):t=n?st(t):ut(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||n&&s(o)||u(t)&&u(o))return o}var c=new et(i);return n?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),c}function un(t,e,n){var r=bn(t);return r.__iterateUncached=function(r,i){var o=0,s=!1;function u(t,c){var l=this;t.__iterate((function(t,i){return(!e||c<e)&&a(t)?u(t,c+1):!1===r(t,n?i:o++,l)&&(s=!0),!s}),i)}return u(t,0),o},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),s=[],u=0;return new F((function(){for(;o;){var t=o.next();if(!1===t.done){var c=t.value;if(r===D&&(c=c[1]),e&&!(s.length<e)||!a(c))return n?t:B(r,u++,c,t);s.push(o),o=c.__iterator(r,i)}else o=s.pop()}return U()}))},r}function cn(t,e,n){var r=mn(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}function ln(t,e){var n=bn(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(R,r),a=0;return new F((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?B(n,a++,e):B(n,a++,i.value,i)}))},n}function fn(t,e,n){e||(e=xn);var r=s(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?X(o):u(t)?Y(o):Z(o)}function hn(t,e,n){if(e||(e=xn),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return pn(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return pn(e,t,n)?n:t}))}function pn(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function dn(t,e,r){var i=bn(t);return i.size=new et(r).map((function(t){return t.size})).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(R,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map((function(t){return t=n(t),G(i?t.reverse():t)})),a=0,s=!1;return new F((function(){var n;return s||(n=o.map((function(t){return t.next()})),s=n.some((function(t){return t.done}))),s?U():B(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function yn(t,e){return ot(t)?e:t.constructor(e)}function vn(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function gn(t){return Vt(t.size),O(t)}function mn(t){return s(t)?r:u(t)?i:o}function bn(t){return Object.create((s(t)?X:u(t)?Y:Z).prototype)}function _n(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):K.prototype.cacheResult.call(this)}function xn(t,e){return t>e?1:t<e?-1:0}function wn(t){var e=G(t);if(!e){if(!H(t))throw new TypeError("Expected iterable or array-like: "+t);e=G(n(t))}return e}function En(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);Cn(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=Gt(o)},i=r.prototype=Object.create(Sn);return i.constructor=r,r}e(qe,Gt),qe.of=function(){return this(arguments)},qe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},qe.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):We()},qe.prototype.set=function(t,e){return He(this,t,e)},qe.prototype.remove=function(t){return He(this,t,b)},qe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},qe.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},qe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},qe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Ge(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},qe.isOrderedMap=Ve,qe.prototype[d]=!0,qe.prototype[y]=qe.prototype.remove,e(Ke,X),Ke.prototype.get=function(t,e){return this._iter.get(t,e)},Ke.prototype.has=function(t){return this._iter.has(t)},Ke.prototype.valueSeq=function(){return this._iter.valueSeq()},Ke.prototype.reverse=function(){var t=this,e=Qe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Ke.prototype.map=function(t,e){var n=this,r=Je(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},Ke.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?gn(this):0,function(i){return t(i,e?--n:n++,r)}),e)},Ke.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(R,e),r=e?gn(this):0;return new F((function(){var i=n.next();return i.done?i:B(t,e?--r:r++,i.value,i)}))},Ke.prototype[d]=!0,e(Xe,Y),Xe.prototype.includes=function(t){return this._iter.includes(t)},Xe.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},Xe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(R,e),r=0;return new F((function(){var e=n.next();return e.done?e:B(t,r++,e.value,e)}))},e(Ye,Z),Ye.prototype.has=function(t){return this._iter.includes(t)},Ye.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},Ye.prototype.__iterator=function(t,e){var n=this._iter.__iterator(R,e);return new F((function(){var e=n.next();return e.done?e:B(t,e.value,e.value,e)}))},e(Ze,X),Ze.prototype.entrySeq=function(){return this._iter.toSeq()},Ze.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){vn(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},Ze.prototype.__iterator=function(t,e){var n=this._iter.__iterator(R,e);return new F((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){vn(r);var i=a(r);return B(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},Xe.prototype.cacheResult=Ke.prototype.cacheResult=Ye.prototype.cacheResult=Ze.prototype.cacheResult=_n,e(En,Et),En.prototype.toString=function(){return this.__toString(On(this)+" {","}")},En.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},En.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},En.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=kn(this,ie()))},En.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+On(this));if(this._map&&!this._map.has(t)&&e===this._defaultValues[t])return this;var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:kn(this,n)},En.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:kn(this,e)},En.prototype.wasAltered=function(){return this._map.wasAltered()},En.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},En.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},En.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?kn(this,e,t):(this.__ownerID=t,this._map=e,this)};var Sn=En.prototype;function kn(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function On(t){return t._name||t.constructor.name||"Record"}function Cn(t,e){try{e.forEach(Pn.bind(void 0,t))}catch(n){}}function Pn(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){_t(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Tn(t){return null===t||void 0===t?Nn():Mn(t)&&!l(t)?t:Nn().withMutations((function(e){var n=o(t);Vt(n.size),n.forEach((function(t){return e.add(t)}))}))}function Mn(t){return!(!t||!t[In])}Sn[y]=Sn.remove,Sn.deleteIn=Sn.removeIn=Xt.removeIn,Sn.merge=Xt.merge,Sn.mergeWith=Xt.mergeWith,Sn.mergeIn=Xt.mergeIn,Sn.mergeDeep=Xt.mergeDeep,Sn.mergeDeepWith=Xt.mergeDeepWith,Sn.mergeDeepIn=Xt.mergeDeepIn,Sn.setIn=Xt.setIn,Sn.update=Xt.update,Sn.updateIn=Xt.updateIn,Sn.withMutations=Xt.withMutations,Sn.asMutable=Xt.asMutable,Sn.asImmutable=Xt.asImmutable,e(Tn,kt),Tn.of=function(){return this(arguments)},Tn.fromKeys=function(t){return this(r(t).keySeq())},Tn.prototype.toString=function(){return this.__toString("Set {","}")},Tn.prototype.has=function(t){return this._map.has(t)},Tn.prototype.add=function(t){return Rn(this,this._map.set(t,!0))},Tn.prototype.remove=function(t){return Rn(this,this._map.remove(t))},Tn.prototype.clear=function(){return Rn(this,this._map.clear())},Tn.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},Tn.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},Tn.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},Tn.prototype.merge=function(){return this.union.apply(this,arguments)},Tn.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},Tn.prototype.sort=function(t){return Ln(fn(this,t))},Tn.prototype.sortBy=function(t,e){return Ln(fn(this,e,t))},Tn.prototype.wasAltered=function(){return this._map.wasAltered()},Tn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},Tn.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},Tn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Tn.isSet=Mn;var An,In="@@__IMMUTABLE_SET__@@",jn=Tn.prototype;function Rn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Dn(t,e){var n=Object.create(jn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Nn(){return An||(An=Dn(ie()))}function Ln(t){return null===t||void 0===t?qn():zn(t)?t:qn().withMutations((function(e){var n=o(t);Vt(n.size),n.forEach((function(t){return e.add(t)}))}))}function zn(t){return Mn(t)&&l(t)}jn[In]=!0,jn[y]=jn.remove,jn.mergeDeep=jn.merge,jn.mergeDeepWith=jn.mergeWith,jn.withMutations=Xt.withMutations,jn.asMutable=Xt.asMutable,jn.asImmutable=Xt.asImmutable,jn.__empty=Nn,jn.__make=Dn,e(Ln,Tn),Ln.of=function(){return this(arguments)},Ln.fromKeys=function(t){return this(r(t).keySeq())},Ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ln.isOrderedSet=zn;var Fn,Bn=Ln.prototype;function Un(t,e){var n=Object.create(Bn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function qn(){return Fn||(Fn=Un(We()))}function Vn(t){return null===t||void 0===t?Yn():Gn(t)?t:Yn().unshiftAll(t)}function Gn(t){return!(!t||!t[Hn])}Bn[d]=!0,Bn.__empty=qn,Bn.__make=Un,e(Vn,St),Vn.of=function(){return this(arguments)},Vn.prototype.toString=function(){return this.__toString("Stack [","]")},Vn.prototype.get=function(t,e){var n=this._head;for(t=C(this,t);n&&t--;)n=n.next;return n?n.value:e},Vn.prototype.peek=function(){return this._head&&this._head.value},Vn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Xn(t,e)},Vn.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Vt(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Xn(e,n)},Vn.prototype.pop=function(){return this.slice(1)},Vn.prototype.unshift=function(){return this.push.apply(this,arguments)},Vn.prototype.unshiftAll=function(t){return this.pushAll(t)},Vn.prototype.shift=function(){return this.pop.apply(this,arguments)},Vn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yn()},Vn.prototype.slice=function(t,e){if(T(t,e,this.size))return this;var n=M(t,this.size);if(A(e,this.size)!==this.size)return St.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Xn(r,i)},Vn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Xn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Vn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Vn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new F((function(){if(r){var e=r.value;return r=r.next,B(t,n++,e)}return U()}))},Vn.isStack=Gn;var Wn,Hn="@@__IMMUTABLE_STACK__@@",Kn=Vn.prototype;function Xn(t,e,n,r){var i=Object.create(Kn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Yn(){return Wn||(Wn=Xn(0))}function Zn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}Kn[Hn]=!0,Kn.withMutations=Xt.withMutations,Kn.asMutable=Xt.asMutable,Kn.asImmutable=Xt.asImmutable,Kn.wasAltered=Xt.wasAltered,n.Iterator=F,Zn(n,{toArray:function(){Vt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new Xe(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"===typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new Ke(this,!0)},toMap:function(){return Gt(this.toKeyedSeq())},toObject:function(){Vt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return qe(this.toKeyedSeq())},toOrderedSet:function(){return Ln(s(this)?this.valueSeq():this)},toSet:function(){return Tn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ye(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Vn(s(this)?this.valueSeq():this)},toList:function(){return Se(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return yn(this,sn(this,t.call(arguments,0)))},includes:function(t){return this.some((function(e){return gt(e,t)}))},entries:function(){return this.__iterator(D)},every:function(t,e){Vt(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return yn(this,tn(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Vt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Vt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""})),e},keys:function(){return this.__iterator(j)},map:function(t,e){return yn(this,Je(this,t,e))},reduce:function(t,e,n){var r,i;return Vt(this.size),arguments.length<2?i=!0:r=e,this.__iterate((function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return yn(this,Qe(this,!0))},slice:function(t,e){return yn(this,rn(this,t,e,!0))},some:function(t,e){return!this.every(er(t),e)},sort:function(t){return yn(this,fn(this,t))},values:function(){return this.__iterator(R)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return O(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return en(this,t,e)},equals:function(t){return mt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(tr).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(er(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate((function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1})),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(P)},flatMap:function(t,e){return yn(this,cn(this,t,e))},flatten:function(t){return yn(this,un(this,t,!0))},fromEntrySeq:function(){return new Ze(this)},get:function(t,e){return this.find((function(e,n){return gt(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,i=wn(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,b):b)===b)return e}return r},groupBy:function(t,e){return nn(this,t,e)},has:function(t){return this.get(t,b)!==b},hasIn:function(t){return this.getIn(t,b)!==b},isSubset:function(t){return t="function"===typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"===typeof t.isSubset?t:n(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return gt(e,t)}))},keySeq:function(){return this.toSeq().map(Qn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return hn(this,t)},maxBy:function(t,e){return hn(this,e,t)},min:function(t){return hn(this,t?nr(t):or)},minBy:function(t,e){return hn(this,e?nr(e):or,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return yn(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return yn(this,an(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(er(t),e)},sortBy:function(t,e){return yn(this,fn(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return yn(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return yn(this,on(this,t,e))},takeUntil:function(t,e){return this.takeWhile(er(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var $n=n.prototype;$n[f]=!0,$n[z]=$n.values,$n.__toJS=$n.toArray,$n.__toStringMapper=rr,$n.inspect=$n.toSource=function(){return this.toString()},$n.chain=$n.flatMap,$n.contains=$n.includes,Zn(r,{flip:function(){return yn(this,$e(this))},mapEntries:function(t,e){var n=this,r=0;return yn(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return yn(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var Jn=r.prototype;function Qn(t,e){return e}function tr(t,e){return[e,t]}function er(t){return function(){return!t.apply(this,arguments)}}function nr(t){return function(){return-t.apply(this,arguments)}}function rr(t){return"string"===typeof t?JSON.stringify(t):String(t)}function ir(){return k(arguments)}function or(t,e){return t<e?1:t>e?-1:0}function ar(t){if(t.size===1/0)return 0;var e=l(t),n=s(t),r=e?1:0;return sr(t.__iterate(n?e?function(t,e){r=31*r+ur(Pt(t),Pt(e))|0}:function(t,e){r=r+ur(Pt(t),Pt(e))|0}:e?function(t){r=31*r+Pt(t)|0}:function(t){r=r+Pt(t)|0}),r)}function sr(t,e){return e=Ot(e,3432918353),e=Ot(e<<15|e>>>-15,461845907),e=Ot(e<<13|e>>>-13,5),e=Ot((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=Ct((e=Ot(e^e>>>13,3266489909))^e>>>16)}function ur(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return Jn[h]=!0,Jn[z]=$n.entries,Jn.__toJS=$n.toObject,Jn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+rr(t)},Zn(i,{toKeyedSeq:function(){return new Ke(this,!1)},filter:function(t,e){return yn(this,tn(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return yn(this,Qe(this,!1))},slice:function(t,e){return yn(this,rn(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=M(t,t<0?this.count():this.size);var r=this.slice(0,t);return yn(this,1===n?r:r.concat(k(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return yn(this,un(this,t,!1))},get:function(t,e){return(t=C(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=C(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return yn(this,ln(this,t))},interleave:function(){var t=[this].concat(k(arguments)),e=dn(this.toSeq(),Y.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),yn(this,n)},keySeq:function(){return xt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return yn(this,an(this,t,e,!1))},zip:function(){return yn(this,dn(this,ir,[this].concat(k(arguments))))},zipWith:function(t){var e=k(arguments);return e[0]=this,yn(this,dn(this,t,e))}}),i.prototype[p]=!0,i.prototype[d]=!0,Zn(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=$n.includes,o.prototype.contains=o.prototype.includes,Zn(X,r.prototype),Zn(Y,i.prototype),Zn(Z,o.prototype),Zn(Et,r.prototype),Zn(St,i.prototype),Zn(kt,o.prototype),{Iterable:n,Seq:K,Collection:wt,Map:Gt,OrderedMap:qe,List:Se,Stack:Vn,Set:Tn,OrderedSet:Ln,Record:En,Range:xt,Repeat:bt,is:gt,fromJS:pt}}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}(r);i.right,i.left;var o=Array.prototype,a=(o.slice,o.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var s=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}},,,function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(t,e,n){var r=n(477),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){var r=n(551),i=n(970),o=n(552),a=function(t,e){return i(new r(t,e))};t.exports=a,a.fromPathsOrPathValues=function(t,e){if(!t)return[];for(var n=[],r=0,i=t.length;r<i;r++)"string"===typeof t[r]?n[r]=a(t[r],e):"string"===typeof t[r].path?n[r]={path:a(t[r].path,e),value:t[r].value}:n[r]=t[r];return n},a.fromPath=function(t,e){return t?"string"===typeof t?a(t,e):t:[]},a.RoutedTokens=o},function(t,e,n){"use strict";var r={},i=Math.pow(2,24);t.exports=function(){for(var t;void 0===t||r.hasOwnProperty(t)||!isNaN(+t);)t=Math.floor(Math.random()*i).toString(32);return r[t]=!0,t}},function(t,e,n){"use strict";n.r(e),n.d(e,"scaleBand",(function(){return r.a})),n.d(e,"scalePoint",(function(){return r.b})),n.d(e,"scaleIdentity",(function(){return a})),n.d(e,"scaleLinear",(function(){return i.a})),n.d(e,"scaleLog",(function(){return s.a})),n.d(e,"scaleSymlog",(function(){return u.a})),n.d(e,"scaleOrdinal",(function(){return c.a})),n.d(e,"scaleImplicit",(function(){return c.b})),n.d(e,"scalePow",(function(){return l.a})),n.d(e,"scaleSqrt",(function(){return l.c})),n.d(e,"scaleRadial",(function(){return y})),n.d(e,"scaleQuantile",(function(){return v.a})),n.d(e,"scaleQuantize",(function(){return g.a})),n.d(e,"scaleThreshold",(function(){return m.a})),n.d(e,"scaleTime",(function(){return b.b})),n.d(e,"scaleUtc",(function(){return _.a})),n.d(e,"scaleSequential",(function(){return x.b})),n.d(e,"scaleSequentialLog",(function(){return x.c})),n.d(e,"scaleSequentialPow",(function(){return x.d})),n.d(e,"scaleSequentialSqrt",(function(){return x.e})),n.d(e,"scaleSequentialSymlog",(function(){return x.f})),n.d(e,"scaleSequentialQuantile",(function(){return O})),n.d(e,"scaleDiverging",(function(){return I})),n.d(e,"scaleDivergingLog",(function(){return j})),n.d(e,"scaleDivergingPow",(function(){return D})),n.d(e,"scaleDivergingSqrt",(function(){return N})),n.d(e,"scaleDivergingSymlog",(function(){return R})),n.d(e,"tickFormat",(function(){return L.a}));var r=n(295),i=n(67),o=n(170);function a(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,o.a),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return a(t).unknown(e)},t=arguments.length?Array.from(t,o.a):[0,1],Object(i.b)(n)}var s=n(199),u=n(200),c=n(126),l=n(166),f=n(50),h=n(40);function p(t){return Math.sign(t)*t*t}function d(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function y(){var t,e=Object(f.b)(),n=[0,1],r=!1;function a(n){var i=d(e(n));return isNaN(i)?t:r?Math.round(i):i}return a.invert=function(t){return e.invert(p(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain()},a.range=function(t){return arguments.length?(e.range((n=Array.from(t,o.a)).map(p)),a):n.slice()},a.rangeRound=function(t){return a.range(t).round(!0)},a.round=function(t){return arguments.length?(r=!!t,a):r},a.clamp=function(t){return arguments.length?(e.clamp(t),a):e.clamp()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return y(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},h.b.apply(a,arguments),Object(i.b)(a)}var v=n(474),g=n(312),m=n(475),b=n(305),_=n(628),x=n(91),w=n(37),E=n(428),S=n(171),k=n(1212);function O(){var t=[],e=f.c;function n(n){if(!isNaN(n=+n))return e((Object(E.a)(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];var r,i=Object(w.a)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null==o||isNaN(o=+o)||t.push(o)}}catch(a){i.e(a)}finally{i.f()}return t.sort(S.a),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map((function(n,r){return e(r/(t.length-1))}))},n.quantiles=function(e){return Array.from({length:e+1},(function(n,r){return Object(k.a)(t,r/e)}))},n.copy=function(){return O(e).domain(t)},h.a.apply(n,arguments)}var C=n(16),P=n(426);function T(t,e){void 0===e&&(e=t,t=P.a);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}var M=n(1180);function A(){var t,e,n,r,i,o,a,s=0,u=.5,c=1,l=1,h=f.c,p=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(l*t<l*e?r:i),h(p?Math.max(0,Math.min(1,t)):t))}function y(t){return function(e){var n,r,i,o,a;return arguments.length?(n=e,i=(r=Object(C.a)(n,3))[0],o=r[1],a=r[2],h=T(t,[i,o,a]),d):[h(0),h(.5),h(1)]}}return d.domain=function(a){var f,h;return arguments.length?(f=a,h=Object(C.a)(f,3),s=h[0],u=h[1],c=h[2],t=o(s=+s),e=o(u=+u),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d):[s,u,c]},d.clamp=function(t){return arguments.length?(p=!!t,d):p},d.interpolator=function(t){return arguments.length?(h=t,d):h},d.range=y(P.a),d.rangeRound=y(M.a),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(u),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),l=e<t?-1:1,d}}function I(){var t=Object(i.b)(A()(f.c));return t.copy=function(){return Object(x.a)(t,I())},h.a.apply(t,arguments)}function j(){var t=Object(s.b)(A()).domain([.1,1,10]);return t.copy=function(){return Object(x.a)(t,j()).base(t.base())},h.a.apply(t,arguments)}function R(){var t=Object(u.b)(A());return t.copy=function(){return Object(x.a)(t,R()).constant(t.constant())},h.a.apply(t,arguments)}function D(){var t=Object(l.b)(A());return t.copy=function(){return Object(x.a)(t,D()).exponent(t.exponent())},h.a.apply(t,arguments)}function N(){return D.apply(null,arguments).exponent(.5)}var L=n(296)},function(t,e,n){(function(t,r){var i;(function(){var o,a="Expected a function",s="__lodash_hash_undefined__",u="__lodash_placeholder__",c=16,l=32,f=64,h=128,p=256,d=1/0,y=9007199254740991,v=NaN,g=4294967295,m=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",l],["partialRight",f],["rearg",p]],b="[object Arguments]",_="[object Array]",x="[object Boolean]",w="[object Date]",E="[object Error]",S="[object Function]",k="[object GeneratorFunction]",O="[object Map]",C="[object Number]",P="[object Object]",T="[object Promise]",M="[object RegExp]",A="[object Set]",I="[object String]",j="[object Symbol]",R="[object WeakMap]",D="[object ArrayBuffer]",N="[object DataView]",L="[object Float32Array]",z="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",q="[object Uint8Array]",V="[object Uint8ClampedArray]",G="[object Uint16Array]",W="[object Uint32Array]",H=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,$=RegExp(Y.source),J=RegExp(Z.source),Q=/<%-([\s\S]+?)%>/g,tt=/<%([\s\S]+?)%>/g,et=/<%=([\s\S]+?)%>/g,nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,at=RegExp(ot.source),st=/^\s+|\s+$/g,ut=/^\s+/,ct=/\s+$/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ft=/\{\n\/\* \[wrapped with (.+)\] \*/,ht=/,? & /,pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/\\(\\)?/g,yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,xt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,St=/['\n\r\u2028\u2029\\]/g,kt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ot="\\u2700-\\u27bf",Ct="a-z\\xdf-\\xf6\\xf8-\\xff",Pt="A-Z\\xc0-\\xd6\\xd8-\\xde",Tt="\\ufe0e\\ufe0f",Mt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="['\u2019]",It="[\\ud800-\\udfff]",jt="["+Mt+"]",Rt="["+kt+"]",Dt="\\d+",Nt="[\\u2700-\\u27bf]",Lt="["+Ct+"]",zt="[^\\ud800-\\udfff"+Mt+Dt+Ot+Ct+Pt+"]",Ft="\\ud83c[\\udffb-\\udfff]",Bt="[^\\ud800-\\udfff]",Ut="(?:\\ud83c[\\udde6-\\uddff]){2}",qt="[\\ud800-\\udbff][\\udc00-\\udfff]",Vt="["+Pt+"]",Gt="(?:"+Lt+"|"+zt+")",Wt="(?:"+Vt+"|"+zt+")",Ht="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Kt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Xt="(?:"+Rt+"|"+Ft+")"+"?",Yt="[\\ufe0e\\ufe0f]?",Zt=Yt+Xt+("(?:\\u200d(?:"+[Bt,Ut,qt].join("|")+")"+Yt+Xt+")*"),$t="(?:"+[Nt,Ut,qt].join("|")+")"+Zt,Jt="(?:"+[Bt+Rt+"?",Rt,Ut,qt,It].join("|")+")",Qt=RegExp(At,"g"),te=RegExp(Rt,"g"),ee=RegExp(Ft+"(?="+Ft+")|"+Jt+Zt,"g"),ne=RegExp([Vt+"?"+Lt+"+"+Ht+"(?="+[jt,Vt,"$"].join("|")+")",Wt+"+"+Kt+"(?="+[jt,Vt+Gt,"$"].join("|")+")",Vt+"?"+Gt+"+"+Ht,Vt+"+"+Kt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dt,$t].join("|"),"g"),re=RegExp("[\\u200d\\ud800-\\udfff"+kt+Tt+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,se={};se[L]=se[z]=se[F]=se[B]=se[U]=se[q]=se[V]=se[G]=se[W]=!0,se[b]=se[_]=se[D]=se[x]=se[N]=se[w]=se[E]=se[S]=se[O]=se[C]=se[P]=se[M]=se[A]=se[I]=se[R]=!1;var ue={};ue[b]=ue[_]=ue[D]=ue[N]=ue[x]=ue[w]=ue[L]=ue[z]=ue[F]=ue[B]=ue[U]=ue[O]=ue[C]=ue[P]=ue[M]=ue[A]=ue[I]=ue[j]=ue[q]=ue[V]=ue[G]=ue[W]=!0,ue[E]=ue[S]=ue[R]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},le=parseFloat,fe=parseInt,he="object"==typeof t&&t&&t.Object===Object&&t,pe="object"==typeof self&&self&&self.Object===Object&&self,de=he||pe||Function("return this")(),ye=e&&!e.nodeType&&e,ve=ye&&"object"==typeof r&&r&&!r.nodeType&&r,ge=ve&&ve.exports===ye,me=ge&&he.process,be=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||me&&me.binding&&me.binding("util")}catch(e){}}(),_e=be&&be.isArrayBuffer,xe=be&&be.isDate,we=be&&be.isMap,Ee=be&&be.isRegExp,Se=be&&be.isSet,ke=be&&be.isTypedArray;function Oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ce(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Te(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Me(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ae(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Ie(t,e){return!!(null==t?0:t.length)&&qe(t,e,0)>-1}function je(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Re(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function De(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ne(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Le(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function ze(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Fe=He("length");function Be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ue(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function qe(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ue(t,Ge,n)}function Ve(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ge(t){return t!==t}function We(t,e){var n=null==t?0:t.length;return n?Ye(t,e)/n:v}function He(t){return function(e){return null==e?o:e[t]}}function Ke(t){return function(e){return null==t?o:t[e]}}function Xe(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ye(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function Ze(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function $e(t){return function(e){return t(e)}}function Je(t,e){return Re(e,(function(e){return t[e]}))}function Qe(t,e){return t.has(e)}function tn(t,e){for(var n=-1,r=t.length;++n<r&&qe(e,t[n],0)>-1;);return n}function en(t,e){for(var n=t.length;n--&&qe(e,t[n],0)>-1;);return n}function nn(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var rn=Ke({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(t){return"\\"+ce[t]}function sn(t){return re.test(t)}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function ln(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==u||(t[n]=u,o[i++]=n)}return o}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return sn(t)?function(t){var e=ee.lastIndex=0;for(;ee.test(t);)++e;return e}(t):Fe(t)}function dn(t){return sn(t)?function(t){return t.match(ee)||[]}(t):function(t){return t.split("")}(t)}var yn=Ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function t(e){var n=(e=null==e?de:vn.defaults(de.Object(),e,vn.pick(de,oe))).Array,r=e.Date,i=e.Error,kt=e.Function,Ot=e.Math,Ct=e.Object,Pt=e.RegExp,Tt=e.String,Mt=e.TypeError,At=n.prototype,It=kt.prototype,jt=Ct.prototype,Rt=e["__core-js_shared__"],Dt=It.toString,Nt=jt.hasOwnProperty,Lt=0,zt=function(){var t=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ft=jt.toString,Bt=Dt.call(Ct),Ut=de._,qt=Pt("^"+Dt.call(Nt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=ge?e.Buffer:o,Gt=e.Symbol,Wt=e.Uint8Array,Ht=Vt?Vt.allocUnsafe:o,Kt=cn(Ct.getPrototypeOf,Ct),Xt=Ct.create,Yt=jt.propertyIsEnumerable,Zt=At.splice,$t=Gt?Gt.isConcatSpreadable:o,Jt=Gt?Gt.iterator:o,ee=Gt?Gt.toStringTag:o,re=function(){try{var t=fo(Ct,"defineProperty");return t({},"",{}),t}catch(e){}}(),ce=e.clearTimeout!==de.clearTimeout&&e.clearTimeout,he=r&&r.now!==de.Date.now&&r.now,pe=e.setTimeout!==de.setTimeout&&e.setTimeout,ye=Ot.ceil,ve=Ot.floor,me=Ct.getOwnPropertySymbols,be=Vt?Vt.isBuffer:o,Fe=e.isFinite,Ke=At.join,gn=cn(Ct.keys,Ct),mn=Ot.max,bn=Ot.min,_n=r.now,xn=e.parseInt,wn=Ot.random,En=At.reverse,Sn=fo(e,"DataView"),kn=fo(e,"Map"),On=fo(e,"Promise"),Cn=fo(e,"Set"),Pn=fo(e,"WeakMap"),Tn=fo(Ct,"create"),Mn=Pn&&new Pn,An={},In=Fo(Sn),jn=Fo(kn),Rn=Fo(On),Dn=Fo(Cn),Nn=Fo(Pn),Ln=Gt?Gt.prototype:o,zn=Ln?Ln.valueOf:o,Fn=Ln?Ln.toString:o;function Bn(t){if(ns(t)&&!Wa(t)&&!(t instanceof Gn)){if(t instanceof Vn)return t;if(Nt.call(t,"__wrapped__"))return Bo(t)}return new Vn(t)}var Un=function(){function t(){}return function(e){if(!es(e))return{};if(Xt)return Xt(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function qn(){}function Vn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function Gn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Kn;++e<n;)this.add(t[e])}function Yn(t){var e=this.__data__=new Hn(t);this.size=e.size}function Zn(t,e){var n=Wa(t),r=!n&&Ga(t),i=!n&&!r&&Ya(t),o=!n&&!r&&!i&&ls(t),a=n||r||i||o,s=a?Ze(t.length,Tt):[],u=s.length;for(var c in t)!e&&!Nt.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bo(c,u))||s.push(c);return s}function $n(t){var e=t.length;return e?t[Xr(0,e-1)]:o}function Jn(t,e){return No(Ti(t),sr(e,0,t.length))}function Qn(t){return No(Ti(t))}function tr(t,e,n){(n!==o&&!Ua(t[e],n)||n===o&&!(e in t))&&or(t,e,n)}function er(t,e,n){var r=t[e];Nt.call(t,e)&&Ua(r,n)&&(n!==o||e in t)||or(t,e,n)}function nr(t,e){for(var n=t.length;n--;)if(Ua(t[n][0],e))return n;return-1}function rr(t,e,n,r){return hr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function ir(t,e){return t&&Mi(e,Is(e),t)}function or(t,e,n){"__proto__"==e&&re?re(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ar(t,e){for(var r=-1,i=e.length,a=n(i),s=null==t;++r<i;)a[r]=s?o:Cs(t,e[r]);return a}function sr(t,e,n){return t===t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function ur(t,e,n,r,i,a){var s,u=1&e,c=2&e,l=4&e;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!es(t))return t;var f=Wa(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Ti(t,s)}else{var h=yo(t),p=h==S||h==k;if(Ya(t))return Ei(t,u);if(h==P||h==b||p&&!i){if(s=c||p?{}:go(t),!u)return c?function(t,e){return Mi(t,po(t),e)}(t,function(t,e){return t&&Mi(e,js(e),t)}(s,t)):function(t,e){return Mi(t,ho(t),e)}(t,ir(s,t))}else{if(!ue[h])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case D:return Si(t);case x:case w:return new r(+t);case N:return function(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case L:case z:case F:case B:case U:case q:case V:case G:case W:return ki(t,n);case O:return new r;case C:case I:return new r(t);case M:return function(t){var e=new t.constructor(t.source,vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case A:return new r;case j:return i=t,zn?Ct(zn.call(i)):{}}var i}(t,h,u)}}a||(a=new Yn);var d=a.get(t);if(d)return d;a.set(t,s),ss(t)?t.forEach((function(r){s.add(ur(r,e,n,r,t,a))})):rs(t)&&t.forEach((function(r,i){s.set(i,ur(r,e,n,i,t,a))}));var y=f?o:(l?c?io:ro:c?js:Is)(t);return Pe(y||t,(function(r,i){y&&(r=t[i=r]),er(s,i,ur(r,e,n,i,t,a))})),s}function cr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Ct(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function lr(t,e,n){if("function"!=typeof t)throw new Mt(a);return Io((function(){t.apply(o,n)}),e)}function fr(t,e,n,r){var i=-1,o=Ie,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=Re(e,$e(n))),r?(o=je,a=!1):e.length>=200&&(o=Qe,a=!1,e=new Xn(e));t:for(;++i<s;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var h=c;h--;)if(e[h]===f)continue t;u.push(l)}else o(e,f,r)||u.push(l)}return u}Bn.templateSettings={escape:Q,evaluate:tt,interpolate:et,variable:"",imports:{_:Bn}},Bn.prototype=qn.prototype,Bn.prototype.constructor=Bn,Vn.prototype=Un(qn.prototype),Vn.prototype.constructor=Vn,Gn.prototype=Un(qn.prototype),Gn.prototype.constructor=Gn,Wn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Wn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wn.prototype.get=function(t){var e=this.__data__;if(Tn){var n=e[t];return n===s?o:n}return Nt.call(e,t)?e[t]:o},Wn.prototype.has=function(t){var e=this.__data__;return Tn?e[t]!==o:Nt.call(e,t)},Wn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Tn&&e===o?s:e,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=nr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Zt.call(e,n,1),--this.size,!0)},Hn.prototype.get=function(t){var e=this.__data__,n=nr(e,t);return n<0?o:e[n][1]},Hn.prototype.has=function(t){return nr(this.__data__,t)>-1},Hn.prototype.set=function(t,e){var n=this.__data__,r=nr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(kn||Hn),string:new Wn}},Kn.prototype.delete=function(t){var e=co(this,t).delete(t);return this.size-=e?1:0,e},Kn.prototype.get=function(t){return co(this,t).get(t)},Kn.prototype.has=function(t){return co(this,t).has(t)},Kn.prototype.set=function(t,e){var n=co(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(t){return this.__data__.set(t,s),this},Xn.prototype.has=function(t){return this.__data__.has(t)},Yn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Yn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Yn.prototype.get=function(t){return this.__data__.get(t)},Yn.prototype.has=function(t){return this.__data__.has(t)},Yn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!kn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(t,e),this.size=n.size,this};var hr=ji(_r),pr=ji(xr,!0);function dr(t,e){var n=!0;return hr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function yr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(u===o?s===s&&!cs(s):n(s,u)))var u=s,c=a}return c}function vr(t,e){var n=[];return hr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function gr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=mo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?gr(s,e-1,n,r,i):De(i,s):r||(i[i.length]=s)}return i}var mr=Ri(),br=Ri(!0);function _r(t,e){return t&&mr(t,e,Is)}function xr(t,e){return t&&br(t,e,Is)}function wr(t,e){return Ae(e,(function(e){return Ja(t[e])}))}function Er(t,e){for(var n=0,r=(e=bi(e,t)).length;null!=t&&n<r;)t=t[zo(e[n++])];return n&&n==r?t:o}function Sr(t,e,n){var r=e(t);return Wa(t)?r:De(r,n(t))}function kr(t){return null==t?t===o?"[object Undefined]":"[object Null]":ee&&ee in Ct(t)?function(t){var e=Nt.call(t,ee),n=t[ee];try{t[ee]=o;var r=!0}catch(a){}var i=Ft.call(t);r&&(e?t[ee]=n:delete t[ee]);return i}(t):function(t){return Ft.call(t)}(t)}function Or(t,e){return t>e}function Cr(t,e){return null!=t&&Nt.call(t,e)}function Pr(t,e){return null!=t&&e in Ct(t)}function Tr(t,e,r){for(var i=r?je:Ie,a=t[0].length,s=t.length,u=s,c=n(s),l=1/0,f=[];u--;){var h=t[u];u&&e&&(h=Re(h,$e(e))),l=bn(h.length,l),c[u]=!r&&(e||a>=120&&h.length>=120)?new Xn(u&&h):o}h=t[0];var p=-1,d=c[0];t:for(;++p<a&&f.length<l;){var y=h[p],v=e?e(y):y;if(y=r||0!==y?y:0,!(d?Qe(d,v):i(f,v,r))){for(u=s;--u;){var g=c[u];if(!(g?Qe(g,v):i(t[u],v,r)))continue t}d&&d.push(v),f.push(y)}}return f}function Mr(t,e,n){var r=null==(t=Po(t,e=bi(e,t)))?t:t[zo($o(e))];return null==r?o:Oe(r,t,n)}function Ar(t){return ns(t)&&kr(t)==b}function Ir(t,e,n,r,i){return t===e||(null==t||null==e||!ns(t)&&!ns(e)?t!==t&&e!==e:function(t,e,n,r,i,a){var s=Wa(t),u=Wa(e),c=s?_:yo(t),l=u?_:yo(e),f=(c=c==b?P:c)==P,h=(l=l==b?P:l)==P,p=c==l;if(p&&Ya(t)){if(!Ya(e))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Yn),s||ls(t)?eo(t,e,n,r,i,a):function(t,e,n,r,i,o,a){switch(n){case N:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case D:return!(t.byteLength!=e.byteLength||!o(new Wt(t),new Wt(e)));case x:case w:case C:return Ua(+t,+e);case E:return t.name==e.name&&t.message==e.message;case M:case I:return t==e+"";case O:var s=un;case A:var u=1&r;if(s||(s=fn),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=eo(s(t),s(e),r,i,o,a);return a.delete(t),l;case j:if(zn)return zn.call(t)==zn.call(e)}return!1}(t,e,c,n,r,i,a);if(!(1&n)){var d=f&&Nt.call(t,"__wrapped__"),y=h&&Nt.call(e,"__wrapped__");if(d||y){var v=d?t.value():t,g=y?e.value():e;return a||(a=new Yn),i(v,g,n,r,a)}}if(!p)return!1;return a||(a=new Yn),function(t,e,n,r,i,a){var s=1&n,u=ro(t),c=u.length,l=ro(e).length;if(c!=l&&!s)return!1;var f=c;for(;f--;){var h=u[f];if(!(s?h in e:Nt.call(e,h)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var y=!0;a.set(t,e),a.set(e,t);var v=s;for(;++f<c;){var g=t[h=u[f]],m=e[h];if(r)var b=s?r(m,g,h,e,t,a):r(g,m,h,t,e,a);if(!(b===o?g===m||i(g,m,n,r,a):b)){y=!1;break}v||(v="constructor"==h)}if(y&&!v){var _=t.constructor,x=e.constructor;_==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(y=!1)}return a.delete(t),a.delete(e),y}(t,e,n,r,i,a)}(t,e,n,r,Ir,i))}function jr(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=Ct(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var c=(u=n[i])[0],l=t[c],f=u[1];if(s&&u[2]){if(l===o&&!(c in t))return!1}else{var h=new Yn;if(r)var p=r(l,f,c,t,e,h);if(!(p===o?Ir(f,l,3,r,h):p))return!1}}return!0}function Rr(t){return!(!es(t)||(e=t,zt&&zt in e))&&(Ja(t)?qt:bt).test(Fo(t));var e}function Dr(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?Wa(t)?Ur(t[0],t[1]):Br(t):pu(t)}function Nr(t){if(!So(t))return gn(t);var e=[];for(var n in Ct(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lr(t){if(!es(t))return function(t){var e=[];if(null!=t)for(var n in Ct(t))e.push(n);return e}(t);var e=So(t),n=[];for(var r in t)("constructor"!=r||!e&&Nt.call(t,r))&&n.push(r);return n}function zr(t,e){return t<e}function Fr(t,e){var r=-1,i=Ka(t)?n(t.length):[];return hr(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Br(t){var e=lo(t);return 1==e.length&&e[0][2]?Oo(e[0][0],e[0][1]):function(n){return n===t||jr(n,t,e)}}function Ur(t,e){return xo(t)&&ko(e)?Oo(zo(t),e):function(n){var r=Cs(n,t);return r===o&&r===e?Ps(n,t):Ir(e,r,3)}}function qr(t,e,n,r,i){t!==e&&mr(e,(function(a,s){if(i||(i=new Yn),es(a))!function(t,e,n,r,i,a,s){var u=Mo(t,n),c=Mo(e,n),l=s.get(c);if(l)return void tr(t,n,l);var f=a?a(u,c,n+"",t,e,s):o,h=f===o;if(h){var p=Wa(c),d=!p&&Ya(c),y=!p&&!d&&ls(c);f=c,p||d||y?Wa(u)?f=u:Xa(u)?f=Ti(u):d?(h=!1,f=Ei(c,!0)):y?(h=!1,f=ki(c,!0)):f=[]:os(c)||Ga(c)?(f=u,Ga(u)?f=ms(u):es(u)&&!Ja(u)||(f=go(c))):h=!1}h&&(s.set(c,f),i(f,c,r,a,s),s.delete(c));tr(t,n,f)}(t,e,s,n,qr,r,i);else{var u=r?r(Mo(t,s),a,s+"",t,e,i):o;u===o&&(u=a),tr(t,s,u)}}),js)}function Vr(t,e){var n=t.length;if(n)return bo(e+=e<0?n:0,n)?t[e]:o}function Gr(t,e,n){e=e.length?Re(e,(function(t){return Wa(t)?function(e){return Er(e,1===t.length?t[0]:t)}:t})):[iu];var r=-1;return e=Re(e,$e(uo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Fr(t,(function(t,n,i){return{criteria:Re(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Oi(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Wr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Er(t,a);n(s,a)&&Qr(o,bi(a,t),s)}return o}function Hr(t,e,n,r){var i=r?Ve:qe,o=-1,a=e.length,s=t;for(t===e&&(e=Ti(e)),n&&(s=Re(t,$e(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Zt.call(s,u,1),Zt.call(t,u,1);return t}function Kr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;bo(i)?Zt.call(t,i,1):fi(t,i)}}return t}function Xr(t,e){return t+ve(wn()*(e-t+1))}function Yr(t,e){var n="";if(!t||e<1||e>y)return n;do{e%2&&(n+=t),(e=ve(e/2))&&(t+=t)}while(e);return n}function Zr(t,e){return jo(Co(t,e,iu),t+"")}function $r(t){return $n(Us(t))}function Jr(t,e){var n=Us(t);return No(n,sr(e,0,n.length))}function Qr(t,e,n,r){if(!es(t))return t;for(var i=-1,a=(e=bi(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var c=zo(e[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var f=u[c];(l=r?r(f,c,u):o)===o&&(l=es(f)?f:bo(e[i+1])?[]:{})}er(u,c,l),u=u[c]}return t}var ti=Mn?function(t,e){return Mn.set(t,e),t}:iu,ei=re?function(t,e){return re(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ni(t){return No(Us(t))}function ri(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=n(o);++i<o;)a[i]=t[i+e];return a}function ii(t,e){var n;return hr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function oi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!cs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ai(t,e,iu,n)}function ai(t,e,n,r){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!==e,u=null===e,c=cs(e),l=e===o;i<a;){var f=ve((i+a)/2),h=n(t[f]),p=h!==o,d=null===h,y=h===h,v=cs(h);if(s)var g=r||y;else g=l?y&&(r||p):u?y&&p&&(r||!d):c?y&&p&&!d&&(r||!v):!d&&!v&&(r?h<=e:h<e);g?i=f+1:a=f}return bn(a,4294967294)}function si(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ua(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ui(t){return"number"==typeof t?t:cs(t)?v:+t}function ci(t){if("string"==typeof t)return t;if(Wa(t))return Re(t,ci)+"";if(cs(t))return Fn?Fn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function li(t,e,n){var r=-1,i=Ie,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=je;else if(o>=200){var c=e?null:Yi(t);if(c)return fn(c);a=!1,i=Qe,u=new Xn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function fi(t,e){return null==(t=Po(t,e=bi(e,t)))||delete t[zo($o(e))]}function hi(t,e,n,r){return Qr(t,e,n(Er(t,e)),r)}function pi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ri(t,r?0:o,r?o+1:i):ri(t,r?o+1:0,r?i:o)}function di(t,e){var n=t;return n instanceof Gn&&(n=n.value()),Ne(e,(function(t,e){return e.func.apply(e.thisArg,De([t],e.args))}),n)}function yi(t,e,r){var i=t.length;if(i<2)return i?li(t[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=fr(a[o]||s,t[u],e,r));return li(gr(a,1),e,r)}function vi(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function gi(t){return Xa(t)?t:[]}function mi(t){return"function"==typeof t?t:iu}function bi(t,e){return Wa(t)?t:xo(t,e)?[t]:Lo(bs(t))}var _i=Zr;function xi(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:ri(t,e,n)}var wi=ce||function(t){return de.clearTimeout(t)};function Ei(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function Si(t){var e=new t.constructor(t.byteLength);return new Wt(e).set(new Wt(t)),e}function ki(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Oi(t,e){if(t!==e){var n=t!==o,r=null===t,i=t===t,a=cs(t),s=e!==o,u=null===e,c=e===e,l=cs(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}function Ci(t,e,r,i){for(var o=-1,a=t.length,s=r.length,u=-1,c=e.length,l=mn(a-s,0),f=n(c+l),h=!i;++u<c;)f[u]=e[u];for(;++o<s;)(h||o<a)&&(f[r[o]]=t[o]);for(;l--;)f[u++]=t[o++];return f}function Pi(t,e,r,i){for(var o=-1,a=t.length,s=-1,u=r.length,c=-1,l=e.length,f=mn(a-u,0),h=n(f+l),p=!i;++o<f;)h[o]=t[o];for(var d=o;++c<l;)h[d+c]=e[c];for(;++s<u;)(p||o<a)&&(h[d+r[s]]=t[o++]);return h}function Ti(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Mi(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=r?r(n[u],t[u],u,n,t):o;c===o&&(c=t[u]),i?or(n,u,c):er(n,u,c)}return n}function Ai(t,e){return function(n,r){var i=Wa(n)?Ce:rr,o=e?e():{};return i(n,t,uo(r,2),o)}}function Ii(t){return Zr((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&_o(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=Ct(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e}))}function ji(t,e){return function(n,r){if(null==n)return n;if(!Ka(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Ct(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ri(t){return function(e,n,r){for(var i=-1,o=Ct(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function Di(t){return function(e){var n=sn(e=bs(e))?dn(e):o,r=n?n[0]:e.charAt(0),i=n?xi(n,1).join(""):e.slice(1);return r[t]()+i}}function Ni(t){return function(e){return Ne(Js(Gs(e).replace(Qt,"")),t,"")}}function Li(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Un(t.prototype),r=t.apply(n,e);return es(r)?r:n}}function zi(t){return function(e,n,r){var i=Ct(e);if(!Ka(e)){var a=uo(n,3);e=Is(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function Fi(t){return no((function(e){var n=e.length,r=n,i=Vn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new Mt(a);if(i&&!u&&"wrapper"==ao(s))var u=new Vn([],!0)}for(r=u?r:n;++r<n;){var c=ao(s=e[r]),l="wrapper"==c?oo(s):o;u=l&&wo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ao(l[0])].apply(u,l[3]):1==s.length&&wo(s)?u[c]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Wa(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Bi(t,e,r,i,a,s,u,c,l,f){var p=e&h,d=1&e,y=2&e,v=24&e,g=512&e,m=y?o:Li(t);return function o(){for(var h=arguments.length,b=n(h),_=h;_--;)b[_]=arguments[_];if(v)var x=so(o),w=nn(b,x);if(i&&(b=Ci(b,i,a,v)),s&&(b=Pi(b,s,u,v)),h-=w,v&&h<f){var E=ln(b,x);return Ki(t,e,Bi,o.placeholder,r,b,E,c,l,f-h)}var S=d?r:this,k=y?S[t]:t;return h=b.length,c?b=To(b,c):g&&h>1&&b.reverse(),p&&l<h&&(b.length=l),this&&this!==de&&this instanceof o&&(k=m||Li(k)),k.apply(S,b)}}function Ui(t,e){return function(n,r){return function(t,e,n,r){return _r(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function qi(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=ui(n),r=ui(r)),i=t(n,r)}return i}}function Vi(t){return no((function(e){return e=Re(e,$e(uo())),Zr((function(n){var r=this;return t(e,(function(t){return Oe(t,r,n)}))}))}))}function Gi(t,e){var n=(e=e===o?" ":ci(e)).length;if(n<2)return n?Yr(e,t):e;var r=Yr(e,ye(t/pn(e)));return sn(e)?xi(dn(r),0,t).join(""):r.slice(0,t)}function Wi(t){return function(e,r,i){return i&&"number"!=typeof i&&_o(e,r,i)&&(r=i=o),e=ds(e),r===o?(r=e,e=0):r=ds(r),function(t,e,r,i){for(var o=-1,a=mn(ye((e-t)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=t,t+=r;return s}(e,r,i=i===o?e<r?1:-1:ds(i),t)}}function Hi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=gs(e),n=gs(n)),t(e,n)}}function Ki(t,e,n,r,i,a,s,u,c,h){var p=8&e;e|=p?l:f,4&(e&=~(p?f:l))||(e&=-4);var d=[t,e,i,p?a:o,p?s:o,p?o:a,p?o:s,u,c,h],y=n.apply(o,d);return wo(t)&&Ao(y,d),y.placeholder=r,Ro(y,t,e)}function Xi(t){var e=Ot[t];return function(t,n){if(t=gs(t),(n=null==n?0:bn(ys(n),292))&&Fe(t)){var r=(bs(t)+"e").split("e");return+((r=(bs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Yi=Cn&&1/fn(new Cn([,-0]))[1]==d?function(t){return new Cn(t)}:cu;function Zi(t){return function(e){var n=yo(e);return n==O?un(e):n==A?hn(e):function(t,e){return Re(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function $i(t,e,r,i,s,d,y,v){var g=2&e;if(!g&&"function"!=typeof t)throw new Mt(a);var m=i?i.length:0;if(m||(e&=-97,i=s=o),y=y===o?y:mn(ys(y),0),v=v===o?v:ys(v),m-=s?s.length:0,e&f){var b=i,_=s;i=s=o}var x=g?o:oo(t),w=[t,e,r,i,s,b,_,d,y,v];if(x&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==h&&8==n||r==h&&n==p&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var c=t[3];t[3]=c?Ci(c,s,e[4]):s,t[4]=c?ln(t[3],u):e[4]}(s=e[5])&&(c=t[5],t[5]=c?Pi(c,s,e[6]):s,t[6]=c?ln(t[5],u):e[6]);(s=e[7])&&(t[7]=s);r&h&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(w,x),t=w[0],e=w[1],r=w[2],i=w[3],s=w[4],!(v=w[9]=w[9]===o?g?0:t.length:mn(w[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||e==c?function(t,e,r){var i=Li(t);return function a(){for(var s=arguments.length,u=n(s),c=s,l=so(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:ln(u,l);return(s-=f.length)<r?Ki(t,e,Bi,a.placeholder,o,u,f,o,o,r-s):Oe(this&&this!==de&&this instanceof a?i:t,this,u)}}(t,e,v):e!=l&&33!=e||s.length?Bi.apply(o,w):function(t,e,r,i){var o=1&e,a=Li(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),h=this&&this!==de&&this instanceof e?a:t;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return Oe(h,o?r:this,f)}}(t,e,r,i);else var E=function(t,e,n){var r=1&e,i=Li(t);return function e(){return(this&&this!==de&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return Ro((x?ti:Ao)(E,w),t,e)}function Ji(t,e,n,r){return t===o||Ua(t,jt[n])&&!Nt.call(r,n)?e:t}function Qi(t,e,n,r,i,a){return es(t)&&es(e)&&(a.set(e,t),qr(t,e,o,Qi,a),a.delete(e)),t}function to(t){return os(t)?o:t}function eo(t,e,n,r,i,a){var s=1&n,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(t),f=a.get(e);if(l&&f)return l==e&&f==t;var h=-1,p=!0,d=2&n?new Xn:o;for(a.set(t,e),a.set(e,t);++h<u;){var y=t[h],v=e[h];if(r)var g=s?r(v,y,h,e,t,a):r(y,v,h,t,e,a);if(g!==o){if(g)continue;p=!1;break}if(d){if(!ze(e,(function(t,e){if(!Qe(d,e)&&(y===t||i(y,t,n,r,a)))return d.push(e)}))){p=!1;break}}else if(y!==v&&!i(y,v,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function no(t){return jo(Co(t,o,Ho),t+"")}function ro(t){return Sr(t,Is,ho)}function io(t){return Sr(t,js,po)}var oo=Mn?function(t){return Mn.get(t)}:cu;function ao(t){for(var e=t.name+"",n=An[e],r=Nt.call(An,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function so(t){return(Nt.call(Bn,"placeholder")?Bn:t).placeholder}function uo(){var t=Bn.iteratee||ou;return t=t===ou?Dr:t,arguments.length?t(arguments[0],arguments[1]):t}function co(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function lo(t){for(var e=Is(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ko(i)]}return e}function fo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return Rr(n)?n:o}var ho=me?function(t){return null==t?[]:(t=Ct(t),Ae(me(t),(function(e){return Yt.call(t,e)})))}:vu,po=me?function(t){for(var e=[];t;)De(e,ho(t)),t=Kt(t);return e}:vu,yo=kr;function vo(t,e,n){for(var r=-1,i=(e=bi(e,t)).length,o=!1;++r<i;){var a=zo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ts(i)&&bo(a,i)&&(Wa(t)||Ga(t))}function go(t){return"function"!=typeof t.constructor||So(t)?{}:Un(Kt(t))}function mo(t){return Wa(t)||Ga(t)||!!($t&&t&&t[$t])}function bo(t,e){var n=typeof t;return!!(e=null==e?y:e)&&("number"==n||"symbol"!=n&&xt.test(t))&&t>-1&&t%1==0&&t<e}function _o(t,e,n){if(!es(n))return!1;var r=typeof e;return!!("number"==r?Ka(n)&&bo(e,n.length):"string"==r&&e in n)&&Ua(n[e],t)}function xo(t,e){if(Wa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!cs(t))||(rt.test(t)||!nt.test(t)||null!=e&&t in Ct(e))}function wo(t){var e=ao(t),n=Bn[e];if("function"!=typeof n||!(e in Gn.prototype))return!1;if(t===n)return!0;var r=oo(n);return!!r&&t===r[0]}(Sn&&yo(new Sn(new ArrayBuffer(1)))!=N||kn&&yo(new kn)!=O||On&&yo(On.resolve())!=T||Cn&&yo(new Cn)!=A||Pn&&yo(new Pn)!=R)&&(yo=function(t){var e=kr(t),n=e==P?t.constructor:o,r=n?Fo(n):"";if(r)switch(r){case In:return N;case jn:return O;case Rn:return T;case Dn:return A;case Nn:return R}return e});var Eo=Rt?Ja:gu;function So(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||jt)}function ko(t){return t===t&&!es(t)}function Oo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in Ct(n)))}}function Co(t,e,r){return e=mn(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=mn(i.length-e,0),s=n(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(s),Oe(t,this,u)}}function Po(t,e){return e.length<2?t:Er(t,ri(e,0,-1))}function To(t,e){for(var n=t.length,r=bn(e.length,n),i=Ti(t);r--;){var a=e[r];t[r]=bo(a,n)?i[a]:o}return t}function Mo(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Ao=Do(ti),Io=pe||function(t,e){return de.setTimeout(t,e)},jo=Do(ei);function Ro(t,e,n){var r=e+"";return jo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Pe(m,(function(n){var r="_."+n[0];e&n[1]&&!Ie(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ft);return e?e[1].split(ht):[]}(r),n)))}function Do(t){var e=0,n=0;return function(){var r=_n(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function No(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=Xr(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Lo=function(t){var e=Da(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(it,(function(t,n,r,i){e.push(r?i.replace(dt,"$1"):n||t)})),e}));function zo(t){if("string"==typeof t||cs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fo(t){if(null!=t){try{return Dt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Bo(t){if(t instanceof Gn)return t.clone();var e=new Vn(t.__wrapped__,t.__chain__);return e.__actions__=Ti(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Uo=Zr((function(t,e){return Xa(t)?fr(t,gr(e,1,Xa,!0)):[]})),qo=Zr((function(t,e){var n=$o(e);return Xa(n)&&(n=o),Xa(t)?fr(t,gr(e,1,Xa,!0),uo(n,2)):[]})),Vo=Zr((function(t,e){var n=$o(e);return Xa(n)&&(n=o),Xa(t)?fr(t,gr(e,1,Xa,!0),o,n):[]}));function Go(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=mn(r+i,0)),Ue(t,uo(e,3),i)}function Wo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=ys(n),i=n<0?mn(r+i,0):bn(i,r-1)),Ue(t,uo(e,3),i,!0)}function Ho(t){return(null==t?0:t.length)?gr(t,1):[]}function Ko(t){return t&&t.length?t[0]:o}var Xo=Zr((function(t){var e=Re(t,gi);return e.length&&e[0]===t[0]?Tr(e):[]})),Yo=Zr((function(t){var e=$o(t),n=Re(t,gi);return e===$o(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Tr(n,uo(e,2)):[]})),Zo=Zr((function(t){var e=$o(t),n=Re(t,gi);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Tr(n,o,e):[]}));function $o(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Jo=Zr(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?Hr(t,e):t}var ta=no((function(t,e){var n=null==t?0:t.length,r=ar(t,e);return Kr(t,Re(e,(function(t){return bo(t,n)?+t:t})).sort(Oi)),r}));function ea(t){return null==t?t:En.call(t)}var na=Zr((function(t){return li(gr(t,1,Xa,!0))})),ra=Zr((function(t){var e=$o(t);return Xa(e)&&(e=o),li(gr(t,1,Xa,!0),uo(e,2))})),ia=Zr((function(t){var e=$o(t);return e="function"==typeof e?e:o,li(gr(t,1,Xa,!0),o,e)}));function oa(t){if(!t||!t.length)return[];var e=0;return t=Ae(t,(function(t){if(Xa(t))return e=mn(t.length,e),!0})),Ze(e,(function(e){return Re(t,He(e))}))}function aa(t,e){if(!t||!t.length)return[];var n=oa(t);return null==e?n:Re(n,(function(t){return Oe(e,o,t)}))}var sa=Zr((function(t,e){return Xa(t)?fr(t,e):[]})),ua=Zr((function(t){return yi(Ae(t,Xa))})),ca=Zr((function(t){var e=$o(t);return Xa(e)&&(e=o),yi(Ae(t,Xa),uo(e,2))})),la=Zr((function(t){var e=$o(t);return e="function"==typeof e?e:o,yi(Ae(t,Xa),o,e)})),fa=Zr(oa);var ha=Zr((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,aa(t,n)}));function pa(t){var e=Bn(t);return e.__chain__=!0,e}function da(t,e){return e(t)}var ya=no((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return ar(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Gn&&bo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:da,args:[i],thisArg:o}),new Vn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));var va=Ai((function(t,e,n){Nt.call(t,n)?++t[n]:or(t,n,1)}));var ga=zi(Go),ma=zi(Wo);function ba(t,e){return(Wa(t)?Pe:hr)(t,uo(e,3))}function _a(t,e){return(Wa(t)?Te:pr)(t,uo(e,3))}var xa=Ai((function(t,e,n){Nt.call(t,n)?t[n].push(e):or(t,n,[e])}));var wa=Zr((function(t,e,r){var i=-1,o="function"==typeof e,a=Ka(t)?n(t.length):[];return hr(t,(function(t){a[++i]=o?Oe(e,t,r):Mr(t,e,r)})),a})),Ea=Ai((function(t,e,n){or(t,n,e)}));function Sa(t,e){return(Wa(t)?Re:Fr)(t,uo(e,3))}var ka=Ai((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Oa=Zr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&_o(t,e[0],e[1])?e=[]:n>2&&_o(e[0],e[1],e[2])&&(e=[e[0]]),Gr(t,gr(e,1),[])})),Ca=he||function(){return de.Date.now()};function Pa(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,$i(t,h,o,o,o,o,e)}function Ta(t,e){var n;if("function"!=typeof e)throw new Mt(a);return t=ys(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ma=Zr((function(t,e,n){var r=1;if(n.length){var i=ln(n,so(Ma));r|=l}return $i(t,r,e,n,i)})),Aa=Zr((function(t,e,n){var r=3;if(n.length){var i=ln(n,so(Aa));r|=l}return $i(e,r,t,n,i)}));function Ia(t,e,n){var r,i,s,u,c,l,f=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new Mt(a);function y(e){var n=r,a=i;return r=i=o,f=e,u=t.apply(a,n)}function v(t){return f=t,c=Io(m,e),h?y(t):u}function g(t){var n=t-l;return l===o||n>=e||n<0||p&&t-f>=s}function m(){var t=Ca();if(g(t))return b(t);c=Io(m,function(t){var n=e-(t-l);return p?bn(n,s-(t-f)):n}(t))}function b(t){return c=o,d&&r?y(t):(r=i=o,u)}function _(){var t=Ca(),n=g(t);if(r=arguments,i=this,l=t,n){if(c===o)return v(l);if(p)return wi(c),c=Io(m,e),y(l)}return c===o&&(c=Io(m,e)),u}return e=gs(e)||0,es(n)&&(h=!!n.leading,s=(p="maxWait"in n)?mn(gs(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),_.cancel=function(){c!==o&&wi(c),f=0,r=l=i=c=o},_.flush=function(){return c===o?u:b(Ca())},_}var ja=Zr((function(t,e){return lr(t,1,e)})),Ra=Zr((function(t,e,n){return lr(t,gs(e)||0,n)}));function Da(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Mt(a);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Da.Cache||Kn),n}function Na(t){if("function"!=typeof t)throw new Mt(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Da.Cache=Kn;var La=_i((function(t,e){var n=(e=1==e.length&&Wa(e[0])?Re(e[0],$e(uo())):Re(gr(e,1),$e(uo()))).length;return Zr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Oe(t,this,r)}))})),za=Zr((function(t,e){var n=ln(e,so(za));return $i(t,l,o,e,n)})),Fa=Zr((function(t,e){var n=ln(e,so(Fa));return $i(t,f,o,e,n)})),Ba=no((function(t,e){return $i(t,p,o,o,o,e)}));function Ua(t,e){return t===e||t!==t&&e!==e}var qa=Hi(Or),Va=Hi((function(t,e){return t>=e})),Ga=Ar(function(){return arguments}())?Ar:function(t){return ns(t)&&Nt.call(t,"callee")&&!Yt.call(t,"callee")},Wa=n.isArray,Ha=_e?$e(_e):function(t){return ns(t)&&kr(t)==D};function Ka(t){return null!=t&&ts(t.length)&&!Ja(t)}function Xa(t){return ns(t)&&Ka(t)}var Ya=be||gu,Za=xe?$e(xe):function(t){return ns(t)&&kr(t)==w};function $a(t){if(!ns(t))return!1;var e=kr(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!os(t)}function Ja(t){if(!es(t))return!1;var e=kr(t);return e==S||e==k||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qa(t){return"number"==typeof t&&t==ys(t)}function ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function es(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ns(t){return null!=t&&"object"==typeof t}var rs=we?$e(we):function(t){return ns(t)&&yo(t)==O};function is(t){return"number"==typeof t||ns(t)&&kr(t)==C}function os(t){if(!ns(t)||kr(t)!=P)return!1;var e=Kt(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Dt.call(n)==Bt}var as=Ee?$e(Ee):function(t){return ns(t)&&kr(t)==M};var ss=Se?$e(Se):function(t){return ns(t)&&yo(t)==A};function us(t){return"string"==typeof t||!Wa(t)&&ns(t)&&kr(t)==I}function cs(t){return"symbol"==typeof t||ns(t)&&kr(t)==j}var ls=ke?$e(ke):function(t){return ns(t)&&ts(t.length)&&!!se[kr(t)]};var fs=Hi(zr),hs=Hi((function(t,e){return t<=e}));function ps(t){if(!t)return[];if(Ka(t))return us(t)?dn(t):Ti(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=yo(t);return(e==O?un:e==A?fn:Us)(t)}function ds(t){return t?(t=gs(t))===d||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function ys(t){var e=ds(t),n=e%1;return e===e?n?e-n:e:0}function vs(t){return t?sr(ys(t),0,g):0}function gs(t){if("number"==typeof t)return t;if(cs(t))return v;if(es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(st,"");var n=mt.test(t);return n||_t.test(t)?fe(t.slice(2),n?2:8):gt.test(t)?v:+t}function ms(t){return Mi(t,js(t))}function bs(t){return null==t?"":ci(t)}var _s=Ii((function(t,e){if(So(e)||Ka(e))Mi(e,Is(e),t);else for(var n in e)Nt.call(e,n)&&er(t,n,e[n])})),xs=Ii((function(t,e){Mi(e,js(e),t)})),ws=Ii((function(t,e,n,r){Mi(e,js(e),t,r)})),Es=Ii((function(t,e,n,r){Mi(e,Is(e),t,r)})),Ss=no(ar);var ks=Zr((function(t,e){t=Ct(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&_o(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=js(a),u=-1,c=s.length;++u<c;){var l=s[u],f=t[l];(f===o||Ua(f,jt[l])&&!Nt.call(t,l))&&(t[l]=a[l])}return t})),Os=Zr((function(t){return t.push(o,Qi),Oe(Ds,o,t)}));function Cs(t,e,n){var r=null==t?o:Er(t,e);return r===o?n:r}function Ps(t,e){return null!=t&&vo(t,e,Pr)}var Ts=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),t[e]=n}),eu(iu)),Ms=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),uo),As=Zr(Mr);function Is(t){return Ka(t)?Zn(t):Nr(t)}function js(t){return Ka(t)?Zn(t,!0):Lr(t)}var Rs=Ii((function(t,e,n){qr(t,e,n)})),Ds=Ii((function(t,e,n,r){qr(t,e,n,r)})),Ns=no((function(t,e){var n={};if(null==t)return n;var r=!1;e=Re(e,(function(e){return e=bi(e,t),r||(r=e.length>1),e})),Mi(t,io(t),n),r&&(n=ur(n,7,to));for(var i=e.length;i--;)fi(n,e[i]);return n}));var Ls=no((function(t,e){return null==t?{}:function(t,e){return Wr(t,e,(function(e,n){return Ps(t,n)}))}(t,e)}));function zs(t,e){if(null==t)return{};var n=Re(io(t),(function(t){return[t]}));return e=uo(e),Wr(t,n,(function(t,n){return e(t,n[0])}))}var Fs=Zi(Is),Bs=Zi(js);function Us(t){return null==t?[]:Je(t,Is(t))}var qs=Ni((function(t,e,n){return e=e.toLowerCase(),t+(n?Vs(e):e)}));function Vs(t){return $s(bs(t).toLowerCase())}function Gs(t){return(t=bs(t))&&t.replace(wt,rn).replace(te,"")}var Ws=Ni((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Hs=Ni((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ks=Di("toLowerCase");var Xs=Ni((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ys=Ni((function(t,e,n){return t+(n?" ":"")+$s(e)}));var Zs=Ni((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),$s=Di("toUpperCase");function Js(t,e,n){return t=bs(t),(e=n?o:e)===o?function(t){return ie.test(t)}(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.match(pt)||[]}(t):t.match(e)||[]}var Qs=Zr((function(t,e){try{return Oe(t,o,e)}catch(n){return $a(n)?n:new i(n)}})),tu=no((function(t,e){return Pe(e,(function(e){e=zo(e),or(t,e,Ma(t[e],t))})),t}));function eu(t){return function(){return t}}var nu=Fi(),ru=Fi(!0);function iu(t){return t}function ou(t){return Dr("function"==typeof t?t:ur(t,1))}var au=Zr((function(t,e){return function(n){return Mr(n,t,e)}})),su=Zr((function(t,e){return function(n){return Mr(t,n,e)}}));function uu(t,e,n){var r=Is(e),i=wr(e,r);null!=n||es(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=wr(e,Is(e)));var o=!(es(n)&&"chain"in n)||!!n.chain,a=Ja(t);return Pe(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Ti(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,De([this.value()],arguments))})})),t}function cu(){}var lu=Vi(Re),fu=Vi(Me),hu=Vi(ze);function pu(t){return xo(t)?He(zo(t)):function(t){return function(e){return Er(e,t)}}(t)}var du=Wi(),yu=Wi(!0);function vu(){return[]}function gu(){return!1}var mu=qi((function(t,e){return t+e}),0),bu=Xi("ceil"),_u=qi((function(t,e){return t/e}),1),xu=Xi("floor");var wu=qi((function(t,e){return t*e}),1),Eu=Xi("round"),Su=qi((function(t,e){return t-e}),0);return Bn.after=function(t,e){if("function"!=typeof e)throw new Mt(a);return t=ys(t),function(){if(--t<1)return e.apply(this,arguments)}},Bn.ary=Pa,Bn.assign=_s,Bn.assignIn=xs,Bn.assignInWith=ws,Bn.assignWith=Es,Bn.at=Ss,Bn.before=Ta,Bn.bind=Ma,Bn.bindAll=tu,Bn.bindKey=Aa,Bn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Wa(t)?t:[t]},Bn.chain=pa,Bn.chunk=function(t,e,r){e=(r?_o(t,e,r):e===o)?1:mn(ys(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=n(ye(i/e));a<i;)u[s++]=ri(t,a,a+=e);return u},Bn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Bn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return De(Wa(r)?Ti(r):[r],gr(e,1))},Bn.cond=function(t){var e=null==t?0:t.length,n=uo();return t=e?Re(t,(function(t){if("function"!=typeof t[1])throw new Mt(a);return[n(t[0]),t[1]]})):[],Zr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Oe(i[0],this,n))return Oe(i[1],this,n)}}))},Bn.conforms=function(t){return function(t){var e=Is(t);return function(n){return cr(n,t,e)}}(ur(t,1))},Bn.constant=eu,Bn.countBy=va,Bn.create=function(t,e){var n=Un(t);return null==e?n:ir(n,e)},Bn.curry=function t(e,n,r){var i=$i(e,8,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Bn.curryRight=function t(e,n,r){var i=$i(e,c,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Bn.debounce=Ia,Bn.defaults=ks,Bn.defaultsDeep=Os,Bn.defer=ja,Bn.delay=Ra,Bn.difference=Uo,Bn.differenceBy=qo,Bn.differenceWith=Vo,Bn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,(e=n||e===o?1:ys(e))<0?0:e,r):[]},Bn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,0,(e=r-(e=n||e===o?1:ys(e)))<0?0:e):[]},Bn.dropRightWhile=function(t,e){return t&&t.length?pi(t,uo(e,3),!0,!0):[]},Bn.dropWhile=function(t,e){return t&&t.length?pi(t,uo(e,3),!0):[]},Bn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&_o(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ys(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:ys(r))<0&&(r+=i),r=n>r?0:vs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Bn.filter=function(t,e){return(Wa(t)?Ae:vr)(t,uo(e,3))},Bn.flatMap=function(t,e){return gr(Sa(t,e),1)},Bn.flatMapDeep=function(t,e){return gr(Sa(t,e),d)},Bn.flatMapDepth=function(t,e,n){return n=n===o?1:ys(n),gr(Sa(t,e),n)},Bn.flatten=Ho,Bn.flattenDeep=function(t){return(null==t?0:t.length)?gr(t,d):[]},Bn.flattenDepth=function(t,e){return(null==t?0:t.length)?gr(t,e=e===o?1:ys(e)):[]},Bn.flip=function(t){return $i(t,512)},Bn.flow=nu,Bn.flowRight=ru,Bn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Bn.functions=function(t){return null==t?[]:wr(t,Is(t))},Bn.functionsIn=function(t){return null==t?[]:wr(t,js(t))},Bn.groupBy=xa,Bn.initial=function(t){return(null==t?0:t.length)?ri(t,0,-1):[]},Bn.intersection=Xo,Bn.intersectionBy=Yo,Bn.intersectionWith=Zo,Bn.invert=Ts,Bn.invertBy=Ms,Bn.invokeMap=wa,Bn.iteratee=ou,Bn.keyBy=Ea,Bn.keys=Is,Bn.keysIn=js,Bn.map=Sa,Bn.mapKeys=function(t,e){var n={};return e=uo(e,3),_r(t,(function(t,r,i){or(n,e(t,r,i),t)})),n},Bn.mapValues=function(t,e){var n={};return e=uo(e,3),_r(t,(function(t,r,i){or(n,r,e(t,r,i))})),n},Bn.matches=function(t){return Br(ur(t,1))},Bn.matchesProperty=function(t,e){return Ur(t,ur(e,1))},Bn.memoize=Da,Bn.merge=Rs,Bn.mergeWith=Ds,Bn.method=au,Bn.methodOf=su,Bn.mixin=uu,Bn.negate=Na,Bn.nthArg=function(t){return t=ys(t),Zr((function(e){return Vr(e,t)}))},Bn.omit=Ns,Bn.omitBy=function(t,e){return zs(t,Na(uo(e)))},Bn.once=function(t){return Ta(2,t)},Bn.orderBy=function(t,e,n,r){return null==t?[]:(Wa(e)||(e=null==e?[]:[e]),Wa(n=r?o:n)||(n=null==n?[]:[n]),Gr(t,e,n))},Bn.over=lu,Bn.overArgs=La,Bn.overEvery=fu,Bn.overSome=hu,Bn.partial=za,Bn.partialRight=Fa,Bn.partition=ka,Bn.pick=Ls,Bn.pickBy=zs,Bn.property=pu,Bn.propertyOf=function(t){return function(e){return null==t?o:Er(t,e)}},Bn.pull=Jo,Bn.pullAll=Qo,Bn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,uo(n,2)):t},Bn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,o,n):t},Bn.pullAt=ta,Bn.range=du,Bn.rangeRight=yu,Bn.rearg=Ba,Bn.reject=function(t,e){return(Wa(t)?Ae:vr)(t,Na(uo(e,3)))},Bn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=uo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Kr(t,i),n},Bn.rest=function(t,e){if("function"!=typeof t)throw new Mt(a);return Zr(t,e=e===o?e:ys(e))},Bn.reverse=ea,Bn.sampleSize=function(t,e,n){return e=(n?_o(t,e,n):e===o)?1:ys(e),(Wa(t)?Jn:Jr)(t,e)},Bn.set=function(t,e,n){return null==t?t:Qr(t,e,n)},Bn.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Qr(t,e,n,r)},Bn.shuffle=function(t){return(Wa(t)?Qn:ni)(t)},Bn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&_o(t,e,n)?(e=0,n=r):(e=null==e?0:ys(e),n=n===o?r:ys(n)),ri(t,e,n)):[]},Bn.sortBy=Oa,Bn.sortedUniq=function(t){return t&&t.length?si(t):[]},Bn.sortedUniqBy=function(t,e){return t&&t.length?si(t,uo(e,2)):[]},Bn.split=function(t,e,n){return n&&"number"!=typeof n&&_o(t,e,n)&&(e=n=o),(n=n===o?g:n>>>0)?(t=bs(t))&&("string"==typeof e||null!=e&&!as(e))&&!(e=ci(e))&&sn(t)?xi(dn(t),0,n):t.split(e,n):[]},Bn.spread=function(t,e){if("function"!=typeof t)throw new Mt(a);return e=null==e?0:mn(ys(e),0),Zr((function(n){var r=n[e],i=xi(n,0,e);return r&&De(i,r),Oe(t,this,i)}))},Bn.tail=function(t){var e=null==t?0:t.length;return e?ri(t,1,e):[]},Bn.take=function(t,e,n){return t&&t.length?ri(t,0,(e=n||e===o?1:ys(e))<0?0:e):[]},Bn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ri(t,(e=r-(e=n||e===o?1:ys(e)))<0?0:e,r):[]},Bn.takeRightWhile=function(t,e){return t&&t.length?pi(t,uo(e,3),!1,!0):[]},Bn.takeWhile=function(t,e){return t&&t.length?pi(t,uo(e,3)):[]},Bn.tap=function(t,e){return e(t),t},Bn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Mt(a);return es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ia(t,e,{leading:r,maxWait:e,trailing:i})},Bn.thru=da,Bn.toArray=ps,Bn.toPairs=Fs,Bn.toPairsIn=Bs,Bn.toPath=function(t){return Wa(t)?Re(t,zo):cs(t)?[t]:Ti(Lo(bs(t)))},Bn.toPlainObject=ms,Bn.transform=function(t,e,n){var r=Wa(t),i=r||Ya(t)||ls(t);if(e=uo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:es(t)&&Ja(o)?Un(Kt(t)):{}}return(i?Pe:_r)(t,(function(t,r,i){return e(n,t,r,i)})),n},Bn.unary=function(t){return Pa(t,1)},Bn.union=na,Bn.unionBy=ra,Bn.unionWith=ia,Bn.uniq=function(t){return t&&t.length?li(t):[]},Bn.uniqBy=function(t,e){return t&&t.length?li(t,uo(e,2)):[]},Bn.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?li(t,o,e):[]},Bn.unset=function(t,e){return null==t||fi(t,e)},Bn.unzip=oa,Bn.unzipWith=aa,Bn.update=function(t,e,n){return null==t?t:hi(t,e,mi(n))},Bn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:hi(t,e,mi(n),r)},Bn.values=Us,Bn.valuesIn=function(t){return null==t?[]:Je(t,js(t))},Bn.without=sa,Bn.words=Js,Bn.wrap=function(t,e){return za(mi(e),t)},Bn.xor=ua,Bn.xorBy=ca,Bn.xorWith=la,Bn.zip=fa,Bn.zipObject=function(t,e){return vi(t||[],e||[],er)},Bn.zipObjectDeep=function(t,e){return vi(t||[],e||[],Qr)},Bn.zipWith=ha,Bn.entries=Fs,Bn.entriesIn=Bs,Bn.extend=xs,Bn.extendWith=ws,uu(Bn,Bn),Bn.add=mu,Bn.attempt=Qs,Bn.camelCase=qs,Bn.capitalize=Vs,Bn.ceil=bu,Bn.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=gs(n))===n?n:0),e!==o&&(e=(e=gs(e))===e?e:0),sr(gs(t),e,n)},Bn.clone=function(t){return ur(t,4)},Bn.cloneDeep=function(t){return ur(t,5)},Bn.cloneDeepWith=function(t,e){return ur(t,5,e="function"==typeof e?e:o)},Bn.cloneWith=function(t,e){return ur(t,4,e="function"==typeof e?e:o)},Bn.conformsTo=function(t,e){return null==e||cr(t,e,Is(e))},Bn.deburr=Gs,Bn.defaultTo=function(t,e){return null==t||t!==t?e:t},Bn.divide=_u,Bn.endsWith=function(t,e,n){t=bs(t),e=ci(e);var r=t.length,i=n=n===o?r:sr(ys(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Bn.eq=Ua,Bn.escape=function(t){return(t=bs(t))&&J.test(t)?t.replace(Z,on):t},Bn.escapeRegExp=function(t){return(t=bs(t))&&at.test(t)?t.replace(ot,"\\$&"):t},Bn.every=function(t,e,n){var r=Wa(t)?Me:dr;return n&&_o(t,e,n)&&(e=o),r(t,uo(e,3))},Bn.find=ga,Bn.findIndex=Go,Bn.findKey=function(t,e){return Be(t,uo(e,3),_r)},Bn.findLast=ma,Bn.findLastIndex=Wo,Bn.findLastKey=function(t,e){return Be(t,uo(e,3),xr)},Bn.floor=xu,Bn.forEach=ba,Bn.forEachRight=_a,Bn.forIn=function(t,e){return null==t?t:mr(t,uo(e,3),js)},Bn.forInRight=function(t,e){return null==t?t:br(t,uo(e,3),js)},Bn.forOwn=function(t,e){return t&&_r(t,uo(e,3))},Bn.forOwnRight=function(t,e){return t&&xr(t,uo(e,3))},Bn.get=Cs,Bn.gt=qa,Bn.gte=Va,Bn.has=function(t,e){return null!=t&&vo(t,e,Cr)},Bn.hasIn=Ps,Bn.head=Ko,Bn.identity=iu,Bn.includes=function(t,e,n,r){t=Ka(t)?t:Us(t),n=n&&!r?ys(n):0;var i=t.length;return n<0&&(n=mn(i+n,0)),us(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&qe(t,e,n)>-1},Bn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=mn(r+i,0)),qe(t,e,i)},Bn.inRange=function(t,e,n){return e=ds(e),n===o?(n=e,e=0):n=ds(n),function(t,e,n){return t>=bn(e,n)&&t<mn(e,n)}(t=gs(t),e,n)},Bn.invoke=As,Bn.isArguments=Ga,Bn.isArray=Wa,Bn.isArrayBuffer=Ha,Bn.isArrayLike=Ka,Bn.isArrayLikeObject=Xa,Bn.isBoolean=function(t){return!0===t||!1===t||ns(t)&&kr(t)==x},Bn.isBuffer=Ya,Bn.isDate=Za,Bn.isElement=function(t){return ns(t)&&1===t.nodeType&&!os(t)},Bn.isEmpty=function(t){if(null==t)return!0;if(Ka(t)&&(Wa(t)||"string"==typeof t||"function"==typeof t.splice||Ya(t)||ls(t)||Ga(t)))return!t.length;var e=yo(t);if(e==O||e==A)return!t.size;if(So(t))return!Nr(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Bn.isEqual=function(t,e){return Ir(t,e)},Bn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?Ir(t,e,o,n):!!r},Bn.isError=$a,Bn.isFinite=function(t){return"number"==typeof t&&Fe(t)},Bn.isFunction=Ja,Bn.isInteger=Qa,Bn.isLength=ts,Bn.isMap=rs,Bn.isMatch=function(t,e){return t===e||jr(t,e,lo(e))},Bn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,jr(t,e,lo(e),n)},Bn.isNaN=function(t){return is(t)&&t!=+t},Bn.isNative=function(t){if(Eo(t))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(t)},Bn.isNil=function(t){return null==t},Bn.isNull=function(t){return null===t},Bn.isNumber=is,Bn.isObject=es,Bn.isObjectLike=ns,Bn.isPlainObject=os,Bn.isRegExp=as,Bn.isSafeInteger=function(t){return Qa(t)&&t>=-9007199254740991&&t<=y},Bn.isSet=ss,Bn.isString=us,Bn.isSymbol=cs,Bn.isTypedArray=ls,Bn.isUndefined=function(t){return t===o},Bn.isWeakMap=function(t){return ns(t)&&yo(t)==R},Bn.isWeakSet=function(t){return ns(t)&&"[object WeakSet]"==kr(t)},Bn.join=function(t,e){return null==t?"":Ke.call(t,e)},Bn.kebabCase=Ws,Bn.last=$o,Bn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=ys(n))<0?mn(r+i,0):bn(i,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Ue(t,Ge,i,!0)},Bn.lowerCase=Hs,Bn.lowerFirst=Ks,Bn.lt=fs,Bn.lte=hs,Bn.max=function(t){return t&&t.length?yr(t,iu,Or):o},Bn.maxBy=function(t,e){return t&&t.length?yr(t,uo(e,2),Or):o},Bn.mean=function(t){return We(t,iu)},Bn.meanBy=function(t,e){return We(t,uo(e,2))},Bn.min=function(t){return t&&t.length?yr(t,iu,zr):o},Bn.minBy=function(t,e){return t&&t.length?yr(t,uo(e,2),zr):o},Bn.stubArray=vu,Bn.stubFalse=gu,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=wu,Bn.nth=function(t,e){return t&&t.length?Vr(t,ys(e)):o},Bn.noConflict=function(){return de._===this&&(de._=Ut),this},Bn.noop=cu,Bn.now=Ca,Bn.pad=function(t,e,n){t=bs(t);var r=(e=ys(e))?pn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Gi(ve(i),n)+t+Gi(ye(i),n)},Bn.padEnd=function(t,e,n){t=bs(t);var r=(e=ys(e))?pn(t):0;return e&&r<e?t+Gi(e-r,n):t},Bn.padStart=function(t,e,n){t=bs(t);var r=(e=ys(e))?pn(t):0;return e&&r<e?Gi(e-r,n)+t:t},Bn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),xn(bs(t).replace(ut,""),e||0)},Bn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&_o(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=ds(t),e===o?(e=t,t=0):e=ds(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=wn();return bn(t+i*(e-t+le("1e-"+((i+"").length-1))),e)}return Xr(t,e)},Bn.reduce=function(t,e,n){var r=Wa(t)?Ne:Xe,i=arguments.length<3;return r(t,uo(e,4),n,i,hr)},Bn.reduceRight=function(t,e,n){var r=Wa(t)?Le:Xe,i=arguments.length<3;return r(t,uo(e,4),n,i,pr)},Bn.repeat=function(t,e,n){return e=(n?_o(t,e,n):e===o)?1:ys(e),Yr(bs(t),e)},Bn.replace=function(){var t=arguments,e=bs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Bn.result=function(t,e,n){var r=-1,i=(e=bi(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[zo(e[r])];a===o&&(r=i,a=n),t=Ja(a)?a.call(t):a}return t},Bn.round=Eu,Bn.runInContext=t,Bn.sample=function(t){return(Wa(t)?$n:$r)(t)},Bn.size=function(t){if(null==t)return 0;if(Ka(t))return us(t)?pn(t):t.length;var e=yo(t);return e==O||e==A?t.size:Nr(t).length},Bn.snakeCase=Xs,Bn.some=function(t,e,n){var r=Wa(t)?ze:ii;return n&&_o(t,e,n)&&(e=o),r(t,uo(e,3))},Bn.sortedIndex=function(t,e){return oi(t,e)},Bn.sortedIndexBy=function(t,e,n){return ai(t,e,uo(n,2))},Bn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=oi(t,e);if(r<n&&Ua(t[r],e))return r}return-1},Bn.sortedLastIndex=function(t,e){return oi(t,e,!0)},Bn.sortedLastIndexBy=function(t,e,n){return ai(t,e,uo(n,2),!0)},Bn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=oi(t,e,!0)-1;if(Ua(t[n],e))return n}return-1},Bn.startCase=Ys,Bn.startsWith=function(t,e,n){return t=bs(t),n=null==n?0:sr(ys(n),0,t.length),e=ci(e),t.slice(n,n+e.length)==e},Bn.subtract=Su,Bn.sum=function(t){return t&&t.length?Ye(t,iu):0},Bn.sumBy=function(t,e){return t&&t.length?Ye(t,uo(e,2)):0},Bn.template=function(t,e,n){var r=Bn.templateSettings;n&&_o(t,e,n)&&(e=o),t=bs(t),e=ws({},e,r,Ji);var i,a,s=ws({},e.imports,r.imports,Ji),u=Is(s),c=Je(s,u),l=0,f=e.interpolate||Et,h="__p += '",p=Pt((e.escape||Et).source+"|"+f.source+"|"+(f===et?yt:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),d="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(p,(function(e,n,r,o,s,u){return r||(r=o),h+=t.slice(l,u).replace(St,an),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),h+="';\n";var y=Nt.call(e,"variable")&&e.variable;y||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(H,""):h).replace(K,"$1").replace(X,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Qs((function(){return kt(u,d+"return "+h).apply(o,c)}));if(v.source=h,$a(v))throw v;return v},Bn.times=function(t,e){if((t=ys(t))<1||t>y)return[];var n=g,r=bn(t,g);e=uo(e),t-=g;for(var i=Ze(r,e);++n<t;)e(n);return i},Bn.toFinite=ds,Bn.toInteger=ys,Bn.toLength=vs,Bn.toLower=function(t){return bs(t).toLowerCase()},Bn.toNumber=gs,Bn.toSafeInteger=function(t){return t?sr(ys(t),-9007199254740991,y):0===t?t:0},Bn.toString=bs,Bn.toUpper=function(t){return bs(t).toUpperCase()},Bn.trim=function(t,e,n){if((t=bs(t))&&(n||e===o))return t.replace(st,"");if(!t||!(e=ci(e)))return t;var r=dn(t),i=dn(e);return xi(r,tn(r,i),en(r,i)+1).join("")},Bn.trimEnd=function(t,e,n){if((t=bs(t))&&(n||e===o))return t.replace(ct,"");if(!t||!(e=ci(e)))return t;var r=dn(t);return xi(r,0,en(r,dn(e))+1).join("")},Bn.trimStart=function(t,e,n){if((t=bs(t))&&(n||e===o))return t.replace(ut,"");if(!t||!(e=ci(e)))return t;var r=dn(t);return xi(r,tn(r,dn(e))).join("")},Bn.truncate=function(t,e){var n=30,r="...";if(es(e)){var i="separator"in e?e.separator:i;n="length"in e?ys(e.length):n,r="omission"in e?ci(e.omission):r}var a=(t=bs(t)).length;if(sn(t)){var s=dn(t);a=s.length}if(n>=a)return t;var u=n-pn(r);if(u<1)return r;var c=s?xi(s,0,u).join(""):t.slice(0,u);if(i===o)return c+r;if(s&&(u+=c.length-u),as(i)){if(t.slice(u).search(i)){var l,f=c;for(i.global||(i=Pt(i.source,bs(vt.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===o?u:h)}}else if(t.indexOf(ci(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},Bn.unescape=function(t){return(t=bs(t))&&$.test(t)?t.replace(Y,yn):t},Bn.uniqueId=function(t){var e=++Lt;return bs(t)+e},Bn.upperCase=Zs,Bn.upperFirst=$s,Bn.each=ba,Bn.eachRight=_a,Bn.first=Ko,uu(Bn,function(){var t={};return _r(Bn,(function(e,n){Nt.call(Bn.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),Bn.VERSION="4.17.20",Pe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Bn[t].placeholder=Bn})),Pe(["drop","take"],(function(t,e){Gn.prototype[t]=function(n){n=n===o?1:mn(ys(n),0);var r=this.__filtered__&&!e?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:t+(r.__dir__<0?"Right":"")}),r},Gn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Pe(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Gn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:uo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Pe(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Gn.prototype[t]=function(){return this[n](1).value()[0]}})),Pe(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Gn.prototype[t]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(iu)},Gn.prototype.find=function(t){return this.filter(t).head()},Gn.prototype.findLast=function(t){return this.reverse().find(t)},Gn.prototype.invokeMap=Zr((function(t,e){return"function"==typeof t?new Gn(this):this.map((function(n){return Mr(n,t,e)}))})),Gn.prototype.reject=function(t){return this.filter(Na(uo(t)))},Gn.prototype.slice=function(t,e){t=ys(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Gn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=ys(e))<0?n.dropRight(-e):n.take(e-t)),n)},Gn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Gn.prototype.toArray=function(){return this.take(g)},_r(Gn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Bn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(Bn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof Gn,c=s[0],l=u||Wa(e),f=function(t){var e=i.apply(Bn,De([t],s));return r&&h?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,y=u&&!p;if(!a&&l){e=y?e:new Gn(this);var v=t.apply(e,s);return v.__actions__.push({func:da,args:[f],thisArg:o}),new Vn(v,h)}return d&&y?t.apply(this,s):(v=this.thru(f),d?r?v.value()[0]:v.value():v)})})),Pe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=At[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Bn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Wa(i)?i:[],t)}return this[n]((function(n){return e.apply(Wa(n)?n:[],t)}))}})),_r(Gn.prototype,(function(t,e){var n=Bn[e];if(n){var r=n.name+"";Nt.call(An,r)||(An[r]=[]),An[r].push({name:e,func:n})}})),An[Bi(o,2).name]=[{name:"wrapper",func:o}],Gn.prototype.clone=function(){var t=new Gn(this.__wrapped__);return t.__actions__=Ti(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ti(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ti(this.__views__),t},Gn.prototype.reverse=function(){if(this.__filtered__){var t=new Gn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Gn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Wa(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=bn(e,t+a);break;case"takeRight":t=mn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=bn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return di(t,this.__actions__);var d=[];t:for(;u--&&h<p;){for(var y=-1,v=t[c+=e];++y<f;){var g=l[y],m=g.iteratee,b=g.type,_=m(v);if(2==b)v=_;else if(!_){if(1==b)continue t;break t}}d[h++]=v}return d},Bn.prototype.at=ya,Bn.prototype.chain=function(){return pa(this)},Bn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===o&&(this.__values__=ps(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},Bn.prototype.plant=function(t){for(var e,n=this;n instanceof qn;){var r=Bo(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Bn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Gn){var e=t;return this.__actions__.length&&(e=new Gn(this)),(e=e.reverse()).__actions__.push({func:da,args:[ea],thisArg:o}),new Vn(e,this.__chain__)}return this.thru(ea)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Jt&&(Bn.prototype[Jt]=function(){return this}),Bn}();de._=vn,(i=function(){return vn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(this,n(53),n(248)(t))},function(t,e,n){"use strict";var r=n(127);e.a=function(t){return(t=Object(r.b)(Math.abs(t)))?t[1]:NaN}},function(t,e,n){"use strict";n.d(e,"c",(function(){return ct})),n.d(e,"a",(function(){return lt}));var r=n(25),i=n(201),o=n(208),a=n(299);var s=n(139),u=Array.prototype.find;function c(){return this.firstElementChild}var l=Array.prototype.filter;function f(){return this.children}var h=function(t){return new Array(t.length)};function p(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var d=function(t){return function(){return t}};function y(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new p(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function v(t,e,n,r,i,o,a){var s,u,c,l=new Map,f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c=a.call(u,u.__data__,s,e)+"",l.has(c)?i[s]=u:l.set(c,u));for(s=0;s<h;++s)c=a.call(t,o[s],s,o)+"",(u=l.get(c))?(r[s]=u,u.__data__=o[s],l.delete(c)):n[s]=new p(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l.get(d[s])===u&&(i[s]=u)}function g(t){return t.__data__}function m(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var b=n(37),_=n(202);function x(t){return function(){this.removeAttribute(t)}}function w(t){return function(){this.removeAttributeNS(t.space,t.local)}}function E(t,e){return function(){this.setAttribute(t,e)}}function S(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function k(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function O(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var C=n(300);function P(t){return function(){delete this[t]}}function T(t,e){return function(){this[t]=e}}function M(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function A(t){return t.trim().split(/^|\s+/)}function I(t){return t.classList||new j(t)}function j(t){this._node=t,this._names=A(t.getAttribute("class")||"")}function R(t,e){for(var n=I(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function D(t,e){for(var n=I(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function N(t){return function(){R(this,t)}}function L(t){return function(){D(this,t)}}function z(t,e){return function(){(e.apply(this,arguments)?R:D)(this,t)}}j.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function F(){this.textContent=""}function B(t){return function(){this.textContent=t}}function U(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function q(){this.innerHTML=""}function V(t){return function(){this.innerHTML=t}}function G(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function W(){this.nextSibling&&this.parentNode.appendChild(this)}function H(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var K=n(140);function X(){return null}function Y(){var t=this.parentNode;t&&t.removeChild(this)}function Z(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function J(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Q(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function tt(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}var et=n(203);function nt(t,e,n){var r=Object(et.a)(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function rt(t,e){return function(){return nt(this,t,e)}}function it(t,e){return function(){return nt(this,t,e.apply(this,arguments))}}var ot=n(24),at=n.n(ot),st=at.a.mark(ut);function ut(){var t,e,n,r,i,o,a;return at.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=this._groups,e=0,n=t.length;case 1:if(!(e<n)){s.next=13;break}r=t[e],i=0,o=r.length;case 3:if(!(i<o)){s.next=10;break}if(!(a=r[i])){s.next=7;break}return s.next=7,a;case 7:++i,s.next=3;break;case 10:++e,s.next=1;break;case 13:case"end":return s.stop()}}),st,this)}var ct=[null];function lt(t,e){this._groups=t,this._parents=e}function ft(){return new lt([[document.documentElement]],ct)}lt.prototype=ft.prototype=Object(r.a)({constructor:lt,select:function(t){"function"!==typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var a,s,u=e[o],c=u.length,l=r[o]=new Array(c),f=0;f<c;++f)(a=u[f])&&(s=t.call(a,a.__data__,f,u))&&("__data__"in a&&(s.__data__=a.__data__),l[f]=s);return new lt(r,this._parents)},selectAll:function(t){t="function"===typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:Object(o.a)(e)}}(t):Object(a.a)(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var u,c=e[s],l=c.length,f=0;f<l;++f)(u=c[f])&&(r.push(t.call(u,u.__data__,f,c)),i.push(u));return new lt(r,i)},selectChild:function(t){return this.select(null==t?c:function(t){return function(){return u.call(this.children,t)}}("function"===typeof t?t:Object(s.a)(t)))},selectChildren:function(t){return this.selectAll(null==t?f:function(t){return function(){return l.call(this.children,t)}}("function"===typeof t?t:Object(s.a)(t)))},filter:function(t){"function"!==typeof t&&(t=Object(s.b)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new lt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,g);var n=e?v:y,r=this._parents,i=this._groups;"function"!==typeof t&&(t=d(t));for(var a=i.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var f=r[l],h=i[l],p=h.length,m=Object(o.a)(t.call(f,f&&f.__data__,l,r)),b=m.length,_=u[l]=new Array(b),x=s[l]=new Array(b),w=c[l]=new Array(p);n(f,h,_,x,w,m,e);for(var E,S,k=0,O=0;k<b;++k)if(E=_[k]){for(k>=O&&(O=k+1);!(S=x[O])&&++O<b;);E._next=S||null}}return(s=new lt(s,r))._enter=u,s._exit=c,s},enter:function(){return new lt(this._enter||this._groups.map(h),this._parents)},exit:function(){return new lt(this._exit||this._groups.map(h),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof lt))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new lt(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=m);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new lt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,e=0,n=Object(b.a)(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(r){n.e(r)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Object(_.a)(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?w:x:"function"===typeof e?n.local?O:k:n.local?S:E)(n,e))},style:C.a,property:function(t,e){return arguments.length>1?this.each((null==e?P:"function"===typeof e?M:T)(t,e)):this.node()[t]},classed:function(t,e){var n=A(t+"");if(arguments.length<2){for(var r=I(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?z:e?N:L)(n,e))},text:function(t){return arguments.length?this.each(null==t?F:("function"===typeof t?U:B)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?q:("function"===typeof t?G:V)(t)):this.node().innerHTML},raise:function(){return this.each(W)},lower:function(){return this.each(H)},append:function(t){var e="function"===typeof t?t:Object(K.a)(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:Object(K.a)(t),r=null==e?X:"function"===typeof e?e:Object(i.a)(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Y)},clone:function(t){return this.select(t?$:Z)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=J(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?tt:Q,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"===typeof e?it:rt)(t,e))}},Symbol.iterator,ut);e.b=ft},function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return k})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return E}));var r=n(1),i=n.n(r),o=n(79),a=n(97),s=n(34);function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},d=function(t,e){return"translate(".concat(t,"px, ").concat(e,"px)")},y=Object(r.memo)((function(t){var e,n=t.position,u=t.anchor,c=t.children,f=Object(s.t)(),y=Object(s.s)(),v=y.animate,g=y.config,m=h(Object(s.r)(),2),b=m[0],_=m[1],x=Object(r.useRef)(!1),w=void 0,E=!1,S=_.width>0&&_.height>0,k=Math.round(n[0]),O=Math.round(n[1]);S&&("top"===u?(k-=_.width/2,O-=_.height+14):"right"===u?(k+=14,O-=_.height/2):"bottom"===u?(k-=_.width/2,O+=14):"left"===u?(k-=_.width+14,O-=_.height/2):"center"===u&&(k-=_.width/2,O-=_.height/2),w={transform:d(k,O)},x.current||(E=!0),x.current=[k,O]);var C=Object(o.useSpring)({to:w,config:g,immediate:!v||E}),P=l(l(l({},p),f.tooltip),{},{transform:null!==(e=C.transform)&&void 0!==e?e:d(k,O)});return i.a.createElement(a.animated.div,{ref:b,style:P},c)}));y.displayName="TooltipWrapper";var v=Object(r.memo)((function(t){var e=t.size,n=void 0===e?12:e,r=t.color,o=t.style,a=void 0===o?{}:o;return i.a.createElement("span",{style:l({display:"block",width:n,height:n,background:r},a)})})),g=Object(r.memo)((function(t){var e,n=t.id,r=t.value,o=t.format,a=t.enableChip,u=void 0!==a&&a,c=t.color,l=t.renderContent,f=Object(s.t)(),h=Object(s.u)(o);if("function"===typeof l)e=l();else{var p=r;void 0!==h&&void 0!==p&&(p=h(p)),e=i.a.createElement("div",{style:f.tooltip.basic},u&&i.a.createElement(v,{color:c,style:f.tooltip.chip}),void 0!==p?i.a.createElement("span",null,n,": ",i.a.createElement("strong",null,"".concat(p))):n)}return i.a.createElement("div",{style:f.tooltip.container},e)})),m={width:"100%",borderCollapse:"collapse"};Object(r.memo)((function(t){var e,n=t.title,r=t.rows,o=void 0===r?[]:r,a=t.renderContent,u=Object(s.t)();return o.length?(e="function"===typeof a?a():i.a.createElement("div",null,n&&n,i.a.createElement("table",{style:l(l({},m),u.tooltip.table)},i.a.createElement("tbody",null,o.map((function(t,e){return i.a.createElement("tr",{key:e},t.map((function(t,e){return i.a.createElement("td",{key:e,style:u.tooltip.tableCell},t)})))}))))),i.a.createElement("div",{style:u.tooltip.container},e)):null})).displayName="TableTooltip";var b=Object(r.memo)((function(t){var e=t.x0,n=t.x1,u=t.y0,c=t.y1,f=Object(s.t)(),h=Object(s.s)(),p=h.animate,d=h.config,y=Object(r.useMemo)((function(){return l(l({},f.crosshair.line),{},{pointerEvents:"none"})}),[f.crosshair.line]),v=Object(o.useSpring)({x1:e,x2:n,y1:u,y2:c,config:d,immediate:!p});return i.a.createElement(a.animated.line,Object.assign({},v,{fill:"none",style:y}))}));b.displayName="CrosshairLine",Object(r.memo)((function(t){var e,n,r=t.width,o=t.height,a=t.type,s=t.x,u=t.y;return"cross"===a?(e={x0:s,x1:s,y0:0,y1:o},n={x0:0,x1:r,y0:u,y1:u}):"top-left"===a?(e={x0:s,x1:s,y0:0,y1:u},n={x0:0,x1:s,y0:u,y1:u}):"top"===a?e={x0:s,x1:s,y0:0,y1:u}:"top-right"===a?(e={x0:s,x1:s,y0:0,y1:u},n={x0:s,x1:r,y0:u,y1:u}):"right"===a?n={x0:s,x1:r,y0:u,y1:u}:"bottom-right"===a?(e={x0:s,x1:s,y0:u,y1:o},n={x0:s,x1:r,y0:u,y1:u}):"bottom"===a?e={x0:s,x1:s,y0:u,y1:o}:"bottom-left"===a?(e={x0:s,x1:s,y0:u,y1:o},n={x0:0,x1:s,y0:u,y1:u}):"left"===a?n={x0:0,x1:s,y0:u,y1:u}:"x"===a?e={x0:s,x1:s,y0:0,y1:o}:"y"===a&&(n={x0:0,x1:r,y0:u,y1:u}),i.a.createElement(i.a.Fragment,null,e&&i.a.createElement(b,{x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1}),n&&i.a.createElement(b,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1}))})).displayName="Crosshair";var _=Object(r.createContext)({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),x={isVisible:!1,position:[null,null],content:null,anchor:null},w=Object(r.createContext)(x),E=function(t){var e=h(Object(r.useState)(x),2),n=e[0],i=e[1],o=Object(r.useCallback)((function(t,e){var n=h(e,2),r=n[0],o=n[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top";i({isVisible:!0,position:[r,o],anchor:a,content:t})}),[i]),a=Object(r.useCallback)((function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",o=t.current.getBoundingClientRect(),a=n.clientX-o.left,s=n.clientY-o.top;"left"!==r&&"right"!==r||(r=a<o.width/2?"right":"left"),i({isVisible:!0,position:[a,s],anchor:r,content:e})}),[t,i]),s=Object(r.useCallback)((function(){i(x)}),[i]);return{actions:Object(r.useMemo)((function(){return{showTooltipAt:o,showTooltipFromEvent:a,hideTooltip:s}}),[o,a,s]),state:n}},S=function(){var t=function(){var t=Object(r.useContext)(w);if(void 0===t)throw new Error("useTooltipState must be used within a TooltipProvider");return t}();return function(t){return!0===t.isVisible}(t)?i.a.createElement(y,{position:t.position,anchor:t.anchor},t.content):null},k=function(t){var e=t.container,n=t.children,r=E(e),o=r.actions,a=r.state;return i.a.createElement(_.Provider,{value:o},i.a.createElement(w.Provider,{value:a},n))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return _})),n.d(e,"g",(function(){return E})),n.d(e,"f",(function(){return S})),n.d(e,"b",(function(){return k}));var r=n(128);function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),h=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),d=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),y=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),v=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function _(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=l.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?x(e):3===n?new k(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?w(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?w(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=f.exec(t))?new k(e[1],e[2],e[3],1):(e=h.exec(t))?new k(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?w(e[1],e[2],e[3],e[4]):(e=d.exec(t))?w(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=y.exec(t))?T(e[1],e[2]/100,e[3]/100,1):(e=v.exec(t))?T(e[1],e[2]/100,e[3]/100,e[4]):g.hasOwnProperty(t)?x(g[t]):"transparent"===t?new k(NaN,NaN,NaN,0):null}function x(t){return new k(t>>16&255,t>>8&255,255&t,1)}function w(t,e,n,r){return r<=0&&(t=e=n=NaN),new k(t,e,n,r)}function E(t){return t instanceof i||(t=_(t)),t?new k((t=t.rgb()).r,t.g,t.b,t.opacity):new k}function S(t,e,n,r){return 1===arguments.length?E(t):new k(t,e,n,null==r?1:r)}function k(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function O(){return"#"+P(this.r)+P(this.g)+P(this.b)}function C(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function P(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function T(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new A(t,e,n,r)}function M(t){if(t instanceof A)return new A(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=_(t)),!t)return new A;if(t instanceof A)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-o,c=(a+o)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=c<.5?a+o:2-a-o,s*=60):u=c>0&&c<1?0:s,new A(s,u,c,t.opacity)}function A(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function I(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Object(r.a)(i,_,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:function(){return M(this).formatHsl()},formatRgb:b,toString:b}),Object(r.a)(k,S,Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new k(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O,formatHex:O,formatRgb:C,toString:C})),Object(r.a)(A,(function(t,e,n,r){return 1===arguments.length?M(t):new A(t,e,n,null==r?1:r)}),Object(r.b)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new A(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new A(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new k(I(t>=240?t-240:t+120,i,r),I(t,i,r),I(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return on})),n.d(e,"b",(function(){return cn})),n.d(e,"c",(function(){return Je})),n.d(e,"d",(function(){return hn})),n.d(e,"e",(function(){return pn}));var r=n(1),i=n.n(r),o=n(97),a=n(79),s=n(34),u=new Date,c=new Date;function l(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return l((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return u.setTime(+e),c.setTime(+r),t(u),t(c),Math.floor(n(u,c))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var f=l((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));f.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?l((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):f:null};var h=f,p=(f.range,1e3),d=6e4,y=36e5,v=864e5,g=6048e5,m=l((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*p)}),(function(t,e){return(e-t)/p}),(function(t){return t.getUTCSeconds()})),b=m,_=(m.range,l((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*p)}),(function(t,e){t.setTime(+t+e*d)}),(function(t,e){return(e-t)/d}),(function(t){return t.getMinutes()}))),x=_,w=(_.range,l((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*d)}),(function(t,e){return(e-t)/d}),(function(t){return t.getUTCMinutes()}))),E=w,S=(w.range,l((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*p-t.getMinutes()*d)}),(function(t,e){t.setTime(+t+e*y)}),(function(t,e){return(e-t)/y}),(function(t){return t.getHours()}))),k=S,O=(S.range,l((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*y)}),(function(t,e){return(e-t)/y}),(function(t){return t.getUTCHours()}))),C=O,P=(O.range,l((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*d)/v}),(function(t){return t.getDate()-1}))),T=P,M=(P.range,l((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/v}),(function(t){return t.getUTCDate()-1}))),A=M;M.range;function I(t){return l((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*d)/g}))}var j=I(0),R=I(1),D=I(2),N=I(3),L=I(4),z=I(5),F=I(6);j.range,R.range,D.range,N.range,L.range,z.range,F.range;function B(t){return l((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/g}))}var U=B(0),q=B(1),V=B(2),G=B(3),W=B(4),H=B(5),K=B(6),X=(U.range,q.range,V.range,G.range,W.range,H.range,K.range,l((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Y=X,Z=(X.range,l((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),$=Z,J=(Z.range,l((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));J.every=function(t){return isFinite(t=Math.floor(t))&&t>0?l((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Q=J,tt=(J.range,l((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));tt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?l((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var et=tt;tt.range;function nt(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rt(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function it(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var ot,at,st={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,ct=/^%/,lt=/[\\^$*+?|[\]().{}]/g;function ft(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ht(t){return t.replace(lt,"\\$&")}function pt(t){return new RegExp("^(?:"+t.map(ht).join("|")+")","i")}function dt(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function yt(t,e,n){var r=ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function vt(t,e,n){var r=ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function gt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function mt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function bt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _t(t,e,n){var r=ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wt(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Et(t,e,n){var r=ut.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function St(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function kt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ot(t,e,n){var r=ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ct(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Pt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Tt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Mt(t,e,n){var r=ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function At(t,e,n){var r=ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function It(t,e,n){var r=ct.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function jt(t,e,n){var r=ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Rt(t,e,n){var r=ut.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Dt(t,e){return ft(t.getDate(),e,2)}function Nt(t,e){return ft(t.getHours(),e,2)}function Lt(t,e){return ft(t.getHours()%12||12,e,2)}function zt(t,e){return ft(1+T.count(Q(t),t),e,3)}function Ft(t,e){return ft(t.getMilliseconds(),e,3)}function Bt(t,e){return Ft(t,e)+"000"}function Ut(t,e){return ft(t.getMonth()+1,e,2)}function qt(t,e){return ft(t.getMinutes(),e,2)}function Vt(t,e){return ft(t.getSeconds(),e,2)}function Gt(t){var e=t.getDay();return 0===e?7:e}function Wt(t,e){return ft(j.count(Q(t)-1,t),e,2)}function Ht(t){var e=t.getDay();return e>=4||0===e?L(t):L.ceil(t)}function Kt(t,e){return t=Ht(t),ft(L.count(Q(t),t)+(4===Q(t).getDay()),e,2)}function Xt(t){return t.getDay()}function Yt(t,e){return ft(R.count(Q(t)-1,t),e,2)}function Zt(t,e){return ft(t.getFullYear()%100,e,2)}function $t(t,e){return ft((t=Ht(t)).getFullYear()%100,e,2)}function Jt(t,e){return ft(t.getFullYear()%1e4,e,4)}function Qt(t,e){var n=t.getDay();return ft((t=n>=4||0===n?L(t):L.ceil(t)).getFullYear()%1e4,e,4)}function te(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function ee(t,e){return ft(t.getUTCDate(),e,2)}function ne(t,e){return ft(t.getUTCHours(),e,2)}function re(t,e){return ft(t.getUTCHours()%12||12,e,2)}function ie(t,e){return ft(1+A.count(et(t),t),e,3)}function oe(t,e){return ft(t.getUTCMilliseconds(),e,3)}function ae(t,e){return oe(t,e)+"000"}function se(t,e){return ft(t.getUTCMonth()+1,e,2)}function ue(t,e){return ft(t.getUTCMinutes(),e,2)}function ce(t,e){return ft(t.getUTCSeconds(),e,2)}function le(t){var e=t.getUTCDay();return 0===e?7:e}function fe(t,e){return ft(U.count(et(t)-1,t),e,2)}function he(t){var e=t.getUTCDay();return e>=4||0===e?W(t):W.ceil(t)}function pe(t,e){return t=he(t),ft(W.count(et(t),t)+(4===et(t).getUTCDay()),e,2)}function de(t){return t.getUTCDay()}function ye(t,e){return ft(q.count(et(t)-1,t),e,2)}function ve(t,e){return ft(t.getUTCFullYear()%100,e,2)}function ge(t,e){return ft((t=he(t)).getUTCFullYear()%100,e,2)}function me(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function be(t,e){var n=t.getUTCDay();return ft((t=n>=4||0===n?W(t):W.ceil(t)).getUTCFullYear()%1e4,e,4)}function _e(){return"+0000"}function xe(){return"%"}function we(t){return+t}function Ee(t){return Math.floor(+t/1e3)}ot=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=pt(i),l=dt(i),f=pt(o),h=dt(o),p=pt(a),d=dt(a),y=pt(s),v=dt(s),g=pt(u),m=dt(u),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Dt,e:Dt,f:Bt,g:$t,G:Qt,H:Nt,I:Lt,j:zt,L:Ft,m:Ut,M:qt,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:we,s:Ee,S:Vt,u:Gt,U:Wt,V:Kt,w:Xt,W:Yt,x:null,X:null,y:Zt,Y:Jt,Z:te,"%":xe},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:ee,e:ee,f:ae,g:ge,G:be,H:ne,I:re,j:ie,L:oe,m:se,M:ue,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:we,s:Ee,S:ce,u:le,U:fe,V:pe,w:de,W:ye,x:null,X:null,y:ve,Y:me,Z:_e,"%":xe},x={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:kt,e:kt,f:At,g:xt,G:_t,H:Ct,I:Ct,j:Ot,L:Mt,m:St,M:Pt,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},q:Et,Q:jt,s:Rt,S:Tt,u:vt,U:gt,V:mt,w:yt,W:bt,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:xt,Y:_t,Z:wt,"%":It};function w(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=st[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function E(t,e){return function(n){var r,i,o=it(1900,void 0,1);if(S(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=rt(it(o.y,0,1))).getUTCDay(),r=i>4||0===i?q.ceil(r):q(r),r=A.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=nt(it(o.y,0,1))).getDay(),r=i>4||0===i?R.ceil(r):R(r),r=T.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?rt(it(o.y,0,1)).getUTCDay():nt(it(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,rt(o)):nt(o)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in st?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),_.x=w(n,_),_.X=w(r,_),_.c=w(e,_),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),at=ot.format,ot.parse,ot.utcFormat,ot.utcParse;function Se(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var ke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oe(t){if(!(e=ke.exec(t)))throw new Error("invalid format: "+t);var e;return new Ce({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ce(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Oe.prototype=Ce.prototype,Ce.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Pe,Te,Me,Ae=function(t,e){var n=Se(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Ie={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ae(100*t,e)},r:Ae,s:function(t,e){var n=Se(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Pe=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Se(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},je=function(t){return t},Re=Array.prototype.map,De=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Ne=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?je:(e=Re.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?je:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Re.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Oe(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,y=t.comma,v=t.precision,g=t.trim,m=t.type;"n"===m?(y=!0,m="g"):Ie[m]||(void 0===v&&(v=12),g=!0,m="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",_="$"===h?o:/[%p]/.test(m)?u:"",x=Ie[m],w=/[defgprs%]/.test(m);function E(t){var i,o,u,h=b,E=_;if("c"===m)E=x(t)+E,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),v),g&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0===+t&&"+"!==f&&(S=!1),h=(S?"("===f?f:c:"-"===f||"("===f?"":f)+h,E=("s"===m?De[8+Pe/3]:"")+E+(S&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){E=(46===u?a+t.slice(i+1):t.slice(i))+E,t=t.slice(0,i);break}}y&&!p&&(t=r(t,1/0));var k=h.length+t.length+E.length,O=k<d?new Array(d-k+1).join(e):"";switch(y&&p&&(t=r(O+t,O.length?d-E.length:1/0),O=""),n){case"<":t=h+t+E+O;break;case"=":t=h+O+t+E;break;case"^":t=O.slice(0,k=O.length>>1)+h+t+E+O.slice(k);break;default:t=O+h+t+E}return s(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),E.toString=function(){return t+""},E}return{format:f,formatPrefix:function(t,e){var n,r=f(((t=Oe(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor((n=e,((n=Se(Math.abs(n)))?n[1]:NaN)/3)))),o=Math.pow(10,-i),a=De[8+i/3];return function(t){return r(o*t)+a}}}};!function(t){Te=Ne(t),Me=Te.format,Te.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Le=n(2),ze=n.n(Le);function Fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Be(Object(n),!0).forEach((function(e){Fe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var qe=function(t){var e=t.bandwidth();if(0===e)return t;var n=e/2;return t.round()&&(n=Math.round(n)),function(e){return t(e)+n}},Ve={millisecond:[h,h],second:[b,b],minute:[x,E],hour:[k,C],day:[T,A],week:[j,U],sunday:[j,U],monday:[R,q],tuesday:[D,V],wednesday:[N,G],thursday:[L,W],friday:[z,H],saturday:[F,K],month:[Y,$],year:[Q,et]},Ge=Object.keys(Ve),We=new RegExp("^every\\s*(\\d+)?\\s*(".concat(Ge.join("|"),")s?$"),"i"),He=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t},Ke=function(t,e){if(Array.isArray(e))return e;if(t.ticks){if(void 0===e)return t.ticks();if(He(e))return t.ticks(e);if("string"===typeof e){var n=e.match(We);if(n){var r=Ve[n[2]][t.useUTC?1:0];return void 0===n[1]?t.ticks(r):t.ticks(r.every(Number(n[1])))}throw new Error("Invalid tickValues: ".concat(e))}}return t.domain()},Xe=function(t){var e,n=t.axis,r=t.scale,i=t.ticksPosition,o=t.tickValues,a=t.tickSize,u=t.tickPadding,c=t.tickRotation,l=t.engine,f=void 0===l?"svg":l,h=Ke(r,o),p=s.p[f],d=r.bandwidth?qe(r):r,y={lineX:0,lineY:0},v={textX:0,textY:0},g=p.align.center,m=p.baseline.center;return"x"===n?(e=function(t){return{x:d(t),y:0}},y.lineY=a*("after"===i?1:-1),v.textY=(a+u)*("after"===i?1:-1),m="after"===i?p.baseline.top:p.baseline.bottom,0===c?g=p.align.center:"after"===i&&c<0||"before"===i&&c>0?(g=p.align.right,m=p.baseline.center):("after"===i&&c>0||"before"===i&&c<0)&&(g=p.align.left,m=p.baseline.center)):(e=function(t){return{x:0,y:d(t)}},y.lineX=a*("after"===i?1:-1),v.textX=(a+u)*("after"===i?1:-1),g="after"===i?p.align.left:p.align.right),{ticks:h.map((function(t){return Ue(Ue(Ue({key:t,value:t},e(t)),y),v)})),textAlign:g,textBaseline:m}},Ye=function(t,e){if(!t||"function"===typeof t)return t;if("time"===e.type){var n=at(t);return function(t){return n(new Date(t))}}return Me(t)},Ze=function(t){var e,n=t.width,r=t.height,i=t.scale,o=t.axis,a=t.values,s=Array.isArray(a)?a:void 0,u=He(a)?a:void 0,c=s||Ke(i,u),l=i.bandwidth?qe(i):i;return"x"===o?e=c.map((function(t){return{key:"".concat(t),x1:l(t),x2:l(t),y1:0,y2:r}})):"y"===o&&(e=c.map((function(t){return{key:"".concat(t),x1:0,x2:n,y1:l(t),y2:l(t)}}))),e},$e={ticksPosition:ze.a.oneOf(["before","after"]),tickValues:ze.a.oneOfType([ze.a.number,ze.a.arrayOf(ze.a.oneOfType([ze.a.number,ze.a.string,ze.a.instanceOf(Date)])),ze.a.string]),tickSize:ze.a.number,tickPadding:ze.a.number,tickRotation:ze.a.number,format:ze.a.oneOfType([ze.a.func,ze.a.string]),renderTick:ze.a.func,legend:ze.a.node,legendPosition:ze.a.oneOf(["start","middle","end"]),legendOffset:ze.a.number,ariaHidden:ze.a.bool},Je=ze.a.shape($e),Qe=function(t){var e=t.value,n=t.format,r=t.lineX,a=t.lineY,u=t.onClick,c=t.textBaseline,l=t.textAnchor,f=t.animatedProps,h=Object(s.t)(),p=e;void 0!==n&&(p=n(p));var d={opacity:f.opacity};return u&&(d.cursor="pointer"),i.a.createElement(o.animated.g,Object.assign({transform:f.transform},u?{onClick:function(t){return u(t,p)}}:{},{style:d}),i.a.createElement("line",{x1:0,x2:r,y1:0,y2:a,style:h.axis.ticks.line}),i.a.createElement(o.animated.text,{dominantBaseline:c,textAnchor:l,transform:f.textTransform,style:h.axis.ticks.text},p))};Qe.defaultProps={opacity:1,rotate:0};var tn=Object(r.memo)(Qe),en=function(t){var e=t.axis,n=t.scale,u=t.x,c=t.y,l=t.length,f=t.ticksPosition,h=t.tickValues,p=t.tickSize,d=t.tickPadding,y=t.tickRotation,v=t.format,g=t.renderTick,m=t.legend,b=t.legendPosition,_=t.legendOffset,x=t.onClick,w=t.ariaHidden,E=Object(s.t)(),S=Object(r.useMemo)((function(){return Ye(v,n)}),[v,n]),k=Xe({axis:e,scale:n,ticksPosition:f,tickValues:h,tickSize:p,tickPadding:d,tickRotation:y}),O=k.ticks,C=k.textAlign,P=k.textBaseline,T=null;if(void 0!==m){var M,A=0,I=0,j=0;"y"===e?(j=-90,A=_,"start"===b?(M="start",I=l):"middle"===b?(M="middle",I=l/2):"end"===b&&(M="end")):(I=_,"start"===b?M="start":"middle"===b?(M="middle",A=l/2):"end"===b&&(M="end",A=l)),T=i.a.createElement("text",{transform:"translate(".concat(A,", ").concat(I,") rotate(").concat(j,")"),textAnchor:M,style:Ue({dominantBaseline:"central"},E.axis.legend.text)},m)}var R=Object(s.s)(),D=R.animate,N=R.config,L=Object(a.useSpring)({transform:"translate(".concat(u,",").concat(c,")"),lineX2:"x"===e?l:0,lineY2:"x"===e?0:l,config:N,immediate:!D}),z=Object(a.useTransition)(O,{key:function(t){return t.key},initial:function(t){return{opacity:1,transform:"translate(".concat(t.x,",").concat(t.y,")"),textTransform:"translate(".concat(t.textX,",").concat(t.textY,") rotate(").concat(y,")")}},from:function(t){return{opacity:0,transform:"translate(".concat(t.x,",").concat(t.y,")"),textTransform:"translate(".concat(t.textX,",").concat(t.textY,") rotate(").concat(y,")")}},enter:function(t){return{opacity:1,transform:"translate(".concat(t.x,",").concat(t.y,")"),textTransform:"translate(".concat(t.textX,",").concat(t.textY,") rotate(").concat(y,")")}},update:function(t){return{opacity:1,transform:"translate(".concat(t.x,",").concat(t.y,")"),textTransform:"translate(".concat(t.textX,",").concat(t.textY,") rotate(").concat(y,")")}},leave:{opacity:0},config:N,immediate:!D});return i.a.createElement(o.animated.g,{transform:L.transform,"aria-hidden":w},z((function(t,e,n,r){return i.a.createElement(g,Ue(Ue(Ue({tickIndex:r,format:S,rotate:y,textBaseline:P,textAnchor:C,animatedProps:t},e),x?{onClick:x}:{}),{},{key:e.key}))})),i.a.createElement(o.animated.line,{style:E.axis.domain.line,x1:0,x2:L.lineX2,y1:0,y2:L.lineY2}),T)};en.defaultProps={x:0,y:0,tickSize:5,tickPadding:5,tickRotation:0,renderTick:function(t){return i.a.createElement(tn,t)},legendPosition:"end",legendOffset:0};var nn=Object(r.memo)(en),rn=["top","right","bottom","left"],on=Object(r.memo)((function(t){var e=t.xScale,n=t.yScale,r=t.width,o=t.height,a={top:t.top,right:t.right,bottom:t.bottom,left:t.left};return rn.map((function(t){var s=a[t];if(!s)return null;var u="top"===t||"bottom"===t,c="top"===t||"left"===t?"before":"after";return i.a.createElement(nn,Object.assign({key:t},s,{axis:u?"x":"y",x:"right"===t?r:0,y:"bottom"===t?o:0,scale:u?e:n,length:u?r:o,ticksPosition:c}))}))})),an=function(t){var e=t.animatedProps,n=Object(s.t)();return i.a.createElement(o.animated.line,Object.assign({},e,n.grid.line))};an.defaultProps={x1:0,x2:0,y1:0,y2:0};var sn=Object(r.memo)(an),un=Object(r.memo)((function(t){var e=t.lines,n=Object(s.s)(),r=n.animate,o=n.config,u=Object(a.useTransition)(e,{key:function(t){return t.key},initial:function(t){return{opacity:1,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2}},from:function(t){return{opacity:0,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2}},enter:function(t){return{opacity:1,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2}},update:function(t){return{opacity:1,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2}},leave:{opacity:0},config:o,immediate:!r});return i.a.createElement("g",null,u((function(t,e){return i.a.createElement(sn,Object.assign({},e,{key:e.key,animatedProps:t}))})))})),cn=Object(r.memo)((function(t){var e=t.width,n=t.height,o=t.xScale,a=t.yScale,s=t.xValues,u=t.yValues,c=Object(r.useMemo)((function(){return!!o&&Ze({width:e,height:n,scale:o,axis:"x",values:s})}),[o,s,e,n]),l=!!a&&Ze({width:e,height:n,scale:a,axis:"y",values:u});return i.a.createElement(i.a.Fragment,null,c&&i.a.createElement(un,{type:"x",lines:c}),l&&i.a.createElement(un,{type:"y",lines:l}))})),ln=function(t){return t*Math.PI/180},fn=["top","right","bottom","left"],hn=function(t,e){var n=e.xScale,r=e.yScale,i=e.width,o=e.height,a=e.top,s=e.right,u=e.bottom,c=e.left,l=e.theme,f={top:a,right:s,bottom:u,left:c};fn.forEach((function(e){var a=f[e];if(!a)return null;var s="top"===e||"bottom"===e,u="top"===e||"left"===e?"before":"after",c=s?n:r,h=Ye(a.format,c);!function(t,e){var n=e.axis,r=e.scale,i=e.x,o=void 0===i?0:i,a=e.y,s=void 0===a?0:a,u=e.length,c=e.ticksPosition,l=e.tickValues,f=e.tickSize,h=void 0===f?5:f,p=e.tickPadding,d=void 0===p?5:p,y=e.tickRotation,v=void 0===y?0:y,g=e.format,m=e.legend,b=e.legendPosition,_=void 0===b?"end":b,x=e.legendOffset,w=void 0===x?0:x,E=e.theme,S=Xe({axis:n,scale:r,ticksPosition:c,tickValues:l,tickSize:h,tickPadding:d,tickRotation:v,engine:"canvas"}),k=S.ticks,O=S.textAlign,C=S.textBaseline;if(t.save(),t.translate(o,s),t.textAlign=O,t.textBaseline=C,t.font="".concat(E.axis.ticks.text.fontSize,"px ").concat(E.axis.ticks.text.fontFamily),E.axis.domain.line.strokeWidth>0&&(t.lineWidth=E.axis.domain.line.strokeWidth,t.lineCap="square",t.strokeStyle=E.axis.domain.line.stroke,t.beginPath(),t.moveTo(0,0),t.lineTo("x"===n?u:0,"x"===n?0:u),t.stroke()),k.forEach((function(e){E.axis.ticks.line.strokeWidth>0&&(t.lineWidth=E.axis.ticks.line.strokeWidth,t.lineCap="square",t.strokeStyle=E.axis.ticks.line.stroke,t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(e.x+e.lineX,e.y+e.lineY),t.stroke());var n=void 0!==g?g(e.value):e.value;t.save(),t.translate(e.x+e.textX,e.y+e.textY),t.rotate(ln(v)),t.fillStyle=E.axis.ticks.text.fill,t.fillText(n,0,0),t.restore()})),void 0!==m){var P,T=0,M=0,A=0;"y"===n?(A=-90,T=w,"start"===_?(P="start",M=u):"middle"===_?(P="center",M=u/2):"end"===_&&(P="end")):(M=w,"start"===_?P="start":"middle"===_?(P="center",T=u/2):"end"===_&&(P="end",T=u)),t.translate(T,M),t.rotate(ln(A)),t.font="".concat(E.axis.legend.text.fontWeight?"".concat(E.axis.legend.text.fontWeight," "):"").concat(E.axis.legend.text.fontSize,"px ").concat(E.axis.legend.text.fontFamily),t.fillStyle=E.axis.legend.text.fill,t.textAlign=P,t.textBaseline="middle",t.fillText(m,0,0)}t.restore()}(t,Ue(Ue({},a),{},{axis:s?"x":"y",x:"right"===e?i:0,y:"bottom"===e?o:0,scale:c,format:h,length:s?i:o,ticksPosition:u,theme:l}))}))},pn=function(t,e){var n=e.width,r=e.height,i=e.scale,o=e.axis,a=e.values;Ze({width:n,height:r,scale:i,axis:o,values:a}).forEach((function(e){t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke()}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return mt})),n.d(e,"b",(function(){return yt})),n.d(e,"c",(function(){return vt})),n.d(e,"d",(function(){return bt})),n.d(e,"e",(function(){return gt}));var r=n(1181),i=n(1182),o=n(1183),a=n(1184),s=n(1185),u=n(1186),c=n(1187),l=n(1188),f=n(659),h=n(429),p=n(430),d=n(431),y=n(432),v=n(433),g=n(434),m=n(435),b=n(436),_=n(437),x=n(438),w=n(439),E=n(440),S=n(441),k=n(442),O=n(443),C=n(444),P=n(445),T=n(446),M=n(447),A=n(448),I=n(449),j=n(450),R=n(451),D=n(452),N=n(453),L=n(454),z=n(455),F=n(332),B=n(456),U=n(1189),q=n(1190),V=n(92),G=n.n(V),W=n(71),H=n.n(W),K=(n(1),n(116)),X=(n(85),n(126)),Y=n(2),Z=n.n(Y);function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach((function(e){$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var tt={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:r.a,accent:i.a,dark2:o.a,paired:a.a,pastel1:s.a,pastel2:u.a,set1:c.a,set2:l.a,set3:f.a},et=Object.keys(tt),nt={brown_blueGreen:h.b,purpleRed_green:p.b,pink_yellowGreen:d.b,purple_orange:y.b,red_blue:v.b,red_grey:g.b,red_yellow_blue:m.b,red_yellow_green:b.b,spectral:_.b},rt=Object.keys(nt),it={brown_blueGreen:h.a,purpleRed_green:p.a,pink_yellowGreen:d.a,purple_orange:y.a,red_blue:v.a,red_grey:g.a,red_yellow_blue:m.a,red_yellow_green:b.a,spectral:_.a},ot={blues:x.b,greens:w.b,greys:E.b,oranges:S.b,purples:k.b,reds:O.b,blue_green:C.b,blue_purple:P.b,green_blue:T.b,orange_red:M.b,purple_blue_green:A.b,purple_blue:I.b,purple_red:j.b,red_purple:R.b,yellow_green_blue:D.b,yellow_green:N.b,yellow_orange_brown:L.b,yellow_orange_red:z.b},at=Object.keys(ot),st={blues:x.a,greens:w.a,greys:E.a,oranges:S.a,purples:k.a,reds:O.a,turbo:function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},viridis:F.a,inferno:F.b,magma:F.c,plasma:F.d,cividis:function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},warm:B.c,cool:B.a,cubehelixDefault:U.a,blue_green:C.a,blue_purple:P.a,green_blue:T.a,orange_red:M.a,purple_blue_green:A.a,purple_blue:I.a,purple_red:j.a,red_purple:R.a,yellow_green_blue:D.a,yellow_green:N.a,yellow_orange_brown:L.a,yellow_orange_red:z.a},ut=Q(Q(Q({},tt),nt),ot),ct=Object.keys(ut),lt={rainbow:B.b,sinebow:q.a},ft=Q(Q(Q({},it),st),lt);Object.keys(ft);function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pt(t,e){if(t){if("string"===typeof t)return ht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(t,e):void 0}}function dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||pt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yt=function(t,e){if("function"===typeof t)return function(e){return t(e)};if(G()(t)){if(function(t){return void 0!==t.theme}(t)){if(void 0===e)throw new Error("Unable to use color from theme as no theme was provided");var n=H()(e,t.theme);if(void 0===n)throw new Error("Color from theme is undefined at path: '".concat(t.theme,"'"));return function(){return n}}if(function(t){return void 0!==t.from}(t)){var r=function(e){return H()(e,t.from)};if(Array.isArray(t.modifiers)){var i,o=[],a=function(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=pt(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}(t.modifiers);try{var s=function(){var t=dt(i.value,2),e=t[0],n=t[1];if("brighter"===e)o.push((function(t){return t.brighter(n)}));else if("darker"===e)o.push((function(t){return t.darker(n)}));else{if("opacity"!==e)throw new Error("Invalid color modifier: '".concat(e,"', must be one of: 'brighter', 'darker', 'opacity'"));o.push((function(t){return t.opacity=n,t}))}};for(a.s();!(i=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}return 0===o.length?r:function(t){return o.reduce((function(t,e){return e(t)}),Object(K.f)(r(t))).toString()}}return r}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return t}},vt=function(t,e){if("function"===typeof t)return t;var n,r="function"===typeof e?e:function(t){return H()(t,e)};if(Array.isArray(t)){var i=Object(X.a)(t),o=function(t){return i(r(t))};return o.scale=i,o}if(G()(t)){if(function(t){return void 0!==t.datum}(t))return function(e){return H()(e,t.datum)};if(function(t){return void 0!==t.scheme}(t)){if(n=t.scheme,et.includes(n)){var a=Object(X.a)(ut[t.scheme]),s=function(t){return a(r(t))};return s.scale=a,s}if(function(t){return rt.includes(t)}(t.scheme)){if(void 0!==t.size&&(t.size<3||t.size>11))throw new Error("Invalid size '".concat(t.size,"' for diverging color scheme '").concat(t.scheme,"', must be between 3~11"));var u=Object(X.a)(ut[t.scheme][t.size||11]),c=function(t){return u(r(t))};return c.scale=u,c}if(function(t){return at.includes(t)}(t.scheme)){if(void 0!==t.size&&(t.size<3||t.size>9))throw new Error("Invalid size '".concat(t.size,"' for sequential color scheme '").concat(t.scheme,"', must be between 3~9"));var l=Object(X.a)(ut[t.scheme][t.size||9]),f=function(t){return l(r(t))};return f.scale=l,f}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return t}},gt=Z.a.oneOfType([Z.a.func,Z.a.arrayOf(Z.a.string),Z.a.shape({scheme:Z.a.oneOf(ct).isRequired,size:Z.a.number}),Z.a.shape({datum:Z.a.string.isRequired}),Z.a.string]),mt=Z.a.oneOfType([Z.a.func,Z.a.string]),bt=Z.a.oneOfType([Z.a.string,Z.a.func,Z.a.shape({theme:Z.a.string.isRequired}),Z.a.shape({from:Z.a.string.isRequired,modifiers:Z.a.arrayOf(Z.a.array)})])},function(t,e,n){"use strict";var r=n(249),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(n){return!1}}(),c=function(t,e,n,r){var i;(!(e in t)||"function"===typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(u?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},l=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=a.call(o,Object.getOwnPropertySymbols(e)));for(var s=0;s<o.length;s+=1)c(t,o[s],e[o[s]],n[o[s]])};l.supportsDescriptors=!!u,t.exports=l},function(t,e,n){var r=n(184),i=n(728),o=n(729),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(966),i=n(148).default,o=n(968);function a(t){this._subscribe=t}a.prototype[i]=function(){return o(this)},a.prototype._toJSONG=function(){return this},a.prototype.progressively=function(){return this},a.prototype.subscribe=a.prototype.forEach=function(t,e,n){var i=new r(t,e,n),o=this._subscribe(i);switch(typeof o){case"function":return{dispose:function(){i._closed||(i._closed=!0,o())}};case"object":return{dispose:function(){i._closed||(i._closed=!0,null!==o&&o.dispose())}};default:return{dispose:function(){i._closed=!0}}}},a.prototype.then=function(t,e){var n=this;return n._promise||(n._promise=new Promise((function(t,e){var r=!1,i=[];n.subscribe((function(t){i[i.length]=t}),(function(t){r=!0,e(t)}),(function(){var e=i;i.length<=1&&(e=i[0]),!1===r&&t(e)}))}))),n._promise.then(t,e)},t.exports=a},function(t,e,n){"use strict";var r="-",i={encode:function(t,e,n){return t+r+e+r+n},decode:function(t){var e=t.split(r).reverse(),n=e[0],i=e[1];return{blockKey:e.slice(2).reverse().join(r),decoratorKey:parseInt(i,10),leafKey:parseInt(n,10)}}};t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(11);e.default=function(t){var e=t.title,n=t.children,r=(0,o.useTheme)();return i.default.createElement("div",{className:"flex justify-center"},i.default.createElement("div",{className:"\n          m-auto inline-block rounded px-20 py-10 shadow-xl\n          ".concat(r.accent1,"\n        ")},e?i.default.createElement("div",{className:"text-3xl font-bold"},e):null,i.default.createElement("div",null,n)))}},function(t,e,n){"use strict";var r=n(108);e.__esModule=!0,e.default=void 0;var i=r(n(497)),o=function(t){return(0,i.default)("displayName",t)};e.default=o},function(t,e,n){"use strict";function r(t){return function(e){var n=new i;for(var r in t)n[r]=t[r];return n.stream=e,n}}function i(){}n.d(e,"b",(function(){return r})),e.a=function(t){return{stream:r(t)}},i.prototype={constructor:i,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n(37),i=n(40),o=Symbol("implicit");function a(){var t=new Map,e=[],n=[],s=o;function u(r){var i=r+"",a=t.get(i);if(!a){if(s!==o)return s;t.set(i,a=e.push(r))}return n[(a-1)%n.length]}return u.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;var i,o=Object(r.a)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a+"";t.has(s)||t.set(s,e.push(a))}}catch(c){o.e(c)}finally{o.f()}return u},u.range=function(t){return arguments.length?(n=Array.from(t),u):n.slice()},u.unknown=function(t){return arguments.length?(s=t,u):s},u.copy=function(){return a(e,n).unknown(s)},i.b.apply(u,arguments),u}},function(t,e,n){"use strict";function r(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}n.d(e,"b",(function(){return r})),e.a=function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}},function(t,e,n){"use strict";function r(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}n.d(e,"b",(function(){return r})),e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var r=n(210);function i(t,e){return function(n){return t+n*e}}function o(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(r.a)(isNaN(t)?e:t)}function a(t){return 1===(t=+t)?s:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Object(r.a)(isNaN(e)?n:e)}}function s(t,e){var n=e-t;return n?i(t,n):Object(r.a)(isNaN(t)?e:t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1),i="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(128),i=n(116),o=Math.PI/180,a=180/Math.PI,s=-.14861,u=1.78277,c=-.29227,l=-.90649,f=1.97294,h=f*l,p=f*u,d=u*c-l*s;function y(t){if(t instanceof g)return new g(t.h,t.s,t.l,t.opacity);t instanceof i.b||(t=Object(i.g)(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(d*r+h*e-p*n)/(d+h-p),s=r-o,u=(f*(n-o)-c*s)/l,y=Math.sqrt(u*u+s*s)/(f*o*(1-o)),v=y?Math.atan2(u,s)*a-120:NaN;return new g(v<0?v+360:v,y,o,t.opacity)}function v(t,e,n,r){return 1===arguments.length?y(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Object(r.a)(g,v,Object(r.b)(i.a,{brighter:function(t){return t=null==t?i.c:Math.pow(i.c,t),new g(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?i.d:Math.pow(i.d,t),new g(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*o,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new i.b(255*(e+n*(s*r+u*a)),255*(e+n*(c*r+l*a)),255*(e+n*(f*r)),this.opacity)}}))},,function(t,e,n){"use strict";n.r(e);var r=n(169);n.d(e,"formatDefaultLocale",(function(){return r.a})),n.d(e,"format",(function(){return r.b})),n.d(e,"formatPrefix",(function(){return r.c}));var i=n(304);n.d(e,"formatLocale",(function(){return i.a}));var o=n(168);n.d(e,"formatSpecifier",(function(){return o.b})),n.d(e,"FormatSpecifier",(function(){return o.a}));var a=n(402);n.d(e,"precisionFixed",(function(){return a.a}));var s=n(400);n.d(e,"precisionPrefix",(function(){return s.a}));var u=n(401);n.d(e,"precisionRound",(function(){return u.a}))},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.useBrush=e.useClickOutside=e.useSetRefs=e.composeOptions=void 0;var i=u(n(1)),o=u(n(1176)),a=u(n(627));function s(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function u(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}e.composeOptions=function(t){var e=d({},t);return Object.keys(e).reduce((function(t,n){return e[n]&&t.push(n.split("").map((function(t,e){return 0===e?t.toUpperCase():t})).join("")),t}),[]).join("")};e.useSetRefs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.default.useCallback((function(t){[].concat(e).forEach((function(e){e&&("function"===typeof e?e(t):e.current=t)}))}),[e])};e.useClickOutside=function(t){var e=h((0,i.useState)(null),2),n=e[0],r=e[1];return(0,i.useEffect)((function(){var e=function(e){n.contains(e.target)||"function"===typeof t&&t(e)};return n&&document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[n,t]),[r,n]};var y=l(l({},o),a),v=function(t){return{group:null,brush:y[t](),Brush:function(){return null},width:0,height:0,selection:null}},g=function(t,e){return l(l({},t),e)};e.useBrush=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"brush",n=(0,i.useReducer)(g,e,v),r=h(n,2),o=r[0],a=o.group,s=o.brush,u=o.Brush,c=o.width,l=o.height,f=o.selection,p=r[1];if((0,i.useEffect)((function(){var t=function(t){return p({group:t})};p({Brush:i.default.memo((function(){return i.default.createElement("g",{ref:t})}))})}),[]),(0,i.useEffect)((function(){if(t&&a){y.select(a).call(s.on("end",(function(t){return p({selection:a?y.brushSelection(a):null})}),50))}else c&&l&&(p({selection:null}),p({width:0,height:0}));return function(){return s.on("end",null)}}),[t,a,s,c,l]),t){var d=t.getBoundingClientRect();d.width===c&&d.height===l||(p({width:d.width,height:d.height}),s.extent([[0,0],[d.width,d.height]]))}return(0,i.useEffect)((function(){if(t){var e=t.getBoundingClientRect();e.width===c&&e.height===l||(p({width:e.width,height:e.height}),s.extent([[0,0],[e.width,e.height]]))}}),[t,s,c,l]),{Brush:u,selection:f,clearBrush:function(){return s.clear(y.select(a))}}}},function(t,e){t.exports=function(t){return Boolean(t)&&"function"===typeof t}},function(t,e,n){var r=n(538);t.exports=function(t,e,n){return t.$_invalidated||(t.$_invalidated=!0,e.push(t),r(n,t)),t}},function(t,e,n){var r=n(68);t.exports=function(t){return r(t)&&t.$size||0}},function(t,e,n){"use strict";t.exports=function(t){return!("undefined"===typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[t]}},function(t,e,n){"use strict";function r(t){return function(e){return e.matches(t)}}n.d(e,"a",(function(){return r})),e.b=function(t){return function(){return this.matches(t)}}},function(t,e,n){"use strict";var r=n(202),i=n(145);function o(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.b&&e.documentElement.namespaceURI===i.b?e.createElement(t):e.createElementNS(n,t)}}function a(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}e.a=function(t){var e=Object(r.a)(t);return(e.local?a:o)(e)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(240),i=n(4);function o(t,e){return[Object(i.a)(t)>i.o?t+Math.round(-t/i.w)*i.w:t,e]}function a(t,e,n){return(t%=i.w)?e||n?Object(r.a)(u(t),c(e,n)):u(t):e||n?c(e,n):o}function s(t){return function(e,n){return[(e+=t)>i.o?e-i.w:e<-i.o?e+i.w:e,n]}}function u(t){var e=s(t);return e.invert=s(-t),e}function c(t,e){var n=Object(i.g)(t),r=Object(i.t)(t),o=Object(i.g)(e),a=Object(i.t)(e);function s(t,e){var s=Object(i.g)(e),u=Object(i.g)(t)*s,c=Object(i.t)(t)*s,l=Object(i.t)(e),f=l*n+u*r;return[Object(i.e)(c*o-f*a,u*n-l*r),Object(i.c)(f*o+c*a)]}return s.invert=function(t,e){var s=Object(i.g)(e),u=Object(i.g)(t)*s,c=Object(i.t)(t)*s,l=Object(i.t)(e),f=l*o-c*a;return[Object(i.e)(c*o+l*a,u*n+f*r),Object(i.c)(f*n-u*r)]},s}o.invert=o,e.a=function(t){function e(e){return(e=t(e[0]*i.r,e[1]*i.r))[0]*=i.h,e[1]*=i.h,e}return t=a(t[0]*i.r,t[1]*i.r,t.length>2?t[2]*i.r:0),e.invert=function(e){return(e=t.invert(e[0]*i.r,e[1]*i.r))[0]*=i.h,e[1]*=i.h,e},e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(4),i=n(321),o=n(323),a=n(102),s=1e9,u=-s;function c(t,e,n,c){function l(r,i){return t<=r&&r<=n&&e<=i&&i<=c}function f(r,i,o,a){var s=0,u=0;if(null==r||(s=h(r,o))!==(u=h(i,o))||d(r,i)<0^o>0)do{a.point(0===s||3===s?t:n,s>1?c:e)}while((s=(s+o+4)%4)!==u);else a.point(i[0],i[1])}function h(i,o){return Object(r.a)(i[0]-t)<r.i?o>0?0:3:Object(r.a)(i[0]-n)<r.i?o>0?2:1:Object(r.a)(i[1]-e)<r.i?o>0?1:0:o>0?3:2}function p(t,e){return d(t.x,e.x)}function d(t,e){var n=h(t,1),r=h(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var h,d,y,v,g,m,b,_,x,w,E,S=r,k=Object(i.a)(),O={point:C,lineStart:function(){O.point=P,d&&d.push(y=[]);w=!0,x=!1,b=_=NaN},lineEnd:function(){h&&(P(v,g),m&&x&&k.rejoin(),h.push(k.result()));O.point=C,x&&S.lineEnd()},polygonStart:function(){S=k,h=[],d=[],E=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=d.length;n<r;++n)for(var i,o,a=d[n],s=1,u=a.length,l=a[0],f=l[0],h=l[1];s<u;++s)i=f,o=h,f=(l=a[s])[0],h=l[1],o<=c?h>c&&(f-i)*(c-o)>(h-o)*(t-i)&&++e:h<=c&&(f-i)*(c-o)<(h-o)*(t-i)&&--e;return e}(),n=E&&e,i=(h=Object(a.a)(h)).length;(n||i)&&(r.polygonStart(),n&&(r.lineStart(),f(null,null,1,r),r.lineEnd()),i&&Object(o.a)(h,p,e,f,r),r.polygonEnd());S=r,h=d=y=null}};function C(t,e){l(t,e)&&S.point(t,e)}function P(r,i){var o=l(r,i);if(d&&y.push([r,i]),w)v=r,g=i,m=o,w=!1,o&&(S.lineStart(),S.point(r,i));else if(o&&x)S.point(r,i);else{var a=[b=Math.max(u,Math.min(s,b)),_=Math.max(u,Math.min(s,_))],f=[r=Math.max(u,Math.min(s,r)),i=Math.max(u,Math.min(s,i))];!function(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=0,l=1,f=e[0]-s,h=e[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=o-u,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*f,t[1]=u+c*h),l<1&&(e[0]=s+l*f,e[1]=u+l*h),!0}}}}}(a,f,t,e,n,c)?o&&(S.lineStart(),S.point(r,i),E=!1):(x||(S.lineStart(),S.point(a[0],a[1])),S.point(f[0],f[1]),o||S.lineEnd(),E=!1)}b=r,_=i,x=o}return O}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(236);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(38),i=n(10),o=function t(e,n,o){if(i.d.fun(e))return e;if(i.d.arr(e))return t({range:e,output:n,extrapolate:o});if(i.d.str(e.output[0]))return r.createStringInterpolator(e);var a=e,s=a.output,u=a.range||[0,1],c=a.extrapolateLeft||a.extrapolate||"extend",l=a.extrapolateRight||a.extrapolate||"extend",f=a.easing||function(t){return t};return function(t){var e=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(t,u);return function(t,e,n,r,i,o,a,s,u){var c=u?u(t):t;if(c<e){if("identity"===a)return c;"clamp"===a&&(c=e)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===i)return r;if(e===n)return t<=e?r:i;e===-1/0?c=-c:n===1/0?c-=e:c=(c-e)/(n-e);c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(t,u[e],u[e+1],s[e],s[e+1],f,c,l,a.map)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){(function(e){var n="Expected a function",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),f=Object.prototype.toString,h=Math.max,p=Math.min,d=function(){return l.Date.now()};function y(t,e,r){var i,o,a,s,u,c,l=0,f=!1,y=!1,m=!0;if("function"!=typeof t)throw new TypeError(n);function b(e){var n=i,r=o;return i=o=void 0,l=e,s=t.apply(r,n)}function _(t){return l=t,u=setTimeout(w,e),f?b(t):s}function x(t){var n=t-c;return void 0===c||n>=e||n<0||y&&t-l>=a}function w(){var t=d();if(x(t))return E(t);u=setTimeout(w,function(t){var n=e-(t-c);return y?p(n,a-(t-l)):n}(t))}function E(t){return u=void 0,m&&i?b(t):(i=o=void 0,s)}function S(){var t=d(),n=x(t);if(i=arguments,o=this,c=t,n){if(void 0===u)return _(c);if(y)return u=setTimeout(w,e),b(c)}return void 0===u&&(u=setTimeout(w,e)),s}return e=g(e)||0,v(r)&&(f=!!r.leading,a=(y="maxWait"in r)?h(g(r.maxWait)||0,e):a,m="trailing"in r?!!r.trailing:m),S.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=c=o=u=void 0},S.flush=function(){return void 0===u?s:E(d())},S}function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==f.call(t)}(t))return NaN;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=o.test(t);return n||a.test(t)?s(t.slice(2),n?2:8):i.test(t)?NaN:+t}t.exports=function(t,e,r){var i=!0,o=!0;if("function"!=typeof t)throw new TypeError(n);return v(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),y(t,e,{leading:i,maxWait:e,trailing:o})}}).call(this,n(53))},function(t,e,n){"use strict";var r=n(688),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(e),y=u(n),v=0;v<a.length;++v){var g=a[v];if(!o[g]&&(!r||!r[g])&&(!y||!y[g])&&(!s||!s[g])){var m=h(n,g);try{c(e,g,m)}catch(b){}}}}return e}},function(t,e,n){"use strict";n.r(e),function(t,r){var i,o=n(630);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:r;var a=Object(o.a)(i);e.default=a}.call(this,n(53),n(692)(t))},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i(t){this._context=t}n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i})),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.b=function(t){return new i(t)}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return a}));var r=n(1),i=function(t){return Object(r.useEffect)(t,[])},o=function(){var t=Object(r.useState)(0)[1],e=Object(r.useRef)(!1);return i((function(){return function(){e.current=!0}})),function(){e.current||t({})}};function a(t){var e=Object(r.useRef)(void 0);return Object(r.useEffect)((function(){e.current=t})),e.current}},function(t,e,n){var r=n(494);t.exports=function(t,e,n){return null==t?t:r(t,e,n)}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r=n(727),i=n(732);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.LinkButton=e.Button=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i},a=n(46),s=n(61),u=n(134),c=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(14));function l(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function y(){var t=g(["\n  position: absolute;\n  white-space: nowrap;\n  animation: "," 5s linear;\n"]);return y=function(){return t},t}function v(){var t=g(["\n  from {\n    transform: translateX(0%);\n    left: 100%;\n  }\n  to {\n    transform: translateX(-100%);\n    left: 0%;\n  }\n"]);return v=function(){return t},t}function g(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var m=(0,c.keyframes)(v()),b=c.default.div(y(),m),_=function(t){var e=t.onClick,n=t.children,r=t.confirmMessage,i=t.type,a=d(t,["onClick","children","confirmMessage","type"]),s=h(o.default.useState(!1),2),u=s[0],c=s[1],l=o.default.useRef(null),p=o.default.useCallback((function(t){t.preventDefault(),c(!0),l.current=setTimeout(c,5e3,!1)}),[l]),y=o.default.useCallback((function(t){c(!1),e&&e(t)}),[e]);return o.default.useEffect((function(){return function(){return clearTimeout(l.current)}}),[l]),o.default.createElement("button",f({onClick:u?"submit"===i?null:y:p},a,{type:u?i:"button"}),o.default.createElement("div",{className:"relative"},u?o.default.createElement("div",{className:"absolute top-0 left-0 right-0 bottom-0 flex items-center overflow-hidden"},o.default.createElement(b,null,r)):null,o.default.createElement("div",{style:{color:u?"transparent":null}},n)))};e.Button=function(t){var e=t.buttonTheme,n=void 0===e?"button":e,r=t.className,i=void 0===r?"":r,a=t.type,c=void 0===a?"button":a,l=t.children,h=t.large,p=t.small,y=t.block,v=t.active,g=t.showConfirm,m=t.confirmMessage,b=void 0===m?"click to confirm":m,x=d(t,["buttonTheme","className","type","children","large","small","block","active","showConfirm","confirmMessage"]),w=(0,s.useTheme)();return n="".concat(n).concat((0,u.composeOptions)({large:h,small:p,block:y,active:v})),g?o.default.createElement(_,f({type:c},x,{confirmMessage:b,className:"".concat(w[n]||w.button," ").concat(i)}),l):o.default.createElement("button",f({type:c},x,{className:"".concat(w[n]||w.button," ").concat(i)}),l)};e.LinkButton=function(t){var e=t.buttonTheme,n=void 0===e?"button":e,r=t.className,i=void 0===r?"":r,c=(t.type,t.children),l=t.disabled,h=t.large,p=t.small,y=t.block,v=t.active,g=d(t,["buttonTheme","className","type","children","disabled","large","small","block","active"]),m=(0,s.useTheme)();return n="".concat(n).concat((0,u.composeOptions)({large:h,small:p,block:y,disabled:l,active:v})),o.default.createElement(a.Link,f({},g,{onClick:function(t){return t.stopPropagation()},className:" ".concat(m[n]||m.button," ").concat(i)}),c)}},function(t,e){t.exports=function(t){return null==t||"object"!==typeof t}},function(t,e,n){t.exports={iterateKeySet:n(224),toTree:n(539),pathsComplementFromTree:n(945),pathsComplementFromLengthTree:n(946),toJsonKey:n(377).toJsonKey,isJsonKey:n(377).isJsonKey,maybeJsonKey:n(377).maybeJsonKey,hasIntersection:n(376),toPaths:n(540),isIntegerKey:n(274).isIntegerKey,maybeIntegerKey:n(274).maybeIntegerKey,collapse:n(947),followReference:n(541),optimizePathSets:n(949),pathCount:n(952),escape:n(953),unescape:n(954),materialize:n(955)}},function(t,e,n){var r=n(373),i=n(374),o=n(375);t.exports=function(t){var e=t.$expires;return null!=e&&e!==o&&(e===i||e<r())}},function(t,e,n){var r=n(277),i=n(383);t.exports=function(t,e,n){var o,a,s,u,c,l=e,f=e;for(o=t._boxed,n=t._materialized,a=t._treatErrorsAsValues,t._boxed=!0,t._materialized=void 0===n||n,t._treatErrorsAsValues=!0,s=r(t,l.concat(null),!0),t._boxed=o,t._materialized=n,t._treatErrorsAsValues=a,l=s.optimizedPath,u=s.shorted,c=s.found,s=s.value;l.length&&null===l[l.length-1];)l.pop();if(c&&u)throw new i(f,l);return{path:l,value:s,shorted:u,found:c}}},function(t,e,n){var r=n(375);t.exports=function(t,e){if(e.$expires!==r){var n=t.$_head;if(n){if(n!==e){var i=e.$_prev,o=e.$_next;o&&(o.$_prev=i),i&&(i.$_next=o),e.$_prev=void 0,t.$_head=e,e.$_next=n,n.$_prev=e,e===t.$_tail&&(t.$_tail=i)}}else t.$_head=t.$_tail=e}}},function(t,e,n){"use strict";var r=n(89),i=n(229),o=n(44),a=o.List,s=o.Map,u=o.OrderedSet,c=o.Record,l=o.Repeat,f=u(),h=c({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:s()}),p=function(t){var e,n;function o(e){return t.call(this,function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=a(l(r.EMPTY,n.length))),t}(e))||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=o.prototype;return s.getKey=function(){return this.get("key")},s.getType=function(){return this.get("type")},s.getText=function(){return this.get("text")},s.getCharacterList=function(){return this.get("characterList")},s.getLength=function(){return this.getText().length},s.getDepth=function(){return this.get("depth")},s.getData=function(){return this.get("data")},s.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():f},s.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},s.findStyleRanges=function(t,e){i(this.getCharacterList(),d,t,e)},s.findEntityRanges=function(t,e){i(this.getCharacterList(),y,t,e)},o}(h);function d(t,e){return t.getStyle()===e.getStyle()}function y(t,e){return t.getEntity()===e.getEntity()}t.exports=p},function(t,e,n){"use strict";function r(t){return t.replace(/\//g,"-")}t.exports=function(t){return"object"==typeof t?Object.keys(t).filter((function(e){return t[e]})).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.ownerDocument)&&t.nodeType===Node.ELEMENT_NODE}},function(t,e,n){"use strict";var r=n(45),i=/[\uD800-\uDFFF]/;function o(t){return 55296<=t&&t<=57343}function a(t){return i.test(t)}function s(t,e){return 1+o(t.charCodeAt(e))}function u(t,e,n){if(e=e||0,n=void 0===n?1/0:n||0,!a(t))return t.substr(e,n);var r=t.length;if(r<=0||e>r||n<=0)return"";var i=0;if(e>0){for(;e>0&&i<r;e--)i+=s(t,i);if(i>=r)return""}else if(e<0){for(i=r;e<0&&0<i;e++)i-=s(t,i-1);i<0&&(i=0)}var o=r;if(n<r)for(o=i;n>0&&o<r;n--)o+=s(t,o);return t.substring(i,o)}var c={getCodePoints:function(t){for(var e=[],n=0;n<t.length;n+=s(t,n))e.push(t.codePointAt(n));return e},getUTF16Length:s,hasSurrogateUnit:a,isCodeUnitInSurrogateRange:o,isSurrogatePair:function(t,e){if(0<=e&&e<t.length||r(!1),e+1===t.length)return!1;var n=t.charCodeAt(e),i=t.charCodeAt(e+1);return 55296<=n&&n<=56319&&56320<=i&&i<=57343},strlen:function(t){if(!a(t))return t.length;for(var e=0,n=0;n<t.length;n+=s(t,n))e++;return e},substring:function(t,e,n){(e=e||0)<0&&(e=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-e);return u(t,e=e<n?e:n,r)},substr:u};t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postJson=e.Config=void 0;var r=function(){var t=null;return function e(n){return arguments.length?(t=n,Object.keys(n).forEach((function(t){return e[t]=n[t]})),e):t}}();e.Config=r;e.postJson=function(t,e){return fetch(t,{method:"POST",headers:{Accept:"application/json, text/plain","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()}))}},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return f}));var r=n(67),i=n(50),o=n(40);function a(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function s(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function u(t){return t<0?-t*t:t*t}function c(t){var e=t(i.c,i.c),n=1;function o(){return 1===n?t(i.c,i.c):.5===n?t(s,u):t(a(n),a(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,o()):n},Object(r.b)(e)}function l(){var t=c(Object(i.d)());return t.copy=function(){return Object(i.a)(t,l()).exponent(t.exponent())},o.b.apply(t,arguments),t}function f(){return l.apply(null,arguments).exponent(.5)}},function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n(4),i=n(141),o=n(59);function a(t,e){return[t,Object(r.n)(Object(r.v)((r.l+e)/2))]}function s(t){var e,n,s,u=Object(o.a)(t),c=u.center,l=u.scale,f=u.translate,h=u.clipExtent,p=null;function d(){var o=r.o*l(),c=u(Object(i.a)(u.rotate()).invert([0,0]));return h(null==p?[[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]]:t===a?[[Math.max(c[0]-o,p),e],[Math.min(c[0]+o,n),s]]:[[p,Math.max(c[1]-o,e)],[n,Math.min(c[1]+o,s)]])}return u.scale=function(t){return arguments.length?(l(t),d()):l()},u.translate=function(t){return arguments.length?(f(t),d()):f()},u.center=function(t){return arguments.length?(c(t),d()):c()},u.clipExtent=function(t){return arguments.length?(null==t?p=e=n=s=null:(p=+t[0][0],e=+t[0][1],n=+t[1][0],s=+t[1][1]),d()):null==p?null:[[p,e],[n,s]]},d()}a.invert=function(t,e){return[t,2*Object(r.d)(Object(r.k)(e))-r.l]},e.a=function(){return s(a).scale(961/r.w)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(t){if(!(e=r.exec(t)))throw new Error("invalid format: "+t);var e;return new o({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function o(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}i.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s}));var r,i,o,a=n(304);function s(t){return r=Object(a.a)(t),i=r.format,o=r.formatPrefix,r}s({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},function(t,e,n){"use strict";function r(t){return+t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";e.a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function i(t,e){this._context=t,this._k=(1-e)/6}n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i})),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:r(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new i(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";e.a=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}},function(t,e,n){"use strict";e.a=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}},function(t,e,n){var r=n(1014),i=n(560),o=n(561),a=n(1015),s=n(280),u=n(563),c=n(1018),l=n(1019),f=n(1022),h=n(1024),p=n(1025),d=n(1027),y=n(1028),v=n(1029),g=n(1030);t.exports=function(){"use strict";var t,e,n;function m(r,i){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),n=i(a),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else e=i;else t=i}return m(["exports"],(function(t){var e=n;function n(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var r=m;function m(t,e){this.x=t,this.y=e}m.prototype={clone:function(){return new m(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-r*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},m.convert=function(t){return t instanceof m?t:Array.isArray(t)?new m(t[0],t[1]):t};var b="undefined"!=typeof self?self:{};function _(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!_(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!_(t[r],e[r]))return!1;return!0}return t===e}var x=Math.pow(2,53)-1,w=Math.PI/180,E=180/Math.PI;function S(t){return t*w}function k(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function O(t,n,r,i){var o=new e(t,n,r,i);return function(t){return o.solve(t)}}var C=O(.25,.1,.25,1);function P(t,e,n){return Math.min(n,Math.max(e,t))}function T(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function M(t){var e=[];for(var n in t)e.push(t[n]);return e}function A(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)t[s]=a[s]}return t}var I=1;function j(){return I++}function R(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function D(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function N(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function L(t,e){return-1!==t.indexOf(e,t.length-e.length)}function z(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function F(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function B(t){return Array.isArray(t)?t.map(B):"object"==typeof t&&t?z(t,B):t}var U={};function q(t){U[t]||("undefined"!=typeof console&&console.warn(t),U[t]=!0)}function V(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function G(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],r+=((n=t[a]).x-e.x)*(e.y+n.y);return r}function W(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function H(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}var K,X,Y=null;function Z(t){if(null==Y){var e=t.navigator?t.navigator.userAgent:null;Y=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return Y}function $(t){try{var e=b[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var J,Q,tt,et,nt=!1,rt={now:function(){return void 0!==J?J:b.performance.now()},setErrorState:function(){nt=!0},setNow:function(t){J=t},restoreNow:function(){J=void 0},frame:function(t){if(nt)return{cancel:function(){}};var e=b.requestAnimationFrame(t);return{cancel:function(){return b.cancelAnimationFrame(e)}}},getImageData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=b.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,r.drawImage(t,0,0,t.width,t.height),r.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return K||(K=b.document.createElement("a")),K.href=t,K.href},get devicePixelRatio(){return b.devicePixelRatio},get prefersReducedMotion(){return!!b.matchMedia&&(null==X&&(X=b.matchMedia("(prefers-reduced-motion: reduce)")),X.matches)}},it={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==Q){var t=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Q=null!=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL_REGEX?new RegExp(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL_REGEX):t}catch(e){Q=t}}return Q},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ot={supported:!1,testSupport:function(t){!at&&et&&(st?ut(t):tt=t)}},at=!1,st=!1;function ut(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,et),t.isContextLost())return;ot.supported=!0}catch(t){}t.deleteTexture(e),at=!0}b.document&&((et=b.document.createElement("img")).onload=function(){tt&&ut(tt),tt=null,st=!0},et.onerror=function(){at=!0,tt=null},et.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var ct="01";function lt(t){return 0===t.indexOf("mapbox:")}function ft(t){return it.API_URL_REGEX.test(t)}var ht=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function pt(t){var e=t.match(ht);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function dt(t){var e=t.params.length?"?".concat(t.params.join("&")):"";return"".concat(t.protocol,"://").concat(t.authority).concat(t.path).concat(e)}function yt(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(b.atob(e[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return null}}var vt,gt,mt=function(){function t(e){v(this,t),this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}return g(t,[{key:"getStorageKey",value:function(t){var e=yt(it.ACCESS_TOKEN),n="";return n=e&&e.u?b.btoa(encodeURIComponent(e.u).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))}))):it.ACCESS_TOKEN||"",t?"mapbox.eventData.".concat(t,":").concat(n):"mapbox.eventData:".concat(n)}},{key:"fetchEventData",value:function(){var t=$("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var r=b.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var i=b.localStorage.getItem(n);i&&(this.anonId=i)}catch(t){q("Unable to read from LocalStorage")}}},{key:"saveEventData",value:function(){var t=$("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{b.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&b.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){q("Unable to write to LocalStorage")}}},{key:"processRequests",value:function(t){}},{key:"postEvent",value:function(t,e,n,r){var i=this;if(it.EVENTS_URL){var o=pt(it.EVENTS_URL);o.params.push("access_token=".concat(r||it.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"2.0.1",skuId:ct,userId:this.anonId},s=e?A(a,e):a,u={url:dt(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=Lt(u,(function(t){i.pendingRequest=null,n(t),i.saveEventData(),i.processRequests(r)}))}}},{key:"queueRequest",value:function(t,e){this.queue.push(t),this.processRequests(e)}}]),t}(),bt=new(function(t){d(n,t);var e=y(n);function n(t){var r;return v(this,n),(r=e.call(this,"appUserTurnstile"))._customAccessToken=t,r}return g(n,[{key:"postTurnstileEvent",value:function(t,e){it.EVENTS_URL&&it.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return lt(t)||ft(t)}))&&this.queueRequest(Date.now(),e)}},{key:"processRequests",value:function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=yt(it.ACCESS_TOKEN),r=n?n.u:it.ACCESS_TOKEN,i=r!==this.eventData.tokenU;D(this.anonId)||(this.anonId=R(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),u=(o-this.eventData.lastSuccess)/864e5;i=i||u>=1||u<-1||a.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=r)}),t)}}}]),n}(mt)),_t=bt.postTurnstileEvent.bind(bt),xt=new(function(t){d(n,t);var e=y(n);function n(){var t;return v(this,n),(t=e.call(this,"map.load")).success={},t.skuToken="",t}return g(n,[{key:"postMapLoadEvent",value:function(t,e,n,r){this.skuToken=e,this.errorCb=r,it.EVENTS_URL&&(n||it.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},n):this.errorCb(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}},{key:"processRequests",value:function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),D(this.anonId)||(this.anonId=R()),this.postEvent(i,{skuToken:this.skuToken},(function(t){t?e.errorCb(t):r&&(e.success[r]=!0)}),t))}}}]),n}(mt)),wt=xt.postMapLoadEvent.bind(xt),Et=new(function(t){d(n,t);var e=y(n);function n(){var t;return v(this,n),(t=e.call(this,"map.auth")).success={},t.skuToken="",t}return g(n,[{key:"getSession",value:function(t,e,n,r){var i=this;if(it.API_URL&&it.SESSION_PATH){var o=pt(it.API_URL+it.SESSION_PATH);o.params.push("sku=".concat(e||"")),o.params.push("access_token=".concat(r||it.ACCESS_TOKEN||""));var a={url:dt(o),headers:{"Content-Type":"text/plain"}};this.pendingRequest=zt(a,(function(t){i.pendingRequest=null,n(t),i.saveEventData(),i.processRequests(r)}))}}},{key:"getSessionAPI",value:function(t,e,n,r){this.skuToken=e,this.errorCb=r,it.SESSION_PATH&&it.API_URL&&(n||it.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},n):this.errorCb(new Error("NO_ACCESS_TOKEN")))}},{key:"processRequests",value:function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||this.getSession(i,this.skuToken,(function(t){t?e.errorCb(t):r&&(e.success[r]=!0)}),t)}}}]),n}(mt)),St=Et.getSessionAPI.bind(Et),kt=500,Ot=50;function Ct(){b.caches&&!vt&&(vt=b.caches.open("mapbox-tiles"))}function Pt(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var Tt,Mt=1/0;function At(){return null==Tt&&(Tt=b.OffscreenCanvas&&new b.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof b.createImageBitmap),Tt}var It={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(It);var jt=function(t){d(n,t);var e=y(n);function n(t,r,i){var o;return v(this,n),401===r&&ft(i)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),(o=e.call(this,t)).status=r,o.url=i,o}return g(n,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),n}(p(Error)),Rt=W()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===b.location.protocol?b.parent:b).location.href},Dt=function(t,e){if(!(/^file:/.test(n=t.url)||/^file:/.test(Rt())&&!/^\w+:/.test(n))){if(b.fetch&&b.Request&&b.AbortController&&b.Request.prototype.hasOwnProperty("signal"))return function(t,e){var n,r=new b.AbortController,i=new b.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:Rt(),signal:r.signal}),o=!1,a=!1,s=(n=i.url).indexOf("sku=")>0&&ft(n);"json"===t.type&&i.headers.set("Accept","application/json");var u=function(n,r,o){if(!a){if(n&&"SecurityError"!==n.message&&q(n),r&&o)return c(r);var u=Date.now();b.fetch(i).then((function(n){if(n.ok){var r=s?n.clone():null;return c(n,r,u)}return e(new jt(n.statusText,n.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}},c=function(n,r,s){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then((function(t){a||(r&&s&&function(t,e,n){if(Ct(),vt){var r={status:e.status,statusText:e.statusText,headers:new b.Headers};e.headers.forEach((function(t,e){return r.headers.set(e,t)}));var i=H(e.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(t,e){if(void 0===gt)try{new Response(new ReadableStream),gt=!0}catch(t){gt=!1}gt?e(t.body):t.blob().then(e)}(e,(function(e){var n=new b.Response(e,r);Ct(),vt&&vt.then((function(e){return e.put(Pt(t.url),n)})).catch((function(t){return q(t.message)}))})))}}(i,r,s),o=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(t){a||e(new Error(t.message))}))};return s?function(t,e){if(Ct(),!vt)return e(null);var n=Pt(t.url);vt.then((function(t){t.match(n).then((function(r){var i=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),n=H(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(r);t.delete(n),i&&t.put(n,r.clone()),e(null,r,i)})).catch(e)})).catch(e)}(i,u):u(null,null),{cancel:function(){a=!0,o||r.abort()}}}(t,e);if(W()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){var n=new b.XMLHttpRequest;for(var r in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(r,t.headers[r]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===t.type)try{r=JSON.parse(n.response)}catch(t){return e(t)}e(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new jt(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)},Nt=function(t,e){return Dt(A(t,{type:"arrayBuffer"}),e)},Lt=function(t,e){return Dt(A(t,{method:"POST"}),e)},zt=function(t,e){return Dt(A(t,{method:"GET"}),e)};function Ft(t){var e=b.document.createElement("a");return e.href=t,e.protocol===b.document.location.protocol&&e.host===b.document.location.host}var Bt,Ut,qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Bt=[],Ut=0;var Vt=function t(e,n){if(ot.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),Ut>=it.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:e,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return Bt.push(r),r}Ut++;var i=!1,o=function(){if(!i)for(i=!0,Ut--;Bt.length&&Ut<it.MAX_PARALLEL_IMAGE_REQUESTS;){var e=Bt.shift(),n=e.requestParameters,r=e.callback;e.cancelled||(e.cancel=t(n,r).cancel)}},a=Nt(e,(function(t,e,r,i){o(),t?n(t):e&&(At()?function(t,e){var n=new b.Blob([new Uint8Array(t)],{type:"image/png"});b.createImageBitmap(n).then((function(t){e(null,t)})).catch((function(t){e(new Error("Could not load image because of ".concat(t.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))}))}(e,n):function(t,e,n,r){var i=new b.Image,o=b.URL;i.onload=function(){e(null,i),o.revokeObjectURL(i.src),i.onload=null,b.requestAnimationFrame((function(){i.src=qt}))},i.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var a=new b.Blob([new Uint8Array(t)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=t.byteLength?o.createObjectURL(a):qt}(e,n,r,i))}));return{cancel:function(){a.cancel(),o()}}};function Gt(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function Wt(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var Ht=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(this,t),A(this,n),this.type=e},Kt=function(t){d(n,t);var e=y(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v(this,n),e.call(this,"error",A({error:t},r))}return n}(Ht),Xt=function(){function t(){v(this,t)}return g(t,[{key:"on",value:function(t,e){return this._listeners=this._listeners||{},Gt(t,e,this._listeners),this}},{key:"off",value:function(t,e){return Wt(t,e,this._listeners),Wt(t,e,this._oneTimeListeners),this}},{key:"once",value:function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},Gt(t,e,this._oneTimeListeners),this}},{key:"fire",value:function(t,e){"string"==typeof t&&(t=new Ht(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;var r,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[],o=h(i);try{for(o.s();!(r=o.n()).done;)r.value.call(this,t)}catch(f){o.e(f)}finally{o.f()}var a,s=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[],u=h(s);try{for(u.s();!(a=u.n()).done;){var c=a.value;Wt(n,c,this._oneTimeListeners),c.call(this,t)}}catch(f){u.e(f)}finally{u.f()}var l=this._eventedParent;l&&(A(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(t))}else t instanceof Kt&&console.error(t.error);return this}},{key:"listens",value:function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}},{key:"setEventedParent",value:function(t,e){return this._eventedParent=t,this._eventedParentData=e,this}}]),t}(),Yt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Zt=function t(e,n,r,i){v(this,t),this.message=(e?"".concat(e,": "):"")+r,i&&(this.identifier=i),null!=n&&n.__line__&&(this.line=n.__line__)};function $t(t){var e=t.value;return e?[new Zt(t.key,e,"constants have been deprecated as of v8")]:[]}function Jt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)t[s]=a[s]}return t}function Qt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function te(t){if(Array.isArray(t))return t.map(te);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=te(t[n]);return e}return Qt(t)}var ee=function(t){d(n,t);var e=y(n);function n(t,r){var i;return v(this,n),(i=e.call(this,r)).message=r,i.key=t,i}return n}(p(Error)),ne=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];v(this,t),this.parent=e,this.bindings={};var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var o=f(r.value,2),a=o[0],s=o[1];this.bindings[a]=s}}catch(u){i.e(u)}finally{i.f()}}return g(t,[{key:"concat",value:function(e){return new t(this,e)}},{key:"get",value:function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error("".concat(t," not found in scope."))}},{key:"has",value:function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}]),t}(),re={kind:"null"},ie={kind:"number"},oe={kind:"string"},ae={kind:"boolean"},se={kind:"color"},ue={kind:"object"},ce={kind:"value"},le={kind:"collator"},fe={kind:"formatted"},he={kind:"resolvedImage"};function pe(t,e){return{kind:"array",itemType:t,N:e}}function de(t){if("array"===t.kind){var e=de(t.itemType);return"number"==typeof t.N?"array<".concat(e,", ").concat(t.N,">"):"value"===t.itemType.kind?"array":"array<".concat(e,">")}return t.kind}var ye=[re,ie,oe,ae,se,fe,ue,pe(ce),he];function ve(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!ve(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind){var n,r=h(ye);try{for(r.s();!(n=r.n()).done;)if(!ve(n.value,e))return null}catch(i){r.e(i)}finally{r.f()}}}return"Expected ".concat(de(t)," but found ").concat(de(e)," instead.")}function ge(t,e){return e.some((function(e){return e.kind===t.kind}))}function me(t,e){return e.some((function(e){return"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t}))}function be(t,e){return t(e={exports:{}},e.exports),e.exports}var _e=be((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=s.indexOf("("),c=s.indexOf(")");if(-1!==u&&c+1===s.length){var l=s.substr(0,u),f=s.substr(u+1,c-(u+1)).split(","),h=1;switch(l){case"rgba":if(4!==f.length)return null;h=o(f.pop());case"rgb":return 3!==f.length?null:[i(f[0]),i(f[1]),i(f[2]),h];case"hsla":if(4!==f.length)return null;h=o(f.pop());case"hsl":if(3!==f.length)return null;var p=(parseFloat(f[0])%360+360)%360/360,d=o(f[1]),y=o(f[2]),v=y<=.5?y*(d+1):y+d-y*d,g=2*y-v;return[r(255*a(g,v,p+1/3)),r(255*a(g,v,p)),r(255*a(g,v,p-1/3)),h];default:return null}}return null}}catch(t){}})).parseCSSColor,xe=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;v(this,t),this.r=e,this.g=n,this.b=r,this.a=i}return g(t,[{key:"toString",value:function(){var t=this.toArray(),e=f(t,4),n=e[0],r=e[1],i=e[2],o=e[3];return"rgba(".concat(Math.round(n),",").concat(Math.round(r),",").concat(Math.round(i),",").concat(o,")")}},{key:"toArray",value:function(){var t=this.r,e=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*t/r,255*e/r,255*n/r,r]}}],[{key:"parse",value:function(e){if(e){if(e instanceof t)return e;if("string"==typeof e){var n=_e(e);return n?new t(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3]):void 0}}}}]),t}();xe.black=new xe(0,0,0,1),xe.white=new xe(1,1,1,1),xe.transparent=new xe(0,0,0,0),xe.red=new xe(1,0,0,1),xe.blue=new xe(0,0,1,1);var we=function(){function t(e,n,r){v(this,t),this.sensitivity=e?n?"variant":"case":n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}return g(t,[{key:"compare",value:function(t,e){return this.collator.compare(t,e)}},{key:"resolvedLocale",value:function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}]),t}(),Ee=function t(e,n,r,i,o){v(this,t),this.text=e,this.image=n,this.scale=r,this.fontStack=i,this.textColor=o},Se=function(){function t(e){v(this,t),this.sections=e}return g(t,[{key:"isEmpty",value:function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length}))}},{key:"toString",value:function(){return 0===this.sections.length?"":this.sections.map((function(t){return t.text})).join("")}},{key:"serialize",value:function(){var t,e=["format"],n=h(this.sections);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.image)e.push(["image",r.image.name]);else{e.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),e.push(i)}}}catch(o){n.e(o)}finally{n.f()}return e}}],[{key:"fromString",value:function(e){return new t([new Ee(e,null,null,null,null)])}},{key:"factory",value:function(e){return e instanceof t?e:t.fromString(e)}}]),t}(),ke=function(){function t(e){v(this,t),this.name=e.name,this.available=e.available}return g(t,[{key:"toString",value:function(){return this.name}},{key:"serialize",value:function(){return["image",this.name]}}],[{key:"fromString",value:function(e){return e?new t({name:e,available:!1}):null}}]),t}();function Oe(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value [".concat([t,e,n,r].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function Ce(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof xe)return!0;if(t instanceof we)return!0;if(t instanceof Se)return!0;if(t instanceof ke)return!0;if(Array.isArray(t)){var e,n=h(t);try{for(n.s();!(e=n.n()).done;)if(!Ce(e.value))return!1}catch(i){n.e(i)}finally{n.f()}return!0}if("object"==typeof t){for(var r in t)if(!Ce(t[r]))return!1;return!0}return!1}function Pe(t){if(null===t)return re;if("string"==typeof t)return oe;if("boolean"==typeof t)return ae;if("number"==typeof t)return ie;if(t instanceof xe)return se;if(t instanceof we)return le;if(t instanceof Se)return fe;if(t instanceof ke)return he;if(Array.isArray(t)){var e,n,r=t.length,i=h(t);try{for(i.s();!(n=i.n()).done;){var o=Pe(n.value);if(e){if(e===o)continue;e=ce;break}e=o}}catch(a){i.e(a)}finally{i.f()}return pe(e||ce,r)}return ue}function Te(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof xe||t instanceof Se||t instanceof ke?t.toString():JSON.stringify(t)}var Me=function(){function t(e,n){v(this,t),this.type=e,this.value=n}return g(t,[{key:"evaluate",value:function(){return this.value}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof xe?["rgba"].concat(this.value.toArray()):this.value instanceof Se?this.value.serialize():this.value}}],[{key:"parse",value:function(e,n){if(2!==e.length)return n.error("'literal' expression requires exactly one argument, but found ".concat(e.length-1," instead."));if(!Ce(e[1]))return n.error("invalid value");var r=e[1],i=Pe(r),o=n.expectedType;return"array"!==i.kind||0!==i.N||!o||"array"!==o.kind||"number"==typeof o.N&&0!==o.N||(i=o),new t(i,r)}}]),t}(),Ae=function(){function t(e){v(this,t),this.name="ExpressionEvaluationError",this.message=e}return g(t,[{key:"toJSON",value:function(){return this.message}}]),t}(),Ie={string:oe,number:ie,boolean:ae,object:ue},je=function(){function t(e,n){v(this,t),this.type=e,this.args=n}return g(t,[{key:"evaluate",value:function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!ve(this.type,Pe(n)))return n;if(e===this.args.length-1)throw new Ae("Expected value to be of type ".concat(de(this.type),", but found ").concat(de(Pe(n))," instead."))}return null}},{key:"eachChild",value:function(t){this.args.forEach(t)}},{key:"outputDefined",value:function(){return this.args.every((function(t){return t.outputDefined()}))}},{key:"serialize",value:function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))}}],[{key:"parse",value:function(e,n){if(e.length<2)return n.error("Expected at least one argument.");var r,i=1,o=e[0];if("array"===o){var a,s;if(e.length>2){var u=e[1];if("string"!=typeof u||!(u in Ie)||"object"===u)return n.error('The item type argument of "array" must be one of string, number, boolean',1);a=Ie[u],i++}else a=ce;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return n.error('The length argument to "array" must be a positive integer literal',2);s=e[2],i++}r=pe(a,s)}else r=Ie[o];for(var c=[];i<e.length;i++){var l=n.parse(e[i],i,ce);if(!l)return null;c.push(l)}return new t(r,c)}}]),t}(),Re=function(){function t(e){v(this,t),this.type=fe,this.sections=e}return g(t,[{key:"evaluate",value:function(t){return new Se(this.sections.map((function(e){var n=e.content.evaluate(t);return Pe(n)===he?new Ee("",n,null,null,null):new Ee(Te(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))}},{key:"eachChild",value:function(t){var e,n=h(this.sections);try{for(n.s();!(e=n.n()).done;){var r=e.value;t(r.content),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor)}}catch(i){n.e(i)}finally{n.f()}}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var t,e=["format"],n=h(this.sections);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),e.push(i)}}catch(o){n.e(o)}finally{n.f()}return e}}],[{key:"parse",value:function(e,n){if(e.length<2)return n.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return n.error("First argument must be an image or text section.");for(var i=[],o=!1,a=1;a<=e.length-1;++a){var s=e[a];if(o&&"object"==typeof s&&!Array.isArray(s)){o=!1;var u=null;if(s["font-scale"]&&!(u=n.parse(s["font-scale"],1,ie)))return null;var c=null;if(s["text-font"]&&!(c=n.parse(s["text-font"],1,pe(oe))))return null;var l=null;if(s["text-color"]&&!(l=n.parse(s["text-color"],1,se)))return null;var f=i[i.length-1];f.scale=u,f.font=c,f.textColor=l}else{var h=n.parse(e[a],1,ce);if(!h)return null;var p=h.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new t(i)}}]),t}(),De=function(){function t(e){v(this,t),this.type=he,this.input=e}return g(t,[{key:"evaluate",value:function(t){var e=this.input.evaluate(t),n=ke.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n}},{key:"eachChild",value:function(t){t(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["image",this.input.serialize()]}}],[{key:"parse",value:function(e,n){if(2!==e.length)return n.error("Expected two arguments.");var r=n.parse(e[1],1,oe);return r?new t(r):n.error("No image name provided.")}}]),t}(),Ne={"to-boolean":ae,"to-color":se,"to-number":ie,"to-string":oe},Le=function(){function t(e,n){v(this,t),this.type=e,this.args=n}return g(t,[{key:"evaluate",value:function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){var e,n,r,i=h(this.args);try{for(i.s();!(r=i.n()).done;){if(e=r.value.evaluate(t),n=null,e instanceof xe)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value ".concat(JSON.stringify(e),": expected an array containing either three or four numeric values."):Oe(e[0],e[1],e[2],e[3])))return new xe(e[0]/255,e[1]/255,e[2]/255,e[3])}}catch(l){i.e(l)}finally{i.f()}throw new Ae(n||"Could not parse color from value '".concat("string"==typeof e?e:String(JSON.stringify(e)),"'"))}if("number"===this.type.kind){var a,s=null,u=h(this.args);try{for(u.s();!(a=u.n()).done;){if(null===(s=a.value.evaluate(t)))return 0;var c=Number(s);if(!isNaN(c))return c}}catch(l){u.e(l)}finally{u.f()}throw new Ae("Could not convert ".concat(JSON.stringify(s)," to number."))}return"formatted"===this.type.kind?Se.fromString(Te(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?ke.fromString(Te(this.args[0].evaluate(t))):Te(this.args[0].evaluate(t))}},{key:"eachChild",value:function(t){this.args.forEach(t)}},{key:"outputDefined",value:function(){return this.args.every((function(t){return t.outputDefined()}))}},{key:"serialize",value:function(){if("formatted"===this.type.kind)return new Re([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new De(this.args[0]).serialize();var t=["to-".concat(this.type.kind)];return this.eachChild((function(e){t.push(e.serialize())})),t}}],[{key:"parse",value:function(e,n){if(e.length<2)return n.error("Expected at least one argument.");var r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return n.error("Expected one argument.");for(var i=Ne[r],o=[],a=1;a<e.length;a++){var s=n.parse(e[a],a,ce);if(!s)return null;o.push(s)}return new t(i,o)}}]),t}(),ze=["Unknown","Point","LineString","Polygon"],Fe=function(){function t(){v(this,t),this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}return g(t,[{key:"id",value:function(){return this.feature&&"id"in this.feature?this.feature.id:null}},{key:"geometryType",value:function(){return this.feature?"number"==typeof this.feature.type?ze[this.feature.type]:this.feature.type:null}},{key:"geometry",value:function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}},{key:"canonicalID",value:function(){return this.canonical}},{key:"properties",value:function(){return this.feature&&this.feature.properties||{}}},{key:"parseColor",value:function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=xe.parse(t)),e}}]),t}(),Be=function(){function t(e,n,r,i){v(this,t),this.name=e,this.type=n,this._evaluate=r,this.args=i}return g(t,[{key:"evaluate",value:function(t){return this._evaluate(t,this.args)}},{key:"eachChild",value:function(t){this.args.forEach(t)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))}}],[{key:"parse",value:function(e,n){var r,i=e[0],o=t.definitions[i];if(!o)return n.error('Unknown expression "'.concat(i,'". If you wanted a literal array, use ["literal", [...]].'),0);var a,s=Array.isArray(o)?o[0]:o.type,u=Array.isArray(o)?[[o[1],o[2]]]:o.overloads,c=u.filter((function(t){var n=f(t,1)[0];return!Array.isArray(n)||n.length===e.length-1})),p=null,d=h(c);try{for(d.s();!(a=d.n()).done;){var y=f(a.value,2),v=y[0],g=y[1];p=new cn(n.registry,n.path,null,n.scope);for(var m=[],b=!1,_=1;_<e.length;_++){var x=e[_],w=Array.isArray(v)?v[_-1]:v.type,E=p.parse(x,1+m.length,w);if(!E){b=!0;break}m.push(E)}if(!b)if(Array.isArray(v)&&v.length!==m.length)p.error("Expected ".concat(v.length," arguments, but found ").concat(m.length," instead."));else{for(var S=0;S<m.length;S++){var k=Array.isArray(v)?v[S]:v.type,O=m[S];p.concat(S+1).checkSubtype(k,O.type)}if(0===p.errors.length)return new t(i,s,g,m)}}}catch(A){d.e(A)}finally{d.f()}if(1===c.length)(r=n.errors).push.apply(r,l(p.errors));else{for(var C=(c.length?c:u).map((function(t){var e;return e=f(t,1)[0],Array.isArray(e)?"(".concat(e.map(de).join(", "),")"):"(".concat(de(e.type),"...)")})).join(" | "),P=[],T=1;T<e.length;T++){var M=n.parse(e[T],1+P.length);if(!M)return null;P.push(de(M.type))}n.error("Expected arguments of type ".concat(C,", but found (").concat(P.join(", "),") instead."))}return null}},{key:"register",value:function(e,n){for(var r in t.definitions=n,n)e[r]=t}}]),t}(),Ue=function(){function t(e,n,r){v(this,t),this.type=le,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=n}return g(t,[{key:"evaluate",value:function(t){return new we(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}},{key:"eachChild",value:function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}],[{key:"parse",value:function(e,n){if(2!==e.length)return n.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return n.error("Collator options argument must be an object.");var i=n.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,ae);if(!i)return null;var o=n.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,ae);if(!o)return null;var a=null;return r.locale&&!(a=n.parse(r.locale,1,oe))?null:new t(i,o,a)}}]),t}();function qe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function Ve(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Ge(t,e){var n=(180+t[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function We(t,e,n){var r=t[0]-e[0],i=t[1]-e[1],o=t[0]-n[0],a=t[1]-n[1];return r*a-o*i==0&&r*o<=0&&i*a<=0}function He(t,e){for(var n,r,i,o=!1,a=0,s=e.length;a<s;a++)for(var u=e[a],c=0,l=u.length;c<l-1;c++){if(We(t,u[c],u[c+1]))return!1;(r=u[c])[1]>(n=t)[1]!=(i=u[c+1])[1]>n[1]&&n[0]<(i[0]-r[0])*(n[1]-r[1])/(i[1]-r[1])+r[0]&&(o=!o)}return o}function Ke(t,e){for(var n=0;n<e.length;n++)if(He(t,e[n]))return!0;return!1}function Xe(t,e,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(t[0]-n[0])*o-i*(t[1]-n[1]),s=(e[0]-n[0])*o-i*(e[1]-n[1]);return a>0&&s<0||a<0&&s>0}function Ye(t,e,n){var r,i,o,a,s,u,c,l=h(n);try{for(l.s();!(r=l.n()).done;)for(var f=r.value,p=0;p<f.length-1;++p)if(0!=(u=[(s=f[p+1])[0]-(a=f[p])[0],s[1]-a[1]])[0]*(c=[(o=e)[0]-(i=t)[0],o[1]-i[1]])[1]-u[1]*c[0]&&Xe(i,o,a,s)&&Xe(a,s,i,o))return!0}catch(d){l.e(d)}finally{l.f()}return!1}function Ze(t,e){for(var n=0;n<t.length;++n)if(!He(t[n],e))return!1;for(var r=0;r<t.length-1;++r)if(Ye(t[r],t[r+1],e))return!1;return!0}function $e(t,e){for(var n=0;n<e.length;n++)if(Ze(t,e[n]))return!0;return!1}function Je(t,e,n){for(var r=[],i=0;i<t.length;i++){for(var o=[],a=0;a<t[i].length;a++){var s=Ge(t[i][a],n);qe(e,s),o.push(s)}r.push(o)}return r}function Qe(t,e,n){for(var r=[],i=0;i<t.length;i++){var o=Je(t[i],e,n);r.push(o)}return r}function tn(t,e,n,r){if(t[0]<n[0]||t[0]>n[2]){var i=.5*r,o=t[0]-n[0]>i?-r:n[0]-t[0]>i?r:0;0===o&&(o=t[0]-n[2]>i?-r:n[2]-t[0]>i?r:0),t[0]+=o}qe(e,t)}function en(t,e,n,r){var i,o=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],s=[],u=h(t);try{for(u.s();!(i=u.n()).done;){var c,l=i.value,f=h(l);try{for(f.s();!(c=f.n()).done;){var p=c.value,d=[p.x+a[0],p.y+a[1]];tn(d,e,n,o),s.push(d)}}catch(y){f.e(y)}finally{f.f()}}}catch(y){u.e(y)}finally{u.f()}return s}function nn(t,e,n,r){var i,o,a=8192*Math.pow(2,r.z),s=[8192*r.x,8192*r.y],u=[],c=h(t);try{for(c.s();!(i=c.n()).done;){var l,f=i.value,p=[],d=h(f);try{for(d.s();!(l=d.n()).done;){var y=l.value,v=[y.x+s[0],y.y+s[1]];qe(e,v),p.push(v)}}catch(w){d.e(w)}finally{d.f()}u.push(p)}}catch(w){c.e(w)}finally{c.f()}if(e[2]-e[0]<=a/2){(o=e)[0]=o[1]=1/0,o[2]=o[3]=-1/0;var g,m=h(u);try{for(m.s();!(g=m.n()).done;){var b,_=g.value,x=h(_);try{for(x.s();!(b=x.n()).done;)tn(b.value,e,n,a)}catch(w){x.e(w)}finally{x.f()}}}catch(w){m.e(w)}finally{m.f()}}return u}var rn=function(){function t(e,n){v(this,t),this.type=ae,this.geojson=e,this.geometries=n}return g(t,[{key:"evaluate",value:function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Je(e.coordinates,r,i),a=en(t.geometry(),n,r,i);if(!Ve(n,r))return!1;var s,u=h(a);try{for(u.s();!(s=u.n()).done;)if(!He(s.value,o))return!1}catch(d){u.e(d)}finally{u.f()}}if("MultiPolygon"===e.type){var c=Qe(e.coordinates,r,i),l=en(t.geometry(),n,r,i);if(!Ve(n,r))return!1;var f,p=h(l);try{for(p.s();!(f=p.n()).done;)if(!Ke(f.value,c))return!1}catch(d){p.e(d)}finally{p.f()}}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Je(e.coordinates,r,i),a=nn(t.geometry(),n,r,i);if(!Ve(n,r))return!1;var s,u=h(a);try{for(u.s();!(s=u.n()).done;)if(!Ze(s.value,o))return!1}catch(d){u.e(d)}finally{u.f()}}if("MultiPolygon"===e.type){var c=Qe(e.coordinates,r,i),l=nn(t.geometry(),n,r,i);if(!Ve(n,r))return!1;var f,p=h(l);try{for(p.s();!(f=p.n()).done;)if(!$e(f.value,c))return!1}catch(d){p.e(d)}finally{p.f()}}return!0}(t,this.geometries)}return!1}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["within",this.geojson]}}],[{key:"parse",value:function(e,n){if(2!==e.length)return n.error("'within' expression requires exactly one argument, but found ".concat(e.length-1," instead."));if(Ce(e[1])){var r=e[1];if("FeatureCollection"===r.type)for(var i=0;i<r.features.length;++i){var o=r.features[i].geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new t(r,r.features[i].geometry)}else if("Feature"===r.type){var a=r.geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new t(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new t(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}}]),t}();function on(t){if(t instanceof Be){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof rn)return!1;var e=!0;return t.eachChild((function(t){e&&!on(t)&&(e=!1)})),e}function an(t){if(t instanceof Be&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!an(t)&&(e=!1)})),e}function sn(t,e){if(t instanceof Be&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!sn(t,e)&&(n=!1)})),n}var un=function(){function t(e,n){v(this,t),this.type=n.type,this.name=e,this.boundExpression=n}return g(t,[{key:"evaluate",value:function(t){return this.boundExpression.evaluate(t)}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["var",this.name]}}],[{key:"parse",value:function(e,n){if(2!==e.length||"string"!=typeof e[1])return n.error("'var' expression requires exactly one string literal argument.");var r=e[1];return n.scope.has(r)?new t(r,n.scope.get(r)):n.error('Unknown variable "'.concat(r,'". Make sure "').concat(r,'" has been bound in an enclosing "let" expression before using it.'),1)}}]),t}(),cn=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ne,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];v(this,t),this.registry=e,this.path=n,this.key=n.map((function(t){return"[".concat(t,"]")})).join(""),this.scope=i,this.errors=o,this.expectedType=r}return g(t,[{key:"parse",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)}},{key:"_parse",value:function(t,e){function n(t,e,n){return"assert"===n?new je(e,[t]):"coerce"===n?new Le(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found ".concat(typeof r,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;var i=this.registry[r];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,e.typeAnnotation||"coerce");else o=n(o,a,e.typeAnnotation||"assert")}if(!(o instanceof Me)&&"resolvedImage"!==o.type.kind&&function t(e){if(e instanceof un)return t(e.boundExpression);if(e instanceof Be&&"error"===e.name)return!1;if(e instanceof Ue)return!1;if(e instanceof rn)return!1;var n=e instanceof Le||e instanceof je,r=!0;return e.eachChild((function(e){r=n?r&&t(e):r&&e instanceof Me})),!!r&&on(e)&&sn(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}(o)){var u=new Fe;try{o=new Me(o.type,o.evaluate(u))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'.concat(r,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof t," instead."))}},{key:"concat",value:function(e,n,r){var i="number"==typeof e?this.path.concat(e):this.path,o=r?this.scope.concat(r):this.scope;return new t(this.registry,i,n||null,o,this.errors)}},{key:"error",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i="".concat(this.key).concat(n.map((function(t){return"[".concat(t,"]")})).join(""));this.errors.push(new ee(i,t))}},{key:"checkSubtype",value:function(t,e){var n=ve(t,e);return n&&this.error(n),n}}]),t}();function ln(t,e){for(var n,r,i=t.length-1,o=0,a=i,s=0;o<=a;)if(n=t[s=Math.floor((o+a)/2)],r=t[s+1],n<=e){if(s===i||e<r)return s;o=s+1}else{if(!(n>e))throw new Ae("Input is not a number.");a=s-1}return 0}var fn=function(){function t(e,n,r){v(this,t),this.type=e,this.input=n,this.labels=[],this.outputs=[];var i,o=h(r);try{for(o.s();!(i=o.n()).done;){var a=f(i.value,2),s=a[0],u=a[1];this.labels.push(s),this.outputs.push(u)}}catch(c){o.e(c)}finally{o.f()}}return g(t,[{key:"evaluate",value:function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[ln(e,r)].evaluate(t)}},{key:"eachChild",value:function(t){t(this.input);var e,n=h(this.outputs);try{for(n.s();!(e=n.n()).done;)t(e.value)}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(t){return t.outputDefined()}))}},{key:"serialize",value:function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}],[{key:"parse",value:function(e,n){if(e.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if((e.length-1)%2!=0)return n.error("Expected an even number of arguments.");var r=n.parse(e[1],1,ie);if(!r)return null;var i=[],o=null;n.expectedType&&"value"!==n.expectedType.kind&&(o=n.expectedType);for(var a=1;a<e.length;a+=2){var s=1===a?-1/0:e[a],u=e[a+1],c=a,l=a+1;if("number"!=typeof s)return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(i.length&&i[i.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);var f=n.parse(u,l,o);if(!f)return null;o=o||f.type,i.push([s,f])}return new t(o,r,i)}}]),t}();function hn(t,e,n){return t*(1-n)+e*n}var pn=Object.freeze({__proto__:null,number:hn,color:function(t,e,n){return new xe(hn(t.r,e.r,n),hn(t.g,e.g,n),hn(t.b,e.b,n),hn(t.a,e.a,n))},array:function(t,e,n){return t.map((function(t,r){return hn(t,e[r],n)}))}}),dn=6/29*3*(6/29),yn=Math.PI/180,vn=180/Math.PI;function gn(t){return t>.008856451679035631?Math.pow(t,1/3):t/dn+4/29}function mn(t){return t>6/29?t*t*t:dn*(t-4/29)}function bn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _n(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xn(t){var e=_n(t.r),n=_n(t.g),r=_n(t.b),i=gn((.4124564*e+.3575761*n+.1804375*r)/.95047),o=gn((.2126729*e+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-gn((.0193339*e+.119192*n+.9503041*r)/1.08883)),alpha:t.a}}function wn(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=1*mn(e),n=.95047*mn(n),r=1.08883*mn(r),new xe(bn(3.2404542*n-1.5371385*e-.4985314*r),bn(-.969266*n+1.8760108*e+.041556*r),bn(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function En(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var Sn={forward:xn,reverse:wn,interpolate:function(t,e,n){return{l:hn(t.l,e.l,n),a:hn(t.a,e.a,n),b:hn(t.b,e.b,n),alpha:hn(t.alpha,e.alpha,n)}}},kn={forward:function(t){var e=xn(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*vn;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*yn,n=t.c;return wn({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:En(t.h,e.h,n),c:hn(t.c,e.c,n),l:hn(t.l,e.l,n),alpha:hn(t.alpha,e.alpha,n)}}},On=Object.freeze({__proto__:null,lab:Sn,hcl:kn}),Cn=function(){function t(e,n,r,i,o){v(this,t),this.type=e,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];var a,s=h(o);try{for(s.s();!(a=s.n()).done;){var u=f(a.value,2),c=u[0],l=u[1];this.labels.push(c),this.outputs.push(l)}}catch(p){s.e(p)}finally{s.f()}}return g(t,[{key:"evaluate",value:function(e){var n=this.labels,r=this.outputs;if(1===n.length)return r[0].evaluate(e);var i=this.input.evaluate(e);if(i<=n[0])return r[0].evaluate(e);var o=n.length;if(i>=n[o-1])return r[o-1].evaluate(e);var a=ln(n,i),s=t.interpolationFactor(this.interpolation,i,n[a],n[a+1]),u=r[a].evaluate(e),c=r[a+1].evaluate(e);return"interpolate"===this.operator?pn[this.type.kind.toLowerCase()](u,c,s):"interpolate-hcl"===this.operator?kn.reverse(kn.interpolate(kn.forward(u),kn.forward(c),s)):Sn.reverse(Sn.interpolate(Sn.forward(u),Sn.forward(c),s))}},{key:"eachChild",value:function(t){t(this.input);var e,n=h(this.outputs);try{for(n.s();!(e=n.n()).done;)t(e.value)}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(t){return t.outputDefined()}))}},{key:"serialize",value:function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e}}],[{key:"interpolationFactor",value:function(t,n,r,i){var o=0;if("exponential"===t.name)o=Pn(n,t.base,r,i);else if("linear"===t.name)o=Pn(n,1,r,i);else if("cubic-bezier"===t.name){var a=t.controlPoints;o=new e(a[0],a[1],a[2],a[3]).solve(Pn(n,1,r,i))}return o}},{key:"parse",value:function(e,n){var r=c(e),i=r[0],o=r[1],a=r[2],s=r.slice(3);if(!Array.isArray(o)||0===o.length)return n.error("Expected an interpolation type expression.",1);if("linear"===o[0])o={name:"linear"};else if("exponential"===o[0]){var u=o[1];if("number"!=typeof u)return n.error("Exponential interpolation requires a numeric base.",1,1);o={name:"exponential",base:u}}else{if("cubic-bezier"!==o[0])return n.error("Unknown interpolation type ".concat(String(o[0])),1,0);var l=o.slice(1);if(4!==l.length||l.some((function(t){return"number"!=typeof t||t<0||t>1})))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);o={name:"cubic-bezier",controlPoints:l}}if(e.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if((e.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(!(a=n.parse(a,2,ie)))return null;var f=[],h=null;"interpolate-hcl"===i||"interpolate-lab"===i?h=se:n.expectedType&&"value"!==n.expectedType.kind&&(h=n.expectedType);for(var p=0;p<s.length;p+=2){var d=s[p],y=s[p+1],v=p+3,g=p+4;if("number"!=typeof d)return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',v);if(f.length&&f[f.length-1][0]>=d)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',v);var m=n.parse(y,g,h);if(!m)return null;h=h||m.type,f.push([d,m])}return"number"===h.kind||"color"===h.kind||"array"===h.kind&&"number"===h.itemType.kind&&"number"==typeof h.N?new t(h,i,o,a,f):n.error("Type ".concat(de(h)," is not interpolatable."))}}]),t}();function Pn(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}var Tn=function(){function t(e,n){v(this,t),this.type=e,this.args=n}return g(t,[{key:"evaluate",value:function(t){var e,n,r=null,i=0,o=h(this.args);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(i++,(r=a.evaluate(t))&&r instanceof ke&&!r.available&&(e||(e=r.name),r=null,i===this.args.length&&(r=e)),null!==r)break}}catch(s){o.e(s)}finally{o.f()}return r}},{key:"eachChild",value:function(t){this.args.forEach(t)}},{key:"outputDefined",value:function(){return this.args.every((function(t){return t.outputDefined()}))}},{key:"serialize",value:function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t}}],[{key:"parse",value:function(e,n){if(e.length<2)return n.error("Expectected at least one argument.");var r=null,i=n.expectedType;i&&"value"!==i.kind&&(r=i);var o,a=[],s=h(e.slice(1));try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.parse(u,1+a.length,r,void 0,{typeAnnotation:"omit"});if(!c)return null;r=r||c.type,a.push(c)}}catch(l){s.e(l)}finally{s.f()}return new t(i&&a.some((function(t){return ve(i,t.type)}))?ce:r,a)}}]),t}(),Mn=function(){function t(e,n){v(this,t),this.type=n.type,this.bindings=[].concat(e),this.result=n}return g(t,[{key:"evaluate",value:function(t){return this.result.evaluate(t)}},{key:"eachChild",value:function(t){var e,n=h(this.bindings);try{for(n.s();!(e=n.n()).done;)t(e.value[1])}catch(r){n.e(r)}finally{n.f()}t(this.result)}},{key:"outputDefined",value:function(){return this.result.outputDefined()}},{key:"serialize",value:function(){var t,e=["let"],n=h(this.bindings);try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],o=r[1];e.push(i,o.serialize())}}catch(a){n.e(a)}finally{n.f()}return e.push(this.result.serialize()),e}}],[{key:"parse",value:function(e,n){if(e.length<4)return n.error("Expected at least 3 arguments, but found ".concat(e.length-1," instead."));for(var r=[],i=1;i<e.length-1;i+=2){var o=e[i];if("string"!=typeof o)return n.error("Expected string, but found ".concat(typeof o," instead."),i);if(/[^a-zA-Z0-9_]/.test(o))return n.error("Variable names must contain only alphanumeric characters or '_'.",i);var a=n.parse(e[i+1],i+1);if(!a)return null;r.push([o,a])}var s=n.parse(e[e.length-1],e.length-1,n.expectedType,r);return s?new t(r,s):null}}]),t}(),An=function(){function t(e,n,r){v(this,t),this.type=e,this.index=n,this.input=r}return g(t,[{key:"evaluate",value:function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new Ae("Array index out of bounds: ".concat(e," < 0."));if(e>=n.length)throw new Ae("Array index out of bounds: ".concat(e," > ").concat(n.length-1,"."));if(e!==Math.floor(e))throw new Ae("Array index must be an integer, but found ".concat(e," instead."));return n[e]}},{key:"eachChild",value:function(t){t(this.index),t(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["at",this.index.serialize(),this.input.serialize()]}}],[{key:"parse",value:function(e,n){if(3!==e.length)return n.error("Expected 2 arguments, but found ".concat(e.length-1," instead."));var r=n.parse(e[1],1,ie),i=n.parse(e[2],2,pe(n.expectedType||ce));return r&&i?new t(i.type.itemType,r,i):null}}]),t}(),In=function(){function t(e,n){v(this,t),this.type=ae,this.needle=e,this.haystack=n}return g(t,[{key:"evaluate",value:function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!n)return!1;if(!me(e,["boolean","string","number","null"]))throw new Ae("Expected first argument to be of type boolean, string, number or null, but found ".concat(de(Pe(e))," instead."));if(!me(n,["string","array"]))throw new Ae("Expected second argument to be of type array or string, but found ".concat(de(Pe(n))," instead."));return n.indexOf(e)>=0}},{key:"eachChild",value:function(t){t(this.needle),t(this.haystack)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["in",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(e,n){if(3!==e.length)return n.error("Expected 2 arguments, but found ".concat(e.length-1," instead."));var r=n.parse(e[1],1,ce),i=n.parse(e[2],2,ce);return r&&i?ge(r.type,[ae,oe,ie,re,ce])?new t(r,i):n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(de(r.type)," instead")):null}}]),t}(),jn=function(){function t(e,n,r){v(this,t),this.type=ie,this.needle=e,this.haystack=n,this.fromIndex=r}return g(t,[{key:"evaluate",value:function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!me(e,["boolean","string","number","null"]))throw new Ae("Expected first argument to be of type boolean, string, number or null, but found ".concat(de(Pe(e))," instead."));if(!me(n,["string","array"]))throw new Ae("Expected second argument to be of type array or string, but found ".concat(de(Pe(n))," instead."));if(this.fromIndex){var r=this.fromIndex.evaluate(t);return n.indexOf(e,r)}return n.indexOf(e)}},{key:"eachChild",value:function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(e,n){if(e.length<=2||e.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(e.length-1," instead."));var r=n.parse(e[1],1,ce),i=n.parse(e[2],2,ce);if(!r||!i)return null;if(!ge(r.type,[ae,oe,ie,re,ce]))return n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(de(r.type)," instead"));if(4===e.length){var o=n.parse(e[3],3,ie);return o?new t(r,i,o):null}return new t(r,i)}}]),t}(),Rn=function(){function t(e,n,r,i,o,a){v(this,t),this.inputType=e,this.type=n,this.input=r,this.cases=i,this.outputs=o,this.otherwise=a}return g(t,[{key:"evaluate",value:function(t){var e=this.input.evaluate(t);return(Pe(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}},{key:"eachChild",value:function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}},{key:"outputDefined",value:function(){return this.outputs.every((function(t){return t.outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var t,e=this,n=["match",this.input.serialize()],r=Object.keys(this.cases).sort(),i=[],o={},a=h(r);try{for(a.s();!(t=a.n()).done;){var s=t.value,u=o[this.cases[s]];void 0===u?(o[this.cases[s]]=i.length,i.push([this.cases[s],[s]])):i[u][1].push(s)}}catch(g){a.e(g)}finally{a.f()}for(var c=function(t){return"number"===e.inputType.kind?Number(t):t},l=0,p=i;l<p.length;l++){var d=f(p[l],2),y=d[0],v=d[1];n.push(1===v.length?c(v[0]):v.map(c)),n.push(this.outputs[y].serialize())}return n.push(this.otherwise.serialize()),n}}],[{key:"parse",value:function(e,n){if(e.length<5)return n.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if(e.length%2!=1)return n.error("Expected an even number of arguments.");var r,i;n.expectedType&&"value"!==n.expectedType.kind&&(i=n.expectedType);for(var o={},a=[],s=2;s<e.length-1;s+=2){var u=e[s],c=e[s+1];Array.isArray(u)||(u=[u]);var l=n.concat(s);if(0===u.length)return l.error("Expected at least one branch label.");var f,p=h(u);try{for(p.s();!(f=p.n()).done;){var d=f.value;if("number"!=typeof d&&"string"!=typeof d)return l.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof d&&Math.floor(d)!==d)return l.error("Numeric branch labels must be integer values.");if(r){if(l.checkSubtype(r,Pe(d)))return null}else r=Pe(d);if(void 0!==o[String(d)])return l.error("Branch labels must be unique.");o[String(d)]=a.length}}catch(m){p.e(m)}finally{p.f()}var y=n.parse(c,s,i);if(!y)return null;i=i||y.type,a.push(y)}var v=n.parse(e[1],1,ce);if(!v)return null;var g=n.parse(e[e.length-1],e.length-1,i);return g?"value"!==v.type.kind&&n.concat(1).checkSubtype(r,v.type)?null:new t(r,i,v,o,a,g):null}}]),t}(),Dn=function(){function t(e,n,r){v(this,t),this.type=e,this.branches=n,this.otherwise=r}return g(t,[{key:"evaluate",value:function(t){var e,n=h(this.branches);try{for(n.s();!(e=n.n()).done;){var r=f(e.value,2),i=r[0],o=r[1];if(i.evaluate(t))return o.evaluate(t)}}catch(a){n.e(a)}finally{n.f()}return this.otherwise.evaluate(t)}},{key:"eachChild",value:function(t){var e,n=h(this.branches);try{for(n.s();!(e=n.n()).done;){var r=f(e.value,2),i=r[0],o=r[1];t(i),t(o)}}catch(a){n.e(a)}finally{n.f()}t(this.otherwise)}},{key:"outputDefined",value:function(){return this.branches.every((function(t){var e=f(t,2);return e[0],e[1].outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t}}],[{key:"parse",value:function(e,n){if(e.length<4)return n.error("Expected at least 3 arguments, but found only ".concat(e.length-1,"."));if(e.length%2!=0)return n.error("Expected an odd number of arguments.");var r;n.expectedType&&"value"!==n.expectedType.kind&&(r=n.expectedType);for(var i=[],o=1;o<e.length-1;o+=2){var a=n.parse(e[o],o,ae);if(!a)return null;var s=n.parse(e[o+1],o+1,r);if(!s)return null;i.push([a,s]),r=r||s.type}var u=n.parse(e[e.length-1],e.length-1,r);return u?new t(r,i,u):null}}]),t}(),Nn=function(){function t(e,n,r,i){v(this,t),this.type=e,this.input=n,this.beginIndex=r,this.endIndex=i}return g(t,[{key:"evaluate",value:function(t){var e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!me(e,["string","array"]))throw new Ae("Expected first argument to be of type array or string, but found ".concat(de(Pe(e))," instead."));if(this.endIndex){var r=this.endIndex.evaluate(t);return e.slice(n,r)}return e.slice(n)}},{key:"eachChild",value:function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}],[{key:"parse",value:function(e,n){if(e.length<=2||e.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(e.length-1," instead."));var r=n.parse(e[1],1,ce),i=n.parse(e[2],2,ie);if(!r||!i)return null;if(!ge(r.type,[pe(ce),oe,ce]))return n.error("Expected first argument to be of type array or string, but found ".concat(de(r.type)," instead"));if(4===e.length){var o=n.parse(e[3],3,ie);return o?new t(r.type,r,i,o):null}return new t(r.type,r,i)}}]),t}();function Ln(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function zn(t,e,n,r){return 0===r.compare(e,n)}function Fn(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){v(this,i),this.type=ae,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return g(i,[{key:"evaluate",value:function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=Pe(o),u=Pe(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new Ae('Expected arguments for "'.concat(t,'" to be (string, string) or (number, number), but found (').concat(s.kind,", ").concat(u.kind,") instead."))}if(this.collator&&!r&&this.hasUntypedArgument){var c=Pe(o),l=Pe(a);if("string"!==c.kind||"string"!==l.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)}},{key:"eachChild",value:function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,ce);if(!o)return null;if(!Ln(n,o.type))return e.concat(1).error('"'.concat(n,"\" comparisons are not supported for type '").concat(de(o.type),"'."));var a=e.parse(t[2],2,ce);if(!a)return null;if(!Ln(n,a.type))return e.concat(2).error('"'.concat(n,"\" comparisons are not supported for type '").concat(de(a.type),"'."));if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '".concat(de(o.type),"' and '").concat(de(a.type),"'."));r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new je(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new je(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,le)))return null}return new i(o,a,s)}}]),i}()}var Bn=Fn("==",(function(t,e,n){return e===n}),zn),Un=Fn("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!zn(0,e,n,r)})),qn=Fn("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),Vn=Fn(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),Gn=Fn("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),Wn=function(){function t(e,n,r,i,o){v(this,t),this.type=oe,this.number=e,this.locale=n,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=o}return g(t,[{key:"evaluate",value:function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}},{key:"eachChild",value:function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}],[{key:"parse",value:function(e,n){if(3!==e.length)return n.error("Expected two arguments.");var r=n.parse(e[1],1,ie);if(!r)return null;var i=e[2];if("object"!=typeof i||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");var o=null;if(i.locale&&!(o=n.parse(i.locale,1,oe)))return null;var a=null;if(i.currency&&!(a=n.parse(i.currency,1,oe)))return null;var s=null;if(i["min-fraction-digits"]&&!(s=n.parse(i["min-fraction-digits"],1,ie)))return null;var u=null;return i["max-fraction-digits"]&&!(u=n.parse(i["max-fraction-digits"],1,ie))?null:new t(r,o,a,s,u)}}]),t}(),Hn=function(){function t(e){v(this,t),this.type=ie,this.input=e}return g(t,[{key:"evaluate",value:function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new Ae("Expected value to be of type string or array, but found ".concat(de(Pe(e))," instead."))}},{key:"eachChild",value:function(t){t(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t}}],[{key:"parse",value:function(e,n){if(2!==e.length)return n.error("Expected 1 argument, but found ".concat(e.length-1," instead."));var r=n.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?n.error("Expected argument of type string or array, but found ".concat(de(r.type)," instead.")):new t(r):null}}]),t}(),Kn={"==":Bn,"!=":Un,">":Vn,"<":qn,">=":Fn(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0})),"<=":Gn,array:je,at:An,boolean:je,case:Dn,coalesce:Tn,collator:Ue,format:Re,image:De,in:In,"index-of":jn,interpolate:Cn,"interpolate-hcl":Cn,"interpolate-lab":Cn,length:Hn,let:Mn,literal:Me,match:Rn,number:je,"number-format":Wn,object:je,slice:Nn,step:fn,string:je,"to-boolean":Le,"to-color":Le,"to-number":Le,"to-string":Le,var:un,within:rn};function Xn(t,e){var n=f(e,4),r=n[0],i=n[1],o=n[2],a=n[3];r=r.evaluate(t),i=i.evaluate(t),o=o.evaluate(t);var s=a?a.evaluate(t):1,u=Oe(r,i,o,s);if(u)throw new Ae(u);return new xe(r/255*s,i/255*s,o/255*s,s)}function Yn(t,e){return t in e}function Zn(t,e){var n=e[t];return void 0===n?null:n}function $n(t){return{type:t}}function Jn(t){return{result:"success",value:t}}function Qn(t){return{result:"error",value:t}}function tr(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function er(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function nr(t){return!!t.expression&&t.expression.interpolated}function rr(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function ir(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function or(t){return t}function ar(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function sr(t,e,n,r,i){return ar(typeof n===i?r[n]:void 0,t.default,e.default)}function ur(t,e,n){if("number"!==rr(n))return ar(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=ln(t.stops.map((function(t){return t[0]})),n);return t.stops[i][1]}function cr(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==rr(n))return ar(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=ln(t.stops.map((function(t){return t[0]})),n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],u=t.stops[o+1][1],c=pn[e.type]||or;if(t.colorSpace&&"rgb"!==t.colorSpace){var l=On[t.colorSpace];c=function(t,e){return l.reverse(l.interpolate(l.forward(t),l.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=s.evaluate.apply(void 0,e),i=u.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==i)return c(r,i,a)}}:c(s,u,a)}function lr(t,e,n){return"color"===e.type?n=xe.parse(n):"formatted"===e.type?n=Se.fromString(n.toString()):"resolvedImage"===e.type?n=ke.fromString(n.toString()):rr(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),ar(n,t.default,e.default)}Be.register(Kn,{error:[{kind:"error"},[oe],function(t,e){var n=f(e,1)[0];throw new Ae(n.evaluate(t))}],typeof:[oe,[ce],function(t,e){return de(Pe(f(e,1)[0].evaluate(t)))}],"to-rgba":[pe(ie,4),[se],function(t,e){return f(e,1)[0].evaluate(t).toArray()}],rgb:[se,[ie,ie,ie],Xn],rgba:[se,[ie,ie,ie,ie],Xn],has:{type:ae,overloads:[[[oe],function(t,e){return Yn(f(e,1)[0].evaluate(t),t.properties())}],[[oe,ue],function(t,e){var n=f(e,2),r=n[0],i=n[1];return Yn(r.evaluate(t),i.evaluate(t))}]]},get:{type:ce,overloads:[[[oe],function(t,e){return Zn(f(e,1)[0].evaluate(t),t.properties())}],[[oe,ue],function(t,e){var n=f(e,2),r=n[0],i=n[1];return Zn(r.evaluate(t),i.evaluate(t))}]]},"feature-state":[ce,[oe],function(t,e){return Zn(f(e,1)[0].evaluate(t),t.featureState||{})}],properties:[ue,[],function(t){return t.properties()}],"geometry-type":[oe,[],function(t){return t.geometryType()}],id:[ce,[],function(t){return t.id()}],zoom:[ie,[],function(t){return t.globals.zoom}],"heatmap-density":[ie,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[ie,[],function(t){return t.globals.lineProgress||0}],"sky-radial-progress":[ie,[],function(t){return t.globals.skyRadialProgress||0}],accumulated:[ce,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[ie,$n(ie),function(t,e){var n,r=0,i=h(e);try{for(i.s();!(n=i.n()).done;)r+=n.value.evaluate(t)}catch(o){i.e(o)}finally{i.f()}return r}],"*":[ie,$n(ie),function(t,e){var n,r=1,i=h(e);try{for(i.s();!(n=i.n()).done;)r*=n.value.evaluate(t)}catch(o){i.e(o)}finally{i.f()}return r}],"-":{type:ie,overloads:[[[ie,ie],function(t,e){var n=f(e,2),r=n[0],i=n[1];return r.evaluate(t)-i.evaluate(t)}],[[ie],function(t,e){return-f(e,1)[0].evaluate(t)}]]},"/":[ie,[ie,ie],function(t,e){var n=f(e,2),r=n[0],i=n[1];return r.evaluate(t)/i.evaluate(t)}],"%":[ie,[ie,ie],function(t,e){var n=f(e,2),r=n[0],i=n[1];return r.evaluate(t)%i.evaluate(t)}],ln2:[ie,[],function(){return Math.LN2}],pi:[ie,[],function(){return Math.PI}],e:[ie,[],function(){return Math.E}],"^":[ie,[ie,ie],function(t,e){var n=f(e,2),r=n[0],i=n[1];return Math.pow(r.evaluate(t),i.evaluate(t))}],sqrt:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.sqrt(n.evaluate(t))}],log10:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.log(n.evaluate(t))/Math.LN10}],ln:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.log(n.evaluate(t))}],log2:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.log(n.evaluate(t))/Math.LN2}],sin:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.sin(n.evaluate(t))}],cos:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.cos(n.evaluate(t))}],tan:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.tan(n.evaluate(t))}],asin:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.asin(n.evaluate(t))}],acos:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.acos(n.evaluate(t))}],atan:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.atan(n.evaluate(t))}],min:[ie,$n(ie),function(t,e){return Math.min.apply(Math,l(e.map((function(e){return e.evaluate(t)}))))}],max:[ie,$n(ie),function(t,e){return Math.max.apply(Math,l(e.map((function(e){return e.evaluate(t)}))))}],abs:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.abs(n.evaluate(t))}],round:[ie,[ie],function(t,e){var n=f(e,1)[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.floor(n.evaluate(t))}],ceil:[ie,[ie],function(t,e){var n=f(e,1)[0];return Math.ceil(n.evaluate(t))}],"filter-==":[ae,[oe,ce],function(t,e){var n=f(e,2),r=n[0],i=n[1];return t.properties()[r.value]===i.value}],"filter-id-==":[ae,[ce],function(t,e){var n=f(e,1)[0];return t.id()===n.value}],"filter-type-==":[ae,[oe],function(t,e){var n=f(e,1)[0];return t.geometryType()===n.value}],"filter-<":[ae,[oe,ce],function(t,e){var n=f(e,2),r=n[0],i=n[1],o=t.properties()[r.value],a=i.value;return typeof o==typeof a&&o<a}],"filter-id-<":[ae,[ce],function(t,e){var n=f(e,1)[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[ae,[oe,ce],function(t,e){var n=f(e,2),r=n[0],i=n[1],o=t.properties()[r.value],a=i.value;return typeof o==typeof a&&o>a}],"filter-id->":[ae,[ce],function(t,e){var n=f(e,1)[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[ae,[oe,ce],function(t,e){var n=f(e,2),r=n[0],i=n[1],o=t.properties()[r.value],a=i.value;return typeof o==typeof a&&o<=a}],"filter-id-<=":[ae,[ce],function(t,e){var n=f(e,1)[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[ae,[oe,ce],function(t,e){var n=f(e,2),r=n[0],i=n[1],o=t.properties()[r.value],a=i.value;return typeof o==typeof a&&o>=a}],"filter-id->=":[ae,[ce],function(t,e){var n=f(e,1)[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[ae,[ce],function(t,e){return f(e,1)[0].value in t.properties()}],"filter-has-id":[ae,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[ae,[pe(oe)],function(t,e){return f(e,1)[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[ae,[pe(ce)],function(t,e){return f(e,1)[0].value.indexOf(t.id())>=0}],"filter-in-small":[ae,[oe,pe(ce)],function(t,e){var n=f(e,2),r=n[0];return n[1].value.indexOf(t.properties()[r.value])>=0}],"filter-in-large":[ae,[oe,pe(ce)],function(t,e){var n=f(e,2),r=n[0],i=n[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[r.value],i.value,0,i.value.length-1)}],all:{type:ae,overloads:[[[ae,ae],function(t,e){var n=f(e,2),r=n[0],i=n[1];return r.evaluate(t)&&i.evaluate(t)}],[$n(ae),function(t,e){var n,r=h(e);try{for(r.s();!(n=r.n()).done;)if(!n.value.evaluate(t))return!1}catch(i){r.e(i)}finally{r.f()}return!0}]]},any:{type:ae,overloads:[[[ae,ae],function(t,e){var n=f(e,2),r=n[0],i=n[1];return r.evaluate(t)||i.evaluate(t)}],[$n(ae),function(t,e){var n,r=h(e);try{for(r.s();!(n=r.n()).done;)if(n.value.evaluate(t))return!0}catch(i){r.e(i)}finally{r.f()}return!1}]]},"!":[ae,[ae],function(t,e){return!f(e,1)[0].evaluate(t)}],"is-supported-script":[ae,[oe],function(t,e){var n=f(e,1)[0],r=t.globals&&t.globals.isSupportedScript;return!r||r(n.evaluate(t))}],upcase:[oe,[oe],function(t,e){return f(e,1)[0].evaluate(t).toUpperCase()}],downcase:[oe,[oe],function(t,e){return f(e,1)[0].evaluate(t).toLowerCase()}],concat:[oe,$n(ce),function(t,e){return e.map((function(e){return Te(e.evaluate(t))})).join("")}],"resolved-locale":[oe,[le],function(t,e){return f(e,1)[0].evaluate(t).resolvedLocale()}]});var fr=function(){function t(e,n){v(this,t),this.expression=e,this._warningHistory={},this._evaluator=new Fe,this._defaultValue=n?function(t){return"color"===t.type&&ir(t.default)?new xe(0,0,0,0):"color"===t.type?xe.parse(t.default)||null:void 0===t.default?null:t.default}(n):null,this._enumValues=n&&"enum"===n.type?n.values:null}return g(t,[{key:"evaluateWithoutErrorHandling",value:function(t,e,n,r,i,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}},{key:"evaluate",value:function(t,e,n,r,i,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new Ae("Expected value to be one of ".concat(Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", "),", but found ").concat(JSON.stringify(a)," instead."));return a}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}}}]),t}();function hr(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Kn}function pr(t,e){var n=new cn(Kn,[],e?function(t){var e={color:se,string:oe,number:ie,enum:oe,boolean:ae,formatted:fe,resolvedImage:he};return"array"===t.type?pe(e[t.value]||ce,t.length):e[t.type]}(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?Jn(new fr(r,e)):Qn(n.errors)}var dr=function(){function t(e,n){v(this,t),this.kind=e,this._styleExpression=n,this.isStateDependent="constant"!==e&&!an(n.expression)}return g(t,[{key:"evaluateWithoutErrorHandling",value:function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)}},{key:"evaluate",value:function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)}}]),t}(),yr=function(){function t(e,n,r,i){v(this,t),this.kind=e,this.zoomStops=r,this._styleExpression=n,this.isStateDependent="camera"!==e&&!an(n.expression),this.interpolationType=i}return g(t,[{key:"evaluateWithoutErrorHandling",value:function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)}},{key:"evaluate",value:function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)}},{key:"interpolationFactor",value:function(t,e,n){return this.interpolationType?Cn.interpolationFactor(this.interpolationType,t,e,n):0}}]),t}();function vr(t,e){if("error"===(t=pr(t,e)).result)return t;var n=t.value.expression,r=on(n);if(!r&&!tr(e))return Qn([new ee("","data expressions not supported")]);var i=sn(n,["zoom"]);if(!i&&!er(e))return Qn([new ee("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof Mn)n=t(e.result);else if(e instanceof Tn){var r,i=h(e.args);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(n=t(o))break}}catch(a){i.e(a)}finally{i.f()}}else(e instanceof fn||e instanceof Cn)&&e.input instanceof Be&&"zoom"===e.input.name&&(n=e);return n instanceof ee||e.eachChild((function(e){var r=t(e);r instanceof ee?n=r:!n&&r?n=new ee("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new ee("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof ee?Qn([o]):o instanceof Cn&&!nr(e)?Qn([new ee("",'"interpolate" expressions cannot be used with this property')]):Jn(o?new yr(r?"camera":"composite",t.value,o.labels,o instanceof Cn?o.interpolation:void 0):new dr(r?"constant":"source",t.value)):Qn([new ee("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}var gr=function(){function t(e,n){v(this,t),this._parameters=e,this._specification=n,Jt(this,function t(e,n){var r,i,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||!(s||void 0!==e.property),c=e.type||(nr(n)?"exponential":"interval");if(a&&((e=Jt({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],xe.parse(t[1])]}))),e.default=xe.parse(e.default?e.default:n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!On[e.colorSpace])throw new Error("Unknown color space: ".concat(e.colorSpace));if("exponential"===c)r=cr;else if("interval"===c)r=ur;else if("categorical"===c){r=sr,i=Object.create(null);var l,f=h(e.stops);try{for(f.s();!(l=f.n()).done;){var p=l.value;i[p[0]]=p[1]}}catch(k){f.e(k)}finally{f.f()}o=typeof e.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'.concat(c,'"'));r=lr}if(s){for(var d={},y=[],v=0;v<e.stops.length;v++){var g=e.stops[v],m=g[0].zoom;void 0===d[m]&&(d[m]={zoom:m,type:e.type,property:e.property,default:e.default,stops:[]},y.push(m)),d[m].stops.push([g[0].value,g[1]])}for(var b=[],_=0,x=y;_<x.length;_++){var w=x[_];b.push([d[w].zoom,t(d[w],n)])}var E={name:"linear"};return{kind:"composite",interpolationType:E,interpolationFactor:Cn.interpolationFactor.bind(void 0,E),zoomStops:b.map((function(t){return t[0]})),evaluate:function(t,r){var i=t.zoom;return cr({stops:b,base:e.base},n,i).evaluate(i,r)}}}if(u){var S="exponential"===c?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:S,interpolationFactor:Cn.interpolationFactor.bind(void 0,S),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){var a=t.zoom;return r(e,n,a,i,o)}}}return{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?ar(e.default,n.default):r(e,n,s,i,o)}}}(this._parameters,this._specification))}return g(t,null,[{key:"deserialize",value:function(e){return new t(e._parameters,e._specification)}},{key:"serialize",value:function(t){return{_parameters:t._parameters,_specification:t._specification}}}]),t}();function mr(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],u=rr(n);if("object"!==u)return[new Zt(e,n,"object expected, ".concat(u," found"))];for(var c in n){var l=c.split(".")[0],f=r[l]||r["*"],h=void 0;if(i[l])h=i[l];else if(r[l])h=Gr;else if(i["*"])h=i["*"];else{if(!r["*"]){s.push(new Zt(e,n[c],'unknown property "'.concat(c,'"')));continue}h=Gr}s=s.concat(h({key:(e?"".concat(e,"."):e)+c,value:n[c],valueSpec:f,style:o,styleSpec:a,object:n,objectKey:c},n))}for(var p in r)i[p]||r[p].required&&void 0===r[p].default&&void 0===n[p]&&s.push(new Zt(e,n,'missing required property "'.concat(p,'"')));return s}function br(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||Gr;if("array"!==rr(e))return[new Zt(o,e,"array expected, ".concat(rr(e)," found"))];if(n.length&&e.length!==n.length)return[new Zt(o,e,"array length ".concat(n.length," expected, length ").concat(e.length," found"))];if(n["min-length"]&&e.length<n["min-length"])return[new Zt(o,e,"array length at least ".concat(n["min-length"]," expected, length ").concat(e.length," found"))];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===rr(n.value)&&(s=n.value);for(var u=[],c=0;c<e.length;c++)u=u.concat(a({array:e,arrayIndex:c,value:e[c],valueSpec:s,style:r,styleSpec:i,key:"".concat(o,"[").concat(c,"]")}));return u}function _r(t){var e=t.key,n=t.value,r=t.valueSpec,i=rr(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Zt(e,n,"number expected, ".concat(i," found"))]:"minimum"in r&&n<r.minimum?[new Zt(e,n,"".concat(n," is less than the minimum value ").concat(r.minimum))]:"maximum"in r&&n>r.maximum?[new Zt(e,n,"".concat(n," is greater than the maximum value ").concat(r.maximum))]:[]}function xr(t){var e,n,r,i=t.valueSpec,o=Qt(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,u=!s,c="array"===rr(t.value.stops)&&"array"===rr(t.value.stops[0])&&"object"===rr(t.value.stops[0][0]),l=mr({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new Zt(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(br({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:f})),"array"===rr(n)&&0===n.length&&e.push(new Zt(t.key,n,"array must have at least one stop")),e},default:function(t){return Gr({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&l.push(new Zt(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||l.push(new Zt(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!nr(t.valueSpec)&&l.push(new Zt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!tr(t.valueSpec)?l.push(new Zt(t.key,t.value,"property functions not supported")):s&&!er(t.valueSpec)&&l.push(new Zt(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!c||void 0!==t.value.property||l.push(new Zt(t.key,t.value,'"property" property is required')),l;function f(t){var e=[],o=t.value,s=t.key;if("array"!==rr(o))return[new Zt(s,o,"array expected, ".concat(rr(o)," found"))];if(2!==o.length)return[new Zt(s,o,"array length 2 expected, length ".concat(o.length," found"))];if(c){if("object"!==rr(o[0]))return[new Zt(s,o,"object expected, ".concat(rr(o[0])," found"))];if(void 0===o[0].zoom)return[new Zt(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Zt(s,o,"object stop key must have value")];if(r&&r>Qt(o[0].zoom))return[new Zt(s,o[0].zoom,"stop zoom values must appear in ascending order")];Qt(o[0].zoom)!==r&&(r=Qt(o[0].zoom),n=void 0,a={}),e=e.concat(mr({key:"".concat(s,"[0]"),value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:_r,value:h}}))}else e=e.concat(h({key:"".concat(s,"[0]"),value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return hr(te(o[1]))?e.concat([new Zt("".concat(s,"[1]"),o[1],"expressions are not allowed in function stops.")]):e.concat(Gr({key:"".concat(s,"[1]"),value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function h(t,r){var s=rr(t.value),u=Qt(t.value),c=null!==t.value?t.value:r;if(e){if(s!==e)return[new Zt(t.key,c,"".concat(s," stop domain type must match previous stop domain type ").concat(e))]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Zt(t.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var l="number expected, ".concat(s," found");return tr(i)&&void 0===o&&(l+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Zt(t.key,c,l)]}return"categorical"!==o||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===s&&void 0!==n&&u<n?[new Zt(t.key,c,"stop domain values must appear in ascending order")]:(n=u,"categorical"===o&&u in a?[new Zt(t.key,c,"stop domain values must be unique")]:(a[u]=!0,[])):[new Zt(t.key,c,"integer expected, found ".concat(u))]}}function wr(t){var e=("property"===t.expressionContext?vr:pr)(te(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new Zt("".concat(t.key).concat(e.key),t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!n.outputDefined())return[new Zt(t.key,t.value,'Invalid data expression for "'.concat(t.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===t.expressionContext&&"layout"===t.propertyType&&!an(n))return[new Zt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!an(n))return[new Zt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!sn(n,["zoom","feature-state"]))return[new Zt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!on(n))return[new Zt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Er(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Qt(n))&&i.push(new Zt(e,n,"expected one of [".concat(r.values.join(", "),"], ").concat(JSON.stringify(n)," found"))):-1===Object.keys(r.values).indexOf(Qt(n))&&i.push(new Zt(e,n,"expected one of [".concat(Object.keys(r.values).join(", "),"], ").concat(JSON.stringify(n)," found"))),i}function Sr(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":var e,n=h(t.slice(1));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(!Sr(r)&&"boolean"!=typeof r)return!1}}catch(i){n.e(i)}finally{n.f()}return!0;default:return!0}}var kr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Or(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};Sr(t)||(t=Pr(t));var e=pr(t,kr);if("error"===e.result)throw new Error(e.value.map((function(t){return"".concat(t.key,": ").concat(t.message)})).join(", "));return{filter:function(t,n,r){return e.value.evaluate(t,n,{},r)},needGeometry:function t(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var n=1;n<e.length;n++)if(t(e[n]))return!0;return!1}(t)}}function Cr(t,e){return t<e?-1:t>e?1:0}function Pr(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?Tr(t[1],t[2],"=="):"!="===n?Ir(Tr(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Tr(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(Pr))):"all"===n?["all"].concat(t.slice(1).map(Pr)):"none"===n?["all"].concat(t.slice(1).map(Pr).map(Ir)):"in"===n?Mr(t[1],t.slice(2)):"!in"===n?Ir(Mr(t[1],t.slice(2))):"has"===n?Ar(t[1]):"!has"===n?Ir(Ar(t[1])):"within"!==n||t}function Tr(t,e,n){switch(t){case"$type":return["filter-type-".concat(n),e];case"$id":return["filter-id-".concat(n),e];default:return["filter-".concat(n),t,e]}}function Mr(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(Cr)]]:["filter-in-small",t,["literal",e]]}}function Ar(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Ir(t){return["!",t]}function jr(t){return Sr(te(t.value))?wr(Jt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==rr(n))return[new Zt(r,n,"array expected, ".concat(rr(n)," found"))];var i,o=e.styleSpec,a=[];if(n.length<1)return[new Zt(r,n,"filter array must have at least 1 element")];switch(a=a.concat(Er({key:"".concat(r,"[0]"),value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),Qt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Qt(n[1])&&a.push(new Zt(r,n,'"$type" cannot be use with operator "'.concat(n[0],'"')));case"==":case"!=":3!==n.length&&a.push(new Zt(r,n,'filter array for operator "'.concat(n[0],'" must have 3 elements')));case"in":case"!in":n.length>=2&&"string"!==(i=rr(n[1]))&&a.push(new Zt("".concat(r,"[1]"),n[1],"string expected, ".concat(i," found")));for(var s=2;s<n.length;s++)i=rr(n[s]),"$type"===Qt(n[1])?a=a.concat(Er({key:"".concat(r,"[").concat(s,"]"),value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Zt("".concat(r,"[").concat(s,"]"),n[s],"string, number, or boolean expected, ".concat(i," found")));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(t({key:"".concat(r,"[").concat(u,"]"),value:n[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=rr(n[1]),2!==n.length?a.push(new Zt(r,n,'filter array for "'.concat(n[0],'" operator must have 2 elements'))):"string"!==i&&a.push(new Zt("".concat(r,"[1]"),n[1],"string expected, ".concat(i," found")));break;case"within":i=rr(n[1]),2!==n.length?a.push(new Zt(r,n,'filter array for "'.concat(n[0],'" operator must have 2 elements'))):"object"!==i&&a.push(new Zt("".concat(r,"[1]"),n[1],"object expected, ".concat(i," found")))}return a}(t)}function Rr(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i["".concat(e,"_").concat(t.layerType)];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return Gr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var c,l=t.valueSpec||s[a];if(!l)return[new Zt(n,o,'unknown property "'.concat(a,'"'))];if("string"===rr(o)&&tr(l)&&!l.tokens&&(c=/^{([^}]+)}$/.exec(o)))return[new Zt(n,o,'"'.concat(a,'" does not support interpolation syntax\n')+'Use an identity property function instead: `{ "type": "identity", "property": '.concat(JSON.stringify(c[1])," }`."))];var f=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&f.push(new Zt(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&ir(te(o))&&"identity"===Qt(o.type)&&f.push(new Zt(n,o,'"text-font" does not support identity functions'))),f.concat(Gr({key:t.key,value:o,valueSpec:l,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function Dr(t){return Rr(t,"paint")}function Nr(t){return Rr(t,"layout")}function Lr(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new Zt(r,n,'either "type" or "ref" is required'));var a,s=Qt(n.type),u=Qt(n.ref);if(n.id)for(var c=Qt(n.id),l=0;l<t.arrayIndex;l++){var f=i.layers[l];Qt(f.id)===c&&e.push(new Zt(r,n.id,'duplicate layer id "'.concat(n.id,'", previously used at line ').concat(f.id.__line__)))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new Zt(r,n[t],'"'.concat(t,'" is prohibited for ref layers')))})),i.layers.forEach((function(t){Qt(t.id)===u&&(a=t)})),a?a.ref?e.push(new Zt(r,n.ref,"ref cannot reference another ref layer")):s=Qt(a.type):e.push(new Zt(r,n.ref,'ref layer "'.concat(u,'" not found')));else if("background"!==s&&"sky"!==s)if(n.source){var h=i.sources&&i.sources[n.source],p=h&&Qt(h.type);h?"vector"===p&&"raster"===s?e.push(new Zt(r,n.source,'layer "'.concat(n.id,'" requires a raster source'))):"raster"===p&&"raster"!==s?e.push(new Zt(r,n.source,'layer "'.concat(n.id,'" requires a vector source'))):"vector"!==p||n["source-layer"]?"raster-dem"===p&&"hillshade"!==s?e.push(new Zt(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===p&&h.lineMetrics||e.push(new Zt(r,n,'layer "'.concat(n.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):e.push(new Zt(r,n,'layer "'.concat(n.id,'" must specify a "source-layer"'))):e.push(new Zt(r,n.source,'source "'.concat(n.source,'" not found')))}else e.push(new Zt(r,n,'missing required property "source"'));return e=e.concat(mr({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Gr({key:"".concat(r,".type"),value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:jr,layout:function(t){return mr({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Nr(Jt({layerType:s},t))}}})},paint:function(t){return mr({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Dr(Jt({layerType:s},t))}}})}}}))}function zr(t){var e=t.value,n=t.key,r=rr(e);return"string"!==r?[new Zt(n,e,"string expected, ".concat(r," found"))]:[]}var Fr={promoteId:function(t){var e=t.key,n=t.value;if("string"===rr(n))return zr({key:e,value:n});var r=[];for(var i in n)r.push.apply(r,l(zr({key:"".concat(e,".").concat(i),value:n[i]})));return r}};function Br(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new Zt(n,e,'"type" is required')];var o,a=Qt(e.type);switch(a){case"vector":case"raster":case"raster-dem":return o=mr({key:n,value:e,valueSpec:r["source_".concat(a.replace("-","_"))],style:t.style,styleSpec:r,objectElementValidators:Fr});case"geojson":if(o=mr({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:Fr}),e.cluster)for(var s in e.clusterProperties){var u,c,h=f(e.clusterProperties[s],2),p=h[0],d=h[1],y="string"==typeof p?[p,["accumulated"],["get",s]]:p;(u=o).push.apply(u,l(wr({key:"".concat(n,".").concat(s,".map"),value:d,expressionContext:"cluster-map"}))),(c=o).push.apply(c,l(wr({key:"".concat(n,".").concat(s,".reduce"),value:y,expressionContext:"cluster-reduce"})))}return o;case"video":return mr({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return mr({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Zt(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Er({key:"".concat(n,".type"),value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function Ur(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=rr(e);if(void 0===e)return o;if("object"!==a)return o=o.concat([new Zt("light",e,"object expected, ".concat(a," found"))]);for(var s in e){var u=s.match(/^(.*)-transition$/);o=o.concat(u&&r[u[1]]&&r[u[1]].transition?Gr({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Gr({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n}):[new Zt(s,e[s],'unknown property "'.concat(s,'"'))])}return o}function qr(t){var e=t.value,n=t.key,r=t.style,i=t.styleSpec,o=i.terrain,a=[],s=rr(e);if(void 0===e)return a;if("object"!==s)return a=a.concat([new Zt("terrain",e,"object expected, ".concat(s," found"))]);for(var u in e){var c=u.match(/^(.*)-transition$/);a=a.concat(c&&o[c[1]]&&o[c[1]].transition?Gr({key:u,value:e[u],valueSpec:i.transition,style:r,styleSpec:i}):o[u]?Gr({key:u,value:e[u],valueSpec:o[u],style:r,styleSpec:i}):[new Zt(u,e[u],'unknown property "'.concat(u,'"'))])}if(e.source){var l=r.sources&&r.sources[e.source],f=l&&Qt(l.type);l?"raster-dem"!==f&&a.push(new Zt(n,e.source,"terrain cannot be used with a source of type ".concat(f,', it only be used with a "raster-dem" source type'))):a.push(new Zt(n,e.source,'source "'.concat(e.source,'" not found')))}else a.push(new Zt(n,e,'terrain is missing required property "source"'));return a}var Vr={"*":function(){return[]},array:br,boolean:function(t){var e=t.value,n=t.key,r=rr(e);return"boolean"!==r?[new Zt(n,e,"boolean expected, ".concat(r," found"))]:[]},number:_r,color:function(t){var e=t.key,n=t.value,r=rr(n);return"string"!==r?[new Zt(e,n,"color expected, ".concat(r," found"))]:null===_e(n)?[new Zt(e,n,'color expected, "'.concat(n,'" found'))]:[]},constants:$t,enum:Er,filter:jr,function:xr,layer:Lr,object:mr,source:Br,light:Ur,terrain:qr,string:zr,formatted:function(t){return 0===zr(t).length?[]:wr(t)},resolvedImage:function(t){return 0===zr(t).length?[]:wr(t)}};function Gr(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&ir(Qt(e))?xr(t):n.expression&&hr(te(e))?wr(t):n.type&&Vr[n.type]?Vr[n.type](t):mr(Jt({},t,{valueSpec:n.type?r[n.type]:n}))}function Wr(t){var e=t.value,n=t.key,r=zr(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new Zt(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new Zt(n,e,'"glyphs" url must include a "{range}" token'))),r}function Hr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt,n=[];return n=n.concat(Gr({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Wr,"*":function(){return[]}}})),t.constants&&(n=n.concat($t({key:"constants",value:t.constants,style:t,styleSpec:e}))),Kr(n)}function Kr(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function Xr(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Kr(t.apply(this,n))}}Hr.source=Xr(Br),Hr.light=Xr(Ur),Hr.terrain=Xr(qr),Hr.layer=Xr(Lr),Hr.filter=Xr(jr),Hr.paintProperty=Xr(Dr),Hr.layoutProperty=Xr(Nr);var Yr=Hr,Zr=Yr.light,$r=Yr.paintProperty,Jr=Yr.layoutProperty;function Qr(t,e){var n=!1;if(e&&e.length){var r,i=h(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.fire(new Kt(new Error(o.message))),n=!0}}catch(a){i.e(a)}finally{i.f()}}return n}var ti=ei;function ei(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var u=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],u),this.bboxes=i.subarray(u),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var c=0;c<this.d*this.d;c++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var l=n/e*t;this.min=-l,this.max=t+l}ei.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},ei.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ei.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},ei.prototype.query=function(t,e,n,r,i){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,r,this._queryCell,s,{},i),s},ei.prototype._queryCell=function(t,e,n,r,i,o,a,s){var u=this.cells[i];if(null!==u)for(var c=this.keys,l=this.bboxes,f=0;f<u.length;f++){var h=u[f];if(void 0===a[h]){var p=4*h;(s?s(l[p+0],l[p+1],l[p+2],l[p+3]):t<=l[p+2]&&e<=l[p+3]&&n>=l[p+0]&&r>=l[p+1])?(a[h]=!0,o.push(c[h])):a[h]=!1}}},ei.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var u=this._convertToCellCoord(t),c=this._convertToCellCoord(e),l=this._convertToCellCoord(n),f=this._convertToCellCoord(r),h=u;h<=l;h++)for(var p=c;p<=f;p++){var d=this.d*p+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(p),this._convertFromCellCoord(h+1),this._convertFromCellCoord(p+1)))&&i.call(this,t,e,n,r,d,o,a,s))return}},ei.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},ei.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},ei.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+t.length]=o,i.set(this.keys,o),i[3+t.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var ni=b.ImageData,ri=b.ImageBitmap,ii={};function oi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),ii[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var ai in oi("Object",Object),ti.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},ti.deserialize=function(t){return new ti(t.buffer)},oi("Grid",ti),oi("Color",xe),oi("Error",Error),oi("ResolvedImage",ke),oi("StylePropertyFunction",gr),oi("StyleExpression",fr,{omit:["_evaluator"]}),oi("ZoomDependentExpression",yr),oi("ZoomConstantExpression",dr),oi("CompoundExpression",Be,{omit:["_evaluate"]}),Kn)Kn[ai]._classRegistryKey||oi("Expression_".concat(ai),Kn[ai]);function si(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function ui(t){return ri&&t instanceof ri}function ci(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(si(t)||ui(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof ni)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){var r,i=[],o=h(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(ci(a,e))}}catch(p){o.e(p)}finally{o.f()}return i}if("object"==typeof t){var s=t.constructor,u=s._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var c=s.serialize?s.serialize(t,e):{};if(!s.serialize){for(var l in t)if(t.hasOwnProperty(l)&&!(ii[u].omit.indexOf(l)>=0)){var f=t[l];c[l]=ii[u].shallow.indexOf(l)>=0?f:ci(f,e)}t instanceof Error&&(c.message=t.message)}if(c.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==u&&(c.$name=u),c}throw new Error("can't serialize object of type ".concat(typeof t))}function li(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||si(t)||ui(t)||ArrayBuffer.isView(t)||t instanceof ni)return t;if(Array.isArray(t))return t.map(li);if("object"==typeof t){var e=t.$name||"Object",n=ii[e].klass;if(!n)throw new Error("can't deserialize unregistered class ".concat(e));if(n.deserialize)return n.deserialize(t);for(var r=Object.create(n.prototype),i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];if("$name"!==a){var s=t[a];r[a]=ii[e].shallow.indexOf(a)>=0?s:li(s)}}return r}throw new Error("can't deserialize object of type ".concat(typeof t))}var fi=function(){function t(){v(this,t),this.first=!0}return g(t,[{key:"update",value:function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))}}]),t}(),hi={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function pi(t){var e,n=h(t);try{for(n.s();!(e=n.n()).done;)if(vi(e.value.charCodeAt(0)))return!0}catch(r){n.e(r)}finally{n.f()}return!1}function di(t){var e,n=h(t);try{for(n.s();!(e=n.n()).done;)if(!yi(e.value.charCodeAt(0)))return!1}catch(r){n.e(r)}finally{n.f()}return!0}function yi(t){return!(hi.Arabic(t)||hi["Arabic Supplement"](t)||hi["Arabic Extended-A"](t)||hi["Arabic Presentation Forms-A"](t)||hi["Arabic Presentation Forms-B"](t))}function vi(t){return!(746!==t&&747!==t&&(t<4352||!(hi["Bopomofo Extended"](t)||hi.Bopomofo(t)||hi["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||hi["CJK Compatibility Ideographs"](t)||hi["CJK Compatibility"](t)||hi["CJK Radicals Supplement"](t)||hi["CJK Strokes"](t)||!(!hi["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||hi["CJK Unified Ideographs Extension A"](t)||hi["CJK Unified Ideographs"](t)||hi["Enclosed CJK Letters and Months"](t)||hi["Hangul Compatibility Jamo"](t)||hi["Hangul Jamo Extended-A"](t)||hi["Hangul Jamo Extended-B"](t)||hi["Hangul Jamo"](t)||hi["Hangul Syllables"](t)||hi.Hiragana(t)||hi["Ideographic Description Characters"](t)||hi.Kanbun(t)||hi["Kangxi Radicals"](t)||hi["Katakana Phonetic Extensions"](t)||hi.Katakana(t)&&12540!==t||!(!hi["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!hi["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||hi["Unified Canadian Aboriginal Syllabics"](t)||hi["Unified Canadian Aboriginal Syllabics Extended"](t)||hi["Vertical Forms"](t)||hi["Yijing Hexagram Symbols"](t)||hi["Yi Syllables"](t)||hi["Yi Radicals"](t))))}function gi(t){return!(vi(t)||function(t){return!!(hi["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||hi["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||hi["Letterlike Symbols"](t)||hi["Number Forms"](t)||hi["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||hi["Control Pictures"](t)&&9251!==t||hi["Optical Character Recognition"](t)||hi["Enclosed Alphanumerics"](t)||hi["Geometric Shapes"](t)||hi["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||hi["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||hi["CJK Symbols and Punctuation"](t)||hi.Katakana(t)||hi["Private Use Area"](t)||hi["CJK Compatibility Forms"](t)||hi["Small Form Variants"](t)||hi["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function mi(t){return t>=1424&&t<=2303||hi["Arabic Presentation Forms-A"](t)||hi["Arabic Presentation Forms-B"](t)}function bi(t,e){return!(!e&&mi(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||hi.Khmer(t))}function _i(t){var e,n=h(t);try{for(n.s();!(e=n.n()).done;)if(mi(e.value.charCodeAt(0)))return!0}catch(r){n.e(r)}finally{n.f()}return!1}var xi=null,wi="unavailable",Ei=null,Si=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(wi="error"),xi&&xi(t)};function ki(){Oi.fire(new Ht("pluginStateChange",{pluginStatus:wi,pluginURL:Ei}))}var Oi=new Xt,Ci=function(){return wi},Pi=function(){if("deferred"!==wi||!Ei)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");wi="loading",ki(),Ei&&Nt({url:Ei},(function(t){t?Si(t):(wi="loaded",ki())}))},Ti={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===wi||null!=Ti.applyArabicShaping},isLoading:function(){return"loading"===wi},setState:function(t){wi=t.pluginStatus,Ei=t.pluginURL},isParsed:function(){return null!=Ti.applyArabicShaping&&null!=Ti.processBidirectionalText&&null!=Ti.processStyledBidirectionalText},getPluginURL:function(){return Ei}},Mi=function(){function t(e,n){v(this,t),this.zoom=e,n?(this.now=n.now,this.fadeDuration=n.fadeDuration,this.zoomHistory=n.zoomHistory,this.transition=n.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new fi,this.transition={})}return g(t,[{key:"isSupportedScript",value:function(t){return function(t,e){var n,r=h(t);try{for(r.s();!(n=r.n()).done;)if(!bi(n.value.charCodeAt(0),e))return!1}catch(i){r.e(i)}finally{r.f()}return!0}(t,Ti.isLoaded())}},{key:"crossFadingFactor",value:function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}},{key:"getCrossfadeParameters",value:function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}}}]),t}(),Ai=function(){function t(e,n){v(this,t),this.property=e,this.value=n,this.expression=function(t,e){if(ir(t))return new gr(t,e);if(hr(t)){var n=vr(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return"".concat(t.key,": ").concat(t.message)})).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=xe.parse(t)),{kind:"constant",evaluate:function(){return r}}}(void 0===n?e.specification.default:n,e.specification)}return g(t,[{key:"isDataDriven",value:function(){return"source"===this.expression.kind||"composite"===this.expression.kind}},{key:"possiblyEvaluate",value:function(t,e,n){return this.property.possiblyEvaluate(this,t,e,n)}}]),t}(),Ii=function(){function t(e){v(this,t),this.property=e,this.value=new Ai(e,void 0)}return g(t,[{key:"transitioned",value:function(t,e){return new Ri(this.property,this.value,e,A({},t.transition,this.transition),t.now)}},{key:"untransitioned",value:function(){return new Ri(this.property,this.value,null,{},0)}}]),t}(),ji=function(){function t(e){v(this,t),this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}return g(t,[{key:"getValue",value:function(t){return B(this._values[t].value.value)}},{key:"setValue",value:function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Ii(this._values[t].property)),this._values[t].value=new Ai(this._values[t].property,null===e?void 0:B(e))}},{key:"getTransition",value:function(t){return B(this._values[t].transition)}},{key:"setTransition",value:function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Ii(this._values[t].property)),this._values[t].transition=B(e)||void 0}},{key:"serialize",value:function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e++){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t["".concat(r,"-transition")]=o)}return t}},{key:"transitioned",value:function(t,e){for(var n=new Di(this._properties),r=0,i=Object.keys(this._values);r<i.length;r++){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n}},{key:"untransitioned",value:function(){for(var t=new Di(this._properties),e=0,n=Object.keys(this._values);e<n.length;e++){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t}}]),t}(),Ri=function(){function t(e,n,r,i,o){v(this,t),this.property=e,this.value=n,this.begin=o+i.delay||0,this.end=this.begin+i.duration||0,e.specification.transition&&(i.delay||i.duration)&&(this.prior=r)}return g(t,[{key:"possiblyEvaluate",value:function(t,e,n){var r=t.now||0,i=this.value.possiblyEvaluate(t,e,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(t,e,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,n),i,k(a))}return i}}]),t}(),Di=function(){function t(e){v(this,t),this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}return g(t,[{key:"possiblyEvaluate",value:function(t,e,n){for(var r=new zi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i++){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r}},{key:"hasTransition",value:function(){for(var t=0,e=Object.keys(this._values);t<e.length;t++){var n=e[t];if(this._values[n].prior)return!0}return!1}}]),t}(),Ni=function(){function t(e){v(this,t),this._properties=e,this._values=Object.create(e.defaultPropertyValues)}return g(t,[{key:"getValue",value:function(t){return B(this._values[t].value)}},{key:"setValue",value:function(t,e){this._values[t]=new Ai(this._values[t].property,null===e?void 0:B(e))}},{key:"serialize",value:function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e++){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t}},{key:"possiblyEvaluate",value:function(t,e,n){for(var r=new zi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i++){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r}}]),t}(),Li=function(){function t(e,n,r){v(this,t),this.property=e,this.value=n,this.parameters=r}return g(t,[{key:"isConstant",value:function(){return"constant"===this.value.kind}},{key:"constantOr",value:function(t){return"constant"===this.value.kind?this.value.value:t}},{key:"evaluate",value:function(t,e,n,r){return this.property.evaluate(this.value,this.parameters,t,e,n,r)}}]),t}(),zi=function(){function t(e){v(this,t),this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}return g(t,[{key:"get",value:function(t){return this._values[t]}}]),t}(),Fi=function(){function t(e){v(this,t),this.specification=e}return g(t,[{key:"possiblyEvaluate",value:function(t,e){return t.expression.evaluate(e)}},{key:"interpolate",value:function(t,e,n){var r=pn[this.specification.type];return r?r(t,e,n):t}}]),t}(),Bi=function(){function t(e,n){v(this,t),this.specification=e,this.overrides=n}return g(t,[{key:"possiblyEvaluate",value:function(t,e,n,r){return new Li(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n,r)}:t.expression,e)}},{key:"interpolate",value:function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Li(this,{kind:"constant",value:void 0},t.parameters);var r=pn[this.specification.type];return r?new Li(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.parameters):t}},{key:"evaluate",value:function(t,e,n,r,i,o){return"constant"===t.kind?t.value:t.evaluate(e,n,r,i,o)}}]),t}(),Ui=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"possiblyEvaluate",value:function(t,e,n,r){if(void 0===t.value)return new Li(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r),o="resolvedImage"===t.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,e);return new Li(this,{kind:"constant",value:a},e)}if("camera"===t.expression.kind){var s=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new Li(this,{kind:"constant",value:s},e)}return new Li(this,t.expression,e)}},{key:"evaluate",value:function(t,e,n,r,i,o){if("source"===t.kind){var a=t.evaluate(e,n,r,i,o);return this._calculate(a,a,a,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value}},{key:"_calculate",value:function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}}},{key:"interpolate",value:function(t){return t}}]),n}(Bi),qi=function(){function t(e){v(this,t),this.specification=e}return g(t,[{key:"possiblyEvaluate",value:function(t,e,n,r){if(void 0!==t.value){if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new Mi(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Mi(Math.floor(e.zoom),e)),t.expression.evaluate(new Mi(Math.floor(e.zoom+1),e)),e)}}},{key:"_calculate",value:function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}}},{key:"interpolate",value:function(t){return t}}]),t}(),Vi=function(){function t(e){v(this,t),this.specification=e}return g(t,[{key:"possiblyEvaluate",value:function(t,e,n,r){return!!t.expression.evaluate(e,null,{},n,r)}},{key:"interpolate",value:function(){return!1}}]),t}(),Gi=function t(e){for(var n in v(this,t),this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var r=e[n];r.specification.overridable&&this.overridableProperties.push(n);var i=this.defaultPropertyValues[n]=new Ai(r,void 0),o=this.defaultTransitionablePropertyValues[n]=new Ii(r);this.defaultTransitioningPropertyValues[n]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=i.possiblyEvaluate({})}};function Wi(t,e){return 256*(t=P(Math.floor(t),0,255))+P(Math.floor(e),0,255)}oi("DataDrivenProperty",Bi),oi("DataConstantProperty",Fi),oi("CrossFadedDataDrivenProperty",Ui),oi("CrossFadedProperty",qi),oi("ColorRampProperty",Vi);var Hi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ki=function t(e,n){v(this,t),this._structArray=e,this._pos1=n*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Xi=function(){function t(){v(this,t),this.isTransferred=!1,this.capacity=-1,this.resize(0)}return g(t,[{key:"_trim",value:function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}},{key:"clear",value:function(){this.length=0}},{key:"resize",value:function(t){this.reserve(t),this.length=t}},{key:"reserve",value:function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}}},{key:"_refreshViews",value:function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}],[{key:"serialize",value:function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}},{key:"deserialize",value:function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e}}]),t}();function Yi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0;return{members:t.map((function(t){var i=Hi[t.type].BYTES_PER_ELEMENT,o=n=Zi(n,Math.max(e,i)),a=t.components||1;return r=Math.max(r,i),n+=i*a,{name:t.name,type:t.type,components:a,offset:o}})),size:Zi(n,Math.max(r,e)),alignment:e}}function Zi(t,e){return Math.ceil(t/e)*e}var $i=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)}},{key:"emplace",value:function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t}}]),n}(Xi);$i.prototype.bytesPerElement=4,oi("StructArrayLayout2i4",$i);var Ji=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)}},{key:"emplace",value:function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t}}]),n}(Xi);Ji.prototype.bytesPerElement=8,oi("StructArrayLayout4i8",Ji);var Qi=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o,a){var s=this.length;return this.resize(s+1),this.emplace(s,t,e,n,r,i,o,a)}},{key:"emplace",value:function(t,e,n,r,i,o,a,s){var u=6*t,c=12*t,l=3*t;return this.int16[u+0]=e,this.int16[u+1]=n,this.uint8[c+4]=r,this.uint8[c+5]=i,this.uint8[c+6]=o,this.uint8[c+7]=a,this.float32[l+2]=s,t}}]),n}(Xi);Qi.prototype.bytesPerElement=12,oi("StructArrayLayout2i4ub1f12",Qi);var to=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)}},{key:"emplace",value:function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t}}]),n}(Xi);to.prototype.bytesPerElement=8,oi("StructArrayLayout2f8",to);var eo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o,a,s,u,c){var l=this.length;return this.resize(l+1),this.emplace(l,t,e,n,r,i,o,a,s,u,c)}},{key:"emplace",value:function(t,e,n,r,i,o,a,s,u,c,l){var f=10*t;return this.uint16[f+0]=e,this.uint16[f+1]=n,this.uint16[f+2]=r,this.uint16[f+3]=i,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=u,this.uint16[f+8]=c,this.uint16[f+9]=l,t}}]),n}(Xi);eo.prototype.bytesPerElement=20,oi("StructArrayLayout10ui20",eo);var no=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o,a,s,u,c,l,f){var h=this.length;return this.resize(h+1),this.emplace(h,t,e,n,r,i,o,a,s,u,c,l,f)}},{key:"emplace",value:function(t,e,n,r,i,o,a,s,u,c,l,f,h){var p=12*t;return this.int16[p+0]=e,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=i,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=u,this.int16[p+8]=c,this.int16[p+9]=l,this.int16[p+10]=f,this.int16[p+11]=h,t}}]),n}(Xi);no.prototype.bytesPerElement=24,oi("StructArrayLayout4i4ui4i24",no);var ro=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)}},{key:"emplace",value:function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t}}]),n}(Xi);ro.prototype.bytesPerElement=12,oi("StructArrayLayout3f12",ro);var io=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)}},{key:"emplace",value:function(t,e){return this.uint32[1*t+0]=e,t}}]),n}(Xi);io.prototype.bytesPerElement=4,oi("StructArrayLayout1ul4",io);var oo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o,a,s,u,c){var l=this.length;return this.resize(l+1),this.emplace(l,t,e,n,r,i,o,a,s,u,c)}},{key:"emplace",value:function(t,e,n,r,i,o,a,s,u,c,l){var f=16*t,h=8*t;return this.int16[f+0]=e,this.int16[f+1]=n,this.float32[h+1]=r,this.float32[h+2]=i,this.float32[h+3]=o,this.float32[h+4]=a,this.int16[f+10]=s,this.uint32[h+6]=u,this.uint16[f+14]=c,this.uint16[f+15]=l,t}}]),n}(Xi);oo.prototype.bytesPerElement=32,oi("StructArrayLayout2i4f1i1ul2ui32",oo);var ao=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)}},{key:"emplace",value:function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t}}]),n}(Xi);ao.prototype.bytesPerElement=12,oi("StructArrayLayout2i2i2i12",ao);var so=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,r,i)}},{key:"emplace",value:function(t,e,n,r,i,o){var a=4*t,s=8*t;return this.float32[a+0]=e,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,t}}]),n}(Xi);so.prototype.bytesPerElement=16,oi("StructArrayLayout2f1f2i16",so);var uo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)}},{key:"emplace",value:function(t,e,n,r,i){var o=12*t,a=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,t}}]),n}(Xi);uo.prototype.bytesPerElement=12,oi("StructArrayLayout2ub2f12",uo);var co=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)}},{key:"emplace",value:function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t}}]),n}(Xi);co.prototype.bytesPerElement=6,oi("StructArrayLayout3ui6",co);var lo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,y,v){var g=this.length;return this.resize(g+1),this.emplace(g,t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,y,v)}},{key:"emplace",value:function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,y,v,g){var m=24*t,b=12*t,_=48*t;return this.int16[m+0]=e,this.int16[m+1]=n,this.uint16[m+2]=r,this.uint16[m+3]=i,this.uint32[b+2]=o,this.uint32[b+3]=a,this.uint32[b+4]=s,this.uint16[m+10]=u,this.uint16[m+11]=c,this.uint16[m+12]=l,this.float32[b+7]=f,this.float32[b+8]=h,this.uint8[_+36]=p,this.uint8[_+37]=d,this.uint8[_+38]=y,this.uint32[b+10]=v,this.int16[m+22]=g,t}}]),n}(Xi);lo.prototype.bytesPerElement=48,oi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",lo);var fo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,y,v,g,m,b,_,x,w,E,S,k,O,C){var P=this.length;return this.resize(P+1),this.emplace(P,t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,y,v,g,m,b,_,x,w,E,S,k,O,C)}},{key:"emplace",value:function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,y,v,g,m,b,_,x,w,E,S,k,O,C,P){var T=34*t,M=17*t;return this.int16[T+0]=e,this.int16[T+1]=n,this.int16[T+2]=r,this.int16[T+3]=i,this.int16[T+4]=o,this.int16[T+5]=a,this.int16[T+6]=s,this.int16[T+7]=u,this.uint16[T+8]=c,this.uint16[T+9]=l,this.uint16[T+10]=f,this.uint16[T+11]=h,this.uint16[T+12]=p,this.uint16[T+13]=d,this.uint16[T+14]=y,this.uint16[T+15]=v,this.uint16[T+16]=g,this.uint16[T+17]=m,this.uint16[T+18]=b,this.uint16[T+19]=_,this.uint16[T+20]=x,this.uint16[T+21]=w,this.uint16[T+22]=E,this.uint32[M+12]=S,this.float32[M+13]=k,this.float32[M+14]=O,this.float32[M+15]=C,this.float32[M+16]=P,t}}]),n}(Xi);fo.prototype.bytesPerElement=68,oi("StructArrayLayout8i15ui1ul4f68",fo);var ho=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)}},{key:"emplace",value:function(t,e){return this.float32[1*t+0]=e,t}}]),n}(Xi);ho.prototype.bytesPerElement=4,oi("StructArrayLayout1f4",ho);var po=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)}},{key:"emplace",value:function(t,e,n,r){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t}}]),n}(Xi);po.prototype.bytesPerElement=6,oi("StructArrayLayout3i6",po);var yo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)}},{key:"emplace",value:function(t,e,n,r){var i=4*t;return this.uint32[2*t+0]=e,this.uint16[i+2]=n,this.uint16[i+3]=r,t}}]),n}(Xi);yo.prototype.bytesPerElement=8,oi("StructArrayLayout1ul2ui8",yo);var vo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)}},{key:"emplace",value:function(t,e,n){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t}}]),n}(Xi);vo.prototype.bytesPerElement=4,oi("StructArrayLayout2ui4",vo);var go=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)}},{key:"emplace",value:function(t,e){return this.uint16[1*t+0]=e,t}}]),n}(Xi);go.prototype.bytesPerElement=2,oi("StructArrayLayout1ui2",go);var mo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)}},{key:"emplace",value:function(t,e,n,r,i){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t}}]),n}(Xi);mo.prototype.bytesPerElement=16,oi("StructArrayLayout4f16",mo);var bo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"anchorPointX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"anchorPointY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"x1",get:function(){return this._structArray.float32[this._pos4+1]}},{key:"y1",get:function(){return this._structArray.float32[this._pos4+2]}},{key:"x2",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"y2",get:function(){return this._structArray.float32[this._pos4+4]}},{key:"padding",get:function(){return this._structArray.int16[this._pos2+10]}},{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+6]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+14]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+15]}},{key:"anchorPoint",get:function(){return new r(this.anchorPointX,this.anchorPointY)}}]),n}(Ki);bo.prototype.size=32;var _o=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"get",value:function(t){return new bo(this,t)}}]),n}(oo);oi("CollisionBoxArray",_o);var xo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"anchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"anchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"glyphStartIndex",get:function(){return this._structArray.uint16[this._pos2+2]}},{key:"numGlyphs",get:function(){return this._structArray.uint16[this._pos2+3]}},{key:"vertexStartIndex",get:function(){return this._structArray.uint32[this._pos4+2]}},{key:"lineStartIndex",get:function(){return this._structArray.uint32[this._pos4+3]}},{key:"lineLength",get:function(){return this._structArray.uint32[this._pos4+4]}},{key:"segment",get:function(){return this._structArray.uint16[this._pos2+10]}},{key:"lowerSize",get:function(){return this._structArray.uint16[this._pos2+11]}},{key:"upperSize",get:function(){return this._structArray.uint16[this._pos2+12]}},{key:"lineOffsetX",get:function(){return this._structArray.float32[this._pos4+7]}},{key:"lineOffsetY",get:function(){return this._structArray.float32[this._pos4+8]}},{key:"writingMode",get:function(){return this._structArray.uint8[this._pos1+36]}},{key:"placedOrientation",get:function(){return this._structArray.uint8[this._pos1+37]},set:function(t){this._structArray.uint8[this._pos1+37]=t}},{key:"hidden",get:function(){return this._structArray.uint8[this._pos1+38]},set:function(t){this._structArray.uint8[this._pos1+38]=t}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+10]},set:function(t){this._structArray.uint32[this._pos4+10]=t}},{key:"associatedIconIndex",get:function(){return this._structArray.int16[this._pos2+22]}}]),n}(Ki);xo.prototype.size=48;var wo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"get",value:function(t){return new xo(this,t)}}]),n}(lo);oi("PlacedSymbolArray",wo);var Eo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"anchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"anchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"rightJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"centerJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"leftJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"verticalPlacedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+5]}},{key:"placedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+6]}},{key:"verticalPlacedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+7]}},{key:"key",get:function(){return this._structArray.uint16[this._pos2+8]}},{key:"textBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+9]}},{key:"textBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+10]}},{key:"verticalTextBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+11]}},{key:"verticalTextBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+12]}},{key:"iconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+13]}},{key:"iconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+14]}},{key:"verticalIconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+15]}},{key:"verticalIconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"featureIndex",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"numHorizontalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"numVerticalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+19]}},{key:"numIconVertices",get:function(){return this._structArray.uint16[this._pos2+20]}},{key:"numVerticalIconVertices",get:function(){return this._structArray.uint16[this._pos2+21]}},{key:"useRuntimeCollisionCircles",get:function(){return this._structArray.uint16[this._pos2+22]}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+12]},set:function(t){this._structArray.uint32[this._pos4+12]=t}},{key:"textBoxScale",get:function(){return this._structArray.float32[this._pos4+13]}},{key:"textOffset0",get:function(){return this._structArray.float32[this._pos4+14]}},{key:"textOffset1",get:function(){return this._structArray.float32[this._pos4+15]}},{key:"collisionCircleDiameter",get:function(){return this._structArray.float32[this._pos4+16]}}]),n}(Ki);Eo.prototype.size=68;var So=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"get",value:function(t){return new Eo(this,t)}}]),n}(fo);oi("SymbolInstanceArray",So);var ko=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getoffsetX",value:function(t){return this.float32[1*t+0]}}]),n}(ho);oi("GlyphOffsetArray",ko);var Oo=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getx",value:function(t){return this.int16[3*t+0]}},{key:"gety",value:function(t){return this.int16[3*t+1]}},{key:"gettileUnitDistanceFromAnchor",value:function(t){return this.int16[3*t+2]}}]),n}(po);oi("SymbolLineVertexArray",Oo);var Co=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+0]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+2]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+3]}}]),n}(Ki);Co.prototype.size=8;var Po=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"get",value:function(t){return new Co(this,t)}}]),n}(yo);oi("FeatureIndexArray",Po);var To=Yi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Mo=be((function(t){t.exports=function(t,e){var n,r,i,o,a,s,u,c;for(r=t.length-(n=3&t.length),i=e,a=3432918353,s=461845907,c=0;c<r;)u=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&t.charCodeAt(c+2))<<16;case 2:u^=(255&t.charCodeAt(c+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&t.charCodeAt(c)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),Ao=be((function(t){t.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;r>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),Io=Mo,jo=Ao;Io.murmur3=Mo,Io.murmur2=jo;var Ro=function(){function t(){v(this,t),this.ids=[],this.positions=[],this.indexed=!1}return g(t,[{key:"add",value:function(t,e,n,r){this.ids.push(Do(t)),this.positions.push(e,n,r)}},{key:"getPositions",value:function(t){for(var e=Do(t),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=e?r=i:n=i+1}for(var o=[];this.ids[n]===e;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o}}],[{key:"serialize",value:function(t,e){var n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,n,r,i){for(;r<i;){for(var o=e[r+i>>1],a=r-1,s=i+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;No(e,a,s),No(n,3*a,3*s),No(n,3*a+1,3*s+1),No(n,3*a+2,3*s+2)}s-r<i-s?(t(e,n,r,s),r=s+1):(t(e,n,s+1,i),i=s)}}(n,r,0,n.length-1),e&&e.push(n.buffer,r.buffer),{ids:n,positions:r}}},{key:"deserialize",value:function(e){var n=new t;return n.ids=e.ids,n.positions=e.positions,n.indexed=!0,n}}]),t}();function Do(t){var e=+t;return!isNaN(e)&&e<=x?e:Io(String(t))}function No(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}oi("FeaturePositionMap",Ro);var Lo=function t(e,n){v(this,t),this.gl=e.gl,this.location=n},zo=function(t){d(n,t);var e=y(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).current=0,i}return g(n,[{key:"set",value:function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}]),n}(Lo),Fo=function(t){d(n,t);var e=y(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).current=[0,0,0,0],i}return g(n,[{key:"set",value:function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}]),n}(Lo),Bo=function(t){d(n,t);var e=y(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).current=xe.transparent,i}return g(n,[{key:"set",value:function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}]),n}(Lo),Uo=new Float32Array(16),qo=new Float32Array(9);function Vo(t){return[Wi(255*t.r,255*t.g),Wi(255*t.b,255*t.a)]}var Go=function(){function t(e,n,r){v(this,t),this.value=e,this.uniformNames=n.map((function(t){return"u_".concat(t)})),this.type=r}return g(t,[{key:"setUniform",value:function(t,e,n){t.set(n.constantOr(this.value))}},{key:"getBinding",value:function(t,e,n){return"color"===this.type?new Bo(t,e):new zo(t,e)}}]),t}(),Wo=function(){function t(e,n){v(this,t),this.uniformNames=n.map((function(t){return"u_".concat(t)})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}return g(t,[{key:"setConstantPatternPositions",value:function(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr}},{key:"setUniform",value:function(t,e,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&t.set(i)}},{key:"getBinding",value:function(t,e,n){return"u_pattern"===n.substr(0,9)?new Fo(t,e):new zo(t,e)}}]),t}(),Ho=function(){function t(e,n,r,i){v(this,t),this.expression=e,this.type=r,this.maxValue=0,this.paintVertexAttributes=n.map((function(t){return{name:"a_".concat(t),type:"Float32",components:"color"===r?2:1,offset:0}})),this.paintVertexArray=new i}return g(t,[{key:"populatePaintArray",value:function(t,e,n,r,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new Mi(0),e,{},r,[],i);this.paintVertexArray.resize(t),this._setPaintValue(o,t,a)}},{key:"updatePaintArray",value:function(t,e,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(t,e,i)}},{key:"_setPaintValue",value:function(t,e,n){if("color"===this.type)for(var r=Vo(n),i=t;i<e;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var o=t;o<e;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}},{key:"upload",value:function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}]),t}(),Ko=function(){function t(e,n,r,i,o,a){v(this,t),this.expression=e,this.uniformNames=n.map((function(t){return"u_".concat(t,"_t")})),this.type=r,this.useIntegerZoom=i,this.zoom=o,this.maxValue=0,this.paintVertexAttributes=n.map((function(t){return{name:"a_".concat(t),type:"Float32",components:"color"===r?4:2,offset:0}})),this.paintVertexArray=new a}return g(t,[{key:"populatePaintArray",value:function(t,e,n,r,i){var o=this.expression.evaluate(new Mi(this.zoom),e,{},r,[],i),a=this.expression.evaluate(new Mi(this.zoom+1),e,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(s,t,o,a)}},{key:"updatePaintArray",value:function(t,e,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(t,e,i,o)}},{key:"_setPaintValue",value:function(t,e,n,r){if("color"===this.type)for(var i=Vo(n),o=Vo(r),a=t;a<e;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var s=t;s<e;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}},{key:"upload",value:function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}},{key:"setUniform",value:function(t,e){var n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,r=P(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(r)}},{key:"getBinding",value:function(t,e,n){return new zo(t,e)}}]),t}(),Xo=function(){function t(e,n,r,i,o,a){v(this,t),this.expression=e,this.type=n,this.useIntegerZoom=r,this.zoom=i,this.layerId=a,this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o}return g(t,[{key:"populatePaintArray",value:function(t,e,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(r,t,e.patterns&&e.patterns[this.layerId],n)}},{key:"updatePaintArray",value:function(t,e,n,r,i){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],i)}},{key:"_setPaintValues",value:function(t,e,n,r){if(r&&n){var i=n.min,o=n.mid,a=n.max,s=r[i],u=r[o],c=r[a];if(s&&u&&c)for(var l=t;l<e;l++)this.zoomInPaintVertexArray.emplace(l,u.tl[0],u.tl[1],u.br[0],u.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],u.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(l,u.tl[0],u.tl[1],u.br[0],u.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1],u.pixelRatio,c.pixelRatio)}}},{key:"upload",value:function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,To.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,To.members,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}]),t}(),Yo=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};v(this,t),this.binders={},this._buffers=[];var i=[];for(var o in e.paint._values)if(r(o)){var a=e.paint.get(o);if(a instanceof Li&&tr(a.property.specification)){var s=$o(o,e.type),u=a.value,c=a.property.specification.type,l=a.property.useIntegerZoom,f=a.property.specification["property-type"],h="cross-faded"===f||"cross-faded-data-driven"===f;if("constant"===u.kind)this.binders[o]=h?new Wo(u.value,s):new Go(u.value,s,c),i.push("/u_".concat(o));else if("source"===u.kind||h){var p=Jo(o,c,"source");this.binders[o]=h?new Xo(u,c,l,n,p,e.id):new Ho(u,s,c,p),i.push("/a_".concat(o))}else{var d=Jo(o,c,"composite");this.binders[o]=new Ko(u,s,c,l,n,d),i.push("/z_".concat(o))}}}this.cacheKey=i.sort().join("")}return g(t,[{key:"getMaxValue",value:function(t){var e=this.binders[t];return e instanceof Ho||e instanceof Ko?e.maxValue:0}},{key:"populatePaintArrays",value:function(t,e,n,r,i){for(var o in this.binders){var a=this.binders[o];(a instanceof Ho||a instanceof Ko||a instanceof Xo)&&a.populatePaintArray(t,e,n,r,i)}}},{key:"setConstantPatternPositions",value:function(t,e){for(var n in this.binders){var r=this.binders[n];r instanceof Wo&&r.setConstantPatternPositions(t,e)}}},{key:"updatePaintArrays",value:function(t,e,n,r,i){var o=!1;for(var a in t){var s,u=e.getPositions(a),c=h(u);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=n.feature(l.index);for(var p in this.binders){var d=this.binders[p];if((d instanceof Ho||d instanceof Ko||d instanceof Xo)&&!0===d.expression.isStateDependent){var y=r.paint.get(p);d.expression=y.value,d.updatePaintArray(l.start,l.end,f,t[a],i),o=!0}}}}catch(v){c.e(v)}finally{c.f()}}return o}},{key:"defines",value:function(){var t=[];for(var e in this.binders){var n=this.binders[e];(n instanceof Go||n instanceof Wo)&&t.push.apply(t,l(n.uniformNames.map((function(t){return"#define HAS_UNIFORM_".concat(t)}))))}return t}},{key:"getBinderAttributes",value:function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof Ho||n instanceof Ko)for(var r=0;r<n.paintVertexAttributes.length;r++)t.push(n.paintVertexAttributes[r].name);else if(n instanceof Xo)for(var i=0;i<To.members.length;i++)t.push(To.members[i].name)}return t}},{key:"getBinderUniforms",value:function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof Go||n instanceof Wo||n instanceof Ko){var r,i=h(n.uniformNames);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.push(o)}}catch(a){i.e(a)}finally{i.f()}}}return t}},{key:"getPaintVertexBuffers",value:function(){return this._buffers}},{key:"getUniforms",value:function(t,e){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof Go||i instanceof Wo||i instanceof Ko){var o,a=h(i.uniformNames);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(e[s]){var u=i.getBinding(t,e[s],s);n.push({name:s,property:r,binding:u})}}}catch(c){a.e(c)}finally{a.f()}}}return n}},{key:"setUniforms",value:function(t,e,n,r){var i,o=h(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.name,u=a.property,c=a.binding;this.binders[u].setUniform(c,r,n.get(u),s)}}catch(l){o.e(l)}finally{o.f()}}},{key:"updatePaintBuffers",value:function(t){for(var e in this._buffers=[],this.binders){var n=this.binders[e];if(t&&n instanceof Xo){var r=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Ho||n instanceof Ko)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}},{key:"upload",value:function(t){for(var e in this.binders){var n=this.binders[e];(n instanceof Ho||n instanceof Ko||n instanceof Xo)&&n.upload(t)}this.updatePaintBuffers()}},{key:"destroy",value:function(){for(var t in this.binders){var e=this.binders[t];(e instanceof Ho||e instanceof Ko||e instanceof Xo)&&e.destroy()}}}]),t}(),Zo=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};v(this,t),this.programConfigurations={};var i,o=h(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.programConfigurations[a.id]=new Yo(a,n,r)}}catch(s){o.e(s)}finally{o.f()}this.needsUpload=!1,this._featureMap=new Ro,this._bufferOffset=0}return g(t,[{key:"populatePaintArrays",value:function(t,e,n,r,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(t,e,r,i,o);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}},{key:"updatePaintArrays",value:function(t,e,n,r){var i,o=h(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,this._featureMap,e,a,r)||this.needsUpload}}catch(s){o.e(s)}finally{o.f()}}},{key:"get",value:function(t){return this.programConfigurations[t]}},{key:"upload",value:function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}}},{key:"destroy",value:function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()}}]),t}();function $o(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace("".concat(e,"-"),"").replace(/-/g,"_")]}function Jo(t,e,n){var r={color:{source:to,composite:mo},number:{source:ho,composite:to}},i=function(t){return{"line-pattern":{source:eo,composite:eo},"fill-pattern":{source:eo,composite:eo},"fill-extrusion-pattern":{source:eo,composite:eo}}[t]}(t);return i&&i[n]||r[e][n]}oi("ConstantBinder",Go),oi("CrossFadedConstantBinder",Wo),oi("SourceExpressionBinder",Ho),oi("CrossFadedCompositeBinder",Xo),oi("CompositeExpressionBinder",Ko),oi("ProgramConfiguration",Yo,{omit:["_buffers"]}),oi("ProgramConfigurationSet",Zo);var Qo=function(t){d(n,t);var e=y(n);function n(t,r){var i;if(v(this,n),(i=e.call(this)).id=t.id,i.type=t.type,i._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==t.type&&(i.metadata=(t=t).metadata,i.minzoom=t.minzoom,i.maxzoom=t.maxzoom,"background"!==t.type&&"sky"!==t.type&&(i.source=t.source,i.sourceLayer=t["source-layer"],i.filter=t.filter),r.layout&&(i._unevaluatedLayout=new Ni(r.layout)),r.paint)){for(var o in i._transitionablePaint=new ji(r.paint),t.paint)i.setPaintProperty(o,t.paint[o],{validate:!1});for(var a in t.layout)i.setLayoutProperty(a,t.layout[a],{validate:!1});i._transitioningPaint=i._transitionablePaint.untransitioned(),i.paint=new zi(r.paint)}return u(i)}return g(n,[{key:"getCrossfadeParameters",value:function(){return this._crossfadeParameters}},{key:"getLayoutProperty",value:function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}},{key:"setLayoutProperty",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=e&&this._validate(Jr,"layers.".concat(this.id,".layout.").concat(t),t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)}},{key:"getPaintProperty",value:function(t){return L(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)}},{key:"setPaintProperty",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e&&this._validate($r,"layers.".concat(this.id,".paint.").concat(t),t,e,n))return!1;if(L(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var r=this._transitionablePaint._values[t],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var s=this._transitionablePaint._values[t].value;return s.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(t,a,s)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(t){}},{key:"getProgramIds",value:function(){return null}},{key:"getProgramConfiguration",value:function(t){return null}},{key:"_handleOverridablePaintPropertyUpdate",value:function(t,e,n){return!1}},{key:"isHidden",value:function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility}},{key:"updateTransitions",value:function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}},{key:"hasTransition",value:function(){return this._transitioningPaint.hasTransition()}},{key:"recalculate",value:function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)}},{key:"serialize",value:function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),F(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))}},{key:"_validate",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!i||!1!==i.validate)&&Qr(this,t.call(Yr,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:Yt,style:{glyphs:!0,sprite:!0}}))}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!1}},{key:"isTileClipped",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return!1}},{key:"resize",value:function(){}},{key:"isStateDependent",value:function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof Li&&tr(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1}}]),n}(Xt),ta=Yi([{name:"a_pos",components:2,type:"Int16"}],4).members,ea=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];v(this,t),this.segments=e}return g(t,[{key:"prepareSegment",value:function(e,n,r,i){var o=this.segments[this.segments.length-1];return e>t.MAX_VERTEX_ARRAY_LENGTH&&q("Max vertices per segment is ".concat(t.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(e)),(!o||o.vertexLength+e>t.MAX_VERTEX_ARRAY_LENGTH||o.sortKey!==i)&&(o={vertexOffset:n.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==i&&(o.sortKey=i),this.segments.push(o)),o}},{key:"get",value:function(){return this.segments}},{key:"destroy",value:function(){var t,e=h(this.segments);try{for(e.s();!(t=e.n()).done;){var n=t.value;for(var r in n.vaos)n.vaos[r].destroy()}}catch(i){e.e(i)}finally{e.f()}}}],[{key:"simpleSegment",value:function(e,n,r,i){return new t([{vertexOffset:e,primitiveOffset:n,vertexLength:r,primitiveLength:i,vaos:{},sortKey:0}])}}]),t}();ea.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,oi("SegmentVector",ea);var na=Math.pow(2,14)-1,ra=-na-1;function ia(t){for(var e=8192/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=Math.round(a.x*e),u=Math.round(a.y*e);a.x=P(s,ra,na),a.y=P(u,ra,na),(s<a.x||s>a.x+1||u<a.y||u>a.y+1)&&q("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function oa(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?ia(t):[]}}function aa(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var sa=function(){function t(e){v(this,t),this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new $i,this.indexArray=new co,this.segments=new ea,this.programConfigurations=new Zo(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))}return g(t,[{key:"populate",value:function(t,e,n){var r=this.layers[0],i=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));var a,s=h(t);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.feature,l=u.id,f=u.index,p=u.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,y=oa(c,d);if(this.layers[0]._featureFilter.filter(new Mi(this.zoom),y,n)){var v=o?o.evaluate(y,{},n):void 0,g={id:l,properties:c.properties,type:c.type,sourceLayerIndex:p,index:f,geometry:d?y.geometry:ia(c),patterns:{},sortKey:v};i.push(g)}}}catch(k){s.e(k)}finally{s.f()}o&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var m=0,b=i;m<b.length;m++){var _=b[m],x=_.geometry,w=_.index,E=_.sourceLayerIndex,S=t[w].feature;this.addFeature(_,x,w,n),e.featureIndex.insert(S,x,w,E,this.index)}}},{key:"update",value:function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ta),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(t,e,n,r){var i,o=h(e);try{for(o.s();!(i=o.n()).done;){var a,s=i.value,u=h(s);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=c.x,f=c.y;if(!(l<0||l>=8192||f<0||f>=8192)){var p=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),d=p.vertexLength;aa(this.layoutVertexArray,l,f,-1,-1),aa(this.layoutVertexArray,l,f,1,-1),aa(this.layoutVertexArray,l,f,1,1),aa(this.layoutVertexArray,l,f,-1,1),this.indexArray.emplaceBack(d,d+1,d+2),this.indexArray.emplaceBack(d,d+3,d+2),p.vertexLength+=4,p.primitiveLength+=2}}}catch(y){u.e(y)}finally{u.f()}}}catch(y){o.e(y)}finally{o.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{},r)}}]),t}();function ua(t,e){for(var n=0;n<t.length;n++)if(ga(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(ga(t,e[r]))return!0;return!!ha(t,e)}function ca(t,e,n){return!!ga(t,e)||!!da(e,t,n)}function la(t,e){if(1===t.length)return va(e,t[0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(ga(t,r[i]))return!0;for(var o=0;o<t.length;o++)if(va(e,t[o]))return!0;for(var a=0;a<e.length;a++)if(ha(t,e[a]))return!0;return!1}function fa(t,e,n){if(t.length>1){if(ha(t,e))return!0;for(var r=0;r<e.length;r++)if(da(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(da(t[i],e,n))return!0;return!1}function ha(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(pa(r,i,e[o],e[o+1]))return!0;return!1}function pa(t,e,n,r){return V(t,n,r)!==V(e,n,r)&&V(t,e,n)!==V(t,e,r)}function da(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(ya(t,e[i-1],e[i])<r)return!0;return!1}function ya(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return t.distSqr(i<0?e:i>1?n:n.sub(e)._mult(i)._add(e))}function va(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,u=(n=t[a]).length-1;s<n.length;u=s++)r=n[s],i=n[u],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function ga(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ma(t,e,n,i,o){var a,s=h(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(e<=u.x&&n<=u.y&&i>=u.x&&o>=u.y)return!0}}catch(d){s.e(d)}finally{s.f()}var c=[new r(e,n),new r(e,o),new r(i,o),new r(i,n)];if(t.length>2){var l,f=h(c);try{for(f.s();!(l=f.n()).done;)if(ga(t,l.value))return!0}catch(d){f.e(d)}finally{f.f()}}for(var p=0;p<t.length-1;p++)if(ba(t[p],t[p+1],c))return!0;return!1}function ba(t,e,n){var r=n[0],i=n[2];if(t.x<r.x&&e.x<r.x||t.x>i.x&&e.x>i.x||t.y<r.y&&e.y<r.y||t.y>i.y&&e.y>i.y)return!1;var o=V(t,e,n[0]);return o!==V(t,e,n[1])||o!==V(t,e,n[2])||o!==V(t,e,n[3])}function _a(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).getMaxValue(t)}function xa(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function wa(t,e,n,i,o){if(!e[0]&&!e[1])return t;var a=r.convert(e)._mult(o);"viewport"===n&&a._rotate(-i);for(var s=[],u=0;u<t.length;u++)s.push(t[u].sub(a));return s}function Ea(t,e,n,i){var o=r.convert(t)._mult(i);return"viewport"===e&&o._rotate(-n),o}oi("CircleBucket",sa,{omit:["layers"]});var Sa=new Gi({"circle-sort-key":new Bi(Yt.layout_circle["circle-sort-key"])}),ka={paint:new Gi({"circle-radius":new Bi(Yt.paint_circle["circle-radius"]),"circle-color":new Bi(Yt.paint_circle["circle-color"]),"circle-blur":new Bi(Yt.paint_circle["circle-blur"]),"circle-opacity":new Bi(Yt.paint_circle["circle-opacity"]),"circle-translate":new Fi(Yt.paint_circle["circle-translate"]),"circle-translate-anchor":new Fi(Yt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Fi(Yt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Fi(Yt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Bi(Yt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Bi(Yt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Bi(Yt.paint_circle["circle-stroke-opacity"])}),layout:Sa},Oa="undefined"!=typeof Float32Array?Float32Array:Array;function Ca(){var t=new Oa(9);return Oa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Pa(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ta(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],p=e[10],d=e[11],y=e[12],v=e[13],g=e[14],m=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*s+x*f+w*y,t[1]=b*i+_*u+x*h+w*v,t[2]=b*o+_*c+x*p+w*g,t[3]=b*a+_*l+x*d+w*m,t[4]=(b=n[4])*r+(_=n[5])*s+(x=n[6])*f+(w=n[7])*y,t[5]=b*i+_*u+x*h+w*v,t[6]=b*o+_*c+x*p+w*g,t[7]=b*a+_*l+x*d+w*m,t[8]=(b=n[8])*r+(_=n[9])*s+(x=n[10])*f+(w=n[11])*y,t[9]=b*i+_*u+x*h+w*v,t[10]=b*o+_*c+x*p+w*g,t[11]=b*a+_*l+x*d+w*m,t[12]=(b=n[12])*r+(_=n[13])*s+(x=n[14])*f+(w=n[15])*y,t[13]=b*i+_*u+x*h+w*v,t[14]=b*o+_*c+x*p+w*g,t[15]=b*a+_*l+x*d+w*m,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Ma=Ta;function Aa(){var t=new Oa(3);return Oa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Ia(t){var e=new Oa(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function ja(t){return Math.hypot(t[0],t[1],t[2])}function Ra(t,e,n){var r=new Oa(3);return r[0]=t,r[1]=e,r[2]=n,r}function Da(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Na(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function La(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function za(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function Fa(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function Ba(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ua(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function qa(t,e,n){var r=n[0],i=n[1],o=n[2],a=e[0],s=e[1],u=e[2],c=i*u-o*s,l=o*a-r*u,f=r*s-i*a,h=i*f-o*l,p=o*c-r*f,d=r*l-i*c,y=2*n[3];return l*=y,f*=y,p*=2,d*=2,t[0]=a+(c*=y)+(h*=2),t[1]=s+l+p,t[2]=u+f+d,t}var Va,Ga=Na,Wa=ja;function Ha(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function Ka(){var t=new Oa(4);return Oa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Xa(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Ya(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t}Aa(),Va=new Oa(4),Oa!=Float32Array&&(Va[0]=0,Va[1]=0,Va[2]=0,Va[3]=0),Aa(),Ra(1,0,0),Ra(0,1,0),Ka(),Ka(),Ca();var Za=function(){function t(e,n){v(this,t),this.points=e,this.planes=n}return g(t,null,[{key:"fromInvProjectionMatrix",value:function(e,n,r){var i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(t){var r=Ha([],t,e),o=1/r[3]/n*i;return function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}(r,r,[o,o,1/r[3],o])})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var e=Fa([],Ua([],Ga([],o[t[0]],o[t[1]]),Ga([],o[t[2]],o[t[1]]))),n=-Ba(e,o[t[1]]);return e.concat(n)}));return new t(o,a)}}]),t}(),$a=function(){function t(e,n){v(this,t),this.min=e,this.max=n,this.center=La([],Da([],this.min,this.max),.5)}return g(t,[{key:"quadrant",value:function(e){for(var n=[e%2==0,e<2],r=Ia(this.min),i=Ia(this.max),o=0;o<n.length;o++)r[o]=n[o]?this.min[o]:this.center[o],i[o]=n[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new t(r,i)}},{key:"distanceX",value:function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}},{key:"distanceY",value:function(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}},{key:"distanceZ",value:function(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}},{key:"intersects",value:function(t){for(var e,n,r=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]],i=!0,o=0;o<t.planes.length;o++){for(var a=t.planes[o],s=0,u=0;u<r.length;u++)s+=(e=a)[0]*(n=r[u])[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3]>=0;if(0===s)return 0;s!==r.length&&(i=!1)}if(i)return 2;for(var c=0;c<3;c++){for(var l=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<t.points.length;h++){var p=t.points[h][c]-this.min[c];l=Math.min(l,p),f=Math.max(f,p)}if(f<0||l>this.max[c]-this.min[c])return 0}return 1}}]),t}();function Ja(t,e,n){var i=Ha([],[t.x,t.y,e,1],n);return new r(i[0]/i[3],i[1]/i[3])}var Qa=Ra(0,0,0),ts=Ra(0,0,1);function es(t,e){var n=Aa();return Qa[2]=e,t.intersectsPlane(Qa,ts,n),new r(n[0],n[1])}var ns=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(sa);function rs(t,e,n,r){var i=e.width,o=e.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function is(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=rs({},{width:r,height:i},n);os(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function os(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<i.height;u++)for(var c=((n.y+u)*t.width+n.x)*o,l=((r.y+u)*e.width+r.x)*o,f=0;f<i.width*o;f++)s[l+f]=a[c+f];return e}oi("HeatmapBucket",ns,{omit:["layers"]});var as=function(){function t(e,n){v(this,t),rs(this,e,1,n)}return g(t,[{key:"resize",value:function(t){is(this,t,1)}},{key:"clone",value:function(){return new t({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(t,e,n,r,i){os(t,e,n,r,i,1)}}]),t}(),ss=function(){function t(e,n){v(this,t),rs(this,e,4,n)}return g(t,[{key:"resize",value:function(t){is(this,t,4)}},{key:"replace",value:function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}},{key:"clone",value:function(){return new t({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(t,e,n,r,i){os(t,e,n,r,i,4)}}]),t}();oi("AlphaImage",as),oi("RGBAImage",ss);var us={paint:new Gi({"heatmap-radius":new Bi(Yt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Bi(Yt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Fi(Yt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Vi(Yt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Fi(Yt.paint_heatmap["heatmap-opacity"])})};function cs(t){var e={},n=t.resolution||256,r=t.clips?t.clips.length:1,i=t.image||new ss({width:n,height:r}),o=function(n,r,o){e[t.evaluationKey]=o;var a=t.expression.evaluate(e);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(t.clips)for(var a=0,s=0;a<r;++a,s+=4*n)for(var u=0,c=0;u<n;u++,c+=4){var l=u/(n-1),f=t.clips[a];o(s,c,f.start*(1-l)+f.end*l)}else for(var h=0,p=0;h<n;h++,p+=4)o(0,p,h/(n-1));return i}var ls={paint:new Gi({"hillshade-illumination-direction":new Fi(Yt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Fi(Yt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Fi(Yt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Fi(Yt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Fi(Yt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Fi(Yt.paint_hillshade["hillshade-accent-color"])})},fs=Yi([{name:"a_pos",components:2,type:"Int16"}],4).members,hs=ds,ps=ds;function ds(t,e,n){n=n||2;var r,i,o,a,s,u,c,l=e&&e.length,f=l?e[0]*n:t.length,h=ys(t,0,f,n,!0),p=[];if(!h||h.next===h.prev)return p;if(l&&(h=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=ys(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(Os(a));for(s.sort(ws),i=0;i<s.length;i++)Es(s[i],n),n=vs(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var d=n;d<f;d+=n)(s=t[d])<r&&(r=s),(u=t[d+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=0!==(c=Math.max(o-r,a-i))?1/c:0}return gs(h,p,n,r,i,c),p}function ys(t,e,n,r,i){var o,a;if(i===Fs(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Ns(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Ns(o,t[o],t[o+1],a);return a&&Ms(a,a.next)&&(Ls(a),a=a.next),a}function vs(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Ms(r,r.next)&&0!==Ts(r.prev,r,r.next))r=r.next;else{if(Ls(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function gs(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=ks(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,r,i,o);for(var s,u,c=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?bs(t,r,i,o):ms(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Ls(t),t=u.next,c=u.next;else if((t=u)===c){a?1===a?gs(t=_s(vs(t),e,n),e,n,r,i,o,2):2===a&&xs(t,e,n,r,i,o):gs(vs(t),e,n,r,i,o,1);break}}}function ms(t){var e=t.prev,n=t,r=t.next;if(Ts(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Cs(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Ts(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function bs(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Ts(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,c=ks(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,e,n,r),l=ks(s,u,e,n,r),f=t.prevZ,h=t.nextZ;f&&f.z>=c&&h&&h.z<=l;){if(f!==t.prev&&f!==t.next&&Cs(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ts(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,h!==t.prev&&h!==t.next&&Cs(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ts(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&Cs(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ts(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;h&&h.z<=l;){if(h!==t.prev&&h!==t.next&&Cs(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ts(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function _s(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Ms(i,o)&&As(i,r,r.next,o)&&Rs(i,o)&&Rs(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Ls(r),Ls(r.next),r=t=o),r=r.next}while(r!==t);return vs(r)}function xs(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ps(a,s)){var u=Ds(a,s);return a=vs(a,a.next),u=vs(u,u.next),gs(a,e,n,r,i,o),void gs(u,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function ws(t,e){return t.x-e.x}function Es(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var u,c=n,l=n.x,f=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&Cs(o<f?i:a,o,l,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),Rs(r,t)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&Ss(n,r)))&&(n=r,h=u)),r=r.next}while(r!==c);return n}(t,e)){var n=Ds(e,t);vs(e,e.next),vs(n,n.next)}}function Ss(t,e){return Ts(t.prev,t,e.prev)<0&&Ts(e.next,t,t.next)<0}function ks(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Os(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Cs(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Ps(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&As(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Rs(t,e)&&Rs(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(Ts(t.prev,t,e.prev)||Ts(t,e.prev,e))||Ms(t,e)&&Ts(t.prev,t,t.next)>0&&Ts(e.prev,e,e.next)>0)}function Ts(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ms(t,e){return t.x===e.x&&t.y===e.y}function As(t,e,n,r){var i=js(Ts(t,e,n)),o=js(Ts(t,e,r)),a=js(Ts(n,r,t)),s=js(Ts(n,r,e));return i!==o&&a!==s||!(0!==i||!Is(t,n,e))||!(0!==o||!Is(t,r,e))||!(0!==a||!Is(n,t,r))||!(0!==s||!Is(n,e,r))}function Is(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function js(t){return t>0?1:t<0?-1:0}function Rs(t,e){return Ts(t.prev,t,t.next)<0?Ts(t,e,t.next)>=0&&Ts(t,t.prev,e)>=0:Ts(t,e,t.prev)<0||Ts(t,t.next,e)<0}function Ds(t,e){var n=new zs(t.i,t.x,t.y),r=new zs(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ns(t,e,n,r){var i=new zs(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ls(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function zs(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Fs(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function Bs(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(a-c)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*c/a+l)),Math.min(i,Math.floor(n+(a-s)*c/a+l)),o)}var f=e[n],h=r,p=i;for(Us(e,r,n),o(e[i],f)>0&&Us(e,r,i);h<p;){for(Us(e,h,p),h++,p--;o(e[h],f)<0;)h++;for(;o(e[p],f)>0;)p--}0===o(e[r],f)?Us(e,r,p):Us(e,++p,i),p<=n&&(r=p+1),n<=p&&(i=p-1)}}(t,e,n||0,r||t.length-1,i||qs)}function Us(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function qs(t,e){return t<e?-1:t>e?1:0}function Vs(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=G(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var u=0;u<o.length;u++)o[u].length<=e||(Bs(o[u],e,1,o[u].length-1,Gs),o[u]=o[u].slice(0,e));return o}function Gs(t,e){return e.area-t.area}function Ws(t,e,n){var r,i=n.patternDependencies,o=!1,a=h(e);try{for(a.s();!(r=a.n()).done;){var s=r.value.paint.get("".concat(t,"-pattern"));s.isConstant()||(o=!0);var u=s.constantOr(null);u&&(o=!0,i[u.to]=!0,i[u.from]=!0)}}catch(c){a.e(c)}finally{a.f()}return o}function Hs(t,e,n,r,i){var o,a=i.patternDependencies,s=h(e);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=u.paint.get("".concat(t,"-pattern")).value;if("constant"!==c.kind){var l=c.evaluate({zoom:r-1},n,{},i.availableImages),f=c.evaluate({zoom:r},n,{},i.availableImages),p=c.evaluate({zoom:r+1},n,{},i.availableImages);l=l&&l.name?l.name:l,f=f&&f.name?f.name:f,p=p&&p.name?p.name:p,a[l]=!0,a[f]=!0,a[p]=!0,n.patterns[u.id]={min:l,mid:f,max:p}}}}catch(d){s.e(d)}finally{s.f()}return n}ds.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs(Fs(t,0,i?e[0]*n:t.length,n));if(i)for(var a=0,s=e.length;a<s;a++)o-=Math.abs(Fs(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var u=0;for(a=0;a<r.length;a+=3){var c=r[a]*n,l=r[a+1]*n,f=r[a+2]*n;u+=Math.abs((t[c]-t[f])*(t[l+1]-t[c+1])-(t[c]-t[l])*(t[f+1]-t[c+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},ds.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n},hs.default=ps;var Ks=function(){function t(e){v(this,t),this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new $i,this.indexArray=new co,this.indexArray2=new vo,this.programConfigurations=new Zo(e.layers,e.zoom),this.segments=new ea,this.segments2=new ea,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))}return g(t,[{key:"populate",value:function(t,e,n){this.hasPattern=Ws("fill",this.layers,e);var r,i=this.layers[0].layout.get("fill-sort-key"),o=[],a=h(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=s.feature,c=s.id,l=s.index,f=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,d=oa(u,p);if(this.layers[0]._featureFilter.filter(new Mi(this.zoom),d,n)){var y=i?i.evaluate(d,{},n,e.availableImages):void 0,v={id:c,properties:u.properties,type:u.type,sourceLayerIndex:f,index:l,geometry:p?d.geometry:ia(u),patterns:{},sortKey:y};o.push(v)}}}catch(S){a.e(S)}finally{a.f()}i&&o.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,m=o;g<m.length;g++){var b=m[g],_=b.geometry,x=b.index,w=b.sourceLayerIndex;if(this.hasPattern){var E=Hs("fill",this.layers,b,this.zoom,e);this.patternFeatures.push(E)}else this.addFeature(b,_,x,n,{});e.featureIndex.insert(t[x].feature,_,x,w,this.index)}}},{key:"update",value:function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)}},{key:"addFeatures",value:function(t,e,n){var r,i=h(this.patternFeatures);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.addFeature(o,o.geometry,o.index,e,n)}}catch(a){i.e(a)}finally{i.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,fs),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}},{key:"addFeature",value:function(t,e,n,r,i){var o,a=h(Vs(e,500));try{for(a.s();!(o=a.n()).done;){var s,u=o.value,c=0,l=h(u);try{for(l.s();!(s=l.n()).done;)c+=s.value.length}catch(S){l.e(S)}finally{l.f()}var f,p=this.segments.prepareSegment(c,this.layoutVertexArray,this.indexArray),d=p.vertexLength,y=[],v=[],g=h(u);try{for(g.s();!(f=g.n()).done;){var m=f.value;if(0!==m.length){m!==u[0]&&v.push(y.length/2);var b=this.segments2.prepareSegment(m.length,this.layoutVertexArray,this.indexArray2),_=b.vertexLength;this.layoutVertexArray.emplaceBack(m[0].x,m[0].y),this.indexArray2.emplaceBack(_+m.length-1,_),y.push(m[0].x),y.push(m[0].y);for(var x=1;x<m.length;x++)this.layoutVertexArray.emplaceBack(m[x].x,m[x].y),this.indexArray2.emplaceBack(_+x-1,_+x),y.push(m[x].x),y.push(m[x].y);b.vertexLength+=m.length,b.primitiveLength+=m.length}}}catch(S){g.e(S)}finally{g.f()}for(var w=hs(y,v),E=0;E<w.length;E+=3)this.indexArray.emplaceBack(d+w[E],d+w[E+1],d+w[E+2]);p.vertexLength+=c,p.primitiveLength+=w.length/3}}catch(S){a.e(S)}finally{a.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)}}]),t}();oi("FillBucket",Ks,{omit:["layers","patternFeatures"]});var Xs=new Gi({"fill-sort-key":new Bi(Yt.layout_fill["fill-sort-key"])}),Ys={paint:new Gi({"fill-antialias":new Fi(Yt.paint_fill["fill-antialias"]),"fill-opacity":new Bi(Yt.paint_fill["fill-opacity"]),"fill-color":new Bi(Yt.paint_fill["fill-color"]),"fill-outline-color":new Bi(Yt.paint_fill["fill-outline-color"]),"fill-translate":new Fi(Yt.paint_fill["fill-translate"]),"fill-translate-anchor":new Fi(Yt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ui(Yt.paint_fill["fill-pattern"])}),layout:Xs},Zs=Yi([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),$s=Yi([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Js=Zs.members,Qs=tu;function tu(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(eu,this,e)}function eu(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function nu(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)r+=((n=t[a]).x-(e=t[i]).x)*(e.y+n.y);return r}tu.types=["Unknown","Point","LineString","Polygon"],tu.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,o=0,a=0,s=0,u=[];t.pos<n;){if(o<=0){var c=t.readVarint();i=7&c,o=c>>3}if(o--,1===i||2===i)a+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&u.push(e),e=[]),e.push(new r(a,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&u.push(e),u},tu.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,c=-1/0;t.pos<e;){if(r<=0){var l=t.readVarint();n=7&l,r=l>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<u&&(u=o),o>c&&(c=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,c]},tu.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,u=this.loadGeometry(),c=tu.types[this.type];function l(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(r=0;r<u.length;r++)f[r]=u[r][0];l(u=f);break;case 2:for(r=0;r<u.length;r++)l(u[r]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=nu(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)l(u[r][i])}1===u.length?u=u[0]:c="Multi"+c;var h={type:"Feature",geometry:{type:c,coordinates:u},properties:this.properties};return"id"in this&&(h.id=this.id),h};var ru=iu;function iu(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(ou,this,e),this.length=this._features.length}function ou(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function au(t,e,n){if(3===t){var r=new ru(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}iu.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new Qs(this._pbf,e,this.extent,this._keys,this._values)};var su={VectorTile:function(t,e){this.layers=t.readFields(au,{},e)},VectorTileFeature:Qs,VectorTileLayer:ru},uu=su.VectorTileFeature.types,cu=Math.pow(2,13);function lu(t,e,n,r,i,o,a,s){t.emplaceBack((e<<1)+a,(n<<1)+o,(Math.floor(r*cu)<<1)+i,Math.round(s))}var fu=function(){function t(){v(this,t),this.acc=new r(0,0),this.polyCount=[]}return g(t,[{key:"startRing",value:function(t){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new r(t.x,t.y),this.max=new r(t.x,t.y))}},{key:"append",value:function(t,e){this.currentPolyCount.edges++,this.acc._add(t);var n=!!this.borders,r=this.min,i=this.max;t.x<r.x?(r.x=t.x,n=!0):t.x>i.x&&(i.x=t.x,n=!0),t.y<r.y?(r.y=t.y,n=!0):t.y>i.y&&(i.y=t.y,n=!0),((0===t.x||8192===t.x)&&t.x===e.x)!=((0===t.y||8192===t.y)&&t.y===e.y)&&this.processBorderOverlap(t,e),n&&this.checkBorderIntersection(t,e)}},{key:"checkBorderIntersection",value:function(t,e){e.x<0!=t.x<0&&this.addBorderIntersection(0,hn(e.y,t.y,(0-e.x)/(t.x-e.x))),e.x>8192!=t.x>8192&&this.addBorderIntersection(1,hn(e.y,t.y,(8192-e.x)/(t.x-e.x))),e.y<0!=t.y<0&&this.addBorderIntersection(2,hn(e.x,t.x,(0-e.y)/(t.y-e.y))),e.y>8192!=t.y>8192&&this.addBorderIntersection(3,hn(e.x,t.x,(8192-e.y)/(t.y-e.y)))}},{key:"addBorderIntersection",value:function(t,e){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);var n=this.borders[t];e<n[0]&&(n[0]=e),e>n[1]&&(n[1]=e)}},{key:"processBorderOverlap",value:function(t,e){if(t.x===e.x){if(t.y===e.y)return;var n=0===t.x?0:1;this.addBorderIntersection(n,e.y),this.addBorderIntersection(n,t.y)}else{var r=0===t.y?2:3;this.addBorderIntersection(r,e.x),this.addBorderIntersection(r,t.x)}}},{key:"centroid",value:function(){var t=this.polyCount.reduce((function(t,e){return t+e.edges}),0);return 0!==t?this.acc.div(t)._round():new r(0,0)}},{key:"span",value:function(){return new r(this.max.x-this.min.x,this.max.y-this.min.y)}},{key:"intersectsCount",value:function(){return this.borders.reduce((function(t,e){return t+ +(e[0]!==Number.MAX_VALUE)}),0)}}]),t}(),hu=function(){function t(e){v(this,t),this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ji,this.centroidVertexArray=new vo,this.indexArray=new co,this.programConfigurations=new Zo(e.layers,e.zoom),this.segments=new ea,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.enableTerrain=e.enableTerrain}return g(t,[{key:"populate",value:function(t,e,n){this.features=[],this.hasPattern=Ws("fill-extrusion",this.layers,e),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(t){var e=Math.exp(Math.PI*(1-t.y/(1<<t.z)*2));return 80150034*e/(e*e+1)/8192/(1<<t.z)}(n);var r,i=h(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.feature,s=o.id,u=o.index,c=o.sourceLayerIndex,l=this.layers[0]._featureFilter.needGeometry,f=oa(a,l);if(this.layers[0]._featureFilter.filter(new Mi(this.zoom),f,n)){var p={id:s,sourceLayerIndex:c,index:u,geometry:l?f.geometry:ia(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(Hs("fill-extrusion",this.layers,p,this.zoom,e)):this.addFeature(p,p.geometry,u,n,{}),e.featureIndex.insert(a,p.geometry,u,c,this.index)}}}catch(d){i.e(d)}finally{i.f()}this.sortBorders()}},{key:"addFeatures",value:function(t,e,n){var r,i=h(this.features);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.geometry;this.addFeature(o,a,o.index,e,n)}}catch(s){i.e(s)}finally{i.f()}this.sortBorders()}},{key:"update",value:function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Js),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}},{key:"uploadCentroid",value:function(t){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,$s.members,!0),this.needsCentroidUpdate=!1)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(t,e,n,r,i){var o,a,s=this.enableTerrain&&t.properties&&t.properties.hasOwnProperty("type")&&t.properties.hasOwnProperty("height")&&"Polygon"===uu[t.type]?new fu:null,u=h(Vs(e,500));try{for(u.s();!(o=u.n()).done;){var c=o.value,l=0,f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(!(0===c.length||(a=c[0]).every((function(t){return t.x<=0}))||a.every((function(t){return t.x>=8192}))||a.every((function(t){return t.y<=0}))||a.every((function(t){return t.y>=8192})))){for(var p=0;p<c.length;p++){var d=c[p];if(0!==d.length){l+=d.length;var y=0;s&&s.startRing(d[0]);for(var v=0;v<d.length;v++){var g=d[v];if(v>=1){var m=d[v-1];if(!pu(g,m)){s&&s.append(g,m),f.vertexLength+4>ea.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var b=g.sub(m)._perp(),_=b.x/(Math.abs(b.x)+Math.abs(b.y)),x=b.y>0?1:0,w=m.dist(g);y+w>32768&&(y=0),lu(this.layoutVertexArray,g.x,g.y,_,x,0,0,y),lu(this.layoutVertexArray,g.x,g.y,_,x,0,1,y),y+=w,lu(this.layoutVertexArray,m.x,m.y,_,x,0,0,y),lu(this.layoutVertexArray,m.x,m.y,_,x,0,1,y);var E=f.vertexLength;this.indexArray.emplaceBack(E,E+2,E+1),this.indexArray.emplaceBack(E+1,E+2,E+3),f.vertexLength+=4,f.primitiveLength+=2}}}}}if(f.vertexLength+l>ea.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray)),"Polygon"===uu[t.type]){for(var S=[],k=[],O=f.vertexLength,C=0;C<c.length;C++){var P=c[C];if(0!==P.length){P!==c[0]&&k.push(S.length/2);for(var T=0;T<P.length;T++){var M=P[T];lu(this.layoutVertexArray,M.x,M.y,0,0,1,1,0),S.push(M.x),S.push(M.y),s&&s.currentPolyCount.top++}}}for(var A=hs(S,k),I=0;I<A.length;I+=3)this.indexArray.emplaceBack(O+A[I],O+A[I+2],O+A[I+1]);f.primitiveLength+=A.length/3,f.vertexLength+=l}}}}catch(N){u.e(N)}finally{u.f()}if(s&&s.polyCount.length>0){if(s.borders){s.vertexArrayOffset=this.centroidVertexArray.length;for(var j=s.borders,R=this.featuresOnBorder.push(s)-1,D=0;D<4;D++)j[D][0]!==Number.MAX_VALUE&&this.borders[D].push(R)}this.encodeCentroid(s.borders?void 0:s.centroid(),s)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)}},{key:"sortBorders",value:function(){for(var t=this,e=function(e){t.borders[e].sort((function(n,r){return t.featuresOnBorder[n].borders[e][0]-t.featuresOnBorder[r].borders[e][0]}))},n=0;n<4;n++)e(n)}},{key:"encodeCentroid",value:function(t,e){var n,r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t)if(0!==t.y){var o=e.span()._mult(this.tileToMeter);n=(Math.max(t.x,1)<<3)+Math.min(7,Math.round(o.x/10)),r=(Math.max(t.y,1)<<3)+Math.min(7,Math.round(o.y/10))}else n=Math.ceil(7.3*t.x),r=0;else n=0,r=+i;var a,s=i?this.centroidVertexArray.length:e.vertexArrayOffset,u=h(e.polyCount);try{for(u.s();!(a=u.n()).done;){var c=a.value;i&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*c.edges+c.top);for(var l=0;l<2*c.edges;l++)this.centroidVertexArray.emplace(s++,0,r),this.centroidVertexArray.emplace(s++,n,r);for(var f=0;f<c.top;f++)this.centroidVertexArray.emplace(s++,n,r)}}catch(p){u.e(p)}finally{u.f()}}}]),t}();function pu(t,e){return t.x===e.x&&(t.x<0||t.x>8192)||t.y===e.y&&(t.y<0||t.y>8192)}oi("FillExtrusionBucket",hu,{omit:["layers","features"]}),oi("PartMetadata",fu);var du={paint:new Gi({"fill-extrusion-opacity":new Fi(Yt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Bi(Yt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Fi(Yt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Fi(Yt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ui(Yt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Bi(Yt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Bi(Yt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Fi(Yt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function yu(t,e){return t.x*e.x+t.y*e.y}function vu(t,e){if(1===t.length){for(var n,r=0,i=e[r++];!n||i.equals(n);)if(!(n=e[r++]))return 1/0;for(;r<e.length;r++){var o=e[r],a=t[0],s=n.sub(i),u=o.sub(i),c=a.sub(i),l=yu(s,s),f=yu(s,u),p=yu(u,u),d=yu(c,s),y=yu(c,u),v=l*p-f*f,g=(p*d-f*y)/v,m=(l*y-f*d)/v,b=i.z*(1-g-m)+n.z*g+o.z*m;if(isFinite(b))return b}return 1/0}var _,x=1/0,w=h(e);try{for(w.s();!(_=w.n()).done;){var E=_.value;x=Math.min(x,E.z)}}catch(S){w.e(S)}finally{w.f()}return x}var gu=Yi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4).members,mu=Yi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,bu=su.VectorTileFeature.types,_u=Math.cos(Math.PI/180*37.5),xu=function(){function t(e){var n=this;v(this,t),this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(t){n.gradients[t.id]={}})),this.layoutVertexArray=new Qi,this.layoutVertexArray2=new to,this.indexArray=new co,this.programConfigurations=new Zo(e.layers,e.zoom),this.segments=new ea,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))}return g(t,[{key:"populate",value:function(t,e,n){this.hasPattern=Ws("line",this.layers,e);var r,i=this.layers[0].layout.get("line-sort-key"),o=[],a=h(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=s.feature,c=s.id,l=s.index,f=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,d=oa(u,p);if(this.layers[0]._featureFilter.filter(new Mi(this.zoom),d,n)){var y=i?i.evaluate(d,{},n):void 0,v={id:c,properties:u.properties,type:u.type,sourceLayerIndex:f,index:l,geometry:p?d.geometry:ia(u),patterns:{},sortKey:y};o.push(v)}}}catch(S){a.e(S)}finally{a.f()}i&&o.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,m=o;g<m.length;g++){var b=m[g],_=b.geometry,x=b.index,w=b.sourceLayerIndex;if(this.hasPattern){var E=Hs("line",this.layers,b,this.zoom,e);this.patternFeatures.push(E)}else this.addFeature(b,_,x,n,{});e.featureIndex.insert(t[x].feature,_,x,w,this.index)}}},{key:"update",value:function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)}},{key:"addFeatures",value:function(t,e,n){var r,i=h(this.patternFeatures);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.addFeature(o,o.geometry,o.index,e,n)}}catch(a){i.e(a)}finally{i.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,mu)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,gu),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"lineFeatureClips",value:function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}},{key:"addFeature",value:function(t,e,n,r,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(t,{}),s=o.get("line-cap"),u=o.get("line-miter-limit"),c=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);var l,f=h(e);try{for(f.s();!(l=f.n()).done;){var p=l.value;this.addLine(p,t,a,s,u,c)}}catch(d){f.e(d)}finally{f.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)}},{key:"addLine",value:function(t,e,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<t.length-1;a++)this.totalDistance+=t[a].dist(t[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===bu[e.type],u=t.length;u>=2&&t[u-1].equals(t[u-2]);)u--;for(var c=0;c<u-1&&t[c].equals(t[c+1]);)c++;if(!(u<(s?3:2))){"bevel"===n&&(i=1.05);var l,f=this.overscaling<=16?122880/(512*this.overscaling):0,h=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),p=void 0,d=void 0,y=void 0,v=void 0;this.e1=this.e2=-1,s&&(l=t[u-2],v=t[c].sub(l)._unit()._perp());for(var g=c;g<u;g++)if(!(d=g===u-1?s?t[c+1]:void 0:t[g+1])||!t[g].equals(d)){v&&(y=v),l&&(p=l),l=t[g],v=d?d.sub(l)._unit()._perp():y;var m=(y=y||v).add(v);0===m.x&&0===m.y||m._unit();var b=y.x*v.x+y.y*v.y,_=m.x*v.x+m.y*v.y,x=0!==_?1/_:1/0,w=2*Math.sqrt(2-2*_),E=_<_u&&p&&d,S=y.x*v.y-y.y*v.x>0;if(E&&g>c){var k=l.dist(p);if(k>2*f){var O=l.sub(l.sub(p)._mult(f/k)._round());this.updateDistance(p,O),this.addCurrentVertex(O,y,0,0,h),p=O}}var C=p&&d,P=C?n:s?"butt":r;if(C&&"round"===P&&(x<o?P="miter":x<=2&&(P="fakeround")),"miter"===P&&x>i&&(P="bevel"),"bevel"===P&&(x>2&&(P="flipbevel"),x<i&&(P="miter")),p&&this.updateDistance(p,l),"miter"===P)m._mult(x),this.addCurrentVertex(l,m,0,0,h);else if("flipbevel"===P){if(x>100)m=v.mult(-1);else{var T=x*y.add(v).mag()/y.sub(v).mag();m._perp()._mult(T*(S?-1:1))}this.addCurrentVertex(l,m,0,0,h),this.addCurrentVertex(l,m.mult(-1),0,0,h)}else if("bevel"===P||"fakeround"===P){var M=-Math.sqrt(x*x-1),A=S?M:0,I=S?0:M;if(p&&this.addCurrentVertex(l,y,A,I,h),"fakeround"===P)for(var j=Math.round(180*w/Math.PI/20),R=1;R<j;R++){var D=R/j;if(.5!==D){var N=D-.5;D+=D*N*(D-1)*((1.0904+b*(b*(3.55645-1.43519*b)-3.2452))*N*N+(.848013+b*(.215638*b-1.06021)))}var L=v.sub(y)._mult(D)._add(y)._unit()._mult(S?-1:1);this.addHalfVertex(l,L.x,L.y,!1,S,0,h)}d&&this.addCurrentVertex(l,v,-A,-I,h)}else if("butt"===P)this.addCurrentVertex(l,m,0,0,h);else if("square"===P){var z=p?1:-1;this.addCurrentVertex(l,m,z,z,h)}else"round"===P&&(p&&(this.addCurrentVertex(l,y,0,0,h),this.addCurrentVertex(l,y,1,1,h,!0)),d&&(this.addCurrentVertex(l,v,-1,-1,h,!0),this.addCurrentVertex(l,v,0,0,h)));if(E&&g<u-1){var F=l.dist(d);if(F>2*f){var B=l.add(d.sub(l)._mult(f/F)._round());this.updateDistance(l,B),this.addCurrentVertex(B,v,0,0,h),l=B}}}}}},{key:"addCurrentVertex",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=e.y*r-e.x,s=-e.y-e.x*r;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,o,!1,n,i),this.addHalfVertex(t,a,s,o,!0,-r,i)}},{key:"addHalfVertex",value:function(t,e,n,r,i,o,a){var s=t.x,u=t.y;this.layoutVertexArray.emplaceBack((s<<1)+(r?1:0),(u<<1)+(i?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length);var c=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),a.primitiveLength++),i?this.e2=c:this.e1=c}},{key:"updateScaledDistance",value:function(){if(this.lineClips){var t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}},{key:"updateDistance",value:function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()}}]),t}();oi("LineBucket",xu,{omit:["layers","patternFeatures"]});var wu=new Gi({"line-cap":new Fi(Yt.layout_line["line-cap"]),"line-join":new Bi(Yt.layout_line["line-join"]),"line-miter-limit":new Fi(Yt.layout_line["line-miter-limit"]),"line-round-limit":new Fi(Yt.layout_line["line-round-limit"]),"line-sort-key":new Bi(Yt.layout_line["line-sort-key"])}),Eu={paint:new Gi({"line-opacity":new Bi(Yt.paint_line["line-opacity"]),"line-color":new Bi(Yt.paint_line["line-color"]),"line-translate":new Fi(Yt.paint_line["line-translate"]),"line-translate-anchor":new Fi(Yt.paint_line["line-translate-anchor"]),"line-width":new Bi(Yt.paint_line["line-width"]),"line-gap-width":new Bi(Yt.paint_line["line-gap-width"]),"line-offset":new Bi(Yt.paint_line["line-offset"]),"line-blur":new Bi(Yt.paint_line["line-blur"]),"line-dasharray":new qi(Yt.paint_line["line-dasharray"]),"line-pattern":new Ui(Yt.paint_line["line-pattern"]),"line-gradient":new Vi(Yt.paint_line["line-gradient"])}),layout:wu},Su=new(function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"possiblyEvaluate",value:function(t,e){return e=new Mi(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),a(s(n.prototype),"possiblyEvaluate",this).call(this,t,e)}},{key:"evaluate",value:function(t,e,r,i){return e=A({},e,{zoom:Math.floor(e.zoom)}),a(s(n.prototype),"evaluate",this).call(this,t,e,r,i)}}]),n}(Bi))(Eu.paint.properties["line-width"].specification);function ku(t,e){return e>0?e+2*t:t}Su.useIntegerZoom=!0;var Ou=Yi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Cu=Yi([{name:"a_projected_pos",components:3,type:"Float32"}],4),Pu=(Yi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Yi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Tu=Yi([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]),Mu=(Yi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Yi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Au=Yi([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Iu(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Mi(t+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=t;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<t+1;)a++;a=Math.min(r.length-1,a);var s=r[o],u=r[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new Mi(s)),maxSize:n.evaluate(new Mi(u)),interpolationType:i}}function ju(t,e,n){var r=e.uSize,i=e.uSizeT,o=n.lowerSize,a=n.upperSize;return"source"===t.kind?o/128:"composite"===t.kind?hn(o/128,a/128,i):r}function Ru(t,e){var n=0,r=0;if("constant"===t.kind)r=t.layoutSize;else if("source"!==t.kind){var i=t.interpolationType,o=t.minZoom,a=t.maxZoom,s=i?P(Cn.interpolationFactor(i,e,o,a),0,1):0;"camera"===t.kind?r=hn(t.minSize,t.maxSize,s):n=s}return{uSizeT:n,uSize:r}}Yi([{name:"triangle",components:3,type:"Uint16"}]),Yi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Yi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Yi([{type:"Float32",name:"offsetX"}]),Yi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Du=Object.freeze({__proto__:null,getSizeData:Iu,evaluateSizeForFeature:ju,evaluateSizeForZoom:Ru,SIZE_PACK_FACTOR:128});function Nu(t,e,n){return t.sections.forEach((function(t){t.text=function(t,e,n){var r=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),Ti.applyArabicShaping&&(t=Ti.applyArabicShaping(t)),t}(t.text,e,n)})),t}var Lu={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},zu=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},Fu=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*y},Bu=Uu;function Uu(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Uu.Varint=0,Uu.Fixed64=1,Uu.Bytes=2,Uu.Fixed32=5;var qu="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Vu(t){return t.type===Uu.Bytes?t.readVarint()+t.pos:t.pos+1}function Gu(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Wu(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function Hu(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function Ku(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function Xu(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function Yu(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function Zu(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function $u(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function Ju(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function Qu(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function tc(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function ec(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function nc(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function rc(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function ic(t,e,n){1===t&&n.readMessage(oc,e)}function oc(t,e,n){if(3===t){var r=n.readMessage(ac,{}),i=r.id,o=r.bitmap,a=r.width,s=r.height,u=r.left,c=r.top,l=r.advance;e.push({id:i,bitmap:new as({width:a+6,height:s+6},o),metrics:{width:a,height:s,left:u,top:c,advance:l}})}}function ac(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}function sc(t){var e,n=0,r=0,i=h(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;n+=o.w*o.h,r=Math.max(r,o.w)}}catch(v){i.e(v)}finally{i.f()}t.sort((function(t,e){return e.h-t.h}));var a,s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),r),h:1/0}],u=0,c=0,l=h(t);try{for(l.s();!(a=l.n()).done;)for(var f=a.value,p=s.length-1;p>=0;p--){var d=s[p];if(!(f.w>d.w||f.h>d.h)){if(f.x=d.x,f.y=d.y,c=Math.max(c,f.y+f.h),u=Math.max(u,f.x+f.w),f.w===d.w&&f.h===d.h){var y=s.pop();p<s.length&&(s[p]=y)}else f.h===d.h?(d.x+=f.w,d.w-=f.w):f.w===d.w?(d.y+=f.h,d.h-=f.h):(s.push({x:d.x+f.w,y:d.y,w:d.w-f.w,h:f.h}),d.y+=f.h,d.h-=f.h);break}}}catch(v){l.e(v)}finally{l.f()}return{w:u,h:c,fill:n/(u*c)||0}}Uu.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=ec(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=rc(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=ec(this.buf,this.pos)+4294967296*ec(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=ec(this.buf,this.pos)+4294967296*rc(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=zu(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=zu(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return Gu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return Gu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return Gu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return Gu(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return Gu(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return Gu(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&qu?function(t,e,n){return qu.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,u=t[i],c=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l>n)break;1===l?u<128&&(c=u):2===l?128==(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)<=127&&(c=null):3===l?(a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&((c=(15&u)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===l&&(a=t[i+2],s=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,l=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),i+=l}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Uu.Bytes)return t.push(this.readVarint(e));var n=Vu(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Uu.Bytes)return t.push(this.readSVarint());var e=Vu(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Uu.Bytes)return t.push(this.readBoolean());var e=Vu(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Uu.Bytes)return t.push(this.readFloat());var e=Vu(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Uu.Bytes)return t.push(this.readDouble());var e=Vu(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Uu.Bytes)return t.push(this.readFixed32());var e=Vu(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Uu.Bytes)return t.push(this.readSFixed32());var e=Vu(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Uu.Bytes)return t.push(this.readFixed64());var e=Vu(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Uu.Bytes)return t.push(this.readSFixed64());var e=Vu(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Uu.Varint)for(;this.buf[this.pos++]>127;);else if(e===Uu.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Uu.Fixed32)this.pos+=4;else{if(e!==Uu.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),nc(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),nc(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),nc(this.buf,-1&t,this.pos),nc(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),nc(this.buf,-1&t,this.pos),nc(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&Wu(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Fu(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Fu(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&Wu(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,Uu.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,Hu,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Ku,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Zu,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,Xu,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Yu,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,$u,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,Ju,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Qu,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,tc,e)},writeBytesField:function(t,e){this.writeTag(t,Uu.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Uu.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Uu.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Uu.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Uu.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Uu.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Uu.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Uu.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Uu.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Uu.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var uc=function(){function t(e,n){var r=n.pixelRatio,i=n.version,o=n.stretchX,a=n.stretchY,s=n.content;v(this,t),this.paddedRect=e,this.pixelRatio=r,this.stretchX=o,this.stretchY=a,this.content=s,this.version=i}return g(t,[{key:"tl",get:function(){return[this.paddedRect.x+1,this.paddedRect.y+1]}},{key:"br",get:function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}},{key:"tlbr",get:function(){return this.tl.concat(this.br)}},{key:"displaySize",get:function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}]),t}(),cc=function(){function t(e,n){v(this,t);var r={},i={};this.haveRenderCallbacks=[];var o=[];this.addImages(e,r,o),this.addImages(n,i,o);var a=sc(o),s=a.w,u=a.h,c=new ss({width:s||1,height:u||1});for(var l in e){var f=e[l],h=r[l].paddedRect;ss.copy(f.data,c,{x:0,y:0},{x:h.x+1,y:h.y+1},f.data)}for(var p in n){var d=n[p],y=i[p].paddedRect,g=y.x+1,m=y.y+1,b=d.data.width,_=d.data.height;ss.copy(d.data,c,{x:0,y:0},{x:g,y:m},d.data),ss.copy(d.data,c,{x:0,y:_-1},{x:g,y:m-1},{width:b,height:1}),ss.copy(d.data,c,{x:0,y:0},{x:g,y:m+_},{width:b,height:1}),ss.copy(d.data,c,{x:b-1,y:0},{x:g-1,y:m},{width:1,height:_}),ss.copy(d.data,c,{x:0,y:0},{x:g+b,y:m},{width:1,height:_})}this.image=c,this.iconPositions=r,this.patternPositions=i}return g(t,[{key:"addImages",value:function(t,e,n){for(var r in t){var i=t[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),e[r]=new uc(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}},{key:"patchUpdatedImages",value:function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)}},{key:"patchUpdatedImage",value:function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var r=f(t.tl,2),i=r[0],o=r[1];n.update(e.data,void 0,{x:i,y:o})}}}]),t}();oi("ImagePosition",uc),oi("ImageAtlas",cc);var lc={horizontal:1,vertical:2,horizontalOnly:3},fc=function(){function t(){v(this,t),this.scale=1,this.fontStack="",this.imageName=null}return g(t,null,[{key:"forText",value:function(e,n){var r=new t;return r.scale=e||1,r.fontStack=n,r}},{key:"forImage",value:function(e){var n=new t;return n.imageName=e,n}}]),t}(),hc=function(){function t(){v(this,t),this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}return g(t,[{key:"length",value:function(){return this.text.length}},{key:"getSection",value:function(t){return this.sections[this.sectionIndex[t]]}},{key:"getSectionIndex",value:function(t){return this.sectionIndex[t]}},{key:"getCharCode",value:function(t){return this.text.charCodeAt(t)}},{key:"verticalizePunctuation",value:function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;e+=r&&gi(r)&&!Lu[t[n+1]]||i&&gi(i)&&!Lu[t[n-1]]||!Lu[t[n]]?t[n]:Lu[t[n]]}return e}(this.text)}},{key:"trim",value:function(){for(var t=0,e=0;e<this.text.length&&dc[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=t&&dc[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)}},{key:"substring",value:function(e,n){var r=new t;return r.text=this.text.substring(e,n),r.sectionIndex=this.sectionIndex.slice(e,n),r.sections=this.sections,r}},{key:"toString",value:function(){return this.text}},{key:"getMaxScale",value:function(){var t=this;return this.sectionIndex.reduce((function(e,n){return Math.max(e,t.sections[n].scale)}),0)}},{key:"addTextSection",value:function(t,e){this.text+=t.text,this.sections.push(fc.forText(t.scale,t.fontStack||e));for(var n=this.sections.length-1,r=0;r<t.text.length;++r)this.sectionIndex.push(n)}},{key:"addImageSection",value:function(t){var e=t.image?t.image.name:"";if(0!==e.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(fc.forImage(e)),this.sectionIndex.push(this.sections.length-1)):q("Reached maximum number of images 6401")}else q("Can't add FormattedSection with an empty image.")}},{key:"getNextImageSectionCharCode",value:function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}],[{key:"fromFeature",value:function(e,n){for(var r=new t,i=0;i<e.sections.length;i++){var o=e.sections[i];o.image?r.addImageSection(o):r.addTextSection(o,n)}return r}}]),t}();function pc(t,e,n,r,i,o,a,s,u,c,l,f,p,d,y,v){var g,m=hc.fromFeature(t,i);f===lc.vertical&&m.verticalizePunctuation();var b=Ti.processBidirectionalText,_=Ti.processStyledBidirectionalText;if(b&&1===m.sections.length){g=[];var x,w=b(m.toString(),_c(m,c,o,e,r,d,y)),E=h(w);try{for(E.s();!(x=E.n()).done;){var S=x.value,k=new hc;k.text=S,k.sections=m.sections;for(var O=0;O<S.length;O++)k.sectionIndex.push(0);g.push(k)}}catch(R){E.e(R)}finally{E.f()}}else if(_){g=[];var C,P=_(m.text,m.sectionIndex,_c(m,c,o,e,r,d,y)),T=h(P);try{for(T.s();!(C=T.n()).done;){var M=C.value,A=new hc;A.text=M[0],A.sectionIndex=M[1],A.sections=m.sections,g.push(A)}}catch(R){T.e(R)}finally{T.f()}}else g=function(t,e){var n,r=[],i=t.text,o=0,a=h(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;r.push(t.substring(o,s)),o=s}}catch(R){a.e(R)}finally{a.f()}return o<i.length&&r.push(t.substring(o,i.length)),r}(m,_c(m,c,o,e,r,d,y));var I=[],j={positionedLines:I,text:m.toString(),top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:f,iconsInText:!1,verticalizable:!1};return function(t,e,n,r,i,o,a,s,u,c,l,f){var p,d,y=0,v=-17,g=0,m=0,b="right"===s?1:"left"===s?0:.5,_=0,x=h(i);try{for(x.s();!(p=x.n()).done;){var w=p.value;w.trim();var E=w.getMaxScale(),S=24*(E-1),k={positionedGlyphs:[],lineOffset:0};t.positionedLines[_]=k;var O=k.positionedGlyphs,C=0;if(w.length()){for(var P=0;P<w.length();P++){var T=w.getSection(P),M=w.getSectionIndex(P),A=w.getCharCode(P),I=0,j=null,D=null,N=null,L=24,z=!(u===lc.horizontal||!l&&!vi(A)||l&&(dc[A]||(d=A,hi.Arabic(d)||hi["Arabic Supplement"](d)||hi["Arabic Extended-A"](d)||hi["Arabic Presentation Forms-A"](d)||hi["Arabic Presentation Forms-B"](d))));if(T.imageName){var F=r[T.imageName];if(!F)continue;N=T.imageName,t.iconsInText=t.iconsInText||!0,D=F.paddedRect;var B=F.displaySize;T.scale=24*T.scale/f,j={width:B[0],height:B[1],left:1,top:-3,advance:z?B[1]:B[0]},I=S+(24-B[1]*T.scale),L=j.advance;var U=z?B[0]*T.scale-24*E:B[1]*T.scale-24*E;U>0&&U>C&&(C=U)}else{var q=n[T.fontStack],V=q&&q[A];if(V&&V.rect)D=V.rect,j=V.metrics;else{var G=e[T.fontStack],W=G&&G[A];if(!W)continue;j=W.metrics}I=24*(E-T.scale)}z?(t.verticalizable=!0,O.push({glyph:A,imageName:N,x:y,y:v+I,vertical:z,scale:T.scale,fontStack:T.fontStack,sectionIndex:M,metrics:j,rect:D}),y+=L*T.scale+c):(O.push({glyph:A,imageName:N,x:y,y:v+I,vertical:z,scale:T.scale,fontStack:T.fontStack,sectionIndex:M,metrics:j,rect:D}),y+=j.advance*T.scale+c)}0!==O.length&&(g=Math.max(y-c,g),wc(O,0,O.length-1,b,C)),y=0;var H=o*E+C;k.lineOffset=Math.max(C,S),v+=H,m=Math.max(H,m),++_}else v+=o,++_}}catch(R){x.e(R)}finally{x.f()}var K=v- -17,X=xc(a),Y=X.horizontalAlign,Z=X.verticalAlign;(function(t,e,n,r,i,o,a,s,u){var c=(e-n)*i,l=0;l=o!==a?-s*r- -17:(-r*u+.5)*a;var f,p=h(t);try{for(p.s();!(f=p.n()).done;){var d,y=f.value,v=h(y.positionedGlyphs);try{for(v.s();!(d=v.n()).done;){var g=d.value;g.x+=c,g.y+=l}}catch(R){v.e(R)}finally{v.f()}}}catch(R){p.e(R)}finally{p.f()}})(t.positionedLines,b,Y,Z,g,m,o,K,i.length),t.top+=-Z*K,t.bottom=t.top+K,t.left+=-Y*g,t.right=t.left+g}(j,e,n,r,g,a,s,u,f,c,p,v),!function(t){var e,n=h(t);try{for(n.s();!(e=n.n()).done;)if(0!==e.value.positionedGlyphs.length)return!1}catch(R){n.e(R)}finally{n.f()}return!0}(I)&&j}var dc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},yc={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function vc(t,e,n,r,i,o){if(e.imageName){var a=r[e.imageName];return a?a.displaySize[0]*e.scale*24/o+i:0}var s=n[e.fontStack],u=s&&s[t];return u?u.metrics.advance*e.scale+i:0}function gc(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function mc(t,e,n){var r=0;return 10===t&&(r-=1e4),n&&(r+=150),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function bc(t,e,n,r,i,o){var a,s=null,u=gc(e,n,i,o),c=h(r);try{for(c.s();!(a=c.n()).done;){var l=a.value,f=gc(e-l.x,n,i,o)+l.badness;f<=u&&(s=l,u=f)}}catch(p){c.e(p)}finally{c.f()}return{index:t,x:e,priorBreak:s,badness:u}}function _c(t,e,n,r,i,o,a){if("point"!==o)return[];if(!t)return[];for(var s,u=[],c=function(t,e,n,r,i,o){for(var a=0,s=0;s<t.length();s++){var u=t.getSection(s);a+=vc(t.getCharCode(s),u,r,i,e,o)}return a/Math.max(1,Math.ceil(a/n))}(t,e,n,r,i,a),l=t.text.indexOf("\u200b")>=0,f=0,h=0;h<t.length();h++){var p=t.getSection(h),d=t.getCharCode(h);if(dc[d]||(f+=vc(d,p,r,i,e,a)),h<t.length()-1){var y=!((s=d)<11904||!(hi["Bopomofo Extended"](s)||hi.Bopomofo(s)||hi["CJK Compatibility Forms"](s)||hi["CJK Compatibility Ideographs"](s)||hi["CJK Compatibility"](s)||hi["CJK Radicals Supplement"](s)||hi["CJK Strokes"](s)||hi["CJK Symbols and Punctuation"](s)||hi["CJK Unified Ideographs Extension A"](s)||hi["CJK Unified Ideographs"](s)||hi["Enclosed CJK Letters and Months"](s)||hi["Halfwidth and Fullwidth Forms"](s)||hi.Hiragana(s)||hi["Ideographic Description Characters"](s)||hi["Kangxi Radicals"](s)||hi["Katakana Phonetic Extensions"](s)||hi.Katakana(s)||hi["Vertical Forms"](s)||hi["Yi Radicals"](s)||hi["Yi Syllables"](s)));(yc[d]||y||p.imageName)&&u.push(bc(h+1,f,c,u,mc(d,t.getCharCode(h+1),y&&l),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(bc(t.length(),f,c,u,0,!0))}function xc(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function wc(t,e,n,r,i){if(r||i)for(var o=t[n],a=(t[n].x+o.metrics.advance*o.scale)*r,s=e;s<=n;s++)t[s].x-=a,t[s].y+=i}function Ec(t,e,n){var r=xc(n),i=r.horizontalAlign,o=r.verticalAlign,a=e[0]-t.displaySize[0]*i,s=e[1]-t.displaySize[1]*o;return{image:t,top:s,bottom:s+t.displaySize[1],left:a,right:a+t.displaySize[0]}}function Sc(t,e,n,r,i,o){var a,s=t.image;if(s.content){var u=s.content,c=s.pixelRatio||1;a=[u[0]/c,u[1]/c,s.displaySize[0]-u[2]/c,s.displaySize[1]-u[3]/c]}var l,f,h,p,d=e.left*o,y=e.right*o;"width"===n||"both"===n?(p=i[0]+d-r[3],f=i[0]+y+r[1]):f=(p=i[0]+(d+y-s.displaySize[0])/2)+s.displaySize[0];var v=e.top*o,g=e.bottom*o;return"height"===n||"both"===n?(l=i[1]+v-r[0],h=i[1]+g+r[2]):h=(l=i[1]+(v+g-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:l,right:f,bottom:h,left:p,collisionPadding:a}}var kc=function(t){d(n,t);var e=y(n);function n(t,r,i,o){var a;return v(this,n),(a=e.call(this,t,r)).angle=i,void 0!==o&&(a.segment=o),a}return g(n,[{key:"clone",value:function(){return new n(this.x,this.y,this.angle,this.segment)}}]),n}(r);function Oc(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],c=0;s<n/2;){var l=t[a],f=t[a+1];if(!f)return!1;var h=t[a-1].angleTo(l)-l.angleTo(f);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:h}),c+=h;s-u[0].distance>r;)c-=u.shift().angleDelta;if(c>i)return!1;a++,s+=l.dist(f)}return!0}function Cc(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function Pc(t,e,n){return t?.6*e*n:0}function Tc(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Mc(t,e,n,r,i,o){for(var a=Pc(n,i,o),s=Tc(n,r)*o,u=0,c=Cc(t)/2,l=0;l<t.length-1;l++){var f=t[l],h=t[l+1],p=f.dist(h);if(u+p>c){var d=(c-u)/p,y=hn(f.x,h.x,d),v=hn(f.y,h.y,d),g=new kc(y,v,h.angleTo(f),l);return g._round(),!a||Oc(t,g,s,a,e)?g:void 0}u+=p}}function Ac(t,e,n,r,i,o,a,s,u){var c=Pc(r,o,a),l=Tc(r,i),f=l*a,h=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;return e-f<e/4&&(e=f+e/4),function t(e,n,r,i,o,a,s,u,c){for(var l=a/2,f=Cc(e),h=0,p=n-r,d=[],y=0;y<e.length-1;y++){for(var v=e[y],g=e[y+1],m=v.dist(g),b=g.angleTo(v);p+r<h+m;){var _=((p+=r)-h)/m,x=hn(v.x,g.x,_),w=hn(v.y,g.y,_);if(x>=0&&x<c&&w>=0&&w<c&&p-l>=0&&p+l<=f){var E=new kc(x,w,b,y);E._round(),i&&!Oc(e,E,a,i,o)||d.push(E)}}h+=m}return u||d.length||s||(d=t(e,h/2,r,i,o,a,s,!0,c)),d}(t,h?e/2*s%e:(l/2+2*o)*a*s%e,e,c,n,f,h,!1,u)}function Ic(t,e,n,i,o){for(var a=[],s=0;s<t.length;s++)for(var u=t[s],c=void 0,l=0;l<u.length-1;l++){var f=u[l],h=u[l+1];f.x<e&&h.x<e||(f.x<e?f=new r(e,f.y+(e-f.x)/(h.x-f.x)*(h.y-f.y))._round():h.x<e&&(h=new r(e,f.y+(e-f.x)/(h.x-f.x)*(h.y-f.y))._round()),f.y<n&&h.y<n||(f.y<n?f=new r(f.x+(n-f.y)/(h.y-f.y)*(h.x-f.x),n)._round():h.y<n&&(h=new r(f.x+(n-f.y)/(h.y-f.y)*(h.x-f.x),n)._round()),f.x>=i&&h.x>=i||(f.x>=i?f=new r(i,f.y+(i-f.x)/(h.x-f.x)*(h.y-f.y))._round():h.x>=i&&(h=new r(i,f.y+(i-f.x)/(h.x-f.x)*(h.y-f.y))._round()),f.y>=o&&h.y>=o||(f.y>=o?f=new r(f.x+(o-f.y)/(h.y-f.y)*(h.x-f.x),o)._round():h.y>=o&&(h=new r(f.x+(o-f.y)/(h.y-f.y)*(h.x-f.x),o)._round()),c&&f.equals(c[c.length-1])||(c=[f],a.push(c)),c.push(h)))))}return a}function jc(t,e,n,i){var o=[],a=t.image,s=a.pixelRatio,u=a.paddedRect.w-2,c=a.paddedRect.h-2,l=t.right-t.left,f=t.bottom-t.top,h=a.stretchX||[[0,u]],p=a.stretchY||[[0,c]],d=function(t,e){return t+e[1]-e[0]},y=h.reduce(d,0),v=p.reduce(d,0),g=u-y,m=c-v,b=0,_=y,x=0,w=v,E=0,S=g,k=0,O=m;if(a.content&&i){var C=a.content;b=Rc(h,0,C[0]),x=Rc(p,0,C[1]),_=Rc(h,C[0],C[2]),w=Rc(p,C[1],C[3]),E=C[0]-b,k=C[1]-x,S=C[2]-C[0]-_,O=C[3]-C[1]-w}var P=function(i,o,u,c){var h=Nc(i.stretch-b,_,l,t.left),p=Lc(i.fixed-E,S,i.stretch,y),d=Nc(o.stretch-x,w,f,t.top),g=Lc(o.fixed-k,O,o.stretch,v),m=Nc(u.stretch-b,_,l,t.left),C=Lc(u.fixed-E,S,u.stretch,y),P=Nc(c.stretch-x,w,f,t.top),T=Lc(c.fixed-k,O,c.stretch,v),M=new r(h,d),A=new r(m,d),I=new r(m,P),j=new r(h,P),R=new r(p/s,g/s),D=new r(C/s,T/s),N=e*Math.PI/180;if(N){var L=Math.sin(N),z=Math.cos(N),F=[z,-L,L,z];M._matMult(F),A._matMult(F),j._matMult(F),I._matMult(F)}var B=i.stretch+i.fixed,U=o.stretch+o.fixed;return{tl:M,tr:A,bl:j,br:I,tex:{x:a.paddedRect.x+1+B,y:a.paddedRect.y+1+U,w:u.stretch+u.fixed-B,h:c.stretch+c.fixed-U},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:D,minFontScaleX:S/s/l,minFontScaleY:O/s/f,isSDF:n}};if(i&&(a.stretchX||a.stretchY))for(var T=Dc(h,g,y),M=Dc(p,m,v),A=0;A<T.length-1;A++)for(var I=T[A],j=T[A+1],R=0;R<M.length-1;R++)o.push(P(I,M[R],j,M[R+1]));else o.push(P({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:c+1}));return o}function Rc(t,e,n){var r,i=0,o=h(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i+=Math.max(e,Math.min(n,a[1]))-Math.max(e,Math.min(n,a[0]))}}catch(s){o.e(s)}finally{o.f()}return i}function Dc(t,e,n){var r,i=[{fixed:-1,stretch:0}],o=h(t);try{for(o.s();!(r=o.n()).done;){var a=f(r.value,2),s=a[0],u=a[1],c=i[i.length-1];i.push({fixed:s-c.stretch,stretch:c.stretch}),i.push({fixed:s-c.stretch,stretch:c.stretch+(u-s)})}}catch(l){o.e(l)}finally{o.f()}return i.push({fixed:e+1,stretch:n}),i}function Nc(t,e,n,r){return t/e*n+r}function Lc(t,e,n,r){return t-e*n/r}oi("Anchor",kc);var zc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fc;if(v(this,t),this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}return g(t,[{key:"push",value:function(t){this.data.push(t),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r}},{key:"_down",value:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=e[o],s=o+1;if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i}}]),t}();function Fc(t,e){return t<e?-1:t>e?1:0}function Bc(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=1/0,o=1/0,a=-1/0,s=-1/0,u=t[0],c=0;c<u.length;c++){var l=u[c];(!c||l.x<i)&&(i=l.x),(!c||l.y<o)&&(o=l.y),(!c||l.x>a)&&(a=l.x),(!c||l.y>s)&&(s=l.y)}var f=Math.min(a-i,s-o),h=f/2,p=new zc([],Uc);if(0===f)return new r(i,o);for(var d=i;d<a;d+=f)for(var y=o;y<s;y+=f)p.push(new qc(d+h,y+h,h,t));for(var v=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var u=i[o],c=i[s],l=u.x*c.y-c.x*u.y;n+=(u.x+c.x)*l,r+=(u.y+c.y)*l,e+=3*l}return new qc(n/e,r/e,0,t)}(t),g=p.length;p.length;){var m=p.pop();(m.d>v.d||!v.d)&&(v=m,n&&console.log("found best %d after %d probes",Math.round(1e4*m.d)/1e4,g)),m.max-v.d<=e||(h=m.h/2,p.push(new qc(m.p.x-h,m.p.y-h,h,t)),p.push(new qc(m.p.x+h,m.p.y-h,h,t)),p.push(new qc(m.p.x-h,m.p.y+h,h,t)),p.push(new qc(m.p.x+h,m.p.y+h,h,t)),g+=4)}return n&&(console.log("num probes: ".concat(g)),console.log("best distance: ".concat(v.d))),v.p}function Uc(t,e){return e.max-t.max}function qc(t,e,n,i){this.p=new r(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,u=s-1;a<s;u=a++){var c=o[a],l=o[u];c.y>t.y!=l.y>t.y&&t.x<(l.x-c.x)*(t.y-c.y)/(l.y-c.y)+c.x&&(n=!n),r=Math.min(r,ya(t,c,l))}return(n?1:-1)*Math.sqrt(r)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}var Vc=Number.POSITIVE_INFINITY;function Gc(t,e){return e[1]!==Vc?function(t,e,n){var r=0,i=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(t){case"top-right":case"bottom-right":case"right":r=-e;break;case"top-left":case"bottom-left":case"left":r=e}return[r,i]}(t,e[0],e[1]):function(t,e){var n=0,r=0;e<0&&(e=0);var i=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-e;break;case"top":r=e-7}switch(t){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=e;break;case"right":n=-e}return[n,r]}(t,e[0])}function Wc(t,e,n,r,i,o,a,s){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var u=t.layers[0].layout,c=t.layers[0]._unevaluatedLayout._values,l={};if("composite"===t.textSizeData.kind){var f=t.textSizeData,p=f.minZoom,d=f.maxZoom;l.compositeTextSizes=[c["text-size"].possiblyEvaluate(new Mi(p),a),c["text-size"].possiblyEvaluate(new Mi(d),a)]}if("composite"===t.iconSizeData.kind){var y=t.iconSizeData,v=y.minZoom,g=y.maxZoom;l.compositeIconSizes=[c["icon-size"].possiblyEvaluate(new Mi(v),a),c["icon-size"].possiblyEvaluate(new Mi(g),a)]}l.layoutTextSize=c["text-size"].possiblyEvaluate(new Mi(s+1),a),l.layoutIconSize=c["icon-size"].possiblyEvaluate(new Mi(s+1),a),l.textMaxSize=c["text-size"].possiblyEvaluate(new Mi(18),a);var m,b=24*u.get("text-line-height"),_="map"===u.get("text-rotation-alignment")&&"point"!==u.get("symbol-placement"),x=u.get("text-keep-upright"),w=u.get("text-size"),E=h(t.features);try{var S=function(){var o=m.value,s=u.get("text-font").evaluate(o,{},a).join(","),c=w.evaluate(o,{},a),f=l.layoutTextSize.evaluate(o,{},a),h=(l.layoutIconSize.evaluate(o,{},a),{horizontal:{},vertical:void 0}),p=o.text,d=void 0,y=[0,0];if(p){var v=p.toString(),g=24*u.get("text-letter-spacing").evaluate(o,{},a),E=di(v)?g:0,S=u.get("text-anchor").evaluate(o,{},a),k=u.get("text-variable-anchor");if(!k){var O=u.get("text-radial-offset").evaluate(o,{},a);y=O?Gc(S,[24*O,Vc]):u.get("text-offset").evaluate(o,{},a).map((function(t){return 24*t}))}var C=_?"center":u.get("text-justify").evaluate(o,{},a),P=u.get("symbol-placement"),T="point"===P?24*u.get("text-max-width").evaluate(o,{},a):0,M=function(){t.allowVerticalPlacement&&pi(v)&&(h.vertical=pc(p,e,n,i,s,T,b,S,"left",E,y,lc.vertical,!0,P,f,c))};if(!_&&k){for(var A="auto"===C?k.map((function(t){return Hc(t)})):[C],I=!1,j=0;j<A.length;j++){var R=A[j];if(!h.horizontal[R])if(I)h.horizontal[R]=h.horizontal[0];else{var D=pc(p,e,n,i,s,T,b,"center",R,E,y,lc.horizontal,!1,P,f,c);D&&(h.horizontal[R]=D,I=1===D.positionedLines.length)}}M()}else{"auto"===C&&(C=Hc(S));var N=pc(p,e,n,i,s,T,b,S,C,E,y,lc.horizontal,!1,P,f,c);N&&(h.horizontal[C]=N),M(),pi(v)&&_&&x&&(h.vertical=pc(p,e,n,i,s,T,b,S,C,E,y,lc.vertical,!1,P,f,c))}}var L=!1;if(o.icon&&o.icon.name){var z=r[o.icon.name];z&&(d=Ec(i[o.icon.name],u.get("icon-offset").evaluate(o,{},a),u.get("icon-anchor").evaluate(o,{},a)),L=z.sdf,void 0===t.sdfIcons?t.sdfIcons=z.sdf:t.sdfIcons!==z.sdf&&q("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(z.pixelRatio!==t.pixelRatio||0!==u.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var F=Yc(h.horizontal)||h.vertical;t.iconsInText=!!F&&F.iconsInText,(F||d)&&Kc(t,o,h,d,r,l,f,0,y,L,a)};for(E.s();!(m=E.n()).done;)S()}catch(k){E.e(k)}finally{E.f()}o&&t.generateCollisionDebugBuffers(s,t.collisionBoxArray)}function Hc(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Kc(t,e,n,r,i,o,a,s,u,c,l){var p=o.textMaxSize.evaluate(e,{},l);void 0===p&&(p=a);var d,y=t.layers[0].layout,v=y.get("icon-offset").evaluate(e,{},l),g=Yc(n.horizontal),m=a/24,b=t.tilePixelRatio*m,_=t.tilePixelRatio*p/24,x=t.tilePixelRatio*y.get("symbol-spacing"),w=y.get("text-padding")*t.tilePixelRatio,E=y.get("icon-padding")*t.tilePixelRatio,k=S(y.get("text-max-angle")),O="map"===y.get("text-rotation-alignment")&&"point"!==y.get("symbol-placement"),C="map"===y.get("icon-rotation-alignment")&&"point"!==y.get("symbol-placement"),P=y.get("symbol-placement"),T=x/2,M=y.get("icon-text-fit");r&&"none"!==M&&(t.allowVerticalPlacement&&n.vertical&&(d=Sc(r,n.vertical,M,y.get("icon-text-fit-padding"),v,m)),g&&(r=Sc(r,g,M,y.get("icon-text-fit-padding"),v,m)));var A=function(s,h){h.x<0||h.x>=8192||h.y<0||h.y>=8192||function(t,e,n,r,i,o,a,s,u,c,l,h,p,d,y,v,g,m,b,_,x,w,E,S,k){var O,C,P,T,M,A,I,j,R,D=t.addToLineVertexArray(e,n),N=0,L=0,z=0,F=0,B=-1,U=-1,V={},G=Io(""),W=0,H=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(O=s.layout.get("text-offset").evaluate(x,{},S).map((function(t){return 24*t})),W=(C=f(O,2))[0],H=C[1]):(W=24*s.layout.get("text-radial-offset").evaluate(x,{},S),H=Vc),t.allowVerticalPlacement&&r.vertical){var K=r.vertical;if(y)j=$c(K),a&&(R=$c(a));else{var X=s.layout.get("text-rotate").evaluate(x,{},S)+90;M=Zc(u,e,c,l,h,K,0,d,X),a&&(A=Zc(u,e,c,l,h,a,0,m,X))}}if(i){var Y=s.layout.get("icon-rotate").evaluate(x,{},S),Z="none"!==s.layout.get("icon-text-fit"),$=jc(i,Y,E,Z),J=a?jc(a,Y,E,Z):void 0;T=Zc(u,e,c,l,h,i,0,m,Y),N=4*$.length;var Q=t.iconSizeData,tt=null;"source"===Q.kind?(tt=[128*s.layout.get("icon-size").evaluate(x,{},S)])[0]>32640&&q("".concat(t.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===Q.kind&&((tt=[128*w.compositeIconSizes[0].evaluate(x,{},S),128*w.compositeIconSizes[1].evaluate(x,{},S)])[0]>32640||tt[1]>32640)&&q("".concat(t.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')),t.addSymbols(t.icon,$,tt,_,b,x,!1,e,D.lineStartIndex,D.lineLength,-1,S),B=t.icon.placedSymbolArray.length-1,J&&(L=4*J.length,t.addSymbols(t.icon,J,tt,_,b,x,lc.vertical,e,D.lineStartIndex,D.lineLength,-1,S),U=t.icon.placedSymbolArray.length-1)}for(var et in r.horizontal){var nt=r.horizontal[et];P||(G=Io(nt.text),y?I=$c(nt):P=Zc(u,e,c,l,h,nt,0,d,s.layout.get("text-rotate").evaluate(x,{},S)));var rt=1===nt.positionedLines.length;if(z+=Xc(t,e,nt,o,s,y,x,v,D,r.vertical?lc.horizontal:lc.horizontalOnly,rt?Object.keys(r.horizontal):[et],V,B,w,S),rt)break}r.vertical&&(F+=Xc(t,e,r.vertical,o,s,y,x,v,D,lc.vertical,["vertical"],V,U,w,S));var it=-1,ot=function(t,e){return t?Math.max(t,e):e};it=ot(I,it),it=ot(j,it);var at=(it=ot(R,it))>-1?1:0;at&&(it*=k/24),t.glyphOffsetArray.length>=al.MAX_GLYPHS&&q("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,x.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,V.right>=0?V.right:-1,V.center>=0?V.center:-1,V.left>=0?V.left:-1,V.vertical||-1,B,U,G,void 0!==P?P:t.collisionBoxArray.length,void 0!==P?P+1:t.collisionBoxArray.length,void 0!==M?M:t.collisionBoxArray.length,void 0!==M?M+1:t.collisionBoxArray.length,void 0!==T?T:t.collisionBoxArray.length,void 0!==T?T+1:t.collisionBoxArray.length,A||t.collisionBoxArray.length,A?A+1:t.collisionBoxArray.length,c,z,F,N,L,at,0,p,W,H,it)}(t,h,s,n,r,i,d,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,b,w,O,u,0,E,C,v,e,o,c,l,a)};if("line"===P){var I,j=h(Ic(e.geometry,0,0,8192,8192));try{for(j.s();!(I=j.n()).done;){var R,D=I.value,N=Ac(D,x,k,n.vertical||g,r,24,_,t.overscaling,8192),L=h(N);try{for(L.s();!(R=L.n()).done;){var z=R.value;g&&Jc(t,g.text,T,z)||A(D,z)}}catch(rt){L.e(rt)}finally{L.f()}}}catch(rt){j.e(rt)}finally{j.f()}}else if("line-center"===P){var F,B=h(e.geometry);try{for(B.s();!(F=B.n()).done;){var U=F.value;if(U.length>1){var V=Mc(U,k,n.vertical||g,r,24,_);V&&A(U,V)}}}catch(rt){B.e(rt)}finally{B.f()}}else if("Polygon"===e.type){var G,W=h(Vs(e.geometry,0));try{for(W.s();!(G=W.n()).done;){var H=G.value,K=Bc(H,16);A(H[0],new kc(K.x,K.y,0))}}catch(rt){W.e(rt)}finally{W.f()}}else if("LineString"===e.type){var X,Y=h(e.geometry);try{for(Y.s();!(X=Y.n()).done;){var Z=X.value;A(Z,new kc(Z[0].x,Z[0].y,0))}}catch(rt){Y.e(rt)}finally{Y.f()}}else if("Point"===e.type){var $,J=h(e.geometry);try{for(J.s();!($=J.n()).done;){var Q,tt=$.value,et=h(tt);try{for(et.s();!(Q=et.n()).done;){var nt=Q.value;A([nt],new kc(nt.x,nt.y,0))}}catch(rt){et.e(rt)}finally{et.f()}}}catch(rt){J.e(rt)}finally{J.f()}}}function Xc(t,e,n,i,a,s,u,c,f,p,d,y,v,g,m){var b=function(t,e,n,i,a,s,u,c){var f,p=i.layout.get("text-rotate").evaluate(s,{})*Math.PI/180,d=[],y=h(e.positionedLines);try{for(y.s();!(f=y.n()).done;){var v,g=f.value,m=h(g.positionedGlyphs);try{for(m.s();!(v=m.n()).done;){var b=v.value;if(b.rect){var _=b.rect||{},x=4,w=!0,E=1,S=0,k=(a||c)&&b.vertical,O=b.metrics.advance*b.scale/2;if(c&&e.verticalizable){var C=24*(b.scale-1),P=(24-b.metrics.width*b.scale)/2;S=g.lineOffset/2-(b.imageName?-P:C)}if(b.imageName){var T=u[b.imageName];w=T.sdf,x=1/(E=T.pixelRatio)}var M=a?[b.x+O,b.y]:[0,0],A=a?[0,0]:[b.x+O+n[0],b.y+n[1]-S],I=[0,0];k&&(I=A,A=[0,0]);var j=(b.metrics.left-x)*b.scale-O+A[0],R=(-b.metrics.top-x)*b.scale+A[1],D=j+_.w*b.scale/E,N=R+_.h*b.scale/E,L=new r(j,R),z=new r(D,R),F=new r(j,N),B=new r(D,N);if(k){var U=new r(-O,O- -17),q=-Math.PI/2,V=12-O,G=new r(22-V,-(b.imageName?V:0)),W=o(r,l(I));L._rotateAround(q,U)._add(G)._add(W),z._rotateAround(q,U)._add(G)._add(W),F._rotateAround(q,U)._add(G)._add(W),B._rotateAround(q,U)._add(G)._add(W)}if(p){var H=Math.sin(p),K=Math.cos(p),X=[K,-H,H,K];L._matMult(X),z._matMult(X),F._matMult(X),B._matMult(X)}var Y=new r(0,0),Z=new r(0,0);d.push({tl:L,tr:z,bl:F,br:B,tex:_,writingMode:e.writingMode,glyphOffset:M,sectionIndex:b.sectionIndex,isSDF:w,pixelOffsetTL:Y,pixelOffsetBR:Z,minFontScaleX:0,minFontScaleY:0})}}}catch($){m.e($)}finally{m.f()}}}catch($){y.e($)}finally{y.f()}return d}(0,n,c,a,s,u,i,t.allowVerticalPlacement),_=t.textSizeData,x=null;"source"===_.kind?(x=[128*a.layout.get("text-size").evaluate(u,{},m)])[0]>32640&&q("".concat(t.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===_.kind&&((x=[128*g.compositeTextSizes[0].evaluate(u,{},m),128*g.compositeTextSizes[1].evaluate(u,{},m)])[0]>32640||x[1]>32640)&&q("".concat(t.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')),t.addSymbols(t.text,b,x,c,s,u,p,e,f.lineStartIndex,f.lineLength,v,m);var w,E=h(d);try{for(E.s();!(w=E.n()).done;)y[w.value]=t.text.placedSymbolArray.length-1}catch(S){E.e(S)}finally{E.f()}return 4*b.length}function Yc(t){for(var e in t)return t[e];return null}function Zc(t,e,n,i,o,a,s,u,c){var l=a.top,f=a.bottom,h=a.left,p=a.right,d=a.collisionPadding;if(d&&(h-=d[0],l-=d[1],p+=d[2],f+=d[3]),c){var y=new r(h,l),v=new r(p,l),g=new r(h,f),m=new r(p,f),b=S(c);y._rotate(b),v._rotate(b),g._rotate(b),m._rotate(b),h=Math.min(y.x,v.x,g.x,m.x),p=Math.max(y.x,v.x,g.x,m.x),l=Math.min(y.y,v.y,g.y,m.y),f=Math.max(y.y,v.y,g.y,m.y)}return t.emplaceBack(e.x,e.y,h,l,p,f,u,n,i,o),t.length-1}function $c(t){t.collisionPadding&&(t.top-=t.collisionPadding[1],t.bottom+=t.collisionPadding[3]);var e=t.bottom-t.top;return e>0?Math.max(10,e):null}function Jc(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}var Qc=su.VectorTileFeature.types,tl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function el(t,e,n,r,i,o,a,s,u,c,l,f,h){var p=s?Math.min(32640,Math.round(s[0])):0,d=s?Math.min(32640,Math.round(s[1])):0;t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,(p<<1)+(u?1:0),d,16*c,16*l,256*f,256*h)}function nl(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function rl(t){var e,n=h(t.sections);try{for(n.s();!(e=n.n()).done;)if(_i(e.value.text))return!0}catch(r){n.e(r)}finally{n.f()}return!1}var il=function(){function t(e){v(this,t),this.layoutVertexArray=new no,this.indexArray=new co,this.programConfigurations=e,this.segments=new ea,this.dynamicLayoutVertexArray=new ro,this.opacityVertexArray=new io,this.placedSymbolArray=new wo}return g(t,[{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}},{key:"upload",value:function(t,e,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ou.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Cu.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,tl,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t))}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}]),t}();oi("SymbolBuffers",il);var ol=function(){function t(e,n,r){v(this,t),this.layoutVertexArray=new e,this.layoutAttributes=n,this.indexArray=new r,this.segments=new ea,this.collisionVertexArray=new uo,this.collisionVertexArrayExt=new ro}return g(t,[{key:"upload",value:function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Pu.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,Tu.members,!0)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}]),t}();oi("CollisionBuffers",ol);var al=function(){function t(e){v(this,t),this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Pa([]),this.placementViewportMatrix=Pa([]);var n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Iu(this.zoom,n["text-size"]),this.iconSizeData=Iu(this.zoom,n["icon-size"]);var r=this.layers[0].layout,i=r.get("symbol-sort-key"),o=r.get("symbol-z-order");this.canOverlap=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==o&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((function(t){return lc[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=e.sourceID}return g(t,[{key:"createArrays",value:function(){this.text=new il(new Zo(this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new il(new Zo(this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.glyphOffsetArray=new ko,this.lineVertexArray=new Oo,this.symbolInstances=new So}},{key:"calculateGlyphDependencies",value:function(t,e,n,r,i){for(var o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,(n||r)&&i){var a=Lu[t.charAt(o)];a&&(e[a.charCodeAt(0)]=!0)}}},{key:"populate",value:function(t,e,n){var r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),s=i.get("icon-image"),u=("constant"!==a.value.kind||a.value.value instanceof Se&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),c="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,l=i.get("symbol-sort-key");if(this.features=[],u||c){var f,p=e.iconDependencies,d=e.glyphDependencies,y=e.availableImages,v=new Mi(this.zoom),g=h(t);try{for(g.s();!(f=g.n()).done;){var m=f.value,b=m.feature,_=m.id,x=m.index,w=m.sourceLayerIndex,E=r._featureFilter.needGeometry,S=oa(b,E);if(r._featureFilter.filter(v,S,n)){var k=void 0,O=void 0;if(E||(S.geometry=ia(b)),u){var C=r.getValueAndResolveTokens("text-field",S,n,y),P=Se.factory(C);rl(P)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Ci()||this.hasRTLText&&Ti.isParsed())&&(k=Nu(P,r,S))}if(c){var T=r.getValueAndResolveTokens("icon-image",S,n,y);O=T instanceof ke?T:ke.fromString(T)}if(k||O){var M=this.sortFeaturesByKey?l.evaluate(S,{},n):void 0;if(this.features.push({id:_,text:k,icon:O,index:x,sourceLayerIndex:w,geometry:S.geometry,properties:b.properties,type:Qc[b.type],sortKey:M}),O&&(p[O.name]=!0),k){var A=o.evaluate(S,{},n).join(","),I="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(lc.vertical)>=0;var j,R=h(k.sections);try{for(R.s();!(j=R.n()).done;){var D=j.value;if(D.image)p[D.image.name]=!0;else{var N=pi(k.toString()),L=D.fontStack||A,z=d[L]=d[L]||{};this.calculateGlyphDependencies(D.text,z,I,this.allowVerticalPlacement,N)}}}catch(F){R.e(F)}finally{R.f()}}}}}}catch(F){g.e(F)}finally{g.f()}"line"===i.get("symbol-placement")&&(this.features=function(t){var e={},n={},r=[],i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function u(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return"".concat(t,":").concat(r.x,":").concat(r.y)}for(var c=0;c<t.length;c++){var l=t[c],f=l.geometry,h=l.text?l.text.toString():null;if(h){var p=u(h,f),d=u(h,f,!0);if(p in n&&d in e&&n[p]!==e[d]){var y=s(p,d,f),v=a(p,d,r[y].geometry);delete e[p],delete n[d],n[u(h,r[v].geometry,!0)]=v,r[y].geometry=null}else p in n?a(p,d,f):d in e?s(p,d,f):(o(c),e[p]=i-1,n[d]=i-1)}else o(c)}return r.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}}},{key:"update",value:function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))}},{key:"isEmpty",value:function(){return 0===this.symbolInstances.length&&!this.hasRTLText}},{key:"uploadPending",value:function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}},{key:"upload",value:function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}},{key:"destroyDebugData",value:function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}},{key:"destroy",value:function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}},{key:"addToLineVertexArray",value:function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var c=o[u];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}},{key:"addSymbols",value:function(t,e,n,r,i,o,a,s,u,c,l,f){for(var h=t.indexArray,p=t.layoutVertexArray,d=t.segments.prepareSegment(4*e.length,p,h,this.canOverlap?o.sortKey:void 0),y=this.glyphOffsetArray.length,v=d.vertexLength,g=this.allowVerticalPlacement&&a===lc.vertical?Math.PI/2:0,m=o.text&&o.text.sections,b=0;b<e.length;b++){var _=e[b],x=_.tl,w=_.tr,E=_.bl,S=_.br,k=_.tex,O=_.pixelOffsetTL,C=_.pixelOffsetBR,P=_.minFontScaleX,T=_.minFontScaleY,M=_.glyphOffset,A=_.isSDF,I=_.sectionIndex,j=d.vertexLength,R=M[1];el(p,s.x,s.y,x.x,R+x.y,k.x,k.y,n,A,O.x,O.y,P,T),el(p,s.x,s.y,w.x,R+w.y,k.x+k.w,k.y,n,A,C.x,O.y,P,T),el(p,s.x,s.y,E.x,R+E.y,k.x,k.y+k.h,n,A,O.x,C.y,P,T),el(p,s.x,s.y,S.x,R+S.y,k.x+k.w,k.y+k.h,n,A,C.x,C.y,P,T),nl(t.dynamicLayoutVertexArray,s,g),h.emplaceBack(j,j+1,j+2),h.emplaceBack(j+1,j+2,j+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(M[0]),b!==e.length-1&&I===e[b+1].sectionIndex||t.programConfigurations.populatePaintArrays(p.length,o,o.index,{},f,m&&m[I])}t.placedSymbolArray.emplaceBack(s.x,s.y,y,this.glyphOffsetArray.length-y,v,u,c,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,l)}},{key:"_commitLayoutVertex",value:function(t,e,n,r,i){t.emplaceBack(e.x,e.y,n,r,Math.round(i.x),Math.round(i.y))}},{key:"_addCollisionDebugVertices",value:function(t,e,n,i,o){for(var a=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),s=a.vertexLength,u=o.anchorX,c=o.anchorY,l=0;l<4;l++)n.collisionVertexArray.emplaceBack(0,0,0,0);n.collisionVertexArrayExt.emplaceBack(e,-t.padding,-t.padding),n.collisionVertexArrayExt.emplaceBack(e,t.padding,-t.padding),n.collisionVertexArrayExt.emplaceBack(e,t.padding,t.padding),n.collisionVertexArrayExt.emplaceBack(e,-t.padding,t.padding),this._commitLayoutVertex(n.layoutVertexArray,i,u,c,new r(t.x1,t.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,u,c,new r(t.x2,t.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,u,c,new r(t.x2,t.y2)),this._commitLayoutVertex(n.layoutVertexArray,i,u,c,new r(t.x1,t.y2)),a.vertexLength+=4;var f=n.indexArray;f.emplaceBack(s,s+1),f.emplaceBack(s+1,s+2),f.emplaceBack(s+2,s+3),f.emplaceBack(s+3,s),a.primitiveLength+=4}},{key:"_addTextDebugCollisionBoxes",value:function(t,e,n,r,i,o){for(var a=r;a<i;a++){var s=n.get(a),u=this.getSymbolInstanceTextSize(t,o,e,a);this._addCollisionDebugVertices(s,u,this.textCollisionBox,s.anchorPoint,o)}}},{key:"_addIconDebugCollisionBoxes",value:function(t,e,n,r,i,o){for(var a=r;a<i;a++){var s=n.get(a),u=this.getSymbolInstanceIconSize(t,e,a);this._addCollisionDebugVertices(s,u,this.iconCollisionBox,s.anchorPoint,o)}}},{key:"generateCollisionDebugBuffers",value:function(t,e){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ol(ao,Mu.members,vo),this.iconCollisionBox=new ol(ao,Mu.members,vo);for(var n=Ru(this.iconSizeData,t),r=Ru(this.textSizeData,t),i=0;i<this.symbolInstances.length;i++){var o=this.symbolInstances.get(i);this._addTextDebugCollisionBoxes(r,t,e,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(r,t,e,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,t,e,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,t,e,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o)}}},{key:"getSymbolInstanceTextSize",value:function(t,e,n,r){var i=this.text.placedSymbolArray.get(e.rightJustifiedTextSymbolIndex>=0?e.rightJustifiedTextSymbolIndex:e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.leftJustifiedTextSymbolIndex>=0?e.leftJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex>=0?e.verticalPlacedTextSymbolIndex:r),o=ju(this.textSizeData,t,i)/24;return this.tilePixelRatio*o}},{key:"getSymbolInstanceIconSize",value:function(t,e,n){var r=this.icon.placedSymbolArray.get(n),i=ju(this.iconSizeData,t,r);return this.tilePixelRatio*i}},{key:"_commitDebugCollisionVertexUpdate",value:function(t,e,n){t.emplaceBack(e,-n,-n),t.emplaceBack(e,n,-n),t.emplaceBack(e,n,n),t.emplaceBack(e,-n,n)}},{key:"_updateTextDebugCollisionBoxes",value:function(t,e,n,r,i,o){for(var a=r;a<i;a++){var s=n.get(a),u=this.getSymbolInstanceTextSize(t,o,e,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,u,s.padding)}}},{key:"_updateIconDebugCollisionBoxes",value:function(t,e,n,r,i){for(var o=r;o<i;o++){var a=n.get(o),s=this.getSymbolInstanceIconSize(t,e,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,s,a.padding)}}},{key:"updateCollisionDebugBuffers",value:function(t,e){if(this.hasDebugData()){this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();for(var n=Ru(this.iconSizeData,t),r=Ru(this.textSizeData,t),i=0;i<this.symbolInstances.length;i++){var o=this.symbolInstances.get(i);this._updateTextDebugCollisionBoxes(r,t,e,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(r,t,e,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(n,t,e,o.iconBoxStartIndex,o.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(n,t,e,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}}},{key:"_deserializeCollisionBoxesForSymbol",value:function(t,e,n,r,i,o,a,s,u){for(var c={},l=e;l<n;l++){var f=t.get(l);c.textBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,padding:f.padding,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},c.textFeatureIndex=f.featureIndex;break}for(var h=r;h<i;h++){var p=t.get(h);c.verticalTextBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,padding:p.padding,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},c.verticalTextFeatureIndex=p.featureIndex;break}for(var d=o;d<a;d++){var y=t.get(d);c.iconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,padding:y.padding,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},c.iconFeatureIndex=y.featureIndex;break}for(var v=s;v<u;v++){var g=t.get(v);c.verticalIconBox={x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,padding:g.padding,anchorPointX:g.anchorPointX,anchorPointY:g.anchorPointY},c.verticalIconFeatureIndex=g.featureIndex;break}return c}},{key:"deserializeCollisionBoxes",value:function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}},{key:"hasTextData",value:function(){return this.text.segments.get().length>0}},{key:"hasIconData",value:function(){return this.icon.segments.get().length>0}},{key:"hasDebugData",value:function(){return this.textCollisionBox&&this.iconCollisionBox}},{key:"hasTextCollisionBoxData",value:function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}},{key:"hasIconCollisionBoxData",value:function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}},{key:"addIndicesForPlacedSymbol",value:function(t,e){for(var n=t.placedSymbolArray.get(e),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)t.indexArray.emplaceBack(i,i+1,i+2),t.indexArray.emplaceBack(i+1,i+2,i+3)}},{key:"getSortedSymbolIndexes",value:function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);r.push(0|Math.round(e*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return o.sort((function(t,e){return r[t]-r[e]||i[e]-i[t]})),o}},{key:"addToSortKeyRanges",value:function(t,e){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})}},{key:"sortFeatures",value:function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];var n,r=h(this.symbolInstanceIndexes);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.symbolInstances.get(i);this.featureSortOrder.push(o.featureIndex),[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(t,n,r){t>=0&&r.indexOf(t)===n&&e.addIndicesForPlacedSymbol(e.text,t)})),o.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,o.verticalPlacedTextSymbolIndex),o.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,o.placedIconSymbolIndex),o.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,o.verticalPlacedIconSymbolIndex)}}catch(a){r.e(a)}finally{r.f()}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}]),t}();oi("SymbolBucket",al,{omit:["layers","collisionBoxArray","features","compareText"]}),al.MAX_GLYPHS=65535,al.addDynamicAttributes=nl;var sl=new Gi({"symbol-placement":new Fi(Yt.layout_symbol["symbol-placement"]),"symbol-spacing":new Fi(Yt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Fi(Yt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Bi(Yt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Fi(Yt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Fi(Yt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Fi(Yt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Fi(Yt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Fi(Yt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Bi(Yt.layout_symbol["icon-size"]),"icon-text-fit":new Fi(Yt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Fi(Yt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Bi(Yt.layout_symbol["icon-image"]),"icon-rotate":new Bi(Yt.layout_symbol["icon-rotate"]),"icon-padding":new Fi(Yt.layout_symbol["icon-padding"]),"icon-keep-upright":new Fi(Yt.layout_symbol["icon-keep-upright"]),"icon-offset":new Bi(Yt.layout_symbol["icon-offset"]),"icon-anchor":new Bi(Yt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Fi(Yt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Fi(Yt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Fi(Yt.layout_symbol["text-rotation-alignment"]),"text-field":new Bi(Yt.layout_symbol["text-field"]),"text-font":new Bi(Yt.layout_symbol["text-font"]),"text-size":new Bi(Yt.layout_symbol["text-size"]),"text-max-width":new Bi(Yt.layout_symbol["text-max-width"]),"text-line-height":new Fi(Yt.layout_symbol["text-line-height"]),"text-letter-spacing":new Bi(Yt.layout_symbol["text-letter-spacing"]),"text-justify":new Bi(Yt.layout_symbol["text-justify"]),"text-radial-offset":new Bi(Yt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Fi(Yt.layout_symbol["text-variable-anchor"]),"text-anchor":new Bi(Yt.layout_symbol["text-anchor"]),"text-max-angle":new Fi(Yt.layout_symbol["text-max-angle"]),"text-writing-mode":new Fi(Yt.layout_symbol["text-writing-mode"]),"text-rotate":new Bi(Yt.layout_symbol["text-rotate"]),"text-padding":new Fi(Yt.layout_symbol["text-padding"]),"text-keep-upright":new Fi(Yt.layout_symbol["text-keep-upright"]),"text-transform":new Bi(Yt.layout_symbol["text-transform"]),"text-offset":new Bi(Yt.layout_symbol["text-offset"]),"text-allow-overlap":new Fi(Yt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Fi(Yt.layout_symbol["text-ignore-placement"]),"text-optional":new Fi(Yt.layout_symbol["text-optional"])}),ul={paint:new Gi({"icon-opacity":new Bi(Yt.paint_symbol["icon-opacity"]),"icon-color":new Bi(Yt.paint_symbol["icon-color"]),"icon-halo-color":new Bi(Yt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Bi(Yt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Bi(Yt.paint_symbol["icon-halo-blur"]),"icon-translate":new Fi(Yt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Fi(Yt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Bi(Yt.paint_symbol["text-opacity"]),"text-color":new Bi(Yt.paint_symbol["text-color"],{runtimeType:se,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new Bi(Yt.paint_symbol["text-halo-color"]),"text-halo-width":new Bi(Yt.paint_symbol["text-halo-width"]),"text-halo-blur":new Bi(Yt.paint_symbol["text-halo-blur"]),"text-translate":new Fi(Yt.paint_symbol["text-translate"]),"text-translate-anchor":new Fi(Yt.paint_symbol["text-translate-anchor"])}),layout:sl},cl=function(){function t(e){v(this,t),this.type=e.property.overrides?e.property.overrides.runtimeType:re,this.defaultValue=e}return g(t,[{key:"evaluate",value:function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}},{key:"eachChild",value:function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return null}}]),t}();oi("FormatSectionOverride",cl,{omit:["defaultValue"]});var ll=function(t){d(n,t);var e=y(n);function n(t){return v(this,n),e.call(this,t,ul)}return g(n,[{key:"recalculate",value:function(t,e){if(a(s(n.prototype),"recalculate",this).call(this,t,e),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){var i,o=[],u=h(r);try{for(u.s();!(i=u.n()).done;){var c=i.value;o.indexOf(c)<0&&o.push(c)}}catch(l){u.e(l)}finally{u.f()}this.layout._values["text-writing-mode"]=o}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}},{key:"getValueAndResolveTokens",value:function(t,e,n,r){var i=this.layout.get(t).evaluate(e,{},n,r),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||hr(o.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,n){return n in t?String(t[n]):""}))}(e.properties,i)}},{key:"createBucket",value:function(t){return new al(t)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return!1}},{key:"_setPaintOverrides",value:function(){var t,e=h(ul.paint.overridableProperties);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(n.hasPaintOverride(this.layout,r)){var i=this.paint.get(r),o=new cl(i),a=new fr(o,i.property.specification),s=null;s="constant"===i.value.kind||"source"===i.value.kind?new dr("source",a):new yr("composite",a,i.value.zoomStops,i.value._interpolationType),this.paint._values[r]=new Li(i.property,s,i.parameters)}}}catch(u){e.e(u)}finally{e.f()}}},{key:"_handleOverridablePaintPropertyUpdate",value:function(t,e,r){return!(!this.layout||e.isDataDriven()||r.isDataDriven())&&n.hasPaintOverride(this.layout,t)}},{key:"getProgramConfiguration",value:function(t){return new Yo(this,t)}}],[{key:"hasPaintOverride",value:function(t,e){var n=t.get("text-field"),r=ul.paint.properties[e],i=!1,o=function(t){var e,n=h(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(r.overrides&&r.overrides.hasOverride(o))return void(i=!0)}}catch(a){n.e(a)}finally{n.f()}};if("constant"===n.value.kind&&n.value.value instanceof Se)o(n.value.value.sections);else if("source"===n.value.kind){var a=function t(e){i||(e instanceof Me&&Pe(e.value)===fe?o(e.value.sections):e instanceof Re?o(e.sections):e.eachChild(t))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return i}}]),n}(Qo),fl={paint:new Gi({"background-color":new Fi(Yt.paint_background["background-color"]),"background-pattern":new qi(Yt.paint_background["background-pattern"]),"background-opacity":new Fi(Yt.paint_background["background-opacity"])})},hl={paint:new Gi({"raster-opacity":new Fi(Yt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Fi(Yt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Fi(Yt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Fi(Yt.paint_raster["raster-brightness-max"]),"raster-saturation":new Fi(Yt.paint_raster["raster-saturation"]),"raster-contrast":new Fi(Yt.paint_raster["raster-contrast"]),"raster-resampling":new Fi(Yt.paint_raster["raster-resampling"]),"raster-fade-duration":new Fi(Yt.paint_raster["raster-fade-duration"])})},pl=function(t){d(n,t);var e=y(n);function n(t){var r;return v(this,n),(r=e.call(this,t,{})).implementation=t,r}return g(n,[{key:"is3D",value:function(){return"3d"===this.implementation.renderingMode}},{key:"hasOffscreenPass",value:function(){return void 0!==this.implementation.prerender}},{key:"recalculate",value:function(){}},{key:"updateTransitions",value:function(){}},{key:"hasTransition",value:function(){}},{key:"serialize",value:function(){}},{key:"onAdd",value:function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)}},{key:"onRemove",value:function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)}}]),n}(Qo),dl={paint:new Gi({"sky-type":new Fi(Yt.paint_sky["sky-type"]),"sky-atmosphere-sun":new Fi(Yt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Fi(Yt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Fi(Yt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Fi(Yt.paint_sky["sky-gradient-radius"]),"sky-gradient":new Vi(Yt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Fi(Yt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Fi(Yt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Fi(Yt.paint_sky["sky-opacity"])})};function yl(t,e,n){var r=Ra(0,0,1),i=Xa(Ka());return function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s}(i,i,n?-S(t)+Math.PI:S(t)),Ya(i,i,-S(e)),qa(r,r,i),Fa(r,r)}var vl={circle:function(t){d(n,t);var e=y(n);function n(t){return v(this,n),e.call(this,t,ka)}return g(n,[{key:"createBucket",value:function(t){return new sa(t)}},{key:"queryRadius",value:function(t){var e=t;return _a("circle-radius",this,e)+_a("circle-stroke-width",this,e)+xa(this.paint.get("circle-translate"))}},{key:"queryIntersectsFeature",value:function(t,e,n,r,i,o,a,s){var u=this,c="map"===this.paint.get("circle-pitch-alignment");if(c&&t.queryGeometry.isAboveHorizon)return!1;var l,f=Ea(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,t.pixelToTileUnitsFactor),p=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),d=c?p*t.pixelToTileUnitsFactor:p,y=h(r);try{for(y.s();!(l=y.n()).done;){var v,g=l.value,m=h(g);try{var b=function(){var e=v.value,n=e.add(f),r=s&&o.elevation?o.elevation.exaggeration()*s.getElevationAt(n.x,n.y,!0):0,i=c?n:Ja(n,r,a),l=c?t.tilespaceRays.map((function(t){return es(t,r)})):t.queryGeometry.screenGeometry,h=d,p=Ha([],[e.x,e.y,r,1],a);if("viewport"===u.paint.get("circle-pitch-scale")&&"map"===u.paint.get("circle-pitch-alignment")?h*=p[3]/o.cameraToCenterDistance:"map"===u.paint.get("circle-pitch-scale")&&"viewport"===u.paint.get("circle-pitch-alignment")&&(h*=o.cameraToCenterDistance/p[3]),ca(l,i,h))return{v:!0}};for(m.s();!(v=m.n()).done;){var _=b();if("object"===typeof _)return _.v}}catch(x){m.e(x)}finally{m.f()}}}catch(x){y.e(x)}finally{y.f()}return!1}},{key:"getProgramIds",value:function(){return["circle"]}},{key:"getProgramConfiguration",value:function(t){return new Yo(this,t)}}]),n}(Qo),heatmap:function(t){d(n,t);var e=y(n);function n(t){var r;return v(this,n),(r=e.call(this,t,us))._updateColorRamp(),r}return g(n,[{key:"createBucket",value:function(t){return new ns(t)}}]),g(n,[{key:"_handleSpecialPaintPropertyUpdate",value:function(t){"heatmap-color"===t&&this._updateColorRamp()}},{key:"_updateColorRamp",value:function(){this.colorRamp=cs({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}},{key:"resize",value:function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["heatmap","heatmapTexture"]}},{key:"getProgramConfiguration",value:function(t){return new Yo(this,t)}}]),n}(Qo),hillshade:function(t){d(n,t);var e=y(n);function n(t){return v(this,n),e.call(this,t,ls)}return g(n,[{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["hillshade","hillshadePrepare"]}},{key:"getProgramConfiguration",value:function(t){return new Yo(this,t)}}]),n}(Qo),fill:function(t){d(n,t);var e=y(n);function n(t){return v(this,n),e.call(this,t,Ys)}return g(n,[{key:"getProgramIds",value:function(){var t=this.paint.get("fill-pattern"),e=t&&t.constantOr(1),n=[e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}},{key:"getProgramConfiguration",value:function(t){return new Yo(this,t)}},{key:"recalculate",value:function(t,e){a(s(n.prototype),"recalculate",this).call(this,t,e);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}},{key:"createBucket",value:function(t){return new Ks(t)}},{key:"queryRadius",value:function(){return xa(this.paint.get("fill-translate"))}},{key:"queryIntersectsFeature",value:function(t,e,n,r,i,o){return!t.queryGeometry.isAboveHorizon&&la(wa(t.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,t.pixelToTileUnitsFactor),r)}},{key:"isTileClipped",value:function(){return!0}}]),n}(Qo),"fill-extrusion":function(t){d(n,t);var e=y(n);function n(t){return v(this,n),e.call(this,t,du)}return g(n,[{key:"createBucket",value:function(t){return new hu(t)}},{key:"queryRadius",value:function(){return xa(this.paint.get("fill-extrusion-translate"))}},{key:"is3D",value:function(){return!0}},{key:"getProgramIds",value:function(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}},{key:"getProgramConfiguration",value:function(t){return new Yo(this,t)}},{key:"queryIntersectsFeature",value:function(t,e,n,i,o,a,s){var u=Ea(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,t.pixelToTileUnitsFactor),c=this.paint.get("fill-extrusion-height").evaluate(e,n),l=this.paint.get("fill-extrusion-base").evaluate(e,n),f=t.queryGeometry.screenGeometry,p=function(t,e,n,i,o){var a,s=[],u=[],c=o[8]*e,l=o[9]*e,f=o[10]*e,p=o[11]*e,d=o[8]*n,y=o[9]*n,v=o[10]*n,g=o[11]*n,m=h(t);try{for(m.s();!(a=m.n()).done;){var b,_=a.value,x=[],w=[],E=h(_);try{for(E.s();!(b=E.n()).done;){var S=b.value,k=S.x+i.x,O=S.y+i.y,C=o[0]*k+o[4]*O+o[12],P=o[1]*k+o[5]*O+o[13],T=o[2]*k+o[6]*O+o[14],M=o[3]*k+o[7]*O+o[15],A=T+f,I=M+p,j=C+d,R=P+y,D=T+v,N=M+g,L=new r((C+c)/I,(P+l)/I);L.z=A/I,x.push(L);var z=new r(j/N,R/N);z.z=D/N,w.push(z)}}catch(F){E.e(F)}finally{E.f()}s.push(x),u.push(w)}}catch(F){m.e(F)}finally{m.f()}return[s,u]}(i,l,c,u,s);return function(t,e,n){var r=1/0;la(n,e)&&(r=vu(n,e[0]));for(var i=0;i<e.length;i++)for(var o=e[i],a=t[i],s=0;s<o.length-1;s++){var u=o[s],c=[u,o[s+1],a[s+1],a[s],u];ua(n,c)&&(r=Math.min(r,vu(n,c)))}return r!==1/0&&r}(p[0],p[1],f)}}]),n}(Qo),line:function(t){d(n,t);var e=y(n);function n(t){var r;return v(this,n),(r=e.call(this,t,Eu)).gradientVersion=0,r}return g(n,[{key:"_handleSpecialPaintPropertyUpdate",value:function(t){"line-gradient"===t&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof fn,this.gradientVersion=(this.gradientVersion+1)%x)}},{key:"gradientExpression",value:function(){return this._transitionablePaint._values["line-gradient"].value.expression}},{key:"recalculate",value:function(t,e){a(s(n.prototype),"recalculate",this).call(this,t,e),this.paint._values["line-floorwidth"]=Su.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}},{key:"createBucket",value:function(t){return new xu(t)}},{key:"getProgramIds",value:function(){var t=this.paint.get("line-dasharray"),e=this.paint.get("line-pattern").constantOr(1),n=this.paint.get("line-gradient");return[e?"linePattern":t?"lineSDF":n?"lineGradient":"line"]}},{key:"getProgramConfiguration",value:function(t){return new Yo(this,t)}},{key:"queryRadius",value:function(t){var e=t,n=ku(_a("line-width",this,e),_a("line-gap-width",this,e)),r=_a("line-offset",this,e);return n/2+Math.abs(r)+xa(this.paint.get("line-translate"))}},{key:"queryIntersectsFeature",value:function(t,e,n,i,o,a){if(t.queryGeometry.isAboveHorizon)return!1;var s=wa(t.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,t.pixelToTileUnitsFactor),u=t.pixelToTileUnitsFactor/2*ku(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),c=this.paint.get("line-offset").evaluate(e,n);return c&&(i=function(t,e){for(var n=[],i=new r(0,0),o=0;o<t.length;o++){for(var a=t[o],s=[],u=0;u<a.length;u++){var c=a[u-1],l=a[u],f=a[u+1],h=0===u?i:l.sub(c)._unit()._perp(),p=u===a.length-1?i:f.sub(l)._unit()._perp(),d=h._add(p)._unit();d._mult(1/(d.x*p.x+d.y*p.y)),s.push(d._mult(e)._add(l))}n.push(s)}return n}(i,c*t.pixelToTileUnitsFactor)),function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];if(t.length>=3)for(var o=0;o<i.length;o++)if(ga(t,i[o]))return!0;if(fa(t,i,n))return!0}return!1}(s,i,u)}},{key:"isTileClipped",value:function(){return!0}}]),n}(Qo),symbol:ll,background:function(t){d(n,t);var e=y(n);function n(t){return v(this,n),e.call(this,t,fl)}return g(n,[{key:"getProgramIds",value:function(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}}]),n}(Qo),raster:function(t){d(n,t);var e=y(n);function n(t){return v(this,n),e.call(this,t,hl)}return g(n,[{key:"getProgramIds",value:function(){return["raster"]}}]),n}(Qo),sky:function(t){d(n,t);var e=y(n);function n(t){var r;return v(this,n),(r=e.call(this,t,dl))._updateColorRamp(),r}return g(n,[{key:"_handleSpecialPaintPropertyUpdate",value:function(t){"sky-gradient"===t?this._updateColorRamp():"sky-atmosphere-sun"!==t&&"sky-atmosphere-halo-color"!==t&&"sky-atmosphere-color"!==t&&"sky-atmosphere-sun-intensity"!==t||(this._skyboxInvalidated=!0)}},{key:"_updateColorRamp",value:function(){this.colorRamp=cs({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}},{key:"needsSkyboxCapture",value:function(t){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){var e=t.style.light.properties.get("position");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}}},{key:"getCenter",value:function(t,e){var n=this.paint.get("sky-type");if("atmosphere"===n){var r=this.paint.get("sky-atmosphere-sun"),i=!r,o=t.style.light,a=o.properties.get("position");return i&&"viewport"===o.properties.get("anchor")&&q("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),i?yl(a.azimuthal,90-a.polar,e):yl(r[0],90-r[1],e)}if("gradient"===n){var s=this.paint.get("sky-gradient-center");return yl(s[0],90-s[1],e)}}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!0}},{key:"markSkyboxValid",value:function(t){this._skyboxInvalidated=!1,this._lightPosition=t.style.light.properties.get("position")}},{key:"hasOffscreenPass",value:function(){return!0}},{key:"getProgramIds",value:function(){var t=this.paint.get("sky-type");return"atmosphere"===t?["skyboxCapture","skybox"]:"gradient"===t?["skyboxGradient"]:null}}]),n}(Qo)},gl=b.HTMLImageElement,ml=b.HTMLCanvasElement,bl=b.HTMLVideoElement,_l=b.ImageData,xl=b.ImageBitmap,wl=function(){function t(e,n,r,i){v(this,t),this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(n,i)}return g(t,[{key:"update",value:function(t,e,n){var r=t.width,i=t.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[r,i],t instanceof gl||t instanceof ml||t instanceof bl||t instanceof _l||xl&&t instanceof xl?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,t.data);else{var u=n||{x:0,y:0},c=u.x,l=u.y;t instanceof gl||t instanceof ml||t instanceof bl||t instanceof _l||xl&&t instanceof xl?s.texSubImage2D(s.TEXTURE_2D,0,c,l,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,c,l,r,i,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)}},{key:"bind",value:function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)}},{key:"isSizePowerOfTwo",value:function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}},{key:"destroy",value:function(){this.context.gl.deleteTexture(this.texture),this.texture=null}}]),t}(),El=function(){function t(e){var n=this;v(this,t),this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){n._triggered=!1,n._callback()})}return g(t,[{key:"trigger",value:function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))}},{key:"remove",value:function(){delete this._channel,this._callback=function(){}}}]),t}(),Sl=b.performance,kl=function(){function t(e){v(this,t),this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},Sl.mark(this._marks.start)}return g(t,[{key:"finish",value:function(){Sl.mark(this._marks.end);var t=Sl.getEntriesByName(this._marks.measure);return 0===t.length&&(Sl.measure(this._marks.measure,this._marks.start,this._marks.end),t=Sl.getEntriesByName(this._marks.measure),Sl.clearMarks(this._marks.start),Sl.clearMarks(this._marks.end),Sl.clearMeasures(this._marks.measure)),t}}]),t}(),Ol=function(){function t(){v(this,t),this.tasks={},this.taskQueue=[],N(["process"],this),this.invoker=new El(this.process),this.nextId=0}return g(t,[{key:"add",value:function(t,e){var n=this,r=this.nextId++;return this.tasks[r]={fn:t,metadata:e,priority:Cl(e),id:r},this.taskQueue.push(r),this.invoker.trigger(),{cancel:function(){delete n.tasks[r]}}}},{key:"process",value:function(){var t=this;W();try{if(this.taskQueue=this.taskQueue.filter((function(e){return!!t.tasks[e]})),!this.taskQueue.length)return;var e=this.pick();if(null===e)return;var n=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!n)return;n.fn()}finally{}}},{key:"pick",value:function(){for(var t=null,e=1/0,n=0;n<this.taskQueue.length;n++){var r=this.tasks[this.taskQueue[n]];r.priority<e&&(e=r.priority,t=n)}if(null===t)return null;var i=this.taskQueue[t];return this.taskQueue.splice(t,1),i}},{key:"remove",value:function(){this.invoker.remove()}}]),t}();function Cl(t){var e=t.type,n=t.isSymbolTile,r=t.zoom;return r=r||0,"message"===e?0:"maybePrepare"!==e||n?"parseTile"!==e||n?"parseTile"===e&&n?300-r:"maybePrepare"===e&&n?400-r:500:200-r:100-r}var Pl=function(){function t(e,n){v(this,t),e&&(n?this.setSouthWest(e).setNorthEast(n):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}return g(t,[{key:"setNorthEast",value:function(t){return this._ne=t instanceof Tl?new Tl(t.lng,t.lat):Tl.convert(t),this}},{key:"setSouthWest",value:function(t){return this._sw=t instanceof Tl?new Tl(t.lng,t.lat):Tl.convert(t),this}},{key:"extend",value:function(e){var n,r,i=this._sw,o=this._ne;if(e instanceof Tl)n=e,r=e;else{if(!(e instanceof t))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(t.convert(e)):this.extend(Tl.convert(e)):this;if(n=e._sw,r=e._ne,!n||!r)return this}return i||o?(i.lng=Math.min(n.lng,i.lng),i.lat=Math.min(n.lat,i.lat),o.lng=Math.max(r.lng,o.lng),o.lat=Math.max(r.lat,o.lat)):(this._sw=new Tl(n.lng,n.lat),this._ne=new Tl(r.lng,r.lat)),this}},{key:"getCenter",value:function(){return new Tl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}},{key:"getSouthWest",value:function(){return this._sw}},{key:"getNorthEast",value:function(){return this._ne}},{key:"getNorthWest",value:function(){return new Tl(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new Tl(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this._sw.lng}},{key:"getSouth",value:function(){return this._sw.lat}},{key:"getEast",value:function(){return this._ne.lng}},{key:"getNorth",value:function(){return this._ne.lat}},{key:"toArray",value:function(){return[this._sw.toArray(),this._ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this._sw&&this._ne)}},{key:"contains",value:function(t){var e=Tl.convert(t),n=e.lng,r=e.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i}}],[{key:"convert",value:function(e){return!e||e instanceof t?e:new t(e)}}]),t}(),Tl=function(){function t(e,n){if(v(this,t),isNaN(e)||isNaN(n))throw new Error("Invalid LngLat object: (".concat(e,", ").concat(n,")"));if(this.lng=+e,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return g(t,[{key:"wrap",value:function(){return new t(T(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(t){var e=Math.PI/180,n=this.lat*e,r=t.lat*e,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(i,1))}},{key:"toBounds",value:function(){var e=360*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new Pl(new t(this.lng-n,this.lat-e),new t(this.lng+n,this.lat+e))}}],[{key:"convert",value:function(e){if(e instanceof t)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new t(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new t(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),t}(),Ml=2*Math.PI*6371008.8;function Al(t){return Ml*Math.cos(t*Math.PI/180)}function Il(t){return(180+t)/360}function jl(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Rl(t,e){return t/Al(e)}function Dl(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function Nl(t,e){return t*Al(Dl(e))}var Ll=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;v(this,t),this.x=+e,this.y=+n,this.z=+r}return g(t,[{key:"toLngLat",value:function(){return new Tl(360*this.x-180,Dl(this.y))}},{key:"toAltitude",value:function(){return Nl(this.z,this.y)}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/Ml*(t=Dl(this.y),1/Math.cos(t*Math.PI/180));var t}}],[{key:"fromLngLat",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Tl.convert(e);return new t(Il(r.lng),jl(r.lat),Rl(n,r.lat))}}]),t}();function zl(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}var Fl=function(){function t(e,n,r){v(this,t),this.z=e,this.x=n,this.y=r,this.key=ql(0,e,e,n,r)}return g(t,[{key:"equals",value:function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}},{key:"url",value:function(t,e){var n,r,i,o,a,s=(r=this.y,i=this.z,o=zl(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=zl(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),u=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)}},{key:"getTilePoint",value:function(t){var e=Math.pow(2,this.z);return new r(8192*(t.x*e-this.x),8192*(t.y*e-this.y))}},{key:"getTileVec3",value:function(t){var e=Math.pow(2,this.z);return Ra(8192*(t.x*e-this.x),8192*(t.y*e-this.y),Nl(t.z,t.y))}},{key:"toString",value:function(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}]),t}(),Bl=function t(e,n){v(this,t),this.wrap=e,this.canonical=n,this.key=ql(e,n.z,n.z,n.x,n.y)},Ul=function(){function t(e,n,r,i,o){v(this,t),this.overscaledZ=e,this.wrap=n,this.canonical=new Fl(r,+i,+o),this.key=0===n&&e===r?this.canonical.key:ql(n,e,r,i,o)}return g(t,[{key:"equals",value:function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}},{key:"scaledTo",value:function(e){var n=this.canonical.z-e;return e>this.canonical.z?new t(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new t(e,this.wrap,e,this.canonical.x>>n,this.canonical.y>>n)}},{key:"calculateScaledKey",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.overscaledZ===t&&e)return this.key;if(t>this.canonical.z)return ql(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y);var n=this.canonical.z-t;return ql(this.wrap*+e,t,t,this.canonical.x>>n,this.canonical.y>>n)}},{key:"isChildOf",value:function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e}},{key:"children",value:function(e){if(this.overscaledZ>=e)return[new t(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var n=this.canonical.z+1,r=2*this.canonical.x,i=2*this.canonical.y;return[new t(n,this.wrap,n,r,i),new t(n,this.wrap,n,r+1,i),new t(n,this.wrap,n,r,i+1),new t(n,this.wrap,n,r+1,i+1)]}},{key:"isLessThan",value:function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}},{key:"wrapped",value:function(){return new t(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"unwrapTo",value:function(e){return new t(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"overscaleFactor",value:function(){return Math.pow(2,this.overscaledZ-this.canonical.z)}},{key:"toUnwrapped",value:function(){return new Bl(this.wrap,this.canonical)}},{key:"toString",value:function(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}},{key:"getTilePoint",value:function(t){return this.canonical.getTilePoint(new Ll(t.x-this.wrap,t.y))}},{key:"getTileVec3",value:function(t){return this.canonical.getTileVec3(new Ll(t.x-this.wrap,t.y,t.z))}}]),t}();function ql(t,e,n,r,i){var o=1<<Math.min(n,22),a=o*(i%o)+r%o;return t&&n<22&&(a+=o*o*((t<0?-2*t-1:2*t)%(1<<2*(22-n)))),16*(32*a+n)+(e-n)}oi("CanonicalTileID",Fl),oi("OverscaledTileID",Ul,{omit:["posMatrix"]});var Vl=function(){function t(e){v(this,t),this._stringToNumber={},this._numberToString=[];for(var n=0;n<e.length;n++){var r=e[n];this._stringToNumber[r]=n,this._numberToString[n]=r}}return g(t,[{key:"encode",value:function(t){return this._stringToNumber[t]}},{key:"decode",value:function(t){return this._numberToString[t]}}]),t}(),Gl=function(){function t(e,n,r,i,o){v(this,t),this.type="Feature",this._vectorTileFeature=e,e._z=n,e._x=r,e._y=i,this.properties=e.properties,this.id=o}return g(t,[{key:"toJSON",value:function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t}},{key:"geometry",get:function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},set:function(t){this._geometry=t}}]),t}(),Wl=Yi([{name:"a_pos",type:"Int16",components:2}]),Hl=function(){function t(e,n,r){v(this,t),this.tileID=e,this.uid=j(),this.uses=0,this.tileSize=n,this.tileZoom=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}return g(t,[{key:"registerFadeDuration",value:function(t){var e=t+this.timeAdded;e<rt.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)}},{key:"wasRequested",value:function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}},{key:"loadVectorData",value:function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;var r,i=h(t);try{var o=function(){var t=r.value,i=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==i.length){t.layers=i,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return i.filter((function(e){return e.id===t}))[0]})));var o,a=h(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;n[s.id]=t}}catch(u){a.e(u)}finally{a.f()}}};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof al){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof al&&a.hasRTLText){this.hasRTLText=!0,Ti.isLoading()||Ti.isLoaded()||"deferred"!==Ci()||Pi();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(s).queryRadius(u))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new _o}},{key:"unloadVectorData",value:function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}},{key:"getBucket",value:function(t){return this.buckets[t.id]}},{key:"upload",value:function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new wl(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new wl(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)}},{key:"prepare",value:function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)}},{key:"queryRenderedFeatures",value:function(t,e,n,r,i,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:r,pixelPosMatrix:a,transform:o,params:i},t,e,n):{}}},{key:"querySourceFeatures",value:function(t,e){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=e?e.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=Or(e&&e.filter),s=this.tileID.canonical,u=s.z,c=s.x,l=s.y,f={z:u,x:c,y:l},h=0;h<o.length;h++){var p=o.feature(h);if(a.needGeometry){var d=oa(p,!0);if(!a.filter(new Mi(this.tileID.overscaledZ),d,this.tileID.canonical))continue}else if(!a.filter(new Mi(this.tileID.overscaledZ),p))continue;var y=n.getId(p,i),v=new Gl(p,u,c,l,y);v.tile=f,t.push(v)}}}},{key:"hasData",value:function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}},{key:"patternsLoaded",value:function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}},{key:"setExpiryData",value:function(t){var e=this.expirationTime;if(t.cacheControl){var n=H(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}},{key:"getExpiryTimeout",value:function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}},{key:"setFeatureState",value:function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(e.style.hasLayer(r)){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];if(a&&s&&0!==Object.keys(s).length){i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var u=e&&e.style&&e.style.getLayer(r);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(i)))}}}}},{key:"holdingForFade",value:function(){return void 0!==this.symbolFadeHoldUntil}},{key:"symbolFadeFinished",value:function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<rt.now()}},{key:"clearFadeHold",value:function(){this.symbolFadeHoldUntil=void 0}},{key:"setHoldDuration",value:function(t){this.symbolFadeHoldUntil=rt.now()+t}},{key:"setDependencies",value:function(t,e){var n,r={},i=h(e);try{for(i.s();!(n=i.n()).done;)r[n.value]=!0}catch(o){i.e(o)}finally{i.f()}this.dependencies[t]=r}},{key:"hasDependency",value:function(t,e){var n,r=h(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.dependencies[i];if(o){var a,s=h(e);try{for(s.s();!(a=s.n()).done;)if(o[a.value])return!0}catch(u){s.e(u)}finally{s.f()}}}}catch(u){r.e(u)}finally{r.f()}return!1}},{key:"clearQueryDebugViz",value:function(){}}]),t}(),Kl=function(){function t(){v(this,t),this.state={},this.stateChanges={},this.deletedStates={}}return g(t,[{key:"updateState",value:function(t,e,n){var r=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},A(this.stateChanges[t][r],n),null===this.deletedStates[t])for(var i in this.deletedStates[t]={},this.state[t])i!==r&&(this.deletedStates[t][i]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][r])for(var o in this.deletedStates[t][r]={},this.state[t][r])n[o]||(this.deletedStates[t][r][o]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][a]&&delete this.deletedStates[t][r][a]}},{key:"removeFeatureState",value:function(t,e,n){if(null!==this.deletedStates[t]){var r=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][r]&&(this.deletedStates[t][r]=this.deletedStates[t][r]||{},this.deletedStates[t][r][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][r])for(n in this.deletedStates[t][r]={},this.stateChanges[t][r])this.deletedStates[t][r][n]=null;else this.deletedStates[t][r]=null;else this.deletedStates[t]=null}}},{key:"getState",value:function(t,e){var n=String(e),r=A({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var i=this.deletedStates[t][e];if(null===i)return{};for(var o in i)delete r[o]}return r}},{key:"initializeTileState",value:function(t,e){t.setFeatureState(this.state,e)}},{key:"coalesceChanges",value:function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),A(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var u in this.state[a])s[u]={},this.state[a][u]={};else for(var c in this.deletedStates[a]){if(null===this.deletedStates[a][c])this.state[a][c]={};else for(var l=0,f=Object.keys(this.deletedStates[a][c]);l<f.length;l++){var h=f[l];delete this.state[a][c][h]}s[c]=this.state[a][c]}n[a]=n[a]||{},A(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var p in t)t[p].setFeatureState(n,e)}}]),t}(),Xl=function(){function t(e){v(this,t),this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}return g(t,[{key:"getElevation",value:function(t,e){var n=this.toIdx(t,e);return{min:this.minimums[n],max:this.maximums[n]}}},{key:"isLeaf",value:function(t,e){return this.leaves[this.toIdx(t,e)]}},{key:"toIdx",value:function(t,e){return e*this.size+t}}]),t}();function Yl(t,e,n,r){for(var i=0,o=Number.MAX_VALUE,a=0;a<3;a++)if(Math.abs(r[a])<1e-15){if(n[a]<t[a]||n[a]>e[a])return null}else{var s=1/r[a],u=(t[a]-n[a])*s,c=(e[a]-n[a])*s;if(u>c){var l=u;u=c,c=l}if(u>i&&(i=u),c<o&&(o=c),i>o)return null}return i}function Zl(t,e,n,r,i,o,a,s,u,c,l){var f=r-t,h=i-e,p=o-n,d=a-t,y=s-e,v=u-n,g=l[1]*v-l[2]*y,m=l[2]*d-l[0]*v,b=l[0]*y-l[1]*d,_=f*g+h*m+p*b;if(Math.abs(_)<1e-15)return null;var x=1/_,w=c[0]-t,E=c[1]-e,S=c[2]-n,k=(w*g+E*m+S*b)*x;if(k<0||k>1)return null;var O=E*p-S*h,C=S*f-w*p,P=w*h-E*f,T=(l[0]*O+l[1]*C+l[2]*P)*x;return T<0||k+T>1?null:(d*O+y*C+v*P)*x}function $l(t,e,n){return(t-e)/(n-e)}function Jl(t,e,n,r,i,o,a,s,u){var c=1<<n,l=o-r,f=a-i,h=(t+1)/c*l+r,p=(e+0)/c*f+i,d=(e+1)/c*f+i;s[0]=(t+0)/c*l+r,s[1]=p,u[0]=h,u[1]=d}var Ql=function(){function t(e){if(v(this,t),this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],this.dem){var n=function(t){for(var e=Math.ceil(Math.log2(t.dim/8)),n=[],r=Math.ceil(Math.pow(2,e)),i=1/r,o=function(t,e,n,r,i){var o=r?1:0,a=(t+1)*n-o,s=e*n,u=(e+1)*n-o;i[0]=t*n,i[1]=s,i[2]=a,i[3]=u},a=new Xl(r),s=[],u=0;u<r*r;u++){o(u%r,Math.floor(u/r),i,!1,s);var c=ef(s[0],s[1],t),l=ef(s[2],s[1],t),f=ef(s[2],s[3],t),h=ef(s[0],s[3],t);a.minimums.push(Math.min(c,l,f,h)),a.maximums.push(Math.max(c,l,f,h)),a.leaves.push(1)}for(n.push(a),r/=2;r>=1;r/=2){var p=n[n.length-1];a=new Xl(r);for(var d=0;d<r*r;d++){o(d%r,Math.floor(d/r),2,!0,s);var y=p.getElevation(s[0],s[1]),v=p.getElevation(s[2],s[1]),g=p.getElevation(s[2],s[3]),m=p.getElevation(s[0],s[3]),b=p.isLeaf(s[0],s[1]),_=p.isLeaf(s[2],s[1]),x=p.isLeaf(s[2],s[3]),w=p.isLeaf(s[0],s[3]),E=Math.min(y.min,v.min,g.min,m.min),S=Math.max(y.max,v.max,g.max,m.max),k=b&&_&&x&&w;a.maximums.push(S),a.minimums.push(E),a.leaves.push(S-E<=5&&k?1:0)}n.push(a)}return n}(this.dem),r=n.length-1,i=n[r];this._addNode(i.minimums[0],i.maximums[0],i.leaves[0]),this._construct(n,0,0,r,0)}}return g(t,[{key:"raycastRoot",value:function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Yl([t,e,-100],[n,r,this.maximums[0]*a],i,o)}},{key:"raycast",value:function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;if(!this.nodeCount)return null;var s=this.raycastRoot(t,e,n,r,i,o,a);if(null==s)return null;for(var u=[],c=[],l=[],f=[],h=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];h.length>0;){var p=h.pop(),d=p.idx,y=p.t,v=p.nodex,g=p.nodey,m=p.depth;if(this.leaves[d]){Jl(v,g,m,t,e,n,r,l,f);var b=1<<m,_=(v+0)/b,x=(v+1)/b,w=(g+0)/b,E=(g+1)/b,S=ef(_,w,this.dem)*a,k=ef(x,w,this.dem)*a,O=ef(x,E,this.dem)*a,C=ef(_,E,this.dem)*a,P=Zl(l[0],l[1],S,f[0],l[1],k,f[0],f[1],O,i,o),T=Zl(f[0],f[1],O,l[0],f[1],C,l[0],l[1],S,i,o),M=Math.min(null!==P?P:Number.MAX_VALUE,null!==T?T:Number.MAX_VALUE);if(M!==Number.MAX_VALUE)return M;var A=za([],i,o,y);if(tf(S,k,C,O,$l(A[0],l[0],f[0]),$l(A[1],l[1],f[1]))>=A[2])return y}else{for(var I=0,j=0;j<this._siblingOffset.length;j++){Jl((v<<1)+this._siblingOffset[j][0],(g<<1)+this._siblingOffset[j][1],m+1,t,e,n,r,l,f),l[2]=-100,f[2]=this.maximums[this.childOffsets[d]+j]*a;var R=Yl(l,f,i,o);if(null!=R){var D=R;u[j]=D;for(var N=!1,L=0;L<I&&!N;L++)D>=u[c[L]]&&(c.splice(L,0,j),N=!0);N||(c[I]=j),I++}}for(var z=0;z<I;z++){var F=c[z];h.push({idx:this.childOffsets[d]+F,t:u[F],nodex:(v<<1)+this._siblingOffset[F][0],nodey:(g<<1)+this._siblingOffset[F][1],depth:m+1})}}}return null}},{key:"_addNode",value:function(t,e,n){return this.minimums.push(t),this.maximums.push(e),this.leaves.push(n),this.childOffsets.push(0),this.nodeCount++}},{key:"_construct",value:function(t,e,n,r,i){if(1!==t[r].isLeaf(e,n)){this.childOffsets[i]||(this.childOffsets[i]=this.nodeCount);for(var o,a=r-1,s=t[a],u=0,c=0;c<this._siblingOffset.length;c++){var l=2*e+this._siblingOffset[c][0],f=2*n+this._siblingOffset[c][1],h=s.getElevation(l,f),p=s.isLeaf(l,f),d=this._addNode(h.min,h.max,p);p&&(u|=1<<c),o||(o=d)}for(var y=0;y<this._siblingOffset.length;y++)u&1<<y||this._construct(t,2*e+this._siblingOffset[y][0],2*n+this._siblingOffset[y][1],a,o+y)}}}]),t}();function tf(t,e,n,r,i,o){return hn(hn(t,n,o),hn(e,r,o),i)}function ef(t,e,n){var r=n.dim,i=P(t*r-.5,0,r-1),o=P(e*r-.5,0,r-1),a=Math.floor(i),s=Math.floor(o),u=Math.min(a+1,r-1),c=Math.min(s+1,r-1);return tf(n.get(a,s),n.get(u,s),n.get(a,c),n.get(u,c),i-a,o-s)}var nf={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]},rf=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(v(this,t),this.uid=e,n.height!==n.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return q('"'.concat(r,'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".'));this.stride=n.height;var a=this.dim=n.height-2;if(this.data=new Uint32Array(n.data.buffer),this.encoding=r||"mapbox",this.borderReady=i,!i){for(var s=0;s<a;s++)this.data[this._idx(-1,s)]=this.data[this._idx(0,s)],this.data[this._idx(a,s)]=this.data[this._idx(a-1,s)],this.data[this._idx(s,-1)]=this.data[this._idx(s,0)],this.data[this._idx(s,a)]=this.data[this._idx(s,a-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(a,-1)]=this.data[this._idx(a-1,0)],this.data[this._idx(-1,a)]=this.data[this._idx(0,a-1)],this.data[this._idx(a,a)]=this.data[this._idx(a-1,a-1)],o&&this._buildQuadTree()}}return g(t,[{key:"tree",get:function(){return this._tree||this._buildQuadTree(),this._tree}}]),g(t,[{key:"_buildQuadTree",value:function(){this._tree=new Ql(this)}},{key:"get",value:function(t,e){var n=new Uint8Array(this.data.buffer),r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])}},{key:"_idx",value:function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)}},{key:"_unpackMapbox",value:function(t,e,n){return(256*t*256+256*e+n)/10-1e4}},{key:"_unpackTerrarium",value:function(t,e,n){return 256*t+e+n/256-32768}},{key:"getPixels",value:function(){return new ss({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}},{key:"backfillBorder",value:function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-e*this.dim,u=-n*this.dim,c=o;c<a;c++)for(var l=r;l<i;l++)this.data[this._idx(l,c)]=t.data[this._idx(l+s,c+u)]}},{key:"onDeserialize",value:function(){this._tree&&(this._tree.dem=this)}},{key:"unpackVector",get:function(){return nf[this.encoding]}}],[{key:"getUnpackVector",value:function(t){return nf[t]}},{key:"pack",value:function(e,n){var r=[0,0,0,0],i=t.getUnpackVector(n),o=Math.floor((e+i[3])/i[2]);return r[2]=o%256,o=Math.floor(o/256),r[1]=o%256,o=Math.floor(o/256),r[0]=o,r}}]),t}();oi("DEMData",rf),oi("DemMinMaxQuadTree",Ql,{omit:["dem"]});var of=function(){function t(e,n){v(this,t),this.max=e,this.onRemove=n,this.reset()}return g(t,[{key:"reset",value:function(){for(var t in this.data){var e,n=h(this.data[t]);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}}catch(i){n.e(i)}finally{n.f()}}return this.data={},this.order=[],this}},{key:"add",value:function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(t,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this}},{key:"has",value:function(t){return t.wrapped().key in this.data}},{key:"getAndRemove",value:function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}},{key:"_getAndRemoveByKey",value:function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value}},{key:"getByKey",value:function(t){var e=this.data[t];return e?e[0].value:null}},{key:"get",value:function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}},{key:"remove",value:function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this}},{key:"setMaxSize",value:function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}},{key:"filter",value:function(t){var e=[];for(var n in this.data){var r,i=h(this.data[n]);try{for(i.s();!(r=i.n()).done;){var o=r.value;t(o.value)||e.push(o)}}catch(c){i.e(c)}finally{i.f()}}for(var a=0,s=e;a<s.length;a++){var u=s[a];this.remove(u.value.tileID,u)}}}]),t}(),af=function(){function t(e,n,r){v(this,t),this.context=e;var i=e.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete n.arrayBuffer}return g(t,[{key:"bind",value:function(){this.context.bindElementBuffer.set(this.buffer)}},{key:"updateData",value:function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),t}(),sf={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},uf=function(){function t(e,n,r,i){v(this,t),this.length=n.length,this.attributes=r,this.itemSize=n.bytesPerElement,this.dynamicDraw=i,this.context=e;var o=e.gl;this.buffer=o.createBuffer(),e.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete n.arrayBuffer}return g(t,[{key:"bind",value:function(){this.context.bindVertexBuffer.set(this.buffer)}},{key:"updateData",value:function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)}},{key:"enableAttributes",value:function(t,e){for(var n=0;n<this.attributes.length;n++){var r=e.attributes[this.attributes[n].name];void 0!==r&&t.enableVertexAttribArray(r)}}},{key:"setVertexAttribPointers",value:function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[sf[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),t}(),cf=function(){function t(e){v(this,t),this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}return g(t,[{key:"get",value:function(){return this.current}},{key:"set",value:function(t){}},{key:"getDefault",value:function(){return this.default}},{key:"setDefault",value:function(){this.set(this.default)}}]),t}(),lf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return xe.transparent}},{key:"set",value:function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}]),n}(cf),ff=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return 1}},{key:"set",value:function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)}}]),n}(cf),hf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return 0}},{key:"set",value:function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)}}]),n}(cf),pf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return[!0,!0,!0,!0]}},{key:"set",value:function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}]),n}(cf),df=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return!0}},{key:"set",value:function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)}}]),n}(cf),yf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return 255}},{key:"set",value:function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)}}]),n}(cf),vf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return{func:this.gl.ALWAYS,ref:0,mask:255}}},{key:"set",value:function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)}}]),n}(cf),gf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]}},{key:"set",value:function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)}}]),n}(cf),mf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}}}]),n}(cf),bf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return[0,1]}},{key:"set",value:function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)}}]),n}(cf),_f=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}}}]),n}(cf),xf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return this.gl.LESS}},{key:"set",value:function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)}}]),n}(cf),wf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}}}]),n}(cf),Ef=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){var t=this.gl;return[t.ONE,t.ZERO]}},{key:"set",value:function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)}}]),n}(cf),Sf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return xe.transparent}},{key:"set",value:function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)}}]),n}(cf),kf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return this.gl.FUNC_ADD}},{key:"set",value:function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)}}]),n}(cf),Of=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}}}]),n}(cf),Cf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return this.gl.BACK}},{key:"set",value:function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)}}]),n}(cf),Pf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return this.gl.CCW}},{key:"set",value:function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)}}]),n}(cf),Tf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)}}]),n}(cf),Mf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return this.gl.TEXTURE0}},{key:"set",value:function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)}}]),n}(cf),Af=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]}},{key:"set",value:function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)}}]),n}(cf),If=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}}}]),n}(cf),jf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}}]),n}(cf),Rf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}}}]),n}(cf),Df=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}}]),n}(cf),Nf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1}}]),n}(cf),Lf=function(t){d(n,t);var e=y(n);function n(t){var r;return v(this,n),(r=e.call(this,t)).vao=t.extVertexArrayObject,r}return g(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)}}]),n}(cf),zf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return 4}},{key:"set",value:function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}}}]),n}(cf),Ff=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}}}]),n}(cf),Bf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}}}]),n}(cf),Uf=function(t){d(n,t);var e=y(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).context=t,i.parent=r,i}return g(n,[{key:"getDefault",value:function(){return null}}]),n}(cf),qf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"setDirty",value:function(){this.dirty=!0}},{key:"set",value:function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}}}]),n}(Uf),Vf=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"attachment",value:function(){return this.gl.DEPTH_ATTACHMENT}},{key:"set",value:function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,this.attachment(),e.RENDERBUFFER,t),this.current=t,this.dirty=!1}}}]),n}(Uf),Gf=function(){function t(e,n,r,i){v(this,t),this.context=e,this.width=n,this.height=r;var o=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new qf(e,o),i&&(this.depthAttachment=new Vf(e,o))}return g(t,[{key:"destroy",value:function(){var t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n)}t.deleteFramebuffer(this.framebuffer)}}]),t}(),Wf=function t(e,n,r){v(this,t),this.func=e,this.mask=n,this.range=r};Wf.ReadOnly=!1,Wf.ReadWrite=!0,Wf.disabled=new Wf(519,Wf.ReadOnly,[0,1]);var Hf=function t(e,n,r,i,o,a){v(this,t),this.test=e,this.ref=n,this.mask=r,this.fail=i,this.depthFail=o,this.pass=a};Hf.disabled=new Hf({func:519,mask:0},0,0,7680,7680,7680);var Kf=function t(e,n,r){v(this,t),this.blendFunction=e,this.blendColor=n,this.mask=r};Kf.Replace=[1,0],Kf.disabled=new Kf(Kf.Replace,xe.transparent,[!1,!1,!1,!1]),Kf.unblended=new Kf(Kf.Replace,xe.transparent,[!0,!0,!0,!0]),Kf.alphaBlended=new Kf([1,771],xe.transparent,[!0,!0,!0,!0]);var Xf=function t(e,n,r){v(this,t),this.enable=e,this.mode=n,this.frontFace=r};Xf.disabled=new Xf(!1,1029,2305),Xf.backCCW=new Xf(!0,1029,2305),Xf.backCW=new Xf(!0,1029,2304),Xf.frontCW=new Xf(!0,1028,2304),Xf.frontCCW=new Xf(!0,1028,2305);var Yf=function(t){d(n,t);var e=y(n);function n(t,r,o){var a;return v(this,n),(a=e.call(this)).id=t,a._onlySymbols=o,r.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(a._sourceLoaded=!0),a._sourceLoaded&&!a._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(a.reload(),a.transform&&a.update(a.transform))})),r.on("error",(function(){a._sourceErrored=!0})),a._source=r,a._tiles={},a._cache=new of(0,a._unloadTile.bind(i(a))),a._timers={},a._cacheTimers={},a._maxTileCacheSize=null,a._loadedParentTiles={},a._coveredTiles={},a._state=new Kl,a}return g(n,[{key:"onAdd",value:function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null}},{key:"loaded",value:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0}},{key:"getSource",value:function(){return this._source}},{key:"pause",value:function(){this._paused=!0}},{key:"resume",value:function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}}},{key:"_loadTile",value:function(t,e){return t.isSymbolTile=this._onlySymbols,this._source.loadTile(t,e)}},{key:"_unloadTile",value:function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))}},{key:"_abortTile",value:function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))}},{key:"serialize",value:function(){return this._source.serialize()}},{key:"prepare",value:function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}}},{key:"getIds",value:function(){return M(this._tiles).map((function(t){return t.tileID})).sort(Zf).map((function(t){return t.key}))}},{key:"getRenderableIds",value:function(t){var e=this,n=[];for(var i in this._tiles)this._isIdRenderable(+i,t)&&n.push(this._tiles[i]);return t?n.sort((function(t,n){var i=t.tileID,o=n.tileID,a=new r(i.canonical.x,i.canonical.y)._rotate(e.transform.angle),s=new r(o.canonical.x,o.canonical.y)._rotate(e.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})).map((function(t){return t.tileID.key})):n.map((function(t){return t.tileID})).sort(Zf).map((function(t){return t.key}))}},{key:"hasRenderableParent",value:function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)}},{key:"_isIdRenderable",value:function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())}},{key:"reload",value:function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(+t,"reloading")}},{key:"_reloadTile",value:function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))}},{key:"_tileLoaded",value:function(t,e,n,r){if(r)return t.state="errored",void(404!==r.status?this._source.fire(new Kt(r,{tile:t})):this.update(this.transform));t.timeAdded=rt.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new Ht("data",{dataType:"source",tile:t,coord:t.tileID,sourceCacheId:this.id}))}},{key:"_backfillDEM",value:function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);o(t,i),o(i,t)}}function o(t,e){if(t.dem&&!t.dem.borderReady){t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}}}},{key:"getTile",value:function(t){return this.getTileByID(t.key)}},{key:"getTileByID",value:function(t){return this._tiles[t]}},{key:"_retainLoadedChildren",value:function(t,e,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var u=a;u.overscaledZ>e;)if(t[(u=u.scaledTo(u.overscaledZ-1)).key]){r[a.key]=a;break}}}}},{key:"findLoadedParent",value:function(t,e){if(t.key in this._loadedParentTiles){var n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(var r=t.overscaledZ-1;r>=e;r--){var i=t.scaledTo(r),o=this._getLoadedTile(i);if(o)return o}}},{key:"_getLoadedTile",value:function(t){var e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(this._source.reparseOverscaled?t.wrapped().key:t.canonical.key)}},{key:"updateCacheSize",value:function(t,e){e=e||this._source.tileSize;var n=Math.ceil(t.width/e)+1,r=Math.ceil(t.height/e)+1,i=Math.floor(n*r*5),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(o)}},{key:"handleWrapJump",value:function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+e),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(+a,this._tiles[a])}}},{key:"update",value:function(t,e,r){var i=this;if(this.transform=t,this._sourceLoaded&&!this._paused&&!this.transform.freezeTileCoverage&&(!this.usedForTerrain||r)){var o;this.updateCacheSize(t,e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?o=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new Ul(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(o=t.coveringTiles({tileSize:e||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!r,reparseOverscaled:this._source.reparseOverscaled,useElevationData:!!this.transform.elevation&&!this.usedForTerrain}),this._source.hasTile&&(o=o.filter((function(t){return i._source.hasTile(t)})))):o=[];var a=this._updateRetainedTiles(o);if($f(this._source.type)&&0!==o.length){for(var s={},u={},c=0,l=Object.keys(a);c<l.length;c++){var f=l[c],p=a[f],d=this._tiles[f];if(d&&!(d.fadeEndTime&&d.fadeEndTime<=rt.now())){var y=this.findLoadedParent(p,Math.max(p.overscaledZ-n.maxOverzooming,this._source.minzoom));y&&(this._addTile(y.tileID),s[y.tileID.key]=y.tileID),u[f]=p}}var v=o[o.length-1].overscaledZ;for(var g in this._tiles){var m=this._tiles[g];if(!a[g]&&m.hasData())for(var b=m.tileID;b.overscaledZ>v;){b=b.scaledTo(b.overscaledZ-1);var _=this._tiles[b.key];if(_&&_.hasData()&&u[b.key]){a[g]=m.tileID;break}}}for(var x in s)a[x]||(this._coveredTiles[x]=!0,a[x]=s[x])}for(var w in a)this._tiles[w].clearFadeHold();var E,S=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n}(this._tiles,a),k=h(S);try{for(k.s();!(E=k.n()).done;){var O=E.value,C=this._tiles[O];C.hasSymbolBuckets&&!C.holdingForFade()?C.setHoldDuration(this.map._fadeDuration):C.hasSymbolBuckets&&!C.symbolFadeFinished()||this._removeTile(+O)}}catch(P){k.e(P)}finally{k.f()}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}}},{key:"releaseSymbolFadeTiles",value:function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(+t)}},{key:"_updateRetainedTiles",value:function(t){var e={};if(0===t.length)return e;var r,i={},o=t[t.length-1].overscaledZ,a=t[0].overscaledZ,s=Math.max(a-n.maxOverzooming,this._source.minzoom),u=Math.max(a+n.maxUnderzooming,this._source.minzoom),c={},l=h(t);try{for(l.s();!(r=l.n()).done;){var f=r.value,p=this._addTile(f);e[f.key]=f,p.hasData()||o<this._source.maxzoom&&(c[f.key]=f)}}catch(S){l.e(S)}finally{l.f()}this._retainLoadedChildren(c,o,u,e);var d,y=h(t);try{for(y.s();!(d=y.n()).done;){var v=d.value,g=this._tiles[v.key];if(!g.hasData()){if(v.canonical.z>=this._source.maxzoom){var m=v.children(this._source.maxzoom)[0],b=this.getTile(m);if(b&&b.hasData()){e[m.key]=m;continue}}else{var _=v.children(this._source.maxzoom);if(e[_[0].key]&&e[_[1].key]&&e[_[2].key]&&e[_[3].key])continue}for(var x=g.wasRequested(),w=v.overscaledZ-1;w>=s;--w){var E=v.scaledTo(w);if(i[E.key])break;if(i[E.key]=!0,!(g=this.getTile(E))&&x&&(g=this._addTile(E)),g&&(e[E.key]=E,x=g.wasRequested(),g.hasData()))break}}}}catch(S){y.e(S)}finally{y.f()}return e}},{key:"_updateLoadedParentTileCache",value:function(){for(var t in this._loadedParentTiles={},this._tiles){for(var e=[],n=void 0,r=this._tiles[t].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}e.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var o=0,a=e;o<a.length;o++){var s=a[o];this._loadedParentTiles[s]=n}}}},{key:"_addTile",value:function(t){var e=this._tiles[t.key];if(e)return e;(e=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,e),e.tileID=t,this._state.initializeTileState(e,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,e)));var n=Boolean(e);return n||(e=new Hl(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom),this._loadTile(e,this._tileLoaded.bind(this,e,t.key,e.state))),e?(e.uses++,this._tiles[t.key]=e,n||this._source.fire(new Ht("dataloading",{tile:e,coord:e.tileID,dataType:"source"})),e):null}},{key:"_setTileReloadTimer",value:function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),r))}},{key:"_removeTile",value:function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))}},{key:"clearTiles",value:function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(+t);this._cache.reset()}},{key:"tilesIn",value:function(t,e,n){var r=[],i=this.transform;if(!i)return r;for(var o in this._tiles){var a=this._tiles[o];if(n&&a.clearQueryDebugViz(),!a.holdingForFade()){var s=t.containsTile(a,i,e);s&&r.push(s)}}return r}},{key:"getVisibleCoordinates",value:function(t){var e,n=this,r=this.getRenderableIds(t).map((function(t){return n._tiles[t].tileID})),i=h(r);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"hasTransition",value:function(){if(this._source.hasTransition())return!0;if($f(this._source.type))for(var t in this._tiles){var e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=rt.now())return!0}return!1}},{key:"setFeatureState",value:function(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)}},{key:"removeFeatureState",value:function(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)}},{key:"getFeatureState",value:function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)}},{key:"setDependencies",value:function(t,e,n){var r=this._tiles[t];r&&r.setDependencies(e,n)}},{key:"reloadTilesForDependencies",value:function(t,e){for(var n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(+n,"reloading");this._cache.filter((function(n){return!n.hasDependency(t,e)}))}}]),n}(Xt);function Zf(t,e){var n=Math.abs(2*t.wrap)-+(t.wrap<0),r=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||r-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function $f(t){return"raster"===t||"image"===t||"video"===t}Yf.maxOverzooming=10,Yf.maxUnderzooming=3;var Jf=function(){function t(e,n,r){v(this,t),this._dem=e,this._scale=n,this._offset=r}return g(t,[{key:"getElevationAt",value:function(t,e,n){var r=t*this._scale+this._offset[0],i=e*this._scale+this._offset[1],o=Math.floor(r),a=Math.floor(i),s=this._dem;return n?hn(hn(s.get(o,a),s.get(o,a+1),i-a),hn(s.get(o+1,a),s.get(o+1,a+1),i-a),r-o):s.get(o,a)}}],[{key:"create",value:function(e,n,r){var i=r||e.findDEMTileFor(n);if(i&&i.dem){var o=i.dem,a=i.tileID,s=1<<n.canonical.z-a.canonical.z;return new t(o,i.tileSize/8192/s,[(n.canonical.x/s-a.canonical.x)*o.dim,(n.canonical.y/s-a.canonical.y)*o.dim])}}}]),t}(),Qf=function(){function t(e,n){v(this,t),this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new ti(8192,16,0),this.featureIndexArray=new Po,this.promoteId=n}return g(t,[{key:"insert",value:function(t,e,n,r,i){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var a=this.grid,s=0;s<e.length;s++){for(var u=e[s],c=[1/0,1/0,-1/0,-1/0],l=0;l<u.length;l++){var f=u[l];c[0]=Math.min(c[0],f.x),c[1]=Math.min(c[1],f.y),c[2]=Math.max(c[2],f.x),c[3]=Math.max(c[3],f.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&a.insert(o,c[0],c[1],c[2],c[3])}}},{key:"loadVTLayers",value:function(){return this.vtLayers||(this.vtLayers=new su.VectorTile(new Bu(this.rawTileData)).layers,this.sourceLayerCoder=new Vl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}},{key:"query",value:function(t,e,n,r){var i=this;this.loadVTLayers();var o=t.params||{},a=Or(o.filter),s=t.tileResult,u=t.transform,c=s.bufferedTilespaceBounds,l=this.grid.query(c.min.x,c.min.y,c.max.x,c.max.y,(function(t,e,n,r){return ma(s.bufferedTilespaceGeometry,t,e,n,r)}));l.sort(eh);var f=null;u.elevation&&l.length>0&&(f=Jf.create(u.elevation,this.tileID));for(var h,p={},d=function(u){var c=l[u];if(c===h)return"continue";h=c;var d=i.featureIndexArray.get(c),y=null;i.loadMatchingFeature(p,d.bucketIndex,d.sourceLayerIndex,d.featureIndex,a,o.layers,o.availableImages,e,n,r,(function(e,n,r){return y||(y=ia(e)),n.queryIntersectsFeature(s,e,r,y,i.z,t.transform,t.pixelPosMatrix,f)}))},y=0;y<l.length;y++)d(y);return p}},{key:"loadMatchingFeature",value:function(t,e,n,r,i,o,a,s,u,c,l){var f=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,f)){var h=this.sourceLayerCoder.decode(n),p=this.vtLayers[h].feature(r);if(i.needGeometry){var d=oa(p,!0);if(!i.filter(new Mi(this.tileID.overscaledZ),d,this.tileID.canonical))return}else if(!i.filter(new Mi(this.tileID.overscaledZ),p))return;for(var y=this.getId(p,h),v=0;v<f.length;v++){var g=f[v];if(!(o&&o.indexOf(g)<0)){var m=s[g];if(m){var b={};void 0!==y&&c&&(b=c.getState(m.sourceLayer||"_geojsonTileLayer",y));var _=A({},u[g]);_.paint=th(_.paint,m.paint,p,b,a),_.layout=th(_.layout,m.layout,p,b,a);var x=!l||l(p,m,b);if(x){var w=new Gl(p,this.z,this.x,this.y,y);w.layer=_;var E=t[g];void 0===E&&(E=t[g]=[]),E.push({featureIndex:r,feature:w,intersectionZ:x})}}}}}}},{key:"lookupSymbolFeatures",value:function(t,e,n,r,i,o,a,s){var u={};this.loadVTLayers();var c,l=Or(i),f=h(t);try{for(f.s();!(c=f.n()).done;){var p=c.value;this.loadMatchingFeature(u,n,r,p,l,o,a,s,e)}}catch(d){f.e(d)}finally{f.f()}return u}},{key:"hasLayer",value:function(t){var e,n=h(this.bucketLayerIDs);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,o=h(i);try{for(o.s();!(r=o.n()).done;)if(t===r.value)return!0}catch(a){o.e(a)}finally{o.f()}}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:"getId",value:function(t,e){var n=t.id;return this.promoteId&&"boolean"==typeof(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]])&&(n=Number(n)),n}}]),t}();function th(t,e,n,r,i){return z(t,(function(t,o){var a=e instanceof zi?e.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function eh(t,e){return e-t}oi("FeatureIndex",Qf,{omit:["rawTileData","sourceLayerCoder"]});var nh=function t(e){v(this,t);var n={},r=[];for(var i in e){var o=e[i],a=n[i]={};for(var s in o){var u=o[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var c={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};r.push(c),a[s]={rect:c,metrics:u.metrics}}}}var l=sc(r),f=l.w,h=l.h,p=new as({width:f||1,height:h||1});for(var d in e){var y=e[d];for(var g in y){var m=y[+g];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var b=n[d][g].rect;as.copy(m.bitmap,p,{x:0,y:0},{x:b.x+1,y:b.y+1},m.bitmap)}}}this.image=p,this.positions=n};oi("GlyphAtlas",nh);var rh=function(){function t(e){v(this,t),this.tileID=new Ul(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile}return g(t,[{key:"parse",value:function(t,e,n,r,i){var o=this;this.status="parsing",this.data=t,this.collisionBoxArray=new _o;var a=new Vl(Object.keys(t.layers).sort()),s=new Qf(this.tileID,this.promoteId);s.bucketLayerIDs=[];var u,c,l,f,p={},d={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:n},y=e.familiesBySource[this.source];for(var v in y){var g=t.layers[v];if(g){var m,b=!1,_=!1,x=h(y[v]);try{for(x.s();!(m=x.n()).done;)"symbol"===m.value[0].type?b=!0:_=!0}catch(L){x.e(L)}finally{x.f()}if((!0!==this.isSymbolTile||b)&&(!1!==this.isSymbolTile||_)){1===g.version&&q('Vector tile source "'.concat(this.source,'" layer "').concat(v,'" ')+"does not use vector tile spec v2 and therefore may have some rendering errors.");for(var w=a.encode(v),E=[],S=0;S<g.length;S++){var k=g.feature(S),O=s.getId(k,v);E.push({feature:k,id:O,index:S,sourceLayerIndex:w})}var C,P=h(y[v]);try{for(P.s();!(C=P.n()).done;){var T=C.value,A=T[0];void 0!==this.isSymbolTile&&"symbol"===A.type!==this.isSymbolTile||A.minzoom&&this.zoom<Math.floor(A.minzoom)||A.maxzoom&&this.zoom>=A.maxzoom||"none"!==A.visibility&&(ih(T,this.zoom,n),(p[A.id]=A.createBucket({index:s.bucketLayerIDs.length,layers:T,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:w,sourceID:this.source,enableTerrain:this.enableTerrain})).populate(E,d,this.tileID.canonical),s.bucketLayerIDs.push(T.map((function(t){return t.id}))))}}catch(L){P.e(L)}finally{P.f()}}}}var I={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},j=z(d.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(j).length?r.send("getGlyphs",{uid:this.uid,stacks:j},(function(t,e){u||(u=t,c=e,N.call(o))}),void 0,void 0,I):c={};var R=Object.keys(d.iconDependencies);R.length?r.send("getImages",{icons:R,source:this.source,tileID:this.tileID,type:"icons"},(function(t,e){u||(u=t,l=e,N.call(o))}),void 0,void 0,I):l={};var D=Object.keys(d.patternDependencies);function N(){if(u)return i(u);if(c&&l&&f){var t=new nh(c),e=new cc(l,f);for(var r in p){var o=p[r];o instanceof al?(ih(o.layers,this.zoom,n),Wc(o,c,t.positions,l,e.iconPositions,this.showCollisionBoxes,this.tileID.canonical,this.tileZoom)):o.hasPattern&&(o instanceof xu||o instanceof Ks||o instanceof hu)&&(ih(o.layers,this.zoom,n),o.addFeatures(d,this.tileID.canonical,e.patternPositions))}this.status="done",i(null,{buckets:M(p).filter((function(t){return!t.isEmpty()})),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:e,glyphMap:this.returnDependencies?c:null,iconMap:this.returnDependencies?l:null,glyphPositions:this.returnDependencies?t.positions:null})}}D.length?r.send("getImages",{icons:D,source:this.source,tileID:this.tileID,type:"patterns"},(function(t,e){u||(u=t,f=e,N.call(o))}),void 0,void 0,I):f={},N.call(this)}}]),t}();function ih(t,e,n){var r,i=new Mi(e),o=h(t);try{for(o.s();!(r=o.n()).done;)r.value.recalculate(i,n)}catch(a){o.e(a)}finally{o.f()}}var oh=function(){function t(e){v(this,t),this.entries={},this.scheduler=e}return g(t,[{key:"request",value:function(t,e,n,r){var i=this,o=this.entries[t]=this.entries[t]||{callbacks:[]};if(o.result){var a=f(o.result,2),s=a[0],u=a[1];return this.scheduler?this.scheduler.add((function(){r(s,u)}),e):r(s,u),function(){}}return o.callbacks.push(r),o.cancel||(o.cancel=n((function(n,r){o.result=[n,r];var a,s=h(o.callbacks);try{var u=function(){var t=a.value;i.scheduler?i.scheduler.add((function(){t(n,r)}),e):t(n,r)};for(s.s();!(a=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}setTimeout((function(){return delete i.entries[t]}),3e3)}))),function(){o.result||(o.callbacks=o.callbacks.filter((function(t){return t!==r})),o.callbacks.length||(o.cancel(),delete i.entries[t]))}}}]),t}();function ah(t,e,n){var r=JSON.stringify(t.request);return t.data&&(this.deduped.entries[r]={result:[null,t.data]}),this.deduped.request(r,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom},(function(e){var r=Nt(t.request,(function(t,r,i,o){t?e(t):r&&e(null,{vectorTile:n?void 0:new su.VectorTile(new Bu(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),e()}}),e)}t.AUTH_ERR_MSG="NO_ACCESS_TOKEN",t.Aabb=$a,t.Actor=function(){function t(e,n,r){v(this,t),this.target=e,this.parent=n,this.mapId=r,this.callbacks={},this.cancelCallbacks={},N(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=W()?e:b,this.scheduler=new Ol}return g(t,[{key:"send",value:function(t,e,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,s=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=a,this.callbacks[s]=n);var u=Z(this.globalScope)?void 0:[];return this.target.postMessage({id:s,type:t,hasCallback:!!n,targetMapId:r,mustQueue:o,sourceMapId:this.mapId,data:ci(e,u)},u),{cancel:function(){n&&delete i.callbacks[s],i.target.postMessage({id:s,type:"<cancel>",targetMapId:r,sourceMapId:i.mapId})}}}},{key:"receive",value:function(t){var e=this,n=t.data,r=n.id;if(r&&(!n.targetMapId||this.mapId===n.targetMapId))if("<cancel>"===n.type){var i=this.cancelCallbacks[r];delete this.cancelCallbacks[r],i&&i.cancel()}else if(W()||n.mustQueue){var o=this.callbacks[r];this.cancelCallbacks[r]=this.scheduler.add((function(){return e.processTask(r,n)}),o&&o.metadata||{type:"message"})}else this.processTask(r,n)}},{key:"processTask",value:function(t,e){var n=this;if("<response>"===e.type){var r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r(li(e.error)):r(null,li(e.data)))}else{var i=Z(this.globalScope)?void 0:[],o=e.hasCallback?function(e,r){delete n.cancelCallbacks[t],n.target.postMessage({id:t,type:"<response>",sourceMapId:n.mapId,error:e?ci(e):null,data:ci(r,i)},i)}:function(t){},a=li(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,a,o);else if(this.parent.getWorkerSource){var s=e.type.split(".");this.parent.getWorkerSource(e.sourceMapId,s[0],a.source)[s[1]](a,o)}else o(new Error("Could not find function ".concat(e.type)))}}},{key:"remove",value:function(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}]),t}(),t.AlphaImage=as,t.CanonicalTileID=Fl,t.Color=xe,t.ColorMode=Kf,t.Context=function(){function t(e){v(this,t),this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new lf(this),this.clearDepth=new ff(this),this.clearStencil=new hf(this),this.colorMask=new pf(this),this.depthMask=new df(this),this.stencilMask=new yf(this),this.stencilFunc=new vf(this),this.stencilOp=new gf(this),this.stencilTest=new mf(this),this.depthRange=new bf(this),this.depthTest=new _f(this),this.depthFunc=new xf(this),this.blend=new wf(this),this.blendFunc=new Ef(this),this.blendColor=new Sf(this),this.blendEquation=new kf(this),this.cullFace=new Of(this),this.cullFaceSide=new Cf(this),this.frontFace=new Pf(this),this.program=new Tf(this),this.activeTexture=new Mf(this),this.viewport=new Af(this),this.bindFramebuffer=new If(this),this.bindRenderbuffer=new jf(this),this.bindTexture=new Rf(this),this.bindVertexBuffer=new Df(this),this.bindElementBuffer=new Nf(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Lf(this),this.pixelStoreUnpack=new zf(this),this.pixelStoreUnpackPremultiplyAlpha=new Ff(this),this.pixelStoreUnpackFlipY=new Bf(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}return g(t,[{key:"setDefault",value:function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}},{key:"setDirty",value:function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}},{key:"createIndexBuffer",value:function(t,e){return new af(this,t,e)}},{key:"createVertexBuffer",value:function(t,e,n){return new uf(this,t,e,n)}},{key:"createRenderbuffer",value:function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i}},{key:"createFramebuffer",value:function(t,e,n){return new Gf(this,t,e,n)}},{key:"clear",value:function(t){var e=t.color,n=t.depth,r=t.stencil,i=this.gl,o=0;e&&(o|=i.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(o|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),void 0!==r&&(o|=i.STENCIL_BUFFER_BIT,this.clearStencil.set(r),this.stencilMask.set(255)),i.clear(o)}},{key:"setCullFace",value:function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))}},{key:"setDepthMode",value:function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)}},{key:"setStencilMode",value:function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)}},{key:"setColorMode",value:function(t){_(t.blendFunction,Kf.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)}},{key:"unbindVAO",value:function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}]),t}(),t.CullFaceMode=Xf,t.DEMData=rf,t.DataConstantProperty=Fi,t.DedupedRequest=oh,t.DepthMode=Wf,t.DepthStencilAttachment=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"attachment",value:function(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}]),n}(Vf),t.EXTENT=8192,t.Elevation=function(){function t(){v(this,t)}return g(t,[{key:"getAtPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._source();if(!n)return e;if(t.y<0||t.y>1)return e;var r=n.getSource().maxzoom,i=1<<r,o=Math.floor(t.x),a=t.x-o,s=new Ul(r,o,r,Math.floor(a*i),Math.floor(t.y*i)),u=this.findDEMTileFor(s);if(!u||!u.dem)return e;var c=u.dem,l=1<<u.tileID.canonical.z,f=(a*l-u.tileID.canonical.x)*c.dim,h=(t.y*l-u.tileID.canonical.y)*c.dim,p=Math.floor(f),d=Math.floor(h);return this.exaggeration()*hn(hn(c.get(p,d),c.get(p,d+1),h-d),hn(c.get(p+1,d),c.get(p+1,d+1),h-d),f-p)}},{key:"getAtTileOffset",value:function(t,e,n){var r=1<<t.canonical.z;return this.getAtPoint(new Ll(t.wrap+(t.canonical.x+e/8192)/r,(t.canonical.y+n/8192)/r))}},{key:"getForTilePoints",value:function(t,e,n,r){var i=this,o=Jf.create(this,t,r);return!!o&&(e.forEach((function(t){t[2]=i.exaggeration()*o.getElevationAt(t[0],t[1],n)})),!0)}},{key:"getMinMaxForTile",value:function(t){var e=this.findDEMTileFor(t);if(!e||!e.dem)return null;for(var n=e.dem.tree,r=e.tileID,i=1<<t.canonical.z-r.canonical.z,o=t.canonical.x/i-r.canonical.x,a=t.canonical.y/i-r.canonical.y,s=0,u=0;u<t.canonical.z-r.canonical.z&&!n.leaves[s];u++){o*=2,a*=2;var c=2*Math.floor(a)+Math.floor(o);s=n.childOffsets[s]+c,o%=1,a%=1}return{min:this.exaggeration()*n.minimums[s],max:this.exaggeration()*n.maximums[s]}}},{key:"raycast",value:function(t,e,n){throw new Error("Pure virtual method called.")}},{key:"pointCoordinate",value:function(t){throw new Error("Pure virtual method called.")}},{key:"_source",value:function(){throw new Error("Pure virtual method called.")}},{key:"exaggeration",value:function(){throw new Error("Pure virtual method called.")}},{key:"findDEMTileFor",value:function(t){throw new Error("Pure virtual method called.")}},{key:"visibleDemTiles",get:function(){throw new Error("Getter must be implemented in subclass.")}}]),t}(),t.ErrorEvent=Kt,t.EvaluationParameters=Mi,t.Event=Ht,t.Evented=Xt,t.Frustum=Za,t.ImagePosition=uc,t.LngLat=Tl,t.LngLatBounds=Pl,t.MAX_SAFE_INTEGER=x,t.MercatorCoordinate=Ll,t.ONE_EM=24,t.OverscaledTileID=Ul,t.Point=r,t.Point$1=r,t.Properties=Gi,t.RGBAImage=ss,t.Ray=function(){function t(e,n){v(this,t),this.pos=e,this.dir=n}return g(t,[{key:"intersectsPlane",value:function(t,e,n){var r=Ba(e,this.dir);if(Math.abs(r)<1e-6)return!1;var i=Ba(Ga(Aa(),t,this.pos),e)/r;return function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2]}(n,za(Aa(),this.pos,this.dir,i)),!0}}]),t}(),t.RequestManager=function(){function t(e,n){v(this,t),this._transformRequestFn=e,this._customAccessToken=n,this._createSkuToken()}return g(t,[{key:"_createSkuToken",value:function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ct,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt}},{key:"_isSkuTokenExpired",value:function(){return Date.now()>this._skuTokenExpiresAt}},{key:"transformRequest",value:function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}},{key:"normalizeStyleURL",value:function(t,e){if(!lt(t))return t;var n=pt(t);return n.path="/styles/v1".concat(n.path),this._makeAPIURL(n,this._customAccessToken||e)}},{key:"normalizeGlyphsURL",value:function(t,e){if(!lt(t))return t;var n=pt(t);return n.path="/fonts/v1".concat(n.path),this._makeAPIURL(n,this._customAccessToken||e)}},{key:"normalizeSourceURL",value:function(t,e){if(!lt(t))return t;var n=pt(t);return n.path="/v4/".concat(n.authority,".json"),n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)}},{key:"normalizeSpriteURL",value:function(t,e,n,r){var i=pt(t);return lt(t)?(i.path="/styles/v1".concat(i.path,"/sprite").concat(e).concat(n),this._makeAPIURL(i,this._customAccessToken||r)):(i.path+="".concat(e).concat(n),dt(i))}},{key:"normalizeTileURL",value:function(t,e,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!lt(t))return t;var r=pt(t);r.path=r.path.replace(/(\.(png|jpg)\d*)(?=$)/,"".concat(e||n&&"raster"!==r.authority&&512===n?"@2x":"").concat(ot.supported?".webp":"$1")),"raster"===r.authority?r.path="/".concat(it.RASTER_URL_PREFIX).concat(r.path):(r.path=r.path.replace(/^.+\/v4\//,"/"),r.path="/".concat(it.TILE_URL_VERSION).concat(r.path));var i=this._customAccessToken||function(t){var e,n=h(t);try{for(n.s();!(e=n.n()).done;){var r=e.value.match(/^access_token=(.*)$/);if(r)return r[1]}}catch(i){n.e(i)}finally{n.f()}return null}(r.params)||it.ACCESS_TOKEN;return it.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&r.params.push("sku=".concat(this._skuToken)),this._makeAPIURL(r,i)}},{key:"canonicalizeTileURL",value:function(t,e){var n=pt(t);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return t;var r="mapbox://";n.path.match(/^\/raster\/v1\//)?r+="raster/".concat(n.path.replace("/".concat(it.RASTER_URL_PREFIX,"/"),"")):r+="tiles/".concat(n.path.replace("/".concat(it.TILE_URL_VERSION,"/"),""));var i=n.params;return e&&(i=i.filter((function(t){return!t.match(/^access_token=/)}))),i.length&&(r+="?".concat(i.join("&"))),r}},{key:"canonicalizeTileset",value:function(t,e){var n,r=!!e&&lt(e),i=[],o=h(t.tiles||[]);try{for(o.s();!(n=o.n()).done;){var a=n.value;ft(a)?i.push(this.canonicalizeTileURL(a,r)):i.push(a)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"_makeAPIURL",value:function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=pt(it.API_URL);if(t.protocol=r.protocol,t.authority=r.authority,"http"===t.protocol){var i=t.params.indexOf("secure");i>=0&&t.params.splice(i,1)}if("/"!==r.path&&(t.path="".concat(r.path).concat(t.path)),!it.REQUIRE_ACCESS_TOKEN)return dt(t);if(!(e=e||it.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. ".concat(n));if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ".concat(n));return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token=".concat(e)),dt(t)}}]),t}(),t.RequestPerformance=kl,t.ResourceType=It,t.SegmentVector=ea,t.SourceCache=Yf,t.StencilMode=Hf,t.StructArrayLayout1ui2=go,t.StructArrayLayout2f1f2i16=so,t.StructArrayLayout2i4=$i,t.StructArrayLayout3f12=ro,t.StructArrayLayout3ui6=co,t.StructArrayLayout4i8=Ji,t.Texture=wl,t.Tile=Hl,t.Transitionable=ji,t.Uniform1f=zo,t.Uniform1i=function(t){d(n,t);var e=y(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).current=0,i}return g(n,[{key:"set",value:function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))}}]),n}(Lo),t.Uniform2f=function(t){d(n,t);var e=y(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).current=[0,0],i}return g(n,[{key:"set",value:function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))}}]),n}(Lo),t.Uniform3f=function(t){d(n,t);var e=y(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).current=[0,0,0],i}return g(n,[{key:"set",value:function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))}}]),n}(Lo),t.Uniform4f=Fo,t.UniformColor=Bo,t.UniformMatrix3f=function(t){d(n,t);var e=y(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).current=qo,i}return g(n,[{key:"set",value:function(t){for(var e=0;e<9;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix3fv(this.location,!1,t);break}}}]),n}(Lo),t.UniformMatrix4f=function(t){d(n,t);var e=y(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).current=Uo,i}return g(n,[{key:"set",value:function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}}}]),n}(Lo),t.UnwrappedTileID=Bl,t.ValidationError=Zt,t.VectorTileWorkerSource=function(){function t(e,n,r,i){v(this,t),this.actor=e,this.layerIndex=n,this.availableImages=r,this.loadVectorData=i||ah,this.loading={},this.loaded={},this.deduped=new oh(e.scheduler)}return g(t,[{key:"loadTile",value:function(t,e){var n=this,r=t.uid,i=!!(t&&t.request&&t.request.collectResourceTiming)&&new kl(t.request),o=this.loading[r]=new rh(t);o.abort=this.loadVectorData(t,(function(t,a){var s=!n.loading[r];if(delete n.loading[r],s||t||!a)return o.status="done",s||(n.loaded[r]=o),e(t);var u=a.rawData,c={};a.expires&&(c.expires=a.expires),a.cacheControl&&(c.cacheControl=a.cacheControl);var l={};if(i){var f=i.finish();f&&(l.resourceTiming=JSON.parse(JSON.stringify(f)))}o.vectorTile=a.vectorTile||new su.VectorTile(new Bu(u)),o.parse(o.vectorTile,n.layerIndex,n.availableImages,n.actor,(function(t,n){if(t||!n)return e(t);e(null,A({rawTileData:u.slice(0)},n,c,l))})),n.loaded=n.loaded||{},n.loaded[r]=o}))}},{key:"reloadTile",value:function(t,e){var n=this,r=this.loaded,i=t.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=t.showCollisionBoxes,a.enableTerrain=!!t.enableTerrain;var s=function(t,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),e(t,r)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}}},{key:"abortTile",value:function(t,e){var n=t.uid,r=this.loading[n];r&&(r.abort&&r.abort(),delete this.loading[n]),e()}},{key:"removeTile",value:function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()}}]),t}(),t.WritingMode=lc,t.ZoomHistory=fi,t.add=Da,t.addDynamicAttributes=nl,t.altitudeFromMercatorZ=Nl,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)}))}))},t.bezier=O,t.bindAll=N,t.browser=rt,t.bufferConvexPolygon=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=T(r-1,-1,t.length-1),o=T(r+1,-1,t.length-1),a=t[r],s=t[o],u=t[i].sub(a).unit(),c=s.sub(a).unit(),l=c.angleWithSep(u.x,u.y),f=u.add(c).unit().mult(-1*e/Math.sin(l/2));n.push(a.add(f))}return n},t.cacheEntryPossiblyAdded=function(t){++Mt>Ot&&(t.getActor().send("enforceCacheSizeLimit",kt),Mt=0)},t.clamp=P,t.clearTileCache=function(t){var e=b.caches.delete("mapbox-tiles");t&&e.catch(t).then((function(){return t()}))},t.clipLine=Ic,t.clone=function(t){var e=new Oa(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=B,t.collisionCircleLayout=Au,t.config=it,t.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},t.create=function(){var t=new Oa(16);return Oa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=Ca,t.create$2=function(){var t=new Oa(4);return Oa!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createExpression=pr,t.createLayout=Yi,t.createStyleLayer=function(t){return"custom"===t.type?new pl(t):new vl[t.type](t)},t.cross=Ua,t.deepEqual=_,t.degToRad=S,t.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},t.dot=Ba,t.ease=C,t.easeCubicInOut=k,t.emitValidationErrors=Qr,t.endsWith=L,t.enforceCacheSizeLimit=function(t){Ct(),vt&&vt.then((function(e){e.keys().then((function(n){for(var r=0;r<n.length-t;r++)e.delete(n[r])}))}))},t.evaluateSizeForFeature=ju,t.evaluateSizeForZoom=Ru,t.evaluateVariableOffset=Gc,t.evented=Oi,t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},t.exactEquals$1=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},t.extend=A,t.featureFilter=Or,t.filterObject=F,t.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},t.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,h=i*a,p=i*s,d=i*u,y=o*a,v=o*s,g=o*u;return t[0]=1-f-d,t[1]=l+g,t[2]=h-v,t[3]=0,t[4]=l-g,t[5]=1-c-d,t[6]=p+y,t[7]=0,t[8]=h+v,t[9]=p-y,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=xc,t.getAnchorJustification=Hc,t.getArrayBuffer=Nt,t.getBounds=function(t){var e,n=1/0,i=1/0,o=-1/0,a=-1/0,s=h(t);try{for(s.s();!(e=s.n()).done;){var u=e.value;n=Math.min(n,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}}catch(c){s.e(c)}finally{s.f()}return{min:new r(n,i),max:new r(o,a)}},t.getImage=Vt,t.getJSON=function(t,e){return Dt(A(t,{type:"json"}),e)},t.getMapSessionAPI=St,t.getRTLTextPluginStatus=Ci,t.getReferrer=Rt,t.getVideo=function(t,e){var n=b.document.createElement("video");n.muted=!0,n.onloadstart=function(){e(null,n)};for(var r=0;r<t.length;r++){var i=b.document.createElement("source");Ft(t[r])||(n.crossOrigin="Anonymous"),i.src=t[r],n.appendChild(i)}return{cancel:function(){}}},t.identity=Pa,t.identity$1=Xa,t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],p=e[11],d=e[12],y=e[13],v=e[14],g=e[15],m=n*s-r*a,b=n*u-i*a,_=n*c-o*a,x=r*u-i*s,w=r*c-o*s,E=i*c-o*u,S=l*y-f*d,k=l*v-h*d,O=l*g-p*d,C=f*v-h*y,P=f*g-p*y,T=h*g-p*v,M=m*T-b*P+_*C+x*O-w*k+E*S;return M?(t[0]=(s*T-u*P+c*C)*(M=1/M),t[1]=(i*P-r*T-o*C)*M,t[2]=(y*E-v*w+g*x)*M,t[3]=(h*w-f*E-p*x)*M,t[4]=(u*O-a*T-c*k)*M,t[5]=(n*T-i*O+o*k)*M,t[6]=(v*_-d*E-g*b)*M,t[7]=(l*E-h*_+p*b)*M,t[8]=(a*P-s*O+c*S)*M,t[9]=(r*O-n*P-o*S)*M,t[10]=(d*w-y*_+g*m)*M,t[11]=(f*_-l*w-p*m)*M,t[12]=(s*k-a*C-u*S)*M,t[13]=(n*C-r*k+i*S)*M,t[14]=(y*b-d*x-v*m)*M,t[15]=(l*x-f*b+h*m)*M,t):null},t.isChar=hi,t.isMapboxURL=lt,t.latFromMercatorY=Dl,t.len=Wa,t.length=ja,t.length$1=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},t.loadVectorTile=ah,t.makeRequest=Dt,t.mercatorXfromLng=Il,t.mercatorYfromLat=jl,t.mercatorZfromAltitude=Rl,t.mul=Ma,t.mul$1=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},t.multiply=Ta,t.mvt=su,t.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.normalize=Fa,t.normalize$1=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t},t.number=hn,t.offscreenCanvasSupported=At,t.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*c,t[15]=1,t},t.parseGlyphPBF=function(t){return new Bu(t).readFields(ic,[])},t.pbf=Bu,t.perspective=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+r)*(o=1/(r-i)),t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t},t.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},t.plugin=Ti,t.polygonIntersectsBox=ma,t.polygonIntersectsPolygon=ua,t.polygonizeBounds=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=new r(n,n),o=t.sub(i),a=e.add(i);return[o,new r(a.x,o.y),a,new r(o.x,a.y),o]},t.posAttributes=Wl,t.postMapLoadEvent=wt,t.postTurnstileEvent=_t,t.potpack=sc,t.prevPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},t.radToDeg=function(t){return t*E},t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.registerForPluginStateChange=function(t){return t({pluginStatus:wi,pluginURL:Ei}),Oi.on("pluginStateChange",t),t},t.renderColorRamp=cs,t.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+l*r,t[6]=s*i+f*r,t[7]=u*i+h*r,t[8]=c*i-o*r,t[9]=l*i-a*r,t[10]=f*i-s*r,t[11]=h*i-u*r,t},t.rotateX$1=Ya,t.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-l*r,t[2]=s*i-f*r,t[3]=u*i-h*r,t[8]=o*r+c*i,t[9]=a*r+l*i,t[10]=s*r+f*i,t[11]=u*r+h*i,t},t.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+l*r,t[2]=s*i+f*r,t[3]=u*i+h*r,t[4]=c*i-o*r,t[5]=l*i-a*r,t[6]=f*i-s*r,t[7]=h*i-u*r,t},t.rotateZ$1=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},t.scale$2=La,t.scaleAndAdd=za,t.setCacheLimits=function(t,e){kt=t,Ot=e},t.setRTLTextPlugin=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("deferred"===wi||"loading"===wi||"loaded"===wi)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ei=rt.resolveURL(t),wi="deferred",xi=e,ki(),n||Pi()},t.styleSpec=Yt,t.sub=Ga,t.subtract=Na,t.symbolSize=Du,t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.transformMat4=Ha,t.transformQuat=qa,t.translate=function(t,e,n){var r,i,o,a,s,u,c,l,f,h,p,d,y=n[0],v=n[1],g=n[2];return e===t?(t[12]=e[0]*y+e[4]*v+e[8]*g+e[12],t[13]=e[1]*y+e[5]*v+e[9]*g+e[13],t[14]=e[2]*y+e[6]*v+e[10]*g+e[14],t[15]=e[3]*y+e[7]*v+e[11]*g+e[15]):(i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],p=e[10],d=e[11],t[0]=r=e[0],t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=f,t[9]=h,t[10]=p,t[11]=d,t[12]=r*y+s*v+f*g+e[12],t[13]=i*y+u*v+h*g+e[13],t[14]=o*y+c*v+p*g+e[14],t[15]=a*y+l*v+d*g+e[15]),t},t.triggerPluginCompletionEvent=Si,t.uniqueId=j,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers.".concat(n,': missing required property "id"')}),void 0===t.render&&e.push({message:"layers.".concat(n,': missing required method "render"')}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers.".concat(n,': property "renderingMode" must be either "2d" or "3d"')}),e},t.validateLight=Zr,t.validateStyle=Yr,t.values=M,t.vectorTile=su,t.version="2.0.1",t.warnOnce=q,t.webpSupported=ot,t.window=b,t.wrap=T})),m(["./shared"],(function(t){function e(t){var n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){var r,i="[",o=h(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i+="".concat(e(a),",")}}catch(l){o.e(l)}finally{o.f()}return"".concat(i,"]")}for(var s=Object.keys(t).sort(),u="{",c=0;c<s.length;c++)u+="".concat(JSON.stringify(s[c]),":").concat(e(t[s[c]]),",");return"".concat(u,"}")}function n(n){var r,i="",o=h(t.refProperties);try{for(o.s();!(r=o.n()).done;){var a=r.value;i+="/".concat(e(n[a]))}}catch(s){o.e(s)}finally{o.f()}return i}var r=function(){function e(t){v(this,e),this.keyCache={},t&&this.replace(t)}return g(e,[{key:"replace",value:function(t){this._layerConfigs={},this._layers={},this.update(t,[])}},{key:"update",value:function(e,r){var i,o=this,a=h(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;this._layerConfigs[s.id]=s;var u=this._layers[s.id]=t.createStyleLayer(s);u._featureFilter=t.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}}catch(w){a.e(w)}finally{a.f()}var c,l=h(r);try{for(l.s();!(c=l.n()).done;){var f=c.value;delete this.keyCache[f],delete this._layerConfigs[f],delete this._layers[f]}}catch(w){l.e(w)}finally{l.f()}this.familiesBySource={};var p,d=function(t,e){for(var r={},i=0;i<t.length;i++){var o=e&&e[t[i].id]||n(t[i]);e&&(e[t[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(t[i])}var s=[];for(var u in r)s.push(r[u]);return s}(t.values(this._layerConfigs),this.keyCache),y=h(d);try{for(y.s();!(p=y.n()).done;){var v=p.value.map((function(t){return o._layers[t.id]})),g=v[0];if("none"!==g.visibility){var m=g.source||"",b=this.familiesBySource[m];b||(b=this.familiesBySource[m]={});var _=g.sourceLayer||"_geojsonTileLayer",x=b[_];x||(x=b[_]=[]),x.push(v)}}}catch(w){y.e(w)}finally{y.f()}}}]),e}(),i=t.window.ImageBitmap,o=function(){function e(){v(this,e)}return g(e,[{key:"loadTile",value:function(e,n){var r=e.uid,o=e.encoding,a=e.rawImageData,s=e.padding,u=e.buildQuadTree,c=i&&a instanceof i?this.getImageData(a,s):a;n(null,new t.DEMData(r,c,o,s<1,u))}},{key:"getImageData",value:function(e,n){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var r=this.offscreenCanvasContext.getImageData(-n,-n,e.width+2*n,e.height+2*n);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:r.width,height:r.height},r.data)}}]),e}();function u(t,e){if(0!==t.length){c(t[0],e);for(var n=1;n<t.length;n++)c(t[n],!e)}}function c(t,e){for(var n=0,r=0,i=t.length,o=i-1;r<i;o=r++)n+=(t[r][0]-t[o][0])*(t[o][1]+t[r][1]);n>=0!=!!e&&t.reverse()}var l=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,p=function(){function e(n){v(this,e),this._feature=n,this.extent=t.EXTENT,this.type=n.type,this.properties=n.tags,"id"in n&&!isNaN(n.id)&&(this.id=parseInt(n.id,10))}return g(e,[{key:"loadGeometry",value:function(){if(1===this._feature.type){var e,n=[],r=h(this._feature.geometry);try{for(r.s();!(e=r.n()).done;){var i=e.value;n.push([new t.Point$1(i[0],i[1])])}}catch(d){r.e(d)}finally{r.f()}return n}var o,a=[],s=h(this._feature.geometry);try{for(s.s();!(o=s.n()).done;){var u,c=o.value,l=[],f=h(c);try{for(f.s();!(u=f.n()).done;){var p=u.value;l.push(new t.Point$1(p[0],p[1]))}}catch(d){f.e(d)}finally{f.f()}a.push(l)}}catch(d){s.e(d)}finally{s.f()}return a}},{key:"toGeoJSON",value:function(t,e,n){return l.call(this,t,e,n)}}]),e}(),m=function(){function e(n){v(this,e),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=n.length,this._features=n}return g(e,[{key:"feature",value:function(t){return new p(this._features[t])}}]),e}(),b=t.vectorTile.VectorTileFeature,_=x;function x(t,e){this.options=e||{},this.features=t,this.length=t.length}function w(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}x.prototype.feature=function(t){return new w(this.features[t],this.options.extent)},w.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++)i.push(new t.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[e,r,n,i]},w.prototype.toGeoJSON=b.prototype.toGeoJSON;var E=k,S=_;function k(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,O,t.layers[n])}(e,n),n.finish()}function O(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,C,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,I,o[n])}function C(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,P,t),e.writeVarintField(3,n.type),e.writeMessage(4,A,n)}function P(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(r.push(s),o[s]=u=r.length-1),e.writeVarint(u);var c=n.properties[s],l=typeof c;"string"!==l&&"boolean"!==l&&"number"!==l&&(c=JSON.stringify(c));var f=l+":"+c,h=a[f];void 0===h&&(i.push(c),a[f]=h=i.length-1),e.writeVarint(h)}}function T(t,e){return(e<<3)+(7&t)}function M(t){return t<<1^t>>31}function A(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],c=1;1===r&&(c=u.length),e.writeVarint(T(1,c));for(var l=3===r?u.length-1:u.length,f=0;f<l;f++){1===f&&1!==r&&e.writeVarint(T(2,l-1));var h=u[f].x-i,p=u[f].y-o;e.writeVarint(M(h)),e.writeVarint(M(p)),i+=h,o+=p}3===r&&e.writeVarint(T(7,1))}}function I(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function j(t,e,n,r){R(t,n,r),R(e,2*n,2*r),R(e,2*n+1,2*r+1)}function R(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function D(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}E.fromVectorTileJs=k,E.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new _(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return k({layers:n})},E.GeoJSONWrapper=S;var N=function(t){return t[0]},L=function(t){return t[1]},z=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;v(this,t),this.nodeSize=i,this.points=e;for(var a=e.length<65536?Uint16Array:Uint32Array,s=this.ids=new a(e.length),u=this.coords=new o(2*e.length),c=0;c<e.length;c++)s[c]=c,u[2*c]=n(e[c]),u[2*c+1]=r(e[c]);!function t(e,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function t(e,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,c=Math.log(s),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);t(e,n,r,Math.max(i,Math.floor(r-u*l/s+f)),Math.min(o,Math.floor(r+(s-u)*l/s+f)),a)}var h=n[2*r+a],p=i,d=o;for(j(e,n,i,r),n[2*o+a]>h&&j(e,n,i,o);p<d;){for(j(e,n,p,d),p++,d--;n[2*p+a]<h;)p++;for(;n[2*d+a]>h;)d--}n[2*i+a]===h?j(e,n,i,d):j(e,n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(e,n,s,i,o,a%2),t(e,n,r,i,s-1,a+1),t(e,n,r,s+1,o,a+1)}}(s,u,i,0,s.length-1,0)}return g(t,[{key:"range",value:function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s,u,c=[0,t.length-1,0],l=[];c.length;){var f=c.pop(),h=c.pop(),p=c.pop();if(h-p<=a)for(var d=p;d<=h;d++)s=e[2*d],u=e[2*d+1],s>=n&&s<=i&&u>=r&&u<=o&&l.push(t[d]);else{var y=Math.floor((p+h)/2);s=e[2*y],u=e[2*y+1],s>=n&&s<=i&&u>=r&&u<=o&&l.push(t[y]);var v=(f+1)%2;(0===f?n<=s:r<=u)&&(c.push(p),c.push(y-1),c.push(v)),(0===f?i>=s:o>=u)&&(c.push(y+1),c.push(h),c.push(v))}}return l}(this.ids,this.coords,t,e,n,r,this.nodeSize)}},{key:"within",value:function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],u=i*i;a.length;){var c=a.pop(),l=a.pop(),f=a.pop();if(l-f<=o)for(var h=f;h<=l;h++)D(e[2*h],e[2*h+1],n,r)<=u&&s.push(t[h]);else{var p=Math.floor((f+l)/2),d=e[2*p],y=e[2*p+1];D(d,y,n,r)<=u&&s.push(t[p]);var v=(c+1)%2;(0===c?n-i<=d:r-i<=y)&&(a.push(f),a.push(p-1),a.push(v)),(0===c?n+i>=d:r+i>=y)&&(a.push(p+1),a.push(l),a.push(v))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)}}]),t}(),F={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},B=function(){function t(e){v(this,t),this.options=X(Object.create(F),e),this.trees=new Array(this.options.maxZoom+1)}return g(t,[{key:"load",value:function(t){var e=this.options,n=e.log,r=e.minZoom,i=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare ".concat(t.length," points");n&&console.time(a),this.points=t;for(var s=[],u=0;u<t.length;u++)t[u].geometry&&s.push(q(t[u],u));this.trees[i+1]=new z(s,Y,Z,o,Float32Array),n&&console.timeEnd(a);for(var c=i;c>=r;c--){var l=+Date.now();s=this._cluster(s,c),this.trees[c]=new z(s,Y,Z,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-l)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}var u,c=this.trees[this._limitZoom(e)],l=c.range(W(n),H(o),W(i),H(r)),f=[],p=h(l);try{for(p.s();!(u=p.n()).done;){var d=u.value,y=c.points[d];f.push(y.numPoints?V(y):this.points[y.index])}}catch(v){p.e(v)}finally{p.f()}return f}},{key:"getChildren",value:function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);var a,s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),u=i.within(o.x,o.y,s),c=[],l=h(u);try{for(l.s();!(a=l.n()).done;){var f=a.value,p=i.points[f];p.parentId===t&&c.push(p.numPoints?V(p):this.points[p.index])}}catch(d){l.e(d)}finally{l.f()}if(0===c.length)throw new Error(r);return c}},{key:"getLeaves",value:function(t,e,n){var r=[];return this._appendLeaves(r,t,e=e||10,n=n||0,0),r}},{key:"getTile",value:function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,a=o.extent,s=o.radius/a,u=(n-s)/i,c=(n+1+s)/i,l={features:[]};return this._addTileFeatures(r.range((e-s)/i,u,(e+1+s)/i,c),r.points,e,n,i,l),0===e&&this._addTileFeatures(r.range(1-s/i,u,1,c),r.points,i,n,i,l),e===i-1&&this._addTileFeatures(r.range(0,u,s/i,c),r.points,-1,n,i,l),l.features.length?l:null}},{key:"getClusterExpansionZoom",value:function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e}},{key:"_appendLeaves",value:function(t,e,n,r,i){var o,a=this.getChildren(e),s=h(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=u.properties;if(c&&c.cluster?i+c.point_count<=r?i+=c.point_count:i=this._appendLeaves(t,c.cluster_id,n,r,i):i<r?i++:t.push(u),t.length===n)break}}catch(l){s.e(l)}finally{s.f()}return i}},{key:"_addTileFeatures",value:function(t,e,n,r,i,o){var a,s=h(t);try{for(s.s();!(a=s.n()).done;){var u=e[a.value],c=u.numPoints,l={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-n)),Math.round(this.options.extent*(u.y*i-r))]],tags:c?G(u):this.points[u.index].properties},f=void 0;c?f=u.id:this.options.generateId?f=u.index:this.points[u.index].id&&(f=this.points[u.index].id),void 0!==f&&(l.id=f),o.features.push(l)}}catch(p){s.e(p)}finally{s.f()}}},{key:"_limitZoom",value:function(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))}},{key:"_cluster",value:function(t,e){for(var n=[],r=this.options,i=r.radius,o=r.extent,a=r.reduce,s=r.minPoints,u=i/(o*Math.pow(2,e)),c=0;c<t.length;c++){var l=t[c];if(!(l.zoom<=e)){l.zoom=e;var f,p=this.trees[e+1],d=p.within(l.x,l.y,u),y=l.numPoints||1,v=y,g=h(d);try{for(g.s();!(f=g.n()).done;){var m=f.value,b=p.points[m];b.zoom>e&&(v+=b.numPoints||1)}}catch(j){g.e(j)}finally{g.f()}if(v>=s){var _,x=l.x*y,w=l.y*y,E=a&&y>1?this._map(l,!0):null,S=(c<<5)+(e+1)+this.points.length,k=h(d);try{for(k.s();!(_=k.n()).done;){var O=_.value,C=p.points[O];if(!(C.zoom<=e)){C.zoom=e;var P=C.numPoints||1;x+=C.x*P,w+=C.y*P,C.parentId=S,a&&(E||(E=this._map(l,!0)),a(E,this._map(C)))}}}catch(j){k.e(j)}finally{k.f()}l.parentId=S,n.push(U(x/v,w/v,S,v,E))}else if(n.push(l),v>1){var T,M=h(d);try{for(M.s();!(T=M.n()).done;){var A=T.value,I=p.points[A];I.zoom<=e||(I.zoom=e,n.push(I))}}catch(j){M.e(j)}finally{M.f()}}}}return n}},{key:"_getOriginId",value:function(t){return t-this.points.length>>5}},{key:"_getOriginZoom",value:function(t){return(t-this.points.length)%32}},{key:"_map",value:function(t,e){if(t.numPoints)return e?X({},t.properties):t.properties;var n=this.points[t.index].properties,r=this.options.map(n);return e&&r===n?X({},r):r}}]),t}();function U(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function q(t,e){var n=f(t.geometry.coordinates,2),r=n[0],i=n[1];return{x:W(r),y:H(i),zoom:1/0,index:e,parentId:-1}}function V(t){return{type:"Feature",id:t.id,properties:G(t),geometry:{type:"Point",coordinates:[(e=t.x,360*(e-.5)),K(t.y)]}};var e}function G(t){var e=t.numPoints,n=e>=1e4?"".concat(Math.round(e/1e3),"k"):e>=1e3?"".concat(Math.round(e/100)/10,"k"):e;return X(X({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function W(t){return t/360+.5}function H(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function K(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function X(t,e){for(var n in e)t[n]=e[n];return t}function Y(t){return t.x}function Z(t){return t.y}function $(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((t-n)*a+(e-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return(a=t-n)*a+(s=e-r)*s}function J(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Q(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)Q(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)Q(t,e[r][i])}(i),i}function Q(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function tt(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=e.id;if(n.promoteId?u=e.properties[n.promoteId]:n.generateId&&(u=r||0),"Point"===o)et(i,s);else if("MultiPoint"===o)for(var c=0;c<i.length;c++)et(i[c],s);else if("LineString"===o)nt(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(c=0;c<i.length;c++)nt(i[c],s=[],a,!1),t.push(J(u,"LineString",s,e.properties));return}rt(i,s,a,!1)}else if("Polygon"===o)rt(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(c=0;c<e.geometry.geometries.length;c++)tt(t,{id:u,geometry:e.geometry.geometries[c],properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<i.length;c++){var l=[];rt(i[c],l,a,!0),s.push(l)}}t.push(J(u,o,s,e.properties))}}function et(t,e){e.push(it(t[0])),e.push(ot(t[1])),e.push(0)}function nt(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var u=it(t[s][0]),c=ot(t[s][1]);e.push(u),e.push(c),e.push(0),s>0&&(a+=r?(i*c-u*o)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(c-o,2))),i=u,o=c}var l=e.length-3;e[2]=1,function t(e,n,r,i){for(var o,a=i,s=r-n>>1,u=r-n,c=e[n],l=e[n+1],f=e[r],h=e[r+1],p=n+3;p<r;p+=3){var d=$(e[p],e[p+1],c,l,f,h);if(d>a)o=p,a=d;else if(d===a){var y=Math.abs(p-s);y<u&&(o=p,u=y)}}a>i&&(o-n>3&&t(e,n,o,i),e[o+2]=a,r-o>3&&t(e,o,r,i))}(e,0,l,n),e[l+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function rt(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];nt(t[i],o,n,r),e.push(o)}}function it(t){return t/360+.5}function ot(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function at(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||o>=r)return null;for(var u=[],c=0;c<t.length;c++){var l=t[c],f=l.geometry,h=l.type,p=0===i?l.minX:l.minY,d=0===i?l.maxX:l.maxY;if(p>=n&&d<r)u.push(l);else if(!(d<n||p>=r)){var y=[];if("Point"===h||"MultiPoint"===h)st(f,y,n,r,i);else if("LineString"===h)ut(f,y,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===h)lt(f,y,n,r,i,!1);else if("Polygon"===h)lt(f,y,n,r,i,!0);else if("MultiPolygon"===h)for(var v=0;v<f.length;v++){var g=[];lt(f[v],g,n,r,i,!0),g.length&&y.push(g)}if(y.length){if(s.lineMetrics&&"LineString"===h){for(v=0;v<y.length;v++)u.push(J(l.id,h,y[v],l.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===y.length?(h="LineString",y=y[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===y.length?"Point":"MultiPoint"),u.push(J(l.id,h,y,l.tags))}}}return u.length?u:null}function st(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function ut(t,e,n,r,i,o,a){for(var s,u,c=ct(t),l=0===i?ht:pt,f=t.start,h=0;h<t.length-3;h+=3){var p=t[h],d=t[h+1],y=t[h+2],v=t[h+3],g=t[h+4],m=0===i?p:d,b=0===i?v:g,_=!1;a&&(s=Math.sqrt(Math.pow(p-v,2)+Math.pow(d-g,2))),m<n?b>n&&(u=l(c,p,d,v,g,n),a&&(c.start=f+s*u)):m>r?b<r&&(u=l(c,p,d,v,g,r),a&&(c.start=f+s*u)):ft(c,p,d,y),b<n&&m>=n&&(u=l(c,p,d,v,g,n),_=!0),b>r&&m<=r&&(u=l(c,p,d,v,g,r),_=!0),!o&&_&&(a&&(c.end=f+s*u),e.push(c),c=ct(t)),a&&(f+=s)}var x=t.length-3;p=t[x],d=t[x+1],y=t[x+2],(m=0===i?p:d)>=n&&m<=r&&ft(c,p,d,y),x=c.length-3,o&&x>=3&&(c[x]!==c[0]||c[x+1]!==c[1])&&ft(c,c[0],c[1],c[2]),c.length&&e.push(c)}function ct(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function lt(t,e,n,r,i,o){for(var a=0;a<t.length;a++)ut(t[a],e,n,r,i,o,!1)}function ft(t,e,n,r){t.push(e),t.push(n),t.push(r)}function ht(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function pt(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function dt(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=yt(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(yt(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var u=[],c=0;c<o.geometry[s].length;c++)u.push(yt(o.geometry[s][c],e));i.push(u)}n.push(J(o.id,a,i,o.tags))}return n}function yt(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function vt(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],c=u.geometry,l=u.type;if(u.geometry=[],1===l)for(r=0;r<c.length;r+=2)u.geometry.push(gt(c[r],c[r+1],e,o,a,s));else for(r=0;r<c.length;r++){var f=[];for(i=0;i<c[r].length;i+=2)f.push(gt(c[r][i],c[r][i+1],e,o,a,s));u.geometry.push(f)}}return t.transformed=!0,t}function gt(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function mt(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,bt(a,t[s],o,i);var u=t[s].minX,c=t[s].minY,l=t[s].maxX,f=t[s].maxY;u<a.minX&&(a.minX=u),c<a.minY&&(a.minY=c),l>a.maxX&&(a.maxX=l),f>a.maxY&&(a.maxY=f)}return a}function bt(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)_t(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)_t(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<i.length;u++){var c=i[u];for(s=0;s<c.length;s++)_t(a,c[s],t,n,!0,0===s)}if(a.length){var l=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var f in l={},e.tags)l[f]=e.tags[f];l.mapbox_clip_start=i.start/i.size,l.mapbox_clip_end=i.end/i.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:l};null!==e.id&&(h.id=e.id),t.features.push(h)}}function _t(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],u=0;u<e.length;u+=3)(0===r||e[u+2]>a)&&(n.numSimplified++,s.push(e[u]),s.push(e[u+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function xt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)tt(n,t.features[r],e,r);else tt(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var n=e.buffer/e.extent,r=t,i=at(t,1,-1-n,n,0,-1,2,e),o=at(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=at(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=dt(i,1).concat(r)),o&&(r=r.concat(dt(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function wt(t,e,n){return 32*((1<<t)*n+e)+t}function Et(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new m(r.features),o=E(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}xt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},xt.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],u=this.options,c=u.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var l=1<<e,f=wt(e,n,r),h=this.tiles[f];if(!h&&(c>1&&console.time("creation"),h=this.tiles[f]=mt(t,e,n,r,u),this.tileCoords.push({z:e,x:n,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var p="z"+e;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(h.source=t,i){if(e===u.maxZoom||e===i)continue;var d=1<<i-e;if(n!==Math.floor(o/d)||r!==Math.floor(a/d))continue}else if(e===u.indexMaxZoom||h.numPoints<=u.indexMaxPoints)continue;if(h.source=null,0!==t.length){c>1&&console.time("clipping");var y,v,g,m,b,_,x=.5*u.buffer/u.extent,w=.5-x,E=.5+x,S=1+x;y=v=g=m=null,b=at(t,l,n-x,n+E,0,h.minX,h.maxX,u),_=at(t,l,n+w,n+S,0,h.minX,h.maxX,u),t=null,b&&(y=at(b,l,r-x,r+E,1,h.minY,h.maxY,u),v=at(b,l,r+w,r+S,1,h.minY,h.maxY,u),b=null),_&&(g=at(_,l,r-x,r+E,1,h.minY,h.maxY,u),m=at(_,l,r+w,r+S,1,h.minY,h.maxY,u),_=null),c>1&&console.timeEnd("clipping"),s.push(y||[],e+1,2*n,2*r),s.push(v||[],e+1,2*n,2*r+1),s.push(g||[],e+1,2*n+1,2*r),s.push(m||[],e+1,2*n+1,2*r+1)}}},xt.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=wt(t,e=(e%a+a)%a,n);if(this.tiles[s])return vt(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var u,c=t,l=e,f=n;!u&&c>0;)c--,l=Math.floor(l/2),f=Math.floor(f/2),u=this.tiles[wt(c,l,f)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,l,f),o>1&&console.time("drilling down"),this.splitTile(u.source,c,l,f,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?vt(this.tiles[s],i):null):null};var St=function(e){d(r,e);var n=y(r);function r(t,e,i,o){var a;return v(this,r),a=n.call(this,t,e,i,Et),o&&(a.loadGeoJSON=o),a}return g(r,[{key:"loadData",value:function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())}},{key:"_loadData",value:function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new t.RequestPerformance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '".concat(r.source,"' is not a valid GeoJSON object.")));!function t(e,n){var r,i=e&&e.type;if("FeatureCollection"===i)for(r=0;r<e.features.length;r++)t(e.features[r],n);else if("GeometryCollection"===i)for(r=0;r<e.geometries.length;r++)t(e.geometries[r],n);else if("Feature"===i)t(e.geometry,n);else if("Polygon"===i)u(e.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<e.coordinates.length;r++)u(e.coordinates[r],n);return e}(a,!0);try{if(r.filter){var s=t.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(t){return"".concat(t.key,": ").concat(t.message)})).join(", "));var c=a.features.filter((function(t){return s.value.evaluate({zoom:0},t)}));a={type:"FeatureCollection",features:c}}e._geoJSONIndex=r.cluster?new B(function(e){var n=e.superclusterOptions,r=e.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},u=Object.keys(r),c=0,l=u;c<l.length;c++){var p=l[c],d=f(r[p],2),y=d[0],v=d[1],g=t.createExpression(v),m=t.createExpression("string"==typeof y?[y,["accumulated"],["get",p]]:y);i[p]=g.value,o[p]=m.value}return n.map=function(t){s.properties=t;var e,n={},r=h(u);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o]=i[o].evaluate(a,s)}}catch(c){r.e(c)}finally{r.f()}return n},n.reduce=function(t,e){s.properties=e;var n,r=h(u);try{for(r.s();!(n=r.n()).done;){var i=n.value;a.accumulated=t[i],t[i]=o[i].evaluate(a,s)}}catch(c){r.e(c)}finally{r.f()}},n}(r)).load(a.features):function(t,e){return new xt(t,e)}(a,r.geojsonVtOptions)}catch(o){return n(o)}e.loaded={};var l={};if(i){var p=i.finish();p&&(l.resourceTiming={},l.resourceTiming[r.source]=JSON.parse(JSON.stringify(p)))}n(null,l)}))}}},{key:"coalesce",value:function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())}},{key:"reloadTile",value:function(t,e){var n=this.loaded;return n&&n[t.uid]?a(s(r.prototype),"reloadTile",this).call(this,t,e):this.loadTile(t,e)}},{key:"loadGeoJSON",value:function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data given to '".concat(e.source,"' is not a valid GeoJSON object.")));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data given to '".concat(e.source,"' is not a valid GeoJSON object.")))}}}},{key:"removeSource",value:function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()}},{key:"getClusterExpansionZoom",value:function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}}},{key:"getClusterChildren",value:function(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}}},{key:"getClusterLeaves",value:function(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}}}]),r}(t.VectorTileWorkerSource),kt=function(){function e(n){var r=this;v(this,e),this.self=n,this.actor=new t.Actor(n,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:t.VectorTileWorkerSource,geojson:St},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(r.workerSourceTypes[t])throw new Error('Worker source with name "'.concat(t,'" already registered.'));r.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}}return g(e,[{key:"checkIfReady",value:function(t,e,n){n()}},{key:"setReferrer",value:function(t,e){this.referrer=e}},{key:"setImages",value:function(t,e,n){for(var r in this.availableImages[t]=e,this.workerSources[t]){var i=this.workerSources[t][r];for(var o in i)i[o].availableImages=e}n()}},{key:"enableTerrain",value:function(t,e,n){this.terrain=e,n()}},{key:"setLayers",value:function(t,e,n){this.getLayerIndex(t).replace(e),n()}},{key:"updateLayers",value:function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()}},{key:"loadTile",value:function(e,n,r){var i=this.enableTerrain?t.extend({enableTerrain:this.terrain},n):n;this.getWorkerSource(e,n.type,n.source).loadTile(i,r)}},{key:"loadDEMTile",value:function(e,n,r){var i=this.enableTerrain?t.extend({buildQuadTree:this.terrain},n):n;this.getDEMWorkerSource(e,n.source).loadTile(i,r)}},{key:"reloadTile",value:function(e,n,r){var i=this.enableTerrain?t.extend({enableTerrain:this.terrain},n):n;this.getWorkerSource(e,n.type,n.source).reloadTile(i,r)}},{key:"abortTile",value:function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)}},{key:"removeTile",value:function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)}},{key:"removeSource",value:function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}}},{key:"loadWorkerSource",value:function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}}},{key:"syncRTLPluginState",value:function(e,n,r){try{t.plugin.setState(n);var i=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=t.plugin.isParsed();r(o?void 0:new Error("RTL Text Plugin failed to import scripts from ".concat(i)),o)}}catch(t){r(t.toString())}}},{key:"getAvailableImages",value:function(t){var e=this.availableImages[t];return e||(e=[]),e}},{key:"getLayerIndex",value:function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e}},{key:"getWorkerSource",value:function(t,e,n){var r=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:function(e,n,i,o,a,s){r.actor.send(e,n,i,t,o,s)},scheduler:this.actor.scheduler},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][n]}},{key:"getDEMWorkerSource",value:function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new o),this.demWorkerSources[t][e]}},{key:"enforceCacheSizeLimit",value:function(e,n){t.enforceCacheSizeLimit(n)}},{key:"getWorkerPerformanceMetrics",value:function(t,e,n){n(void 0,void 0)}}]),e}();return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new kt(self)),kt})),m(["./shared"],(function(t){var e=n;function n(t){return!function(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var n=e.getImageData(0,0,1,1);return n&&n.width===t.width}()?(void 0===o[e=t&&t.failIfMajorPerformanceCaveat]&&(o[e]=function(t){var e,r=function(t){var e=document.createElement("canvas"),r=Object.create(n.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,e.getContext("webgl",r)||e.getContext("experimental-webgl",r)}(t);if(!r)return!1;try{e=r.createShader(r.VERTEX_SHADER)}catch(t){return!1}return!(!e||r.isContextLost())&&(r.shaderSource(e,"void main() {}"),r.compileShader(e),!0===r.getShaderParameter(e,r.COMPILE_STATUS))}(e)),o[e]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var e}(t)}var o={};n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var c,p={create:function(e,n,r){var i=t.window.document.createElement(e);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},m=t.window.document&&t.window.document.documentElement.style,b=m&&void 0!==m.userSelect?"userSelect":"WebkitUserSelect";p.disableDrag=function(){m&&b&&(c=m[b],m[b]="none")},p.enableDrag=function(){m&&b&&(m[b]=c)},p.setTransform=function(t,e){t.style.transform=e};var _=!1;try{var x=Object.defineProperty({},"passive",{get:function(){_=!0}});t.window.addEventListener("test",x,x),t.window.removeEventListener("test",x,x)}catch(t){_=!1}p.addEventListener=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.addEventListener(e,n,"passive"in r&&_?r:r.capture)},p.removeEventListener=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.removeEventListener(e,n,"passive"in r&&_?r:r.capture)};var w=function e(n){n.preventDefault(),n.stopPropagation(),t.window.removeEventListener("click",e,!0)};function E(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}p.suppressClick=function(){t.window.addEventListener("click",w,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",w,!0)}),0)},p.mousePos=function(e,n){var r=e.getBoundingClientRect();return new t.Point(n.clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop)},p.touchPos=function(e,n){for(var r=e.getBoundingClientRect(),i=[],o=0;o<n.length;o++)i.push(new t.Point(n[o].clientX-r.left-e.clientLeft,n[o].clientY-r.top-e.clientTop));return i},p.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},p.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var S=function(e){d(r,e);var n=y(r);function r(){var e;return v(this,r),(e=n.call(this)).images={},e.updatedImages={},e.callbackDispatchedThisFrame={},e.loaded=!1,e.requestors=[],e.patterns={},e.atlasImage=new t.RGBAImage({width:1,height:1}),e.dirty=!0,e}return g(r,[{key:"isLoaded",value:function(){return this.loaded}},{key:"setLoaded",value:function(t){if(this.loaded!==t&&(this.loaded=t,t)){var e,n=h(this.requestors);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.ids,o=r.callback;this._notify(i,o)}}catch(a){n.e(a)}finally{n.f()}this.requestors=[]}}},{key:"getImage",value:function(t){return this.images[t]}},{key:"addImage",value:function(t,e){this._validate(t,e)&&(this.images[t]=e)}},{key:"_validate",value:function(e,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'.concat(e,'" has invalid "stretchX" value')))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'.concat(e,'" has invalid "stretchY" value')))),r=!1),this._validateContent(n.content,n)||(this.fire(new t.ErrorEvent(new Error('Image "'.concat(e,'" has invalid "content" value')))),r=!1),r}},{key:"_validateStretch",value:function(t,e){if(!t)return!0;var n,r=0,i=h(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o[0]<r||o[1]<o[0]||e<o[1])return!1;r=o[1]}}catch(a){i.e(a)}finally{i.f()}return!0}},{key:"_validateContent",value:function(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))}},{key:"updateImage",value:function(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0}},{key:"removeImage",value:function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()}},{key:"listImages",value:function(){return Object.keys(this.images)}},{key:"getImages",value:function(t,e){var n=!0;if(!this.isLoaded()){var r,i=h(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.images[o]||(n=!1)}}catch(a){i.e(a)}finally{i.f()}}this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})}},{key:"_notify",value:function(e,n){var r,i={},o=h(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?i[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'.concat(a,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}}catch(u){o.e(u)}finally{o.f()}n(null,i)}},{key:"getPixelSize",value:function(){var t=this.atlasImage;return{width:t.width,height:t.height}}},{key:"getPattern",value:function(e){var n=this.patterns[e],r=this.getImage(e);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new t.ImagePosition(i,r);this.patterns[e]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[e].position}},{key:"bind",value:function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}},{key:"_updatePatternAtlas",value:function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var r=t.potpack(e),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var u=this.patterns[s].bin,c=u.x+1,l=u.y+1,f=this.images[s].data,h=f.width,p=f.height;t.RGBAImage.copy(f,a,{x:0,y:0},{x:c,y:l},{width:h,height:p}),t.RGBAImage.copy(f,a,{x:0,y:p-1},{x:c,y:l-1},{width:h,height:1}),t.RGBAImage.copy(f,a,{x:0,y:0},{x:c,y:l+p},{width:h,height:1}),t.RGBAImage.copy(f,a,{x:h-1,y:0},{x:c-1,y:l},{width:1,height:p}),t.RGBAImage.copy(f,a,{x:0,y:0},{x:c+h,y:l},{width:1,height:p})}this.dirty=!0}},{key:"beginFrame",value:function(){this.callbackDispatchedThisFrame={}}},{key:"dispatchRenderCallbacks",value:function(t){var e,n=h(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];E(i)&&this.updateImage(r,i)}}}catch(o){n.e(o)}finally{n.f()}}}]),r}(t.Evented),k=P,O=P,C=1e20;function P(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function T(t,e,n,r,i,o,a){for(var s=0;s<e;s++){for(var u=0;u<n;u++)r[u]=t[u*e+s];for(M(r,i,o,a,n),u=0;u<n;u++)t[u*e+s]=i[u]}for(u=0;u<n;u++){for(s=0;s<e;s++)r[s]=t[u*e+s];for(M(r,i,o,a,e),s=0;s<e;s++)t[u*e+s]=Math.sqrt(i[s])}}function M(t,e,n,r,i){n[0]=0,r[0]=-C,r[1]=+C;for(var o=1,a=0;o<i;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+C}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}P.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?C:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?C:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(T(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),T(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},k.default=O;var A=function(){function e(t,n){v(this,e),this.requestManager=t,this.localIdeographFontFamily=n,this.entries={}}return g(e,[{key:"setURL",value:function(t){this.url=t}},{key:"getGlyphs",value:function(n,r){var i=this,o=[];for(var a in n){var s,u=h(n[a]);try{for(u.s();!(s=u.n()).done;){var c=s.value;o.push({stack:a,id:c})}}catch(l){u.e(l)}finally{u.f()}}t.asyncAll(o,(function(t,n){var r=t.stack,o=t.id,a=i.entries[r];a||(a=i.entries[r]={glyphs:{},requests:{},ranges:{}});var s=a.glyphs[o];if(void 0===s){if(s=i._tinySDF(a,r,o))return a.glyphs[o]=s,void n(null,{stack:r,id:o,glyph:s});var u=Math.floor(o/256);if(256*u>65535)n(new Error("glyphs > 65535 not supported"));else if(a.ranges[u])n(null,{stack:r,id:o,glyph:s});else{var c=a.requests[u];c||(c=a.requests[u]=[],e.loadGlyphRange(r,u,i.url,i.requestManager,(function(t,e){if(e){for(var n in e)i._doesCharSupportLocalGlyph(+n)||(a.glyphs[+n]=e[+n]);a.ranges[u]=!0}var r,o=h(c);try{for(o.s();!(r=o.n()).done;)(0,r.value)(t,e)}catch(l){o.e(l)}finally{o.f()}delete a.requests[u]}))),c.push((function(t,e){t?n(t):e&&n(null,{stack:r,id:o,glyph:e[o]||null})}))}}else n(null,{stack:r,id:o,glyph:s})}),(function(t,e){if(t)r(t);else if(e){var n,i={},o=h(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.stack,u=a.id,c=a.glyph;(i[s]||(i[s]={}))[u]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}}catch(l){o.e(l)}finally{o.f()}r(null,i)}}))}},{key:"_doesCharSupportLocalGlyph",value:function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))}},{key:"_tinySDF",value:function(n,r,i){var o=this.localIdeographFontFamily;if(o&&this._doesCharSupportLocalGlyph(i)){var a=n.tinySDF;if(!a){var s="400";/bold/i.test(r)?s="900":/medium/i.test(r)?s="500":/light/i.test(r)&&(s="200"),a=n.tinySDF=new e.TinySDF(24,3,8,.25,o,s)}return{id:i,bitmap:new t.AlphaImage({width:30,height:30},a.draw(String.fromCharCode(i))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}}}]),e}();A.loadGlyphRange=function(e,n,r,i,o){var a=256*n,s=a+255,u=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}","".concat(a,"-").concat(s)),t.ResourceType.Glyphs);t.getArrayBuffer(u,(function(e,n){if(e)o(e);else if(n){var r,i={},a=h(t.parseGlyphPBF(n));try{for(a.s();!(r=a.n()).done;){var s=r.value;i[s.id]=s}}catch(u){a.e(u)}finally{a.f()}o(null,i)}}))},A.TinySDF=k;var I=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new(function(){function e(){v(this,e),this.specification=t.styleSpec.light.position}return g(e,[{key:"possiblyEvaluate",value:function(e,n){return function(e){var n=f(e,3),r=n[0],i=n[1],o=n[2],a=t.degToRad(i+90),s=t.degToRad(o);return{x:r*Math.cos(a)*Math.sin(s),y:r*Math.sin(a)*Math.sin(s),z:r*Math.cos(s),azimuthal:i,polar:o}}(e.expression.evaluate(n))}},{key:"interpolate",value:function(e,n,r){return{x:t.number(e.x,n.x,r),y:t.number(e.y,n.y,r),z:t.number(e.z,n.z,r),azimuthal:t.number(e.azimuthal,n.azimuthal,r),polar:t.number(e.polar,n.polar,r)}}}]),e}()),color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),j=function(e){d(r,e);var n=y(r);function r(e){var i;return v(this,r),(i=n.call(this))._transitionable=new t.Transitionable(I),i.setLight(e),i._transitioning=i._transitionable.untransitioned(),i}return g(r,[{key:"getLight",value:function(){return this._transitionable.serialize()}},{key:"setLight",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(t.validateLight,e,n))for(var r in e){var i=e[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),i):this._transitionable.setValue(r,i)}}},{key:"updateTransitions",value:function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(t){this.properties=this._transitioning.possiblyEvaluate(t)}},{key:"_validate",value:function(e,n,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))}}]),r}(t.Evented),R=new t.Properties({source:new t.DataConstantProperty(t.styleSpec.terrain.source),exaggeration:new t.DataConstantProperty(t.styleSpec.terrain.exaggeration)}),D=function(e){d(r,e);var n=y(r);function r(e){var i;return v(this,r),(i=n.call(this))._transitionable=new t.Transitionable(R),i.set(e),i._transitioning=i._transitionable.untransitioned(),i}return g(r,[{key:"get",value:function(){return this._transitionable.serialize()}},{key:"set",value:function(e){for(var n in e){var r=e[n];t.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),r):this._transitionable.setValue(n,r)}}},{key:"updateTransitions",value:function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(t){this.properties=this._transitioning.possiblyEvaluate(t)}}]),r}(t.Evented),N=function(){function e(t,n){v(this,e),this.width=t,this.height=n,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}return g(e,[{key:"getDash",value:function(t,e){var n=t.join(",")+String(e);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(t,e)),this.dashEntry[n]}},{key:"getDashRanges",value:function(t,e,n){var r=[],i=t.length%2==1?-t[t.length-1]*n:0,o=t[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===t[0]});for(var s=t[0],u=1;u<t.length;u++){a=!a;var c=t[u];i=s*n,o=(s+=c)*n,r.push({left:i,right:o,isDash:a,zeroLength:0===c})}return r}},{key:"addRoundDash",value:function(t,e,n){for(var r=e/2,i=-n;i<=n;i++)for(var o=this.width*(this.nextRow+n+i),a=0,s=t[a],u=0;u<this.width;u++){u/s.right>1&&(s=t[++a]);var c=Math.abs(u-s.left),l=Math.abs(u-s.right),f=Math.min(c,l),h=void 0,p=i/n*(r+1);if(s.isDash){var d=r-Math.abs(p);h=Math.sqrt(f*f+d*d)}else h=r-Math.sqrt(f*f+p*p);this.data[o+u]=Math.max(0,Math.min(255,h+128))}}},{key:"addRegularDash",value:function(t){for(var e=t.length-1;e>=0;--e){var n=t[e],r=t[e+1];n.zeroLength?t.splice(e,1):r&&r.isDash===n.isDash&&(r.left=n.left,t.splice(e,1))}var i=t[0],o=t[t.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,s=0,u=t[s],c=0;c<this.width;c++){c/u.right>1&&(u=t[++s]);var l=Math.abs(c-u.left),f=Math.abs(c-u.right),h=Math.min(l,f);this.data[a+c]=Math.max(0,Math.min(255,(u.isDash?h:-h)+128))}}},{key:"addDash",value:function(e,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.warnOnce("LineAtlas out of space"),null;0===e.length&&e.push(1);for(var o=0,a=0;a<e.length;a++)e[a]<0&&(t.warnOnce("Negative value is found in line dasharray, replacing values with 0"),e[a]=0),o+=e[a];if(0!==o){var s=this.width/o,u=this.getDashRanges(e,this.width,s);n?this.addRoundDash(u,s,r):this.addRegularDash(u)}var c={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,c}},{key:"bind",value:function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))}}]),e}(),L=function(){function e(n,r){var i=this;v(this,e),this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var o=this.workerPool.acquire(this.id),a=0;a<o.length;a++){var s=new e.Actor(o[a],r,this.id);s.name="Worker ".concat(a),this.actors.push(s)}this.ready=!1,this.broadcast("checkIfReady",null,(function(){i.ready=!0}))}return g(e,[{key:"broadcast",value:function(e,n,r){t.asyncAll(this.actors,(function(t,r){t.send(e,n,r)}),r=r||function(){})}},{key:"getActor",value:function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}},{key:"remove",value:function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)}}]),e}();function z(e,n,r){return n*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}L.Actor=t.Actor;var F=function(){function e(t,n,r,i){v(this,e),this.screenBounds=t,this.cameraPoint=n,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=r,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map((function(t){return i.pointCoordinate3D(t)})),this.cameraGeometry=this.bufferedCameraGeometry(0)}return g(e,[{key:"bufferedScreenGeometry",value:function(e){return t.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],e)}},{key:"bufferedCameraGeometry",value:function(e){var n=[this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0].add(new t.Point(1,0)):this.screenBounds[1],this.cameraPoint];return t.bufferConvexPolygon(n,e)}},{key:"containsTile",value:function(e,n,r){var i,o=e.queryPadding+1,a=r?this._bufferedCameraMercator(o,n).map((function(t){return e.tileID.getTilePoint(t)})):this._bufferedScreenMercator(o,n).map((function(t){return e.tileID.getTilePoint(t)})),s=this.screenGeometryMercator.map((function(t){return e.tileID.getTileVec3(t)})),u=s.map((function(e){return new t.Point(e[0],e[1])})),c=n.getFreeCameraOptions().position||new t.MercatorCoordinate(0,0,0),l=e.tileID.getTileVec3(c),f=s.map((function(e){var n=t.sub(e,e,l);return t.normalize(n,n),new t.Ray(l,n)})),h=z(e,1,n.zoom);if(t.polygonIntersectsBox(a,0,0,t.EXTENT,t.EXTENT))return{queryGeometry:this,tilespaceGeometry:u,tilespaceRays:f,bufferedTilespaceGeometry:a,bufferedTilespaceBounds:(i=t.getBounds(a),i.min.x=t.clamp(i.min.x,0,t.EXTENT),i.min.y=t.clamp(i.min.y,0,t.EXTENT),i.max.x=t.clamp(i.max.x,0,t.EXTENT),i.max.y=t.clamp(i.max.y,0,t.EXTENT),i),tile:e,tileID:e.tileID,pixelToTileUnitsFactor:h}}},{key:"_bufferedScreenMercator",value:function(t,e){var n=B(t);if(this._screenRaycastCache[n])return this._screenRaycastCache[n];var r=this.bufferedScreenGeometry(t).map((function(t){return e.pointCoordinate3D(t)}));return this._screenRaycastCache[n]=r,r}},{key:"_bufferedCameraMercator",value:function(t,e){var n=B(t);if(this._cameraRaycastCache[n])return this._cameraRaycastCache[n];var r=this.bufferedCameraGeometry(t).map((function(t){return e.pointCoordinate3D(t)}));return this._cameraRaycastCache[n]=r,r}}],[{key:"createFromScreenPoints",value:function(n,r){var i,o;if(n instanceof t.Point||"number"==typeof n[0]){var a=t.Point.convert(n);i=[t.Point.convert(n)],o=r.isPointAboveHorizon(a)}else{var s=t.Point.convert(n[0]),u=t.Point.convert(n[1]);i=[s,u],o=t.polygonizeBounds(s,u).every((function(t){return r.isPointAboveHorizon(t)}))}return new e(i,r.getCameraPoint(),o,r)}}]),e}();function B(t){return 100*t|0}function U(e,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=t.pick(t.extend(o,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(t){return t.id}))),a.tiles=n.canonicalizeTileset(a,e.url),r(null,a)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),i):t.browser.frame((function(){return i(null,e)}))}var q=function(){function e(n,r,i){v(this,e),this.bounds=t.LngLatBounds.convert(this.validateBounds(n)),this.minzoom=r||0,this.maxzoom=i||24}return g(e,[{key:"validateBounds",value:function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]}},{key:"contains",value:function(e){var n=Math.pow(2,e.z),r=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=r&&e.x<o&&e.y>=i&&e.y<a}}]),e}(),V=function(e){d(r,e);var n=y(r);function r(e,o,a,s){var u;return v(this,r),(u=n.call(this)).id=e,u.dispatcher=a,u.setEventedParent(s),u.type="raster",u.minzoom=0,u.maxzoom=22,u.roundZoom=!0,u.scheme="xyz",u.tileSize=512,u._loaded=!1,u._options=t.extend({type:"raster"},o),t.extend(i(u),t.pick(o,["url","scheme","tileSize"])),u}return g(r,[{key:"load",value:function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new q(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(t){this.map=t,this.load()}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return t.extend({},this._options)}},{key:"hasTile",value:function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}},{key:"loadTile",value:function(e,n){var r=this,i=t.browser.devicePixelRatio>=2,o=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),i,this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(o,t.ResourceType.Tile),(function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;e.texture=r.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))}},{key:"abortTile",value:function(t,e){t.request&&(t.request.cancel(),delete t.request),e()}},{key:"unloadTile",value:function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()}},{key:"hasTransition",value:function(){return!1}}]),r}(t.Evented),G=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),W=function(e){d(r,e);var n=y(r);function r(t,e,i,o){var a;return v(this,r),(a=n.call(this)).id=t,a.dispatcher=i,a.coordinates=e.coordinates,a.type="image",a.minzoom=0,a.maxzoom=22,a.tileSize=512,a.tiles={},a._loaded=!1,a.setEventedParent(o),a.options=e,a}return g(r,[{key:"load",value:function(e,n){var r=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new t.ErrorEvent(i)):o&&(r.image=o,e&&(r.coordinates=e),n&&n(),r._finishLoading())}))}},{key:"loaded",value:function(){return this._loaded}},{key:"updateImage",value:function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this}},{key:"_finishLoading",value:function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))}},{key:"onAdd",value:function(t){this.map=t,this.load()}},{key:"setCoordinates",value:function(e){var n=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){var n,r=1/0,i=1/0,o=-1/0,a=-1/0,s=h(e);try{for(s.s();!(n=s.n()).done;){var u=n.value;r=Math.min(r,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}}catch(p){s.e(p)}finally{s.f()}var c=Math.max(o-r,a-i),l=Math.max(0,Math.floor(-Math.log(c)/Math.LN2)),f=Math.pow(2,l);return new t.CanonicalTileID(l,Math.floor((r+o)/2*f),Math.floor((i+a)/2*f))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(t){return n.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this}},{key:"prepare",value:function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}}},{key:"loadTile",value:function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))}},{key:"serialize",value:function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return!1}}]),r}(t.Evented),H={vector:function(e){d(r,e);var n=y(r);function r(e,o,a,s){var c;if(v(this,r),(c=n.call(this)).id=e,c.dispatcher=a,c.type="vector",c.minzoom=0,c.maxzoom=22,c.scheme="xyz",c.tileSize=512,c.reparseOverscaled=!0,c.isTileClipped=!0,c._loaded=!1,t.extend(i(c),t.pick(o,["url","scheme","tileSize","promoteId"])),c._options=t.extend({type:"vector"},o),c._collectResourceTiming=o.collectResourceTiming,512!==c.tileSize)throw new Error("vector tile sources must have a tileSize of 512");return c.setEventedParent(s),c._tileWorkers={},c._deduped=new t.DedupedRequest,u(c)}return g(r,[{key:"load",value:function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new q(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))}},{key:"loaded",value:function(){return this._loaded}},{key:"hasTile",value:function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)}},{key:"onAdd",value:function(t){this.map=t,this.load()}},{key:"setSourceProperty",value:function(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t();var e,n=this.map.style._getSourceCaches(this.id),r=h(n);try{for(r.s();!(e=r.n()).done;)e.value.clearTiles()}catch(i){r.e(i)}finally{r.f()}this.load()}},{key:"setTiles",value:function(t){var e=this;return this.setSourceProperty((function(){e._options.tiles=t})),this}},{key:"setUrl",value:function(t){var e=this;return this.setSourceProperty((function(){e.url=t,e._options.url=t})),this}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return t.extend({},this._options)}},{key:"loadTile",value:function(e,n){var r=this,i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),o={request:this.map._requestManager.transformRequest(i,t.ResourceType.Tile),data:void 0,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:e.isSymbolTile};if(o.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state)"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",o,s.bind(this));else if(e.actor=this._tileWorkers[i]=this._tileWorkers[i]||this.dispatcher.getActor(),this.dispatcher.ready)e.request=e.actor.send("loadTile",o,s.bind(this));else{var a=t.loadVectorTile.call({deduped:this._deduped},o,(function(t,n){t||!n?s.call(r,t):(o.data={cacheControl:n.cacheControl,expires:n.expires,rawData:n.rawData.slice(0)},e.actor&&e.actor.send("loadTile",o,s.bind(r)))}),!0);e.request={cancel:a}}function s(r,i){return delete e.request,e.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(e.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&e.setExpiryData(i),e.loadVectorData(i,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}}},{key:"abortTile",value:function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)}},{key:"unloadTile",value:function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)}},{key:"hasTransition",value:function(){return!1}},{key:"afterUpdate",value:function(){this._tileWorkers={}}}]),r}(t.Evented),raster:V,"raster-dem":function(e){d(r,e);var n=y(r);function r(e,i,o,a){var s;return v(this,r),(s=n.call(this,e,i,o,a)).type="raster-dem",s.maxzoom=22,s._options=t.extend({type:"raster-dem"},i),s.encoding=i.encoding||"mapbox",s}return g(r,[{key:"serialize",value:function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}},{key:"loadTile",value:function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function i(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.dem.onDeserialize(),e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),function(r,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=t.window.ImageBitmap&&o instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported(),s=1-(o.width-t.prevPowerOfTwo(o.width))/2;s<1||e.neighboringTiles||(e.neighboringTiles=this._getNeighboringTiles(e.tileID));var u=a?o:t.browser.getImageData(o,s),c={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:u,encoding:this.encoding,padding:s};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",c,i.bind(this)))}}.bind(this))}},{key:"_getNeighboringTiles",value:function(e){var n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,s=n.x+1===r?e.wrap+1:e.wrap,u={};return u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),u}},{key:"unloadTile",value:function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded"}}]),r}(V),geojson:function(e){d(r,e);var n=y(r);function r(e,i,o,a){var s;v(this,r),(s=n.call(this)).id=e,s.type="geojson",s.minzoom=0,s.maxzoom=18,s.tileSize=512,s.isTileClipped=!0,s.reparseOverscaled=!0,s._removed=!1,s._loaded=!1,s.actor=o.getActor(),s.setEventedParent(a),s._data=i.data,s._options=t.extend({},i),s._collectResourceTiming=i.collectResourceTiming,s._resourceTiming=[],void 0!==i.maxzoom&&(s.maxzoom=i.maxzoom),i.type&&(s.type=i.type),i.attribution&&(s.attribution=i.attribution),s.promoteId=i.promoteId;var u=t.EXTENT/s.tileSize;return s.workerOptions=t.extend({source:s.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*u,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*u,extent:t.EXTENT,maxZoom:s.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?Math.min(i.clusterMaxZoom,s.maxzoom-1):s.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:t.EXTENT,radius:(i.clusterRadius||50)*u,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions),s}return g(r,[{key:"load",value:function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}}))}},{key:"onAdd",value:function(t){this.map=t,this.load()}},{key:"setData",value:function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)n.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",r))}})),this}},{key:"getClusterExpansionZoom",value:function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this}},{key:"getClusterChildren",value:function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this}},{key:"getClusterLeaves",value:function(t,e,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r),this}},{key:"_updateWorkerData",value:function(e){var n=this;this._loaded=!1;var r=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(t.browser.resolveURL(i),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send("".concat(this.type,".loadData"),r,(function(t,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send("".concat(n.type,".coalesce"),{source:r.source},null),e(t))}))}},{key:"loaded",value:function(){return this._loaded}},{key:"loadTile",value:function(e,n){var r=this,i=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(i,{type:this.type,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(t,o){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))}},{key:"abortTile",value:function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0}},{key:"unloadTile",value:function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})}},{key:"onRemove",value:function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}},{key:"serialize",value:function(){return t.extend({},this._options,{type:this.type,data:this._data})}},{key:"hasTransition",value:function(){return!1}}]),r}(t.Evented),video:function(e){d(r,e);var n=y(r);function r(t,e,i,o){var a;return v(this,r),(a=n.call(this,t,e,i,o)).roundZoom=!0,a.type="video",a.options=e,a}return g(r,[{key:"load",value:function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];var r,i=h(n.urls);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.urls.push(this.map._requestManager.transformRequest(o,t.ResourceType.Source).url)}}catch(a){i.e(a)}finally{i.f()}t.getVideo(this.urls,(function(n,r){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"seek",value:function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(n.start(0)," and ").concat(n.end(0),"-second mark.")))):this.video.currentTime=e}}},{key:"getVideo",value:function(){return this.video}},{key:"onAdd",value:function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}},{key:"prepare",value:function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}}},{key:"serialize",value:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this.video&&!this.video.paused}}]),r}(W),image:W,canvas:function(e){d(r,e);var n=y(r);function r(e,i,o,a){var s;return v(this,r),s=n.call(this,e,i,o,a),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||s.fire(new t.ErrorEvent(new t.ValidationError("sources.".concat(e),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):s.fire(new t.ErrorEvent(new t.ValidationError("sources.".concat(e),null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&s.fire(new t.ErrorEvent(new t.ValidationError("sources.".concat(e),null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof t.window.HTMLCanvasElement||s.fire(new t.ErrorEvent(new t.ValidationError("sources.".concat(e),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):s.fire(new t.ErrorEvent(new t.ValidationError("sources.".concat(e),null,'missing required property "canvas"'))),s.options=i,s.animate=void 0===i.animate||i.animate,s}return g(r,[{key:"load",value:function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}},{key:"getCanvas",value:function(){return this.canvas}},{key:"onAdd",value:function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()}},{key:"onRemove",value:function(){this.pause()}},{key:"prepare",value:function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}}},{key:"serialize",value:function(){return{type:"canvas",coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this._playing}},{key:"_hasInvalidDimensions",value:function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t++){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1}}]),r}(W)},K=function(e,n,r,i){var o=new H[n.type](e,n,r,i);if(o.id!==e)throw new Error("Expected Source id to be ".concat(e," instead of ").concat(o.id));return t.bindAll(["load","abort","unload","serialize","prepare"],o),o};function X(e,n){var r=t.identity([]);return t.scale(r,r,[.5*e.width,.5*-e.height,1]),t.translate(r,r,[1,-1,0]),t.multiply(r,r,e.calculatePosMatrix(n.toUnwrapped()))}function Y(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=t.tilesIn(r,a,s);u.sort($);var c,l=[],f=h(u);try{for(f.s();!(c=f.n()).done;){var p=c.value;l.push({wrappedTileID:p.tile.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(e,n,t._state,p,i,o,X(t.transform,p.tile.tileID),s)})}}catch(v){f.e(v)}finally{f.f()}var d=function(t){var e,n={},r={},i=h(t);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=o.queryResults,s=o.wrappedTileID,u=r[s]=r[s]||{};for(var c in a){var l,f=a[c],p=u[c]=u[c]||{},d=n[c]=n[c]||[],y=h(f);try{for(y.s();!(l=y.n()).done;){var g=l.value;p[g.featureIndex]||(p[g.featureIndex]=!0,d.push(g))}}catch(v){y.e(v)}finally{y.f()}}}}catch(v){i.e(v)}finally{i.f()}return n}(l);for(var y in d)d[y].forEach((function(e){var n=e.feature,r=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return d}function Z(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,e))}return r}function $(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}function J(){return null!=Ni.workerClass?new Ni.workerClass:new t.window.Worker(Ni.workerUrl)}var Q,tt="mapboxgl_preloaded_worker_pool",et=function(){function t(){v(this,t),this.active={}}return g(t,[{key:"acquire",value:function(e){if(!this.workers)for(this.workers=[];this.workers.length<t.workerCount;)this.workers.push(new J);return this.active[e]=!0,this.workers.slice()}},{key:"release",value:function(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)}},{key:"isPreloaded",value:function(){return!!this.active[tt]}},{key:"numActive",value:function(){return Object.keys(this.active).length}}]),t}();function nt(){return Q||(Q=new et),Q}function rt(e,n){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return t.refProperties.forEach((function(t){t in n&&(r[t]=n[t])})),r}function it(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=rt(t[r],e[t[r].ref]));return t}et.workerCount=2;var ot={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain"};function at(t,e,n){n.push({command:ot.addSource,args:[t,e[t]]})}function st(t,e,n){e.push({command:ot.removeSource,args:[t]}),n[t]=!0}function ut(t,e,n,r){st(t,n,r),at(t,e,n)}function ct(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;return!0}function lt(e,n,r,i,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function ft(t){return t.id}function ht(t,e){return t[e.id]=e,t}var pt=function(){function e(t,n){v(this,e),this.reset(t,n)}return g(e,[{key:"reset",value:function(t,e){this.points=t||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding}},{key:"lerp",value:function(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);for(var n=1,r=this._distances[n],i=e*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var o=n-1,a=this._distances[o],s=r-a,u=s>0?(i-a)/s:0;return this.points[o].mult(1-u).add(this.points[n].mult(u))}}]),e}(),dt=function(){function t(e,n,r){v(this,t);var i=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(n/r);for(var a=0;a<this.xCellCount*this.yCellCount;a++)i.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=n,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/n,this.boxUid=0,this.circleUid=0}return g(t,[{key:"keysLength",value:function(){return this.boxKeys.length+this.circleKeys.length}},{key:"insert",value:function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}},{key:"insertCircle",value:function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)}},{key:"_insertBoxCell",value:function(t,e,n,r,i,o){this.boxCells[i].push(o)}},{key:"_insertCircleCell",value:function(t,e,n,r,i,o){this.circleCells[i].push(o)}},{key:"_query",value:function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var c=this.circles[3*u],l=this.circles[3*u+1],f=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:c-f,y1:l-f,x2:c+f,y2:l+f})}return o?a.filter(o):a}return this._forEachCell(t,e,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a}},{key:"_queryCircle",value:function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,u=e+n;if(a<0||o>this.width||u<0||s>this.height)return!r&&[];var c=[];return this._forEachCell(o,s,a,u,this._queryCellCircle,c,{hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},i),r?c.length>0:c}},{key:"query",value:function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)}},{key:"hitTest",value:function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)}},{key:"hitTestCircle",value:function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)}},{key:"_queryCell",value:function(t,e,n,r,i,o,a,s){var u=a.seenUids,c=this.boxCells[i];if(null!==c){var l,f=this.bboxes,p=h(c);try{for(p.s();!(l=p.n()).done;){var d=l.value;if(!u.box[d]){u.box[d]=!0;var y=4*d;if(t<=f[y+2]&&e<=f[y+3]&&n>=f[y+0]&&r>=f[y+1]&&(!s||s(this.boxKeys[d]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[d],x1:f[y],y1:f[y+1],x2:f[y+2],y2:f[y+3]})}}}}catch(k){p.e(k)}finally{p.f()}}var v=this.circleCells[i];if(null!==v){var g,m=this.circles,b=h(v);try{for(b.s();!(g=b.n()).done;){var _=g.value;if(!u.circle[_]){u.circle[_]=!0;var x=3*_;if(this._circleAndRectCollide(m[x],m[x+1],m[x+2],t,e,n,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var w=m[x],E=m[x+1],S=m[x+2];o.push({key:this.circleKeys[_],x1:w-S,y1:E-S,x2:w+S,y2:E+S})}}}}catch(k){b.e(k)}finally{b.f()}}}},{key:"_queryCellCircle",value:function(t,e,n,r,i,o,a,s){var u=a.circle,c=a.seenUids,l=this.boxCells[i];if(null!==l){var f,p=this.bboxes,d=h(l);try{for(d.s();!(f=d.n()).done;){var y=f.value;if(!c.box[y]){c.box[y]=!0;var v=4*y;if(this._circleAndRectCollide(u.x,u.y,u.radius,p[v+0],p[v+1],p[v+2],p[v+3])&&(!s||s(this.boxKeys[y])))return o.push(!0),!0}}}catch(E){d.e(E)}finally{d.f()}}var g=this.circleCells[i];if(null!==g){var m,b=this.circles,_=h(g);try{for(_.s();!(m=_.n()).done;){var x=m.value;if(!c.circle[x]){c.circle[x]=!0;var w=3*x;if(this._circlesCollide(b[w],b[w+1],b[w+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[x])))return o.push(!0),!0}}}catch(E){_.e(E)}finally{_.f()}}}},{key:"_forEachCell",value:function(t,e,n,r,i,o,a,s){for(var u=this._convertToXCellCoord(t),c=this._convertToYCellCoord(e),l=this._convertToXCellCoord(n),f=this._convertToYCellCoord(r),h=u;h<=l;h++)for(var p=c;p<=f;p++)if(i.call(this,t,e,n,r,this.xCellCount*p+h,o,a,s))return}},{key:"_convertToXCellCoord",value:function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}},{key:"_convertToYCellCoord",value:function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}},{key:"_circlesCollide",value:function(t,e,n,r,i,o){var a=r-t,s=i-e,u=n+o;return u*u>a*a+s*s}},{key:"_circleAndRectCollide",value:function(t,e,n,r,i,o,a){var s=(o-r)/2,u=Math.abs(t-(r+s));if(u>s+n)return!1;var c=(a-i)/2,l=Math.abs(e-(i+c));if(l>c+n)return!1;if(u<=s||l<=c)return!0;var f=u-s,h=l-c;return f*f+h*h<=n*n}}]),t}();function yt(e,n,r,i,o){var a=t.create();return n?(t.scale(a,a,[1/o,1/o,1]),r||t.rotateZ(a,a,i.angle)):t.multiply(a,i.labelPlaneMatrix,e),a}function vt(e,n,r,i,o){if(n){var a=t.clone(e);return t.scale(a,a,[o,o,1]),r||t.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function gt(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[e.x,e.y,r,1];r?t.transformMat4(i,i,n):Pt(i,i,n);var o=i[3];return{point:new t.Point(i[0]/o,i[1]/o),signedDistanceFromCamera:o}}function mt(t,e){return Math.min(.5+t/e*.5,1.5)}function bt(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function _t(e,n,r,i,o,a,s,u,c){var l=i?e.textSizeData:e.iconSizeData,f=t.evaluateSizeForZoom(l,r.transform.zoom),h=[256/r.width*2+1,256/r.height*2+1],p=i?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();for(var d=e.lineVertexArray,y=i?e.text.placedSymbolArray:e.icon.placedSymbolArray,v=r.transform.width/r.transform.height,g=!1,m=0;m<y.length;m++){var b=y.get(m);if(b.hidden||b.writingMode===t.WritingMode.vertical&&!g)Ct(b.numGlyphs,p);else{g=!1;var _=c?c({x:b.anchorX,y:b.anchorY}):0,x=[b.anchorX,b.anchorY,_,1];if(t.transformMat4(x,x,n),bt(x,h)){var w=mt(r.transform.cameraToCenterDistance,x[3]),E=t.evaluateSizeForFeature(l,f,b),S=s?E/w:E*w,k=new t.Point(b.anchorX,b.anchorY),O=gt(k,o,_);if(O.signedDistanceFromCamera<=0)Ct(b.numGlyphs,p);else{var C=O.point,P={},T=s?null:c,M=Et(b,S,!1,u,n,o,a,e.glyphOffsetArray,d,p,C,k,P,v,T);g=M.useVertical,T&&M.needsFlipping&&(P={}),(M.notEnoughRoom||g||M.needsFlipping&&Et(b,S,!0,u,n,o,a,e.glyphOffsetArray,d,p,C,k,P,v,T).notEnoughRoom)&&Ct(b.numGlyphs,p)}}else Ct(b.numGlyphs,p)}}i?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function xt(t,e,n,r,i,o,a,s,u,c,l,f,h){var p=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,y=s.lineStartIndex+s.lineLength,v=e.getoffsetX(s.glyphStartIndex),g=e.getoffsetX(p-1),m=kt(t*v,n,r,i,o,a,s.segment,d,y,u,c,l,f,h,!0);if(!m)return null;var b=kt(t*g,n,r,i,o,a,s.segment,d,y,u,c,l,f,h,!0);return b?{first:m,last:b}:null}function wt(e,n,r,i){return e===t.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function Et(e,n,r,i,o,a,s,u,c,l,f,p,d,y,v){var g,m=n/24,b=e.lineOffsetX*m,_=e.lineOffsetY*m;if(e.numGlyphs>1){var x=e.glyphStartIndex+e.numGlyphs,w=e.lineStartIndex,E=e.lineStartIndex+e.lineLength,S=xt(m,u,b,_,r,f,p,e,c,a,d,v);if(!S)return{notEnoughRoom:!0};var k=gt(S.first.point,s).point,O=gt(S.last.point,s).point;if(i&&!r){var C=wt(e.writingMode,k,O,y);if(C)return C}g=[S.first];for(var P=e.glyphStartIndex+1;P<x-1;P++)g.push(kt(m*u.getoffsetX(P),b,_,r,f,p,e.segment,w,E,c,a,d,v));g.push(S.last)}else{if(i&&!r){var T=gt(p,o).point,M=e.lineStartIndex+e.segment+1,A=new t.Point(c.getx(M),c.gety(M)),I=gt(A,o),j=I.signedDistanceFromCamera>0?I.point:St(p,A,T,1,o),R=wt(e.writingMode,T,j,y);if(R)return R}var D=kt(m*u.getoffsetX(e.glyphStartIndex),b,_,r,f,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,c,a,d,v);if(!D)return{notEnoughRoom:!0};g=[D]}var N,L=h(g);try{for(L.s();!(N=L.n()).done;){var z=N.value;t.addDynamicAttributes(l,z.point,z.angle)}}catch(F){L.e(F)}finally{L.f()}return{}}function St(t,e,n,r,i,o){var a=t.add(t.sub(e)._unit()),s=gt(a,i,o?o(a):0).point,u=n.sub(s);return n.add(u._mult(r/u.mag()))}function kt(e,n,r,i,o,a,s,u,c,l,f,h,p,d,y){var v=i?e-n:e+n,g=v>0?1:-1,m=0;i&&(g*=-1,m=Math.PI),g<0&&(m+=Math.PI);for(var b=g>0?u+s:u+s+1,_=o,x=o,w=0,E=0,S=Math.abs(v),k=[],O=[],C=a,P=function(){var e=b-g;return 0===w?a:new t.Point(l.getx(e),l.gety(e))},T=function(){return St(P(),C,x,S-w+1,f,p)};w+E<=S;){if((b+=g)<u||b>=c)return null;if(x=_,k.push(_),d&&O.push(C||P()),void 0===(_=h[b])){var M=gt(C=new t.Point(l.getx(b),l.gety(b)),f,p?p(C):0);_=M.signedDistanceFromCamera>0?h[b]=M.point:T()}else C=null;w+=E,E=x.dist(_)}y&&p&&(C=C||new t.Point(l.getx(b),l.gety(b)),h[b]=_=void 0===h[b]?_:T(),E=x.dist(_));var A=(S-w)/E,I=_.sub(x),j=I.mult(A)._add(x);r&&j._add(I._unit()._perp()._mult(r*g));var R=m+Math.atan2(_.y-x.y,_.x-x.x);return k.push(j),d&&(C=C||new t.Point(l.getx(b),l.gety(b)),O.push(function(e,n,r){var i=1-r;return new t.Point(e.x*i+n.x*r,e.y*i+n.y*r)}(O.length>0?O[O.length-1]:C,C,A))),{point:j,angle:R,path:k,tilePath:O}}var Ot=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ct(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(Ot,3*r)}}function Pt(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var Tt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dt(t.width+200,t.height+200,25),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new dt(t.width+200,t.height+200,25);v(this,e),this.transform=t,this.grid=n,this.ignoredGrid=r,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200}return g(e,[{key:"placeCollisionBox",value:function(t,e,n,r,i,o,a){var s=this.projectAndGetPerspectiveRatio(o,e.anchorPointX,e.anchorPointY,e.elevation),u=i*s.perspectiveRatio,c=(e.x1*t+n.x-e.padding)*u+s.point.x,l=(e.y1*t+n.y-e.padding)*u+s.point.y,f=(e.x2*t+n.x+e.padding)*u+s.point.x,h=(e.y2*t+n.y+e.padding)*u+s.point.y,p=s.perspectiveRatio<=.55;return!this.isInsideGrid(c,l,f,h)||!r&&this.grid.hitTest(c,l,f,h,a)||p?{box:[],offscreen:!1}:{box:[c,l,f,h],offscreen:this.isOffscreen(c,l,f,h)}}},{key:"placeCollisionCircles",value:function(e,n,r,i,o,a,s,u,c,l,f,p,d,y){var v=[],g=this.transform.elevation,m=g?function(t){return g.getAtTileOffset(y,t.x,t.y)}:function(t){return 0},b=new t.Point(n.anchorX,n.anchorY),_=m(b),x=gt(b,a,_),w=mt(this.transform.cameraToCenterDistance,x.signedDistanceFromCamera),E=(l?o/w:o*w)/t.ONE_EM,S=gt(b,s,_).point,k=x.signedDistanceFromCamera>0?xt(E,i,n.lineOffsetX*E,n.lineOffsetY*E,!1,S,b,n,r,s,{},g&&!l?m:null,l&&!!g):null,O=!1,C=!1,P=!0;if(k){for(var T=.5*p*w+d,M=new t.Point(-100,-100),A=new t.Point(this.screenRightBoundary,this.screenBottomBoundary),I=new pt,j=k.first,R=k.last,D=[],N=j.path.length-1;N>=1;N--)D.push(j.path[N]);for(var L=1;L<R.path.length;L++)D.push(R.path[L]);var z=2.5*T;if(u){var F=D.map(g?function(t,e){var n=m(e<j.path.length-1?j.tilePath[j.path.length-1-e]:R.tilePath[e-j.path.length+2]);return gt(t,u,n)}:function(t){return gt(t,u)});D=F.some((function(t){return t.signedDistanceFromCamera<=0}))?[]:F.map((function(t){return t.point}))}var B=[];if(D.length>0){for(var U=D[0].clone(),q=D[0].clone(),V=1;V<D.length;V++)U.x=Math.min(U.x,D[V].x),U.y=Math.min(U.y,D[V].y),q.x=Math.max(q.x,D[V].x),q.y=Math.max(q.y,D[V].y);B=U.x>=M.x&&q.x<=A.x&&U.y>=M.y&&q.y<=A.y?[D]:q.x<M.x||U.x>A.x||q.y<M.y||U.y>A.y?[]:t.clipLine([D],M.x,M.y,A.x,A.y)}var G,W=h(B);try{for(W.s();!(G=W.n()).done;){var H=G.value;I.reset(H,.25*T);var K=0;K=I.length<=.5*T?1:Math.ceil(I.paddedLength/z)+1;for(var X=0;X<K;X++){var Y=X/Math.max(K-1,1),Z=I.lerp(Y),$=Z.x+100,J=Z.y+100;v.push($,J,T,0);var Q=$-T,tt=J-T,et=$+T,nt=J+T;if(P=P&&this.isOffscreen(Q,tt,et,nt),C=C||this.isInsideGrid(Q,tt,et,nt),!e&&this.grid.hitTestCircle($,J,T,f)&&(O=!0,!c))return{circles:[],offscreen:!1,collisionDetected:O}}}}catch(rt){W.e(rt)}finally{W.f()}}return{circles:!c&&O||!C?[]:v,offscreen:P,collisionDetected:O}}},{key:"queryRenderedSymbols",value:function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};var n,r=[],i=1/0,o=1/0,a=-1/0,s=-1/0,u=h(e);try{for(u.s();!(n=u.n()).done;){var c=n.value,l=new t.Point(c.x+100,c.y+100);i=Math.min(i,l.x),o=Math.min(o,l.y),a=Math.max(a,l.x),s=Math.max(s,l.y),r.push(l)}}catch(_){u.e(_)}finally{u.f()}var f,p=this.grid.query(i,o,a,s).concat(this.ignoredGrid.query(i,o,a,s)),d={},y={},v=h(p);try{for(v.s();!(f=v.n()).done;){var g=f.value,m=g.key;if(void 0===d[m.bucketInstanceId]&&(d[m.bucketInstanceId]={}),!d[m.bucketInstanceId][m.featureIndex]){var b=[new t.Point(g.x1,g.y1),new t.Point(g.x2,g.y1),new t.Point(g.x2,g.y2),new t.Point(g.x1,g.y2)];t.polygonIntersectsPolygon(r,b)&&(d[m.bucketInstanceId][m.featureIndex]=!0,void 0===y[m.bucketInstanceId]&&(y[m.bucketInstanceId]=[]),y[m.bucketInstanceId].push(m.featureIndex))}}}catch(_){v.e(_)}finally{v.f()}return y}},{key:"insertCollisionBox",value:function(t,e,n,r,i){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},t[0],t[1],t[2],t[3])}},{key:"insertCollisionCircles",value:function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])}},{key:"projectAndGetPerspectiveRatio",value:function(e,n,r,i){var o=[n,r,0,1];return i?(o[2]=i,t.transformMat4(o,o,e)):Pt(o,o,e),{point:new t.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/o[3]*.5,1.5)}}},{key:"isOffscreen",value:function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary}},{key:"isInsideGrid",value:function(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary}},{key:"getViewportMatrix",value:function(){var e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e}}]),e}(),Mt=function(){function t(e,n,r,i){v(this,t),this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?n:-n))):i&&r?1:0,this.placed=r}return g(t,[{key:"isHidden",value:function(){return 0===this.opacity&&!this.placed}}]),t}(),At=function(){function t(e,n,r,i,o){v(this,t),this.text=new Mt(e?e.text:null,n,r,o),this.icon=new Mt(e?e.icon:null,n,i,o)}return g(t,[{key:"isHidden",value:function(){return this.text.isHidden()&&this.icon.isHidden()}}]),t}(),It=function t(e,n,r){v(this,t),this.text=e,this.icon=n,this.skipFade=r},jt=function e(){v(this,e),this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]},Rt=function t(e,n,r,i,o){v(this,t),this.bucketInstanceId=e,this.featureIndex=n,this.sourceLayerIndex=r,this.bucketIndex=i,this.tileID=o},Dt=function(){function t(e){v(this,t),this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}return g(t,[{key:"get",value:function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]}}]),t}();function Nt(e,n,r,i,o){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*n,u=-(a.verticalAlign-.5)*r,c=t.evaluateVariableOffset(e,i);return new t.Point(s+c[0]*o,u+c[1]*o)}function Lt(e,n,r,i,o){var a=new t.Point(e,n);return r&&a._rotate(i?o:-o),a}var zt=function(){function e(t,n,r,i){v(this,e),this.transform=t.clone(),this.collisionIndex=new Tt(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=n,this.retainedQueryData={},this.collisionGroups=new Dt(r),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}return g(e,[{key:"getBucketParts",value:function(e,n,r,i){var o=r.getBucket(n),a=r.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=r.collisionBoxArray,u=o.layers[0].layout,c=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),l=r.tileSize/t.EXTENT,f=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),p="map"===u.get("text-pitch-alignment"),d="map"===u.get("text-rotation-alignment"),y=z(r,1,this.transform.zoom),v=yt(f,p,d,this.transform,y),g=null;if(p){var m=vt(f,p,d,this.transform,y);g=t.multiply([],this.transform.labelPlaneMatrix,m)}this.retainedQueryData[o.bucketInstanceId]=new Rt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);var b={bucket:o,layout:u,posMatrix:f,textLabelPlaneMatrix:v,labelToScreenMatrix:g,scale:c,textPixelRatio:l,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:t.evaluateSizeForZoom(o.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i){var _,x=h(o.sortKeyRanges);try{for(x.s();!(_=x.n()).done;){var w=_.value,E=w.sortKey,S=w.symbolInstanceStart,k=w.symbolInstanceEnd;e.push({sortKey:E,symbolInstanceStart:S,symbolInstanceEnd:k,parameters:b})}}catch(O){x.e(O)}finally{x.f()}}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:b})}}},{key:"attemptAnchorPlacement",value:function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,y,v,g){var m,b=[f.textOffset0,f.textOffset1],_=p.getSymbolInstanceTextSize(v,f,this.transform.zoom,h),x=Nt(t,n,r,b,i),w=this.collisionIndex.placeCollisionBox(_,e,Lt(x.x,x.y,o,a,this.transform.angle),l,s,u,c.predicate);if((!y||0!==this.collisionIndex.placeCollisionBox(p.getSymbolInstanceIconSize(g,this.transform.zoom,h),y,Lt(x.x,x.y,o,a,this.transform.angle),l,s,u,c.predicate).box.length)&&w.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(m=this.prevPlacement.variableOffsets[f.crossTileID].anchor),this.variableOffsets[f.crossTileID]={textOffset:b,width:n,height:r,anchor:t,textBoxScale:i,prevAnchor:m},this.markUsedJustification(p,t,f,d),p.allowVerticalPlacement&&(this.markUsedOrientation(p,d,f),this.placedOrientations[f.crossTileID]=d),{shift:x,placedGlyphBoxes:w}}},{key:"placeLayerBucketPart",value:function(e,n,r){var i=this,o=e.parameters,a=o.bucket,s=o.layout,u=o.posMatrix,c=o.textLabelPlaneMatrix,l=o.labelToScreenMatrix,f=o.textPixelRatio,p=o.holdingForFade,d=o.collisionBoxArray,y=o.partiallyEvaluatedTextSize,v=o.partiallyEvaluatedIconSize,g=o.collisionGroup,m=s.get("text-optional"),b=s.get("icon-optional"),_=s.get("text-allow-overlap"),x=s.get("icon-allow-overlap"),w="map"===s.get("text-rotation-alignment"),E="map"===s.get("text-pitch-alignment"),S="none"!==s.get("icon-text-fit"),k="viewport-y"===s.get("symbol-z-order"),O=_&&(x||!a.hasIconData()||b),C=x&&(_||!a.hasTextData()||m);!a.collisionArrays&&d&&a.deserializeCollisionBoxes(d),r&&a.updateCollisionDebugBuffers(this.transform.zoom,d);var P=function(e,o,d){if(!n[e.crossTileID])if(p)i.placements[e.crossTileID]=new It(!1,!1,!1);else{var k=!1,P=!1,T=!0,M=null,A={box:null,offscreen:null},I={box:null,offscreen:null},j=null,R=null,D=null,N=0,L=0,z=0;d.textFeatureIndex?N=d.textFeatureIndex:e.useRuntimeCollisionCircles&&(N=e.featureIndex),d.verticalTextFeatureIndex&&(L=d.verticalTextFeatureIndex);var F=function(t){(i.transform.elevation||t.elevation)&&(t.elevation=i.transform.elevation?i.transform.elevation.getAtTileOffset(i.retainedQueryData[a.bucketInstanceId].tileID,t.anchorPointX,t.anchorPointY):0)},B=d.textBox;if(B){F(B);var U=function(n){var r=t.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[e.crossTileID];o&&(i.placedOrientations[e.crossTileID]=o,r=o,i.markUsedOrientation(a,r,e))}return r},q=function(n,r){if(a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&d.verticalTextBox){var i,o=h(a.writingModes);try{for(o.s();!(i=o.n()).done&&(i.value===t.WritingMode.vertical?(A=r(),I=A):A=n(),!(A&&A.box&&A.box.length)););}catch(s){o.e(s)}finally{o.f()}}else A=n()};if(s.get("text-variable-anchor")){var V=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[e.crossTileID]){var G=i.prevPlacement.variableOffsets[e.crossTileID];V.indexOf(G.anchor)>0&&(V=V.filter((function(t){return t!==G.anchor}))).unshift(G.anchor)}var W=function(t,n,r){var s=e.textBoxScale,c=(t.x2-t.x1)*s+2*t.padding,l=(t.y2-t.y1)*s+2*t.padding,h=S&&!x?n:null;h&&F(h);for(var p={box:[],offscreen:!1},d=_?2*V.length:V.length,m=0;m<d;++m){var b=i.attemptAnchorPlacement(V[m%V.length],t,c,l,s,w,E,f,u,g,m>=V.length,e,o,a,r,h,y,v);if(b&&(p=b.placedGlyphBoxes)&&p.box&&p.box.length){k=!0,M=b.shift;break}}return p};q((function(){return W(B,d.iconBox,t.WritingMode.horizontal)}),(function(){var n=d.verticalTextBox;return n&&F(n),a.allowVerticalPlacement&&!(A&&A.box&&A.box.length)&&e.numVerticalGlyphVertices>0&&n?W(n,d.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}})),A&&(k=A.box,T=A.offscreen);var H=U(A&&A.box);if(!k&&i.prevPlacement){var K=i.prevPlacement.variableOffsets[e.crossTileID];K&&(i.variableOffsets[e.crossTileID]=K,i.markUsedJustification(a,K.anchor,e,H))}}else{var X=function(n,r){var s=a.getSymbolInstanceTextSize(y,e,i.transform.zoom,o),c=i.collisionIndex.placeCollisionBox(s,n,new t.Point(0,0),_,f,u,g.predicate);return c&&c.box&&c.box.length&&(i.markUsedOrientation(a,r,e),i.placedOrientations[e.crossTileID]=r),c};q((function(){return X(B,t.WritingMode.horizontal)}),(function(){var n=d.verticalTextBox;return a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?(F(n),X(n,t.WritingMode.vertical)):{box:null,offscreen:null}})),U(A&&A.box&&A.box.length)}}if(k=(j=A)&&j.box&&j.box.length>0,T=j&&j.offscreen,e.useRuntimeCollisionCircles){var Y=a.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),Z=t.evaluateSizeForFeature(a.textSizeData,y,Y),$=s.get("text-padding");R=i.collisionIndex.placeCollisionCircles(_,Y,a.lineVertexArray,a.glyphOffsetArray,Z,u,c,l,r,E,g.predicate,e.collisionCircleDiameter,$,i.retainedQueryData[a.bucketInstanceId].tileID),k=_||R.circles.length>0&&!R.collisionDetected,T=T&&R.offscreen}if(d.iconFeatureIndex&&(z=d.iconFeatureIndex),d.iconBox){var J=function(e){F(e);var n=S&&M?Lt(M.x,M.y,w,E,i.transform.angle):new t.Point(0,0),r=a.getSymbolInstanceIconSize(v,i.transform.zoom,o);return i.collisionIndex.placeCollisionBox(r,e,n,x,f,u,g.predicate)};P=I&&I.box&&I.box.length&&d.verticalIconBox?(D=J(d.verticalIconBox)).box.length>0:(D=J(d.iconBox)).box.length>0,T=T&&D.offscreen}var Q=m||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,tt=b||0===e.numIconVertices;if(Q||tt?tt?Q||(P=P&&k):k=P&&k:P=k=P&&k,k&&j&&j.box&&i.collisionIndex.insertCollisionBox(j.box,s.get("text-ignore-placement"),a.bucketInstanceId,I&&I.box&&L?L:N,g.ID),P&&D&&i.collisionIndex.insertCollisionBox(D.box,s.get("icon-ignore-placement"),a.bucketInstanceId,z,g.ID),R&&(k&&i.collisionIndex.insertCollisionCircles(R.circles,s.get("text-ignore-placement"),a.bucketInstanceId,N,g.ID),r)){var et=a.bucketInstanceId,nt=i.collisionCircleArrays[et];void 0===nt&&(nt=i.collisionCircleArrays[et]=new jt);for(var rt=0;rt<R.circles.length;rt+=4)nt.circles.push(R.circles[rt+0]),nt.circles.push(R.circles[rt+1]),nt.circles.push(R.circles[rt+2]),nt.circles.push(R.collisionDetected?1:0)}i.placements[e.crossTileID]=new It(k||O,P||C,T||a.justReloaded),n[e.crossTileID]=!0}};if(k)for(var T=a.getSortedSymbolIndexes(this.transform.angle),M=T.length-1;M>=0;--M){var A=T[M];P(a.symbolInstances.get(A),A,a.collisionArrays[A])}else for(var I=e.symbolInstanceStart;I<e.symbolInstanceEnd;I++)P(a.symbolInstances.get(I),I,a.collisionArrays[I]);if(r&&a.bucketInstanceId in this.collisionCircleArrays){var j=this.collisionCircleArrays[a.bucketInstanceId];t.invert(j.invProjMatrix,u),j.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1}},{key:"markUsedJustification",value:function(e,n,r,i){var o;o=i===t.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(n)];for(var a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<s.length;a++){var u=s[a];u>=0&&(e.text.placedSymbolArray.get(u).crossTileID=o>=0&&u!==o?0:r.crossTileID)}}},{key:"markUsedOrientation",value:function(e,n,r){for(var i=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,o=n===t.WritingMode.vertical?n:0,a=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<s.length;a++){var u=s[a];e.text.placedSymbolArray.get(u).placedOrientation=i}r.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)}},{key:"commit",value:function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var r=e?e.symbolFadeChange(t):1,i=e?e.opacities:{},o=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],c=i[s];c?(this.opacities[s]=new At(c,r,u.text,u.icon),n=n||u.text!==c.text.placed||u.icon!==c.icon.placed):(this.opacities[s]=new At(null,r,u.text,u.icon,u.skipFade),n=n||u.text||u.icon)}for(var l in i){var f=i[l];if(!this.opacities[l]){var h=new At(f,r,!1,!1);h.isHidden()||(this.opacities[l]=h,n=n||f.text.placed||f.icon.placed)}}for(var p in o)this.variableOffsets[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.variableOffsets[p]=o[p]);for(var d in a)this.placedOrientations[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.placedOrientations[d]=a[d]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)}},{key:"updateLayerOpacities",value:function(t,e){var n,r={},i=h(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,r,o.collisionBoxArray)}}catch(s){i.e(s)}finally{i.f()}}},{key:"updateBucketOpacities",value:function(e,n,r){var i=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();var o=e.layers[0].layout,a=new At(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),u=o.get("icon-allow-overlap"),c=o.get("text-variable-anchor"),l="map"===o.get("text-rotation-alignment"),f="map"===o.get("text-pitch-alignment"),h="none"!==o.get("icon-text-fit"),p=new At(null,0,s&&(u||!e.hasIconData()||o.get("icon-optional")),u&&(s||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(r);for(var d=function(t,e,n){for(var r=0;r<e/4;r++)t.opacityVertexArray.emplaceBack(n)},y=function(r){var o=e.symbolInstances.get(r),s=o.numHorizontalGlyphVertices,u=o.numVerticalGlyphVertices,y=o.crossTileID,v=i.opacities[y];n[y]?v=a:v||(v=p,i.opacities[y]=v),n[y]=!0;var g=o.numIconVertices>0,m=i.placedOrientations[o.crossTileID],b=m===t.WritingMode.vertical,_=m===t.WritingMode.horizontal||m===t.WritingMode.horizontalOnly;if(s>0||u>0){var x=Kt(v.text);d(e.text,s,b?Xt:x),d(e.text,u,_?Xt:x);var w=v.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=w||b?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=w||_?1:0);var E=i.variableOffsets[o.crossTileID];E&&i.markUsedJustification(e,E.anchor,o,m);var S=i.placedOrientations[o.crossTileID];S&&(i.markUsedJustification(e,"left",o,S),i.markUsedOrientation(e,S,o))}if(g){var k=Kt(v.icon),O=!(h&&o.verticalPlacedIconSymbolIndex&&b);o.placedIconSymbolIndex>=0&&(d(e.icon,o.numIconVertices,O?k:Xt),e.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=v.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(d(e.icon,o.numVerticalIconVertices,O?Xt:k),e.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=v.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){var C=e.collisionArrays[r];if(C){var P=new t.Point(0,0);if(C.textBox||C.verticalTextBox){var T=!0;if(c){var M=i.variableOffsets[y];M?(P=Nt(M.anchor,M.width,M.height,M.textOffset,M.textBoxScale),l&&P._rotate(f?i.transform.angle:-i.transform.angle)):T=!1}C.textBox&&Ft(e.textCollisionBox.collisionVertexArray,v.text.placed,!T||b,P.x,P.y),C.verticalTextBox&&Ft(e.textCollisionBox.collisionVertexArray,v.text.placed,!T||_,P.x,P.y)}var A=Boolean(!_&&C.verticalIconBox);C.iconBox&&Ft(e.iconCollisionBox.collisionVertexArray,v.icon.placed,A,h?P.x:0,h?P.y:0),C.verticalIconBox&&Ft(e.iconCollisionBox.collisionVertexArray,v.icon.placed,!A,h?P.x:0,h?P.y:0)}}},v=0;v<e.symbolInstances.length;v++)y(v);if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){var g=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=g.invProjMatrix,e.placementViewportMatrix=g.viewportMatrix,e.collisionCircleArray=g.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}}},{key:"symbolFadeChange",value:function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}},{key:"zoomAdjustment",value:function(t){return Math.max(0,(this.transform.zoom-t)/1.5)}},{key:"hasTransitions",value:function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration}},{key:"stillRecent",value:function(t,e){var n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t}},{key:"setStale",value:function(){this.stale=!0}}]),e}();function Ft(t,e,n,r,i){t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0)}var Bt=Math.pow(2,25),Ut=Math.pow(2,24),qt=Math.pow(2,17),Vt=Math.pow(2,16),Gt=Math.pow(2,9),Wt=Math.pow(2,8),Ht=Math.pow(2,1);function Kt(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*Bt+e*Ut+n*qt+e*Vt+n*Gt+e*Wt+n*Ht+e}var Xt=0,Yt=function(){function t(e){v(this,t),this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}return g(t,[{key:"continuePlacement",value:function(t,e,n,r,i){for(var o=this._bucketParts;this._currentTileIndex<t.length;)if(e.getBucketParts(o,r,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(t,e){return t.sortKey-e.sortKey})));this._currentPartIndex<o.length;)if(e.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1}}]),t}(),Zt=function(){function e(t,n,r,i,o,a,s){v(this,e),this.placement=new zt(t,o,a,s),this._currentPlacementIndex=n.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=i,this._done=!1}return g(e,[{key:"isDone",value:function(){return this._done}},{key:"continuePlacement",value:function(e,n,r){for(var i=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!i._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=n[e[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new Yt(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}},{key:"commit",value:function(t){return this.placement.commit(t),this.placement}}]),e}(),$t=512/t.EXTENT/2,Jt=function(){function e(t,n,r){v(this,e),this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var i=0;i<n.length;i++){var o=n.get(i),a=o.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,t)})}}return g(e,[{key:"getScaledCoordinates",value:function(e,n){var r=$t/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*r),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*r)}}},{key:"findMatches",value:function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0;i<t.length;i++){var o=t.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a){var s,u=this.getScaledCoordinates(o,e),c=h(a);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(Math.abs(l.coord.x-u.x)<=r&&Math.abs(l.coord.y-u.y)<=r&&!n[l.crossTileID]){n[l.crossTileID]=!0,o.crossTileID=l.crossTileID;break}}}catch(f){c.e(f)}finally{c.f()}}}}}}]),e}(),Qt=function(){function t(){v(this,t),this.maxCrossTileID=0}return g(t,[{key:"generate",value:function(){return++this.maxCrossTileID}}]),t}(),te=function(){function t(){v(this,t),this.indexes={},this.usedCrossTileIDs={},this.lng=0}return g(t,[{key:"handleWrapJump",value:function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t}},{key:"addBucket",value:function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var u=a[s];u.tileID.isChildOf(t)&&u.findMatches(e.symbolInstances,t,i)}else{var c=a[t.scaledTo(Number(o)).key];c&&c.findMatches(e.symbolInstances,t,i)}}for(var l=0;l<e.symbolInstances.length;l++){var f=e.symbolInstances.get(l);f.crossTileID||(f.crossTileID=n.generate(),i[f.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Jt(t,e.symbolInstances,e.bucketInstanceId),!0}},{key:"removeBucketCrossTileIDs",value:function(t,e){for(var n in e.indexedSymbolInstances){var r,i=h(e.indexedSymbolInstances[n]);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete this.usedCrossTileIDs[t][o.crossTileID]}}catch(a){i.e(a)}finally{i.f()}}}},{key:"removeStaleBuckets",value:function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e}}]),t}(),ee=function(){function t(){v(this,t),this.layerIndexes={},this.crossTileIDs=new Qt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}return g(t,[{key:"addLayer",value:function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new te);var i=!1,o={};r.handleWrapJump(n);var a,s=h(e);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.getBucket(t);c&&t.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(u.tileID,c,this.crossTileIDs)&&(i=!0),o[c.bucketInstanceId]=!0)}}catch(l){s.e(l)}finally{s.f()}return r.removeStaleBuckets(o)&&(i=!0),i}},{key:"pruneUnusedLayers",value:function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]}}]),t}(),ne=function(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))},re=t.pick(ot,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain"]),ie=t.pick(ot,["setCenter","setZoom","setBearing","setPitch"]),oe=function(){var e={},n=t.styleSpec.$version;for(var r in t.styleSpec.$root){var i=t.styleSpec.$root[r];if(i.required){var o=null;null!=(o="version"===r?n:"array"===i.type?[]:{})&&(e[r]=o)}}return e}(),ae=function(e){d(r,e);var n=y(r);function r(e){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(this,r),(o=n.call(this)).map=e,o.dispatcher=new L(nt(),i(o)),o.imageManager=new S,o.imageManager.setEventedParent(i(o)),o.glyphManager=new A(e._requestManager,a.localIdeographFontFamily),o.lineAtlas=new N(256,512),o.crossTileSymbolIndex=new ee,o._layers={},o._num3DLayers=0,o._serializedLayers={},o._order=[],o._sourceCaches={},o._otherSourceCaches={},o._symbolSourceCaches={},o.zoomHistory=new t.ZoomHistory,o._loaded=!1,o._availableImages=[],o._resetUpdates(),o.dispatcher.broadcast("setReferrer",t.getReferrer());var s=i(o);return o._rtlTextPluginCallback=r.registerForPluginStateChange((function(e){s.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},(function(e,n){if(t.triggerPluginCompletionEvent(e),n&&n.every((function(t){return t})))for(var r in s._sourceCaches){var i=s._sourceCaches[r],o=i.getSource().type;"vector"!==o&&"geojson"!==o||i.reload()}}))})),o.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.getSource(t.sourceId);if(e&&e.vectorLayerIds)for(var n in o._layers){var r=o._layers[n];r.source===e.id&&o._validateLayer(r)}}})),o}return g(r,[{key:"loadURL",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new t.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof r.validate?r.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,r.accessToken);var o=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,(function(e,r){n._request=null,e?n.fire(new t.ErrorEvent(e)):r&&n._load(r,i)}))}},{key:"loadJSON",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){n._request=null,n._load(e,!1!==r.validate)}))}},{key:"loadEmpty",value:function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(oe,!1)}},{key:"_load",value:function(e,n){if(!n||!ne(this,t.validateStyle(e))){for(var r in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(r,e.sources[r],{validate:!1});this._changed=!1,e.sprite?this._loadSprite(e.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var i=it(this.stylesheet.layers);this._order=i.map((function(t){return t.id})),this._layers={},this._serializedLayers={};var o,a=h(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;(s=t.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize(),s.is3D()&&this._num3DLayers++}}catch(u){a.e(u)}finally{a.f()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new j(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}}},{key:"_loadSprite",value:function(e){var n=this;this._spriteRequest=function(e,n,r){var i,o,a,s=t.browser.devicePixelRatio>1?"@2x":"",u=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){u=null,a||(a=t,i=e,l())})),c=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){c=null,a||(a=t,o=e,l())}));function l(){if(a)r(a);else if(i&&o){var e=t.browser.getImageData(o),n={};for(var s in i){var u=i[s],c=u.width,l=u.height,f=u.x,h=u.y,p=u.sdf,d=u.pixelRatio,y=u.stretchX,v=u.stretchY,g=u.content,m=new t.RGBAImage({width:c,height:l});t.RGBAImage.copy(e,m,{x:f,y:h},{x:0,y:0},{width:c,height:l}),n[s]={data:m,pixelRatio:d,sdf:p,stretchX:y,stretchY:v,content:g}}r(null,n)}}return{cancel:function(){u&&(u.cancel(),u=null),c&&(c.cancel(),c=null)}}}(e,this.map._requestManager,(function(e,r){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new t.Event("data",{dataType:"style"}))}))}},{key:"_validateLayer",value:function(e){var n=this.getSource(e.source);if(n){var r=e.sourceLayer;r&&("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'.concat(r,'" ')+'does not exist on source "'.concat(n.id,'" ')+'as specified by style layer "'.concat(e.id,'"'))))}}},{key:"loaded",value:function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this._sourceCaches)if(!this._sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()}},{key:"_serializeLayers",value:function(t){var e,n=[],r=h(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=this._layers[i];"custom"!==o.type&&n.push(o.serialize())}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"hasTransitions",value:function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this._sourceCaches)if(this._sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}},{key:"_checkLoaded",value:function(){if(!this._loaded)throw new Error("Style is not done loading")}},{key:"update",value:function(e){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}var u={};for(var c in this._sourceCaches){var l=this._sourceCaches[c];u[c]=l.used,l.used=!1}var f,p=h(this._order);try{for(p.s();!(f=p.n()).done;){var d=f.value,y=this._layers[d];if(y.recalculate(e,this._availableImages),!y.isHidden(e.zoom)){var v=this._getLayerSourceCache(y);v&&(v.used=!0)}var g=this.map.painter;if(g){var m=y.getProgramIds();if(!m)continue;var b,_=y.getProgramConfiguration(e.zoom),x=h(m);try{for(x.s();!(b=x.n()).done;){var w=b.value;g.useProgram(w,_)}}catch(k){x.e(k)}finally{x.f()}}}}catch(k){p.e(k)}finally{p.f()}for(var E in u){var S=this._sourceCaches[E];u[E]!==S.used&&S.getSource().fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:S.getSource().id}))}this.light.recalculate(e),this.terrain&&this.terrain.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}}},{key:"_updateTilesForChangedImages",value:function(){var t=Object.keys(this._changedImages);if(t.length){for(var e in this._sourceCaches)this._sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}}},{key:"_updateWorkerLayers",value:function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})}},{key:"_resetUpdates",value:function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}},{key:"setState",value:function(e){var n=this;if(this._checkLoaded(),ne(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=it(e.layers);var r=function(e,n){if(!e)return[{command:ot.setStyle,args:[n]}];var r=[];try{if(!t.deepEqual(e.version,n.version))return[{command:ot.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||r.push({command:ot.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||r.push({command:ot.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||r.push({command:ot.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||r.push({command:ot.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||r.push({command:ot.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||r.push({command:ot.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||r.push({command:ot.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||r.push({command:ot.setLight,args:[n.light]});var i={},o=[];!function(e,n,r,i){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||st(o,r,i));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.deepEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&ct(e,n,o)?r.push({command:ot.setGeoJSONSourceData,args:[o,n[o].data]}):ut(o,n,r,i)):at(o,n,r))}(e.sources,n.sources,o,i);var a=[];e.layers&&e.layers.forEach((function(t){i[t.source]?r.push({command:ot.removeLayer,args:[t.id]}):a.push(t)}));var s=e.terrain;s&&i[s.source]&&(r.push({command:ot.setTerrain,args:[void 0]}),s=void 0),r=r.concat(o),t.deepEqual(s,n.terrain)||r.push({command:ot.setTerrain,args:[n.terrain]}),function(e,n,r){n=n||[];var i,o,a,s,u,c,l,f=(e=e||[]).map(ft),h=n.map(ft),p=e.reduce(ht,{}),d=n.reduce(ht,{}),y=f.slice(),v=Object.create(null);for(i=0,o=0;i<f.length;i++)a=f[i],d.hasOwnProperty(a)?o++:(r.push({command:ot.removeLayer,args:[a]}),y.splice(y.indexOf(a,o),1));for(i=0,o=0;i<h.length;i++)a=h[h.length-1-i],y[y.length-1-i]!==a&&(p.hasOwnProperty(a)?(r.push({command:ot.removeLayer,args:[a]}),y.splice(y.lastIndexOf(a,y.length-o),1)):o++,c=y[y.length-i],r.push({command:ot.addLayer,args:[d[a],c]}),y.splice(y.length-i,0,a),v[a]=!0);for(i=0;i<h.length;i++)if(s=p[a=h[i]],u=d[a],!v[a]&&!t.deepEqual(s,u))if(t.deepEqual(s.source,u.source)&&t.deepEqual(s["source-layer"],u["source-layer"])&&t.deepEqual(s.type,u.type)){for(l in lt(s.layout,u.layout,r,a,null,ot.setLayoutProperty),lt(s.paint,u.paint,r,a,null,ot.setPaintProperty),t.deepEqual(s.filter,u.filter)||r.push({command:ot.setFilter,args:[a,u.filter]}),t.deepEqual(s.minzoom,u.minzoom)&&t.deepEqual(s.maxzoom,u.maxzoom)||r.push({command:ot.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?lt(s[l],u[l],r,a,l.slice(6),ot.setPaintProperty):t.deepEqual(s[l],u[l])||r.push({command:ot.setLayerProperty,args:[a,l,u[l]]}));for(l in u)u.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?lt(s[l],u[l],r,a,l.slice(6),ot.setPaintProperty):t.deepEqual(s[l],u[l])||r.push({command:ot.setLayerProperty,args:[a,l,u[l]]}))}else r.push({command:ot.removeLayer,args:[a]}),c=y[y.lastIndexOf(a)+1],r.push({command:ot.addLayer,args:[u,c]})}(a,n.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:ot.setStyle,args:[n]}]}return r}(this.serialize(),e).filter((function(t){return!(t.command in ie)}));if(0===r.length)return!1;var i=r.filter((function(t){return!(t.command in re)}));if(i.length>0)throw new Error("Unimplemented: ".concat(i.map((function(t){return t.command})).join(", "),"."));return r.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0}},{key:"addImage",value:function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this._afterImageUpdated(e)}},{key:"updateImage",value:function(t,e){this.imageManager.updateImage(t,e)}},{key:"getImage",value:function(t){return this.imageManager.getImage(t)}},{key:"removeImage",value:function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)}},{key:"_afterImageUpdated",value:function(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))}},{key:"listImages",value:function(){return this._checkLoaded(),this.imageManager.listImages()}},{key:"addSource",value:function(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.getSource(e))throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(n).join(", "),"."));if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources.".concat(e),n,null,i))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=K(e,n,this.dispatcher,this);o.setEventedParent(this,(function(){return{isSourceLoaded:r.loaded(),source:o.serialize(),sourceId:e}}));var a=function(n){var i=(n?"symbol:":"other:")+e,a=r._sourceCaches[i]=new t.SourceCache(i,o,n);(n?r._symbolSourceCaches:r._otherSourceCaches)[e]=a,a.style=r,a.onAdd(r.map)};a(!1),"vector"!==n.type&&"geojson"!==n.type||a(!0),o.onAdd&&o.onAdd(this.map),this._changed=!0}}},{key:"removeSource",value:function(e){this._checkLoaded();var n=this.getSource(e);if(void 0===n)throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'.concat(e,'" cannot be removed while layer "').concat(r,'" is using it.'))));if(this.terrain&&this.terrain.get().source===e)return this.fire(new t.ErrorEvent(new Error('Source "'.concat(e,'" cannot be removed while terrain is using it.'))));var i,o=this._getSourceCaches(e),a=h(o);try{for(a.s();!(i=a.n()).done;){var s=i.value;delete this._sourceCaches[s.id],delete this._updatedSources[s.id],s.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:s.getSource().id})),s.setEventedParent(null),s.clearTiles()}}catch(u){a.e(u)}finally{a.f()}delete this._otherSourceCaches[e],delete this._symbolSourceCaches[e],n.setEventedParent(null),n.onRemove&&n.onRemove(this.map),this._changed=!0}},{key:"setGeoJSONSourceData",value:function(t,e){this._checkLoaded(),this.getSource(t).setData(e),this._changed=!0}},{key:"getSource",value:function(t){var e=this._getSourceCache(t);return e&&e.getSource()}},{key:"addLayer",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var i=e.id;if(this.getLayer(i))this.fire(new t.ErrorEvent(new Error('Layer with id "'.concat(i,'" already exists on this map'))));else{var o;if("custom"===e.type){if(ne(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(i,e.source),e=t.clone$1(e),e=t.extend(e,{source:i})),this._validate(t.validateStyle.layer,"layers.".concat(i),e,{arrayIndex:-1},r))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize(),o.is3D()&&this._num3DLayers++}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'.concat(n,'" does not exist on this map.'))));else{this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o;var s=this._getLayerSourceCache(o);if(this._removedLayers[i]&&o.source&&s&&"custom"!==o.type){var u=this._removedLayers[i];delete this._removedLayers[i],u.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",s.pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}}},{key:"moveLayer",value:function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var r=this._order.indexOf(e);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.ErrorEvent(new Error('Layer with id "'.concat(n,'" does not exist on this map.')))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '".concat(e,"' does not exist in the map's style and cannot be moved."))))}},{key:"removeLayer",value:function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null),n.is3D()&&this._num3DLayers--;var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '".concat(e,"' does not exist in the map's style and cannot be removed."))))}},{key:"getLayer",value:function(t){return this._layers[t]}},{key:"hasLayer",value:function(t){return t in this._layers}},{key:"setLayerZoomRange",value:function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '".concat(e,"' does not exist in the map's style and cannot have zoom extent."))))}},{key:"setFilter",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var i=this.getLayer(e);if(i){if(!t.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(t.validateStyle.filter,"layers.".concat(i.id,".filter"),n,null,r)||(i.filter=t.clone$1(n),this._updateLayer(i)))}else this.fire(new t.ErrorEvent(new Error("The layer '".concat(e,"' does not exist in the map's style and cannot be filtered."))))}},{key:"getFilter",value:function(e){return t.clone$1(this.getLayer(e).filter)}},{key:"setLayoutProperty",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '".concat(e,"' does not exist in the map's style and cannot be styled."))))}},{key:"getLayoutProperty",value:function(e,n){var r=this.getLayer(e);if(r)return r.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '".concat(e,"' does not exist in the map's style."))))}},{key:"setPaintProperty",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '".concat(e,"' does not exist in the map's style and cannot be styled."))))}},{key:"getPaintProperty",value:function(t,e){return this.getLayer(t).getPaintProperty(e)}},{key:"setFeatureState",value:function(e,n){this._checkLoaded();var r=e.source,i=e.sourceLayer,o=this.getSource(r);if(void 0!==o){var a=o.type;if("geojson"===a&&i)this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));else if("vector"!==a||i){void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided.")));var s,u=this._getSourceCaches(r),c=h(u);try{for(c.s();!(s=c.n()).done;)s.value.setFeatureState(i,e.id,n)}catch(l){c.e(l)}finally{c.f()}}else this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"removeFeatureState",value:function(e,n){this._checkLoaded();var r=e.source,i=this.getSource(r);if(void 0!==i){var o=i.type,a="vector"===o?e.sourceLayer:void 0;if("vector"!==o||a)if(n&&"string"!=typeof e.id&&"number"!=typeof e.id)this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));else{var s,u=this._getSourceCaches(r),c=h(u);try{for(c.s();!(s=c.n()).done;)s.value.removeFeatureState(a,e.id,n)}catch(l){c.e(l)}finally{c.f()}}else this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"getFeatureState",value:function(e){this._checkLoaded();var n=e.source,r=e.sourceLayer,i=this.getSource(n);if(void 0!==i){if("vector"!==i.type||r)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(n)[0].getFeatureState(r,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '".concat(n,"' does not exist in the map's style."))))}},{key:"getTransition",value:function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}},{key:"serialize",value:function(){var e={};for(var n in this._sourceCaches){var r=this._sourceCaches[n].getSource();e[r.id]||(e[r.id]=r.serialize())}return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e,layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))}},{key:"_updateLayer",value:function(t){this._updatedLayers[t.id]=!0;var e=this._getLayerSourceCache(t);t.source&&!this._updatedSources[t.source]&&e&&"raster"!==e.getSource().type&&(this._updatedSources[t.source]="reload",e.pause()),this._changed=!0}},{key:"_flattenAndSortRenderedFeatures",value:function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;var s,u=h(t);try{for(u.s();!(s=u.n()).done;){var c=s.value[a];if(c){var l,f=h(c);try{for(f.s();!(l=f.n()).done;){var p=l.value;i.push(p)}}catch(k){f.e(k)}finally{f.f()}}}}catch(k){u.e(k)}finally{u.f()}}}i.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var d=[],y=this._order.length-1;y>=0;y--){var v=this._order[y];if(n(v))for(var g=i.length-1;g>=0;g--){var m=i[g].feature;if(r[m.layer.id]<y)break;d.push(m),i.pop()}else{var b,_=h(t);try{for(_.s();!(b=_.n()).done;){var x=b.value[v];if(x){var w,E=h(x);try{for(E.s();!(w=E.n()).done;){var S=w.value;d.push(S.feature)}}catch(k){E.e(k)}finally{E.f()}}}}catch(k){_.e(k)}finally{_.f()}}}return d}},{key:"queryRenderedFeatures",value:function(e,n,r){var i=this;n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var o={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];var a,s=h(n.layers);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=this._layers[u];if(!c)return this.fire(new t.ErrorEvent(new Error("The layer '".concat(u,"' does not exist in the map's style and cannot be queried for features.")))),[];o[c.source]=!0}}catch(v){s.e(v)}finally{s.f()}}var l=[];n.availableImages=this._availableImages;var f=n&&n.layers?n.layers.some((function(t){var e=i.getLayer(t);return e&&e.is3D()})):this.has3DLayers(),p=F.createFromScreenPoints(e,r);for(var d in this._sourceCaches){var y=this._sourceCaches[d].getSource().id;n.layers&&!o[y]||l.push(Y(this._sourceCaches[d],this._layers,this._serializedLayers,p,n,r,f,!!this.map._showQueryGeometry))}return this.placement&&l.push(function(t,e,n,r,i,o,a){var s,u={},c=o.queryRenderedSymbols(r),l=[],f=h(Object.keys(c).map(Number));try{for(f.s();!(s=f.n()).done;){var p=s.value;l.push(a[p])}}catch(v){f.e(v)}finally{f.f()}l.sort($);for(var d=function(){var n=g[y],r=n.featureIndex.lookupSymbolFeatures(c[n.bucketInstanceId],e,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,t);for(var o in r){var a=u[o]=u[o]||[],s=r[o];s.sort((function(t,e){var r=n.featureSortOrder;if(r){var i=r.indexOf(t.featureIndex);return r.indexOf(e.featureIndex)-i}return e.featureIndex-t.featureIndex}));var l,f=h(s);try{for(f.s();!(l=f.n()).done;){var p=l.value;a.push(p)}}catch(v){f.e(v)}finally{f.f()}}},y=0,g=l;y<g.length;y++)d();var m=function(e){u[e].forEach((function(r){var i=r.feature,o=n(t[e]).getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var b in u)m(b);return u}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),p.screenGeometry,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)}},{key:"querySourceFeatures",value:function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r,i=this._getSourceCaches(e),o=[],a=h(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;o=o.concat(Z(s,n))}}catch(u){a.e(u)}finally{a.f()}return o}},{key:"addSourceType",value:function(t,e,n){return r.getSourceType(t)?n(new Error('A source type called "'.concat(t,'" already exists.'))):(r.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))}},{key:"getLight",value:function(){return this.light.getLight()}},{key:"setLight",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in e)if(!t.deepEqual(e[o],r[o])){i=!0;break}if(i){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}}},{key:"setTerrain",value:function(e){if(this._checkLoaded(),!e)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),void this._force3DLayerUpdate();if("object"==typeof e.source){var n="terrain-dem-src";this.addSource(n,e.source),e=t.clone$1(e),e=t.extend(e,{source:n})}if(!this._validate(t.validateStyle.terrain,"terrain",e))if(this.terrain){var r=this.terrain,i=r.get();for(var o in e)if(!t.deepEqual(e[o],i[o])){r.set(e),this.stylesheet.terrain=e;var a={now:t.browser.now(),transition:t.extend({duration:0},this.stylesheet.transition)};r.updateTransitions(a);break}}else this._createTerrain(e)}},{key:"_createTerrain",value:function(e){var n=this.terrain=new D(e);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();var r={now:t.browser.now(),transition:t.extend({duration:0},this.stylesheet.transition)};n.updateTransitions(r)}},{key:"_force3DLayerUpdate",value:function(){for(var t in this._layers){var e=this._layers[t];"fill-extrusion"===e.type&&this._updateLayer(e)}}},{key:"_validate",value:function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!o||!1!==o.validate)&&ne(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:r,styleSpec:t.styleSpec},i)))}},{key:"_remove",value:function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var n in this._sourceCaches)this._sourceCaches[n].clearTiles(),this._sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}},{key:"_clearSource",value:function(t){var e,n=this._getSourceCaches(t),r=h(n);try{for(r.s();!(e=r.n()).done;)e.value.clearTiles()}catch(i){r.e(i)}finally{r.f()}}},{key:"_reloadSource",value:function(t){var e,n=this._getSourceCaches(t),r=h(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.resume(),i.reload()}}catch(o){r.e(o)}finally{r.f()}}},{key:"_updateSources",value:function(t){for(var e in this._sourceCaches)this._sourceCaches[e].update(t)}},{key:"_generateCollisionBoxes",value:function(){for(var t in this._sourceCaches){var e=this._sourceCaches[t];e.resume(),e.reload()}}},{key:"_updatePlacement",value:function(e,n,r,i){var o,a=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=!1,c=!1,l={},f=h(this._order);try{for(f.s();!(o=f.n()).done;){var p=o.value,d=this._layers[p];if("symbol"===d.type){if(!l[d.source]&&"continue"===function(){var t=a._getLayerSourceCache(d);if(!t)return"continue";l[d.source]=t.getRenderableIds(!0).map((function(e){return t.getTileByID(e)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}())continue;var y=this.crossTileSymbolIndex.addLayer(d,l[d.source],e.center.lng);u=u||y}}}catch(_){f.e(_)}finally{f.f()}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((s=s||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new Zt(e,this._order,s,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),c=!0),u&&this.pauseablePlacement.placement.setStale()),c||u){var v,g=h(this._order);try{for(g.s();!(v=g.n()).done;){var m=v.value,b=this._layers[m];"symbol"===b.type&&this.placement.updateLayerOpacities(b,l[b.source])}}catch(_){g.e(_)}finally{g.f()}}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())}},{key:"_releaseSymbolFadeTiles",value:function(){for(var t in this._sourceCaches)this._sourceCaches[t].releaseSymbolFadeTiles()}},{key:"getImages",value:function(t,e,n){this.imageManager.getImages(e.icons,n),this._updateTilesForChangedImages();var r=function(t){t&&t.setDependencies(e.tileID.key,e.type,e.icons)};r(this._otherSourceCaches[e.source]),r(this._symbolSourceCaches[e.source])}},{key:"getGlyphs",value:function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)}},{key:"getResource",value:function(e,n,r){return t.makeRequest(n,r)}},{key:"_getSourceCache",value:function(t){return this._otherSourceCaches[t]}},{key:"_getLayerSourceCache",value:function(t){return"symbol"===t.type?this._symbolSourceCaches[t.source]:this._otherSourceCaches[t.source]}},{key:"_getSourceCaches",value:function(t){var e=[];return this._otherSourceCaches[t]&&e.push(this._otherSourceCaches[t]),this._symbolSourceCaches[t]&&e.push(this._symbolSourceCaches[t]),e}},{key:"has3DLayers",value:function(){return this._num3DLayers>0}}]),r}(t.Evented);ae.getSourceType=function(t){return H[t]},ae.setSourceType=function(t,e){H[t]=e},ae.registerForPluginStateChange=t.registerForPluginStateChange;var se="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",ue={};ue=Be("","#ifdef TERRAIN\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);}float prevElevation(vec2 apos) {float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*word/7.3;}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0);var ce=Be("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nconst float PI=3.141592653589793;","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const float PI=3.141592653589793;const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),le=Be("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),fe=Be("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),he=Be("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),pe=Be("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),de=Be("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}"),ye=Be("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),ve=Be("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=u_matrix*vec4(a_pos,elevation(a_pos),1.0);gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),ge=Be("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),me=Be("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),be=Be("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),_e=Be("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),xe=Be("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),we=Be("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Ee=Be("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);gl_Position=mix(u_matrix*vec4(pos_nx.xy,h,1),AWAY,hidden);\n#else\ngl_Position=u_matrix*vec4(pos_nx.xy,t > 0.0 ? height : base,1);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Se=Be("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;\n#ifdef TERRAIN\nvec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);gl_Position=mix(u_matrix*vec4(pos_nx.xy,h,1),AWAY,hidden);\n#else\ngl_Position=u_matrix*vec4(pos_nx.xy,z,1);\n#endif\nvec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),ke=Be("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Oe=Be("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Ce=Be("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);}"),Pe=Be("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_width2=vec2(outset,inset);}"),Te=Be("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),Me=Be("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Ae=Be("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Ie=Be("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));}"),je=Be("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),Re=Be("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),De=Be("uniform sampler2D u_image0;varying vec2 v_pos0;void main() {gl_FragColor=texture2D(u_image0,v_pos0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;const float skirtOffset=24575.0;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);}"),Ne=Be("#ifdef GL_ES\nprecision highp float;\n#endif\nvec4 pack_depth(float ndc_z) {float depth=ndc_z*0.5+0.5;const vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),Le=Be("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(vec3(p.xyx)*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract(vec3((p3.x+p3.y)*p3.z,(p3.x+p3.z)*p3.y,(p3.y+p3.z)*p3.x));}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;color.rgb+=rnd/255.0;return color;}float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",se),ze=Be("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform lowp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(vec3(p.xyx)*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract(vec3((p3.x+p3.y)*p3.z,(p3.x+p3.z)*p3.y,(p3.y+p3.z)*p3.x));}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;color.rgb+=rnd/255.0;return color;}void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5))*u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",se),Fe=Be("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}");function Be(t,e,n){var r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i=e.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),o=t.match(/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=e.match(/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g),s=a?a.concat(o):o;n||(s=ue.staticUniforms.concat(s));var u={};return{fragmentSource:t=t.replace(r,(function(t,e,n,r,i){return u[i]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_".concat(i,"\nvarying ").concat(n," ").concat(r," ").concat(i,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(i,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(i,"\n    ").concat(n," ").concat(r," ").concat(i," = u_").concat(i,";\n#endif\n")})),vertexSource:e=e.replace(r,(function(t,e,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return u[i]?"define"===e?"\n#ifndef HAS_UNIFORM_u_".concat(i,"\nuniform lowp float u_").concat(i,"_t;\nattribute ").concat(n," ").concat(o," a_").concat(i,";\nvarying ").concat(n," ").concat(r," ").concat(i,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(i,";\n#endif\n"):"vec4"===a?"\n#ifndef HAS_UNIFORM_u_".concat(i,"\n    ").concat(i," = a_").concat(i,";\n#else\n    ").concat(n," ").concat(r," ").concat(i," = u_").concat(i,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(i,"\n    ").concat(i," = unpack_mix_").concat(a,"(a_").concat(i,", u_").concat(i,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(i," = u_").concat(i,";\n#endif\n"):"define"===e?"\n#ifndef HAS_UNIFORM_u_".concat(i,"\nuniform lowp float u_").concat(i,"_t;\nattribute ").concat(n," ").concat(o," a_").concat(i,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(i,";\n#endif\n"):"vec4"===a?"\n#ifndef HAS_UNIFORM_u_".concat(i,"\n    ").concat(n," ").concat(r," ").concat(i," = a_").concat(i,";\n#else\n    ").concat(n," ").concat(r," ").concat(i," = u_").concat(i,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(i,"\n    ").concat(n," ").concat(r," ").concat(i," = unpack_mix_").concat(a,"(a_").concat(i,", u_").concat(i,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(i," = u_").concat(i,";\n#endif\n")})),staticAttributes:i,staticUniforms:s}}var Ue=Object.freeze({__proto__:null,get preludeTerrain(){return ue},prelude:ce,background:le,backgroundPattern:fe,circle:he,clippingMask:pe,heatmap:de,heatmapTexture:ye,collisionBox:ve,collisionCircle:ge,debug:me,fill:be,fillOutline:_e,fillOutlinePattern:xe,fillPattern:we,fillExtrusion:Ee,fillExtrusionPattern:Se,hillshadePrepare:ke,hillshade:Oe,line:Ce,lineGradient:Pe,linePattern:Te,lineSDF:Me,raster:Ae,symbolIcon:Ie,symbolSDF:je,symbolTextAndIcon:Re,terrainRaster:De,terrainDepth:Ne,skybox:Le,skyboxGradient:ze,skyboxCapture:Fe}),qe=function(){function t(){v(this,t),this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}return g(t,[{key:"bind",value:function(t,e,n,r,i,o,a,s){this.context=t;for(var u=this.boundPaintVertexBuffers.length!==r.length,c=0;!u&&c<r.length;c++)this.boundPaintVertexBuffers[c]!==r[c]&&(u=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(e,n,r,i,o,a,s)}},{key:"freshBind",value:function(t,e,n,r,i,o,a){var s,u=t.numAttributes,c=this.context,l=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=c.currentNumAttributes||0;for(var f=u;f<s;f++)l.disableVertexAttribArray(f)}e.enableAttributes(l,t);var p,d=h(n);try{for(d.s();!(p=d.n()).done;)p.value.enableAttributes(l,t)}catch(m){d.e(m)}finally{d.f()}o&&o.enableAttributes(l,t),a&&a.enableAttributes(l,t),e.bind(),e.setVertexAttribPointers(l,t,i);var y,v=h(n);try{for(v.s();!(y=v.n()).done;){var g=y.value;g.bind(),g.setVertexAttribPointers(l,t,i)}}catch(m){v.e(m)}finally{v.f()}o&&(o.bind(),o.setVertexAttribPointers(l,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(l,t,i)),c.currentNumAttributes=u}},{key:"destroy",value:function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}]),t}();function Ve(e,n){var r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new t.MercatorCoordinate(0,i/r).toLngLat().lat,new t.MercatorCoordinate(0,(i+1)/r).toLngLat().lat]}function Ge(e,n,r,i,o,a,s){var u=e.context,c=u.gl,l=r.fbo;if(l){e.prepareDrawTile(n);var f=e.useProgram("hillshade");u.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,l.colorAttachment.get());var h=function(t,e,n,r){var i=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var u=!t.options.moving;return{u_matrix:r||t.transform.calculatePosMatrix(e.tileID.toUnwrapped(),u),u_image:0,u_latrange:Ve(0,e.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}}(e,r,i,e.terrain?n.posMatrix:null);f.draw(u,c.TRIANGLES,o,a,s,t.CullFaceMode.disabled,h,i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function We(e,n,r){if(n.needsDEMTextureUpload){var i=e.context,o=i.gl;i.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(r.stride);var a=r.getPixels();n.demTexture?n.demTexture.update(a,{premultiply:!1}):n.demTexture=new t.Texture(i,a,o.RGBA,{premultiply:!1}),n.needsDEMTextureUpload=!1}}function He(e,n,r,i,o,a){var s=e.context,u=s.gl;if(n.dem){var c=n.dem;if(s.activeTexture.set(u.TEXTURE1),We(e,n,c),n.demTexture){n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);var l=c.dim;s.activeTexture.set(u.TEXTURE0);var f=n.fbo;if(!f){var h=new t.Texture(s,{width:l,height:l,data:null},u.RGBA);h.bind(u.LINEAR,u.CLAMP_TO_EDGE),(f=n.fbo=s.createFramebuffer(l,l,!0)).colorAttachment.set(h.texture)}s.bindFramebuffer.set(f.framebuffer),s.viewport.set([0,0,l,l]),e.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,i,o,a,t.CullFaceMode.disabled,function(e,n){var r=n.stride,i=t.create();return t.ortho(i,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(i,i,[0,-t.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:e.overscaledZ,u_unpack:n.unpackVector}}(n.tileID,c),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}}var Ke=function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image0:new t.Uniform1i(e,n.u_image0),u_skirt_height:new t.Uniform1f(e,n.u_skirt_height)}},Xe=function(t,e){return{u_matrix:t,u_image0:0,u_skirt_height:e}},Ye=new(function(){function t(){v(this,t),this.operations={}}return g(t,[{key:"newMorphing",value:function(t,e,n,r,i){if(t in this.operations){var o=this.operations[t];o.to.tileID.key!==n.tileID.key&&(o.queued=n)}else this.operations[t]={startTime:r,phase:0,duration:i,from:e,to:n,queued:null}}},{key:"getMorphValuesForProxy",value:function(t){if(!(t in this.operations))return null;var e=this.operations[t];return{from:e.from,to:e.to,phase:e.phase}}},{key:"update",value:function(t){for(var e in this.operations){var n=this.operations[e];for(n.phase=(t-n.startTime)/n.duration;n.phase>=1||!this._validOp(n);)if(!this._nextOp(n,t)){delete this.operations[e];break}}}},{key:"_nextOp",value:function(t,e){return!!t.queued&&(t.from=t.to,t.to=t.queued,t.queued=null,t.phase=0,t.startTime=e,!0)}},{key:"_validOp",value:function(t){return t.from.hasData()&&t.to.hasData()}}]),t}()),Ze={0:null,1:"TERRAIN_VERTEX_MORPHING"};function $e(e,n,r,i,o){var a=e.context,s=a.gl,u=e.useProgram("terrainRaster"),c=0,l=e.colorModeForRenderPass(),f=new t.DepthMode(s.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D);Ye.update(o);var p,d,y,v,g=e.transform,m=6*Math.pow(1.5,22-g.zoom)*n.exaggeration(),b=h(i);try{for(b.s();!(v=b.n()).done;){var _=v.value,x=r.getTile(_),w=t.StencilMode.disabled,E=n.prevTerrainTileForTile[_.key],S=n.terrainTileForTile[_.key];y=S,null!=(d=E)&&null!=y&&d.hasData()&&y.hasData()&&null!=d.demTexture&&null!=y.demTexture&&d.tileID.key!==y.tileID.key&&Ye.newMorphing(_.key,E,S,o,250),a.activeTexture.set(s.TEXTURE0),x.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);var k=Ye.getMorphValuesForProxy(_.key),O=k?1:0,C=void 0;k&&(C={morphing:{srcDemTile:k.from,dstDemTile:k.to,phase:t.easeCubicInOut(k.phase)}});var P=Xe(_.posMatrix,Je(_.canonical,g.renderWorldCopies)?m/10:m);c!==(p=O)&&(u=e.useProgram("terrainRaster",null,Ze[p]),c=p),n.setupElevationDraw(x,u,C),u.draw(a,s.TRIANGLES,f,w,l,t.CullFaceMode.backCCW,P,"terrain_raster",n.gridBuffer,n.gridIndexBuffer,n.gridSegments)}}catch(T){b.e(T)}finally{b.f()}}function Je(t,e){var n=1<<t.z;return!e&&(0===t.x||t.x===n-1)||0===t.y||t.y===n-1}var Qe=function(t){return{u_matrix:t}};function tn(e,n,r,i,o){if(o>0){var a=t.browser.now(),s=(a-e.timeAdded)/o,u=n?(a-n.timeAdded)/o:-1,c=r.getSource(),l=i.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),f=!n||Math.abs(n.tileID.overscaledZ-l)>Math.abs(e.tileID.overscaledZ-l),h=f&&e.refreshedUponExpiration?1:t.clamp(f?s:1-u,0,1);return e.refreshedUponExpiration&&s>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}var en={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0},nn=function(e){d(r,e);var n=y(r);function r(t){var e;v(this,r);var o=K("proxy",{type:"geojson",maxzoom:t.transform.maxZoom},new L(nt(),null),t.style);return e=n.call(this,"proxy",o,!1),o.setEventedParent(i(e)),e.map=e.getSource().map=t,e.used=e._sourceLoaded=!0,e.renderCache=[],e.renderCachePool=[],e.proxyCachedFBO={},e}return g(r,[{key:"update",value:function(e,n,r){var i=this;if(!e.freezeTileCoverage){this.transform=e;var o=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,useElevationData:!0}).reduce((function(n,r){if(n[r.key]="",!i._tiles[r.key]){var o=new t.Tile(r,i._source.tileSize*r.overscaleFactor(),e.tileZoom);o.state="loaded",i._tiles[r.key]=o}return n}),{});for(var a in this._tiles)a in o||(this.freeFBO(a),this._tiles[a].state="unloaded",delete this._tiles[a])}}},{key:"freeFBO",value:function(t){var e=this.proxyCachedFBO[t];void 0!==e&&(this.renderCachePool.push(e),delete this.proxyCachedFBO[t])}},{key:"deallocRenderCache",value:function(){this.renderCache.forEach((function(t){return t.fb.destroy()})),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}]),r}(t.SourceCache),rn=function(t){d(n,t);var e=y(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)).proxyTileKey=r,o.posMatrix=i,o}return n}(t.OverscaledTileID),on=function(e){d(r,e);var n=y(r);function r(e,o){var a;v(this,r),(a=n.call(this)).painter=e,a.terrainTileForTile={},a.prevTerrainTileForTile={};var s=function(e){var n=new t.StructArrayLayout4i8,r=new t.StructArrayLayout3ui6;n.reserve(17161),r.reserve(33800);for(var i=t.EXTENT/128,o=t.EXTENT+i/2,a=o+i,s=-i;s<a;s+=i)for(var u=-i;u<a;u+=i){var c=u<0||u>o||s<0||s>o?24575:0,l=t.clamp(Math.round(u),0,t.EXTENT),f=t.clamp(Math.round(s),0,t.EXTENT);n.emplaceBack(l+c,f,l,f)}for(var h=function(t,e){var n=131*e+t;r.emplaceBack(n+1,n,n+131),r.emplaceBack(n+131,n+131+1,n+1)},p=1;p<129;p++)for(var d=1;d<129;d++)h(d,p);return[0,129].forEach((function(t){for(var e=0;e<130;e++)h(e,t),h(t,e)})),[n,r,32768]}(),u=f(s,3),c=u[0],l=u[1],h=u[2],p=e.context;a.gridBuffer=p.createVertexBuffer(c,G.members),a.gridIndexBuffer=p.createIndexBuffer(l),a.gridSegments=t.SegmentVector.simpleSegment(0,0,c.length,l.length),a.gridNoSkirtSegments=t.SegmentVector.simpleSegment(0,0,c.length,h),a.proxyCoords=[],a.proxiedCoords={},a._visibleDemTiles=[],a._sourceTilesOverlap={},a.proxySourceCache=new nn(o.map),a.orthoMatrix=t.create(),t.ortho(a.orthoMatrix,0,t.EXTENT,0,t.EXTENT,0,1);var d=p.gl;return a._overlapStencilMode=new t.StencilMode({func:d.GEQUAL,mask:255},0,255,d.KEEP,d.KEEP,d.REPLACE),a._previousZoom=e.transform.zoom,a.pool=[],a._findCoveringTileCache={},a._tilesDirty={},a.style=o,o.on("data",a._onStyleDataEvent.bind(i(a))),a}return g(r,[{key:"update",value:function(e,n,r){var i=this;if(e&&e.terrain){this.style!==e&&(e.on("data",this._onStyleDataEvent.bind(this)),this.style=e),this.enabled=!0;var o=e.terrain.properties;this.sourceCache=e._getSourceCache(o.get("source")),this._exaggeration=o.get("exaggeration");var a=function(){i.sourceCache.used&&t.warnOnce("Raster DEM source '".concat(i.sourceCache.id,"' is used both for terrain and as layer source.\n")+"This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.");var e=i.sourceCache.getSource().tileSize/128,r=i.proxySourceCache.getSource().tileSize;i.sourceCache.update(n,e*r,!0),i._findCoveringTileCache[i.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,a(),this._initializing=!0),a(),n.updateElevation(!r),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(n),this._depthDone=!1,this._emptyDEMTextureDirty=!0}else this._disable()}},{key:"_onStyleDataEvent",value:function(t){t.coord&&"source"===t.dataType?this._clearRenderCacheForTile(t.sourceCacheId,t.coord):"style"===t.dataType&&(this._invalidateRenderCache=!0)}},{key:"_disable",value:function(){if(this.enabled&&(this.enabled=!1,this.proxySourceCache.deallocRenderCache(),this.painter.style))for(var t in this.painter.style._sourceCaches)this.painter.style._sourceCaches[t].usedForTerrain=!1}},{key:"destroy",value:function(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach((function(t){return t.fb.destroy()})),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}},{key:"_source",value:function(){return this.enabled?this.sourceCache:null}},{key:"exaggeration",value:function(){return this._exaggeration}},{key:"updateTileBinding",value:function(e){var n=this;if(this.enabled){this.prevTerrainTileForTile=this.terrainTileForTile;var r=this.proxySourceCache,i=this.painter.transform;this._initializing&&(this._initializing=0===i._centerAltitude&&-1===this.getAtPoint(t.MercatorCoordinate.fromLngLat(i.center),-1),this._emptyDEMTextureDirty=!this._initializing);var o=this.painter.options;this.drapeFirst=(o.zooming||o.moving||o.rotating||!!this.forceDrapeFirst)&&!this._invalidateRenderCache,this._invalidateRenderCache=!1;var a=this.proxyCoords=r.getIds().map((function(t){var e=r.getTileByID(t).tileID;return e.posMatrix=i.calculatePosMatrix(e.toUnwrapped()),e}));!function(e,n){var r=n.transform.pointCoordinate(n.transform.getCameraPoint()),i=new t.Point(r.x,r.y);e.sort((function(e,n){if(n.overscaledZ-e.overscaledZ)return n.overscaledZ-e.overscaledZ;var r=new t.Point(e.canonical.x+(1<<e.canonical.z)*e.wrap,e.canonical.y),o=new t.Point(n.canonical.x+(1<<n.canonical.z)*n.wrap,n.canonical.y),a=i.mult(1<<e.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(r)-a.distSqr(o)}))}(a,this.painter),this._previousZoom=i.zoom;var s=this.proxyToSource||{};this.proxyToSource={},a.forEach((function(t){n.proxyToSource[t.key]={}})),this.terrainTileForTile={};var u=this.painter.style._sourceCaches;for(var c in u){var l=u[c];if(l.used&&(l!==this.sourceCache&&(this._findCoveringTileCache[l.id]={}),this._setupProxiedCoordsForOrtho(l,e[c],s),!l.usedForTerrain)){var f=e[c];l.getSource().reparseOverscaled&&this._assignTerrainTiles(f)}}this.proxiedCoords[r.id]=a.map((function(t){return new rn(t,t.key,n.orthoMatrix)})),this._assignTerrainTiles(a),this._prepareDEMTextures(),this._setupRenderCache(s),this.drapeFirstPending=this.drapeFirst,this.renderingToTexture=!1,this._initFBOPool(),this._updateTimestamp=t.browser.now();var p={};this._visibleDemTiles=[];var d,y=h(this.proxyCoords);try{for(y.s();!(d=y.n()).done;){var v=d.value,g=this.terrainTileForTile[v.key];if(g){var m=g.tileID.key;m in p||(this._visibleDemTiles.push(g),p[m]=m)}}}catch(b){y.e(b)}finally{y.f()}}}},{key:"_assignTerrainTiles",value:function(t){var e=this;this._initializing||t.forEach((function(t){if(!e.terrainTileForTile[t.key]){var n=e._findTileCoveringTileID(t,e.sourceCache);n&&(e.terrainTileForTile[t.key]=n)}}))}},{key:"_prepareDEMTextures",value:function(){var t=this.painter.context,e=t.gl;for(var n in this.terrainTileForTile){var r=this.terrainTileForTile[n],i=r.dem;!i||r.demTexture&&!r.needsDEMTextureUpload||(t.activeTexture.set(e.TEXTURE1),We(this.painter,r,i))}}},{key:"_prepareDemTileUniforms",value:function(t,e,n,r){if(!e||null==e.demTexture)return!1;var i=t.tileID.canonical,o=Math.pow(2,e.tileID.canonical.z-i.z),a=r||"";return n["u_dem_tl".concat(a)]=[i.x*o%1,i.y*o%1],n["u_dem_scale".concat(a)]=o,!0}},{key:"_getLoadedAreaMinimum",value:function(){var t=0,e=this._visibleDemTiles.reduce((function(e,n){if(!n.dem)return e;var r=n.dem.tree.minimums[0];return r>0&&t++,e+r}),0);return t?e/t:0}},{key:"_updateEmptyDEMTexture",value:function(){var e=this.painter.context,n=e.gl;e.activeTexture.set(n.TEXTURE2);var r=this._getLoadedAreaMinimum(),i={width:1,height:1,data:new Uint8Array(t.DEMData.pack(r,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;var o=this._emptyDEMTexture;return o?o.update(i,{premultiply:!1}):o=this._emptyDEMTexture=new t.Texture(e,i,n.RGBA,{premultiply:!1}),o}},{key:"setupElevationDraw",value:function(e,n,r){var i,o=this.painter.context,a=o.gl,s=(i=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:t.DEMData.getUnpackVector(i),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});s.u_dem_size=this.sourceCache.getSource().tileSize,s.u_exaggeration=this.exaggeration();var u=null,c=null,l=1;if(r&&r.morphing){var f=r.morphing.srcDemTile,h=r.morphing.dstDemTile;l=r.morphing.phase,f&&h&&(this._prepareDemTileUniforms(e,f,s,"_prev")&&(c=f),this._prepareDemTileUniforms(e,h,s)&&(u=h))}if(c&&u?(o.activeTexture.set(a.TEXTURE2),u.demTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),o.activeTexture.set(a.TEXTURE4),c.demTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),s.u_dem_lerp=l):(u=this.terrainTileForTile[e.tileID.key],o.activeTexture.set(a.TEXTURE2),(this._prepareDemTileUniforms(e,u,s)?u.demTexture:this.emptyDEMTexture).bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST)),r&&r.useDepthForOcclusion&&(o.activeTexture.set(a.TEXTURE3),this._depthTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),s.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),r&&r.useMeterToDem&&u){var p=(1<<u.tileID.canonical.z)*t.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;s.u_meter_to_dem=p}r&&r.labelPlaneMatrixInv&&(s.u_label_plane_matrix_inv=r.labelPlaneMatrixInv),n.setTerrainUniformValues(o,s)}},{key:"renderLayer",value:function(t,e){return"translucent"!==this.painter.renderPass?(this._depthDone||"symbol"!==t.type&&"circle"!==t.type||this.drawDepth(),!0):this.drapeFirst&&this.drapeFirstPending?(this.render(),this.drapeFirstPending=!1,!0):!!this._isLayerDrapedOverTerrain(t)&&(this.drapeFirst&&!this.renderingToTexture||this.render(),!0)}},{key:"render",value:function(){var e=this;this.renderingToTexture=!0;for(var n=this.painter,r=this.painter.context,i=this.proxySourceCache,o=this.proxiedCoords[i.id],a=function(){r.bindFramebuffer.set(null),r.viewport.set([0,0,n.width,n.height]),e.renderingToTexture=!1},s=n.currentLayer,u=s,c=[],l=n.style._order,f=0,h=0;h<o.length;h++){var p=o[h],d=i.getTileByID(p.proxyTileKey),y=i.proxyCachedFBO[p.key],v=this.currentFBO=void 0!==y?i.renderCache[y]:this.pool[f++];if(d.texture=v.tex,void 0===y||v.dirty){var g=void 0;for(r.bindFramebuffer.set(v.fb.framebuffer),this.renderedToTile=!1,v.dirty&&(r.clear({color:t.Color.transparent}),v.dirty=!1),n.currentLayer=s;n.currentLayer<l.length;n.currentLayer++){var m=n.style._layers[l[n.currentLayer]],b=m.isHidden(n.transform.zoom),_=this._isLayerDrapedOverTerrain(m);if(!this.drapeFirst||_){if(n.currentLayer>u){if(!b&&!_)break;u++}if(!b){var x=this.painter.style._getLayerSourceCache(m),w=x?this.proxyToSource[p.key][x.id]:[p];if(w){var E=w;r.viewport.set([0,0,v.fb.width,v.fb.height]),g!==(x?x.id:null)&&(this._setupStencil(w,m,x),g=x?x.id:null),n.renderLayer(n,x,m,E)}}}}v.dirty=this.renderedToTile,this.renderedToTile&&c.push(d.tileID),5===f&&(f=0,c.length>0&&(a(),$e(n,this,i,c,this._updateTimestamp),this.renderingToTexture=!0,c=[]))}else c.push(d.tileID)}a(),c.length>0&&$e(n,this,i,c,this._updateTimestamp),n.currentLayer=this.drapeFirst?-1:u}},{key:"raycast",value:function(t,e,n){if(!this._visibleDemTiles)return null;var r=this._visibleDemTiles.filter((function(t){return t.dem})).map((function(r){var i=r.tileID,o=Math.pow(2,i.overscaledZ),a=i.canonical,s=a.x,u=a.y,c=s/o,l=(s+1)/o,f=u/o,h=(u+1)/o;return{minx:c,miny:f,maxx:l,maxy:h,t:r.dem.tree.raycastRoot(c,f,l,h,t,e,n),tile:r}}));r.sort((function(t,e){return(null!==t.t?t.t:Number.MAX_VALUE)-(null!==e.t?e.t:Number.MAX_VALUE)}));var i,o=h(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(null==a.t)return null;var s=a.tile.dem.tree.raycast(a.minx,a.miny,a.maxx,a.maxy,t,e,n);if(null!=s)return s}}catch(u){o.e(u)}finally{o.f()}return null}},{key:"_createFBO",value:function(){var e=this.painter.context,n=e.gl,r=this.drapeBufferSize;e.activeTexture.set(n.TEXTURE0);var i=new t.Texture(e,{width:r[0],height:r[1],data:null},n.RGBA);i.bind(n.LINEAR,n.CLAMP_TO_EDGE);var o=e.createFramebuffer(r[0],r[1],!1);return o.colorAttachment.set(i.texture),e.extTextureFilterAnisotropic&&!e.extTextureFilterAnisotropicForceOff&&n.texParameterf(n.TEXTURE_2D,e.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.extTextureFilterAnisotropicMax),{fb:o,tex:i,dirty:!1,ref:1}}},{key:"_initFBOPool",value:function(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}},{key:"_shouldDisableRenderCache",value:function(){var t=this;return!this.drapeFirst||this.painter.style._order.some((function(e){var n=t.painter.style._layers[e],r=!n.isHidden(t.painter.transform.zoom),i=n.getCrossfadeParameters();return"custom"!==n.type&&!r&&!!i&&1!==i.t}))}},{key:"_clearRasterFadeFromRenderCache",value:function(){for(var t in this.painter.style._sourceCaches)if(!(this.painter.style._sourceCaches[t]._source instanceof V))return;for(var e=0;e<this.painter.style._order.length;++e){var n=this.painter.style._layers[this.painter.style._order[e]],r=n.isHidden(this.painter.transform.zoom),i=this.painter.style._getLayerSourceCache(n);if("raster"===n.type&&!r&&i){var o,a=n.paint.get("raster-fade-duration"),s=h(this.proxyCoords);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=this.proxyToSource[u.key][i.id];if(c){var l,f=h(c);try{for(f.s();!(l=f.n()).done;){var p=l.value,d=tn(i.getTile(p),i.findLoadedParent(p,0),i,this.painter.transform,a);(1!==d.opacity||0!==d.mix)&&this._clearRenderCacheForTile(i.id,p)}}catch(y){f.e(y)}finally{f.f()}}}}catch(y){s.e(y)}finally{s.f()}}}}},{key:"_setupRenderCache",value:function(t){var e=this.proxySourceCache;if(this._shouldDisableRenderCache()){if(e.renderCache.length>e.renderCachePool.length){var n=Object.values(e.proxyCachedFBO);e.proxyCachedFBO={},e.renderCachePool=e.renderCachePool.concat(n)}}else{this._clearRasterFadeFromRenderCache();for(var r=this.proxyCoords,i=this._tilesDirty,o=r.length-1;o>=0;o--){var a=r[o];if(e.getTileByID(a.key),void 0!==e.proxyCachedFBO[a.key]){var s=t[a.key],u=this.proxyToSource[a.key],c=0,l=function(t){var e=u[t],n=s[t];if(!n||n.length!==e.length||e.some((function(e,r){return e!==n[r]||i[t]&&i[t].hasOwnProperty(e.key)})))return c=-1,"break";++c};for(var f in u)if("break"===l(f))break;e.renderCache[e.proxyCachedFBO[a.key]].dirty=c<0||c!==Object.values(s).length}else{var h=e.renderCachePool.pop();void 0===h&&e.renderCache.length<50&&(h=e.renderCache.length,e.renderCache.push(this._createFBO())),void 0!==h&&(e.proxyCachedFBO[a.key]=h,e.renderCache[h].dirty=!0)}}this._tilesDirty={}}}},{key:"_setupStencil",value:function(e,n,r){if(r&&this._sourceTilesOverlap[r.id]){var i=this.painter.context,o=i.gl;if(e.length<=1)this._overlapStencilType=!1;else{var a,s=this.currentFBO,u=s.fb;if(n.isTileClipped())a=e.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(e[0].overscaledZ>e[e.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType="Mask"}if(!u.depthAttachment){var c=i.createRenderbuffer(i.gl.DEPTH_STENCIL,u.width,u.height);u.depthAttachment=new t.DepthStencilAttachment(i,u.framebuffer),u.depthAttachment.set(c),i.clear({stencil:0})}s.ref+a>255&&(i.clear({stencil:0}),s.ref=0),s.ref+=a,this._overlapStencilMode.ref=s.ref,n.isTileClipped()&&this._renderTileClippingMasks(e,this._overlapStencilMode.ref)}}else this._overlapStencilType&&(this._overlapStencilType=!1)}},{key:"stencilModeForRTTOverlap",value:function(e){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[e.key]),this._overlapStencilMode):t.StencilMode.disabled}},{key:"_renderTileClippingMasks",value:function(e,n){var r=this.painter,i=this.painter.context,o=i.gl;r._tileClippingMaskIDs={},i.setColorMode(t.ColorMode.disabled),i.setDepthMode(t.DepthMode.disabled);var a,s=r.useProgram("clippingMask"),u=h(e);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=r._tileClippingMaskIDs[c.key]=--n;s.draw(i,o.TRIANGLES,t.DepthMode.disabled,new t.StencilMode({func:o.ALWAYS,mask:0},l,255,o.KEEP,o.KEEP,o.REPLACE),t.ColorMode.disabled,t.CullFaceMode.disabled,Qe(c.posMatrix),"$clipping",r.tileExtentBuffer,r.quadTriangleIndexBuffer,r.tileExtentSegments)}}catch(f){u.e(f)}finally{u.f()}}},{key:"pointCoordinate",value:function(e){var n=this.painter.transform;if(e.x<0||e.x>n.width||e.y<0||e.y>n.height)return null;var r=[e.x,e.y,1,1];t.transformMat4(r,r,n.pixelMatrixInverse),t.scale$1(r,r,1/r[3]),r[0]/=n.worldSize,r[1]/=n.worldSize;var i=n._camera.position,o=t.mercatorZfromAltitude(1,n.center.lat),a=[i[0],i[1],i[2]/o,0],s=t.subtract([],r.slice(0,3),a);t.normalize(s,s);var u=this.raycast(a,s,this._exaggeration);return null!==u&&u?(t.scaleAndAdd(a,a,s,u),a[3]=a[2],a[2]*=o,a):null}},{key:"drawDepth",value:function(){var e=this.painter,n=e.context,r=this.proxySourceCache,i=Math.ceil(e.width),o=Math.ceil(e.height);if(!this._depthFBO||this._depthFBO.width===i&&this._depthFBO.height===o||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){var a=n.gl,s=n.createFramebuffer(i,o,!0);n.activeTexture.set(a.TEXTURE0);var u=new t.Texture(n,{width:i,height:o,data:null},a.RGBA);u.bind(a.NEAREST,a.CLAMP_TO_EDGE),s.colorAttachment.set(u.texture);var c=n.createRenderbuffer(n.gl.DEPTH_COMPONENT16,i,o);s.depthAttachment.set(c),this._depthFBO=s,this._depthTexture=u}n.bindFramebuffer.set(this._depthFBO.framebuffer),n.viewport.set([0,0,i,o]),function(e,n,r,i){var o=e.context,a=o.gl;o.clear({depth:1});var s,u=e.useProgram("terrainDepth"),c=new t.DepthMode(a.LESS,t.DepthMode.ReadWrite,e.depthRangeFor3D),l=h(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,p=r.getTile(f),d=Xe(f.posMatrix,0);n.setupElevationDraw(p,u),u.draw(o,a.TRIANGLES,c,t.StencilMode.disabled,t.ColorMode.unblended,t.CullFaceMode.backCCW,d,"terrain_depth",n.gridBuffer,n.gridIndexBuffer,n.gridNoSkirtSegments)}}catch(y){l.e(y)}finally{l.f()}}(e,this,r,this.proxyCoords),n.bindFramebuffer.set(null),n.viewport.set([0,0,e.width,e.height]),this._depthDone=!0}},{key:"_isLayerDrapedOverTerrain",value:function(t){return!!this.enabled&&en.hasOwnProperty(t.type)}},{key:"_setupProxiedCoordsForOrtho",value:function(t,e,n){if(t.getSource()instanceof W)return this._setupProxiedCoordsForImageSource(t,e,n);this._findCoveringTileCache[t.id]=this._findCoveringTileCache[t.id]||{};for(var r=this.proxiedCoords[t.id]=[],i=this.proxyCoords,o=0;o<i.length;o++){var a=i[o],s=this._findTileCoveringTileID(a,t);if(s){var u=this._createProxiedId(a,s,n[a.key]&&n[a.key][t.id]);r.push(u),this.proxyToSource[a.key][t.id]=[u]}}for(var c=!1,l=0;l<e.length;l++){var f=t.getTile(e[l]);if(f&&f.hasData()){var h=this._findTileCoveringTileID(f.tileID,this.proxySourceCache);if(h&&h.tileID.canonical.z!==f.tileID.canonical.z){var p=this.proxyToSource[h.tileID.key][t.id],d=this._createProxiedId(h.tileID,f,n[h.tileID.key]&&n[h.tileID.key][t.id]);p?p.splice(p.length-1,0,d):this.proxyToSource[h.tileID.key][t.id]=[d],r.push(d),c=!0}}}this._sourceTilesOverlap[t.id]=c}},{key:"_setupProxiedCoordsForImageSource",value:function(e,n,r){if(e.getSource().loaded())for(var i=this.proxiedCoords[e.id]=[],o=this.proxyCoords,a=e.getSource(),s=new t.Point(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),u=a.coordinates.map(t.MercatorCoordinate.fromLngLat).reduce((function(t,e){return t.min.x=Math.min(t.min.x,e.x-s.x),t.min.y=Math.min(t.min.y,e.y-s.y),t.max.x=Math.max(t.max.x,e.x-s.x),t.max.y=Math.max(t.max.y,e.y-s.y),t}),{min:new t.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new t.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=function(e,n){var r=e.wrap+e.canonical.x/(1<<e.canonical.z),i=e.canonical.y/(1<<e.canonical.z),o=t.EXTENT/(1<<e.canonical.z),a=n.wrap+n.canonical.x/(1<<n.canonical.z),s=n.canonical.y/(1<<n.canonical.z);return r+o<a+u.min.x||r>a+u.max.x||i+o<s+u.min.y||i>s+u.max.y},l=0;l<o.length;l++)for(var f=o[l],h=0;h<n.length;h++){var p=e.getTile(n[h]);if(p&&p.hasData()&&!c(f,p.tileID)){var d=this._createProxiedId(f,p,r[f.key]&&r[f.key][e.id]),y=this.proxyToSource[f.key][e.id];y?y.push(d):this.proxyToSource[f.key][e.id]=[d],i.push(d)}}}},{key:"_createProxiedId",value:function(e,n,r){var i=this.orthoMatrix;if(r){var o=r.find((function(t){return t.key===n.tileID.key}));if(o)return o}if(n.tileID.key!==e.key){var a,s,u,c=e.canonical.z-n.tileID.canonical.z;i=t.create();var l=n.tileID.wrap-e.wrap<<e.overscaledZ;c>0?(s=(a=t.EXTENT>>c)*((n.tileID.canonical.x<<c)-e.canonical.x+l),u=a*((n.tileID.canonical.y<<c)-e.canonical.y)):(a=t.EXTENT<<-c,s=t.EXTENT*(n.tileID.canonical.x-(e.canonical.x+l<<-c)),u=t.EXTENT*(n.tileID.canonical.y-(e.canonical.y<<-c))),t.ortho(i,0,a,0,a,0,1),t.translate(i,i,[s,u,0])}return new rn(n.tileID,e.key,i)}},{key:"_findTileCoveringTileID",value:function(e,n){var r=n.getTile(e);if(r&&r.hasData())return r;var i=this._findCoveringTileCache[n.id],o=i[e.key];if((r=o?n.getTileByID(o):null)&&r.hasData()||null===o)return r;var a=r?r.tileID:e,s=a.overscaledZ,u=n.getSource().minzoom,c=[];if(!o){var l=n.getSource().maxzoom;if(e.canonical.z>=l){var f=e.canonical.z-l;n.getSource().reparseOverscaled?(s=Math.max(e.canonical.z+2,n.transform.tileZoom),a=new t.OverscaledTileID(s,e.wrap,l,e.canonical.x>>f,e.canonical.y>>f)):0!==f&&(s=l,a=new t.OverscaledTileID(s,e.wrap,l,e.canonical.x>>f,e.canonical.y>>f))}a.key!==e.key&&(c.push(a.key),r=n.getTile(a))}var h=function(t){c.forEach((function(e){i[e]=t})),c.length=0};for(s-=1;s>=u&&(!r||!r.hasData());s--){r&&h(r.tileID.key);var p=a.calculateScaledKey(s);if((r=n.getTileByID(p))&&r.hasData())break;var d=i[p];if(null===d)break;void 0===d?c.push(p):r=n.getTileByID(d)}return h(r?r.tileID.key:null),r&&r.hasData()?r:null}},{key:"findDEMTileFor",value:function(t){return this.enabled?this._findTileCoveringTileID(t,this.sourceCache):null}},{key:"prepareDrawTile",value:function(t){this.renderedToTile||(this.renderedToTile=!0)}},{key:"_clearRenderCacheForTile",value:function(t,e){var n=this._tilesDirty[t];n||(n=this._tilesDirty[t]={}),n[e.key]=!0}},{key:"visibleDemTiles",get:function(){return this._visibleDemTiles}},{key:"drapeBufferSize",get:function(){var t=2*this.proxySourceCache.getSource().tileSize;return[t,t]}},{key:"emptyDEMTexture",get:function(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}}]),r}(t.Elevation);function an(t){for(var e=[],n=0;n<t.length;n++)if(null!==t[n]){var r=t[n].split(" ");e.push(r.pop())}return e}var sn=function(){function e(n,r,i,o,a,s){v(this,e);var u=n.gl;this.program=u.createProgram();var c,l=an(i.staticAttributes),f=o?o.getBinderAttributes():[],p=l.concat(f),d=i.staticUniforms?an(i.staticUniforms):[],y=o?o.getBinderUniforms():[],g=d.concat(y),m=[],b=h(g);try{for(b.s();!(c=b.n()).done;){var _=c.value;m.indexOf(_)<0&&m.push(_)}}catch(A){b.e(A)}finally{b.f()}var x=o?o.defines():[],w=(x=x.concat(s.map((function(t){return"#define ".concat(t)})))).concat(ce.fragmentSource,i.fragmentSource).join("\n"),E=x.concat(ce.vertexSource,ue.vertexSource,i.vertexSource).join("\n"),S=u.createShader(u.FRAGMENT_SHADER);if(u.isContextLost())this.failedToCreate=!0;else{u.shaderSource(S,w),u.compileShader(S),u.attachShader(this.program,S);var k=u.createShader(u.VERTEX_SHADER);if(u.isContextLost())this.failedToCreate=!0;else{u.shaderSource(k,E),u.compileShader(k),u.attachShader(this.program,k),this.attributes={};var O={};this.numAttributes=p.length;for(var C=0;C<this.numAttributes;C++)p[C]&&(u.bindAttribLocation(this.program,C,p[C]),this.attributes[p[C]]=C);u.linkProgram(this.program),u.deleteShader(k),u.deleteShader(S);for(var P=0;P<m.length;P++){var T=m[P];if(T&&!O[T]){var M=u.getUniformLocation(this.program,T);M&&(O[T]=M)}}this.fixedUniforms=a(n,O),this.binderUniforms=o?o.getUniforms(n,O):[],-1!==s.indexOf("TERRAIN")&&(this.terrainUniforms=function(e,n){return{u_dem:new t.Uniform1i(e,n.u_dem),u_dem_prev:new t.Uniform1i(e,n.u_dem_prev),u_dem_unpack:new t.Uniform4f(e,n.u_dem_unpack),u_dem_tl:new t.Uniform2f(e,n.u_dem_tl),u_dem_scale:new t.Uniform1f(e,n.u_dem_scale),u_dem_tl_prev:new t.Uniform2f(e,n.u_dem_tl_prev),u_dem_scale_prev:new t.Uniform1f(e,n.u_dem_scale_prev),u_dem_size:new t.Uniform1f(e,n.u_dem_size),u_dem_lerp:new t.Uniform1f(e,n.u_dem_lerp),u_exaggeration:new t.Uniform1f(e,n.u_exaggeration),u_depth:new t.Uniform1i(e,n.u_depth),u_depth_size_inv:new t.Uniform2f(e,n.u_depth_size_inv),u_meter_to_dem:new t.Uniform1f(e,n.u_meter_to_dem),u_label_plane_matrix_inv:new t.UniformMatrix4f(e,n.u_label_plane_matrix_inv)}}(n,O))}}}return g(e,null,[{key:"cacheKey",value:function(t,e,n){var r,i="".concat(t).concat(n?n.cacheKey:""),o=h(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;i+="/".concat(a)}}catch(s){o.e(s)}finally{o.f()}return i}}]),g(e,[{key:"setTerrainUniformValues",value:function(t,e){if(this.terrainUniforms){var n=this.terrainUniforms;if(!this.failedToCreate)for(var r in t.program.set(this.program),e)n[r].set(e[r])}}},{key:"draw",value:function(t,e,n,i,o,a,s,u,c,l,f,p,d,y,v,g){var m,b=t.gl;if(!this.failedToCreate){for(var _ in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(i),t.setColorMode(o),t.setCullFace(a),this.fixedUniforms)this.fixedUniforms[_].set(s[_]);y&&y.setUniforms(t,this.binderUniforms,p,{zoom:d});var x,w=(m={},r(m,b.LINES,2),r(m,b.TRIANGLES,3),r(m,b.LINE_STRIP,1),m)[e],E=h(f.get());try{for(E.s();!(x=E.n()).done;){var S=x.value,k=S.vaos||(S.vaos={});(k[u]||(k[u]=new qe)).bind(t,this,c,y?y.getPaintVertexBuffers():[],l,S.vertexOffset,v,g),b.drawElements(e,S.primitiveLength*w,b.UNSIGNED_SHORT,S.primitiveOffset*w*2)}}catch(O){E.e(O)}finally{E.f()}}}}]),e}();function un(t,e,n){var r=1/z(n,1,e.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,e.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}var cn=function(e,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],u=t.create$1();"viewport"===o.properties.get("anchor")&&(t.fromRotation(u,-n.transform.angle),t.transformMat3(s,s,u));var c=o.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+r,u_opacity:i}},ln=function(e,n,r,i,o,a,s){return t.extend(cn(e,n,r,i),un(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},fn=function(t){return{u_matrix:t}},hn=function(e,n,r,i){return t.extend(fn(e),un(r,n,i))},pn=function(t,e){return{u_matrix:t,u_world:e}},dn=function(e,n,r,i,o){return t.extend(hn(e,n,r,i),{u_world:o})},yn=function(e,n,r,i){var o,a=e.transform;if("map"===i.paint.get("circle-pitch-alignment")){var s=z(r,1,a.zoom);o=[s,s]}else o=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_matrix:e.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:o}},vn=function(t){var e=[];return"map"===t.paint.get("circle-pitch-alignment")&&e.push("PITCH_WITH_MAP"),"map"===t.paint.get("circle-pitch-scale")&&e.push("SCALE_WITH_MAP"),e},gn=function(e,n,r){var i=t.EXTENT/r.tileSize;return{u_matrix:e,u_camera_to_center_distance:n.cameraToCenterDistance,u_extrude_scale:[n.pixelsToGLUnits[0]/i,n.pixelsToGLUnits[1]/i]}},mn=function(t,e){return{u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}},bn=function(t,e,n,r){return{u_matrix:t,u_extrude_scale:z(e,1,n),u_intensity:r}},_n=function(e,n,r,i){var o=e.transform;return{u_matrix:kn(e,n,r,i),u_ratio:1/z(n,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},xn=function(e,n,r,i,o){return t.extend(_n(e,n,r,i),{u_image:0,u_image_height:o})},wn=function(e,n,r,i,o){var a=e.transform,s=Sn(n,a);return{u_matrix:kn(e,n,r,o),u_texsize:n.imageAtlasTexture.size,u_ratio:1/z(n,1,a.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[s,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},En=function(e,n,r,i,o,a){var s=e.lineAtlas,u=Sn(n,e.transform),c="round"===r.layout.get("line-cap"),l=s.getDash(i.from,c),f=s.getDash(i.to,c),h=l.width*o.fromScale,p=f.width*o.toScale;return t.extend(_n(e,n,r,a),{u_patternscale_a:[u/h,-l.height/2],u_patternscale_b:[u/p,-f.height/2],u_sdfgamma:s.width/(256*Math.min(h,p)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:f.y,u_mix:o.t})};function Sn(t,e){return 1/z(t,1,e.tileZoom)}function kn(t,e,n,r){return t.translatePosMatrix(r||e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var On=function(t,e,n,r,i){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Cn(i.paint.get("raster-hue-rotate"))};var o,a};function Cn(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var Pn,Tn=function(t,e,n,r,i,o,a,s,u,c){var l=i.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:l.cameraToCenterDistance,u_pitch:l.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:l.width/l.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+r,u_texsize:c,u_texture:0}},Mn=function(e,n,r,i,o,a,s,u,c,l,f){var h=o.transform;return t.extend(Tn(e,n,r,i,o,a,s,u,c,l),{u_gamma_scale:i?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+f})},An=function(e,n,r,i,o,a,s,u,c,l){return t.extend(Mn(e,n,r,i,o,a,s,u,!0,c,!0),{u_texsize_icon:l,u_texture_icon:1})},In=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},jn=function(e,n,r,i,o,a){return t.extend(function(t,e,n,r){var i=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,u=a.height,c=Math.pow(2,r.tileID.overscaledZ),l=r.tileSize*Math.pow(2,n.transform.tileZoom)/c,f=l*(r.tileID.canonical.x+r.tileID.wrap*c),h=l*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,u],u_mix:e.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/z(r,1,n.transform.tileZoom),u_pixel_coord_upper:[f>>16,h>>16],u_pixel_coord_lower:[65535&f,65535&h]}}(i,a,r,o),{u_matrix:e,u_opacity:n})},Rn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale)}},collisionCircle:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,n.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,n.u_viewport_size)}},debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_overlay:new t.Uniform1i(e,n.u_overlay),u_overlay_scale:new t.Uniform1f(e,n.u_overlay_scale)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image),u_image_height:new t.Uniform1f(e,n.u_image_height)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},symbolTextAndIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texsize_icon:new t.Uniform2f(e,n.u_texsize_icon),u_texture:new t.Uniform1i(e,n.u_texture),u_texture_icon:new t.Uniform1i(e,n.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}},terrainRaster:Ke,terrainDepth:Ke,skybox:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_sun_direction:new t.Uniform3f(e,n.u_sun_direction),u_cubemap:new t.Uniform1i(e,n.u_cubemap),u_opacity:new t.Uniform1f(e,n.u_opacity),u_temporal_offset:new t.Uniform1f(e,n.u_temporal_offset)}},skyboxGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_center_direction:new t.Uniform3f(e,n.u_center_direction),u_radius:new t.Uniform1f(e,n.u_radius),u_opacity:new t.Uniform1f(e,n.u_opacity),u_temporal_offset:new t.Uniform1f(e,n.u_temporal_offset)}},skyboxCapture:function(e,n){return{u_matrix_3f:new t.UniformMatrix3f(e,n.u_matrix_3f),u_sun_direction:new t.Uniform3f(e,n.u_sun_direction),u_sun_intensity:new t.Uniform1f(e,n.u_sun_intensity),u_color_tint_r:new t.Uniform4f(e,n.u_color_tint_r),u_color_tint_m:new t.Uniform4f(e,n.u_color_tint_m),u_luminance:new t.Uniform1f(e,n.u_luminance)}}};function Dn(e,n,r,i,o,a,s){for(var u=e.context,c=u.gl,l=e.useProgram("collisionBox"),f=[],h=0,p=0,d=0;d<i.length;d++){var y=i[d],v=n.getTile(y),g=v.getBucket(r);if(g){var m=y.posMatrix;0===o[0]&&0===o[1]||(m=e.translatePosMatrix(y.posMatrix,v,o,a));var b=s?g.textCollisionBox:g.iconCollisionBox,_=g.collisionCircleArray;if(_.length>0){var x=t.create(),w=m;t.mul(x,g.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(x,x,g.placementViewportMatrix),f.push({circleArray:_,circleOffset:p,transform:w,invTransform:x}),p=h+=_.length/4}b&&(e.terrain&&e.terrain.setupElevationDraw(v,l),l.draw(u,c.LINES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,gn(m,e.transform,v),r.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,e.transform.zoom,null,b.collisionVertexBuffer,b.collisionVertexBufferExt))}}if(s&&f.length){var E=e.useProgram("collisionCircle"),S=new t.StructArrayLayout2f1f2i16;S.resize(4*h),S._trim();for(var k=0,O=0,C=f;O<C.length;O++)for(var P=C[O],T=0;T<P.circleArray.length/4;T++){var M=4*T,A=P.circleArray[M+0],I=P.circleArray[M+1],j=P.circleArray[M+2],R=P.circleArray[M+3];S.emplace(k++,A,I,j,R,0),S.emplace(k++,A,I,j,R,1),S.emplace(k++,A,I,j,R,2),S.emplace(k++,A,I,j,R,3)}(!Pn||Pn.length<2*h)&&(Pn=function(e){var n=2*e,r=new t.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var o=6*i;r.uint16[o+0]=4*i+0,r.uint16[o+1]=4*i+1,r.uint16[o+2]=4*i+2,r.uint16[o+3]=4*i+2,r.uint16[o+4]=4*i+3,r.uint16[o+5]=4*i+0}return r}(h));for(var D,N=u.createIndexBuffer(Pn,!0),L=u.createVertexBuffer(S,t.collisionCircleLayout.members,!0),z=0,F=f;z<F.length;z++){var B=F[z],U={u_matrix:B.transform,u_inv_matrix:B.invTransform,u_camera_to_center_distance:(D=e.transform).cameraToCenterDistance,u_viewport_size:[D.width,D.height]};E.draw(u,c.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,U,r.id,L,N,t.SegmentVector.simpleSegment(0,2*B.circleOffset,B.circleArray.length,B.circleArray.length/2),null,e.transform.zoom,null,null,null)}L.destroy(),N.destroy()}}var Nn=t.identity(new Float32Array(16));function Ln(e,n,r,i,o,a){var s=t.getAnchorAlignment(e),u=-(s.horizontalAlign-.5)*n,c=-(s.verticalAlign-.5)*r,l=t.evaluateVariableOffset(e,i);return new t.Point((u/o+l[0])*a,(c/o+l[1])*a)}function zn(e,n,r,i,o,a,s,u,c,l,f,h){var p=e.text.placedSymbolArray,d=e.text.dynamicLayoutVertexArray,y=e.icon.dynamicLayoutVertexArray,v={};d.clear();for(var g=0;g<p.length;g++){var m=p.get(g),b=e.allowVerticalPlacement&&!m.placedOrientation,_=m.hidden||!m.crossTileID||b?null:i[m.crossTileID];if(_){var x=new t.Point(m.anchorX,m.anchorY),w=h(x),E=gt(x,r?u:s,w),S=mt(a.cameraToCenterDistance,E.signedDistanceFromCamera),k=o.evaluateSizeForFeature(e.textSizeData,l,m)*S/t.ONE_EM;r&&(k*=e.tilePixelRatio/c);for(var O=_.width,C=_.height,P=Ln(_.anchor,O,C,_.textOffset,_.textBoxScale,k),T=r?gt(x.add(P),s,w).point:E.point.add(n?P.rotate(-a.angle):P),M=e.allowVerticalPlacement&&m.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,A=0;A<m.numGlyphs;A++)t.addDynamicAttributes(d,T,M);f&&m.associatedIconIndex>=0&&(v[m.associatedIconIndex]={shiftedAnchor:T,angle:M})}else Ct(m.numGlyphs,d)}if(f){y.clear();for(var I=e.icon.placedSymbolArray,j=0;j<I.length;j++){var R=I.get(j);if(R.hidden)Ct(R.numGlyphs,y);else{var D=v[j];if(D)for(var N=0;N<R.numGlyphs;N++)t.addDynamicAttributes(y,D.shiftedAnchor,D.angle);else Ct(R.numGlyphs,y)}}e.icon.dynamicLayoutVertexBuffer.updateData(y)}e.text.dynamicLayoutVertexBuffer.updateData(d)}function Fn(t,e,n){return n.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function Bn(e,n,r,i,o,a,s,u,c,l,f,p){var d,y=e.context,v=y.gl,g=e.transform,m="map"===u,b="map"===c,_=m&&"point"!==r.layout.get("symbol-placement"),x=m&&!b&&!_,w=void 0!==r.layout.get("symbol-sort-key").constantOr(1),E=!1,S=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),k=r.layout.get("text-variable-anchor"),O=[],C=e.terrain&&b?["PITCH_WITH_MAP_TERRAIN"]:null,P=h(i);try{var T=function(){var i=d.value,u=n.getTile(i),c=u.getBucket(r);if(!c)return"continue";var f=o?c.text:c.icon;if(!f||!f.segments.get().length)return"continue";var p=f.programConfigurations.get(r.id),y=o||c.sdfIcons,S=o?c.textSizeData:c.iconSizeData,P=b||0!==g.pitch,T=e.useProgram(Fn(y,o,c),p,C),M=t.evaluateSizeForZoom(S,g.zoom),A=void 0,I=void 0,j=void 0,R=void 0,D=[0,0],N=null;if(o){if(I=u.glyphAtlasTexture,j=v.LINEAR,A=u.glyphAtlasTexture.size,c.iconsInText){D=u.imageAtlasTexture.size,N=u.imageAtlasTexture;var L="composite"===S.kind||"camera"===S.kind;R=P||e.options.rotating||e.options.zooming||L?v.LINEAR:v.NEAREST}}else{var F=1!==r.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;I=u.imageAtlasTexture,j=y||e.options.rotating||e.options.zooming||F||P?v.LINEAR:v.NEAREST,A=u.imageAtlasTexture.size}var B=z(u,1,e.transform.zoom),U=yt(i.posMatrix,b,m,e.transform,B),q=e.terrain&&b&&_?t.invert(new Float32Array(16),U):Nn,V=vt(i.posMatrix,b,m,e.transform,B),G=k&&c.hasTextData(),W="none"!==r.layout.get("icon-text-fit")&&G&&c.hasIconData();if(_){var H=g.elevation;_t(c,i.posMatrix,e,o,U,V,b,l,H?function(t){return H.getAtTileOffset(i,t.x,t.y)}:null)}var K=e.translatePosMatrix(i.posMatrix,u,a,s),X=_||o&&k||W?Nn:U,Y=e.translatePosMatrix(V,u,a,s,!0),Z=y&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),$={program:T,buffers:f,uniformValues:y?c.iconsInText?An(S.kind,M,x,b,e,K,X,Y,A,D):Mn(S.kind,M,x,b,e,K,X,Y,o,A,!0):Tn(S.kind,M,x,b,e,K,X,Y,o,A),atlasTexture:I,atlasTextureIcon:N,atlasInterpolation:j,atlasInterpolationIcon:R,isSDF:y,hasHalo:Z,tile:u,labelPlaneMatrixInv:q};if(w&&c.canOverlap){E=!0;var J,Q=f.segments.get(),tt=h(Q);try{for(tt.s();!(J=tt.n()).done;){var et=J.value;O.push({segments:new t.SegmentVector([et]),sortKey:et.sortKey,state:$})}}catch(nt){tt.e(nt)}finally{tt.f()}}else O.push({segments:f.segments,sortKey:0,state:$})};for(P.s();!(d=P.n()).done;)T()}catch(D){P.e(D)}finally{P.f()}E&&O.sort((function(t,e){return t.sortKey-e.sortKey}));for(var M=0,A=O;M<A.length;M++){var I=A[M],j=I.state;if(e.terrain&&e.terrain.setupElevationDraw(j.tile,j.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:j.labelPlaneMatrixInv}),y.activeTexture.set(v.TEXTURE0),j.atlasTexture.bind(j.atlasInterpolation,v.CLAMP_TO_EDGE),j.atlasTextureIcon&&(y.activeTexture.set(v.TEXTURE1),j.atlasTextureIcon&&j.atlasTextureIcon.bind(j.atlasInterpolationIcon,v.CLAMP_TO_EDGE)),j.isSDF){var R=j.uniformValues;j.hasHalo&&(R.u_is_halo=1,Un(j.buffers,I.segments,r,e,j.program,S,f,p,R)),R.u_is_halo=0}Un(j.buffers,I.segments,r,e,j.program,S,f,p,j.uniformValues)}}function Un(e,n,r,i,o,a,s,u,c){var l=i.context;o.draw(l,l.gl.TRIANGLES,a,s,u,t.CullFaceMode.disabled,c,r.id,e.layoutVertexBuffer,e.indexBuffer,n,r.paint,i.transform.zoom,e.programConfigurations.get(r.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function qn(e,n,r,i,o,a,s){var u,c,l,f,p,d=e.context.gl,y=r.paint.get("fill-pattern"),v=y&&y.constantOr(1),g=r.getCrossfadeParameters();s?(c=v&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",u=d.LINES):(c=v?"fillPattern":"fill",u=d.TRIANGLES);var m,b=h(i);try{for(b.s();!(m=b.n()).done;){var _=m.value,x=n.getTile(_);if(!v||x.patternsLoaded()){var w=x.getBucket(r);if(w){e.prepareDrawTile(_);var E=w.programConfigurations.get(r.id),S=e.useProgram(c,E);v&&(e.context.activeTexture.set(d.TEXTURE0),x.imageAtlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE),E.updatePaintBuffers(g));var k=y.constantOr(null);if(k&&x.imageAtlas){var O=x.imageAtlas,C=O.patternPositions[k.to.toString()],P=O.patternPositions[k.from.toString()];C&&P&&E.setConstantPatternPositions(C,P)}var T=e.translatePosMatrix(_.posMatrix,x,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(s){f=w.indexBuffer2,p=w.segments2;var M=e.terrain&&e.terrain.renderingToTexture?e.terrain.drapeBufferSize:[d.drawingBufferWidth,d.drawingBufferHeight];l="fillOutlinePattern"===c&&v?dn(T,e,g,x,M):pn(T,M)}else f=w.indexBuffer,p=w.segments,l=v?hn(T,e,g,x):fn(T);S.draw(e.context,u,o,e.stencilModeForClipping(_),a,t.CullFaceMode.disabled,l,r.id,w.layoutVertexBuffer,f,p,r.paint,e.transform.zoom,E)}}}}catch(A){b.e(A)}finally{b.f()}}function Vn(e,n,r,i,o,a,s){var u,c=e.context,l=c.gl,f=r.paint.get("fill-extrusion-pattern"),p=f.constantOr(1),d=r.getCrossfadeParameters(),y=r.paint.get("fill-extrusion-opacity"),v=h(i);try{for(v.s();!(u=v.n()).done;){var g=u.value,m=n.getTile(g),b=m.getBucket(r);if(b){var _=b.programConfigurations.get(r.id),x=e.useProgram(p?"fillExtrusionPattern":"fillExtrusion",_);if(e.terrain){var w=e.terrain;if(!b.enableTerrain)continue;if(w.setupElevationDraw(m,x,{useMeterToDem:!0}),Gn(c,n,g,b,r,w),!b.centroidVertexBuffer){var E=x.attributes.a_centroid_pos;void 0!==E&&l.vertexAttrib2f(E,0,0)}}p&&(e.context.activeTexture.set(l.TEXTURE0),m.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),_.updatePaintBuffers(d));var S=f.constantOr(null);if(S&&m.imageAtlas){var k=m.imageAtlas,O=k.patternPositions[S.to.toString()],C=k.patternPositions[S.from.toString()];O&&C&&_.setConstantPatternPositions(O,C)}var P=e.translatePosMatrix(g.posMatrix,m,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),T=r.paint.get("fill-extrusion-vertical-gradient"),M=p?ln(P,e,T,y,g,d,m):cn(P,e,T,y);x.draw(c,c.gl.TRIANGLES,o,a,s,t.CullFaceMode.backCCW,M,r.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,r.paint,e.transform.zoom,_,e.terrain?b.centroidVertexBuffer:null)}}}catch(A){v.e(A)}finally{v.f()}}function Gn(e,n,r,i,o,a){for(var s,u,c,l=[function(e){var n=e.canonical.x-1,r=e.wrap;return n<0&&(n=(1<<e.canonical.z)-1,r--),new t.OverscaledTileID(e.overscaledZ,r,e.canonical.z,n,e.canonical.y)},function(e){var n=e.canonical.x+1,r=e.wrap;return n===1<<e.canonical.z&&(n=0,r++),new t.OverscaledTileID(e.overscaledZ,r,e.canonical.z,n,e.canonical.y)},function(e){return new t.OverscaledTileID(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,(0===e.canonical.y?1<<e.canonical.z:e.canonical.y)-1)},function(e){return new t.OverscaledTileID(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y===(1<<e.canonical.z)-1?0:e.canonical.y+1)}],f=function(t){for(var e=n.getSource().maxzoom,r=0,i=[0,-1,1];r<i.length;r++){var a=i[r];if(!(t.overscaledZ+a<e)&&!(a>0&&t.overscaledZ<e)){var s=n.getTileByID(t.calculateScaledKey(t.overscaledZ+a));if(s&&s.hasData()){var u=s.getBucket(o);if(u)return u}}}},h=[0,0,0],p=function(e,n){return h[0]=Math.min(e.min.y,n.min.y),h[1]=Math.max(e.max.y,n.max.y),h[2]=t.EXTENT-n.min.x>e.max.x?n.min.x-t.EXTENT:e.max.x,h},d=function(e,n){return h[0]=Math.min(e.min.x,n.min.x),h[1]=Math.max(e.max.x,n.max.x),h[2]=t.EXTENT-n.min.y>e.max.y?n.min.y-t.EXTENT:e.max.y,h},y=[function(t,e){return p(t,e)},function(t,e){return p(e,t)},function(t,e){return d(t,e)},function(t,e){return d(e,t)}],v=new t.Point(0,0),g=function(e,n,i,o,l){var f=[[o?i:e,o?e:i,0],[o?i:n,o?n:i,0]],h=l<0?t.EXTENT+l:l,p=[o?h:(e+n)/2,o?(e+n)/2:h,0];return 0===i&&l<0||0!==i&&l>0?a.getForTilePoints(c,[p],!0,u):f.push(p),a.getForTilePoints(r,f,!0,s),Math.max(f[0][2],f[1][2],p[2])/a.exaggeration()},m=0;m<4;m++){var b=i.borders[m];if(0===b.length&&(i.borderDone[m]=!0),!i.borderDone[m]){var _=c=l[m](r),x=f(_);if(x&&x.enableTerrain&&(u=a.findDEMTileFor(_))&&u.dem){if(!s){var w=a.findDEMTileFor(r);if(!w||!w.dem)return;s=w}for(var E=(m<2?1:5)-m,S=x.borders[E],k=0,O=0;O<b.length;O++){for(var C=i.featuresOnBorder[b[O]],P=C.borders[m],T=void 0;k<S.length&&!((T=x.featuresOnBorder[S[k]]).borders[E][1]>P[0]+3);)x.borderDone[E]||x.encodeCentroid(void 0,T,!1),k++;if(T&&k<S.length){for(var M=k,A=0;!(T.borders[E][0]>P[1]-3)&&(A++,++k!==S.length);)T=x.featuresOnBorder[S[k]];if(T=x.featuresOnBorder[S[M]],C.intersectsCount()>1||T.intersectsCount()>1||1!==A){1!==A&&(k=M),i.encodeCentroid(void 0,C,!1),x.borderDone[E]||x.encodeCentroid(void 0,T,!1);continue}var I=y[m](C,T),j=m%2?t.EXTENT-1:0;v.x=g(I[0],Math.min(t.EXTENT-1,I[1]),j,m<2,I[2]),v.y=0,i.encodeCentroid(v,C,!1),x.borderDone[E]||x.encodeCentroid(v,T,!1)}else i.encodeCentroid(void 0,C,!1)}i.borderDone[m]=i.needsCentroidUpdate=!0,x.borderDone[E]||(x.borderDone[E]=x.needsCentroidUpdate=!0)}}}(i.needsCentroidUpdate||!i.centroidVertexBuffer&&0!==i.centroidVertexArray.length)&&i.uploadCentroid(e)}var Wn=new t.Color(1,0,0,1),Hn=new t.Color(0,1,0,1),Kn=new t.Color(0,0,1,1),Xn=new t.Color(1,0,1,1),Yn=new t.Color(0,1,1,1);function Zn(t,e,n,r){Jn(t,0,e+n/2,t.transform.width,n,r)}function $n(t,e,n,r){Jn(t,e-n/2,0,n,t.transform.height,r)}function Jn(e,n,r,i,o,a){var s=e.context,u=s.gl;u.enable(u.SCISSOR_TEST),u.scissor(n*t.browser.devicePixelRatio,r*t.browser.devicePixelRatio,i*t.browser.devicePixelRatio,o*t.browser.devicePixelRatio),s.clear({color:a}),u.disable(u.SCISSOR_TEST)}function Qn(e,n,r){var i=e.context,o=i.gl,a=r.posMatrix,s=e.useProgram("debug"),u=n.getTileByID(r.key);e.terrain&&e.terrain.setupElevationDraw(u,s);var c=t.DepthMode.disabled,l=t.StencilMode.disabled,f=e.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,c,l,f,t.CullFaceMode.disabled,mn(a,t.Color.red),"$debug",e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);var h=u.latestRawTileData,p=Math.floor((h&&h.byteLength||0)/1024),d=n.getTile(r).tileSize,y=512/Math.min(d,512)*(r.overscaledZ/e.transform.zoom)*.5,v=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(v+=" => ".concat(r.overscaledZ)),function(t,e){t.initDebugOverlayCanvas();var n=t.debugOverlayCanvas,r=t.context.gl,i=t.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(e,5,5),i.strokeText(e,5,5),t.debugOverlayTexture.update(n),t.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(e,"".concat(v," ").concat(p,"kb")),s.draw(i,o.TRIANGLES,c,l,t.ColorMode.alphaBlended,t.CullFaceMode.disabled,mn(a,t.Color.transparent,y),"$debug",e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}var tr=t.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]).members;function er(t,e,n,r){t.emplaceBack(e,n,r)}var nr=function e(n){v(this,e),this.vertexArray=new t.StructArrayLayout3f12,this.indices=new t.StructArrayLayout3ui6,er(this.vertexArray,-1,-1,1),er(this.vertexArray,1,-1,1),er(this.vertexArray,-1,1,1),er(this.vertexArray,1,1,1),er(this.vertexArray,-1,-1,-1),er(this.vertexArray,1,-1,-1),er(this.vertexArray,-1,1,-1),er(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=n.createVertexBuffer(this.vertexArray,tr),this.indexBuffer=n.createIndexBuffer(this.indices),this.segment=t.SegmentVector.simpleSegment(0,0,36,12)};function rr(e,n,r,i,o,a){var s=e.gl,u=n.paint.get("sky-atmosphere-color"),c=n.paint.get("sky-atmosphere-halo-color"),l=n.paint.get("sky-atmosphere-sun-intensity"),f=function(t,e,n,r,i){return{u_matrix_3f:t,u_sun_direction:e,u_sun_intensity:n,u_color_tint_r:[r.r,r.g,r.b,r.a],u_color_tint_m:[i.r,i.g,i.b,i.a],u_luminance:5e-5}}(t.fromMat4([],i),o,l,u,c);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+a,n.skyboxTexture,0),r.draw(e,s.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,t.ColorMode.unblended,t.CullFaceMode.frontCW,f,"skyboxCapture",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}var ir={symbol:function(e,n,r,i,o){if("translucent"===e.renderPass){var a=t.StencilMode.disabled,s=e.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(e,n,r,i,o,a,s){var u,c=n.transform,l="map"===o,f="map"===a,p=h(e);try{var d=function(){var e=u.value,o=i.getTile(e),a=o.getBucket(r);if(!a||!a.text||!a.text.segments.get().length)return"continue";var h=t.evaluateSizeForZoom(a.textSizeData,c.zoom),p=z(o,1,n.transform.zoom),d=yt(e.posMatrix,f,l,n.transform,p),y="none"!==r.layout.get("icon-text-fit")&&a.hasIconData();if(h){var v=Math.pow(2,c.zoom-o.tileID.overscaledZ),g=c.elevation;zn(a,l,f,s,t.symbolSize,c,d,e.posMatrix,v,h,y,g?function(t){return g.getAtTileOffset(e,t.x,t.y)}:function(t){return 0})}};for(p.s();!(u=p.n()).done;)d()}catch(y){p.e(y)}finally{p.f()}}(i,e,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&Bn(e,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&Bn(e,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Dn(e,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Dn(e,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),u=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var c=e.context,l=c.gl,f=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),p=t.StencilMode.disabled,d=e.colorModeForRenderPass(),y=[],v=0;v<i.length;v++){var g=i[v],m=n.getTile(g),b=m.getBucket(r);if(b){var _=b.programConfigurations.get(r.id),x=vn(r),w={programConfiguration:_,program:e.useProgram("circle",_,x),layoutVertexBuffer:b.layoutVertexBuffer,indexBuffer:b.indexBuffer,uniformValues:yn(e,g,m,r),tile:m};if(u){var E,S=b.segments.get(),k=h(S);try{for(k.s();!(E=k.n()).done;){var O=E.value;y.push({segments:new t.SegmentVector([O]),sortKey:O.sortKey,state:w})}}catch(z){k.e(z)}finally{k.f()}}else y.push({segments:b.segments,sortKey:0,state:w})}}u&&y.sort((function(t,e){return t.sortKey-e.sortKey}));for(var C=0,P=y;C<P.length;C++){var T=P[C],M=T.state,A=M.programConfiguration,I=M.program,j=M.layoutVertexBuffer,R=M.indexBuffer,D=M.uniformValues,N=M.tile,L=T.segments;e.terrain&&e.terrain.setupElevationDraw(N,I,{useDepthForOcclusion:!0}),I.draw(c,l.TRIANGLES,f,p,d,t.CullFaceMode.disabled,D,r.id,j,R,L,r.paint,e.transform.zoom,A)}}}},heatmap:function(e,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=t.StencilMode.disabled,u=new t.ColorMode([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),function(t,e,n,r){var i=t.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e.width/4,e.height/4,0,i.RGBA,t.extRenderToTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(t,e,o,i)}}(o,e,r),o.clear({color:t.Color.transparent});for(var c=0;c<i.length;c++){var l=i[c];if(!n.hasRenderableParent(l)){var f=n.getTile(l),h=f.getBucket(r);if(h){var p=h.programConfigurations.get(r.id),d=e.useProgram("heatmap",p),y=e.transform.zoom;e.terrain&&e.terrain.setupElevationDraw(f,d),d.draw(o,a.TRIANGLES,t.DepthMode.disabled,s,u,t.CullFaceMode.disabled,bn(l.posMatrix,f,y,r.paint.get("heatmap-intensity")),r.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,r.paint,e.transform.zoom,p)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var r=e.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,i.TRIANGLES,t.DepthMode.disabled,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.disabled,function(e,n,r,i){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(e,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,r))},line:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1)){var s,u=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),c=e.colorModeForRenderPass(),l=r.paint.get("line-dasharray"),f=r.paint.get("line-pattern"),p=f.constantOr(1),d=r.paint.get("line-gradient"),y=r.getCrossfadeParameters(),v=p?"linePattern":l?"lineSDF":d?"lineGradient":"line",g=e.context,m=g.gl,b=!0,_=h(i);try{for(_.s();!(s=_.n()).done;){var x=s.value,w=n.getTile(x);if(!p||w.patternsLoaded()){var E=w.getBucket(r);if(E){e.prepareDrawTile(x);var S=E.programConfigurations.get(r.id),k=e.context.program.get(),O=e.useProgram(v,S),C=b||O.program!==k,P=f.constantOr(null);if(P&&w.imageAtlas){var T=w.imageAtlas,M=T.patternPositions[P.to.toString()],A=T.patternPositions[P.from.toString()];M&&A&&S.setConstantPatternPositions(M,A)}var I=e.terrain?x.posMatrix:null,j=p?wn(e,w,r,y,I):l?En(e,w,r,l,y,I):d?xn(e,w,r,I,E.lineClipsArray.length):_n(e,w,r,I);if(p)g.activeTexture.set(m.TEXTURE0),w.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),S.updatePaintBuffers(y);else if(l&&(C||e.lineAtlas.dirty))g.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(g);else if(d){var R=E.gradients[r.id],D=R.texture;if(r.gradientVersion!==R.version){var N=256;if(r.stepInterpolant){var L=n.getSource().maxzoom,z=x.canonical.z===L?Math.ceil(1<<e.transform.maxZoom-x.canonical.z):1;N=t.clamp(t.nextPowerOfTwo(E.maxLineLength/t.EXTENT*1024*z),256,g.maxTextureSize)}R.gradient=t.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:N,image:R.gradient||void 0,clips:E.lineClipsArray}),R.texture?R.texture.update(R.gradient):R.texture=new t.Texture(g,R.gradient,m.RGBA),R.version=r.gradientVersion,D=R.texture}g.activeTexture.set(m.TEXTURE0),D.bind(r.stepInterpolant?m.NEAREST:m.LINEAR,m.CLAMP_TO_EDGE)}O.draw(g,m.TRIANGLES,u,e.stencilModeForClipping(x),c,t.CullFaceMode.disabled,j,r.id,E.layoutVertexBuffer,E.indexBuffer,E.segments,r.paint,e.transform.zoom,S,E.layoutVertexBuffer2),b=!1}}}}catch(F){_.e(F)}finally{_.f()}}}},fill:function(e,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),u=r.paint.get("fill-pattern"),c=e.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===c){var l=e.depthModeForSublayer(1,"opaque"===e.renderPass?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly);qn(e,n,r,i,l,s,!1)}if("translucent"===e.renderPass&&r.paint.get("fill-antialias")){var f=e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,t.DepthMode.ReadOnly);qn(e,n,r,i,f,s,!0)}}},"fill-extrusion":function(e,n,r,i){var o=r.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===e.renderPass){var a=new t.DepthMode(e.context.gl.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D);if(1!==o||r.paint.get("fill-extrusion-pattern").constantOr(1))Vn(e,n,r,i,a,t.StencilMode.disabled,t.ColorMode.disabled),Vn(e,n,r,i,a,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var s=e.colorModeForRenderPass();Vn(e,n,r,i,a,t.StencilMode.disabled,s)}}},hillshade:function(e,n,r,i){if("offscreen"===e.renderPass||"translucent"===e.renderPass){var o,a=e.context,s=e.depthModeForSublayer(0,t.DepthMode.ReadOnly),u=e.colorModeForRenderPass(),c=e.terrain&&e.terrain.renderingToTexture,l="translucent"!==e.renderPass||c?[{},i]:e.stencilConfigForOverlap(i),p=f(l,2),d=p[0],y=p[1],v=h(y);try{for(v.s();!(o=v.n()).done;){var g=o.value,m=n.getTile(g);if(m.needsHillshadePrepare&&"offscreen"===e.renderPass)He(e,m,r,s,t.StencilMode.disabled,u);else if("translucent"===e.renderPass){var b=c&&e.terrain?e.terrain.stencilModeForRTTOverlap(g):d[g.overscaledZ];Ge(e,g,m,r,s,b,u)}}}catch(_){v.e(_)}finally{v.f()}a.viewport.set([0,0,e.width,e.height])}},raster:function(e,n,r,i,o,a){if("translucent"===e.renderPass&&0!==r.paint.get("raster-opacity")&&i.length){var s,u=e.context,c=u.gl,l=n.getSource(),p=e.useProgram("raster"),d=e.colorModeForRenderPass(),y=e.terrain&&e.terrain.renderingToTexture,v=l instanceof W||y?[{},i]:e.stencilConfigForOverlap(i),g=f(v,2),m=g[0],b=g[1],_=b[b.length-1].overscaledZ,x=!e.options.moving,w=h(b);try{for(w.s();!(s=w.n()).done;){var E=s.value,S=y?t.DepthMode.disabled:e.depthModeForSublayer(E.overscaledZ-_,1===r.paint.get("raster-opacity")?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly,c.LESS),k=n.getTile(E);if(!y||k&&k.hasData()){var O=y?E.posMatrix:e.transform.calculatePosMatrix(E.toUnwrapped(),x),C=e.terrain&&y?e.terrain.stencilModeForRTTOverlap(E):m[E.overscaledZ],P=a?0:r.paint.get("raster-fade-duration");k.registerFadeDuration(P);var T=n.findLoadedParent(E,0),M=tn(k,T,n,e.transform,P),A=void 0,I=void 0;e.terrain&&e.terrain.prepareDrawTile(E);var j="nearest"===r.paint.get("raster-resampling")?c.NEAREST:c.LINEAR;u.activeTexture.set(c.TEXTURE0),k.texture.bind(j,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST),u.activeTexture.set(c.TEXTURE1),T?(T.texture.bind(j,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST),A=Math.pow(2,T.tileID.overscaledZ-k.tileID.overscaledZ),I=[k.tileID.canonical.x*A%1,k.tileID.canonical.y*A%1]):k.texture.bind(j,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST);var R=On(O,I||[0,0],A||1,M,r);l instanceof W?p.draw(u,c.TRIANGLES,S,t.StencilMode.disabled,d,t.CullFaceMode.disabled,R,r.id,l.boundsBuffer,e.quadTriangleIndexBuffer,l.boundsSegments):p.draw(u,c.TRIANGLES,S,C,d,t.CullFaceMode.disabled,R,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}}catch(D){w.e(D)}finally{w.f()}}},background:function(e,n,r,i){var o=r.paint.get("background-color"),a=r.paint.get("background-opacity");if(0!==a){var s=e.context,u=s.gl,c=e.transform,l=c.tileSize,f=r.paint.get("background-pattern");if(!e.isPatternMissing(f)){var p=!f&&1===o.a&&1===a&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===p){var d=t.StencilMode.disabled,y=e.depthModeForSublayer(0,"opaque"===p?t.DepthMode.ReadWrite:t.DepthMode.ReadOnly),v=e.colorModeForRenderPass(),g=e.useProgram(f?"backgroundPattern":"background"),m=i||c.coveringTiles({tileSize:l});f&&(s.activeTexture.set(u.TEXTURE0),e.imageManager.bind(e.context));var b,_=r.getCrossfadeParameters(),x=h(m);try{for(x.s();!(b=x.n()).done;){var w=b.value,E=i?w.posMatrix:e.transform.calculatePosMatrix(w.toUnwrapped());e.prepareDrawTile(w);var S=f?jn(E,a,e,f,{tileID:w,tileSize:l},_):In(E,a,o);g.draw(s,u.TRIANGLES,y,d,v,t.CullFaceMode.disabled,S,r.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}catch(k){x.e(k)}finally{x.f()}}}}},sky:function(e,n,r){var i=r.paint.get("sky-opacity");if(0!==i){var o=e.context,a=r.paint.get("sky-type"),s=new t.DepthMode(o.gl.LEQUAL,t.DepthMode.ReadOnly,[0,1]),u=e.frameCounter/1e3%1;"atmosphere"===a?"offscreen"===e.renderPass?r.needsSkyboxCapture(e)&&(function(e,n,r,i){var o=e.context,a=o.gl,s=n.skyboxFbo;if(!s){s=n.skyboxFbo=o.createFramebuffer(32,32,!1),n.skyboxGeometry=new nr(o),n.skyboxTexture=o.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,n.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(var u=0;u<6;++u)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null)}o.bindFramebuffer.set(s.framebuffer),o.viewport.set([0,0,32,32]);var c=n.getCenter(e,!0),l=e.useProgram("skyboxCapture"),f=new Float64Array(16);t.identity(f),t.rotateY(f,f,.5*-Math.PI),rr(o,n,l,f,c,0),t.identity(f),t.rotateY(f,f,.5*Math.PI),rr(o,n,l,f,c,1),t.identity(f),t.rotateX(f,f,.5*-Math.PI),rr(o,n,l,f,c,2),t.identity(f),t.rotateX(f,f,.5*Math.PI),rr(o,n,l,f,c,3),t.identity(f),rr(o,n,l,f,c,4),t.identity(f),t.rotateY(f,f,Math.PI),rr(o,n,l,f,c,5),o.viewport.set([0,0,e.width,e.height])}(e,r),r.markSkyboxValid(e)):"sky"===e.renderPass&&function(e,n,r,i,o){var a=e.context,s=a.gl,u=e.transform,c=e.useProgram("skybox");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,n.skyboxTexture);var l=function(t,e,n,r,i){return{u_matrix:t,u_sun_direction:e,u_cubemap:0,u_opacity:r,u_temporal_offset:i}}(u.skyboxMatrix,n.getCenter(e,!1),0,i,o);c.draw(a,s.TRIANGLES,r,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.backCW,l,"skybox",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(e,r,s,i,u):"gradient"===a&&"sky"===e.renderPass&&function(e,n,r,i,o){var a=e.context,s=a.gl,u=e.transform,c=e.useProgram("skyboxGradient");n.skyboxGeometry||(n.skyboxGeometry=new nr(a)),a.activeTexture.set(s.TEXTURE0);var l=n.colorRampTexture;l||(l=n.colorRampTexture=new t.Texture(a,n.colorRamp,s.RGBA)),l.bind(s.LINEAR,s.CLAMP_TO_EDGE);var f=function(e,n,r,i,o){return{u_matrix:e,u_color_ramp:0,u_center_direction:n,u_radius:t.degToRad(r),u_opacity:i,u_temporal_offset:o}}(u.skyboxMatrix,n.getCenter(e,!1),n.paint.get("sky-gradient-radius"),i,o);c.draw(a,s.TRIANGLES,r,t.StencilMode.disabled,e.colorModeForRenderPass(),t.CullFaceMode.backCW,f,"skyboxGradient",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(e,r,s,i,u)}},debug:function(t,e,n){for(var r=0;r<n.length;r++)Qn(t,e,n[r])},custom:function(e,n,r){var i=e.context,o=r.implementation;if("offscreen"===e.renderPass){var a=o.prerender;a&&(e.setCustomLayerDefaults(),i.setColorMode(e.colorModeForRenderPass()),a.call(o,i.gl,e.transform.customLayerMatrix()),i.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),i.setColorMode(e.colorModeForRenderPass()),i.setStencilMode(t.StencilMode.disabled);var s="3d"===o.renderingMode?new t.DepthMode(e.context.gl.LEQUAL,t.DepthMode.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,t.DepthMode.ReadOnly);i.setDepthMode(s),o.render(i.gl,e.transform.customLayerMatrix()),i.setDirty(),e.setBaseState(),i.bindFramebuffer.set(null)}}},or=function(){function e(n,r){v(this,e),this.context=new t.Context(n),this.transform=r,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=t.SourceCache.maxUnderzooming+t.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ee,this.gpuTimers={},this.frameCounter=0}return g(e,[{key:"updateTerrain",value:function(t,e){var n=!!t&&!!t.terrain;if(n||this._terrain&&this._terrain.enabled){this._terrain||(this._terrain=new on(this,t));var r=this._terrain;this.transform.elevation=n?r:null,r.update(t,this.transform,e)}}},{key:"resize",value:function(e,n){if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style){var r,i=h(this.style._order);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.style._layers[o].resize()}}catch(a){i.e(a)}finally{i.f()}}}},{key:"setup",value:function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,t.posAttributes.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,t.posAttributes.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var i=new t.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(t.EXTENT,0,t.EXTENT,0),i.emplaceBack(0,t.EXTENT,0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(i,G.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,t.posAttributes.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA);var u=this.context.gl;this.stencilClearMode=new t.StencilMode({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO),this.loadTimeStamps.push(t.window.performance.now())}},{key:"clearStencil",value:function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,t.DepthMode.disabled,this.stencilClearMode,t.ColorMode.disabled,t.CullFaceMode.disabled,Qe(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}},{key:"_renderTileClippingMasks",value:function(e,n,r){if(n&&this.currentStencilSource!==n.id&&e.isTileClipped()&&r&&r.length){this.currentStencilSource=n.id;var i=this.context,o=i.gl;this.nextStencilID+r.length>256&&this.clearStencil(),i.setColorMode(t.ColorMode.disabled),i.setDepthMode(t.DepthMode.disabled);var a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};var s,u=h(r);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=this._tileClippingMaskIDs[c.key]=this.nextStencilID++;a.draw(i,o.TRIANGLES,t.DepthMode.disabled,new t.StencilMode({func:o.ALWAYS,mask:0},l,255,o.KEEP,o.KEEP,o.REPLACE),t.ColorMode.disabled,t.CullFaceMode.disabled,Qe(c.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}catch(f){u.e(f)}finally{u.f()}}}},{key:"stencilModeFor3D",value:function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,n=this.context.gl;return new t.StencilMode({func:n.NOTEQUAL,mask:255},e,255,n.KEEP,n.KEEP,n.REPLACE)}},{key:"stencilModeForClipping",value:function(e){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(e);var n=this.context.gl;return new t.StencilMode({func:n.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,n.KEEP,n.KEEP,n.REPLACE)}},{key:"stencilConfigForOverlap",value:function(e){var n=this.context.gl,i=e.sort((function(t,e){return e.overscaledZ-t.overscaledZ})),o=i[i.length-1].overscaledZ,a=i[0].overscaledZ-o+1;if(a>1){this.currentStencilSource=void 0,this.nextStencilID+a>256&&this.clearStencil();for(var s={},u=0;u<a;u++)s[u+o]=new t.StencilMode({func:n.GEQUAL,mask:255},u+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=a,[s,i]}return[r({},o,t.StencilMode.disabled),i]}},{key:"colorModeForRenderPass",value:function(){var e=this.context.gl;if(this._showOverdrawInspector){var n=1/8;return new t.ColorMode([e.CONSTANT_COLOR,e.ONE],new t.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?t.ColorMode.unblended:t.ColorMode.alphaBlended}},{key:"depthModeForSublayer",value:function(e,n,r){if(!this.opaquePassEnabledForLayer())return t.DepthMode.disabled;var i=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new t.DepthMode(r||this.context.gl.LEQUAL,n,[i,i])}},{key:"opaquePassEnabledForLayer",value:function(){return this.currentLayer<this.opaquePassCutoff}},{key:"render",value:function(e,n){var r=this;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style._sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var u={},c={},l={};for(var f in o){var p=o[f];u[f]=p.getVisibleCoordinates(),c[f]=u[f].slice().reverse(),l[f]=p.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var d=0;d<i.length;d++)if(this.style._layers[i[d]].is3D()){this.opaquePassCutoff=d;break}this.terrain&&(this.terrain.updateTileBinding(l),this.opaquePassCutoff=0),this.renderPass="offscreen";var y,v=h(i);try{for(v.s();!(y=v.n()).done;){var g=y.value,m=this.style._layers[g],b=e._getLayerSourceCache(m);if(m.hasOffscreenPass()&&!m.isHidden(this.transform.zoom)){var _=b?c[b.id]:void 0;("custom"===m.type||m.isSky()||_&&_.length)&&this.renderLayer(this,b,m,_)}}}catch(M){v.e(M)}finally{v.f()}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var x=this.style._layers[i[this.currentLayer]],w=e._getLayerSourceCache(x);if(!(this.terrain&&this.terrain.renderLayer(x,w)||x.isSky())){var E=w?c[w.id]:void 0;this._renderTileClippingMasks(x,w,E),this.renderLayer(this,w,x,E)}}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var S=this.style._layers[i[this.currentLayer]],k=e._getLayerSourceCache(S);S.isSky()&&this.renderLayer(this,k,S,k?c[k.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var O=this.style._layers[i[this.currentLayer]],C=e._getLayerSourceCache(O);if(!(this.terrain&&this.terrain.renderLayer(O,C)||O.isSky())){var P=C?("symbol"===O.type?l:c)[C.id]:void 0;this._renderTileClippingMasks(O,C,C?u[C.id]:void 0),this.renderLayer(this,C,O,P)}}if(this.options.showTileBoundaries||this.options.showQueryGeometry){var T=null;t.values(this.style._layers).forEach((function(t){var n=e._getLayerSourceCache(t);n&&!t.isHidden(r.transform.zoom)&&(!T||T.getSource().maxzoom<n.getSource().maxzoom)&&(T=n)})),T&&this.options.showTileBoundaries&&ir.debug(this,T,T.getVisibleCoordinates())}this.options.showPadding&&function(t){var e=t.transform.padding;Zn(t,t.transform.height-(e.top||0),3,Wn),Zn(t,e.bottom||0,3,Hn),$n(t,e.left||0,3,Kn),$n(t,t.transform.width-(e.right||0),3,Xn);var n=t.transform.centerPoint;!function(t,e,n,r){Jn(t,e-1,n-10,2,20,r),Jn(t,e-10,n-1,20,2,r)}(t,n.x,t.transform.height-n.y,Yn)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%t.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(t.window.performance.now()),this.saveCanvasCopy())}},{key:"renderLayer",value:function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"sky"===n.type||"custom"===n.type||r&&r.length)&&(this.id=n.id,this.gpuTimingStart(n),ir[n.type](t,e,n,r,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}},{key:"gpuTimingStart",value:function(t){if(this.options.gpuTiming){var e=this.context.extTimerQuery,n=this.gpuTimers[t.id];n||(n=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),n.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,n.query)}}},{key:"gpuTimingEnd",value:function(){if(this.options.gpuTiming){var t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}}},{key:"collectGpuTimers",value:function(){var t=this.gpuTimers;return this.gpuTimers={},t}},{key:"queryGpuTimers",value:function(t){var e={};for(var n in t){var r=t[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),e[n]=o}return e}},{key:"translatePosMatrix",value:function(e,n,r,i,o){if(!r[0]&&!r[1])return e;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);r=[r[0]*u-r[1]*s,r[0]*s+r[1]*u]}var c=[o?r[0]:z(n,r[0],this.transform.zoom),o?r[1]:z(n,r[1],this.transform.zoom),0],l=new Float32Array(16);return t.translate(l,e,c),l}},{key:"saveTileTexture",value:function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]}},{key:"getTileTexture",value:function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null}},{key:"isPatternMissing",value:function(t){if(!t)return!1;if(!t.from||!t.to)return!0;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n}},{key:"currentGlobalDefines",value:function(){var t=this.terrain&&this.terrain.renderingToTexture,e=[];return this.terrain&&!this.terrain.renderingToTexture&&e.push("TERRAIN"),t&&e.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&e.push("OVERDRAW_INSPECTOR"),e}},{key:"useProgram",value:function(t,e,n){this.cache=this.cache||{};var r=n||[],i=this.currentGlobalDefines().concat(r),o=sn.cacheKey(t,i,e);return this.cache[o]||(this.cache[o]=new sn(this.context,t,Ue[t],e,Rn[t],i)),this.cache[o]}},{key:"setCustomLayerDefaults",value:function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}},{key:"setBaseState",value:function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)}},{key:"initDebugOverlayCanvas",value:function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}},{key:"destroy",value:function(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}},{key:"prepareDrawTile",value:function(t){this.terrain&&this.terrain.prepareDrawTile(t)}},{key:"setTileLoadedFlag",value:function(t){this.tileLoaded=t}},{key:"saveCanvasCopy",value:function(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}},{key:"canvasCopy",value:function(){var t=this.context.gl,e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,0,0,t.drawingBufferWidth,t.drawingBufferHeight,0),e}},{key:"getCanvasCopiesAndTimestamps",value:function(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}},{key:"terrain",get:function(){return this._terrain&&this._terrain.enabled?this._terrain:null}}]),e}(),ar=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(v(this,e),isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=n,this.left=r,this.right=i}return g(e,[{key:"interpolate",value:function(e,n,r){return null!=n.top&&null!=e.top&&(this.top=t.number(e.top,n.top,r)),null!=n.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,n.bottom,r)),null!=n.left&&null!=e.left&&(this.left=t.number(e.left,n.left,r)),null!=n.right&&null!=e.right&&(this.right=t.number(e.right,n.right,r)),this}},{key:"getCenter",value:function(e,n){var r=t.clamp((this.left+e-this.right)/2,0,e),i=t.clamp((this.top+n-this.bottom)/2,0,n);return new t.Point(r,i)}},{key:"equals",value:function(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right}},{key:"clone",value:function(){return new e(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),e}();function sr(t,e){return[t[4*e],t[4*e+1],t[4*e+2],t[4*e+3]]}function ur(t,e,n){t[4*e+0]=n[0],t[4*e+1]=n[1],t[4*e+2]=n[2],t[4*e+3]=n[3]}function cr(e,n){var r=sr(e,3);t.fromQuat(e,n),ur(e,3,r)}function lr(t,e){ur(t,3,[e[0],e[1],e[2],1])}function fr(e,n){var r=t.identity$1([]);return t.rotateZ$1(r,r,-n),t.rotateX$1(r,r,-e),r}function hr(e,n){var r=[e[0],e[1],0],i=[n[0],n[1],0];if(t.length(r)>=1e-15){var o=t.normalize([],r);t.scale$2(i,o,t.dot(i,o)),n[0]=i[0],n[1]=i[1]}var a=t.cross([],n,e);if(t.len(a)<1e-15)return null;var s=Math.atan2(-a[1],a[0]);return fr(Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2]),s)}var pr=function(){function e(t,n){v(this,e),this.position=t,this.orientation=n}return g(e,[{key:"lookAtPoint",value:function(e,n){if(this.orientation=null,this.position){var r=this._elevation?this._elevation.getAtPoint(t.MercatorCoordinate.fromLngLat(e)):0,i=this.position,o=t.MercatorCoordinate.fromLngLat(e,r),a=[o.x-i.x,o.y-i.y,o.z-i.z];n||(n=[0,0,1]),n[2]=Math.abs(n[2]),this.orientation=hr(a,n)}}},{key:"setPitchBearing",value:function(e,n){this.orientation=fr(t.degToRad(e),t.degToRad(-n))}},{key:"position",get:function(){return this._position},set:function(e){this._position=this._renderWorldCopies?function(e){if(e){var n=Array.isArray(e)?new t.MercatorCoordinate(e[0],e[1],e[2]):e;return n.x=t.wrap(n.x,0,1),n}}(e):e}}]),e}(),dr=function(){function e(n,r){v(this,e),this._transform=t.identity([]),this._orientation=t.identity$1([]),r&&(this._orientation=r,cr(this._transform,this._orientation)),n&&lr(this._transform,n)}return g(e,[{key:"getPitchBearing",value:function(){var t=this.forward(),e=this.right();return{bearing:Math.atan2(-e[1],e[0]),pitch:Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2])}}},{key:"setPitchBearing",value:function(t,e){this._orientation=fr(t,e),cr(this._transform,this._orientation)}},{key:"forward",value:function(){var t=sr(this._transform,2);return[-t[0],-t[1],-t[2]]}},{key:"up",value:function(){var t=sr(this._transform,1);return[-t[0],-t[1],-t[2]]}},{key:"right",value:function(){var t=sr(this._transform,0);return[t[0],t[1],t[2]]}},{key:"getCameraToWorld",value:function(e,n){var r=new Float64Array(16);return t.invert(r,this.getWorldToCamera(e,n)),r}},{key:"getWorldToCamera",value:function(e,n){var r=new Float64Array(16),i=new Float64Array(4),o=this.position;return t.conjugate(i,this._orientation),t.scale$2(o,o,-e),t.fromQuat(r,i),t.translate(r,r,o),r[1]*=-1,r[5]*=-1,r[9]*=-1,r[13]*=-1,r[8]*=n,r[9]*=n,r[10]*=n,r[11]*=n,r}},{key:"getCameraToClipPerspective",value:function(e,n,r,i){var o=new Float64Array(16);return t.perspective(o,e,n,r,i),o}},{key:"clone",value:function(){return new e(l(this.position),l(this.orientation))}},{key:"mercatorPosition",get:function(){var e=this.position;return new t.MercatorCoordinate(e[0],e[1],e[2])}},{key:"position",get:function(){var t=sr(this._transform,3);return[t[0],t[1],t[2]]},set:function(t){lr(this._transform,t)}},{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation=t,cr(this._transform,this._orientation)}}]),e}(),yr=function(){function e(n,r,i,o,a){v(this,e),this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===a||a,this._minZoom=n||0,this._maxZoom=r||22,this._minPitch=null==i?0:i,this._maxPitch=null==o?60:o,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ar,this._posMatrixCache={},this._alignedPosMatrixCache={},this._camera=new dr,this._centerAltitude=0,this.cameraElevationReference="ground"}return g(e,[{key:"clone",value:function(){var t=new e(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t._elevation=this._elevation,t._centerAltitude=this._centerAltitude,t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t.cameraElevationReference=this.cameraElevationReference,t._center=this._center,t._setZoom(this.zoom),t._cameraZoom=this._cameraZoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._camera=this._camera.clone(),t._calcMatrices(),t.freezeTileCoverage=this.freezeTileCoverage,t}},{key:"updateElevation",value:function(t){this._terrainEnabled()&&null==this._cameraZoom&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),t&&this._constrainCameraAltitude(),this._calcMatrices()}},{key:"_setZoom",value:function(t){this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom}},{key:"_updateCenterElevation",value:function(){if(!this._elevation)return!1;var e=this._elevation.getAtPoint(t.MercatorCoordinate.fromLngLat(this.center),-1);return-1===e?(this._cameraZoom=null,!1):(this._centerAltitude=e,!0)}},{key:"_updateCameraOnTerrain",value:function(){var e=this.cameraToCenterDistance/this.worldSize,n=t.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(n+e)}},{key:"_updateZoomFromElevation",value:function(){if(null!=this._cameraZoom&&this._elevation){var e=this._cameraZoom,n=this._elevation.getAtPoint(t.MercatorCoordinate.fromLngLat(this.center)),r=t.mercatorZfromAltitude(n,this.center.lat),i=this._mercatorZfromZoom(e),o=this._mercatorZfromZoom(this._maxZoom),a=Math.max(i-r,o);this._setZoom(this._zoomFromMercatorZ(a))}}},{key:"computeZoomRelativeTo",value:function(e){var n,r=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,e.toAltitude()));n=e.z<this._camera.position[2]?[r.x,r.y,r.z]:[e.x,e.y,e.z];var i=t.length(t.sub([],this._camera.position,n));return t.clamp(this._zoomFromMercatorZ(i),this._minZoom,this._maxZoom)}},{key:"setFreeCameraOptions",value:function(e){if(this.height&&(e.position||e.orientation)){this._updateCameraState();var n=!1;if(e.orientation&&!t.exactEquals(e.orientation,this._camera.orientation)&&(n=this._setCameraOrientation(e.orientation)),e.position){var r=[e.position.x,e.position.y,e.position.z];t.exactEquals$1(r,this._camera.position)||(this._setCameraPosition(r),n=!0)}n&&(this._updateStateFromCamera(),this.recenterOnTerrain())}}},{key:"getFreeCameraOptions",value:function(){this._updateCameraState();var e=this._camera.position,n=new pr;return n.position=new t.MercatorCoordinate(e[0],e[1],e[2]),n.orientation=this._camera.orientation,n._elevation=this.elevation,n._renderWorldCopies=this._renderWorldCopies,n}},{key:"_setCameraOrientation",value:function(e){if(!t.length$1(e))return!1;t.normalize$1(e,e);var n=t.transformQuat([],[0,0,-1],e),r=t.transformQuat([],[0,-1,0],e);if(r[2]<0)return!1;var i=hr(n,r);return!!i&&(this._camera.orientation=i,!0)}},{key:"_setCameraPosition",value:function(e){var n=this.zoomScale(this.minZoom)*this.tileSize,r=this.zoomScale(this.maxZoom)*this.tileSize,i=this.cameraToCenterDistance;e[2]=t.clamp(e[2],i/r,i/n),this._camera.position=e}},{key:"isPaddingEqual",value:function(t){return this._edgeInsets.equals(t)}},{key:"interpolatePadding",value:function(t,e,n){this._unmodified=!1,this._edgeInsets.interpolate(t,e,n),this._constrain(),this._calcMatrices()}},{key:"coveringZoomLevel",value:function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)}},{key:"getVisibleUnwrappedCoordinates",value:function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),i=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),u=Math.floor(Math.max(r.x,i.x,o.x,a.x)),c=1,l=s-c;l<=u+c;l++)0!==l&&n.push(new t.UnwrappedTileID(l,e));return n}},{key:"coveringTiles",value:function(e){var n=this,r=this.coveringZoomLevel(e),i=r,o=!!e.useElevationData;if(void 0!==e.minzoom&&r<e.minzoom)return[];void 0!==e.maxzoom&&r>e.maxzoom&&(r=e.maxzoom);var a=t.MercatorCoordinate.fromLngLat(this.center),s=1<<r,u=[s*a.x,s*a.y,0],c=t.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r),l=this.pointCoordinate(this.getCameraPoint()),f=s*t.mercatorZfromAltitude(1,this.center.lat),h=this._camera.position[2]/t.mercatorZfromAltitude(1,this.center.lat),p=[s*l.x,s*l.y,h],d=this.cameraToCenterDistance/e.tileSize*(e.roundZoom?1:.502),y=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation?r:0,v=this.elevation?1e4*this.elevation.exaggeration():0,g=function(e){return{aabb:new t.Aabb([e*s,0,-v],[(e+1)*s,s,v]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},m=[],b=[],_=r,x=e.reparseOverscaled?i:r,w=function(t,e){if(n._elevation){var r=n._elevation.getMinMaxForTile(e);r&&(t.min[2]=r.min,t.max[2]=r.max,t.center[2]=(t.min[2]+t.max[2])/2)}},E=function(t){return t*t},S=E((h-this._centerAltitude)*f),k=function(t,e){if(e*E(.707)<t)return 1;var n=Math.sqrt(e/t);return n/(1/.707+(Math.pow(1.1,n-1/.707+1)-1)/(1.1-1)-1)};if(this._renderWorldCopies)for(var O=1;O<=3;O++)m.push(g(-O)),m.push(g(O));for(m.push(g(0));m.length>0;){var C=m.pop(),P=C.x,T=C.y,M=C.fullyVisible;if(!M){var A=C.aabb.intersects(c);if(0===A)continue;M=2===A}var I=!0;if(y<=C.zoom&&C.zoom<_){var j=C.aabb.distanceX(p),R=C.aabb.distanceY(p),D=S;o&&(D=E(C.aabb.distanceZ(p)*f));var N=j*j+R*R+D;I=N<E((1<<_-C.zoom)*d*k(Math.max(D,S),N))}if(C.zoom!==_&&I)for(var L=0;L<4;L++){var z=(P<<1)+L%2,F=(T<<1)+(L>>1),B=C.aabb.quadrant(L),U=null;o&&C.zoom>_-6&&w(B,U=new t.OverscaledTileID(C.zoom+1===_?x:C.zoom+1,C.wrap,C.zoom+1,z,F)),m.push({aabb:B,zoom:C.zoom+1,x:z,y:F,wrap:C.wrap,fullyVisible:M,tileID:U})}else{var q=C.zoom===_?x:C.zoom;if(e.minzoom&&e.minzoom>q)continue;var V=u[0]-(.5+P+(C.wrap<<C.zoom))*(1<<r-C.zoom),G=u[1]-.5-T,W=C.tileID?C.tileID:new t.OverscaledTileID(q,C.wrap,C.zoom,P,T);b.push({tileID:W,distanceSq:V*V+G*G})}}return b.sort((function(t,e){return t.distanceSq-e.distanceSq})).map((function(t){return t.tileID}))}},{key:"resize",value:function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()}},{key:"zoomScale",value:function(t){return Math.pow(2,t)}},{key:"scaleZoom",value:function(t){return Math.log(t)/Math.LN2}},{key:"project",value:function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)}},{key:"unproject",value:function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()}},{key:"setLocationAtPoint",value:function(e,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())}},{key:"setLocation",value:function(t){this.center=this.coordinateLocation(t),this._renderWorldCopies&&(this.center=this.center.wrap())}},{key:"locationPoint",value:function(t){return this._coordinatePoint(this.locationCoordinate(t),!1)}},{key:"locationPoint3D",value:function(t){return this._coordinatePoint(this.locationCoordinate(t),!0)}},{key:"pointLocation",value:function(t){return this.coordinateLocation(this.pointCoordinate(t))}},{key:"pointLocation3D",value:function(t){return this.coordinateLocation(this.pointCoordinate3D(t))}},{key:"locationCoordinate",value:function(e){return t.MercatorCoordinate.fromLngLat(e)}},{key:"coordinateLocation",value:function(t){return t.toLngLat()}},{key:"pointRayIntersection",value:function(e,n){var r=null!=n?n:this._centerAltitude,i=[e.x,e.y,0,1],o=[e.x,e.y,1,1];t.transformMat4(i,i,this.pixelMatrixInverse),t.transformMat4(o,o,this.pixelMatrixInverse);var a=o[3];t.scale$1(i,i,1/i[3]),t.scale$1(o,o,1/a);var s=i[2],u=o[2];return{p0:i,p1:o,t:s===u?0:(r-s)/(u-s)}}},{key:"screenPointToMercatorRay",value:function(e){var n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];return t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse),t.scale$1(n,n,1/n[3]),t.scale$1(r,r,1/r[3]),n[2]=t.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,r[2]=t.mercatorZfromAltitude(r[2],this._center.lat)*this.worldSize,t.scale$1(n,n,1/this.worldSize),t.scale$1(r,r,1/this.worldSize),new t.Ray([n[0],n[1],n[2]],t.normalize([],t.sub([],r,n)))}},{key:"rayIntersectionCoordinate",value:function(e){var n=e.p0,r=e.p1,i=e.t,o=t.mercatorZfromAltitude(n[2],this._center.lat),a=t.mercatorZfromAltitude(r[2],this._center.lat);return new t.MercatorCoordinate(t.number(n[0],r[0],i)/this.worldSize,t.number(n[1],r[1],i)/this.worldSize,t.number(o,a,i))}},{key:"pointCoordinate",value:function(e){var n=this.horizonLineFromTop(!1),r=new t.Point(e.x,Math.max(n,e.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(r))}},{key:"pointCoordinate3D",value:function(e){if(!this.elevation)return this.pointCoordinate(e);var n=this.elevation,r=this.elevation.pointCoordinate(e);if(r)return new t.MercatorCoordinate(r[0],r[1],r[2]);var i=0,o=this.horizonLineFromTop();if(e.y>o)return this.pointCoordinate(e);for(var a=.02*o,s=e.clone(),u=0;u<10&&o-i>a;u++){s.y=t.number(i,o,.66);var c=n.pointCoordinate(s);c?(o=s.y,r=c):i=s.y}return r?new t.MercatorCoordinate(r[0],r[1],r[2]):this.pointCoordinate(e)}},{key:"isPointAboveHorizon",value:function(t){if(this.elevation)return!this.elevation.pointCoordinate(t);var e=this.horizonLineFromTop();return t.y<e}},{key:"_coordinatePoint",value:function(e,n){var r=n&&this.elevation?this.elevation.getAtPoint(e,this._centerAltitude):this._centerAltitude,i=[e.x*this.worldSize,e.y*this.worldSize,r+e.toAltitude(),1];return t.transformMat4(i,i,this.pixelMatrix),i[3]>0?new t.Point(i[0]/i[3],i[1]/i[3]):new t.Point(Number.MAX_VALUE,Number.MAX_VALUE)}},{key:"getBounds",value:function(){return this._terrainEnabled()?this._getBounds3D():(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))}},{key:"_getBounds3D",value:function(){var e=this,n=this.elevation,r=n.visibleDemTiles.reduce((function(t,e){if(e.dem){var n=e.dem.tree;t.min=Math.min(t.min,n.minimums[0]),t.max=Math.max(t.max,n.maximums[0])}return t}),{min:Number.MAX_VALUE,max:0});r.min*=n.exaggeration(),r.max*=n.exaggeration();var i=this.horizonLineFromTop();return[new t.Point(0,i),new t.Point(this.width,i),new t.Point(this.width,this.height),new t.Point(0,this.height)].reduce((function(t,n){return t.extend(e.coordinateLocation(e.rayIntersectionCoordinate(e.pointRayIntersection(n,r.min)))).extend(e.coordinateLocation(e.rayIntersectionCoordinate(e.pointRayIntersection(n,r.max))))}),new t.LngLatBounds)}},{key:"horizonLineFromTop",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,n=this.height/2-.97*e;return t?Math.max(0,n):n}},{key:"getMaxBounds",value:function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}},{key:"setMaxBounds",value:function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}},{key:"calculatePosMatrix",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,u=t.identity(new Float64Array(16));return t.translate(u,u,[s*a,o.y*a,0]),t.scale(u,u,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),i[r]=new Float32Array(u),i[r]}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"recenterOnTerrain",value:function(){if(this._elevation){var e=this._elevation;this._updateCameraState();var n=this._camera.position,r=this._camera.forward();if(!(n.z<=0||r[2]>=0)){var i=t.mercatorZfromAltitude(1,this._center.lat);n[2]/=i,r[2]/=i,t.normalize(r,r);var o=e.raycast(n,r,e.exaggeration());if(o){var a=t.scaleAndAdd([],n,r,o),s=new t.MercatorCoordinate(a[0],a[1],t.mercatorZfromAltitude(a[2],t.latFromMercatorY(a[1]))),u=this._camera.position,c=s.z+t.length([s.x-u[0],s.y-u[1],s.z-u[2]]);this._cameraZoom=this._zoomFromMercatorZ(c),this._centerAltitude=s.toAltitude(),this._center=s.toLngLat(),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}}}},{key:"_constrainCameraAltitude",value:function(){if(this._elevation){var e=this._elevation;this._updateCameraState();var n=e.getAtPoint(this._camera.mercatorPosition),r=this._minimumHeightOverTerrain()*Math.cos(t.degToRad(this._maxPitch)),i=t.mercatorZfromAltitude(n,this._center.lat),o=this._camera.position[2]-i;if(o<r){var a=t.MercatorCoordinate.fromLngLat(this._center,this._centerAltitude),s=this._camera.mercatorPosition,u=[a.x-s.x,a.y-s.y,a.z-s.z],c=t.length(u);u[2]-=r-o;var l=t.length(u);if(0===l)return;t.scale$2(u,u,c/l),this._camera.position=[a.x-u[0],a.y-u[1],a.z-u[2]],this._camera.orientation=hr(u,this._camera.up()),this._updateStateFromCamera()}}}},{key:"_constrain",value:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,r,i,o=-90,a=90,s=-180,u=180,c=this.size,l=this._unmodified;if(this.latRange){var f=this.latRange;o=t.mercatorYfromLat(f[1])*this.worldSize,e=(a=t.mercatorYfromLat(f[0])*this.worldSize)-o<c.y?c.y/(a-o):0}if(this.lngRange){var h=this.lngRange;s=t.mercatorXfromLng(h[0])*this.worldSize,n=(u=t.mercatorXfromLng(h[1])*this.worldSize)-s<c.x?c.x/(u-s):0}var p=this.point,d=Math.max(n||0,e||0);if(d)return this.center=this.unproject(new t.Point(n?(u+s)/2:p.x,e?(a+o)/2:p.y)),this.zoom+=this.scaleZoom(d),this._unmodified=l,void(this._constraining=!1);if(this.latRange){var y=p.y,v=c.y/2;y-v<o&&(i=o+v),y+v>a&&(i=a-v)}if(this.lngRange){var g=p.x,m=c.x/2;g-m<s&&(r=s+m),g+m>u&&(r=u-m)}void 0===r&&void 0===i||(this.center=this.unproject(new t.Point(void 0!==r?r:p.x,void 0!==i?i:p.y))),this._constrainCameraAltitude(),this._unmodified=l,this._constraining=!1}}},{key:"_minZoomForBounds",value:function(){var e=this,n=function(t,n){return Math.log2(t/(e.tileSize*Math.abs(n[1]-n[0])))},r=0;if(this.latRange){var i=this.latRange;r=n(this.height,[t.mercatorYfromLat(i[0]),t.mercatorYfromLat(i[1])])}var o=0;if(this.lngRange){var a=this.lngRange;o=n(this.width,[t.mercatorXfromLng(a[0]),t.mercatorXfromLng(a[1])])}return Math.max(r,o)}},{key:"_maxCameraBoundsDistance",value:function(){return this._mercatorZfromZoom(this._minZoomForBounds())}},{key:"_calcMatrices",value:function(){if(this.height){var e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;this._updateCameraState();var r=Math.PI/2+this._pitch,i=this.fovAboveCenter,o=this._camera.position[2]*this.worldSize/Math.cos(this._pitch),a=Math.sin(i)*o/Math.sin(t.clamp(Math.PI-r-i,.01,Math.PI-.01)),s=this.point,u=s.x,c=s.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*a+o),f=this.height/50,h=this._camera.getWorldToCamera(this.worldSize,n),p=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,f,l);p[8]=2*-e.x/this.width,p[9]=2*e.y/this.height;var d=t.mul([],p,h);this.mercatorMatrix=t.scale([],d,[this.worldSize,this.worldSize,this.worldSize/n]),this.projMatrix=d,this.invProjMatrix=t.invert(new Float64Array(16),this.projMatrix);var y=new Float32Array(16);t.identity(y),t.scale(y,y,[1,-1,1]),t.rotateX(y,y,this._pitch),t.rotateZ(y,y,this.angle);var v=t.perspective(new Float32Array(16),this._fov,this.width/this.height,f,l);v[8]=2*-e.x/this.width,v[9]=2*e.y/this.height,this.skyboxMatrix=t.multiply(y,v,y);var g=this.width%2/2,m=this.height%2/2,b=Math.cos(this.angle),_=Math.sin(this.angle),x=u-Math.round(u)+b*g+_*m,w=c-Math.round(c)+b*m+_*g,E=new Float64Array(d);if(t.translate(E,E,[x>.5?x-1:x,w>.5?w-1:w,0]),this.alignedProjMatrix=E,d=t.create(),t.scale(d,d,[this.width/2,-this.height/2,1]),t.translate(d,d,[1,-1,0]),this.labelPlaneMatrix=d,d=t.create(),t.scale(d,d,[1,-1,1]),t.translate(d,d,[-1,-1,0]),t.scale(d,d,[2/this.width,2/this.height,1]),this.glCoordMatrix=d,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(d=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=d,this._posMatrixCache={},this._alignedPosMatrixCache={}}}},{key:"_updateCameraState",value:function(){if(this.height){this._camera.setPitchBearing(this._pitch,this.angle);var e=this._camera.forward(),n=this.cameraToCenterDistance,r=this.point,i=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-t.mercatorZfromAltitude(this._centerAltitude,this.center.lat),o=this.cameraToCenterDistance/i;this._camera.position=[r.x/this.worldSize-e[0]*n/o,r.y/this.worldSize-e[1]*n/o,t.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-e[2]*n/o]}}},{key:"_translateCameraConstrained",value:function(e){var n=this._maxCameraBoundsDistance()*Math.cos(this._pitch),r=e[2],i=1;r>0&&(i=Math.min((n-this._camera.position[2])/r,1)),this._camera.position=t.scaleAndAdd([],this._camera.position,e,i),this._updateStateFromCamera()}},{key:"_updateStateFromCamera",value:function(){var e=this._camera.position,n=this._camera.forward(),r=this._camera.getPitchBearing(),i=r.pitch,o=r.bearing,a=t.mercatorZfromAltitude(this._centerAltitude,this.center.lat),s=this._mercatorZfromZoom(this._maxZoom)*Math.cos(t.degToRad(this._maxPitch)),u=Math.max((e[2]-a)/Math.cos(i),s),c=this._zoomFromMercatorZ(u);t.scaleAndAdd(e,e,n,u),this._pitch=t.clamp(i,t.degToRad(this.minPitch),t.degToRad(this.maxPitch)),this.angle=t.wrap(o,-Math.PI,Math.PI),this._setZoom(t.clamp(c,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=new t.MercatorCoordinate(e[0],e[1],e[2]).toLngLat(),this._unmodified=!1,this._constrain(),this._calcMatrices()}},{key:"_worldSizeFromZoom",value:function(t){return Math.pow(2,t)*this.tileSize}},{key:"_mercatorZfromZoom",value:function(t){return this.cameraToCenterDistance/this._worldSizeFromZoom(t)}},{key:"_minimumHeightOverTerrain",value:function(){var t=Math.min((null!=this._cameraZoom?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(t)}},{key:"_zoomFromMercatorZ",value:function(t){return this.scaleZoom(this.cameraToCenterDistance/(t*this.tileSize))}},{key:"_terrainEnabled",value:function(){return!!this._elevation}},{key:"isHorizonVisibleForPoints",value:function(e,n){for(var r=Math.min(e.x,n.x),i=Math.max(e.x,n.x),o=Math.min(e.y,n.y),a=Math.max(e.y,n.y),s=[new t.Point(r,o),new t.Point(i,a),new t.Point(r,a),new t.Point(i,o)],u=this._renderWorldCopies?-3:0,c=this._renderWorldCopies?4:1,l=0,f=s;l<f.length;l++){var h=f[l],p=this.pointRayIntersection(h);if(p.t<0)return!0;var d=this.rayIntersectionCoordinate(p);if(d.x<u||d.y<0||d.x>c||d.y>1)return!0}return!1}},{key:"isHorizonVisible",value:function(){return this.pitch+t.radToDeg(this.fovAboveCenter)>88||this.isHorizonVisibleForPoints(new t.Point(0,0),new t.Point(this.width,this.height))}},{key:"zoomDeltaToMovement",value:function(e,n){var r=t.length(t.sub([],this._camera.position,e)),i=this._zoomFromMercatorZ(r)+n;return r-this._mercatorZfromZoom(i)}},{key:"getCameraPoint",value:function(){var e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,e))}},{key:"elevation",get:function(){return this._elevation},set:function(t){this._elevation!==t&&(this._elevation=t,t?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}},{key:"minZoom",get:function(){return this._minZoom},set:function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))}},{key:"minPitch",get:function(){return this._minPitch},set:function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies},set:function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new t.Point(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(e){var n=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}},{key:"fov",get:function(){return this._fov/Math.PI*180},set:function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())}},{key:"zoom",get:function(){return this._zoom},set:function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._setZoom(e),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}},{key:"center",get:function(){return this._center},set:function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}},{key:"padding",get:function(){return this._edgeInsets.toJSON()},set:function(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())}},{key:"centerPoint",get:function(){return this._edgeInsets.getCenter(this.width,this.height)}},{key:"fovAboveCenter",get:function(){return this._fov*(.5+this.centerOffset.y/this.height)}},{key:"unmodified",get:function(){return this._unmodified}},{key:"point",get:function(){return this.project(this.center)}}]),e}(),vr=function(){function e(n){v(this,e),this._hashName=n&&encodeURIComponent(n),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(t,e){var n=!1,r=null,i=function e(){r=null,n&&(t(),r=setTimeout(e,300),n=!1)};return function(){return n=!0,r||i(),r}}(this._updateHashUnthrottled.bind(this))}return g(e,[{key:"addTo",value:function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}},{key:"remove",value:function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}},{key:"getHashString",value:function(e){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,u=this._map.getBearing(),c=this._map.getPitch(),l="";if(l+=e?"/".concat(a,"/").concat(s,"/").concat(r):"".concat(r,"/").concat(s,"/").concat(a),(u||c)&&(l+="/".concat(Math.round(10*u)/10)),c&&(l+="/".concat(Math.round(c))),this._hashName){var f=this._hashName,h=!1,p=t.window.location.hash.slice(1).split("&").map((function(t){var e=t.split("=")[0];return e===f?(h=!0,"".concat(e,"=").concat(l)):t})).filter((function(t){return t}));return h||p.push("".concat(f,"=").concat(l)),"#".concat(p.join("&"))}return"#".concat(l)}},{key:"_getCurrentHash",value:function(){var e,n=this,r=t.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(t){return t.split("=")})).forEach((function(t){t[0]===n._hashName&&(e=t)})),(e&&e[1]||"").split("/")):r.split("/")}},{key:"_onHashChange",value:function(){var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(t){return isNaN(t)}))){var e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1}},{key:"_updateHashUnthrottled",value:function(){var e=t.window.location.href.replace(/(#.+)?$/,this.getHashString());t.window.history.replaceState(t.window.history.state,null,e)}}]),e}(),gr={linearity:.3,easing:t.bezier(0,0,.3,1)},mr=t.extend({deceleration:2500,maxSpeed:1400},gr),br=t.extend({deceleration:20,maxSpeed:1400},gr),_r=t.extend({deceleration:1e3,maxSpeed:360},gr),xr=t.extend({deceleration:1e3,maxSpeed:90},gr),wr=function(){function e(t){v(this,e),this._map=t,this.clear()}return g(e,[{key:"clear",value:function(){this._inertiaBuffer=[]}},{key:"record",value:function(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.browser.now(),settings:e})}},{key:"_drainInertiaBuffer",value:function(){for(var e=this._inertiaBuffer,n=t.browser.now();e.length>0&&n-e[0].time>160;)e.shift()}},{key:"_onMoveEnd",value:function(e){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){var n,r={zoom:0,bearing:0,pitch:0,pan:new t.Point(0,0),pinchAround:void 0,around:void 0},i=h(this._inertiaBuffer);try{for(i.s();!(n=i.n()).done;){var o=n.value.settings;r.zoom+=o.zoomDelta||0,r.bearing+=o.bearingDelta||0,r.pitch+=o.pitchDelta||0,o.panDelta&&r.pan._add(o.panDelta),o.around&&(r.around=o.around),o.pinchAround&&(r.pinchAround=o.pinchAround)}}catch(d){i.e(d)}finally{i.f()}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(r.pan.mag()){var u=Sr(r.pan.mag(),a,t.extend({},mr,e||{}));s.offset=r.pan.mult(u.amount/r.pan.mag()),s.center=this._map.transform.center,Er(s,u)}if(r.zoom){var c=Sr(r.zoom,a,br);s.zoom=this._map.transform.zoom+c.amount,Er(s,c)}if(r.bearing){var l=Sr(r.bearing,a,_r);s.bearing=this._map.transform.bearing+t.clamp(l.amount,-179,179),Er(s,l)}if(r.pitch){var f=Sr(r.pitch,a,xr);s.pitch=this._map.transform.pitch+f.amount,Er(s,f)}if(s.zoom||s.bearing){var p=void 0===r.pinchAround?r.around:r.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),t.extend(s,{noMoveStart:!0})}}}]),e}();function Er(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function Sr(e,n,r){var i=r.maxSpeed,o=r.linearity,a=r.deceleration,s=t.clamp(e*o/(n/1e3),-i,i),u=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*u,amount:s*(u/2)}}var kr=function(e){d(r,e);var n=y(r);function r(e,i,o){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};v(this,r);var u=p.mousePos(i.getCanvasContainer(),o),c=i.unproject(u);return(a=n.call(this,e,t.extend({point:u,lngLat:c,originalEvent:o},s)))._defaultPrevented=!1,a.target=i,a}return g(r,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),r}(t.Event),Or=function(e){d(r,e);var n=y(r);function r(e,i,o){var a;v(this,r);var s="touchend"===e?o.changedTouches:o.touches,u=p.touchPos(i.getCanvasContainer(),s),c=u.map((function(t){return i.unproject(t)})),l=u.reduce((function(t,e,n,r){return t.add(e.div(r.length))}),new t.Point(0,0));return(a=n.call(this,e,{points:u,point:l,lngLats:c,lngLat:i.unproject(l),originalEvent:o}))._defaultPrevented=!1,a}return g(r,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),r}(t.Event),Cr=function(t){d(n,t);var e=y(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,{originalEvent:i}))._defaultPrevented=!1,o}return g(n,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),n}(t.Event),Pr=function(){function t(e,n){v(this,t),this._map=e,this._clickTolerance=n.clickTolerance}return g(t,[{key:"reset",value:function(){delete this._mousedownPos}},{key:"wheel",value:function(t){return this._firePreventable(new Cr(t.type,this._map,t))}},{key:"mousedown",value:function(t,e){return this._mousedownPos=e,this._firePreventable(new kr(t.type,this._map,t))}},{key:"mouseup",value:function(t){this._map.fire(new kr(t.type,this._map,t))}},{key:"click",value:function(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new kr(t.type,this._map,t))}},{key:"dblclick",value:function(t){return this._firePreventable(new kr(t.type,this._map,t))}},{key:"mouseover",value:function(t){this._map.fire(new kr(t.type,this._map,t))}},{key:"mouseout",value:function(t){this._map.fire(new kr(t.type,this._map,t))}},{key:"touchstart",value:function(t){return this._firePreventable(new Or(t.type,this._map,t))}},{key:"touchmove",value:function(t){this._map.fire(new Or(t.type,this._map,t))}},{key:"touchend",value:function(t){this._map.fire(new Or(t.type,this._map,t))}},{key:"touchcancel",value:function(t){this._map.fire(new Or(t.type,this._map,t))}},{key:"_firePreventable",value:function(t){if(this._map.fire(t),t.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),t}(),Tr=function(){function t(e){v(this,t),this._map=e}return g(t,[{key:"reset",value:function(){this._delayContextMenu=!1,delete this._contextMenuEvent}},{key:"mousemove",value:function(t){this._map.fire(new kr(t.type,this._map,t))}},{key:"mousedown",value:function(){this._delayContextMenu=!0}},{key:"mouseup",value:function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new kr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}},{key:"contextmenu",value:function(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new kr(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),t}(),Mr=function(){function e(t,n){v(this,e),this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=n.clickTolerance||1}return g(e,[{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active}},{key:"enable",value:function(){this.isEnabled()||(this._enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1)}},{key:"mousedown",value:function(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(p.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)}},{key:"mousemoveWindow",value:function(t,e){if(this._active){var n=e;if(!(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=n,this._box||(this._box=p.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var i=Math.min(r.x,n.x),o=Math.max(r.x,n.x),a=Math.min(r.y,n.y),s=Math.max(r.y,n.y);p.setTransform(this._box,"translate(".concat(i,"px,").concat(a,"px)")),this._box.style.width="".concat(o-i,"px"),this._box.style.height="".concat(s-a,"px")}}}},{key:"mouseupWindow",value:function(e,n){var r=this;if(this._active&&0===e.button){var i=this._startPos,o=n;if(this.reset(),p.suppressClick(),i.x!==o.x||i.y!==o.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:function(t){return t.fitScreenCoordinates(i,o,r._map.getBearing(),{linear:!1})}};this._fireEvent("boxzoomcancel",e)}}},{key:"keydown",value:function(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))}},{key:"reset",value:function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(p.remove(this._box),this._box=null),p.enableDrag(),delete this._startPos,delete this._lastPos}},{key:"_fireEvent",value:function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))}}]),e}();function Ar(t,e){for(var n={},r=0;r<t.length;r++)n[t[r].identifier]=e[r];return n}var Ir=function(){function e(t){v(this,e),this.reset(),this.numTouches=t.numTouches}return g(e,[{key:"reset",value:function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}},{key:"touchstart",value:function(e,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),r.length===this.numTouches&&(this.centroid=function(e){var n,r=new t.Point(0,0),i=h(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r._add(o)}}catch(a){i.e(a)}finally{i.f()}return r.div(e.length)}(n),this.touches=Ar(r,n)))}},{key:"touchmove",value:function(t,e,n){if(!this.aborted&&this.centroid){var r=Ar(n,e);for(var i in this.touches){var o=this.touches[i],a=r[i];(!a||a.dist(o)>30)&&(this.aborted=!0)}}}},{key:"touchend",value:function(t,e,n){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}}}]),e}(),jr=function(){function t(e){v(this,t),this.singleTap=new Ir(e),this.numTaps=e.numTaps,this.reset()}return g(t,[{key:"reset",value:function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(t,e,n){this.singleTap.touchstart(t,e,n)}},{key:"touchmove",value:function(t,e,n){this.singleTap.touchmove(t,e,n)}},{key:"touchend",value:function(t,e,n){var r=this.singleTap.touchend(t,e,n);if(r){var i=t.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}]),t}(),Rr=function(){function t(){v(this,t),this._zoomIn=new jr({numTouches:1,numTaps:2}),this._zoomOut=new jr({numTouches:2,numTaps:1}),this.reset()}return g(t,[{key:"reset",value:function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}},{key:"touchstart",value:function(t,e,n){this._zoomIn.touchstart(t,e,n),this._zoomOut.touchstart(t,e,n)}},{key:"touchmove",value:function(t,e,n){this._zoomIn.touchmove(t,e,n),this._zoomOut.touchmove(t,e,n)}},{key:"touchend",value:function(t,e,n){var r=this,i=this._zoomIn.touchend(t,e,n),o=this._zoomOut.touchend(t,e,n);return i?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(i)},{originalEvent:t})}}):o?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(o)},{originalEvent:t})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),t}(),Dr={0:1,2:2},Nr=function(){function t(e){v(this,t),this.reset(),this._clickTolerance=e.clickTolerance||1}return g(t,[{key:"reset",value:function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}},{key:"_correctButton",value:function(t,e){return!1}},{key:"_move",value:function(t,e){return{}}},{key:"mousedown",value:function(t,e){if(!this._lastPoint){var n=p.mouseButton(t);this._correctButton(t,n)&&(this._lastPoint=e,this._eventButton=n)}}},{key:"mousemoveWindow",value:function(t,e){var n=this._lastPoint;if(n)if(t.preventDefault(),function(t,e){var n=Dr[e];return void 0===t.buttons||(t.buttons&n)!==n}(t,this._eventButton))this.reset();else if(this._moved||!(e.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=e,this._move(n,e)}},{key:"mouseupWindow",value:function(t){this._lastPoint&&p.mouseButton(t)===this._eventButton&&(this._moved&&p.suppressClick(),this.reset())}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),t}(),Lr=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"mousedown",value:function(t,e){a(s(n.prototype),"mousedown",this).call(this,t,e),this._lastPoint&&(this._active=!0)}},{key:"_correctButton",value:function(t,e){return 0===e&&!t.ctrlKey}},{key:"_move",value:function(t,e){return{around:e,panDelta:e.sub(t)}}}]),n}(Nr),zr=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_correctButton",value:function(t,e){return 0===e&&t.ctrlKey||2===e}},{key:"_move",value:function(t,e){var n=.8*(e.x-t.x);if(n)return this._active=!0,{bearingDelta:n}}},{key:"contextmenu",value:function(t){t.preventDefault()}}]),n}(Nr),Fr=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"_correctButton",value:function(t,e){return 0===e&&t.ctrlKey||2===e}},{key:"_move",value:function(t,e){var n=-.5*(e.y-t.y);if(n)return this._active=!0,{pitchDelta:n}}},{key:"contextmenu",value:function(t){t.preventDefault()}}]),n}(Nr),Br=function(){function e(t){v(this,e),this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset()}return g(e,[{key:"reset",value:function(){this._active=!1,this._touches={},this._sum=new t.Point(0,0)}},{key:"touchstart",value:function(t,e,n){return this._calculateTransform(t,e,n)}},{key:"touchmove",value:function(t,e,n){if(this._active&&!(n.length<this._minTouches))return t.preventDefault(),this._calculateTransform(t,e,n)}},{key:"touchend",value:function(t,e,n){this._calculateTransform(t,e,n),this._active&&n.length<this._minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"_calculateTransform",value:function(e,n,r){r.length>0&&(this._active=!0);var i=Ar(r,n),o=new t.Point(0,0),a=new t.Point(0,0),s=0;for(var u in i){var c=i[u],l=this._touches[u];l&&(o._add(c),a._add(c.sub(l)),s++,i[u]=c)}if(this._touches=i,!(s<this._minTouches)&&a.mag()){var f=a.div(s);return this._sum._add(f),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:f}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Ur=function(){function t(){v(this,t),this.reset()}return g(t,[{key:"reset",value:function(){this._active=!1,delete this._firstTwoTouches}},{key:"_start",value:function(t){}},{key:"_move",value:function(t,e,n){return{}}},{key:"touchstart",value:function(t,e,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([e[0],e[1]]))}},{key:"touchmove",value:function(t,e,n){if(this._firstTwoTouches){t.preventDefault();var r=f(this._firstTwoTouches,2),i=r[0],o=r[1],a=qr(n,e,i),s=qr(n,e,o);if(a&&s){var u=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],u,t)}}}},{key:"touchend",value:function(t,e,n){if(this._firstTwoTouches){var r=f(this._firstTwoTouches,2),i=r[0],o=r[1],a=qr(n,e,i),s=qr(n,e,o);a&&s||(this._active&&p.suppressClick(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),t}();function qr(t,e,n){for(var r=0;r<t.length;r++)if(t[r].identifier===n)return e[r]}function Vr(t,e){return Math.log(t/e)/Math.LN2}var Gr=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"reset",value:function(){a(s(n.prototype),"reset",this).call(this),delete this._distance,delete this._startDistance}},{key:"_start",value:function(t){this._startDistance=this._distance=t[0].dist(t[1])}},{key:"_move",value:function(t,e){var n=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Vr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Vr(this._distance,n),pinchAround:e}}}]),n}(Ur);function Wr(t,e){return 180*t.angleWith(e)/Math.PI}var Hr=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"reset",value:function(){a(s(n.prototype),"reset",this).call(this),delete this._minDiameter,delete this._startVector,delete this._vector}},{key:"_start",value:function(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])}},{key:"_move",value:function(t,e){var n=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Wr(this._vector,n),pinchAround:e}}},{key:"_isBelowThreshold",value:function(t){this._minDiameter=Math.min(this._minDiameter,t.mag());var e=25/(Math.PI*this._minDiameter)*360,n=Wr(t,this._startVector);return Math.abs(n)<e}}]),n}(Ur);function Kr(t){return Math.abs(t.y)>Math.abs(t.x)}var Xr=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return g(n,[{key:"reset",value:function(){a(s(n.prototype),"reset",this).call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints}},{key:"_start",value:function(t){this._lastPoints=t,Kr(t[0].sub(t[1]))&&(this._valid=!1)}},{key:"_move",value:function(t,e,n){var r=t[0].sub(this._lastPoints[0]),i=t[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=t,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}}},{key:"gestureBeginsVertically",value:function(t,e,n){if(void 0!==this._valid)return this._valid;var r=t.mag()>=2,i=e.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=t.y>0==e.y>0;return Kr(t)&&Kr(e)&&o}}}]),n}(Ur),Yr={panStep:100,bearingStep:15,pitchStep:10},Zr=function(){function t(){v(this,t);var e=Yr;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}return g(t,[{key:"reset",value:function(){this._active=!1}},{key:"keydown",value:function(t){var e=this;if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:t.shiftKey?r=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?r=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?i=-1:(t.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:$r,zoom:n?Math.round(u)+n*(t.shiftKey?2:1):u,bearing:s.getBearing()+r*e._bearingStep,pitch:s.getPitch()+i*e._pitchStep,offset:[-o*e._panStep,-a*e._panStep],center:s.getCenter()},{originalEvent:t})}}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}},{key:"disableRotation",value:function(){this._rotationDisabled=!0}},{key:"enableRotation",value:function(){this._rotationDisabled=!1}}]),t}();function $r(t){return t*(2-t)}var Jr=function(){function e(n,r){v(this,e),this._map=n,this._el=n.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onTimeout"],this)}return g(e,[{key:"setZoomRate",value:function(t){this._defaultZoomRate=t}},{key:"setWheelZoomRate",value:function(t){this._wheelZoomRate=t}},{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active||void 0!==this._finishTimeout}},{key:"isZooming",value:function(){return!!this._zooming}},{key:"enable",value:function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1)}},{key:"wheel",value:function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this._active||this._start(e)),e.preventDefault()}}},{key:"_onTimeout",value:function(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)}},{key:"_start",value:function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var e=p.mousePos(this._el,t);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:e,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}}},{key:"renderFrame",value:function(){var e=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform,r=function(){return n._terrainEnabled()?n.computeZoomRelativeTo(e._aroundCoord):n.zoom};if(0!==this._delta){var i="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,o=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==o&&(o=1/o);var a=r(),s=Math.pow(2,a),u="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):s;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(u*o))),"wheel"===this._type&&(this._startZoom=r(),this._easing=this._smoothOutEasing(200)),this._delta=0}var c,l="number"==typeof this._targetZoom?this._targetZoom:r(),f=this._startZoom,h=this._easing,p=!1;if("wheel"===this._type&&f&&h){var d=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),y=h(d);c=t.number(f,l,y),d<1?this._frameId||(this._frameId=!0):p=!0}else c=l,p=!0;return this._active=!0,p&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._handler._triggerRenderFrame(),delete e._targetZoom,delete e._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!p,zoomDelta:c-r(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}}},{key:"_smoothOutEasing",value:function(e){var n=t.ease;if(this._prevEase){var r=this._prevEase,i=(t.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n}},{key:"reset",value:function(){this._active=!1}}]),e}(),Qr=function(){function t(e,n){v(this,t),this._clickZoom=e,this._tapZoom=n}return g(t,[{key:"enable",value:function(){this._clickZoom.enable(),this._tapZoom.enable()}},{key:"disable",value:function(){this._clickZoom.disable(),this._tapZoom.disable()}},{key:"isEnabled",value:function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}},{key:"isActive",value:function(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}]),t}(),ti=function(){function t(){v(this,t),this.reset()}return g(t,[{key:"reset",value:function(){this._active=!1}},{key:"dblclick",value:function(t,e){return t.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(t.shiftKey?-1:1),around:n.unproject(e)},{originalEvent:t})}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),t}(),ei=function(){function t(){v(this,t),this._tap=new jr({numTouches:1,numTaps:1}),this.reset()}return g(t,[{key:"reset",value:function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}},{key:"touchstart",value:function(t,e,n){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=e[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(t,e,n))}},{key:"touchmove",value:function(t,e,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=e[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,t.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(t,e,n)}},{key:"touchend",value:function(t,e,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(t,e,n)&&(this._tapTime=t.timeStamp)}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),t}(),ni=function(){function t(e,n,r){v(this,t),this._el=e,this._mousePan=n,this._touchPan=r}return g(t,[{key:"enable",value:function(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}},{key:"disable",value:function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}},{key:"isEnabled",value:function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}},{key:"isActive",value:function(){return this._mousePan.isActive()||this._touchPan.isActive()}}]),t}(),ri=function(){function t(e,n,r){v(this,t),this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=n,this._mousePitch=r}return g(t,[{key:"enable",value:function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}},{key:"disable",value:function(){this._mouseRotate.disable(),this._mousePitch.disable()}},{key:"isEnabled",value:function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}},{key:"isActive",value:function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}]),t}(),ii=function(){function t(e,n,r,i){v(this,t),this._el=e,this._touchZoom=n,this._touchRotate=r,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}return g(t,[{key:"enable",value:function(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}},{key:"disable",value:function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this._rotationDisabled=!0,this._touchRotate.disable()}},{key:"enableRotation",value:function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}]),t}(),oi=function(t){return t.zoom||t.drag||t.pitch||t.rotate},ai=function(t){d(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(t.Event),si=function(){function e(){v(this,e),this.constants=[1,1,.01],this.radius=0}return g(e,[{key:"setup",value:function(e,n){var r=t.sub([],n,e);this.radius=t.length(r[2]<0?t.div([],r,this.constants):[r[0],r[1],0])}},{key:"projectRay",value:function(e){t.div(e,e,this.constants),t.normalize(e,e),t.mul$1(e,e,this.constants);var n=t.scale$2([],e,this.radius);if(n[2]>0){var r=t.scale$2([],[0,0,1],t.dot(n,[0,0,1])),i=t.scale$2([],t.normalize([],[n[0],n[1],0]),this.radius),o=t.add([],n,t.scale$2([],t.sub([],t.add([],i,r),n),2));n[0]=o[0],n[1]=o[1]}return n}}]),e}();function ui(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}var ci=function(){function e(n,r){v(this,e),this._map=n,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new wr(n),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new si,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(r),t.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[t.window,"blur",void 0]];var o,a=h(this._listeners);try{for(a.s();!(o=a.n()).done;){var s=f(o.value,3),u=s[0],c=s[1],l=s[2];p.addEventListener(u,c,u===t.window.document?this.handleWindowEvent:this.handleEvent,l)}}catch(d){a.e(d)}finally{a.f()}}return g(e,[{key:"destroy",value:function(){var e,n=h(this._listeners);try{for(n.s();!(e=n.n()).done;){var r=f(e.value,3),i=r[0],o=r[1],a=r[2];p.removeEventListener(i,o,i===t.window.document?this.handleWindowEvent:this.handleEvent,a)}}catch(s){n.e(s)}finally{n.f()}}},{key:"_addDefaultHandlers",value:function(t){var e=this._map,n=e.getCanvasContainer();this._add("mapEvent",new Pr(e,t));var r=e.boxZoom=new Mr(e,t);this._add("boxZoom",r);var i=new Rr,o=new ti;e.doubleClickZoom=new Qr(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new ei;this._add("tapDragZoom",a);var s=e.touchPitch=new Xr;this._add("touchPitch",s);var u=new zr(t),c=new Fr(t);e.dragRotate=new ri(t,u,c),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);var l=new Lr(t),f=new Br(t);e.dragPan=new ni(n,l,f),this._add("mousePan",l),this._add("touchPan",f,["touchZoom","touchRotate"]);var h=new Hr,p=new Gr;e.touchZoomRotate=new ii(n,p,h,a),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Tr(e));var d=e.scrollZoom=new Jr(e,this);this._add("scrollZoom",d,["mousePan"]);var y=e.keyboard=new Zr;this._add("keyboard",y);for(var v=0,g=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];v<g.length;v++){var m=g[v];t.interactive&&t[m]&&e[m].enable(t[m])}}},{key:"_add",value:function(t,e,n){this._handlers.push({handlerName:t,handler:e,allowed:n}),this._handlersById[t]=e}},{key:"stop",value:function(t){if(!this._updatingCamera){var e,n=h(this._handlers);try{for(n.s();!(e=n.n()).done;)e.value.handler.reset()}catch(r){n.e(r)}finally{n.f()}this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}}},{key:"isActive",value:function(){var t,e=h(this._handlers);try{for(e.s();!(t=e.n()).done;)if(t.value.handler.isActive())return!0}catch(n){e.e(n)}finally{e.f()}return!1}},{key:"isZooming",value:function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this._eventsInProgress.rotate}},{key:"isMoving",value:function(){return Boolean(oi(this._eventsInProgress))||this.isZooming()}},{key:"_blockedByActive",value:function(t,e,n){for(var r in t)if(r!==n&&(!e||e.indexOf(r)<0))return!0;return!1}},{key:"handleWindowEvent",value:function(t){this.handleEvent(t,"".concat(t.type,"Window"))}},{key:"_getMapTouches",value:function(t){var e,n=[],r=h(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;this._el.contains(i.target)&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"handleEvent",value:function(t,e){if("blur"!==t.type){this._updatingCamera=!0;var n,r="renderFrame"===t.type?void 0:t,i={needsRenderFrame:!1},o={},a={},s=t.touches?this._getMapTouches(t.touches):void 0,u=s?p.touchPos(this._el,s):p.mousePos(this._el,t),c=h(this._handlers);try{for(c.s();!(n=c.n()).done;){var l=n.value,f=l.handlerName,d=l.handler,y=l.allowed;if(d.isEnabled()){var v=void 0;this._blockedByActive(a,y,f)?d.reset():d[e||t.type]&&(v=d[e||t.type](t,u,s),this.mergeHandlerResult(i,o,v,f,r),v&&v.needsRenderFrame&&this._triggerRenderFrame()),(v||d.isActive())&&(a[f]=d)}}}catch(_){c.e(_)}finally{c.f()}var g={};for(var m in this._previousActiveHandlers)a[m]||(g[m]=r);this._previousActiveHandlers=a,(Object.keys(g).length||ui(i))&&(this._changes.push([i,o,g]),this._triggerRenderFrame()),(Object.keys(a).length||ui(i))&&this._map._stop(!0),this._updatingCamera=!1;var b=i.cameraAnimation;b&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],b(this._map))}else this.stop(!0)}},{key:"mergeHandlerResult",value:function(e,n,r,i,o){if(r){t.extend(e,r);var a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}}},{key:"_applyChanges",value:function(){var e,n={},r={},i={},o=h(this._changes);try{for(o.s();!(e=o.n()).done;){var a=f(e.value,3),s=a[0],u=a[1],c=a[2];s.panDelta&&(n.panDelta=(n.panDelta||new t.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(n.around=s.around),void 0!==s.aroundCoord&&(n.aroundCoord=s.aroundCoord),void 0!==s.pinchAround&&(n.pinchAround=s.pinchAround),s.noInertia&&(n.noInertia=s.noInertia),t.extend(r,u),t.extend(i,c)}}catch(l){o.e(l)}finally{o.f()}this._updateMapTransform(n,r,i),this._changes=[]}},{key:"_updateMapTransform",value:function(e,n,r){var i=this,o=this._map,a=o.transform,s=function(t){return[t.x,t.y,t.z]};if(function(t){var e=i._eventsInProgress.drag;return e&&!i._handlersById[e.handlerName].isActive()}()&&!ui(e)){var u=a.zoom;a.cameraElevationReference="sea",a.recenterOnTerrain(),a.cameraElevationReference="ground",u!==a.zoom&&this._map._update(!0)}if(!ui(e))return this._fireEvents(n,r,!0);var c=e.panDelta,l=e.zoomDelta,f=e.bearingDelta,h=e.pitchDelta,p=e.around,d=e.aroundCoord,y=e.pinchAround;void 0!==y&&(p=y),n.drag&&!i._eventsInProgress.drag&&p&&(this._dragOrigin=s(a.pointCoordinate3D(p)),this._trackingEllipsoid.setup(a._camera.position,this._dragOrigin)),a.cameraElevationReference="sea",o._stop(!0),p=p||o.transform.centerPoint,f&&(a.bearing+=f),h&&(a.pitch+=h),a._updateCameraState();var v=[0,0,0];if(c){var g=a.screenPointToMercatorRay(p),m=a.screenPointToMercatorRay(p.sub(c)),b=this._trackingEllipsoid.projectRay(g.dir),_=this._trackingEllipsoid.projectRay(m.dir);v[0]=_[0]-b[0],v[1]=_[1]-b[1]}var x=a.zoom,w=[0,0,0];if(l){var E=s(d||a.pointCoordinate3D(p)),S={dir:t.normalize([],t.sub([],E,a._camera.position))},k=a.screenPointToMercatorRay(a.centerPoint);if(S.dir[2]<0){var O=t.altitudeFromMercatorZ(E[2],E[1]),C=a.rayIntersectionCoordinate(a.pointRayIntersection(a.centerPoint,O)),P=a.zoomDeltaToMovement(s(C),l)*(k.dir[2]/S.dir[2]);t.scale$2(w,S.dir,P)}else if(a._terrainEnabled()){var T=a.zoomDeltaToMovement(E,l);t.scale$2(w,S.dir,T)}}var M=t.add(v,v,w);a._translateCameraConstrained(M),l&&Math.abs(a.zoom-x)>1e-4&&a.recenterOnTerrain(),a.cameraElevationReference="ground",this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(n,r,!0)}},{key:"_fireEvents",value:function(e,n,r){var i=this,o=oi(this._eventsInProgress),a=oi(e),s={};for(var u in e){var c=e[u].originalEvent;this._eventsInProgress[u]||(s["".concat(u,"start")]=c),this._eventsInProgress[u]=e[u]}for(var l in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(l,s[l]);for(var f in a&&this._fireEvent("move",a.originalEvent),e){var h=e[f].originalEvent;this._fireEvent(f,h)}var p,d={};for(var y in this._eventsInProgress){var v=this._eventsInProgress[y],g=v.handlerName,m=v.originalEvent;this._handlersById[g].isActive()||(delete this._eventsInProgress[y],p=n[g]||m,d["".concat(y,"end")]=p)}for(var b in d)this._fireEvent(b,d[b]);var _=oi(this._eventsInProgress);if(r&&(o||a)&&!_){this._updatingCamera=!0;var x=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),w=function(t){return 0!==t&&-i._bearingSnap<t&&t<i._bearingSnap};x?(w(x.bearing||this._map.getBearing())&&(x.bearing=0),this._map.easeTo(x,{originalEvent:p})):(this._map.fire(new t.Event("moveend",{originalEvent:p})),w(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}},{key:"_fireEvent",value:function(e,n){this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))}},{key:"_requestFrame",value:function(){var t=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(e){delete t._frameId,t.handleEvent(new ai("renderFrame",{timeStamp:e})),t._applyChanges()}))}},{key:"_triggerRenderFrame",value:function(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}]),e}(),li=function(e){d(r,e);var n=y(r);function r(e,o){var a;return v(this,r),(a=n.call(this))._moving=!1,a._zooming=!1,a.transform=e,a._bearingSnap=o.bearingSnap,t.bindAll(["_renderFrameCallback"],i(a)),a}return g(r,[{key:"getCenter",value:function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)}},{key:"setCenter",value:function(t,e){return this.jumpTo({center:t},e)}},{key:"panBy",value:function(e,n,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),r)}},{key:"panTo",value:function(e,n,r){return this.easeTo(t.extend({center:e},n),r)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"setZoom",value:function(t,e){return this.jumpTo({zoom:t},e),this}},{key:"zoomTo",value:function(e,n,r){return this.easeTo(t.extend({zoom:e},n),r)}},{key:"zoomIn",value:function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this}},{key:"zoomOut",value:function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"setBearing",value:function(t,e){return this.jumpTo({bearing:t},e),this}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(t,e){return this.jumpTo({padding:t},e),this}},{key:"rotateTo",value:function(e,n,r){return this.easeTo(t.extend({bearing:e},n),r)}},{key:"resetNorth",value:function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this}},{key:"resetNorthPitch",value:function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this}},{key:"snapToNorth",value:function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setPitch",value:function(t,e){return this.jumpTo({pitch:t},e),this}},{key:"cameraForBounds",value:function(e,n){e=t.LngLatBounds.convert(e);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),r,n)}},{key:"_extendCameraOptions",value:function(e){var n={top:0,bottom:0,right:0,left:0};if("number"==typeof(e=t.extend({padding:n,offset:[0,0],maxZoom:this.transform.maxZoom},e)).padding){var r=e.padding;e.padding={top:r,bottom:r,right:r,left:r}}return e.padding=t.extend(n,e.padding),e}},{key:"_cameraForBoxAndBearing",value:function(e,n,r,i){var o=this._extendCameraOptions(i),a=this.transform,s=a.padding,u=a.project(t.LngLat.convert(e)),c=a.project(t.LngLat.convert(n)),l=u.rotate(-t.degToRad(r)),f=c.rotate(-t.degToRad(r)),h=new t.Point(Math.max(l.x,f.x),Math.max(l.y,f.y)),p=new t.Point(Math.min(l.x,f.x),Math.min(l.y,f.y)),d=h.sub(p),y=(a.width-(s.left+s.right+o.padding.left+o.padding.right))/d.x,v=(a.height-(s.top+s.bottom+o.padding.top+o.padding.bottom))/d.y;if(!(v<0||y<0)){var g=Math.min(a.scaleZoom(a.scale*Math.min(y,v)),o.maxZoom),m="number"==typeof o.offset.x?new t.Point(o.offset.x,o.offset.y):t.Point.convert(o.offset),b=new t.Point((o.padding.left-o.padding.right)/2,(o.padding.top-o.padding.bottom)/2).rotate(r*Math.PI/180),_=m.add(b).mult(a.scale/a.zoomScale(g));return{center:a.unproject(u.add(c).div(2).sub(_)),zoom:g,bearing:r}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}},{key:"_cameraForBox",value:function(e,n,r,i,o){var a=this._extendCameraOptions(o);r=r||0,i=i||0,e=t.LngLat.convert(e),n=t.LngLat.convert(n);var s=this.transform.clone();s.padding=a.padding;var u=this.getFreeCameraOptions(),c=new t.LngLat(.5*(e.lng+n.lng),.5*(e.lat+n.lat)),l=.5*(r+i);if(!(s._camera.position[2]<t.mercatorZfromAltitude(l,c.lat))){u.lookAtPoint(c),s.setFreeCameraOptions(u);var f,h,p=t.MercatorCoordinate.fromLngLat(e),d=t.MercatorCoordinate.fromLngLat(n),y=s.pointRayIntersection(s.centerPoint,l),v=[(f=s.rayIntersectionCoordinate(y)).x,f.y,f.z],g=s.screenPointToMercatorRay(s.centerPoint),m=0;do{var b=Math.floor(s.zoom),_=1<<b,x=Math.min(_*p.x,_*d.x),w=Math.min(_*p.y,_*d.y),E=Math.max(_*p.x,_*d.x),S=Math.max(_*p.y,_*d.y),k=new t.Aabb([x,w,r],[E,S,i]),O=t.Frustum.fromInvProjectionMatrix(s.invProjMatrix,s.worldSize,b);if(2!==k.intersects(O)){h&&(s._camera.position=t.scaleAndAdd([],s._camera.position,g.dir,-h),s._updateStateFromCamera());break}var C=t.sub([],s._camera.position,v);h=.5*t.length(C),s._camera.position=t.scaleAndAdd([],s._camera.position,g.dir,h);try{s._updateStateFromCamera()}catch(e){return void t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++m<10);return{center:s.center,zoom:s.zoom,bearing:s.bearing,pitch:s.pitch}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}},{key:"fitBounds",value:function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)}},{key:"_raycastElevationBox",value:function(e,n){var r=this.transform.elevation;if(r){var i=new t.Point(e.x,n.y),o=new t.Point(n.x,e.y),a=r.pointCoordinate(e);if(a){var s=r.pointCoordinate(n);if(s){var u=r.pointCoordinate(i);if(u){var c=r.pointCoordinate(o);if(c){var l=new t.MercatorCoordinate(a[0],a[1]).toLngLat(),f=new t.MercatorCoordinate(s[0],s[1]).toLngLat(),h=new t.MercatorCoordinate(u[0],u[1]).toLngLat(),p=new t.MercatorCoordinate(c[0],c[1]).toLngLat(),d=Math.min(l.lng,Math.min(f.lng,Math.min(h.lng,p.lng))),y=Math.min(l.lat,Math.min(f.lat,Math.min(h.lat,p.lat))),v=Math.max(l.lng,Math.max(f.lng,Math.max(h.lng,p.lng))),g=Math.max(l.lat,Math.max(f.lat,Math.max(h.lat,p.lat))),m=Math.min(a[3],Math.min(s[3],Math.min(u[3],c[3]))),b=Math.max(a[3],Math.max(s[3],Math.max(u[3],c[3])));return{minLngLat:new t.LngLat(d,y),maxLngLat:new t.LngLat(v,g),minAltitude:m,maxAltitude:b}}}}}}}},{key:"fitScreenCoordinates",value:function(e,n,r,i,o){var a,s,u,c,l=t.Point.convert(e),f=t.Point.convert(n),h=this._raycastElevationBox(l,f);if(h)a=h.minLngLat,s=h.maxLngLat,u=h.minAltitude,c=h.maxAltitude;else{if(this.transform.isHorizonVisibleForPoints(l,f))return this;a=this.transform.pointLocation(l),s=this.transform.pointLocation(f)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),r,i):this._cameraForBox(a,s,u,c,i),i,o)}},{key:"_fitInternal",value:function(e,n,r){return e?(delete(n=t.extend(e,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this}},{key:"jumpTo",value:function(e,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(i=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),null==e.padding||r.isPaddingEqual(e.padding)||(r.padding=e.padding),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),i&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))}},{key:"getFreeCameraOptions",value:function(){return this.transform.getFreeCameraOptions()}},{key:"setFreeCameraOptions",value:function(e,n){this.stop();var r=this.transform,i=r.zoom,o=r.pitch,a=r.bearing;r.setFreeCameraOptions(e);var s=i!==r.zoom,u=o!==r.pitch,c=a!==r.bearing;return this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),s&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),c&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),u&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n)),this}},{key:"easeTo",value:function(e,n){var r=this;this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.browser.prefersReducedMotion)&&(e.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u=this.getPadding(),c="zoom"in e?+e.zoom:o,l="bearing"in e?this._normalizeBearing(e.bearing,a):a,f="pitch"in e?+e.pitch:s,h="padding"in e?e.padding:i.padding,p=t.Point.convert(e.offset),d=i.centerPoint.add(p),y=i.pointLocation(d),v=t.LngLat.convert(e.center||y);this._normalizeCenter(v);var g,m,b=i.project(y),_=i.project(v).sub(b),x=i.zoomScale(c-o);e.around&&(g=t.LngLat.convert(e.around),m=i.locationPoint(g));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||c!==o,this._rotating=this._rotating||a!==l,this._pitching=this._pitching||f!==s,this._padding=!i.isPaddingEqual(h),this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,w),this._ease((function(e){if(r._zooming&&(i.zoom=t.number(o,c,e)),r._rotating&&(i.bearing=t.number(a,l,e)),r._pitching&&(i.pitch=t.number(s,f,e)),r._padding&&(i.interpolatePadding(u,h,e),d=i.centerPoint.add(p)),g)i.setLocationAtPoint(g,m);else{var y=i.zoomScale(i.zoom-o),v=c>o?Math.min(2,x):Math.max(.5,x),w=Math.pow(v,1-e),E=i.unproject(b.add(_.mult(e*w)).mult(y));i.setLocationAtPoint(i.renderWorldCopies?E.wrap():E,d)}r._fireMoveEvents(n)}),(function(t){i.recenterOnTerrain(),r._afterEase(n,t)}),e),this}},{key:"_prepareEase",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,this.transform.cameraElevationReference="sea",n||r.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!r.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!r.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!r.pitching&&this.fire(new t.Event("pitchstart",e))}},{key:"_fireMoveEvents",value:function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))}},{key:"_afterEase",value:function(e,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId,this.transform.cameraElevationReference="ground";var r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new t.Event("zoomend",e)),i&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}}},{key:"flyTo",value:function(e,n){var r=this;if(!e.essential&&t.browser.prefersReducedMotion){var i=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,a=this.getZoom(),s=this.getBearing(),u=this.getPitch(),c=this.getPadding(),l="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):a,f="bearing"in e?this._normalizeBearing(e.bearing,s):s,h="pitch"in e?+e.pitch:u,p="padding"in e?e.padding:o.padding,d=o.zoomScale(l-a),y=t.Point.convert(e.offset),v=o.centerPoint.add(y),g=o.pointLocation(v),m=t.LngLat.convert(e.center||g);this._normalizeCenter(m);var b=o.project(g),_=o.project(m).sub(b),x=e.curve,w=Math.max(o.width,o.height),E=w/d,S=_.mag();if("minZoom"in e){var k=t.clamp(Math.min(e.minZoom,a,l),o.minZoom,o.maxZoom),O=w/o.zoomScale(k-a);x=Math.sqrt(O/S*2)}var C=x*x;function P(t){var e=(E*E-w*w+(t?-1:1)*C*C*S*S)/(2*(t?E:w)*C*S);return Math.log(Math.sqrt(e*e+1)-e)}function T(t){return(Math.exp(t)-Math.exp(-t))/2}function M(t){return(Math.exp(t)+Math.exp(-t))/2}var A=P(0),I=function(t){return M(A)/M(A+x*t)},j=function(t){return w*((M(A)*(T(e=A+x*t)/M(e))-T(A))/C)/S;var e},R=(P(1)-A)/x;if(Math.abs(S)<1e-6||!isFinite(R)){if(Math.abs(w-E)<1e-6)return this.easeTo(e,n);var D=E<w?-1:1;R=Math.abs(Math.log(E/w))/x,j=function(){return 0},I=function(t){return Math.exp(D*x*t)}}return e.duration="duration"in e?+e.duration:1e3*R/("screenSpeed"in e?+e.screenSpeed/x:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==f,this._pitching=h!==u,this._padding=!o.isPaddingEqual(p),this._prepareEase(n,!1),this._ease((function(e){var i=e*R,d=1/I(i);o.zoom=1===e?l:a+o.scaleZoom(d),r._rotating&&(o.bearing=t.number(s,f,e)),r._pitching&&(o.pitch=t.number(u,h,e)),r._padding&&(o.interpolatePadding(c,p,e),v=o.centerPoint.add(y));var g=1===e?m:o.unproject(b.add(_.mult(j(i))).mult(d));o.setLocationAtPoint(o.renderWorldCopies?g.wrap():g,v),o._updateCenterElevation(),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),e),this}},{key:"isEasing",value:function(){return!!this._easeFrameId}},{key:"stop",value:function(){return this._stop()}},{key:"_stop",value:function(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,e)}if(!t){var r=this.handlers;r&&r.stop(!1)}return this}},{key:"_ease",value:function(e,n,r){!1===r.animate||0===r.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}},{key:"_renderFrameCallback",value:function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}},{key:"_normalizeBearing",value:function(e,n){e=t.wrap(e,-180,180);var r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e}},{key:"_normalizeCenter",value:function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}}}]),r}(t.Evented),fi=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,e),this.options=n,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}return g(e,[{key:"getDefaultPosition",value:function(){return"bottom-right"}},{key:"onAdd",value:function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=p.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=p.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=p.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}},{key:"onRemove",value:function(){p.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}},{key:"_setElementTitle",value:function(t,e){var n=this._map._getUIString("AttributionControl.".concat(e));t.title=n,t.setAttribute("aria-label",n)}},{key:"_toggleAttribution",value:function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))}},{key:"_updateEditLink",value:function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var r=n.reduce((function(t,e,r){return e.value&&(t+="".concat(e.key,"=").concat(e.value).concat(r<n.length-1?"&":"")),t}),"?");e.href="".concat(t.config.FEEDBACK_URL,"/").concat(r).concat(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}}},{key:"_updateData",value:function(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())}},{key:"_updateAttributions",value:function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style._sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort((function(t,e){return t.length-e.length}));var a=(t=t.filter((function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}}},{key:"_updateCompact",value:function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}]),e}(),hi=function(){function e(){v(this,e),t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)}return g(e,[{key:"onAdd",value:function(t){this._map=t,this._container=p.create("div","mapboxgl-ctrl");var e=p.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}},{key:"onRemove",value:function(){p.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}},{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_updateLogo",value:function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}},{key:"_logoRequired",value:function(){if(this._map.style){var t=this._map.style._sourceCaches;if(0===Object.entries(t).length)return!0;for(var e in t){var n=t[e].getSource();if(n.hasOwnProperty("mapbox_logo")&&!n.mapbox_logo)return!1}return!0}}},{key:"_updateCompact",value:function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}}}]),e}(),pi=function(){function t(){v(this,t),this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}return g(t,[{key:"add",value:function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e}},{key:"remove",value:function(t){var e,n=this._currentlyRunning,r=n?this._queue.concat(n):this._queue,i=h(r);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(o.id===t)return void(o.cancelled=!0)}}catch(a){i.e(a)}finally{i.f()}}},{key:"run",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this._currentlyRunning=this._queue;this._queue=[];var n,r=h(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.cancelled&&(i.callback(t),this._cleared))break}}catch(o){r.e(o)}finally{r.f()}this._cleared=!1,this._currentlyRunning=!1}},{key:"clear",value:function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}]),t}(),di={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},yi=t.window,vi=yi.HTMLImageElement,gi=yi.HTMLElement,mi=yi.ImageBitmap,bi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function _i(t){t.parentNode&&t.parentNode.removeChild(t)}var xi={showCompass:!0,showZoom:!0,visualizePitch:!1},wi=function(){function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v(this,e),this._clickTolerance=10,this.element=r,this.mouseRotate=new zr({clickTolerance:n.dragRotate._mouseRotate._clickTolerance}),this.map=n,i&&(this.mousePitch=new Fr({clickTolerance:n.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),p.addEventListener(r,"mousedown",this.mousedown),p.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),p.addEventListener(r,"touchmove",this.touchmove),p.addEventListener(r,"touchend",this.touchend),p.addEventListener(r,"touchcancel",this.reset)}return g(e,[{key:"down",value:function(t,e){this.mouseRotate.mousedown(t,e),this.mousePitch&&this.mousePitch.mousedown(t,e),p.disableDrag()}},{key:"move",value:function(t,e){var n=this.map,r=this.mouseRotate.mousemoveWindow(t,e);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(t,e);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}}},{key:"off",value:function(){var t=this.element;p.removeEventListener(t,"mousedown",this.mousedown),p.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),p.removeEventListener(t,"touchmove",this.touchmove),p.removeEventListener(t,"touchend",this.touchend),p.removeEventListener(t,"touchcancel",this.reset),this.offTemp()}},{key:"offTemp",value:function(){p.enableDrag(),p.removeEventListener(t.window,"mousemove",this.mousemove),p.removeEventListener(t.window,"mouseup",this.mouseup)}},{key:"mousedown",value:function(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:function(){return e.preventDefault()}}),p.mousePos(this.element,e)),p.addEventListener(t.window,"mousemove",this.mousemove),p.addEventListener(t.window,"mouseup",this.mouseup)}},{key:"mousemove",value:function(t){this.move(t,p.mousePos(this.element,t))}},{key:"mouseup",value:function(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()}},{key:"touchstart",value:function(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=p.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return t.preventDefault()}},this._startPos))}},{key:"touchmove",value:function(t){1!==t.targetTouches.length?this.reset():(this._lastPos=p.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:function(){return t.preventDefault()}},this._lastPos))}},{key:"touchend",value:function(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}},{key:"reset",value:function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}]),e}();function Ei(e,n,r){if(e=new t.LngLat(e.lng,e.lat),n){var i=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=360*Math.ceil(Math.abs(e.lng-r.center.lng)/360),s=r.locationPoint(e).distSqr(n),u=n.x<0||n.y<0||n.x>r.width||n.y>r.height;r.locationPoint(i).distSqr(n)<s&&(u||Math.abs(i.lng-r.center.lng)<a)?e=i:r.locationPoint(o).distSqr(n)<s&&(u||Math.abs(o.lng-r.center.lng)<a)&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){var c=r.locationPoint(e);if(c.x>=0&&c.y>=0&&c.x<=r.width&&c.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}var Si={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ki(t,e,n){var r=t.classList;for(var i in Si)r.remove("mapboxgl-".concat(n,"-anchor-").concat(i));r.add("mapboxgl-".concat(n,"-anchor-").concat(e))}var Oi,Ci=function(e){d(r,e);var n=y(r);function r(e,o){var a;if(v(this,r),a=n.call(this),(e instanceof t.window.HTMLElement||o)&&(e=t.extend({element:e},o)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],i(a)),a._anchor=e&&e.anchor||"center",a._color=e&&e.color||"#3FB1CE",a._scale=e&&e.scale||1,a._draggable=e&&e.draggable||!1,a._clickTolerance=e&&e.clickTolerance||0,a._isDragging=!1,a._state="inactive",a._rotation=e&&e.rotation||0,a._rotationAlignment=e&&e.rotationAlignment||"auto",a._pitchAlignment=e&&e.pitchAlignment&&"auto"!==e.pitchAlignment?e.pitchAlignment:a._rotationAlignment,e&&e.element)a._element=e.element,a._offset=t.Point.convert(e&&e.offset||[0,0]);else{a._defaultMarker=!0,a._element=p.create("div"),a._element.setAttribute("aria-label","Map marker");var s=p.createNS("http://www.w3.org/2000/svg","svg"),c=41,l=27;s.setAttributeNS(null,"display","block"),s.setAttributeNS(null,"height","".concat(c,"px")),s.setAttributeNS(null,"width","".concat(l,"px")),s.setAttributeNS(null,"viewBox","0 0 ".concat(l," ").concat(c));var f=p.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"stroke","none"),f.setAttributeNS(null,"stroke-width","1"),f.setAttributeNS(null,"fill","none"),f.setAttributeNS(null,"fill-rule","evenodd");var h=p.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill-rule","nonzero");var d=p.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"transform","translate(3.0, 29.0)"),d.setAttributeNS(null,"fill","#000000");for(var y=0,g=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];y<g.length;y++){var m=g[y],b=p.createNS("http://www.w3.org/2000/svg","ellipse");b.setAttributeNS(null,"opacity","0.04"),b.setAttributeNS(null,"cx","10.5"),b.setAttributeNS(null,"cy","5.80029008"),b.setAttributeNS(null,"rx",m.rx),b.setAttributeNS(null,"ry",m.ry),d.appendChild(b)}var _=p.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"fill",a._color);var x=p.createNS("http://www.w3.org/2000/svg","path");x.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),_.appendChild(x);var w=p.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"opacity","0.25"),w.setAttributeNS(null,"fill","#000000");var E=p.createNS("http://www.w3.org/2000/svg","path");E.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),w.appendChild(E);var S=p.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"transform","translate(6.0, 7.0)"),S.setAttributeNS(null,"fill","#FFFFFF");var k=p.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"transform","translate(8.0, 8.0)");var O=p.createNS("http://www.w3.org/2000/svg","circle");O.setAttributeNS(null,"fill","#000000"),O.setAttributeNS(null,"opacity","0.25"),O.setAttributeNS(null,"cx","5.5"),O.setAttributeNS(null,"cy","5.5"),O.setAttributeNS(null,"r","5.4999962");var C=p.createNS("http://www.w3.org/2000/svg","circle");C.setAttributeNS(null,"fill","#FFFFFF"),C.setAttributeNS(null,"cx","5.5"),C.setAttributeNS(null,"cy","5.5"),C.setAttributeNS(null,"r","5.4999962"),k.appendChild(O),k.appendChild(C),h.appendChild(d),h.appendChild(_),h.appendChild(w),h.appendChild(S),h.appendChild(k),s.appendChild(h),s.setAttributeNS(null,"height","".concat(c*a._scale,"px")),s.setAttributeNS(null,"width","".concat(l*a._scale,"px")),a._element.appendChild(s),a._offset=t.Point.convert(e&&e.offset||[0,-14])}return a._element.classList.add("mapboxgl-marker"),a._element.addEventListener("dragstart",(function(t){t.preventDefault()})),a._element.addEventListener("mousedown",(function(t){t.preventDefault()})),ki(a._element,a._anchor,"marker"),a._popup=null,u(a)}return g(r,[{key:"addTo",value:function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}},{key:"remove",value:function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),p.remove(this._element),this._popup&&this._popup.remove(),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}},{key:"getElement",value:function(){return this._element}},{key:"setPopup",value:function(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){var e=38.1,n=13.5,r=Math.sqrt(Math.pow(n,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-e],"bottom-left":[r,-1*(e-n+r)],"bottom-right":[-r,-1*(e-n+r)],left:[n,-1*(e-n)],right:[-n,-1*(e-n)]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}},{key:"_onKeyPress",value:function(t){var e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()}},{key:"_onMapClick",value:function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()}},{key:"getPopup",value:function(){return this._popup}},{key:"togglePopup",value:function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this}},{key:"_updateOcclusion",value:function(){this._occlusionTimer||(this._occlusionTimer=setTimeout(this._onOcclusionTimer.bind(this),60))}},{key:"_onOcclusionTimer",value:function(){var t=this._map.transform,e=this._pos?this._pos.sub(this._transformedOffset()):null;if(e&&e.x>=0&&e.x<t.width&&e.y>=0&&e.y<t.height){var n=this._map.unproject(e),r=this._map.getFreeCameraOptions();if(r.position){var i=r.position.toLngLat(),o=i.distanceTo(n),a=i.distanceTo(this._lngLat);this._element.classList.toggle("mapboxgl-marker-occluded",o<.9*a)}}this._occlusionTimer=null}},{key:"_update",value:function(t){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ei(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset()),this._map.transform.elevation&&this._updateOcclusion();var e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e="rotateZ(".concat(this._rotation,"deg)"):"map"===this._rotationAlignment&&(e="rotateZ(".concat(this._rotation-this._map.getBearing(),"deg)"));var n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n="rotateX(".concat(this._map.getPitch(),"deg)")),t&&"moveend"!==t.type||(this._pos=this._pos.round()),p.setTransform(this._element,"".concat(Si[this._anchor]," translate(").concat(this._pos.x,"px, ").concat(this._pos.y,"px) ").concat(n," ").concat(e))}}},{key:"_transformedOffset",value:function(){if(!this._defaultMarker)return this._offset;var t=this._map.transform,e=this._offset.mult(this._scale);return"map"===this._rotationAlignment&&e._rotate(t.angle),"map"===this._pitchAlignment&&(e.y*=Math.cos(t._pitch)),e}},{key:"getOffset",value:function(){return this._offset}},{key:"setOffset",value:function(e){return this._offset=t.Point.convert(e),this._update(),this}},{key:"_onMove",value:function(e){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))}},{key:"_onUp",value:function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"}},{key:"_addDragHandler",value:function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}},{key:"setDraggable",value:function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}},{key:"isDraggable",value:function(){return this._draggable}},{key:"setRotation",value:function(t){return this._rotation=t||0,this._update(),this}},{key:"getRotation",value:function(){return this._rotation}},{key:"setRotationAlignment",value:function(t){return this._rotationAlignment=t||"auto",this._update(),this}},{key:"getRotationAlignment",value:function(){return this._rotationAlignment}},{key:"setPitchAlignment",value:function(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this}},{key:"getPitchAlignment",value:function(){return this._pitchAlignment}}]),r}(t.Evented),Pi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ti=0,Mi=!1,Ai={maxWidth:100,unit:"metric"};function Ii(t,e,n){var r=n&&n.maxWidth||100,i=t._container.clientHeight/2,o=t.unproject([0,i]),a=t.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var u=3.2808*s;u>5280?ji(e,r,u/5280,t._getUIString("ScaleControl.Miles")):ji(e,r,u,t._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?ji(e,r,s/1852,t._getUIString("ScaleControl.NauticalMiles")):s>=1e3?ji(e,r,s/1e3,t._getUIString("ScaleControl.Kilometers")):ji(e,r,s,t._getUIString("ScaleControl.Meters"))}function ji(t,e,n,r){var i=function(t){var e=Math.pow(10,"".concat(Math.floor(t)).length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(n))}(n);t.style.width="".concat(e*(i/n),"px"),t.innerHTML="".concat(i,"&nbsp;").concat(r)}var Ri={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Di=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Ni={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:function(n){d(l,n);var c=y(l);function l(e){var n;if(v(this,l),null!=(e=t.extend({},bi,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if((n=c.call(this,new yr(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies),e))._interactive=e.interactive,n._maxTileCacheSize=e.maxTileCacheSize,n._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,n._preserveDrawingBuffer=e.preserveDrawingBuffer,n._antialias=e.antialias,n._trackResize=e.trackResize,n._bearingSnap=e.bearingSnap,n._refreshExpiredTiles=e.refreshExpiredTiles,n._fadeDuration=e.fadeDuration,n._isInitialLoad=!0,n._crossSourceCollisions=e.crossSourceCollisions,n._crossFadingFactor=1,n._collectResourceTiming=e.collectResourceTiming,n._renderTaskQueue=new pi,n._controls=[],n._mapId=t.uniqueId(),n._locale=t.extend({},di,e.locale),n._clickTolerance=e.clickTolerance,n._requestManager=new t.RequestManager(e.transformRequest,e.accessToken),"string"==typeof e.container){if(n._container=t.window.document.getElementById(e.container),!n._container)throw new Error("Container '".concat(e.container,"' not found."))}else{if(!(e.container instanceof gi))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");n._container=e.container}if(e.maxBounds&&n.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],i(n)),n._setupContainer(),n._setupPainter(),void 0===n.painter)throw new Error("Failed to initialize WebGL.");return n.on("move",(function(){return n._update(!1)})),n.on("moveend",(function(){return n._update(!1)})),n.on("zoom",(function(){return n._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",n._onWindowOnline,!1),t.window.addEventListener("resize",n._onWindowResize,!1),t.window.addEventListener("orientationchange",n._onWindowResize,!1)),n.handlers=new ci(i(n),e),n._hash=e.hash&&new vr("string"==typeof e.hash&&e.hash||void 0).addTo(i(n)),n._hash&&n._hash._onHashChange()||(n.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(n.resize(),n.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),n.resize(),n._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&n.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&n.addControl(new fi({customAttribution:e.customAttribution})),n._logoControl=new hi,n.addControl(n._logoControl,e.logoPosition),n.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),n.on("data",(function(e){n._update("style"===e.dataType),n.fire(new t.Event("".concat(e.dataType,"data"),e))})),n.on("dataloading",(function(e){n.fire(new t.Event("".concat(e.dataType,"dataloading"),e))})),u(n)}return g(l,[{key:"_getMapId",value:function(){return this._mapId}},{key:"addControl",value:function(e,n){if(void 0===n&&(n=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=e.onAdd(this);this._controls.push(e);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this}},{key:"removeControl",value:function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this}},{key:"hasControl",value:function(t){return this._controls.indexOf(t)>-1}},{key:"resize",value:function(e){var n=this._containerDimensions(),r=n[0],i=n[1];this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var o=!this._moving;return o&&(this.stop(),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e))),this.fire(new t.Event("resize",e)),o&&this.fire(new t.Event("moveend",e)),this}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()}},{key:"setMaxBounds",value:function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()}},{key:"setMinZoom",value:function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(t){return this.transform.renderWorldCopies=t,this._update()}},{key:"project",value:function(e){return this.transform.locationPoint3D(t.LngLat.convert(e))}},{key:"unproject",value:function(e){return this.transform.pointLocation3D(t.Point.convert(e))}},{key:"isMoving",value:function(){return this._moving||this.handlers&&this.handlers.isMoving()}},{key:"isZooming",value:function(){return this._zooming||this.handlers&&this.handlers.isZooming()}},{key:"isRotating",value:function(){return this._rotating||this.handlers&&this.handlers.isRotating()}},{key:"_createDelegatedListener",value:function(t,e,n){var i=this;if("mouseenter"===t||"mouseover"===t){var o=!1,a=function(r){var a=i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[];a.length?o||(o=!0,n.call(i,new kr(t,i,r.originalEvent,{features:a}))):o=!1};return{layer:e,listener:n,delegates:{mousemove:a,mouseout:function(){o=!1}}}}if("mouseleave"===t||"mouseout"===t){var s=!1,u=function(r){(i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?s=!0:s&&(s=!1,n.call(i,new kr(t,i,r.originalEvent)))},c=function(e){s&&(s=!1,n.call(i,new kr(t,i,e.originalEvent)))};return{layer:e,listener:n,delegates:{mousemove:u,mouseout:c}}}var l=function(t){var r=i.getLayer(e)?i.queryRenderedFeatures(t.point,{layers:[e]}):[];r.length&&(t.features=r,n.call(i,t),delete t.features)};return{layer:e,listener:n,delegates:r({},t,l)}}},{key:"on",value:function(t,e,n){if(void 0===n)return a(s(l.prototype),"on",this).call(this,t,e);var r=this._createDelegatedListener(t,e,n);for(var i in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(r),r.delegates)this.on(i,r.delegates[i]);return this}},{key:"once",value:function(t,e,n){if(void 0===n)return a(s(l.prototype),"once",this).call(this,t,e);var r=this._createDelegatedListener(t,e,n);for(var i in r.delegates)this.once(i,r.delegates[i]);return this}},{key:"off",value:function(t,e,n){var r=this;return void 0===n?a(s(l.prototype),"off",this).call(this,t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&function(i){for(var o=r._delegatedListeners[t],a=0;a<o.length;a++){var s=o[a];if(s.layer===e&&s.listener===n){for(var u in s.delegates)r.off(u,s.delegates[u]);return o.splice(a,1),r}}}(),this)}},{key:"queryRenderedFeatures",value:function(e,n){return this.style?(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),this.style.queryRenderedFeatures(e=e||[[0,0],[this.transform.width,this.transform.height]],n=n||{},this.transform)):[]}},{key:"querySourceFeatures",value:function(t,e){return this.style.querySourceFeatures(t,e)}},{key:"setStyle",value:function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))}},{key:"_getUIString",value:function(t){var e=this._locale[t];if(null==e)throw new Error("Missing UI string '".concat(t,"'"));return e}},{key:"_updateStyle",value:function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),t&&(this.style=new ae(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t)),this._updateTerrain(),this}},{key:"_lazyInitEmptyStyle",value:function(){this.style||(this.style=new ae(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}},{key:"_diffStyle",value:function(e,n){var r=this;if("string"==typeof e){var i=this._requestManager.normalizeStyleURL(e),o=this._requestManager.transformRequest(i,t.ResourceType.Style);t.getJSON(o,(function(e,i){e?r.fire(new t.ErrorEvent(e)):i&&r._updateDiff(i,n)}))}else"object"==typeof e&&this._updateDiff(e,n)}},{key:"_updateDiff",value:function(e,n){try{this.style.setState(e)&&this._update(!0)}catch(o){t.warnOnce("Unable to perform style diff: ".concat(o.message||o.error||o,".  Rebuilding the style from scratch.")),this._updateStyle(e,n)}}},{key:"getStyle",value:function(){if(this.style)return this.style.serialize()}},{key:"isStyleLoaded",value:function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")}},{key:"addSource",value:function(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)}},{key:"isSourceLoaded",value:function(e){var n=this.style&&this.style._getSourceCaches(e);if(0!==n.length)return n.every((function(t){return t.loaded()}));this.fire(new t.ErrorEvent(new Error("There is no source with ID '".concat(e,"'"))))}},{key:"areTilesLoaded",value:function(){var t=this.style&&this.style._sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0}},{key:"addSourceType",value:function(t,e,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,n)}},{key:"removeSource",value:function(t){return this.style.removeSource(t),this._updateTerrain(),this._update(!0)}},{key:"getSource",value:function(t){return this.style.getSource(t)}},{key:"addImage",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.pixelRatio,o=void 0===i?1:i,a=r.sdf,s=void 0!==a&&a,u=r.stretchX,c=r.stretchY,l=r.content;if(this._lazyInitEmptyStyle(),n instanceof vi||mi&&n instanceof mi){var f=t.browser.getImageData(n),h=f.width,p=f.height,d=f.data;this.style.addImage(e,{data:new t.RGBAImage({width:h,height:p},d),pixelRatio:o,stretchX:u,stretchY:c,content:l,sdf:s,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var y=n.width,v=n.height,g=n.data,m=n;this.style.addImage(e,{data:new t.RGBAImage({width:y,height:v},new Uint8Array(g)),pixelRatio:o,stretchX:u,stretchY:c,content:l,sdf:s,version:0,userImage:m}),m.onAdd&&m.onAdd(this,e)}}},{key:"updateImage",value:function(e,n){var r=this.style.getImage(e);if(!r)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof vi||mi&&n instanceof mi?t.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;return void 0===o||void 0===a?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==r.data.width||a!==r.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(n instanceof vi||mi&&n instanceof mi)),void this.style.updateImage(e,r))}},{key:"hasImage",value:function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)}},{key:"removeImage",value:function(t){this.style.removeImage(t)}},{key:"loadImage",value:function(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),n)}},{key:"listImages",value:function(){return this.style.listImages()}},{key:"addLayer",value:function(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)}},{key:"moveLayer",value:function(t,e){return this.style.moveLayer(t,e),this._update(!0)}},{key:"removeLayer",value:function(t){return this.style.removeLayer(t),this._update(!0)}},{key:"getLayer",value:function(t){return this.style.getLayer(t)}},{key:"setLayerZoomRange",value:function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)}},{key:"setFilter",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(t,e,n),this._update(!0)}},{key:"getFilter",value:function(t){return this.style.getFilter(t)}},{key:"setPaintProperty",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(t,e,n,r),this._update(!0)}},{key:"getPaintProperty",value:function(t,e){return this.style.getPaintProperty(t,e)}},{key:"setLayoutProperty",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(t,e,n,r),this._update(!0)}},{key:"getLayoutProperty",value:function(t,e){return this.style.getLayoutProperty(t,e)}},{key:"setLight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)}},{key:"getLight",value:function(){return this.style.getLight()}},{key:"setTerrain",value:function(t){return this._lazyInitEmptyStyle(),this.style.setTerrain(t),this._update(!0)}},{key:"setFeatureState",value:function(t,e){return this.style.setFeatureState(t,e),this._update()}},{key:"removeFeatureState",value:function(t,e){return this.style.removeFeatureState(t,e),this._update()}},{key:"getFeatureState",value:function(t){return this.style.getFeatureState(t)}},{key:"getContainer",value:function(){return this._container}},{key:"getCanvasContainer",value:function(){return this._canvasContainer}},{key:"getCanvas",value:function(){return this._canvas}},{key:"_containerDimensions",value:function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]}},{key:"_detectMissingCSS",value:function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}},{key:"_setupContainer",value:function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=p.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=p.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=p.create("canvas","mapboxgl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=p.create("div","mapboxgl-control-container",t),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){i[t]=p.create("div","mapboxgl-ctrl-".concat(t),r)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}},{key:"_resizeCanvas",value:function(e,n){var r=t.browser.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*n,this._canvas.style.width="".concat(e,"px"),this._canvas.style.height="".concat(n,"px")}},{key:"_setupPainter",value:function(){var n=this,r=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);i?(this.painter=new or(i,this.transform),this.on("data",(function(t){"source"===t.dataType&&n.painter.setTileLoadedFlag(!0)})),t.webpSupported.testSupport(i)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))}},{key:"_contextLost",value:function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))}},{key:"_contextRestored",value:function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))}},{key:"_onMapScroll",value:function(t){if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}},{key:"loaded",value:function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}},{key:"_update",value:function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this}},{key:"_requestRenderFrame",value:function(t){return this._update(),this._renderTaskQueue.add(t)}},{key:"_cancelRenderFrame",value:function(t){this._renderTaskQueue.remove(t)}},{key:"_render",value:function(e){var n,r=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),i=t.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),!this._removed){var a=!1,s=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;var u=this.transform.zoom,c=t.browser.now();this.style.zoomHistory.update(u,c);var l=new t.EvaluationParameters(u,{now:c,fadeDuration:s,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),f=l.crossFadingFactor();1===f&&f===this._crossFadingFactor||(a=!0,this._crossFadingFactor=f),this.style.update(l)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this._updateTerrain(),this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var h=t.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout((function(){var e=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),r.fire(new t.Event("gpu-timing-frame",{cpuTime:h,gpuTime:e}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var e=r.painter.queryGpuTimers(p);r.fire(new t.Event("gpu-timing-layer",{layerTimes:e}))}),50)}var d=this._sourcesDirty||this._styleDirty||this._placementDirty;if(d||this._repaint)this.triggerRepaint();else if(this._triggerFrame(!1),!this.isMoving()&&this.loaded()&&(this.fire(new t.Event("idle")),this._isInitialLoad&&this._authenticate(),this._isInitialLoad=!1,this.speedIndexTiming)){var y=this._calculateSpeedIndex();this.fire(new t.Event("speedindexcompleted",{speedIndex:y})),this.speedIndexTiming=!1}return!this._loaded||this._fullyLoaded||d||(this._fullyLoaded=!0),this}}},{key:"_authenticate",value:function(){var e=this;t.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(n){if(n&&(n.message===t.AUTH_ERR_MSG||401===n.status)){console.error("Error: A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/"),t.browser.setErrorState();var r=e.painter.context.gl;e._logoControl instanceof hi&&e._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT)}})),t.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(){}))}},{key:"_updateTerrain",value:function(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}},{key:"_calculateSpeedIndex",value:function(){var t=this.painter.canvasCopy(),e=this.painter.getCanvasCopiesAndTimestamps();e.timeStamps.push(performance.now());var n=this.painter.context.gl,r=n.createFramebuffer();function i(t){n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0);var e=new Uint8Array(n.drawingBufferWidth*n.drawingBufferHeight*4);return n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,e),e}return n.bindFramebuffer(n.FRAMEBUFFER,r),this._canvasPixelComparison(i(t),e.canvasCopies.map(i),e.timeStamps)}},{key:"_canvasPixelComparison",value:function(t,e,n){for(var r=n[1]-n[0],i=t.length/4,o=0;o<e.length;o++){for(var a=e[o],s=0,u=0;u<a.length;u+=4)a[u]===t[u]&&a[u+1]===t[u+1]&&a[u+2]===t[u+2]&&a[u+3]===t[u+3]&&(s+=1);r+=(n[o+2]-n[o+1])*(1-s/i)}return r}},{key:"remove",value:function(){this._hash&&this._hash.remove();var e,n=h(this._controls);try{for(n.s();!(e=n.n()).done;)e.value.onRemove(this)}catch(i){n.e(i)}finally{n.f()}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),_i(this._canvasContainer),_i(this._controlContainer),_i(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new t.Event("remove"))}},{key:"triggerRepaint",value:function(){this._triggerFrame(!0)}},{key:"_triggerFrame",value:function(e){var n=this;this._renderNextFrame=this._renderNextFrame||e,this.style&&!this._frame&&(this._frame=t.browser.frame((function(t){var e=!!n._renderNextFrame;n._frame=null,n._renderNextFrame=null,e&&n._render(t)})))}},{key:"_onWindowOnline",value:function(){this._update()}},{key:"_onWindowResize",value:function(t){this._trackResize&&this.resize({originalEvent:t})._update()}},{key:"_setCacheLimits",value:function(e,n){t.setCacheLimits(e,n)}},{key:"showTileBoundaries",get:function(){return!!this._showTileBoundaries},set:function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())}},{key:"speedIndexTiming",get:function(){return!!this._speedIndexTiming},set:function(t){this._speedIndexTiming!==t&&(this._speedIndexTiming=t,this._update())}},{key:"showPadding",get:function(){return!!this._showPadding},set:function(t){this._showPadding!==t&&(this._showPadding=t,this._update())}},{key:"showCollisionBoxes",get:function(){return!!this._showCollisionBoxes},set:function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())}},{key:"showOverdrawInspector",get:function(){return!!this._showOverdrawInspector},set:function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())}},{key:"repaint",get:function(){return!!this._repaint},set:function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())}},{key:"vertices",get:function(){return!!this._vertices},set:function(t){this._vertices=t,this._update()}},{key:"version",get:function(){return t.version}}]),l}(li),NavigationControl:function(){function e(n){var r=this;v(this,e),this.options=t.extend({},xi,n),this._container=p.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(t){return r._map.zoomIn({},{originalEvent:t})})),p.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(t){return r._map.zoomOut({},{originalEvent:t})})),p.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(t){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:t}):r._map.resetNorth({},{originalEvent:t})})),this._compassIcon=p.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}return g(e,[{key:"_updateZoomButtons",value:function(){var t=this._map.getZoom(),e=t===this._map.getMaxZoom(),n=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())}},{key:"_rotateCompassArrow",value:function(){var t=this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(this._map.transform.pitch,"deg) rotateZ(").concat(this._map.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(this._map.transform.angle*(180/Math.PI),"deg)");this._compassIcon.style.transform=t}},{key:"onAdd",value:function(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new wi(this._map,this._compass,this.options.visualizePitch)),this._container}},{key:"onRemove",value:function(){p.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}},{key:"_createButton",value:function(t,e){var n=p.create("button",t,this._container);return n.type="button",n.addEventListener("click",e),n}},{key:"_setButtonTitle",value:function(t,e){var n=this._map._getUIString("NavigationControl.".concat(e));t.title=n,t.setAttribute("aria-label",n)}}]),e}(),GeolocateControl:function(e){d(r,e);var n=y(r);function r(e){var o;return v(this,r),(o=n.call(this)).options=t.extend({},Pi,e),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],i(o)),o}return g(r,[{key:"onAdd",value:function(e){var n;return this._map=e,this._container=p.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Oi?n(Oi):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){Oi="denied"!==t.state,n(Oi)})):(Oi=!!t.window.navigator.geolocation,n(Oi)),this._container}},{key:"onRemove",value:function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),p.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ti=0,Mi=!1}},{key:"_isOutOfMapMaxBounds",value:function(t){var e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())}},{key:"_setErrorState",value:function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}},{key:"_onSuccess",value:function(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}}},{key:"_updateCamera",value:function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,i=this._map.getBearing(),o=t.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})}},{key:"_updateMarker",value:function(e){if(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}},{key:"_updateCircleRadius",value:function(){var t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),n=this._map.unproject([1,t]),r=e.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width="".concat(i,"px"),this._circleElement.style.height="".concat(i,"px")}},{key:"_onZoom",value:function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}},{key:"_onError",value:function(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Mi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}}},{key:"_finish",value:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}},{key:"_setupUI",value:function(e){var n=this;if(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=p.create("button","mapboxgl-ctrl-geolocate",this._container),p.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}else{var i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=p.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Ci(this._dotElement),this._circleElement=p.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ci({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==n._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new t.Event("trackuserlocationend")))}))}},{key:"trigger",value:function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ti--,Mi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ti>1?(e={maximumAge:6e5,timeout:0},Mi=!0):(e=this.options.positionOptions,Mi=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}},{key:"_clearWatch",value:function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}}]),r}(t.Evented),AttributionControl:fi,ScaleControl:function(){function e(n){v(this,e),this.options=t.extend({},Ai,n),t.bindAll(["_onMove","setUnit"],this)}return g(e,[{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_onMove",value:function(){Ii(this._map,this._container,this.options)}},{key:"onAdd",value:function(t){return this._map=t,this._container=p.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}},{key:"onRemove",value:function(){p.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},{key:"setUnit",value:function(t){this.options.unit=t,Ii(this._map,this._container,this.options)}}]),e}(),FullscreenControl:function(){function e(n){v(this,e),this._fullscreen=!1,n&&n.container&&(n.container instanceof t.window.HTMLElement?this._container=n.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in t.window.document&&(this._fullscreenchange="webkitfullscreenchange")}return g(e,[{key:"onAdd",value:function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=p.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}},{key:"onRemove",value:function(){p.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_checkFullscreenSupport",value:function(){return!(!t.window.document.fullscreenEnabled&&!t.window.document.webkitFullscreenEnabled)}},{key:"_setupUI",value:function(){var e=this._fullscreenButton=p.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);p.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_updateTitle",value:function(){var t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t}},{key:"_getTitle",value:function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}},{key:"_isFullscreen",value:function(){return this._fullscreen}},{key:"_changeIcon",value:function(){(t.window.document.fullscreenElement||t.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}},{key:"_onClickFullscreen",value:function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}}]),e}(),Popup:function(e){d(r,e);var n=y(r);function r(e){var o;return v(this,r),(o=n.call(this)).options=t.extend(Object.create(Ri),e),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],i(o)),o}return g(r,[{key:"addTo",value:function(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this}},{key:"isOpen",value:function(){return!!this._map}},{key:"remove",value:function(){return this._content&&p.remove(this._content),this._container&&(p.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}},{key:"trackPointer",value:function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this}},{key:"getElement",value:function(){return this._container}},{key:"setText",value:function(e){return this.setDOMContent(t.window.document.createTextNode(e))}},{key:"setHTML",value:function(e){var n,r=t.window.document.createDocumentFragment(),i=t.window.document.createElement("body");for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)}},{key:"getMaxWidth",value:function(){return this._container&&this._container.style.maxWidth}},{key:"setMaxWidth",value:function(t){return this.options.maxWidth=t,this._update(),this}},{key:"setDOMContent",value:function(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=p.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this}},{key:"addClassName",value:function(t){this._container&&this._container.classList.add(t)}},{key:"removeClassName",value:function(t){this._container&&this._container.classList.remove(t)}},{key:"setOffset",value:function(t){return this.options.offset=t,this._update(),this}},{key:"toggleClassName",value:function(t){if(this._container)return this._container.classList.toggle(t)}},{key:"_createCloseButton",value:function(){this.options.closeButton&&(this._closeButton=p.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}},{key:"_onMouseUp",value:function(t){this._update(t.point)}},{key:"_onMouseMove",value:function(t){this._update(t.point)}},{key:"_onDrag",value:function(t){this._update(t.point)}},{key:"_update",value:function(e){var n=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=p.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=p.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return n._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ei(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var r=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),i=this.options.anchor,o=function e(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-n),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var i=t.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!i){var a,s=this._container.offsetWidth,u=this._container.offsetHeight;a=r.y+o.bottom.y<u?["top"]:r.y>this._map.transform.height-u?["bottom"]:[],r.x<s/2?a.push("left"):r.x>this._map.transform.width-s/2&&a.push("right"),i=0===a.length?"bottom":a.join("-")}var c=r.add(o[i]).round();p.setTransform(this._container,"".concat(Si[i]," translate(").concat(c.x,"px,").concat(c.y,"px)")),ki(this._container,i,"popup")}}},{key:"_focusFirstElement",value:function(){if(this.options.focusAfterOpen&&this._container){var t=this._container.querySelector(Di);t&&t.focus()}}},{key:"_onClose",value:function(){this.remove()}}]),r}(t.Evented),Marker:Ci,Style:ae,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,FreeCameraOptions:pr,Evented:t.Evented,config:t.config,prewarm:function(){nt().acquire(tt)},clearPrewarmedResources:function(){var t=Q;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(tt),Q=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return et.workerCount},set workerCount(t){et.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:"",workerClass:null,setNow:t.browser.setNow,restoreNow:t.browser.restoreNow};return Ni})),n}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(309),i=n(308),o=n(143),a=n(310);function s(t){return Object(r.a)(t)||Object(i.a)(t)||Object(o.a)(t)||Object(a.a)()}},function(t,e,n){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!==i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}),(function(t){return t}))};e.default=r},function(t,e,n){var r=n(364),i=n(508);t.exports=function(t,e){return t&&t.length?i(t,r(e,2)):[]}},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var r="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i="undefined"!==typeof window?window:t,o=("undefined"!==typeof t||window,"undefined"!==typeof document&&document,!1);try{var a={get passive(){return o=!0,!0}};i.addEventListener("test",a,a),i.removeEventListener("test",a,a)}catch(s){}}).call(this,n(53))},,function(t,e,n){var r=n(106).Symbol;t.exports=r},function(t,e,n){var r=n(83),i=n(353);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){var r=n(355),i=n(349);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=o?o(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?i(n,c,l):r(n,c,l)}return n}},function(t,e,n){var r=n(66),i=n(357),o=n(760),a=n(763);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(261);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},function(t,e,n){"use strict";var r=n(108);e.__esModule=!0,e.default=void 0;var i=r(n(772)),o=function(t,e){return e+"("+(0,i.default)(t)+")"};e.default=o},function(t,e,n){"use strict";var r=n(268),i=n(370),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"===typeof n&&o(t,".prototype.")>-1?i(n):n}},function(t,e,n){t.exports=n(272)+"ref"},function(t,e){var n=1;t.exports=function(){return n++},t.exports.getCurrentVersion=function(){return n}},function(t,e){t.exports="error"},function(t,e){t.exports=function(t){t.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,Error):t.__proto__=Error}},function(t,e,n){function r(t){var e=new Error("An exception was thrown when making a request.");return e.name="InvalidSourceError",e.innerError=t,Object.setPrototypeOf&&Object.setPrototypeOf(e,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(e,r),e}n(195)(r),t.exports=r},function(t,e){t.exports={token:"token",dotSeparator:".",commaSeparator:",",openingBracket:"[",closingBracket:"]",openingBrace:"{",closingBrace:"}",escape:"\\",space:" ",colon:":",quote:"quote",unknown:"unknown"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetPassword=e.setPassword=e.updatePassword=e.auth=e.login=e.isAuthenticating=e.logout=e.removeUserToken=e.getUserToken=e.setUserToken=e.receiveAuthResponse=e.IS_AUTHENTICATING=e.UPDATE_USER=e.AUTH_FAILURE=e.USER_LOGOUT=e.USER_LOGIN=void 0;var r=n(11),i=n(165),o="AMS::USER_LOGIN";e.USER_LOGIN=o;var a="AMS::USER_LOGOUT";e.USER_LOGOUT=a;var s="AMS::AUTH_FAILURE";e.AUTH_FAILURE=s;var u="AMS::UPDATE_USER";e.UPDATE_USER=u;var c="AMS::IS_AUTHENTICATING";e.IS_AUTHENTICATING=c;var l=function(t){return{type:o,user:t}};e.receiveAuthResponse=l;var f=function(t){window.localStorage&&window.localStorage.setItem("userToken",t.token)};e.setUserToken=f;var h=function(t){return window.localStorage?window.localStorage.getItem("userToken"):null};e.getUserToken=h;e.removeUserToken=function(){window.localStorage&&window.localStorage.removeItem("userToken")};e.logout=function(){return function(t){return Promise.resolve(t({type:a}))}};var p=function(){return{type:c}};e.isAuthenticating=p;e.login=function(t,e){return function(n){var o=(0,i.Config)(),a=o.AUTH_HOST,u=o.PROJECT_NAME;return n(p()),(0,i.postJson)("".concat(a,"/login"),{email:t,password:e,project:u}).then((function(t){t.error?(n({type:s}),n((0,r.sendSystemMessage)(t.error,{type:"Danger"}))):n(l(t.user))})).catch((function(t){n((0,r.sendSystemMessage)("Cannot contact authentication server.")),n({type:s})}))}};var d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return function(e){return t?(e(p()),(0,i.postJson)("".concat(i.Config.AUTH_HOST,"/auth"),{token:t,project:i.Config.PROJECT_NAME}).then((function(t){t.error?(e({type:s}),e((0,r.sendSystemMessage)(t.error))):e(l(t.user))})).catch((function(t){e((0,r.sendSystemMessage)("Cannot contact authentication server.")),e({type:s})}))):e({type:s})}};e.auth=d;e.updatePassword=function(t,e){return function(n,o){var a=o().user.token;return a?(0,i.postJson)("".concat(i.Config.AUTH_HOST,"/password/update"),{token:a,current:t,password:e}).then((function(t){return t.error?n((0,r.sendSystemMessage)(t.error)):(f(t),n((0,r.sendSystemMessage)(t.message)),n({type:u,update:{token:t.token}}))})):Promise.resolve()}};e.setPassword=function(t,e){return function(n){var o=(0,i.Config)(),a=o.AUTH_HOST,s=o.CLIENT_HOST;return(0,i.postJson)("".concat(a,"/password/set"),{token:t,password:e,host:s,url:"/auth/set-passord"}).then((function(t){if(!t.error)return t.message&&n((0,r.sendSystemMessage)(t.message)),n(d(t.token));n((0,r.sendSystemMessage)(t.error))}))}};e.resetPassword=function(t){return function(e){var n=(0,i.Config)(),o=n.AUTH_HOST,a=n.PROJECT_NAME,s=n.CLIENT_HOST;return(0,i.postJson)("".concat(o,"/password/reset"),{email:t,project_name:a,host:s,url:"/auth/set-password"}).then((function(t){t.error?e((0,r.sendSystemMessage)(t.error)):e((0,r.sendSystemMessage)(t.message))}))}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return y}));var r=n(245),i=n(169),o=n(311),a=n(50),s=n(40);function u(t){return Math.log(t)}function c(t){return Math.exp(t)}function l(t){return-Math.log(-t)}function f(t){return-Math.exp(-t)}function h(t){return isFinite(t)?+("1e"+t):t<0?0:t}function p(t){return function(e){return-t(-e)}}function d(t){var e,n,a=t(u,c),s=a.domain,d=10;function y(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(d),n=function(t){return 10===t?h:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(d),s()[0]<0?(e=p(e),n=p(n),t(l,f)):t(u,c),a}return a.base=function(t){return arguments.length?(d=+t,y()):d},a.domain=function(t){return arguments.length?(s(t),y()):s()},a.ticks=function(t){var i,o=s(),a=o[0],u=o[o.length-1];(i=u<a)&&(h=a,a=u,u=h);var c,l,f,h=e(a),p=e(u),y=null==t?10:+t,v=[];if(!(d%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),a>0){for(;h<=p;++h)for(l=1,c=n(h);l<d;++l)if(!((f=c*l)<a)){if(f>u)break;v.push(f)}}else for(;h<=p;++h)for(l=d-1,c=n(h);l>=1;--l)if(!((f=c*l)<a)){if(f>u)break;v.push(f)}2*v.length<y&&(v=Object(r.a)(a,u,y))}else v=Object(r.a)(h,p,Math.min(p-h,y)).map(n);return i?v.reverse():v},a.tickFormat=function(t,r){if(null==r&&(r=10===d?".0e":","),"function"!==typeof r&&(r=Object(i.b)(r)),t===1/0)return r;null==t&&(t=10);var o=Math.max(1,d*t/a.ticks().length);return function(t){var i=t/n(Math.round(e(t)));return i*d<d-.5&&(i*=d),i<=o?r(t):""}},a.nice=function(){return s(Object(o.a)(s(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},a}function y(){var t=d(Object(a.d)()).domain([1,10]);return t.copy=function(){return Object(a.a)(t,y()).base(t.base())},s.b.apply(t,arguments),t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return c}));var r=n(67),i=n(50),o=n(40);function a(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function s(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function u(t){var e=1,n=t(a(e),s(e));return n.constant=function(n){return arguments.length?t(a(e=+n),s(e)):e},Object(r.b)(n)}function c(){var t=u(Object(i.d)());return t.copy=function(){return Object(i.a)(t,c()).constant(t.constant())},o.b.apply(t,arguments)}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";var r=n(145);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(e.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return wt}));var r=n(1),i=n.n(r),o=n(85),a=n(34),s=n(117),u=n(327),c=n(244),l=n(295),f=n(1211),h=n(1208),p=n(181),d=n.n(p),y=n(124),v=n.n(y),g=n(638),m=n(211),b=n.n(m),_=n(80),x=n.n(_),w=n(420),E=n.n(w),S=n(118),k=n(2),O=n.n(k),C=n(180),P=n.n(C),T=n(115),M=n(421);function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D(t,e){if(t){if("string"===typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||D(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function z(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||D(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=function(t,e,n,r,i){return Object(l.a)().domain(t.map(e)).range(n).round(Boolean(i.round)).padding(r)},B=function(t,e){return t.map((function(t){return j(j({},e.reduce((function(t,e){return j(j({},t),{},A({},e,null))}),{})),t)}))},U=function(t){return Object.keys(t).reduce((function(e,n){return t[n]?j(j({},e),{},A({},n,t[n])):e}),{})},q=function(t,e){return t>e},V=function(t,e){return t<e},G=function(t){var e;return(e=[]).concat.apply(e,z(t))},W=function(t,e){return Array.from(" ".repeat(e-t),(function(e,n){return t+n}))},H=function(t){return q(t,0)?0:t},K=function(t,e,n,r){var i=t.data,o=t.getIndex,a=t.keys,s=t.getColor,u=t.innerPadding,c=t.xScale,l=t.yScale,f=n?V:q;return G(a.map((function(t,n){return W(0,c.domain().length).map((function(a){var h,p=c(o(i[a]))+e*n+u*n,d=(h=i[a][t],f(h,0)?l(h):r),y=function(t,e){return f(t,0)?r-e:l(t)-r}(i[a][t],d),v={id:t,value:i[a][t],index:a,indexValue:o(i[a]),data:U(i[a])};return{key:"".concat(t,".").concat(v.indexValue),data:v,x:p,y:d,width:e,height:y,color:s(v)}}))})))},X=function(t,e,n,r){var i=t.data,o=t.getIndex,a=t.keys,s=t.getColor,u=t.innerPadding,c=void 0===u?0:u,l=t.xScale,f=t.yScale,h=n?V:q;return G(a.map((function(t,n){return W(0,f.domain().length).map((function(a){var u,p=(u=i[a][t],h(u,0)?r:l(u)),d=f(o(i[a]))+e*n+c*n,y=function(t,e){return h(t,0)?l(t)-r:r-e}(i[a][t],p),v={id:t,value:i[a][t],index:a,indexValue:o(i[a]),data:U(i[a])};return{key:"".concat(t,".").concat(v.indexValue),data:v,x:p,y:d,width:y,height:e,color:s(v)}}))})))},Y=function(t){var e=t.layout,n=t.keys,r=t.minValue,i=t.maxValue,o=t.reverse,a=t.width,s=t.height,u=t.padding,l=void 0===u?0:u,f=t.innerPadding,h=void 0===f?0:f,p=t.valueScale,d=t.indexScale,y=L(t,["layout","keys","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale"]),v=B(y.data,n),g=N("vertical"===e?["y",[0,a]]:["x",[s,0]],2),m=g[0],b=g[1],_=F(v,y.getIndex,b,l,d),x=j({axis:m,max:i,min:r,reverse:o},p),w="auto"===x.min?H:function(t){return t},E=v.reduce((function(t,e){return[].concat(z(t),z(n.map((function(t){return e[t]}))))}),[]).filter(Boolean),S=w(Math.min.apply(Math,z(E))),k=Math.max.apply(Math,z(E)),O=Object(c.b)(x,A({},m,{min:S,max:k}),a,s),C=N("vertical"===e?[_,O]:[O,_],2),P=C[0],T=C[1],M=(_.bandwidth()-h*(n.length-1))/n.length,I=[j(j({},y),{},{data:v,keys:n,innerPadding:h,xScale:P,yScale:T}),M,x.reverse,O(0)];return{xScale:P,yScale:T,bars:M>0?"vertical"===e?K.apply(void 0,I):X.apply(void 0,I):[]}},Z=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n>0?e.reduce((function(e,r){return e.concat(Array.isArray(r)?t(r,n-1):r)}),[]):e.slice()},$=function(t,e,n){var r=t.getIndex,i=t.getColor,o=t.innerPadding,a=t.stackedData,s=t.xScale,u=t.yScale;return Z(a.map((function(t){return s.domain().map((function(a,c){var l=t[c],f=s(r(l.data)),h=function(t){return u(t[n?0:1])}(l)+.5*o,p=function(t,e){return u(t[n?1:0])-e}(l,h)-o,d={id:t.key,value:l.data[t.key],index:c,indexValue:a,data:U(l.data)};return{key:"".concat(t.key,".").concat(a),data:d,x:f,y:h,width:e,height:p,color:i(d)}}))})))},J=function(t,e,n){var r=t.getIndex,i=t.getColor,o=t.innerPadding,a=t.stackedData,s=t.xScale,u=t.yScale;return Z(a.map((function(t){return u.domain().map((function(a,c){var l=t[c],f=u(r(l.data)),h=function(t){return s(t[n?1:0])}(l)+.5*o,p=function(t,e){return s(t[n?0:1])-e}(l,h)-o,d={id:t.key,value:l.data[t.key],index:c,indexValue:a,data:U(l.data)};return{key:"".concat(t.key,".").concat(a),data:d,x:h,y:f,width:p,height:e,color:i(d)}}))})))},Q=function(t){var e=t.data,n=t.keys,r=t.layout,i=t.minValue,o=t.maxValue,a=t.reverse,s=t.width,u=t.height,l=t.padding,p=void 0===l?0:l,d=t.valueScale,y=t.indexScale,v=L(t,["data","keys","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale"]),g=Object(f.a)().keys(n).offset(h.a)(B(e,n)),m=N("vertical"===r?["y",[0,s]]:["x",[u,0]],2),b=m[0],_=m[1],x=F(e,v.getIndex,_,p,y),w=j({axis:b,max:o,min:i,reverse:a},d),E=Z(g,2),S=Math.min.apply(Math,z(E)),k=Math.max.apply(Math,z(E)),O=Object(c.b)(w,A({},b,{min:S,max:k}),s,u),C=N("vertical"===r?[x,O]:[O,x],2),P=C[0],T=C[1],M=v.innerPadding>0?v.innerPadding:0,I=x.bandwidth(),R=[j(j({},v),{},{innerPadding:M,stackedData:g,xScale:P,yScale:T}),I,w.reverse];return{xScale:P,yScale:T,bars:I>0?"vertical"===r?$.apply(void 0,R):J.apply(void 0,R):[]}},tt=function(t){var e=t.from,n=t.bars,r=t.layout,i=t.direction,o=t.groupMode,a=t.reverse;return"indexes"===e?function(t){return d()(t.map((function(t){return{id:t.data.indexValue,label:t.data.indexValue,color:t.color,fill:t.data.fill}})),(function(t){return t.id}))}(n):function(t,e,n,r,i){var o=d()(t.map((function(t){return{id:t.data.id,label:t.data.id,color:t.color,fill:t.data.fill}})),(function(t){return t.id}));return("vertical"===e&&"stacked"===r&&"column"===n&&!0!==i||"horizontal"===e&&"stacked"===r&&!0===i)&&o.reverse(),o}(n,r,i,o,a)},et=P()(x()(["data","color","onClick"],(function(t){var e=t.data,n=t.color,r=t.onClick;return{onClick:function(t){return r(j({color:n},e),t)}}})),x()(["data","color","theme","tooltip","getTooltipLabel","tooltipFormat"],(function(t){var e=t.data,n=t.color,r=t.theme,o=t.tooltip,a=t.getTooltipLabel,s=t.tooltipFormat;return{tooltip:i.a.createElement(T.a,{id:a(e),value:e.value,enableChip:!0,color:n,theme:r,format:s,renderContent:"function"===typeof o?o.bind(null,j({color:n,theme:r},e)):null})}})),E.a)((function(t){var e=t.data,n=t.x,r=t.y,o=t.width,a=t.height,s=t.borderRadius,u=t.color,c=t.borderWidth,l=t.borderColor,f=t.label,h=t.shouldRenderLabel,p=t.labelColor,d=t.showTooltip,y=t.hideTooltip,v=t.onClick,g=t.onMouseEnter,m=t.onMouseLeave,b=t.tooltip,_=t.theme;return i.a.createElement("g",{transform:"translate(".concat(n,", ").concat(r,")")},i.a.createElement("rect",{width:o,height:a,rx:s,ry:s,fill:e.fill?e.fill:u,strokeWidth:c,stroke:l,onMouseEnter:function(t){g(e,t),d(b,t)},onMouseMove:function(t){return d(b,t)},onMouseLeave:function(t){m(e,t),y(t)},onClick:v}),h&&i.a.createElement("text",{x:o/2,y:a/2,textAnchor:"middle",dominantBaseline:"central",style:j(j({},_.labels.text),{},{pointerEvents:"none",fill:p})},f))})),nt=j(j({data:O.a.arrayOf(O.a.object).isRequired,indexBy:O.a.oneOfType([O.a.string,O.a.func]).isRequired,getIndex:O.a.func.isRequired,keys:O.a.arrayOf(O.a.oneOfType([O.a.string,O.a.number])).isRequired,layers:O.a.arrayOf(O.a.oneOfType([O.a.oneOf(["grid","axes","bars","markers","legends","annotations"]),O.a.func])).isRequired,groupMode:O.a.oneOf(["stacked","grouped"]).isRequired,layout:O.a.oneOf(["horizontal","vertical"]).isRequired,reverse:O.a.bool.isRequired,valueScale:c.c.isRequired,indexScale:c.a.isRequired,minValue:O.a.oneOfType([O.a.number,O.a.oneOf(["auto"])]).isRequired,maxValue:O.a.oneOfType([O.a.number,O.a.oneOf(["auto"])]).isRequired,padding:O.a.number.isRequired,innerPadding:O.a.number.isRequired,axisTop:s.c,axisRight:s.c,axisBottom:s.c,axisLeft:s.c,enableGridX:O.a.bool.isRequired,enableGridY:O.a.bool.isRequired,gridXValues:O.a.oneOfType([O.a.number,O.a.arrayOf(O.a.oneOfType([O.a.number,O.a.string]))]),gridYValues:O.a.oneOfType([O.a.number,O.a.arrayOf(O.a.oneOfType([O.a.number,O.a.string]))]),barComponent:O.a.func.isRequired,enableLabel:O.a.bool.isRequired,label:O.a.oneOfType([O.a.string,O.a.func]).isRequired,labelFormat:O.a.oneOfType([O.a.string,O.a.func]),getLabel:O.a.func.isRequired,labelSkipWidth:O.a.number.isRequired,labelSkipHeight:O.a.number.isRequired,labelTextColor:S.d.isRequired,getLabelTextColor:O.a.func.isRequired,labelLinkColor:S.d.isRequired,getLabelLinkColor:O.a.func.isRequired,colors:S.e.isRequired,colorBy:S.a.isRequired,borderRadius:O.a.number.isRequired,getColor:O.a.func.isRequired},a.g),{},{borderWidth:O.a.number.isRequired,borderColor:S.d.isRequired,getBorderColor:O.a.func.isRequired,isInteractive:O.a.bool,onClick:O.a.func.isRequired,onMouseEnter:O.a.func.isRequired,onMouseLeave:O.a.func.isRequired,tooltipLabel:O.a.func,getTooltipLabel:O.a.func.isRequired,tooltipFormat:O.a.oneOfType([O.a.func,O.a.string]),tooltip:O.a.func,legends:O.a.arrayOf(O.a.shape(j({dataFrom:O.a.oneOf(["indexes","keys"]).isRequired},u.b))).isRequired,pixelRatio:O.a.number.isRequired}),rt=(j(j({},nt),{},{role:O.a.string.isRequired}),{indexBy:"id",keys:["value"],layers:["grid","axes","bars","markers","legends","annotations"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,barComponent:et,enableLabel:!0,label:"value",labelSkipWidth:0,labelSkipHeight:0,labelLinkColor:"theme",labelTextColor:"theme",colors:{scheme:"nivo"},colorBy:"id",defs:[],fill:[],borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,onClick:a.m,onMouseEnter:a.m,onMouseLeave:a.m,legends:[],annotations:[],pixelRatio:t.window&&t.window.devicePixelRatio?t.window.devicePixelRatio:1}),it=j(j({},rt),{},{role:"img"}),ot=function(t){return Object(g.a)(b()(rt),Object(a.x)(),Object(a.v)(),Object(a.w)(),x()(["colors","colorBy"],(function(t){var e=t.colors,n=t.colorBy;return{getColor:Object(S.c)(e,n)}})),x()(["indexBy"],(function(t){var e=t.indexBy;return{getIndex:Object(a.i)(e)}})),x()(["labelTextColor","theme"],(function(t){var e=t.labelTextColor,n=t.theme;return{getLabelTextColor:Object(S.b)(e,n)}})),x()(["labelLinkColor","theme"],(function(t){var e=t.labelLinkColor,n=t.theme;return{getLabelLinkColor:Object(S.b)(e,n)}})),x()(["label","labelFormat"],(function(t){var e=t.label,n=t.labelFormat;return{getLabel:Object(a.j)(e,n)}})),x()(["borderColor","theme"],(function(t){var e=t.borderColor,n=t.theme;return{getBorderColor:Object(S.b)(e,n)}})),x()(["tooltipLabel"],(function(t){var e=t.tooltipLabel,n=function(t){return"".concat(t.id," - ").concat(t.indexValue)};return"function"===typeof e&&(n=e),{getTooltipLabel:n}})),E.a)(t)},at=function(t){var e=t.bars,n=t.annotations,r=t.animate,o=t.innerWidth,a=t.innerHeight,s=t.motionStiffness,u=t.motionDamping;return Object(M.b)({items:e,annotations:n,getPosition:function(t){return{x:t.x+t.width/2,y:t.y+t.height/2}},getDimensions:function(t,e){var n=t.width+2*e,r=t.height+2*e;return{width:n,height:r,size:Math.max(n,r)}}}).map((function(t,e){return i.a.createElement(M.a,Object.assign({key:e},t,{containerWidth:o,containerHeight:a,animate:r,motionStiffness:s,motionDamping:u}))}))},st=function(t){var e=t.style;return{x:e.x.val,y:e.y.val,width:0,height:e.height.val}},ut=function(t){var e=t.style;return{x:e.x.val,y:e.y.val+e.height.val,width:e.width.val,height:0}},ct=function(t){var e=t.data,n=t.getIndex,c=t.keys,l=t.groupMode,f=t.layout,h=t.reverse,p=t.minValue,d=t.maxValue,y=t.valueScale,v=t.indexScale,g=t.margin,m=t.width,b=t.height,_=t.outerWidth,x=t.outerHeight,w=t.padding,E=t.innerPadding,S=t.axisTop,k=t.axisRight,O=t.axisBottom,C=t.axisLeft,P=t.enableGridX,T=t.enableGridY,M=t.gridXValues,A=t.gridYValues,I=t.layers,R=t.barComponent,D=t.enableLabel,N=t.getLabel,L=t.labelSkipWidth,z=t.labelSkipHeight,F=t.getLabelTextColor,B=t.markers,U=t.theme,q=t.getColor,V=t.defs,G=t.fill,W=t.borderRadius,H=t.borderWidth,K=t.getBorderColor,X=t.annotations,Z=t.isInteractive,$=t.getTooltipLabel,J=t.tooltipFormat,et=t.tooltip,nt=t.onClick,rt=t.onMouseEnter,it=t.onMouseLeave,ot=t.legends,ct=t.animate,lt=t.motionStiffness,ft=t.motionDamping,ht=t.role,pt=("grouped"===l?Y:Q)({layout:f,reverse:h,data:e,getIndex:n,keys:c,minValue:p,maxValue:d,width:m,height:b,getColor:q,padding:w,innerPadding:E,valueScale:y,indexScale:v}),dt={animate:ct,motionDamping:ft,motionStiffness:lt},yt={damping:ft,stiffness:lt},vt="vertical"===f?ut:st,gt="vertical"===f?function(t){return function(e){var n=e.style;return{x:n.x,y:Object(o.spring)(n.y.val+n.height.val,t),width:n.width,height:Object(o.spring)(0,t)}}}(yt):function(t){return function(e){var n=e.style;return{x:n.x,y:n.y,width:Object(o.spring)(0,t),height:n.height}}}(yt),mt=function(t){var e=t.width,n=t.height;return!!D&&(!(L>0&&e<L)&&!(z>0&&n<z))},bt=Object(a.f)(V,pt.bars,G,{dataKey:"data",targetKey:"data.fill"});return i.a.createElement(a.b,{isInteractive:Z,theme:U,animate:ct,motionStiffness:lt,motionDamping:ft},(function(e){var n,c=e.showTooltip,p=e.hideTooltip,d={borderRadius:W,borderWidth:H,enableLabel:D,labelSkipWidth:L,labelSkipHeight:z,showTooltip:c,hideTooltip:p,onClick:nt,onMouseEnter:rt,onMouseLeave:it,theme:U,getTooltipLabel:$,tooltipFormat:J,tooltip:et};n=!0===ct?i.a.createElement(o.TransitionMotion,{key:"bars",willEnter:vt,willLeave:gt,styles:pt.bars.filter((function(t){return null!==t.data.value})).map((function(t){return{key:t.key,data:t,style:{x:Object(o.spring)(t.x,yt),y:Object(o.spring)(t.y,yt),width:Object(o.spring)(t.width,yt),height:Object(o.spring)(t.height,yt)}}}))},(function(t){return i.a.createElement("g",null,t.map((function(t){var e=t.key,n=t.style,r=t.data,o=j(j({},r),n);return i.a.createElement(R,j(j(j({key:e},o),d),{},{shouldRenderLabel:mt(o),width:Math.max(n.width,0),height:Math.max(n.height,0),label:N(r.data),labelColor:F(o,U),borderColor:K(o),theme:U}))})))})):pt.bars.filter((function(t){return null!==t.data.value})).map((function(t){return i.a.createElement(R,j(j(j({key:t.key},t),d),{},{label:N(t.data),shouldRenderLabel:mt(t),labelColor:F(t,U),borderColor:K(t),theme:U}))}));var y={grid:i.a.createElement(s.b,{key:"grid",width:m,height:b,xScale:P?pt.xScale:null,yScale:T?pt.yScale:null,xValues:M,yValues:A}),axes:i.a.createElement(s.a,{key:"axes",xScale:pt.xScale,yScale:pt.yScale,width:m,height:b,top:S,right:k,bottom:O,left:C}),bars:n,markers:i.a.createElement(a.a,{key:"markers",markers:B,width:m,height:b,xScale:pt.xScale,yScale:pt.yScale,theme:U}),legends:ot.map((function(t,e){var n=tt({from:t.dataFrom,bars:pt.bars,layout:f,direction:t.direction,groupMode:l,reverse:h});return void 0===n?null:i.a.createElement(u.a,Object.assign({key:e},t,{containerWidth:m,containerHeight:b,data:n,theme:U}))})),annotations:i.a.createElement(at,Object.assign({key:"annotations",innerWidth:m,innerHeight:b,bars:pt.bars,annotations:X},dt))};return i.a.createElement(a.d,{width:_,height:x,margin:g,defs:bt,theme:U,role:ht},I.map((function(e,n){return"function"===typeof e?i.a.createElement(r.Fragment,{key:n},e(j(j(j({},t),pt),{},{showTooltip:c,hideTooltip:p}))):y[e]})))}))};ct.defaultProps=it;var lt=v()("Bar")(ot(ct));function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function vt(t){return(vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){return!e||"object"!==vt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var mt=function(t,e,n,r){return t.find((function(t){return Object(a.l)(t.x+e.left,t.y+e.top,t.width,t.height,n,r)}))},bt=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(l,t);var e,n,r,o,c=(e=l,function(){var t,n=dt(e);if(yt()){var r=dt(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return gt(this,t)});function l(){var t;ft(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=c.call.apply(c,[this].concat(n))).handleMouseHover=function(e,n){return function(r){if(t.bars){var o=t.props,s=o.margin,u=o.theme,c=o.tooltip,l=o.getTooltipLabel,f=o.tooltipFormat,h=N(Object(a.k)(t.surface,r),2),p=h[0],d=h[1],y=mt(t.bars,s,p,d);void 0!==y?e(i.a.createElement(T.a,{id:l(y.data),value:y.data.value,enableChip:!0,color:y.color,theme:u,format:f,renderContent:"function"===typeof c?c.bind(null,j({color:y.color},y.data)):null}),r):n()}}},t.handleMouseLeave=function(t){return function(){t()}},t.handleClick=function(e){if(t.bars){var n=t.props,r=n.margin,i=n.onClick,o=N(Object(a.k)(t.surface,e),2),s=o[0],u=o[1],c=mt(t.bars,r,s,u);void 0!==c&&i(c.data,e)}},t}return n=l,(r=[{key:"componentDidMount",value:function(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)}},{key:"shouldComponentUpdate",value:function(t){return this.props.outerWidth!==t.outerWidth||this.props.outerHeight!==t.outerHeight||this.props.isInteractive!==t.isInteractive||this.props.theme!==t.theme||(this.draw(t),!1)}},{key:"componentDidUpdate",value:function(){this.ctx=this.surface.getContext("2d"),this.draw(this.props)}},{key:"draw",value:function(t){var e=this,n=t.data,r=t.keys,i=t.getIndex,o=t.minValue,a=t.maxValue,c=t.valueScale,l=t.indexScale,f=t.width,h=t.height,p=t.outerWidth,y=t.outerHeight,v=t.pixelRatio,g=t.margin,m=t.layout,b=t.reverse,_=t.groupMode,x=t.padding,w=t.innerPadding,E=t.axisTop,S=t.axisRight,k=t.axisBottom,O=t.axisLeft,C=t.theme,P=t.getColor,T=t.borderWidth,M=t.getBorderColor,A=t.legends,I=t.enableGridX,R=t.gridXValues,D=t.enableGridY,N=t.gridYValues;this.surface.width=p*v,this.surface.height=y*v,this.ctx.scale(v,v);var L={layout:m,reverse:b,data:n,getIndex:i,keys:r,minValue:o,maxValue:a,width:f,height:h,getColor:P,padding:x,innerPadding:w,valueScale:c,indexScale:l},z="grouped"===_?Y(L):Q(L);this.bars=z.bars,this.ctx.fillStyle=C.background,this.ctx.fillRect(0,0,p,y),this.ctx.translate(g.left,g.top),C.grid.line.strokeWidth>0&&(this.ctx.lineWidth=C.grid.line.strokeWidth,this.ctx.strokeStyle=C.grid.line.stroke,I&&Object(s.e)(this.ctx,{width:f,height:h,scale:z.xScale,axis:"x",values:R}),D&&Object(s.e)(this.ctx,{width:f,height:h,scale:z.yScale,axis:"y",values:N})),this.ctx.strokeStyle="#dddddd";var F=d()(z.bars.map((function(t){return{id:t.data.id,label:t.data.id,color:t.color,fill:t.data.fill}})).reverse(),(function(t){return t.id})),B=d()(z.bars.map((function(t){return{id:t.data.indexValue,label:t.data.indexValue,color:t.color,fill:t.data.fill}})),(function(t){return t.id}));A.forEach((function(t){var n;if("keys"===t.dataFrom?n=F:"indexes"===t.dataFrom&&(n=B),void 0===n)return null;Object(u.c)(e.ctx,j(j({},t),{},{data:n,containerWidth:f,containerHeight:h,itemTextColor:"#999",symbolSize:16,theme:C}))})),Object(s.d)(this.ctx,{xScale:z.xScale,yScale:z.yScale,width:f,height:h,top:E,right:S,bottom:k,left:O,theme:C}),z.bars.forEach((function(t){var n=t.x,r=t.y,i=t.color,o=t.width,a=t.height;e.ctx.fillStyle=i,T>0&&(e.ctx.strokeStyle=M(t),e.ctx.lineWidth=T),e.ctx.beginPath(),e.ctx.rect(n,r,o,a),e.ctx.fill(),T>0&&e.ctx.stroke()}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.outerWidth,r=e.outerHeight,o=e.pixelRatio,s=e.isInteractive,u=e.theme,c=e.canvasRef;return i.a.createElement(a.b,{isInteractive:s,theme:u,animate:!1},(function(e){var a=e.showTooltip,s=e.hideTooltip;return i.a.createElement("canvas",{ref:function(e){t.surface=e,c&&(c.current=e)},width:n*o,height:r*o,style:{width:n,height:r},onMouseEnter:t.handleMouseHover(a,s),onMouseMove:t.handleMouseHover(a,s),onMouseLeave:t.handleMouseLeave(s),onClick:t.handleClick})}))}}])&&ht(n.prototype,r),o&&ht(n,o),l}(r.Component);bt.defaultProps=rt;var _t=v()("BarCanvas")(ot(bt)),xt=i.a.forwardRef((function(t,e){return i.a.createElement(_t,Object.assign({},t,{canvasRef:e}))})),wt=function(t){return i.a.createElement(a.c,null,(function(e){var n=e.width,r=e.height;return i.a.createElement(lt,Object.assign({width:n,height:r},t))}))};i.a.forwardRef((function(t,e){return i.a.createElement(a.c,null,(function(n){var r=n.width,o=n.height;return i.a.createElement(xt,Object.assign({width:r,height:o},t,{ref:e}))}))}))}).call(this,n(53))},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}t.exports=function(t,e){if(i(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(e,n[a])||!i(t[n[a]],e[n[a]]))return!1;return!0}},function(t,e,n){"use strict";e.a=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}},function(t,e,n){"use strict";var r=n(1),i=n(82);function o(t,e,n){return t===e||(t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n))}var a,s,u=(void 0===a&&(a=0),function(){return++a}),c={},l={},f=["touchstart","touchmove"];function h(t,e){var n=null;return-1!==f.indexOf(e)&&s&&(n={passive:!t.props.preventDefault}),n}e.a=function(t,e){var n,a,f=t.displayName||t.name||"Component";return a=n=function(n){var a,p;function d(t){var r;return(r=n.call(this,t)||this).__outsideClickHandler=function(t){if("function"!==typeof r.__clickOutsideHandlerProp){var e=r.getInstance();if("function"!==typeof e.props.handleClickOutside){if("function"!==typeof e.handleClickOutside)throw new Error("WrappedComponent: "+f+" lacks a handleClickOutside(event) function for processing outside click events.");e.handleClickOutside(t)}else e.props.handleClickOutside(t)}else r.__clickOutsideHandlerProp(t)},r.__getComponentNode=function(){var t=r.getInstance();return e&&"function"===typeof e.setClickOutsideRef?e.setClickOutsideRef()(t):"function"===typeof t.setClickOutsideRef?t.setClickOutsideRef():Object(i.findDOMNode)(t)},r.enableOnClickOutside=function(){if("undefined"!==typeof document&&!l[r._uid]){"undefined"===typeof s&&(s=function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,e),window.removeEventListener("testPassiveEventSupport",n,e),t}}()),l[r._uid]=!0;var t=r.props.eventTypes;t.forEach||(t=[t]),c[r._uid]=function(t){var e;null!==r.componentNode&&(r.props.preventDefault&&t.preventDefault(),r.props.stopPropagation&&t.stopPropagation(),r.props.excludeScrollbar&&(e=t,document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY)||function(t,e,n){if(t===e)return!0;for(;t.parentNode;){if(o(t,e,n))return!0;t=t.parentNode}return t}(t.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(t))},t.forEach((function(t){document.addEventListener(t,c[r._uid],h(r,t))}))}},r.disableOnClickOutside=function(){delete l[r._uid];var t=c[r._uid];if(t&&"undefined"!==typeof document){var e=r.props.eventTypes;e.forEach||(e=[e]),e.forEach((function(e){return document.removeEventListener(e,t,h(r,e))})),delete c[r._uid]}},r.getRef=function(t){return r.instanceRef=t},r._uid=u(),r}p=n,(a=d).prototype=Object.create(p.prototype),a.prototype.constructor=a,a.__proto__=p;var y=d.prototype;return y.getInstance=function(){if(!t.prototype.isReactComponent)return this;var e=this.instanceRef;return e.getInstance?e.getInstance():e},y.componentDidMount=function(){if("undefined"!==typeof document&&document.createElement){var t=this.getInstance();if(e&&"function"===typeof e.handleClickOutside&&(this.__clickOutsideHandlerProp=e.handleClickOutside(t),"function"!==typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+f+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},y.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},y.componentWillUnmount=function(){this.disableOnClickOutside()},y.render=function(){var e=this.props,n=(e.excludeScrollbar,function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(e,["excludeScrollbar"]));return t.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(r.createElement)(t,n)},d}(r.Component),n.displayName="OnClickOutside("+f+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:e&&e.excludeScrollbar||!1,outsideClickIgnoreClass:"ignore-react-onclickoutside",preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},a}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(108);e.__esModule=!0,e.default=void 0;var i=n(1),o=(r(n(124)),r(n(190)),function(t){return function(e){var n=(0,i.createFactory)(e),r=function(t){return n(t)};return r.defaultProps=t,r}});e.default=o},function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";var r=n(4);e.a=function(t,e){return Object(r.a)(t[0]-e[0])<r.i&&Object(r.a)(t[1]-e[1])<r.i}},function(t,e,n){"use strict";var r=n(49),i=1/0,o=i,a=-i,s=a,u={point:function(t,e){t<i&&(i=t);t>a&&(a=t);e<o&&(o=e);e>s&&(s=e)},lineStart:r.a,lineEnd:r.a,polygonStart:r.a,polygonEnd:r.a,result:function(){var t=[[i,o],[a,s]];return a=s=-(o=i=1/0),t}};e.a=u},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Wrappers",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"enableAuth",{enumerable:!0,get:function(){return a.enableAuth}}),Object.defineProperty(e,"useAuth",{enumerable:!0,get:function(){return a.useAuth}}),Object.defineProperty(e,"Reducers",{enumerable:!0,get:function(){return s.default}}),e.Components=void 0;var i=c(n(1)),o=c(n(1137)),a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(1160)),s=c(n(1168));function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=f(f({},o.default),{},{"ams-manager":(0,a.amsManager)((function(t){var e=t.children,n=t.className,r=void 0===n?"max-w-6xl mx-auto h-full flex-1 flex flex-col":n;return i.default.createElement("div",{className:r},e)}))});e.Components=p},function(t,e,n){"use strict";var r=n(98);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){var r=n(490),i=n(753),o=n(185);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(188),i=n(189);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(490),i=n(779),o=n(185);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){"use strict";n.r(e),n.d(e,"matchSorter",(function(){return u})),n.d(e,"rankings",(function(){return a}));var r=n(17),i=n(647),o=n.n(i),a={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};u.rankings=a;var s=function(t,e){return String(t.rankedItem).localeCompare(e.rankedItem)};function u(t,e,n){void 0===n&&(n={});var r=n,i=r.keys,o=r.threshold,u=void 0===o?a.MATCHES:o,l=r.baseSort,h=void 0===l?s:l;return t.reduce((function(t,r,o){var s=function(t,e,n,r){if(!e)return{rankedItem:t,rank:c(t,n,r),keyIndex:-1,keyThreshold:r.threshold};return function(t,e){return e.reduce((function(e,n){var r=function(t,e){"object"===typeof e&&(e=e.key);var n;n="function"===typeof e?e(t):-1!==e.indexOf(".")?e.split(".").reduce((function(t,e){return t?t[e]:null}),t):t[e];return null!=n?[].concat(n):null}(t,n);return r&&r.forEach((function(t){e.push({itemValue:t,attributes:f(n)})})),e}),[])}(t,e).reduce((function(t,e,i){var o=t.rank,s=t.rankedItem,u=t.keyIndex,l=t.keyThreshold,f=e.itemValue,h=e.attributes,p=c(f,n,r),d=s,y=h.minRanking,v=h.maxRanking,g=h.threshold;return p<y&&p>=a.MATCHES?p=y:p>v&&(p=v),p>o&&(o=p,u=i,l=g,d=f),{rankedItem:d,rank:o,keyIndex:u,keyThreshold:l}}),{rank:a.NO_MATCH,keyIndex:-1,keyThreshold:r.threshold})}(r,i,e,n),l=s.rankedItem,h=s.rank,p=s.keyIndex,d=s.keyThreshold;h>=(void 0===d?u:d)&&t.push({rankedItem:l,item:r,rank:h,index:o,keyIndex:p});return t}),[]).sort((function(t,e){return function(t,e,n){var r=-1,i=1,o=t.rank,a=t.keyIndex,s=e.rank,u=e.keyIndex;return o===s?a===u?n(t,e):a<u?r:i:o>s?r:i}(t,e,h)})).map((function(t){return t.item}))}function c(t,e,n){return t=l(t,n),(e=l(e,n)).length>t.length?a.NO_MATCH:t===e?a.CASE_SENSITIVE_EQUAL:(t=t.toLowerCase())===(e=e.toLowerCase())?a.EQUAL:0===t.indexOf(e)?a.STARTS_WITH:-1!==t.indexOf(" "+e)?a.WORD_STARTS_WITH:-1!==t.indexOf(e)?a.CONTAINS:1===e.length?a.NO_MATCH:-1!==function(t){var e="";return t.split(" ").forEach((function(t){t.split("-").forEach((function(t){e+=t.substr(0,1)}))})),e}(t).indexOf(e)?a.ACRONYM:function(t,e){var n=0,r=0;function i(t,e,r){for(var i=r;i<e.length;i++){if(e[i]===t)return n+=1,i+1}return-1}function o(t){var r=n/e.length;return a.MATCHES+r*(1/t)}var s=i(e[0],t,0);if(s<0)return a.NO_MATCH;r=s;for(var u=1;u<e.length;u++){if(!((r=i(e[u],t,r))>-1))return a.NO_MATCH}return o(r-s)}(t,e)}function l(t,e){return t=""+t,e.keepDiacritics||(t=o()(t)),t}function f(t){return"string"===typeof t&&(t={key:t}),Object(r.a)({maxRanking:1/0,minRanking:-1/0},t)}},function(t,e,n){var r=n(68),i=Object.prototype.hasOwnProperty;t.exports=function(t,e){return r(t)&&i.call(t,e)}},function(t,e,n){var r=n(192);t.exports=function(t,e){var n=e.$_refsLength||0;e[r+n]=t,e.$_refsLength=n+1,t.$_refIndex=n,t.$_context=e}},function(t,e){var n=Array.isArray;function r(t,e){var n=e.from=t.from||0,r=e.to=t.to||"number"===typeof t.length&&e.from+t.length-1||0;e.rangeOffset=e.from,e.loaded=!0,n>r&&(e.empty=!0)}function i(t,e){e.done=!1;var r=e.isObject=!(!t||"object"!==typeof t);e.isArray=r&&n(t),e.arrayOffset=0}t.exports=function(t,e){if(void 0===e.isArray&&i(t,e),e.isArray){var n;do{if(e.loaded&&e.rangeOffset>e.to&&(++e.arrayOffset,e.loaded=!1),e.arrayOffset>=t.length){e.done=!0;break}var o=t[e.arrayOffset];if(null!==o&&"object"===typeof o){if(e.loaded||r(o,e),e.empty)continue;n=e.rangeOffset++}else++e.arrayOffset,n=o}while(void 0===n);return n}return e.isObject?(e.loaded||r(t,e),e.rangeOffset>e.to?void(e.done=!0):e.rangeOffset++):e.loaded?void(e.done=!0):(e.loaded=!0,t)}},function(t,e,n){var r=n(380),i=n(546);t.exports=function(t,e,n,o){var a=t;do{var s=a.$_parent;(a.$size=(a.$size||0)-e)<=0&&null!=s?r(a,s,a.$_key,n):a.$_version!==o&&i(a,o),a=s}while(a);return t}},function(t,e){t.exports={indexer:{nested:"Indexers cannot be nested.",needQuotes:"unquoted indexers must be numeric.",empty:"cannot have empty indexers.",leadingDot:"Indexers cannot have leading dots.",leadingComma:"Indexers cannot have leading comma.",requiresComma:"Indexers require commas between indexer args.",routedTokens:"Only one token can be used per indexer when specifying routed tokens."},range:{precedingNaN:"ranges must be preceded by numbers.",suceedingNaN:"ranges must be suceeded by numbers."},routed:{invalid:"Invalid routed token.  only integers|ranges|keys are supported."},quote:{empty:"cannot have empty quoted keys.",illegalEscape:"Invalid escape character.  Only quotes are escapable."},unexpectedToken:"Unexpected token.",invalidIdentifier:"Invalid Identifier.",invalidPath:"Please provide a valid path.",throwError:function(t,e,n){if(n)throw t+" -- "+e.parseString+" with next token: "+n;throw t+" -- "+e.parseString}}},function(t,e,n){var r=Array.isArray,i=n(68);t.exports=function(t){return i(t)&&(r(t.path)||"string"===typeof t.path)}},function(t,e,n){"use strict";var r=n(44).OrderedMap,i={createFromArray:function(t){return r(t.map((function(t){return[t.getKey(),t]})))}};t.exports=i},function(t,e,n){"use strict";t.exports=function(t,e,n,r){if(t.size){var i=0;t.reduce((function(t,o,a){return e(t,o)||(n(t)&&r(i,a),i=a),o})),n(t.last())&&r(i,t.count())}}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.ownerDocument)&&(t.ownerDocument.defaultView?t instanceof t.ownerDocument.defaultView.HTMLElement:t instanceof HTMLElement)}},function(t,e,n){"use strict";var r=n(75),i=n(138)("draft_tree_data_support");t.exports=function(t,e,n){var o=t.getSelection(),a=t.getCurrentContent(),s=o,u=o.getAnchorKey(),c=o.getFocusKey(),l=a.getBlockForKey(u);if(i&&"forward"===n&&u!==c)return a;if(o.isCollapsed()){if("forward"===n){if(t.isSelectionAtEndOfContent())return a;if(i)if(o.getAnchorOffset()===a.getBlockForKey(u).getLength()){var f=a.getBlockForKey(l.nextSibling);if(!f||0===f.getLength())return a}}else if(t.isSelectionAtStartOfContent())return a;if((s=e(t))===o)return a}return r.removeRange(a,s,n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};e.default=function(t){var e=t.children,n=t.className,r=void 0===n?"":n;return i.default.createElement("div",{className:"mb-5 last:mb-0 py-2 px-4 border-2 rounded m-auto ".concat(r)},e)}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var r=n(38),i=function(t){return(0,r.requestAnimationFrame)(t)},o=function(t){void 0===t&&(t=i);var e=!0,n=!1,o=0,s=[],u=0,c=new Set,l=new Set,f=new Set,h=function(t){var e=s.indexOf(t);e<0&&(e=s.findIndex((function(e){return e.priority>t.priority})),s.splice(~e?e:s.length,0,t))},p=function n(){if(!e)try{v(),t(n)}catch(r){console.error(r)}},d=function(){e&&(e=!1,0==o&&(o=r.now(),t(p)))},y=[];this.setTimeout=function(t,e){var n=r.now()+e,i=a(y,(function(t){return t.time>n})),o={time:n,handler:t,cancel:function t(){var e=y.findIndex((function(e){return e.cancel==t}));e>=0&&y.splice(e,1)}};return y.splice(i,0,o),d(),o};var v=this.advance=function(){var t=r.now();if(c.size&&(c.forEach(h),c.clear()),y.length&&r.batchedUpdates((function(){var e=a(y,(function(e){return e.time>t}));y.splice(0,e).forEach((function(t){return t.handler()}))})),t>o){var e=Math.min(64,t-o);o=t,r.batchedUpdates((function(){s.length&&(r.willAdvance(s),s=s.filter((function(t){return u=t.priority,t.idle||t.advance(e),!t.idle})),u=0),l.size&&(l.forEach((function(e){return e(t)})),l.clear()),f.size&&(n=!0,f.forEach((function(e){return e(t)})),f.clear(),n=!1)}))}};this.start=function(t){u>t.priority?c.add(t):(h(t),d())},this.onFrame=function(t){l.add(t),d()},this.onWrite=function(t){n?t(o):f.add(t)}};function a(t,e){var n=t.findIndex(e);return n<0?t.length:n}}).call(this,n(153))},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";var r=n(320),i=n(4);e.a=Object(r.a)((function(){return!0}),(function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,s){var u=a>0?i.o:-i.o,c=Object(i.a)(a-n);Object(i.a)(c-i.o)<i.i?(t.point(n,r=(r+s)/2>0?i.l:-i.l),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(a,r),e=0):o!==u&&c>=i.o&&(Object(i.a)(n-o)<i.i&&(n-=o*i.i),Object(i.a)(a-u)<i.i&&(a-=u*i.i),r=function(t,e,n,r){var o,a,s=Object(i.t)(t-n);return Object(i.a)(s)>i.i?Object(i.d)((Object(i.t)(e)*(a=Object(i.g)(r))*Object(i.t)(n)-Object(i.t)(r)*(o=Object(i.g)(e))*Object(i.t)(t))/(o*a*s)):(e+r)/2}(n,r,a,s),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=a,r=s),o=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var o;if(null==t)o=n*i.l,r.point(-i.o,o),r.point(0,o),r.point(i.o,o),r.point(i.o,0),r.point(i.o,-o),r.point(0,-o),r.point(-i.o,-o),r.point(-i.o,0),r.point(-i.o,o);else if(Object(i.a)(t[0]-e[0])>i.i){var a=t[0]<e[0]?i.o:-i.o;o=n*a/2,r.point(-a,o),r.point(0,o),r.point(a,o)}else r.point(e[0],e[1])}),[-i.o,-i.l])},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));var r=n(24),i=n.n(r),o=n(37),a=i.a.mark(s);function s(t,e){var n,r,s,u,c,l,f;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(void 0!==e){i.next=21;break}n=Object(o.a)(t),i.prev=2,n.s();case 4:if((r=n.n()).done){i.next=11;break}if(!(null!=(s=r.value)&&(s=+s)>=s)){i.next=9;break}return i.next=9,s;case 9:i.next=4;break;case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(2),n.e(i.t0);case 16:return i.prev=16,n.f(),i.finish(16);case 19:i.next=40;break;case 21:u=-1,c=Object(o.a)(t),i.prev=23,c.s();case 25:if((l=c.n()).done){i.next=32;break}if(f=l.value,!(null!=(f=e(f,++u,t))&&(f=+f)>=f)){i.next=30;break}return i.next=30,f;case 30:i.next=25;break;case 32:i.next=37;break;case 34:i.prev=34,i.t1=i.catch(23),c.e(i.t1);case 37:return i.prev=37,c.f(),i.finish(37);case 40:case"end":return i.stop()}}),a,null,[[2,13,16,19],[23,34,37,40]])}e.a=function(t){return null===t?NaN:+t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i}));var r=n(173);function i(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}e.a=function(t){var e=t.map(i);return Object(r.a)(t).sort((function(t,n){return e[t]-e[n]}))}},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";e.a=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i}));Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,Math.PI;var r=n(172);function i(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function o(t,e){this._context=t,this._alpha=e}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:i(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};e.a=function t(e){function n(t){return e?new o(t,e):new r.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";var r=n(108);e.__esModule=!0,e.default=void 0;var i=r(n(497)),o=function(t){return(0,i.default)("propTypes",t)};e.default=o},function(t,e,n){var r;!function(i,o,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),f=Math.round,h=Math.abs,p=Date.now;function d(t,e,n){return setTimeout(x(t,n),e)}function y(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function g(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!==typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var m=g((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),b=g((function(t,e){return m(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function x(t,e){return function(){return t.apply(e,arguments)}}function w(t,e){return"function"==typeof t?t.apply(e&&e[0]||s,e):t}function E(t,e){return t===s?e:t}function S(t,e,n){v(P(e),(function(e){t.addEventListener(e,n,!1)}))}function k(t,e,n){v(P(e),(function(e){t.removeEventListener(e,n,!1)}))}function O(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function C(t,e){return t.indexOf(e)>-1}function P(t){return t.trim().split(/\s+/g)}function T(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function M(t){return Array.prototype.slice.call(t,0)}function A(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];T(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function I(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:e)in t)return r;o++}return s}var j=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var D="ontouchstart"in i,N=I(i,"PointerEvent")!==s,L=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),z="touch",F="mouse",B=24,U=["x","y"],q=["clientX","clientY"];function V(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){w(t.options.enable,[t])&&n.handler(e)},this.init()}function G(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i===0,a=12&e&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=W(e));i>1&&!n.firstMultiple?n.firstMultiple=W(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,c=e.center=H(r);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Z(u,c),e.distance=Y(u,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=X(e.deltaX,e.deltaY);var l=K(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,e.scale=a?(f=a.pointers,d=r,Y(d[0],d[1],q)/Y(f[0],f[1],q)):1,e.rotation=a?function(t,e){return Z(e[1],e[0],q)+Z(t[1],t[0],q)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(u>25||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,f=K(u,c,l);r=f.x,i=f.y,n=h(f.x)>h(f.y)?f.x:f.y,o=X(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var f,d;var y=t.element;O(e.srcEvent.target,y)&&(y=e.srcEvent.target);e.target=y}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function W(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:f(n/e),y:f(r/e)}}function K(t,e,n){return{x:e/t||0,y:n/t||0}}function X(t,e){return t===e?1:h(t)>=h(e)?t<0?2:4:e<0?8:16}function Y(t,e,n){n||(n=U);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function Z(t,e,n){n||(n=U);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(R(this.element),this.evWin,this.domHandler)}};var $={mousedown:1,mousemove:2,mouseup:4},J="mousedown",Q="mousemove mouseup";function tt(){this.evEl=J,this.evWin=Q,this.pressed=!1,V.apply(this,arguments)}_(tt,V,{handler:function(t){var e=$[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:F,srcEvent:t}))}});var et={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},nt={2:z,3:"pen",4:F,5:"kinect"},rt="pointerdown",it="pointermove pointerup pointercancel";function ot(){this.evEl=rt,this.evWin=it,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(rt="MSPointerDown",it="MSPointerMove MSPointerUp MSPointerCancel"),_(ot,V,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=et[r],o=nt[t.pointerType]||t.pointerType,a=o==z,s=T(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var at={touchstart:1,touchmove:2,touchend:4,touchcancel:8},st="touchstart",ut="touchstart touchmove touchend touchcancel";function ct(){this.evTarget=st,this.evWin=ut,this.started=!1,V.apply(this,arguments)}function lt(t,e){var n=M(t.touches),r=M(t.changedTouches);return 12&e&&(n=A(n.concat(r),"identifier",!0)),[n,r]}_(ct,V,{handler:function(t){var e=at[t.type];if(1===e&&(this.started=!0),this.started){var n=lt.call(this,t,e);12&e&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:t})}}});var ft={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ht="touchstart touchmove touchend touchcancel";function pt(){this.evTarget=ht,this.targetIds={},V.apply(this,arguments)}function dt(t,e){var n=M(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=M(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return O(t.target,u)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&e&&delete r[a[i].identifier],i++;return s.length?[A(o.concat(s),"identifier",!0),s]:void 0}_(pt,V,{handler:function(t){var e=ft[t.type],n=dt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:t})}});function yt(){V.apply(this,arguments);var t=x(this.handler,this);this.touch=new pt(this.manager,t),this.mouse=new tt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function vt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,gt.call(this,e)):12&t&&gt.call(this,e)}function gt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function mt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}_(yt,V,{handler:function(t,e,n){var r=n.pointerType==z,i=n.pointerType==F;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)vt.call(this,e,n);else if(i&&mt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var bt=I(l.style,"touchAction"),_t=bt!==s,xt="compute",wt="auto",Et="manipulation",St="none",kt="pan-x",Ot="pan-y",Ct=function(){if(!_t)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function Pt(t,e){this.manager=t,this.set(e)}Pt.prototype={set:function(t){t==xt&&(t=this.compute()),_t&&this.manager.element.style&&Ct[t]&&(this.manager.element.style[bt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,(function(e){w(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(C(t,St))return St;var e=C(t,kt),n=C(t,Ot);if(e&&n)return St;if(e||n)return e?kt:Ot;if(C(t,Et))return Et;return wt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=C(r,St)&&!Ct.none,o=C(r,Ot)&&!Ct["pan-y"],a=C(r,kt)&&!Ct["pan-x"];if(i){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return i||o&&6&n||a&&n&B?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Tt=32;function Mt(t){this.options=u({},this.defaults,t||{}),this.id=j++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function At(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function It(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function jt(t,e){var n=e.manager;return n?n.get(t):t}function Rt(){Mt.apply(this,arguments)}function Dt(){Rt.apply(this,arguments),this.pX=null,this.pY=null}function Nt(){Rt.apply(this,arguments)}function Lt(){Mt.apply(this,arguments),this._timer=null,this._input=null}function zt(){Rt.apply(this,arguments)}function Ft(){Rt.apply(this,arguments)}function Bt(){Mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ut(t,e){return(e=e||{}).recognizers=E(e.recognizers,Ut.defaults.preset),new qt(t,e)}Mt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(y(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=jt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return y(t,"dropRecognizeWith",this)||(t=jt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(y(t,"requireFailure",this))return this;var e=this.requireFail;return-1===T(e,t=jt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(y(t,"dropRequireFailure",this))return this;t=jt(t,this);var e=T(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+At(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+At(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=Tt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!w(this.options.enable,[this,e]))return this.reset(),void(this.state=Tt);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(Rt,Mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:Tt}}),_(Dt,Rt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(Ot),t&B&&e.push(kt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Rt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=It(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(Nt,Rt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),_(Lt,Mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[wt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return Tt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),_(zt,Rt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(Ft,Rt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Dt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&B&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=It(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(Bt,Mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Et]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||Y(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return Tt},failTimeout:function(){return this._timer=d((function(){this.state=Tt}),this.options.interval,this),Tt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ut.VERSION="2.0.7",Ut.defaults={domEvents:!1,touchAction:xt,enable:!0,inputTarget:null,inputClass:null,preset:[[zt,{enable:!1}],[Nt,{enable:!1},["rotate"]],[Ft,{direction:6}],[Dt,{direction:6},["swipe"]],[Bt],[Bt,{event:"doubletap",taps:2},["tap"]],[Lt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function qt(t,e){var n;this.options=u({},Ut.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(N?ot:L?pt:D?yt:tt))(n,G),this.touchAction=new Pt(this,this.options.touchAction),Vt(this,!0),v(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Vt(t,e){var n,r=t.element;r.style&&(v(t.options.cssProps,(function(i,o){n=I(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}qt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Mt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(y(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(y(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=T(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return v(P(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==s){var n=this.handlers;return v(P(t),(function(t){e?n[t]&&n[t].splice(T(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Vt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ut,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Tt,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:B,DIRECTION_ALL:30,Manager:qt,Input:V,TouchAction:Pt,TouchInput:pt,MouseInput:tt,PointerEventInput:ot,TouchMouseInput:yt,SingleTouchInput:ct,Recognizer:Mt,AttrRecognizer:Rt,Tap:Bt,Pan:Dt,Swipe:Ft,Pinch:Nt,Rotate:zt,Press:Lt,on:S,off:k,each:v,merge:b,extend:m,assign:u,inherit:_,bindFn:x,prefixed:I}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=Ut,(r=function(){return Ut}.call(e,n,e,t))===s||(t.exports=r)}(window,document)},function(t,e,n){"use strict";n.d(e,"a",(function(){return Oe})),n.d(e,"b",(function(){return Ce})),n.d(e,"c",(function(){return Pe}));var r=n(2),i=n.n(r),o=n(67),a=n(199),s=n(200),u=n(295),c=n(628),l=n(305),f=new Date,h=new Date;function p(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return p((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return f.setTime(+e),h.setTime(+r),t(f),t(h),Math.floor(n(f,h))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var d=864e5,y=6048e5;function v(t){return p((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/y}))}var g=v(0),m=v(1),b=v(2),_=v(3),x=v(4),w=v(5),E=v(6),S=(g.range,m.range,b.range,_.range,x.range,w.range,E.range,p((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/d}),(function(t){return t.getUTCDate()-1}))),k=S;S.range;function O(t){return p((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/y}))}var C=O(0),P=O(1),T=O(2),M=O(3),A=O(4),I=O(5),j=O(6),R=(C.range,P.range,T.range,M.range,A.range,I.range,j.range,p((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/d}),(function(t){return t.getDate()-1}))),D=R,N=(R.range,p((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));N.every=function(t){return isFinite(t=Math.floor(t))&&t>0?p((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var L=N,z=(N.range,p((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));z.every=function(t){return isFinite(t=Math.floor(t))&&t>0?p((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var F=z;z.range;function B(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function U(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function q(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var V,G,W,H={"-":"",_:" ",0:"0"},K=/^\s*\d+/,X=/^%/,Y=/[\\^$*+?|[\]().{}]/g;function Z(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function $(t){return t.replace(Y,"\\$&")}function J(t){return new RegExp("^(?:"+t.map($).join("|")+")","i")}function Q(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function tt(t,e,n){var r=K.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function et(t,e,n){var r=K.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nt(t,e,n){var r=K.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rt(t,e,n){var r=K.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function it(t,e,n){var r=K.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ot(t,e,n){var r=K.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function at(t,e,n){var r=K.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function st(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ut(t,e,n){var r=K.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function ct(t,e,n){var r=K.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function lt(t,e,n){var r=K.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ft(t,e,n){var r=K.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ht(t,e,n){var r=K.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pt(t,e,n){var r=K.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function dt(t,e,n){var r=K.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yt(t,e,n){var r=K.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vt(t,e,n){var r=K.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function gt(t,e,n){var r=X.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function mt(t,e,n){var r=K.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function bt(t,e,n){var r=K.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _t(t,e){return Z(t.getDate(),e,2)}function xt(t,e){return Z(t.getHours(),e,2)}function wt(t,e){return Z(t.getHours()%12||12,e,2)}function Et(t,e){return Z(1+D.count(L(t),t),e,3)}function St(t,e){return Z(t.getMilliseconds(),e,3)}function kt(t,e){return St(t,e)+"000"}function Ot(t,e){return Z(t.getMonth()+1,e,2)}function Ct(t,e){return Z(t.getMinutes(),e,2)}function Pt(t,e){return Z(t.getSeconds(),e,2)}function Tt(t){var e=t.getDay();return 0===e?7:e}function Mt(t,e){return Z(C.count(L(t)-1,t),e,2)}function At(t){var e=t.getDay();return e>=4||0===e?A(t):A.ceil(t)}function It(t,e){return t=At(t),Z(A.count(L(t),t)+(4===L(t).getDay()),e,2)}function jt(t){return t.getDay()}function Rt(t,e){return Z(P.count(L(t)-1,t),e,2)}function Dt(t,e){return Z(t.getFullYear()%100,e,2)}function Nt(t,e){return Z((t=At(t)).getFullYear()%100,e,2)}function Lt(t,e){return Z(t.getFullYear()%1e4,e,4)}function zt(t,e){var n=t.getDay();return Z((t=n>=4||0===n?A(t):A.ceil(t)).getFullYear()%1e4,e,4)}function Ft(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Z(e/60|0,"0",2)+Z(e%60,"0",2)}function Bt(t,e){return Z(t.getUTCDate(),e,2)}function Ut(t,e){return Z(t.getUTCHours(),e,2)}function qt(t,e){return Z(t.getUTCHours()%12||12,e,2)}function Vt(t,e){return Z(1+k.count(F(t),t),e,3)}function Gt(t,e){return Z(t.getUTCMilliseconds(),e,3)}function Wt(t,e){return Gt(t,e)+"000"}function Ht(t,e){return Z(t.getUTCMonth()+1,e,2)}function Kt(t,e){return Z(t.getUTCMinutes(),e,2)}function Xt(t,e){return Z(t.getUTCSeconds(),e,2)}function Yt(t){var e=t.getUTCDay();return 0===e?7:e}function Zt(t,e){return Z(g.count(F(t)-1,t),e,2)}function $t(t){var e=t.getUTCDay();return e>=4||0===e?x(t):x.ceil(t)}function Jt(t,e){return t=$t(t),Z(x.count(F(t),t)+(4===F(t).getUTCDay()),e,2)}function Qt(t){return t.getUTCDay()}function te(t,e){return Z(m.count(F(t)-1,t),e,2)}function ee(t,e){return Z(t.getUTCFullYear()%100,e,2)}function ne(t,e){return Z((t=$t(t)).getUTCFullYear()%100,e,2)}function re(t,e){return Z(t.getUTCFullYear()%1e4,e,4)}function ie(t,e){var n=t.getUTCDay();return Z((t=n>=4||0===n?x(t):x.ceil(t)).getUTCFullYear()%1e4,e,4)}function oe(){return"+0000"}function ae(){return"%"}function se(t){return+t}function ue(t){return Math.floor(+t/1e3)}V=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=J(i),l=Q(i),f=J(o),h=Q(o),p=J(a),d=Q(a),y=J(s),v=Q(s),g=J(u),b=Q(u),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:_t,e:_t,f:kt,g:Nt,G:zt,H:xt,I:wt,j:Et,L:St,m:Ot,M:Ct,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:se,s:ue,S:Pt,u:Tt,U:Mt,V:It,w:jt,W:Rt,x:null,X:null,y:Dt,Y:Lt,Z:Ft,"%":ae},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Bt,e:Bt,f:Wt,g:ne,G:ie,H:Ut,I:qt,j:Vt,L:Gt,m:Ht,M:Kt,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:se,s:ue,S:Xt,u:Yt,U:Zt,V:Jt,w:Qt,W:te,x:null,X:null,y:ee,Y:re,Z:oe,"%":ae},w={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=b[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return O(t,e,n,r)},d:lt,e:lt,f:vt,g:at,G:ot,H:ht,I:ht,j:ft,L:yt,m:ct,M:pt,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},q:ut,Q:mt,s:bt,S:dt,u:et,U:nt,V:rt,w:tt,W:it,x:function(t,e,r){return O(t,n,e,r)},X:function(t,e,n){return O(t,r,e,n)},y:at,Y:ot,Z:st,"%":gt};function E(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=H[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function S(t,e){return function(n){var r,i,o=q(1900,void 0,1);if(O(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=U(q(o.y,0,1))).getUTCDay(),r=i>4||0===i?m.ceil(r):m(r),r=k.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=B(q(o.y,0,1))).getDay(),r=i>4||0===i?P.ceil(r):P(r),r=D.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?U(q(o.y,0,1)).getUTCDay():B(q(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,U(o)):B(o)}}function O(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in H?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=E(n,_),_.X=E(r,_),_.c=E(e,_),x.x=E(n,x),x.X=E(r,x),x.c=E(e,x),{format:function(t){var e=E(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=E(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),V.format,G=V.parse,V.utcFormat,W=V.utcParse;n(417),n(181),n(637),n(27),n(418);var ce,le={type:i.a.oneOf(["linear"]).isRequired,min:i.a.oneOfType([i.a.oneOf(["auto"]),i.a.number]),max:i.a.oneOfType([i.a.oneOf(["auto"]),i.a.number]),stacked:i.a.bool,reverse:i.a.bool},fe={type:i.a.oneOf(["log"]).isRequired,base:i.a.number,min:i.a.oneOfType([i.a.oneOf(["auto"]),i.a.number]),max:i.a.oneOfType([i.a.oneOf(["auto"]),i.a.number])},he={type:i.a.oneOf(["symlog"]).isRequired,constant:i.a.number,min:i.a.oneOfType([i.a.oneOf(["auto"]),i.a.number]),max:i.a.oneOfType([i.a.oneOf(["auto"]),i.a.number])},pe={type:i.a.oneOf(["point"]).isRequired};function de(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ye="millisecond",ve="second",ge="minute",me="hour",be="month",_e="year",xe=[ye,ve,ge,me,"day",be,_e],we=[function(t){return t.setMilliseconds(0)},function(t){return t.setSeconds(0)},function(t){return t.setMinutes(0)},function(t){return t.setHours(0)},function(t){return t.setDate(1)},function(t){return t.setMonth(0)}],Ee=(de(ce={},ye,[]),de(ce,ve,we.slice(0,1)),de(ce,ge,we.slice(0,2)),de(ce,me,we.slice(0,3)),de(ce,"day",we.slice(0,4)),de(ce,be,we.slice(0,5)),de(ce,_e,we.slice(0,6)),ce),Se=function(t){var e=t.format,n=void 0===e?"native":e,r=t.precision,i=void 0===r?"millisecond":r,o=t.useUTC,a=void 0===o||o,s=function(t){return function(e){return Ee[t].forEach((function(t){t(e)})),e}}(i);if("native"===n)return function(t){return s(t)};var u=a?W(n):G(n);return function(t){return s(u(t))}},ke={type:i.a.oneOf(["time"]).isRequired,format:i.a.string,precision:i.a.oneOf(xe)},Oe={type:i.a.oneOf(["band"]).isRequired,round:i.a.bool};var Ce=function(t,e,n,r){return"linear"===t.type?function(t,e,n,r){var i=t.axis,a=t.min,s=void 0===a?0:a,u=t.max,c=void 0===u?"auto":u,l=t.stacked,f=void 0!==l&&l,h=t.reverse,p=void 0!==h&&h,d=e[i],y="x"===i?n:r,v=s;"auto"===s&&(v=!0===f?d.minStacked:d.min);var g=c;"auto"===c&&(g=!0===f?d.maxStacked:d.max);var m=Object(o.a)().rangeRound("x"===i?[0,y]:[y,0]);return!0===p?m.domain([g,v]):m.domain([v,g]),m.type="linear",m.stacked=f,m}(t,e,n,r):"point"===t.type?function(t,e,n,r){var i=t.axis,o=e[i],a="x"===i?n:r,s=Object(u.b)().range([0,a]).domain(o.all);return s.type="point",s}(t,e,n,r):"time"===t.type?function(t,e,n,r){var i=t.axis,o=t.format,a=void 0===o?"native":o,s=t.precision,u=void 0===s?ye:s,f=t.min,h=void 0===f?"auto":f,p=t.max,d=void 0===p?"auto":p,y=t.useUTC,v=void 0===y||y,g=e[i],m="x"===i?n:r,b=Se({format:a,precision:u,useUTC:v}),_=h;"auto"===h?_=g.min:"native"!==a&&(_=b(h));var x=d;"auto"===d?x=g.max:"native"!==a&&(x=b(d));var w=v?Object(c.a)():Object(l.b)();return w.domain([_,x]).range([0,m]),w.type="time",w.useUTC=v,w}(t,e,n,r):"log"===t.type?function(t,e,n,r){var i,o=t.axis,s=t.base,u=void 0===s?10:s,c=t.min,l=void 0===c?"auto":c,f=t.max,h=void 0===f?"auto":f,p=e[o],d="x"===o?n:r,y=p.all.some((function(t){return 0===t})),v=!1;if(p.all.filter((function(t){return null!=t})).forEach((function(t){!0!==v&&(void 0===i?i=Math.sign(t):Math.sign(t)!==i&&(v=!0))})),y||v)throw new Error(["a log scale domain must be strictly-positive or strictly-negative,","and must not include or cross zero."].join("\n"));var g=l;"auto"===l&&(g=p.min);var m=h;"auto"===h&&(m=p.max);var b=Object(a.a)().domain([g,m]).rangeRound("x"===o?[0,d]:[d,0]).base(u).nice();return b.type="log",b}(t,e,n,r):"symlog"===t.type?function(t,e,n,r){var i=t.axis,o=t.constant,a=void 0===o?1:o,u=t.min,c=void 0===u?"auto":u,l=t.max,f=void 0===l?"auto":l,h=e[i],p="x"===i?n:r,d=c;"auto"===c&&(d=h.min);var y=f;"auto"===f&&(y=h.max);var v=Object(s.a)().domain([d,y]).constant(a).rangeRound("x"===i?[0,p]:[p,0]).nice();return v.type="symlog",v}(t,e,n,r):void 0},Pe=i.a.oneOfType([i.a.shape(le),i.a.shape(pe),i.a.shape(ke),i.a.shape(fe),i.a.shape(he),i.a.shape(Oe)])},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var r=Math.sqrt(50),i=Math.sqrt(10),o=Math.sqrt(2);function a(t,e,n){var a=(e-t)/Math.max(0,n),s=Math.floor(Math.log(a)/Math.LN10),u=a/Math.pow(10,s);return s>=0?(u>=r?10:u>=i?5:u>=o?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=r?10:u>=i?5:u>=o?2:1)}function s(t,e,n){var a=Math.abs(e-t)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),u=a/s;return u>=r?s*=10:u>=i?s*=5:u>=o&&(s*=2),e<t?-s:s}e.a=function(t,e,n){var r,i,o,s,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(s=a(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*s;else for(s=-s,t=Math.ceil(t*s),e=Math.floor(e*s),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)/s;return r&&o.reverse(),o}},,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=Array.prototype.slice,i=n(464),o=Object.keys,a=o?function(t){return o(t)}:n(693),s=Object.keys;a.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return i(t)?s(r.call(t)):s(t)}):Object.keys=a;return Object.keys||a},t.exports=a},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]="number"===typeof t[n]?t[n]:t[n].val);return e},t.exports=e.default},function(t,e,n){var r=n(252),i=n(722),o=n(723),a=n(724),s=n(725),u=n(726);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(717),i=n(718),o=n(719),a=n(720),s=n(721);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(217);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(154)(Object,"create");t.exports=r},function(t,e,n){var r=n(741);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(748),i=n(88),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(106),i=n(749),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(248)(t))},function(t,e,n){(function(t){var r=n(477),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s}).call(this,n(248)(t))},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(120),i=n(88);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(781),i=n(347),o=n(782),a=n(503),s=n(783),u=n(120),c=n(478),l="[object Map]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",d="[object DataView]",y=c(r),v=c(i),g=c(o),m=c(a),b=c(s),_=u;(r&&_(new r(new ArrayBuffer(1)))!=d||i&&_(new i)!=l||o&&_(o.resolve())!=f||a&&_(new a)!=h||s&&_(new s)!=p)&&(_=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case y:return d;case v:return l;case g:return f;case m:return h;case b:return p}return e}),t.exports=_},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"withTheme",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"useTheme",{enumerable:!0,get:function(){return i.useTheme}}),Object.defineProperty(e,"ThemeContext",{enumerable:!0,get:function(){return i.ThemeContext}}),Object.defineProperty(e,"withAuth",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"showLoading",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"shareProps",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"imgLoader",{enumerable:!0,get:function(){return f.default}}),e.Wrappers=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=d();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(61)),o=p(n(366)),a=p(n(829)),s=p(n(830)),u=p(n(832)),c=p(n(833)),l=p(n(936)),f=p(n(937)),h=p(n(938));function p(t){return t&&t.__esModule?t:{default:t}}function d(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return d=function(){return t},t}var y={"with-theme":i.default,"with-auth":o.default,connect:a.default,"redux-falcor":s.default,"with-router":u.default,"show-loading":c.default,"share-props":l.default,"avl-falcor":h.default};e.Wrappers=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(134),a=n(61),s=n(266);function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var l=i.default.forwardRef((function(t,e){var n=t.large,r=t.small,l=t.className,f=void 0===l?"":l,h=t.onChange,p=t.value,d=t.showClear,y=void 0!==d&&d,v=c(t,["large","small","className","onChange","value","showClear"]),g=(0,a.useTheme)(),m=g["input".concat((0,o.composeOptions)({large:n,small:r}))];return y?i.default.createElement("div",{className:"relative"},i.default.createElement("input",u({},v,{onChange:function(t){return h(t.target.value)},value:(0,s.hasValue)(p)?p:"",className:"".concat(m," ").concat(f),ref:e})),(0,s.hasValue)(p)?i.default.createElement("div",{className:"absolute right-0 ".concat(r?"mr-1":"mr-2"," top-0 bottom-0 flex items-center")},i.default.createElement("div",{className:"\n                ".concat(g.menuBgActive," ").concat(g.menuBgActiveHover," ").concat(g.textContrast,"\n                p-1 flex justify-center items-center rounded cursor-pointer\n              "),onClick:function(t){return h("")}},i.default.createElement("svg",{width:"8",height:"8"},i.default.createElement("line",{x2:"8",y2:"8",style:{stroke:"currentColor",strokeWidth:2}}),i.default.createElement("line",{y1:"8",x2:"8",style:{stroke:"currentColor",strokeWidth:2}})))):null):i.default.createElement("input",u({},v,{onChange:function(t){return h(t.target.value)},value:(0,s.hasValue)(p)?p:"",className:"".concat(m," ").concat(f),ref:e}))}));e.default=l},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.hasValue=e.verifyValue=void 0;var u=/^\d{4}-[01][0-9]-[0-3][0-9]$/,c=/^(-(?=[1-9]|(0[.]0*[1-9]+)))?\d*[.]?\d+/,l=/^([[(])(-?\d+),(-?\d+)([)\]])$/,f=/^([><]=?)(\d+)$/,h=function(t,e,n){switch(e){case">":return t>n;case">=":return t>=n;case"<":return t<n;case"<=":return t<=n;default:return!0}},p=function(t,e){if(!e)return!0;e=e.replace(/\s/g,"");var n=[],r=l.exec(e);if(r){var a=o(r,5),s=a[1],u=a[2],c=a[3],p=a[4];"("===s?n.push([">",+u]):"["===s&&n.push([">=",+u]),")"===p?n.push(["<",+c]):"]"===p&&n.push(["<=",+c])}var d=f.exec(e);if(d){var y=o(d,3),v=y[1],g=y[2];n.push([v,+g])}return n.reduce((function(e,n){return e&&h.apply(void 0,[+t].concat(i(n)))}),!0)};e.verifyValue=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(e){case"number":return c.test(t)&&p(t,n);case"date":var r="string"===typeof n?new RegExp(n):u;return r.test(t);default:var i="string"===typeof n&&new RegExp(n);return!i||i.test(t)}};e.hasValue=function t(e){return null!==e&&void 0!==e&&(!("string"===typeof e&&!e.length)&&(Array.isArray(e)?e.reduce((function(e,n){return e||t(n)}),!1):("number"!==typeof e||!isNaN(e))&&("object"!==r(e)||Object.values(e).reduce((function(e,n){return e||t(n)}),!1))))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValueContainer=e.ValueItem=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(61);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}e.ValueItem=function(t){var e=t.isPlaceholder,n=t.children,r=t.remove,a=t.edit,s=t.disabled,u=void 0!==s&&s,c=(0,o.useTheme)();return i.default.createElement("div",{className:"\n        ".concat(e?c.textLight:"".concat(u?c.accent2:r||a?c.accent1:"","\n            mr-1 pl-2 ").concat(u||!r&&!a?"pr-2":"pr-1","\n          "),"\n        rounded whitespace-pre-wrap mt-1 relative flex items-center\n      ")},n,e||u||!a?null:i.default.createElement("div",{className:"\n            ".concat(c.menuBgActive," ").concat(c.menuBgActiveHover," ").concat(c.textContrast,"\n            ml-2 p-1 flex justify-center items-center rounded cursor-pointer\n          "),onClick:a},i.default.createElement("svg",{width:"8",height:"8"},i.default.createElement("line",{x1:"0",y1:"6",x2:"4",y2:"2",style:{stroke:"currentColor",strokeWidth:2}}),i.default.createElement("line",{x1:"4",y1:"2",x2:"8",y2:"6",style:{stroke:"currentColor",strokeWidth:2}}))),e||u||!r?null:i.default.createElement("div",{className:"\n            ".concat(c.menuBgActive," ").concat(c.menuBgActiveHover," ").concat(c.textContrast,"\n            ").concat(a?"ml-1":"ml-2"," p-1 flex justify-center items-center rounded cursor-pointer\n          "),onClick:r},i.default.createElement("svg",{width:"8",height:"8"},i.default.createElement("line",{x2:"8",y2:"8",style:{stroke:"currentColor",strokeWidth:2}}),i.default.createElement("line",{y1:"8",x2:"8",style:{stroke:"currentColor",strokeWidth:2}}))))};var u=i.default.forwardRef((function(t,e){var n=t.children,r=t.hasFocus,u=t.large,c=t.small,l=t.disabled,f=void 0!==l&&l,h=t.className,p=void 0===h?"":h,d=s(t,["children","hasFocus","large","small","disabled","className"]),y=(0,o.useTheme)();return i.default.createElement("div",a({},d,{ref:e,className:"\n        w-full flex flex-row flex-wrap\n        ".concat(f?"".concat(y.inputBgDisabled," ").concat(y.inputBorderDisabled):r?"".concat(y.inputBgFocus," ").concat(y.inputBorderFocus):"".concat(y.inputBg," ").concat(y.inputBorder),"\n        ").concat(u?"pt-1 pb-2 px-4":c?"pb-1 px-1":"pb-1 px-2","\n        ").concat(u?y.textLarge:c?y.textSmall:y.textBase,"\n        ").concat(u?"rounded-md":"rounded","\n        ").concat(p,"\n      ")}),n)}));e.ValueContainer=u},function(t,e,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(P){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=n(99)(),h=Object.getPrototypeOf||function(t){return t.__proto__},p=s("async function* () {}"),d=p?p.prototype:r,y=d?d.prototype:r,v="undefined"===typeof Uint8Array?r:h(Uint8Array),g={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":s("async function () {}"),"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":y?h(y):r,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":s("function* () {}"),"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":v,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(98),_=n(216),x=b.call(Function.call,Array.prototype.concat),w=b.call(Function.apply,Array.prototype.splice),E=b.call(Function.call,String.prototype.replace),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,O=function(t){var e=[];return E(t,S,(function(t,n,r,i){e[e.length]=r?E(i,k,"$1"):n||t})),e},C=function(t,e){var n,r=t;if(_(m,r)&&(r="%"+(n=m[r])[0]+"%"),_(g,r)){var o=g[r];if("undefined"===typeof o&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new a('"allowMissing" argument must be a boolean');var n=O(t),r=n.length>0?n[0]:"",i=C("%"+r+"%",e),o=i.name,s=i.value,c=!1,l=i.alias;l&&(r=l[0],w(n,x([0,1],l)));for(var f=1,h=!0;f<n.length;f+=1){var p=n[f];if("constructor"!==p&&h||(c=!0),_(g,o="%"+(r+="."+p)+"%"))s=g[o];else if(null!=s){if(u&&f+1>=n.length){var d=u(s,p);if(h=!!d,!e&&!(p in s))throw new a("base intrinsic for "+t+" exists, but the property is not available.");s=h&&"get"in d&&!("originalValue"in d.get)?d.get:s[p]}else h=_(s,p),s=s[p];h&&!c&&(g[o]=s)}}return s}},function(t,e,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(t){for(var e=this.__rules__.length,n=-1;e--;)if(this.__rules__[++n].name===t)return n;return-1},r.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},r.prototype.at=function(t,e,n){var r=this.__find__(t),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null},r.prototype.before=function(t,e,n,r){var i=this.__find__(t),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},r.prototype.after=function(t,e,n,r){var i=this.__find__(t),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},r.prototype.push=function(t,e,n){var r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(t,e){t=Array.isArray(t)?t:[t],e&&this.__rules__.forEach((function(t){t.enabled=!1})),t.forEach((function(t){var e=this.__find__(t);if(e<0)throw new Error("Rules manager: invalid rule name "+t);this.__rules__[e].enabled=!0}),this),this.__cache__=null},r.prototype.disable=function(t){(t=Array.isArray(t)?t:[t]).forEach((function(t){var e=this.__find__(t);if(e<0)throw new Error("Rules manager: invalid rule name "+t);this.__rules__[e].enabled=!1}),this),this.__cache__=null},r.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o=-1,a=t.posMax,s=t.pos,u=t.isInLabel;if(t.isInLabel)return-1;if(t.labelUnmatchedScopes)return t.labelUnmatchedScopes--,-1;for(t.pos=e+1,t.isInLabel=!0,n=1;t.pos<a;){if(91===(i=t.src.charCodeAt(t.pos)))n++;else if(93===i&&0===--n){r=!0;break}t.parser.skipToken(t)}return r?(o=t.pos,t.labelUnmatchedScopes=0):t.labelUnmatchedScopes=n-1,t.pos=s,t.isInLabel=u,o}},function(t,e,n){var r=n(223),i=n(81),o=n(944),a=n(135),s=n(156),u=n(136),c=n(157).iterateKeySet,l=n(193),f=n(956),h=n(275);function p(t,e,n,r,i,o,a,s,u,l,f,h,d,y,g,m,b,_){for(var x={},w=e<t.length-1,E=t[e],S=c(E,x),k=h.index;;){f.depth=e;var O=v(n,r,i,o,a,s,S,w,f,h,d,y,g,m,b,_);f[e]=S,f.index=e,h[h.index++]=S;var C=O[0],P=O[1];if(C&&(w?p(t,e+1,n,P,C,o,O[3],O[2],u,l,f,h,d,y,g,m,b,_):(u.push(f.slice(0,f.index+1)),l.push(h.slice(0,h.index)))),S=c(E,x),x.done)break;h.index=k}}t.exports=function(t,e,n,r,i,o){for(var s=t._root,u=s,c=s.expired,f=l(),h=s.cache,d=h.$_version,y=[],v=[],g=[],m=[],b=-1,_=e.length;++b<_;)for(var x=e[b],w=x.paths,E=x.jsonGraph,S=-1,k=w.length;++S<k;){var O=w[S];v.index=0,p(O,0,h,h,h,E,E,E,g,m,y,v,f,c,u,i,r,o)}var C=h.$_version,P=s.onChange;return a(P)&&d!==C&&P(),[g,m]};var d=new Array(4);function y(t,e,n,i,a,c,l,f,h,p,y,g){var m=e.value;if(c.length=0,c.push.apply(c,m),o(e))return c.index=m.length,u(e,f,h),d[0]=void 0,d[1]=t,d[2]=i,d[3]=n,d;var b=0,_=e,x=m.length-1,w=e=t,E=i=n;do{var S=m[b],k=b<x;c.index=b;var O=v(t,w,e,n,E,i,S,k,a,c,l,f,h,p,y,g);if(e=O[0],s(e))return c.index=b,O;w=O[1],i=O[2],E=O[3]}while(b++<x);return c.index=b,_.$_context!==e&&r(_,e),d[0]=e,d[1]=w,d[2]=i,d[3]=E,d}function v(t,e,n,r,o,a,u,c,l,p,v,g,m,b,_,x){for(var w=n.$type;w===i;){var E=y(t,n,r,a,l,p,v,g,m,b,_,x);if(n=E[0],s(n))return E;e=E[1],a=E[2],o=E[3],w=n.$type}if(void 0!==w)return d[0]=n,d[1]=e,d[2]=a,d[3]=o,d;if(null==u){if(c)throw new h;n&&(u=n.$_key)}else o=a,n=(e=n)[u],a=o&&o[u];return n=f(e,n,a,u,l,p,v,g,m,b,_,x),d[0]=n,d[1]=e,d[2]=a,d[3]=o,d}},function(t,e,n){var r=n(273);t.exports=r+"_"},function(t,e){t.exports="$"},function(t,e,n){"use strict";var r=Math.abs,i=Number.isSafeInteger||function(t){return"number"===typeof t&&t%1===0&&r(t)<=9007199254740991};t.exports.isIntegerKey=function(t){if("string"===typeof t){var e=Number(t);return i(e)&&String(e)===t}return i(t)},t.exports.maybeIntegerKey=function(t){if("string"===typeof t){var e=Number(t);if(i(e)&&String(e)===t)return e}else if(i(t))return t}},function(t,e,n){function r(){var t=new Error("`null` and `undefined` are not allowed in branch key positions");return t.name="NullInPathError",Object.setPrototypeOf&&Object.setPrototypeOf(t,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(t,r),t}n(195)(r),t.exports=r},function(t,e,n){var r=n(223),i=n(81),o=n(159),a=n(158),s=n(135),u=n(156),c=n(136),l=n(157).iterateKeySet,f=n(193),h=n(549),p=n(275);function d(t,e,n,r,i,o,a,s,u,c,f,h,p,y,g,m){for(var b={},_=n<e.length-1,x=e[n],w=l(x,b),E=c.index;;){u.depth=n;var S=v(r,i,o,w,t,_,!1,u,c,f,h,p,y,g,m);u[n]=w,u.index=n,c[c.index++]=w;var k=S[0],O=S[1];if(k&&(_?d(t,e,n+1,r,O,k,a,s,u,c,f,h,p,y,g):(a.push(u.slice(0,u.index+1)),s.push(c.slice(0,c.index)))),w=l(x,b),b.done)break;c.index=E}}function y(t,e,n,i,o,s,l,f,h,p,d){var y=n.value;if(o.length=0,o.push.apply(o,y),a(n))return o.index=y.length,c(n,l,f),[void 0,e];var g=n,m=e;if(null!=(n=n.$_context))m=n.$_parent||e,o.index=y.length;else{var b=0,_=y.length-1;m=n=e;do{var x=y[b],w=b<_;o.index=b;var E=v(e,m,n,x,t,w,!0,i,o,s,l,f,h,p,d);if(n=E[0],u(n))return o.index=b,E;m=E[1]}while(b++<_);o.index=b,g.$_context!==n&&r(g,n)}return[n,m]}function v(t,e,n,r,o,a,s,c,l,f,d,v,g,m,b){for(var _=n.$type;_===i;){var x=y(o,t,n,c,l,f,d,v,g,m,b);if(n=x[0],u(n))return x;e=x[1],_=n.$type}if(a&&void 0!==_)return[n,e];if(null==r){if(a)throw new p;n&&(r=n.$_key)}else n=(e=n)[r];return[n=h(e,n,r,o,a,s,c,l,f,d,v,g,m,b),e]}t.exports=function(t,e,n,r,i){for(var a=t._root,u=a,c=a.expired,l=f(),h=t._path,p=a.cache,y=h.length?o(t,h).value:p,v=y.$_parent||p,g=p.$_version,m=[],b=[],_=[],x=h.length,w=-1,E=e.length;++w<E;){var S=e[w],k=S.path,O=S.value,C=h.slice(0);C.index=x,d(O,k,0,p,v,y,b,_,m,C,l,c,u,i,r)}var P=p.$_version,T=a.onChange;return s(T)&&g!==P&&T(),[b,_]}},function(t,e,n){var r=n(548),i=n(382),o=n(278),a=n(160),s=n(81),u=n(378),c=n(194);t.exports=function(t,e,n){for(var l,f,h,p,d,y=t._root.cache,v=e.length,g=[],m=!1,b=!1,_=0,x=y,w=y,E=y,S=!0,k=!1;x&&_<v;){if(null!==(l=e[_++])&&(x=w[l],g[g.length]=l),!x){E=void 0,m=!0,S=!1;break}if((h=x.$type)===u&&void 0===x.value){E=void 0,S=!1,m=_<v;break}if(_<v){if(h===s){if(o(x)){k=!0,E=void 0;break}if(!(d=(p=r(t,y,y,x,x.value))[0])){E=void 0,x=void 0,S=!1;break}h=d.$type,x=d,g=p[1].slice(0)}if(h)break}else E=x;w=x}if(_<v&&!k){for(f=_;f<v;++f)if(null!==e[_]){b=!0;break}for(b?(m=!0,E=void 0):E=x,f=_;f<v;++f)null!==e[f]&&(g[g.length]=e[f])}if(E&&h&&(o(E)?E=void 0:a(t._root,E)),E&&h===c&&!t._treatErrorsAsValues)throw{path:_===v?e:e.slice(0,_),value:E.value};return E&&t._boxed?E=Boolean(h)&&!n?i(E):E:!E&&t._materialized?E={$type:u}:E&&(E=E.value),{value:E,shorted:m,optimizedPath:g,found:S}}},function(t,e,n){t.exports=n(158)},function(t,e,n){var r=n(68);t.exports=function(t){return r(t)&&"json"in t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(566);t.exports=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e,n){"use strict";var r=n(568),i=n(569);t.exports=function(t,e){var n=e.getStartKey(),o=e.getStartOffset(),a=e.getEndKey(),s=e.getEndOffset(),u=i(t,e).getBlockMap(),c=u.keySeq(),l=c.indexOf(n),f=c.indexOf(a)+1;return r(u.slice(l,f).map((function(t,e){var r=t.getText(),i=t.getCharacterList();return n===a?t.merge({text:r.slice(o,s),characterList:i.slice(o,s)}):e===n?t.merge({text:r.slice(o),characterList:i.slice(o)}):e===a?t.merge({text:r.slice(0,s),characterList:i.slice(0,s)}):t})))}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(574),o=n(44),a=n(45),s=n(1050),u=(0,o.Map)(),c=s();function l(t,e){console.warn("WARNING: "+t+' will be deprecated soon!\nPlease use "'+e+'" instead.')}var f={getLastCreatedEntityKey:function(){return l("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),f.__getLastCreatedEntityKey()},create:function(t,e,n){return l("DraftEntity.create","contentState.createEntity"),f.__create(t,e,n)},add:function(t){return l("DraftEntity.add","contentState.addEntity"),f.__add(t)},get:function(t){return l("DraftEntity.get","contentState.getEntity"),f.__get(t)},__getAll:function(){return u},__loadWithEntities:function(t){u=t,c=s()},mergeData:function(t,e){return l("DraftEntity.mergeData","contentState.mergeEntityData"),f.__mergeData(t,e)},replaceData:function(t,e){return l("DraftEntity.replaceData","contentState.replaceEntityData"),f.__replaceData(t,e)},__getLastCreatedEntityKey:function(){return c},__create:function(t,e,n){return f.__add(new i({type:t,mutability:e,data:n||{}}))},__add:function(t){return c=s(),u=u.set(c,t),c},__get:function(t){var e=u.get(t);return e||a(!1),e},__mergeData:function(t,e){var n=f.__get(t),i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}({},n.getData(),e),o=n.set("data",i);return u=u.set(t,o),o},__replaceData:function(t,e){var n=f.__get(t).set("data",e);return u=u.set(t,n),n}};t.exports=f},function(t,e,n){"use strict";var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},i.getAnchorKey=function(){return this.get("anchorKey")},i.getAnchorOffset=function(){return this.get("anchorOffset")},i.getFocusKey=function(){return this.get("focusKey")},i.getFocusOffset=function(){return this.get("focusOffset")},i.getIsBackward=function(){return this.get("isBackward")},i.getHasFocus=function(){return this.get("hasFocus")},i.hasEdgeWithin=function(t,e,n){var r=this.getAnchorKey(),i=this.getFocusKey();if(r===i&&r===t){var o=this.getStartOffset(),a=this.getEndOffset();return e<=o&&o<=n||e<=a&&a<=n}if(t!==r&&t!==i)return!1;var s=t===r?this.getAnchorOffset():this.getFocusOffset();return e<=s&&n>=s},i.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},i.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},i.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},i.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},i.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(t){return new r({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,n(44).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));t.exports=r},function(t,e,n){"use strict";var r=n(45),i="LTR",o=null;function a(t){return t===i||"RTL"===t}function s(t){return a(t)||r(!1),t===i?"ltr":"rtl"}function u(t){o=t}var c={NEUTRAL:"NEUTRAL",LTR:i,RTL:"RTL",isStrong:a,getHTMLDir:s,getHTMLDirIfDifferent:function(t,e){return a(t)||r(!1),a(e)||r(!1),t===e?null:s(t)},setGlobalDir:u,initGlobalDir:function(){u(i)},getGlobalDir:function(){return o||this.initGlobalDir(),o||r(!1),o}};t.exports=c},function(t,e,n){"use strict";var r=n(287),i=n(577);t.exports=function(t){for(var e=t;e&&e!==r(t).documentElement;){var n=i(e);if(null!=n)return n;e=e.parentNode}return null}},function(t,e,n){"use strict";t.exports=function(t){return t&&t.ownerDocument?t.ownerDocument:document}},function(t,e,n){"use strict";t.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(t,e,n){"use strict";function r(t,e){var n=i.get(t,e);return"auto"===n||"scroll"===n}var i={get:n(1072),getScrollParent:function(t){if(!t)return null;for(var e=t.ownerDocument;t&&t!==e.body;){if(r(t,"overflow")||r(t,"overflowY")||r(t,"overflowX"))return t;t=t.parentNode}return e.defaultView||e.parentWindow}};t.exports=i},function(t,e,n){"use strict";var r=n(1076),i=n(1077);t.exports=function(t){var e=r(t.ownerDocument||t.document);t.Window&&t instanceof t.Window&&(t=e);var n=i(t),o=t===e?t.ownerDocument.documentElement:t,a=t.scrollWidth-o.clientWidth,s=t.scrollHeight-o.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}},function(t,e,n){"use strict";t.exports=function(t){return"handled"===t||!0===t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFake=e.deleteUser=e.removeFromGroup=e.assignToGroup=e.usersForGroup=e.getUsers=e.USERS_IN_GROUPS=e.GET_USERS=void 0;var r=n(198),i=n(11),o=n(165);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c="AMS::GET_USERS";e.GET_USERS=c;var l="AMS::USERS_IN_GROUPS";e.USERS_IN_GROUPS=l;var f=function(){return function(t,e){var n=e().user.token;return n?(0,o.postJson)("".concat(o.Config.AUTH_HOST,"/users"),{token:n}).then((function(e){e.error?t((0,i.sendSystemMessage)(e.error)):t(s({type:c},e))})):Promise.resolve()}};e.getUsers=f;e.usersForGroup=function(t){return function(e,n){var r=n().user.token;return r?(0,o.postJson)("".concat(o.Config.AUTH_HOST,"/users/bygroup"),{token:r,groups:[t]}).then((function(n){n.error?e((0,i.sendSystemMessage)(n.error)):e(s({type:l,group:t},n))})):Promise.resolve()}};e.assignToGroup=function(t,e){return function(n,a){var s=a().user,u=s.token,c=s.email;return u?(0,o.postJson)("".concat(o.Config.AUTH_HOST,"/user/group/assign"),{token:u,user_email:t,group_name:e}).then((function(e){return e.error?n((0,i.sendSystemMessage)(e.error)):n(f()).then((function(){c===t&&n((0,r.auth)())})).then((function(){if(e.message)return n((0,i.sendSystemMessage)(e.message))}))})):Promise.resolve()}};e.removeFromGroup=function(t,e){return function(n,a){var s=a().user,u=s.token,c=s.email;return u?(0,o.postJson)("".concat(o.Config.AUTH_HOST,"/user/group/remove"),{token:u,user_email:t,group_name:e}).then((function(e){if(!e.error)return n(f()).then((function(){c===t&&n((0,r.auth)())})).then((function(){e.message&&n((0,i.sendSystemMessage)(e.message))}));n((0,i.sendSystemMessage)(e.error))})):Promise.resolve()}};e.deleteUser=function(t){return function(e,n){var a=n().user.token;return a?(0,o.postJson)("".concat(o.Config.AUTH_HOST,"/user/delete"),{token:a,user_email:t}).then((function(t){t.error?e((0,i.sendSystemMessage)(t.error)):(e(f()),e((0,r.auth)()),t.message&&e((0,i.sendSystemMessage)(t.message)))})):Promise.resolve()}};e.createFake=function(){return function(t,e){var n=e().user.token;return n?(0,o.postJson)("".concat(o.Config.AUTH_HOST,"/user/create/fake"),{token:n}).then((function(e){e.error?t((0,i.sendSystemMessage)(e.error)):(t(f()),t((0,i.sendSystemMessage)(e.message,{duration:1e4})))})):Promise.resolve()}}},function(t,e,n){"use strict";n.r(e),n.d(e,"geoArea",(function(){return T})),n.d(e,"geoBounds",(function(){return ot})),n.d(e,"geoCentroid",(function(){return _t})),n.d(e,"geoCircle",(function(){return xt.b})),n.d(e,"geoClipAntimeridian",(function(){return wt.a})),n.d(e,"geoClipCircle",(function(){return Et.a})),n.d(e,"geoClipExtent",(function(){return kt})),n.d(e,"geoClipRectangle",(function(){return St.a})),n.d(e,"geoContains",(function(){return Gt})),n.d(e,"geoDistance",(function(){return Dt})),n.d(e,"geoGraticule",(function(){return Xt})),n.d(e,"geoGraticule10",(function(){return Yt})),n.d(e,"geoInterpolate",(function(){return Zt})),n.d(e,"geoLength",(function(){return It})),n.d(e,"geoPath",(function(){return $t.a})),n.d(e,"geoAlbers",(function(){return ne})),n.d(e,"geoAlbersUsa",(function(){return ie})),n.d(e,"geoAzimuthalEqualArea",(function(){return ue})),n.d(e,"geoAzimuthalEqualAreaRaw",(function(){return se})),n.d(e,"geoAzimuthalEquidistant",(function(){return le})),n.d(e,"geoAzimuthalEquidistantRaw",(function(){return ce})),n.d(e,"geoConicConformal",(function(){return de})),n.d(e,"geoConicConformalRaw",(function(){return pe})),n.d(e,"geoConicEqualArea",(function(){return ee})),n.d(e,"geoConicEqualAreaRaw",(function(){return te})),n.d(e,"geoConicEquidistant",(function(){return me})),n.d(e,"geoConicEquidistantRaw",(function(){return ge})),n.d(e,"geoEqualEarth",(function(){return ke})),n.d(e,"geoEqualEarthRaw",(function(){return Se})),n.d(e,"geoEquirectangular",(function(){return ve})),n.d(e,"geoEquirectangularRaw",(function(){return ye})),n.d(e,"geoGnomonic",(function(){return Ce})),n.d(e,"geoGnomonicRaw",(function(){return Oe})),n.d(e,"geoIdentity",(function(){return Me})),n.d(e,"geoProjection",(function(){return Jt.a})),n.d(e,"geoProjectionMutator",(function(){return Jt.b})),n.d(e,"geoMercator",(function(){return fe.a})),n.d(e,"geoMercatorRaw",(function(){return fe.c})),n.d(e,"geoNaturalEarth1",(function(){return Ie})),n.d(e,"geoNaturalEarth1Raw",(function(){return Ae})),n.d(e,"geoOrthographic",(function(){return Re})),n.d(e,"geoOrthographicRaw",(function(){return je})),n.d(e,"geoStereographic",(function(){return Ne})),n.d(e,"geoStereographicRaw",(function(){return De})),n.d(e,"geoTransverseMercator",(function(){return ze})),n.d(e,"geoTransverseMercatorRaw",(function(){return Le})),n.d(e,"geoRotation",(function(){return Fe.a})),n.d(e,"geoStream",(function(){return f.a})),n.d(e,"geoTransform",(function(){return Te.a}));var r,i,o,a,s,u=n(78),c=n(4),l=n(49),f=n(63),h=Object(u.a)(),p=Object(u.a)(),d={point:l.a,lineStart:l.a,lineEnd:l.a,polygonStart:function(){h.reset(),d.lineStart=y,d.lineEnd=v},polygonEnd:function(){var t=+h;p.add(t<0?c.w+t:t),this.lineStart=this.lineEnd=this.point=l.a},sphere:function(){p.add(c.w)}};function y(){d.point=g}function v(){m(r,i)}function g(t,e){d.point=m,r=t,i=e,t*=c.r,e*=c.r,o=t,a=Object(c.g)(e=e/2+c.q),s=Object(c.t)(e)}function m(t,e){t*=c.r,e=(e*=c.r)/2+c.q;var n=t-o,r=n>=0?1:-1,i=r*n,u=Object(c.g)(e),l=Object(c.t)(e),f=s*l,p=a*u+f*Object(c.g)(i),d=f*r*Object(c.t)(i);h.add(Object(c.e)(d,p)),o=t,a=u,s=l}var b,_,x,w,E,S,k,O,C,P,T=function(t){return p.reset(),Object(f.a)(t,d),2*p},M=n(39),A=Object(u.a)(),I={point:j,lineStart:D,lineEnd:N,polygonStart:function(){I.point=L,I.lineStart=z,I.lineEnd=F,A.reset(),d.polygonStart()},polygonEnd:function(){d.polygonEnd(),I.point=j,I.lineStart=D,I.lineEnd=N,h<0?(b=-(x=180),_=-(w=90)):A>c.i?w=90:A<-c.i&&(_=-90),P[0]=b,P[1]=x},sphere:function(){b=-(x=180),_=-(w=90)}};function j(t,e){C.push(P=[b=t,x=t]),e<_&&(_=e),e>w&&(w=e)}function R(t,e){var n=Object(M.a)([t*c.r,e*c.r]);if(O){var r=Object(M.c)(O,n),i=[r[1],-r[0],0],o=Object(M.c)(i,r);Object(M.e)(o),o=Object(M.g)(o);var a,s=t-E,u=s>0?1:-1,l=o[0]*c.h*u,f=Object(c.a)(s)>180;f^(u*E<l&&l<u*t)?(a=o[1]*c.h)>w&&(w=a):f^(u*E<(l=(l+360)%360-180)&&l<u*t)?(a=-o[1]*c.h)<_&&(_=a):(e<_&&(_=e),e>w&&(w=e)),f?t<E?B(b,t)>B(b,x)&&(x=t):B(t,x)>B(b,x)&&(b=t):x>=b?(t<b&&(b=t),t>x&&(x=t)):t>E?B(b,t)>B(b,x)&&(x=t):B(t,x)>B(b,x)&&(b=t)}else C.push(P=[b=t,x=t]);e<_&&(_=e),e>w&&(w=e),O=n,E=t}function D(){I.point=R}function N(){P[0]=b,P[1]=x,I.point=j,O=null}function L(t,e){if(O){var n=t-E;A.add(Object(c.a)(n)>180?n+(n>0?360:-360):n)}else S=t,k=e;d.point(t,e),R(t,e)}function z(){d.lineStart()}function F(){L(S,k),d.lineEnd(),Object(c.a)(A)>c.i&&(b=-(x=180)),P[0]=b,P[1]=x,O=null}function B(t,e){return(e-=t)<0?e+360:e}function U(t,e){return t[0]-e[0]}function q(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var V,G,W,H,K,X,Y,Z,$,J,Q,tt,et,nt,rt,it,ot=function(t){var e,n,r,i,o,a,s;if(w=x=-(b=_=1/0),C=[],Object(f.a)(t,I),n=C.length){for(C.sort(U),e=1,o=[r=C[0]];e<n;++e)q(r,(i=C[e])[0])||q(r,i[1])?(B(r[0],i[1])>B(r[0],r[1])&&(r[1]=i[1]),B(i[0],r[1])>B(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=B(r[1],i[0]))>a&&(a=s,b=i[0],x=r[1])}return C=P=null,b===1/0||_===1/0?[[NaN,NaN],[NaN,NaN]]:[[b,_],[x,w]]},at={sphere:l.a,point:st,lineStart:ct,lineEnd:ht,polygonStart:function(){at.lineStart=pt,at.lineEnd=dt},polygonEnd:function(){at.lineStart=ct,at.lineEnd=ht}};function st(t,e){t*=c.r,e*=c.r;var n=Object(c.g)(e);ut(n*Object(c.g)(t),n*Object(c.t)(t),Object(c.t)(e))}function ut(t,e,n){++V,W+=(t-W)/V,H+=(e-H)/V,K+=(n-K)/V}function ct(){at.point=lt}function lt(t,e){t*=c.r,e*=c.r;var n=Object(c.g)(e);nt=n*Object(c.g)(t),rt=n*Object(c.t)(t),it=Object(c.t)(e),at.point=ft,ut(nt,rt,it)}function ft(t,e){t*=c.r,e*=c.r;var n=Object(c.g)(e),r=n*Object(c.g)(t),i=n*Object(c.t)(t),o=Object(c.t)(e),a=Object(c.e)(Object(c.u)((a=rt*o-it*i)*a+(a=it*r-nt*o)*a+(a=nt*i-rt*r)*a),nt*r+rt*i+it*o);G+=a,X+=a*(nt+(nt=r)),Y+=a*(rt+(rt=i)),Z+=a*(it+(it=o)),ut(nt,rt,it)}function ht(){at.point=st}function pt(){at.point=yt}function dt(){vt(tt,et),at.point=st}function yt(t,e){tt=t,et=e,t*=c.r,e*=c.r,at.point=vt;var n=Object(c.g)(e);nt=n*Object(c.g)(t),rt=n*Object(c.t)(t),it=Object(c.t)(e),ut(nt,rt,it)}function vt(t,e){t*=c.r,e*=c.r;var n=Object(c.g)(e),r=n*Object(c.g)(t),i=n*Object(c.t)(t),o=Object(c.t)(e),a=rt*o-it*i,s=it*r-nt*o,u=nt*i-rt*r,l=Object(c.u)(a*a+s*s+u*u),f=Object(c.c)(l),h=l&&-f/l;$+=h*a,J+=h*s,Q+=h*u,G+=f,X+=f*(nt+(nt=r)),Y+=f*(rt+(rt=i)),Z+=f*(it+(it=o)),ut(nt,rt,it)}var gt,mt,bt,_t=function(t){V=G=W=H=K=X=Y=Z=$=J=Q=0,Object(f.a)(t,at);var e=$,n=J,r=Q,i=e*e+n*n+r*r;return i<c.j&&(e=X,n=Y,r=Z,G<c.i&&(e=W,n=H,r=K),(i=e*e+n*n+r*r)<c.j)?[NaN,NaN]:[Object(c.e)(n,e)*c.h,Object(c.c)(r/Object(c.u)(i))*c.h]},xt=n(306),wt=n(235),Et=n(303),St=n(142),kt=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=Object(St.a)(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}},Ot=n(322),Ct=Object(u.a)(),Pt={sphere:l.a,point:l.a,lineStart:function(){Pt.point=Mt,Pt.lineEnd=Tt},lineEnd:l.a,polygonStart:l.a,polygonEnd:l.a};function Tt(){Pt.point=Pt.lineEnd=l.a}function Mt(t,e){t*=c.r,e*=c.r,gt=t,mt=Object(c.t)(e),bt=Object(c.g)(e),Pt.point=At}function At(t,e){t*=c.r,e*=c.r;var n=Object(c.t)(e),r=Object(c.g)(e),i=Object(c.a)(t-gt),o=Object(c.g)(i),a=r*Object(c.t)(i),s=bt*n-mt*r*o,u=mt*n+bt*r*o;Ct.add(Object(c.e)(Object(c.u)(a*a+s*s),u)),gt=t,mt=n,bt=r}var It=function(t){return Ct.reset(),Object(f.a)(t,Pt),+Ct},jt=[null,null],Rt={type:"LineString",coordinates:jt},Dt=function(t,e){return jt[0]=t,jt[1]=e,It(Rt)},Nt={Feature:function(t,e){return zt(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(zt(n[r].geometry,e))return!0;return!1}},Lt={Sphere:function(){return!0},Point:function(t,e){return Ft(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ft(n[r],e))return!0;return!1},LineString:function(t,e){return Bt(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Bt(n[r],e))return!0;return!1},Polygon:function(t,e){return Ut(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ut(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(zt(n[r],e))return!0;return!1}};function zt(t,e){return!(!t||!Lt.hasOwnProperty(t.type))&&Lt[t.type](t,e)}function Ft(t,e){return 0===Dt(t,e)}function Bt(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=Dt(t[o],e)))return!0;if(o>0&&(i=Dt(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<c.j*i)return!0;n=r}return!1}function Ut(t,e){return!!Object(Ot.a)(t.map(qt),Vt(e))}function qt(t){return(t=t.map(Vt)).pop(),t}function Vt(t){return[t[0]*c.r,t[1]*c.r]}var Gt=function(t,e){return(t&&Nt.hasOwnProperty(t.type)?Nt[t.type]:zt)(t,e)},Wt=n(102);function Ht(t,e,n){var r=Object(Wt.b)(t,e-c.i,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Kt(t,e,n){var r=Object(Wt.b)(t,e-c.i,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Xt(){var t,e,n,r,i,o,a,s,u,l,f,h,p=10,d=p,y=90,v=360,g=2.5;function m(){return{type:"MultiLineString",coordinates:b()}}function b(){return Object(Wt.b)(Object(c.f)(r/y)*y,n,y).map(f).concat(Object(Wt.b)(Object(c.f)(s/v)*v,a,v).map(h)).concat(Object(Wt.b)(Object(c.f)(e/p)*p,t,p).filter((function(t){return Object(c.a)(t%y)>c.i})).map(u)).concat(Object(Wt.b)(Object(c.f)(o/d)*d,i,d).filter((function(t){return Object(c.a)(t%v)>c.i})).map(l))}return m.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(h(a).slice(1),f(n).reverse().slice(1),h(s).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),m.precision(g)):[[r,s],[n,a]]},m.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),m.precision(g)):[[e,o],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(y=+t[0],v=+t[1],m):[y,v]},m.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],m):[p,d]},m.precision=function(c){return arguments.length?(g=+c,u=Ht(o,i,90),l=Kt(e,t,g),f=Ht(s,a,90),h=Kt(r,n,g),m):g},m.extentMajor([[-180,-90+c.i],[180,90-c.i]]).extentMinor([[-180,-80-c.i],[180,80+c.i]])}function Yt(){return Xt()()}var Zt=function(t,e){var n=t[0]*c.r,r=t[1]*c.r,i=e[0]*c.r,o=e[1]*c.r,a=Object(c.g)(r),s=Object(c.t)(r),u=Object(c.g)(o),l=Object(c.t)(o),f=a*Object(c.g)(n),h=a*Object(c.t)(n),p=u*Object(c.g)(i),d=u*Object(c.t)(i),y=2*Object(c.c)(Object(c.u)(Object(c.m)(o-r)+a*u*Object(c.m)(i-n))),v=Object(c.t)(y),g=y?function(t){var e=Object(c.t)(t*=y)/v,n=Object(c.t)(y-t)/v,r=n*f+e*p,i=n*h+e*d,o=n*s+e*l;return[Object(c.e)(i,r)*c.h,Object(c.e)(o,Object(c.u)(r*r+i*i))*c.h]}:function(){return[n*c.h,r*c.h]};return g.distance=y,g},$t=n(626),Jt=n(59);function Qt(t){var e=0,n=c.o/3,r=Object(Jt.b)(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*c.r,n=t[1]*c.r):[e*c.h,n*c.h]},i}function te(t,e){var n=Object(c.t)(t),r=(n+Object(c.t)(e))/2;if(Object(c.a)(r)<c.i)return function(t){var e=Object(c.g)(t);function n(t,n){return[t*e,Object(c.t)(n)/e]}return n.invert=function(t,n){return[t/e,Object(c.c)(n*e)]},n}(t);var i=1+n*(2*r-n),o=Object(c.u)(i)/r;function a(t,e){var n=Object(c.u)(i-2*r*Object(c.t)(e))/r;return[n*Object(c.t)(t*=r),o-n*Object(c.g)(t)]}return a.invert=function(t,e){var n=o-e,a=Object(c.e)(t,Object(c.a)(n))*Object(c.s)(n);return n*r<0&&(a-=c.o*Object(c.s)(t)*Object(c.s)(n)),[a/r,Object(c.c)((i-(t*t+n*n)*r*r)/(2*r))]},a}var ee=function(){return Qt(te).scale(155.424).center([0,33.6442])},ne=function(){return ee().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},re=n(72);var ie=function(){var t,e,n,r,i,o,a=ne(),s=ee().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=ee().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){o=[t,e]}};function f(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function h(){return t=e=null,f}return f.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(t)},f.stream=function(n){return t&&e===n?t:t=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([a.stream(e=n),s.stream(n),u.stream(n)])},f.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),u.precision(t),h()):a.precision()},f.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),u.scale(t),f.translate(a.translate())):a.scale()},f.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],f=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,f-.238*e],[o+.455*e,f+.238*e]]).stream(l),r=s.translate([o-.307*e,f+.201*e]).clipExtent([[o-.425*e+c.i,f+.12*e+c.i],[o-.214*e-c.i,f+.234*e-c.i]]).stream(l),i=u.translate([o-.205*e,f+.212*e]).clipExtent([[o-.214*e+c.i,f+.166*e+c.i],[o-.115*e-c.i,f+.234*e-c.i]]).stream(l),h()},f.fitExtent=function(t,e){return Object(re.a)(f,t,e)},f.fitSize=function(t,e){return Object(re.c)(f,t,e)},f.fitWidth=function(t,e){return Object(re.d)(f,t,e)},f.fitHeight=function(t,e){return Object(re.b)(f,t,e)},f.scale(1070)};function oe(t){return function(e,n){var r=Object(c.g)(e),i=Object(c.g)(n),o=t(r*i);return[o*i*Object(c.t)(e),o*Object(c.t)(n)]}}function ae(t){return function(e,n){var r=Object(c.u)(e*e+n*n),i=t(r),o=Object(c.t)(i),a=Object(c.g)(i);return[Object(c.e)(e*o,r*a),Object(c.c)(r&&n*o/r)]}}var se=oe((function(t){return Object(c.u)(2/(1+t))}));se.invert=ae((function(t){return 2*Object(c.c)(t/2)}));var ue=function(){return Object(Jt.a)(se).scale(124.75).clipAngle(179.999)},ce=oe((function(t){return(t=Object(c.b)(t))&&t/Object(c.t)(t)}));ce.invert=ae((function(t){return t}));var le=function(){return Object(Jt.a)(ce).scale(79.4188).clipAngle(179.999)},fe=n(167);function he(t){return Object(c.v)((c.l+t)/2)}function pe(t,e){var n=Object(c.g)(t),r=t===e?Object(c.t)(t):Object(c.n)(n/Object(c.g)(e))/Object(c.n)(he(e)/he(t)),i=n*Object(c.p)(he(t),r)/r;if(!r)return fe.c;function o(t,e){i>0?e<-c.l+c.i&&(e=-c.l+c.i):e>c.l-c.i&&(e=c.l-c.i);var n=i/Object(c.p)(he(e),r);return[n*Object(c.t)(r*t),i-n*Object(c.g)(r*t)]}return o.invert=function(t,e){var n=i-e,o=Object(c.s)(r)*Object(c.u)(t*t+n*n),a=Object(c.e)(t,Object(c.a)(n))*Object(c.s)(n);return n*r<0&&(a-=c.o*Object(c.s)(t)*Object(c.s)(n)),[a/r,2*Object(c.d)(Object(c.p)(i/o,1/r))-c.l]},o}var de=function(){return Qt(pe).scale(109.5).parallels([30,30])};function ye(t,e){return[t,e]}ye.invert=ye;var ve=function(){return Object(Jt.a)(ye).scale(152.63)};function ge(t,e){var n=Object(c.g)(t),r=t===e?Object(c.t)(t):(n-Object(c.g)(e))/(e-t),i=n/r+t;if(Object(c.a)(r)<c.i)return ye;function o(t,e){var n=i-e,o=r*t;return[n*Object(c.t)(o),i-n*Object(c.g)(o)]}return o.invert=function(t,e){var n=i-e,o=Object(c.e)(t,Object(c.a)(n))*Object(c.s)(n);return n*r<0&&(o-=c.o*Object(c.s)(t)*Object(c.s)(n)),[o/r,i-Object(c.s)(r)*Object(c.u)(t*t+n*n)]},o}var me=function(){return Qt(ge).scale(131.154).center([0,13.9389])},be=1.340264,_e=-.081106,xe=893e-6,we=.003796,Ee=Object(c.u)(3)/2;function Se(t,e){var n=Object(c.c)(Ee*Object(c.t)(e)),r=n*n,i=r*r*r;return[t*Object(c.g)(n)/(Ee*(be+3*_e*r+i*(7*xe+9*we*r))),n*(be+_e*r+i*(xe+we*r))]}Se.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(be+_e*i+o*(xe+we*i))-e)/(be+3*_e*i+o*(7*xe+9*we*i)))*r)*i*i,!(Object(c.a)(n)<c.j));++a);return[Ee*t*(be+3*_e*i+o*(7*xe+9*we*i))/Object(c.g)(r),Object(c.c)(Object(c.t)(r)/Ee)]};var ke=function(){return Object(Jt.a)(Se).scale(177.158)};function Oe(t,e){var n=Object(c.g)(e),r=Object(c.g)(t)*n;return[n*Object(c.t)(t)/r,Object(c.t)(e)/r]}Oe.invert=ae(c.d);var Ce=function(){return Object(Jt.a)(Oe).scale(144.049).clipAngle(60)},Pe=n(150),Te=n(125),Me=function(){var t,e,n,r,i,o,a,s=1,u=0,l=0,f=1,h=1,p=0,d=null,y=1,v=1,g=Object(Te.b)({point:function(t,e){var n=_([t,e]);this.stream.point(n[0],n[1])}}),m=Pe.a;function b(){return y=s*f,v=s*h,o=a=null,_}function _(n){var r=n[0]*y,i=n[1]*v;if(p){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+u,i+l]}return _.invert=function(n){var r=n[0]-u,i=n[1]-l;if(p){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/y,i/v]},_.stream=function(t){return o&&a===t?o:o=g(m(a=t))},_.postclip=function(t){return arguments.length?(m=t,d=n=r=i=null,b()):m},_.clipExtent=function(t){return arguments.length?(m=null==t?(d=n=r=i=null,Pe.a):Object(St.a)(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),b()):null==d?null:[[d,n],[r,i]]},_.scale=function(t){return arguments.length?(s=+t,b()):s},_.translate=function(t){return arguments.length?(u=+t[0],l=+t[1],b()):[u,l]},_.angle=function(n){return arguments.length?(p=n%360*c.r,e=Object(c.t)(p),t=Object(c.g)(p),b()):p*c.h},_.reflectX=function(t){return arguments.length?(f=t?-1:1,b()):f<0},_.reflectY=function(t){return arguments.length?(h=t?-1:1,b()):h<0},_.fitExtent=function(t,e){return Object(re.a)(_,t,e)},_.fitSize=function(t,e){return Object(re.c)(_,t,e)},_.fitWidth=function(t,e){return Object(re.d)(_,t,e)},_.fitHeight=function(t,e){return Object(re.b)(_,t,e)},_};function Ae(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Ae.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Object(c.a)(n)>c.i&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Ie=function(){return Object(Jt.a)(Ae).scale(175.295)};function je(t,e){return[Object(c.g)(e)*Object(c.t)(t),Object(c.t)(e)]}je.invert=ae(c.c);var Re=function(){return Object(Jt.a)(je).scale(249.5).clipAngle(90+c.i)};function De(t,e){var n=Object(c.g)(e),r=1+Object(c.g)(t)*n;return[n*Object(c.t)(t)/r,Object(c.t)(e)/r]}De.invert=ae((function(t){return 2*Object(c.d)(t)}));var Ne=function(){return Object(Jt.a)(De).scale(250).clipAngle(142)};function Le(t,e){return[Object(c.n)(Object(c.v)((c.l+e)/2)),-t]}Le.invert=function(t,e){return[-e,2*Object(c.d)(Object(c.k)(t))-c.l]};var ze=function(){var t=Object(fe.b)(Le),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},Fe=n(141)},function(t,e,n){(function(e){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")(),l=Object.prototype.toString,f=Math.max,h=Math.min,p=function(){return c.Date.now()};function d(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==l.call(t)}(t))return NaN;if(d(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=d(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var s=i.test(t);return s||o.test(t)?a(t.slice(2),s?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var r,i,o,a,s,u,c=0,l=!1,v=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n)}function b(t){return c=t,s=setTimeout(x,e),l?m(t):a}function _(t){var n=t-u;return void 0===u||n>=e||n<0||v&&t-c>=o}function x(){var t=p();if(_(t))return w(t);s=setTimeout(x,function(t){var n=e-(t-u);return v?h(n,o-(t-c)):n}(t))}function w(t){return s=void 0,g&&r?m(t):(r=i=void 0,a)}function E(){var t=p(),n=_(t);if(r=arguments,i=this,u=t,n){if(void 0===s)return b(u);if(v)return s=setTimeout(x,e),m(u)}return void 0===s&&(s=setTimeout(x,e)),a}return e=y(e)||0,d(n)&&(l=!!n.leading,o=(v="maxWait"in n)?f(y(n.maxWait)||0,e):o,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},E.flush=function(){return void 0===s?a:w(p())},E}}).call(this,n(53))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var r=n(16),i=n(1179),o=n(40),a=n(126);function s(){var t,e,n=Object(a.a)().unknown(void 0),u=n.domain,c=n.range,l=0,f=1,h=!1,p=0,d=0,y=.5;function v(){var n=u().length,r=f<l,o=r?f:l,a=r?l:f;t=(a-o)/Math.max(1,n-p+2*d),h&&(t=Math.floor(t)),o+=(a-o-t*(n-p))*y,e=t*(1-p),h&&(o=Math.round(o),e=Math.round(e));var s=Object(i.a)(n).map((function(e){return o+t*e}));return c(r?s.reverse():s)}return delete n.unknown,n.domain=function(t){return arguments.length?(u(t),v()):u()},n.range=function(t){var e,n;return arguments.length?(e=t,n=Object(r.a)(e,2),l=n[0],f=n[1],l=+l,f=+f,v()):[l,f]},n.rangeRound=function(t){var e,n;return e=t,n=Object(r.a)(e,2),l=n[0],f=n[1],l=+l,f=+f,h=!0,v()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(h=!!t,v()):h},n.padding=function(t){return arguments.length?(p=Math.min(1,d=+t),v()):p},n.paddingInner=function(t){return arguments.length?(p=Math.min(1,t),v()):p},n.paddingOuter=function(t){return arguments.length?(d=+t,v()):d},n.align=function(t){return arguments.length?(y=Math.max(0,Math.min(1,t)),v()):y},n.copy=function(){return s(u(),[l,f]).round(h).paddingInner(p).paddingOuter(d).align(y)},o.b.apply(v(),arguments)}function u(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return u(e())},t}function c(){return u(s.apply(null,arguments).paddingInner(1))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(245),i=n(168),o=n(400),a=n(169),s=n(401),u=n(402);function c(t,e,n,c){var l,f=Object(r.c)(t,e,n);switch((c=Object(i.b)(null==c?",f":c)).type){case"s":var h=Math.max(Math.abs(t),Math.abs(e));return null!=c.precision||isNaN(l=Object(o.a)(f,h))||(c.precision=l),Object(a.c)(c,h);case"":case"e":case"g":case"p":case"r":null!=c.precision||isNaN(l=Object(s.a)(f,Math.max(Math.abs(t),Math.abs(e))))||(c.precision=l-("e"===c.type));break;case"f":case"%":null!=c.precision||isNaN(l=Object(u.a)(f))||(c.precision=l-2*("%"===c.type))}return Object(a.b)(c)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={ReduxFalcorFalcorProvider:!0,reduxFalcor:!0};e.reduxFalcor=e.ReduxFalcorFalcorProvider=void 0;var i=u(n(1)),o=n(31),a=n(831);Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e&&e[t]===a[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))}));var s=u(n(294));function u(t){return t&&t.__esModule?t:{default:t}}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==f(e)&&"function"!==typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=i.default.createContext(),w=function(t){y(n,t);var e=g(n);function n(){var t;h(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).debounced=(0,s.default)(t.updateCache,250),t}return d(n,[{key:"componentDidMount",value:function(){this.props.falcor.onChange(this,this.debounced)}},{key:"componentWillUnmount",value:function(){this.props.falcor.remove(this)}},{key:"updateCache",value:function(){this.props.updateCache(this.props.falcor.getCache())}},{key:"render",value:function(){return i.default.createElement(x.Provider,{value:this.props.falcor},this.props.children)}}]),n}(i.default.Component),E=(0,o.connect)(null,{updateCache:a.updateCache})(w);e.ReduxFalcorFalcorProvider=E;e.reduxFalcor=function(t){var e=function(e){y(r,e);var n=g(r);function r(){var t;h(this,r);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return l(b(t=n.call.apply(n,[this].concat(o))),"WrappedComponent",i.default.createRef()),t}return d(r,[{key:"componentDidMount",value:function(){this.fetchFalcorDeps()}},{key:"componentDidUpdate",value:function(t){t.falcorCache!==this.props.falcorCache&&this.fetchFalcorDeps()}},{key:"fetchFalcorDeps",value:function(){var t=this.WrappedComponent.current;t&&"function"===typeof t.fetchFalcorDeps&&t.fetchFalcorDeps()}},{key:"render",value:function(){var e=this;return i.default.createElement(x.Consumer,null,(function(n){return i.default.createElement(t,c({ref:e.WrappedComponent},e.props,{falcor:n}))}))}}]),r}(i.default.Component);return(0,o.connect)((function(t){return{falcorCache:t.falcorCache}}),null)(e)}},function(t,e,n){"use strict";var r=n(114);e.a=function(t){return"string"===typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.c)}},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));var r=n(203);function i(t){return function(){this.style.removeProperty(t)}}function o(t,e,n){return function(){this.style.setProperty(t,e,n)}}function a(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function s(t,e){return t.style.getPropertyValue(e)||Object(r.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.a=function(t,e,n){return arguments.length>1?this.each((null==e?i:"function"===typeof e?a:o)(t,e,null==n?"":n)):s(this.node(),t)}},function(t,e,n){"use strict";var r=n(318);e.a=function(t,e){if(t=Object(r.a)(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}},function(t,e,n){var r=n(135),i=n(222);function o(t){var e=t||{};this.syncRefCount=0,this.expired=e.expired||[],this.unsafeMode=e.unsafeMode||!1,this.cache={},r(e.comparator)&&(this.comparator=e.comparator),r(e.errorSelector)&&(this.errorSelector=e.errorSelector),r(e.onChange)&&(this.onChange=e.onChange)}o.prototype.errorSelector=function(t,e){return e},o.prototype.comparator=function(t,e){return i(t,"value")&&i(e,"value")?t.value===e.value&&t.$type===e.$type&&t.$expires===e.$expires:t===e},t.exports=o},function(t,e,n){"use strict";var r=n(39),i=n(306),o=n(4),a=n(213),s=n(320);e.a=function(t){var e=Object(o.g)(t),n=6*o.r,u=e>0,c=Object(o.a)(e)>o.i;function l(t,n){return Object(o.g)(t)*Object(o.g)(n)>e}function f(t,n,i){var a=Object(r.a)(t),s=Object(r.a)(n),u=[1,0,0],c=Object(r.c)(a,s),l=Object(r.d)(c,c),f=c[0],h=l-f*f;if(!h)return!i&&t;var p=e*l/h,d=-e*f/h,y=Object(r.c)(u,c),v=Object(r.f)(u,p),g=Object(r.f)(c,d);Object(r.b)(v,g);var m=y,b=Object(r.d)(v,m),_=Object(r.d)(m,m),x=b*b-_*(Object(r.d)(v,v)-1);if(!(x<0)){var w=Object(o.u)(x),E=Object(r.f)(m,(-b-w)/_);if(Object(r.b)(E,v),E=Object(r.g)(E),!i)return E;var S,k=t[0],O=n[0],C=t[1],P=n[1];O<k&&(S=k,k=O,O=S);var T=O-k,M=Object(o.a)(T-o.o)<o.i;if(!M&&P<C&&(S=C,C=P,P=S),M||T<o.i?M?C+P>0^E[1]<(Object(o.a)(E[0]-k)<o.i?C:P):C<=E[1]&&E[1]<=P:T>o.o^(k<=E[0]&&E[0]<=O)){var A=Object(r.f)(m,(-b+w)/_);return Object(r.b)(A,v),[E,Object(r.g)(A)]}}}function h(e,n){var r=u?t:o.o-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}return Object(s.a)(l,(function(t){var e,n,r,i,s;return{lineStart:function(){i=r=!1,s=1},point:function(p,d){var y,v=[p,d],g=l(p,d),m=u?g?0:h(p,d):g?h(p+(p<0?o.o:-o.o),d):0;if(!e&&(i=r=g)&&t.lineStart(),g!==r&&(!(y=f(e,v))||Object(a.a)(e,y)||Object(a.a)(v,y))&&(v[2]=1),g!==r)s=0,g?(t.lineStart(),y=f(v,e),t.point(y[0],y[1])):(y=f(e,v),t.point(y[0],y[1],2),t.lineEnd()),e=y;else if(c&&e&&u^g){var b;m&n||!(b=f(v,e,!0))||(s=0,u?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!g||e&&Object(a.a)(e,v)||t.point(v[0],v[1]),e=v,r=g,n=m},lineEnd:function(){r&&t.lineEnd(),e=null},clean:function(){return s|(i&&r)<<1}}}),(function(e,r,o,a){Object(i.a)(a,t,n,o,e,r)}),u?[0,-t]:[-o.o,t-o.o])}},function(t,e,n){"use strict";var r,i=n(113),o=n(168),a=n(127),s=function(t,e){var n=Object(a.b)(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},u={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:a.a,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return s(100*t,e)},r:s,s:function(t,e){var n=Object(a.b)(t,e);if(!n)return t+"";var i=n[0],o=n[1],s=o-(r=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=i.length;return s===u?i:s>u?i+new Array(s-u+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+Object(a.b)(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},c=function(t){return t},l=Array.prototype.map,f=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];e.a=function(t){var e,n,a=void 0===t.grouping||void 0===t.thousands?c:(e=l.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),s=void 0===t.currency?"":t.currency[0]+"",h=void 0===t.currency?"":t.currency[1]+"",p=void 0===t.decimal?".":t.decimal+"",d=void 0===t.numerals?c:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(l.call(t.numerals,String)),y=void 0===t.percent?"%":t.percent+"",v=void 0===t.minus?"-":t.minus+"",g=void 0===t.nan?"NaN":t.nan+"";function m(t){var e=(t=Object(o.b)(t)).fill,n=t.align,i=t.sign,c=t.symbol,l=t.zero,m=t.width,b=t.comma,_=t.precision,x=t.trim,w=t.type;"n"===w?(b=!0,w="g"):u[w]||(void 0===_&&(_=12),x=!0,w="g"),(l||"0"===e&&"="===n)&&(l=!0,e="0",n="=");var E="$"===c?s:"#"===c&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S="$"===c?h:/[%p]/.test(w)?y:"",k=u[w],O=/[defgprs%]/.test(w);function C(t){var o,s,u,c=E,h=S;if("c"===w)h=k(t)+h,t="";else{var y=(t=+t)<0||1/t<0;if(t=isNaN(t)?g:k(Math.abs(t),_),x&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),y&&0===+t&&"+"!==i&&(y=!1),c=(y?"("===i?i:v:"-"===i||"("===i?"":i)+c,h=("s"===w?f[8+r/3]:"")+h+(y&&"("===i?")":""),O)for(o=-1,s=t.length;++o<s;)if(48>(u=t.charCodeAt(o))||u>57){h=(46===u?p+t.slice(o+1):t.slice(o))+h,t=t.slice(0,o);break}}b&&!l&&(t=a(t,1/0));var C=c.length+t.length+h.length,P=C<m?new Array(m-C+1).join(e):"";switch(b&&l&&(t=a(P+t,P.length?m-h.length:1/0),P=""),n){case"<":t=c+t+h+P;break;case"=":t=c+P+t+h;break;case"^":t=P.slice(0,C=P.length>>1)+c+t+h+P.slice(C);break;default:t=P+c+t+h}return d(t)}return _=void 0===_?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),C.toString=function(){return t+""},C}return{format:m,formatPrefix:function(t,e){var n=m(((t=Object(o.b)(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Object(i.a)(e)/3))),a=Math.pow(10,-r),s=f[8+r/3];return function(t){return n(a*t)+s}}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"b",(function(){return A}));var r=n(409),i=n(245),o=n(1232),a=n(48),s=Object(a.a)((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),u=s,c=(s.range,n(1233)),l=n(1234),f=n(52),h=Object(a.a)((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*f.d-t.getMinutes()*f.c)}),(function(t,e){t.setTime(+t+e*f.b)}),(function(t,e){return(e-t)/f.b}),(function(t){return t.getHours()})),p=h,d=(h.range,Object(a.a)((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*f.d)}),(function(t,e){t.setTime(+t+e*f.c)}),(function(t,e){return(e-t)/f.c}),(function(t){return t.getMinutes()}))),y=d,v=(d.range,n(1235)),g=n(1236),m=n(1244),b=n(50),_=n(40),x=n(311),w=1e3,E=6e4,S=36e5,k=864e5,O=2592e6,C=31536e6;function P(t){return new Date(t)}function T(t){return t instanceof Date?+t:+new Date(+t)}function M(t,e,n,o,a,s,u,c,l){var f=Object(b.b)(),h=f.invert,p=f.domain,d=l(".%L"),y=l(":%S"),v=l("%I:%M"),g=l("%I %p"),m=l("%a %d"),_=l("%b %d"),A=l("%B"),I=l("%Y"),j=[[u,1,w],[u,5,5e3],[u,15,15e3],[u,30,3e4],[s,1,E],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,S],[a,3,108e5],[a,6,216e5],[a,12,432e5],[o,1,k],[o,2,1728e5],[n,1,6048e5],[e,1,O],[e,3,7776e6],[t,1,C]];function R(r){return(u(r)<r?d:s(r)<r?y:a(r)<r?v:o(r)<r?g:e(r)<r?n(r)<r?m:_:t(r)<r?A:I)(r)}function D(e,n,o){if(null==e&&(e=10),"number"===typeof e){var a,s=Math.abs(o-n)/e,u=Object(r.a)((function(t){return t[2]})).right(j,s);return u===j.length?(a=Object(i.c)(n/C,o/C,e),e=t):u?(a=(u=j[s/j[u-1][2]<j[u][2]/s?u-1:u])[1],e=u[0]):(a=Math.max(Object(i.c)(n,o,e),1),e=c),e.every(a)}return e}return f.invert=function(t){return new Date(h(t))},f.domain=function(t){return arguments.length?p(Array.from(t,T)):p().map(P)},f.ticks=function(t){var e,n=p(),r=n[0],i=n[n.length-1],o=i<r;return o&&(e=r,r=i,i=e),e=(e=D(t,r,i))?e.range(r,i+1):[],o?e.reverse():e},f.tickFormat=function(t,e){return null==e?R:l(e)},f.nice=function(t){var e=p();return(t=D(t,e[0],e[e.length-1]))?p(Object(x.a)(e,t)):f},f.copy=function(){return Object(b.a)(f,M(t,e,n,o,a,s,u,c,l))},f}function A(){return _.b.apply(M(o.a,u,c.b,l.a,p,y,v.a,g.a,m.a).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(39),i=function(t){return function(){return t}},o=n(4),a=n(141);function s(t,e,n,i,a,s){if(n){var c=Object(o.g)(e),l=Object(o.t)(e),f=i*n;null==a?(a=e+i*o.w,s=e-f/2):(a=u(c,a),s=u(c,s),(i>0?a<s:a>s)&&(a+=i*o.w));for(var h,p=a;i>0?p>s:p<s;p-=f)h=Object(r.g)([c,-l*Object(o.g)(p),-l*Object(o.t)(p)]),t.point(h[0],h[1])}}function u(t,e){(e=Object(r.a)(e))[0]-=t,Object(r.e)(e);var n=Object(o.b)(-e[1]);return((-e[2]<0?-n:n)+o.w-o.i)%o.w}e.b=function(){var t,e,n=i([0,0]),r=i(90),u=i(6),c={point:function(n,r){t.push(n=e(n,r)),n[0]*=o.h,n[1]*=o.h}};function l(){var i=n.apply(this,arguments),l=r.apply(this,arguments)*o.r,f=u.apply(this,arguments)*o.r;return t=[],e=Object(a.b)(-i[0]*o.r,-i[1]*o.r,0).invert,s(c,l,f,1),i={type:"Polygon",coordinates:[t]},t=e=null,i}return l.center=function(t){return arguments.length?(n="function"===typeof t?t:i([+t[0],+t[1]]),l):n},l.radius=function(t){return arguments.length?(r="function"===typeof t?t:i(+t),l):r},l.precision=function(t){return arguments.length?(u="function"===typeof t?t:i(+t),l):u},l}},function(t,e,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(16),i=n(428),o=n(67),a=n(40);function s(){var t,e=0,n=1,u=1,c=[.5],l=[0,1];function f(e){return e<=e?l[Object(i.a)(c,e,0,u)]:t}function h(){var t=-1;for(c=new Array(u);++t<u;)c[t]=((t+1)*n-(t-u)*e)/(u+1);return f}return f.domain=function(t){var i,o;return arguments.length?(i=t,o=Object(r.a)(i,2),e=o[0],n=o[1],e=+e,n=+n,h()):[e,n]},f.range=function(t){return arguments.length?(u=(l=Array.from(t)).length-1,h()):l.slice()},f.invertExtent=function(t){var r=l.indexOf(t);return r<0?[NaN,NaN]:r<1?[e,c[0]]:r>=u?[c[u-1],n]:[c[r-1],c[r]]},f.unknown=function(e){return arguments.length?(t=e,f):f},f.thresholds=function(){return c.slice()},f.copy=function(){return s().domain([e,n]).range(l).unknown(t)},a.b.apply(Object(o.b)(f),arguments)}},function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function i(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function o(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?s="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=t.displayName||t.name,c="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=i),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=o;var l=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(t,e,n){"use strict";var r=n(212);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i}));var r={},i=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"}));function o(t,e,n){return t=a(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function a(t,e,n){return function(r){var o=i;i=r;try{t.call(this,this.__data__,e,n)}finally{i=o}}}function s(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function u(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function c(t,e,n){var i=r.hasOwnProperty(t.type)?o:a;return function(r,o,a){var s,u=this.__on,c=i(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}e.a=function(t,e,n){var r,i,o=s(t+""),a=o.length;if(!(arguments.length<2)){for(l=e?c:u,null==n&&(n=!1),r=0;r<a;++r)this.each(l(o[r],e,n));return this}var l=this.node().__on;if(l)for(var f,h=0,p=l.length;h<p;++h)for(r=0,f=l[h];r<a;++r)if((i=o[r]).type===f.type&&i.name===f.name)return f.value}},function(t,e,n){"use strict";e.a=function(t){for(var e;e=t.sourceEvent;)t=e;return t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(239);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){"use strict";var r=n(321),i=n(323),o=n(4),a=n(322),s=n(102);function u(t){return t.length>1}function c(t,e){return((t=t.x)[0]<0?t[1]-o.l-o.i:o.l-t[1])-((e=e.x)[0]<0?e[1]-o.l-o.i:o.l-e[1])}e.a=function(t,e,n,o){return function(l){var f,h,p,d=e(l),y=Object(r.a)(),v=e(y),g=!1,m={point:b,lineStart:x,lineEnd:w,polygonStart:function(){m.point=E,m.lineStart=S,m.lineEnd=k,h=[],f=[]},polygonEnd:function(){m.point=b,m.lineStart=x,m.lineEnd=w,h=Object(s.a)(h);var t=Object(a.a)(f,o);h.length?(g||(l.polygonStart(),g=!0),Object(i.a)(h,c,t,n,l)):t&&(g||(l.polygonStart(),g=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),g&&(l.polygonEnd(),g=!1),h=f=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function b(e,n){t(e,n)&&l.point(e,n)}function _(t,e){d.point(t,e)}function x(){m.point=_,d.lineStart()}function w(){m.point=b,d.lineEnd()}function E(t,e){p.push([t,e]),v.point(t,e)}function S(){v.lineStart(),p=[]}function k(){E(p[0][0],p[0][1]),v.lineEnd();var t,e,n,r,i=v.clean(),o=y.result(),a=o.length;if(p.pop(),f.push(p),p=null,a)if(1&i){if((e=(n=o[0]).length-1)>0){for(g||(l.polygonStart(),g=!0),l.lineStart(),t=0;t<e;++t)l.point((r=n[t])[0],r[1]);l.lineEnd()}}else a>1&&2&i&&o.push(o.pop().concat(o.shift())),h.push(o.filter(u))}return m}}},function(t,e,n){"use strict";var r=n(49);e.a=function(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:r.a,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}},function(t,e,n){"use strict";var r=n(78),i=n(39),o=n(4),a=Object(r.a)();function s(t){return Object(o.a)(t[0])<=o.o?t[0]:Object(o.s)(t[0])*((Object(o.a)(t[0])+o.o)%o.w-o.o)}e.a=function(t,e){var n=s(e),r=e[1],u=Object(o.t)(r),c=[Object(o.t)(n),-Object(o.g)(n),0],l=0,f=0;a.reset(),1===u?r=o.l+o.i:-1===u&&(r=-o.l-o.i);for(var h=0,p=t.length;h<p;++h)if(y=(d=t[h]).length)for(var d,y,v=d[y-1],g=s(v),m=v[1]/2+o.q,b=Object(o.t)(m),_=Object(o.g)(m),x=0;x<y;++x,g=E,b=k,_=O,v=w){var w=d[x],E=s(w),S=w[1]/2+o.q,k=Object(o.t)(S),O=Object(o.g)(S),C=E-g,P=C>=0?1:-1,T=P*C,M=T>o.o,A=b*k;if(a.add(Object(o.e)(A*P*Object(o.t)(T),_*O+A*Object(o.g)(T))),l+=M?C+P*o.w:C,M^g>=n^E>=n){var I=Object(i.c)(Object(i.a)(v),Object(i.a)(w));Object(i.e)(I);var j=Object(i.c)(c,I);Object(i.e)(j);var R=(M^C>=0?-1:1)*Object(o.c)(j[2]);(r>R||r===R&&(I[0]||I[1]))&&(f+=M^C>=0?1:-1)}}return(l<-o.i||l<o.i&&a<-o.i)^1&f}},function(t,e,n){"use strict";var r=n(213),i=n(4);function o(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function a(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}e.a=function(t,e,n,s,u){var c,l,f=[],h=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,a=t[0],s=t[e];if(Object(r.a)(a,s)){if(!a[2]&&!s[2]){for(u.lineStart(),c=0;c<e;++c)u.point((a=t[c])[0],a[1]);return void u.lineEnd()}s[0]+=2*i.i}f.push(n=new o(a,t,null,!0)),h.push(n.o=new o(a,null,n,!1)),f.push(n=new o(s,t,null,!1)),h.push(n.o=new o(s,null,n,!0))}})),f.length){for(h.sort(e),a(f),a(h),c=0,l=h.length;c<l;++c)h[c].e=n=!n;for(var p,d,y=f[0];;){for(var v=y,g=!0;v.v;)if((v=v.n)===y)return;p=v.z,u.lineStart();do{if(v.v=v.o.v=!0,v.e){if(g)for(c=0,l=p.length;c<l;++c)u.point((d=p[c])[0],d[1]);else s(v.x,v.n.x,1,u);v=v.n}else{if(g)for(p=v.p.z,c=p.length-1;c>=0;--c)u.point((d=p[c])[0],d[1]);else s(v.x,v.p.x,-1,u);v=v.p}p=(v=v.o).z,g=!g}while(!v.v);u.lineEnd()}}}},function(t,e,n){"use strict";var r=n(32),i=n(1),o=n.n(i),a=n(2),s=n.n(a),u=n(101),c=n.n(u);function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function f(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function h(t){var e=t.getCurrentContent().getBlockMap(),n=e.last().getKey(),i=e.last().getLength(),o=new r.SelectionState({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i});return r.EditorState.acceptSelection(t,o)}var p="-",d=function(){function t(t){this.decorators=void 0,this.decorators=c.a.List(t)}var e=t.prototype;return e.getDecorations=function(t,e){var n=new Array(t.getText().length).fill(null);return this.decorators.forEach((function(r,i){r.getDecorations(t,e).forEach((function(t,e){t&&(n[e]=i+p+t)}))})),c.a.List(n)},e.getComponentForKey=function(e){return this.getDecoratorForKey(e).getComponentForKey(t.getInnerKey(e))},e.getPropsForKey=function(e){return this.getDecoratorForKey(e).getPropsForKey(t.getInnerKey(e))},e.getDecoratorForKey=function(t){var e=t.split(p),n=Number(e[0]);return this.decorators.get(n)},t.getInnerKey=function(t){return t.split(p).slice(1).join(p)},t}(),y=function(t){return"function"===typeof t.getDecorations&&"function"===typeof t.getComponentForKey&&"function"===typeof t.getPropsForKey};function v(t,e,n){var i=function(t){var e=t.decorators,n=t.plugins,r=void 0===n?[]:n;return Object(u.List)([{decorators:e}].concat(r)).filter((function(t){return void 0!==(null==t?void 0:t.decorators)})).flatMap((function(t){return null==t?void 0:t.decorators}))}(t),a=function(t,e,n){var i=Object(u.List)(t).map((function(t){var r=t.component;return l({},t,{component:function(t){return o.a.createElement(r,l({},t,{getEditorState:e,setEditorState:n}))}})})).toJS();return new r.CompositeDecorator(i)}(i.filter((function(t){return!y(t)})),e,n),s=i.filter((function(t){return y(t)}));return new d(s.push(a))}function g(t){return Object(r.getDefaultKeyBinding)(t)}function m(t,e,n,i){var o,a=i.setEditorState;switch(t){case"backspace":case"backspace-word":case"backspace-to-start-of-line":o=r.RichUtils.onBackspace(e);break;case"delete":case"delete-word":case"delete-to-end-of-block":o=r.RichUtils.onDelete(e);break;default:return"not-handled"}return null!=o?(a(o),"handled"):"not-handled"}function b(t,e){var n={},r=new Set(["onChange"]);return t.forEach((function(i){Object.keys(i).forEach((function(i){r.has(i)||(r.add(i),i.startsWith("on")?n[i]=function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.some((function(e){var r=e[t];return"function"===typeof r&&!0===r.apply(void 0,i.concat([n]))}))}}(i,t,e):!function(t){return t.startsWith("handle")}(i)?function(t){return t.endsWith("Fn")}(i)&&("blockRendererFn"===i?n.blockRendererFn=function(t,e){return function(n){var r={props:{}};return t.forEach((function(t){if("function"===typeof t.blockRendererFn){var i=t.blockRendererFn(n,e);if(void 0!==i&&null!==i){var o=i.props,a=f(i,["props"]),s=r,u=s.props,c=f(s,["props"]);r=l({},c,a,{props:l({},u,o)})}}})),!!r.component&&r}}(t,e):"blockStyleFn"===i?n.blockStyleFn=function(t,e){return function(n){var r=[];return t.forEach((function(t){if("function"===typeof t.blockStyleFn){var i=t.blockStyleFn(n,e);void 0!==i&&null!==i&&r.push(i)}})),r.join(" ")}}(t,e):"customStyleFn"===i?n.customStyleFn=function(t,e){return function(n,r){var i;return t.some((function(t){return"function"===typeof t.customStyleFn&&void 0!==(i=t.customStyleFn(n,r,e))}))&&i?i:{}}}(t,e):"keyBindingFn"===i&&(n.keyBindingFn=function(t,e){return function(n){var r=null;return t.some((function(t){return"function"===typeof t.keyBindingFn&&void 0!==(r=t.keyBindingFn(n,e))}))?r:null}}(t,e))):n[i]=function(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.some((function(e){var r=e[t];return"function"===typeof r&&"handled"===r.apply(void 0,i.concat([n]))}))?"handled":"not-handled"}}(i,t,e))}))})),n}var _=function(t){var e,n;return null!=(null==t?void 0:t.decorators)?null==(e=t.decorators)?void 0:e.size:null!=(null==t?void 0:t._decorators)?null==(n=t._decorators)?void 0:n.length:void 0},x=function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this).editor=null,n.state={readOnly:!1},n.onChange=function(t){var e=t;n.resolvePlugins().forEach((function(t){t.onChange&&(e=t.onChange(e,n.getPluginMethods()))})),n.props.onChange&&n.props.onChange(e)},n.getPlugins=function(){return[].concat(n.props.plugins)},n.getProps=function(){return l({},n.props)},n.getReadOnly=function(){return n.props.readOnly||n.state.readOnly},n.setReadOnly=function(t){t!==n.state.readOnly&&n.setState({readOnly:t})},n.getEditorRef=function(){return n.editor},n.getEditorState=function(){return n.props.editorState},n.getPluginMethods=function(){return{getPlugins:n.getPlugins,getProps:n.getProps,setEditorState:n.onChange,getEditorState:n.getEditorState,getReadOnly:n.getReadOnly,setReadOnly:n.setReadOnly,getEditorRef:n.getEditorRef}},n.createPluginHooks=function(){return b([n.props].concat(n.resolvePlugins()),n.getPluginMethods())},n.resolvePlugins=function(){var t=n.getPlugins();return!0===n.props.defaultKeyBindings&&t.push({keyBindingFn:g}),!0===n.props.defaultKeyCommands&&t.push({handleKeyCommand:m}),t},n.resolveCustomStyleMap=function(){return n.props.plugins.filter((function(t){return void 0!==t.customStyleMap})).map((function(t){return t.customStyleMap})).concat([n.props.customStyleMap]).reduce((function(t,e){return l({},t,e)}),{})},n.resolveblockRenderMap=function(){var t=n.props.plugins.filter((function(t){return void 0!==t.blockRenderMap})).reduce((function(t,e){return t.merge(e.blockRenderMap)}),Object(u.Map)({}));return n.props.defaultBlockRenderMap&&(t=r.DefaultDraftBlockRenderMap.merge(t)),n.props.blockRenderMap&&(t=t.merge(n.props.blockRenderMap)),t},n.resolveAccessibilityProps=function(){var t={};return n.resolvePlugins().forEach((function(e){if("function"===typeof e.getAccessibilityProps){var n=e.getAccessibilityProps(),r={};void 0===t.ariaHasPopup?r.ariaHasPopup=n.ariaHasPopup:"true"===n.ariaHasPopup&&(r.ariaHasPopup="true"),void 0===t.ariaExpanded?r.ariaExpanded=n.ariaExpanded:!0===n.ariaExpanded&&(r.ariaExpanded=!0),t=l({},t,n,r)}})),t},[n.props].concat(n.resolvePlugins()).forEach((function(t){t&&"function"===typeof t.initialize&&t.initialize(n.getPluginMethods())})),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.focus=function(){this.editor&&this.editor.focus()},a.blur=function(){this.editor&&this.editor.blur()},a.componentDidMount=function(){var t=v(this.props,this.getEditorState,this.onChange),e=r.EditorState.set(this.props.editorState,{decorator:t});this.onChange(h(e))},a.componentDidUpdate=function(t){var e=this.props,n=t.editorState.getDecorator(),i=e.editorState.getDecorator();if(n&&n!==i&&(!n||!i||_(n)!==_(i))){var o=r.EditorState.set(e.editorState,{decorator:n});this.onChange(h(o))}},a.componentWillUnmount=function(){var t=this;this.resolvePlugins().forEach((function(e){e.willUnmount&&e.willUnmount({getEditorState:t.getEditorState,setEditorState:t.onChange})}))},a.render=function(){var t=this,e=this.createPluginHooks(),n=this.resolveCustomStyleMap(),i=this.resolveAccessibilityProps(),a=this.resolveblockRenderMap(),s=this.props,u=(s.keyBindingFn,f(s,["keyBindingFn"]));return o.a.createElement(r.Editor,l({},u,i,e,{readOnly:this.props.readOnly||this.state.readOnly,customStyleMap:n,blockRenderMap:a,onChange:this.onChange,editorState:this.props.editorState,ref:function(e){t.editor=e}}))},i}(i.Component);x.propTypes={editorState:s.a.object.isRequired,onChange:s.a.func.isRequired,plugins:s.a.array,defaultKeyBindings:s.a.bool,defaultKeyCommands:s.a.bool,defaultBlockRenderMap:s.a.bool,customStyleMap:s.a.object,decorators:s.a.array},x.defaultProps={defaultBlockRenderMap:!0,defaultKeyBindings:!0,defaultKeyCommands:!0,customStyleMap:{},plugins:[],decorators:[]};e.a=x},function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var i=n(57),o=n(144),a="[-+]?\\d*\\.?\\d+",s=a+"%";function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var c=new RegExp("rgb"+u(a,a,a)),l=new RegExp("rgba"+u(a,a,a,a)),f=new RegExp("hsl"+u(a,s,s)),h=new RegExp("hsla"+u(a,s,s,a)),p=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,d=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,y=/^#([0-9a-fA-F]{6})$/,v=/^#([0-9a-fA-F]{8})$/,g=n(38);function m(t,e,n){var r=(1-Math.abs(2*n-1))*e,i=n-r/2,o=function(t,e,n){return t<60?[e,n,0]:t<120?[n,e,0]:t<180?[0,e,n]:t<240?[0,n,e]:t<300?[n,0,e]:[e,0,n]}(t,r,r*(1-Math.abs(t/60%2-1))),a=o[0],s=o[1],u=o[2];return Math.round(255*(a+i))<<24|Math.round(255*(s+i))<<16|Math.round(255*(u+i))<<8}function b(t){var e=parseInt(t,10);return e<0?0:e>255?255:e}function _(t){return(parseFloat(t)%360+360)%360/360}function x(t){var e=parseFloat(t);return e<0?0:e>1?255:Math.round(255*e)}function w(t){var e=parseFloat(t);return e<0?0:e>100?1:e/100}function E(t){var e=function(t){var e;return"number"===typeof t?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=y.exec(t))?parseInt(e[1]+"ff",16)>>>0:g.colorNames&&void 0!==g.colorNames[t]?g.colorNames[t]:(e=c.exec(t))?(b(e[1])<<24|b(e[2])<<16|b(e[3])<<8|255)>>>0:(e=l.exec(t))?(b(e[1])<<24|b(e[2])<<16|b(e[3])<<8|x(e[4]))>>>0:(e=p.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=v.exec(t))?parseInt(e[1],16)>>>0:(e=d.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=f.exec(t))?(255|m(_(e[1]),w(e[2]),w(e[3])))>>>0:(e=h.exec(t))?(m(_(e[1]),w(e[2]),w(e[3]))|x(e[4]))>>>0:null}(t);return null===e?t:"rgba("+((4278190080&(e=e||0))>>>24)+", "+((16711680&e)>>>16)+", "+((65280&e)>>>8)+", "+(255&e)/255+")"}var S,k=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,O=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,C=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,P=function(t,e,n,r,i){return"rgba("+Math.round(e)+", "+Math.round(n)+", "+Math.round(r)+", "+i+")"},T=function(t){S||(S=g.colorNames?new RegExp("("+Object.keys(g.colorNames).join("|")+")","g"):/^\b$/);var e=t.output.map((function(t){return Object(i.c)(t).replace(O,E).replace(S,E)})),n=e.map((function(t){return t.match(k).map(Number)})),a=n[0].map((function(t,e){return n.map((function(t){if(!(e in t))throw Error('The arity of each "output" value must be equal');return t[e]}))})).map((function(e){return Object(o.a)(r(r({},t),{output:e}))}));return function(t){var n=0;return e[0].replace(k,(function(){return String(a[n++](t))})).replace(C,P)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a}));var r=n(175),i=n(176),o=(1+Math.sqrt(5))/2;function a(t,e,n,o,a,s){for(var u,c,l,f,h,p,d,y,v,g,m,b=[],_=e.children,x=0,w=0,E=_.length,S=e.value;x<E;){l=a-n,f=s-o;do{h=_[w++].value}while(!h&&w<E);for(p=d=h,m=h*h*(g=Math.max(f/l,l/f)/(S*t)),v=Math.max(d/m,m/p);w<E;++w){if(h+=c=_[w].value,c<p&&(p=c),c>d&&(d=c),m=h*h*g,(y=Math.max(d/m,m/p))>v){h-=c;break}v=y}b.push(u={value:h,dice:l<f,children:_.slice(x,w)}),u.dice?Object(r.a)(u,n,o,a,S?o+=f*h/S:s):Object(i.a)(u,n,o,S?n+=l*h/S:a,s),S-=h,x=w}return b}e.a=function t(e){function n(t,n,r,i,o){a(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(o)},function(t,e,n){"use strict";n.d(e,"a",(function(){return ot})),n.d(e,"b",(function(){return N})),n.d(e,"c",(function(){return st}));var r=n(1),i=n.n(r),o=n(83),a=n.n(o),s=n(34),u=n(2),c=n.n(u),l=n(636),f=n.n(l),h=n(92),p=n.n(h);function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b="row",_="column",x="top-right",w="right",E="bottom-right",S="bottom",k="bottom-left",O="left",C="center",P="left-to-right",T="right-to-left",M="top-to-bottom",A="bottom-to-top",I=c.a.shape({on:c.a.oneOfType([c.a.oneOf(["hover"])]).isRequired,style:c.a.shape({itemTextColor:c.a.string,itemBackground:c.a.string,itemOpacity:c.a.number,symbolSize:c.a.number,symbolBorderWidth:c.a.number,symbolBorderColor:c.a.string}).isRequired}),j={symbolShape:c.a.oneOfType([c.a.string,c.a.func]),symbolSize:c.a.number,symbolSpacing:c.a.number,symbolBorderWidth:c.a.number,symbolBorderColor:c.a.string},R={onClick:c.a.func,onMouseEnter:c.a.func,onMouseLeave:c.a.func},D=c.a.shape({id:c.a.oneOfType([c.a.string,c.a.number]).isRequired,label:c.a.oneOfType([c.a.string,c.a.number]).isRequired,color:c.a.string.isRequired,fill:c.a.string}),N=v(v(v({data:c.a.arrayOf(D),anchor:c.a.oneOf(["top",x,w,E,S,k,O,"top-left",C]).isRequired,translateX:c.a.number,translateY:c.a.number,direction:c.a.oneOf([b,_]).isRequired,itemsSpacing:c.a.number,itemWidth:c.a.number.isRequired,itemHeight:c.a.number.isRequired,itemDirection:c.a.oneOf([P,T,M,A]),itemTextColor:c.a.string,itemBackground:c.a.string,itemOpacity:c.a.number},j),R),{},{effects:c.a.arrayOf(I)}),L={top:0,right:0,bottom:0,left:0},z=function(t){var e,n=t.direction,r=t.itemsSpacing,i=t.padding,o=t.itemCount,a=t.itemWidth,s=t.itemHeight;if(f()(i))e={top:i,right:i,bottom:i,left:i};else{if(!p()(i))throw new TypeError("Invalid property padding, must be one of: number, object");e=v(v({},L),i)}var u=e.left+e.right,c=e.top+e.bottom,l=a+u,h=s+c,d=(o-1)*r;return n===b?l=a*o+d+u:n===_&&(h=s*o+d+c),{width:l,height:h,padding:e}},F=function(t){var e=t.anchor,n=t.translateX,r=t.translateY,i=t.containerWidth,o=t.containerHeight,a=t.width,s=t.height,u=n,c=r;switch(e){case"top":u+=(i-a)/2;break;case x:u+=i-a;break;case w:u+=i-a,c+=(o-s)/2;break;case E:u+=i-a,c+=o-s;break;case S:u+=(i-a)/2,c+=o-s;break;case k:c+=o-s;break;case O:c+=(o-s)/2;break;case C:u+=(i-a)/2,c+=(o-s)/2}return{x:u,y:c}},B=function(t){var e,n,r,i,o,a,s=t.direction,u=t.justify,c=t.symbolSize,l=t.symbolSpacing,f=t.width,h=t.height;switch(s){case P:e=0,n=(h-c)/2,i=h/2,a="central",!0===u?(r=f,o="end"):(r=c+l,o="start");break;case T:e=f-c,n=(h-c)/2,i=h/2,a="central",!0===u?(r=0,o="start"):(r=f-c-l,o="end");break;case M:e=(f-c)/2,n=0,r=f/2,o="middle",!0===u?(i=h,a="alphabetic"):(i=c+l,a="text-before-edge");break;case A:e=(f-c)/2,n=h-c,r=f/2,o="middle",!0===u?(i=0,a="text-before-edge"):(i=h-c-l,a="alphabetic")}return{symbolX:e,symbolY:n,labelX:r,labelY:i,labelAnchor:o,labelAlignment:a}};function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e,n){return e&&q(t.prototype,e),n&&q(t,n),t}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function X(t){return(X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){return!e||"object"!==X(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t){return function(){var e,n=H(t);if(K()){var r=H(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Y(this,e)}}c.a.number.isRequired,c.a.number.isRequired,c.a.number.isRequired,c.a.string.isRequired,c.a.number.isRequired,c.a.string.isRequired;var $={borderWidth:0,borderColor:"transparent"},J=function(t){W(n,t);var e=Z(n);function n(){return U(this,n),e.apply(this,arguments)}return V(n,[{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.size,o=t.fill,a=t.borderWidth,s=t.borderColor;return i.a.createElement("circle",{r:r/2,cx:e+r/2,cy:n+r/2,fill:o,strokeWidth:a,stroke:s,style:{pointerEvents:"none"}})}}]),n}(r.PureComponent);J.defaultProps=v({},$);var Q=function(t){W(n,t);var e=Z(n);function n(){return U(this,n),e.apply(this,arguments)}return V(n,[{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.size,o=t.fill,a=t.borderWidth,s=t.borderColor;return i.a.createElement("g",{transform:"translate(".concat(e,",").concat(n,")")},i.a.createElement("path",{d:"\n                    M".concat(r/2," 0\n                    L").concat(.8*r," ").concat(r/2,"\n                    L").concat(r/2," ").concat(r,"\n                    L").concat(.2*r," ").concat(r/2,"\n                    L").concat(r/2," 0\n                "),fill:o,strokeWidth:a,stroke:s,style:{pointerEvents:"none"}}))}}]),n}(r.PureComponent);Q.defaultProps=v({},$);var tt=function(t){W(n,t);var e=Z(n);function n(){return U(this,n),e.apply(this,arguments)}return V(n,[{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.size,o=t.fill,a=t.borderWidth,s=t.borderColor;return i.a.createElement("rect",{x:e,y:n,fill:o,strokeWidth:a,stroke:s,width:r,height:r,style:{pointerEvents:"none"}})}}]),n}(r.PureComponent);tt.defaultProps=v({},$);var et=function(t){W(n,t);var e=Z(n);function n(){return U(this,n),e.apply(this,arguments)}return V(n,[{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.size,o=t.fill,a=t.borderWidth,s=t.borderColor;return i.a.createElement("g",{transform:"translate(".concat(e,",").concat(n,")")},i.a.createElement("path",{d:"\n                M".concat(r/2," 0\n                L").concat(r," ").concat(r,"\n                L0 ").concat(r,"\n                L").concat(r/2," 0\n            "),fill:o,strokeWidth:a,stroke:s,style:{pointerEvents:"none"}}))}}]),n}(r.PureComponent);et.defaultProps=v({},$);var nt={circle:J,diamond:Q,square:tt,triangle:et},rt=function(t){var e,n=t.x,o=t.y,u=t.width,c=t.height,l=t.data,f=t.direction,h=t.justify,p=t.textColor,d=t.background,y=t.opacity,g=t.symbolShape,b=t.symbolSize,_=t.symbolSpacing,x=t.symbolBorderWidth,w=t.symbolBorderColor,E=t.onClick,S=t.onMouseEnter,k=t.onMouseLeave,O=t.effects,C=m(Object(r.useState)({}),2),P=C[0],T=C[1],M=Object(s.t)(),A=Object(r.useCallback)((function(t){return E&&E(l,t)}),[E,l]),I=Object(r.useCallback)((function(t){if(O.length>0){var e=O.filter((function(t){return"hover"===t.on})).reduce((function(t,e){return v(v({},t),e.style)}),{});T(e)}void 0!==S&&S(l,t)}),[S,l,O]),j=Object(r.useCallback)((function(t){if(O.length>0){var e=O.filter((function(t){return"hover"!==t.on})).reduce((function(t,e){return v(v({},t),e.style)}),{});T(e)}void 0!==k&&k(l,t)}),[k,l,O]),R=B({direction:f,justify:h,symbolSize:P.symbolSize||b,symbolSpacing:_,width:u,height:c}),D=R.symbolX,N=R.symbolY,L=R.labelX,z=R.labelY,F=R.labelAnchor,U=R.labelAlignment,q=[E,S,k].some((function(t){return void 0!==t}));return e=a()(g)?g:nt[g],i.a.createElement("g",{transform:"translate(".concat(n,",").concat(o,")"),style:{opacity:void 0!==P.itemOpacity?P.itemOpacity:y}},i.a.createElement("rect",{width:u,height:c,fill:P.itemBackground||d,style:{cursor:q?"pointer":"auto"},onClick:A,onMouseEnter:I,onMouseLeave:j}),i.a.createElement(e,{id:l.id,x:D,y:N,size:P.symbolSize||b,fill:l.fill||l.color,borderWidth:void 0!==P.symbolBorderWidth?P.symbolBorderWidth:x,borderColor:P.symbolBorderColor||w}),i.a.createElement("text",{textAnchor:F,style:v(v({},M.legends.text),{},{fill:P.itemTextColor||M.legends.text.fill||p,dominantBaseline:U,pointerEvents:"none",userSelect:"none"}),x:L,y:z},l.label))};rt.displayName="LegendSvgItem",rt.defaultProps={direction:"left-to-right",justify:!1,textColor:"black",background:"transparent",opacity:1,symbolShape:"square",symbolSize:16,symbolSpacing:8,symbolBorderWidth:0,symbolBorderColor:"transparent",effects:[]};var it=function(t){var e=t.data,n=t.x,r=t.y,o=t.direction,a=t.padding,s=t.justify,u=t.effects,c=t.itemWidth,l=t.itemHeight,f=t.itemDirection,h=t.itemsSpacing,p=t.itemTextColor,d=t.itemBackground,y=t.itemOpacity,v=t.symbolShape,g=t.symbolSize,m=t.symbolSpacing,b=t.symbolBorderWidth,_=t.symbolBorderColor,x=t.onClick,w=t.onMouseEnter,E=t.onMouseLeave,S=z({itemCount:e.length,itemWidth:c,itemHeight:l,itemsSpacing:h,direction:o,padding:a}).padding,k=0,O=0;return"row"===o?k=c+h:"column"===o&&(O=l+h),i.a.createElement("g",{transform:"translate(".concat(n,",").concat(r,")")},e.map((function(t,e){return i.a.createElement(rt,{key:e,data:t,x:e*k+S.left,y:e*O+S.top,width:c,height:l,direction:f,justify:s,effects:u,textColor:p,background:d,opacity:y,symbolShape:v,symbolSize:g,symbolSpacing:m,symbolBorderWidth:b,symbolBorderColor:_,onClick:x,onMouseEnter:w,onMouseLeave:E})})))};it.defaultProps={padding:0,justify:!1,itemsSpacing:0,itemDirection:"left-to-right",itemTextColor:"black",itemBackground:"transparent",itemOpacity:1};var ot=function(t){var e=t.data,n=t.containerWidth,r=t.containerHeight,o=t.translateX,a=t.translateY,s=t.anchor,u=t.direction,c=t.padding,l=t.justify,f=t.itemsSpacing,h=t.itemWidth,p=t.itemHeight,d=t.itemDirection,y=t.itemTextColor,v=t.itemBackground,g=t.itemOpacity,m=t.symbolShape,b=t.symbolSize,_=t.symbolSpacing,x=t.symbolBorderWidth,w=t.symbolBorderColor,E=t.onClick,S=t.onMouseEnter,k=t.onMouseLeave,O=t.effects,C=z({itemCount:e.length,itemsSpacing:f,itemWidth:h,itemHeight:p,direction:u,padding:c}),P=C.width,T=C.height,M=F({anchor:s,translateX:o,translateY:a,containerWidth:n,containerHeight:r,width:P,height:T}),A=M.x,I=M.y;return i.a.createElement(it,{data:e,x:A,y:I,direction:u,padding:c,justify:l,effects:O,itemsSpacing:f,itemWidth:h,itemHeight:p,itemDirection:d,itemTextColor:y,itemBackground:v,itemOpacity:g,symbolShape:m,symbolSize:b,symbolSpacing:_,symbolBorderWidth:x,symbolBorderColor:w,onClick:E,onMouseEnter:S,onMouseLeave:k})};ot.defaultProps={translateX:0,translateY:0,itemsSpacing:it.defaultProps.itemsSpacing,padding:it.defaultProps.padding};var at={align:{start:"left",middle:"center",end:"right"},baseline:{hanging:"top",middle:"middle",central:"middle",baseline:"bottom"}},st=function(t,e){var n=e.data,r=e.containerWidth,i=e.containerHeight,o=e.translateX,a=void 0===o?ot.defaultProps.translateX:o,s=e.translateY,u=void 0===s?ot.defaultProps.translateY:s,c=e.anchor,l=e.direction,f=e.padding,h=void 0===f?it.defaultProps.padding:f,p=e.justify,d=void 0===p?rt.defaultProps.justify:p,y=e.itemsSpacing,v=void 0===y?it.defaultProps.itemsSpacing:y,g=e.itemWidth,m=e.itemHeight,x=e.itemDirection,w=void 0===x?rt.defaultProps.direction:x,E=e.itemTextColor,S=void 0===E?it.defaultProps.textColor:E,k=e.symbolSize,O=void 0===k?rt.defaultProps.symbolSize:k,C=e.symbolSpacing,P=void 0===C?rt.defaultProps.symbolSpacing:C,T=e.theme,M=z({itemCount:n.length,itemWidth:g,itemHeight:m,itemsSpacing:v,direction:l,padding:h}),A=M.width,I=M.height,j=M.padding,R=F({anchor:c,translateX:a,translateY:u,containerWidth:r,containerHeight:i,width:A,height:I}),D=R.x,N=R.y,L=0,U=0;l===b?L=g+v:l===_&&(U=m+v),t.save(),t.translate(D,N),t.font="".concat(T.legends.text.fontSize,"px ").concat(T.legends.text.fontFamily||"sans-serif"),n.forEach((function(e,n){var r=n*L+j.left,i=n*U+j.top,o=B({direction:w,justify:d,symbolSize:O,symbolSpacing:P,width:g,height:m}),a=o.symbolX,s=o.symbolY,u=o.labelX,c=o.labelY,l=o.labelAnchor,f=o.labelAlignment;t.fillStyle=e.color,t.fillRect(r+a,i+s,O,O),t.textAlign=at.align[l],t.textBaseline=at.baseline[f],t.fillStyle=S||T.legends.text.fill,t.fillText(e.label,r+u,i+c)})),t.restore()}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));var r=n(29),i=n(28),o=n(13),a=n(2),s=n.n(a),u=n(84);var c={container:s.a.object,gl:s.a.object,mapboxApiAccessToken:s.a.string,mapboxApiUrl:s.a.string,attributionControl:s.a.bool,preserveDrawingBuffer:s.a.bool,reuseMaps:s.a.bool,transformRequest:s.a.func,mapOptions:s.a.object,mapStyle:s.a.oneOfType([s.a.string,s.a.object]),visible:s.a.bool,asyncRender:s.a.bool,onLoad:s.a.func,onError:s.a.func,width:s.a.number,height:s.a.number,viewState:s.a.object,longitude:s.a.number,latitude:s.a.number,zoom:s.a.number,bearing:s.a.number,pitch:s.a.number,altitude:s.a.number},l={container:u.a.body,mapboxApiAccessToken:function(){var e=null;if("undefined"!==typeof window&&window.location){var n=window.location.search.match(/access_token=([^&\/]*)/);e=n&&n[1]}e||"undefined"===typeof t||(e=e||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MapboxAccessToken||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MAPBOX_ACCESS_TOKEN);return e||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:function(){},onError:function(t){t&&console.error(t.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&s.a.checkPropTypes(c,t,"prop",e)}var h=function(){function t(e){var n=this;if(Object(r.a)(this,t),Object(o.a)(this,"mapboxgl",void 0),Object(o.a)(this,"props",l),Object(o.a)(this,"_map",null),Object(o.a)(this,"width",0),Object(o.a)(this,"height",0),Object(o.a)(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),!e.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=e.mapboxgl,t.initialized||(t.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(e)}return Object(i.a)(t,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(t){return this._update(this.props,t),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(e){this._map=t.savedMap;var n=this._map.getContainer(),r=e.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,t.savedMap=null,e.mapStyle&&this._map.setStyle(e.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(e){if(e.reuseMaps&&t.savedMap)this._reuse(e);else{if(e.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,e.gl}}var r={container:e.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:e.mapStyle,interactive:!1,trackResize:!1,attributionControl:e.attributionControl,preserveDrawingBuffer:e.preserveDrawingBuffer};e.transformRequest&&(r.transformRequest=e.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,e.mapOptions)),this._map.once("load",e.onLoad),this._map.on("error",e.onError)}return this}},{key:"_destroy",value:function(){this._map&&(t.savedMap?this._map.remove():(t.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(t){var e=this;f(t=Object.assign({},l,t),"Mapbox"),this.mapboxgl.accessToken=t.mapboxApiAccessToken||l.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=t.mapboxApiUrl,this._create(t);var n=t.container;Object.defineProperty(n,"offsetWidth",{get:function(){return e.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return e.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return e.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return e.height}});var r=this._map.getCanvas();r&&(r.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function(t,e){if(this._map){f(e=Object.assign({},this.props,e),"Mapbox");var n=this._updateMapViewport(t,e),r=this._updateMapSize(t,e);e.asyncRender||!n&&!r||this.redraw(),this.props=e}}},{key:"_updateMapSize",value:function(t,e){var n=t.width!==e.width||t.height!==e.height;return n&&(this.width=e.width,this.height=e.height,this.resize()),n}},{key:"_updateMapViewport",value:function(t,e){var n=this._getViewState(t),r=this._getViewState(e),i=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),i}},{key:"_getViewState",value:function(t){var e=t.viewState||t,n=e.longitude,r=e.latitude,i=e.zoom,o=e.pitch,a=void 0===o?0:o,s=e.bearing,u=void 0===s?0:s,c=e.altitude;return{longitude:n,latitude:r,zoom:i,pitch:a,bearing:u,altitude:void 0===c?1.5:c}}},{key:"_checkStyleSheet",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if("undefined"!==typeof u.a)try{var e=u.a.createElement("div");e.className="mapboxgl-map",e.style.display="none",u.a.body.appendChild(e);var n="static"!==window.getComputedStyle(e).position;if(!n){var r=u.a.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(t,"/mapbox-gl.css")),u.a.head.appendChild(r)}}catch(i){}}},{key:"_viewStateToMapboxProps",value:function(t){return{center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}}}]),t}();Object(o.a)(h,"initialized",!1),Object(o.a)(h,"propTypes",c),Object(o.a)(h,"defaultProps",l),Object(o.a)(h,"savedMap",null)}).call(this,n(153))},function(t,e,n){var r,i;void 0===(i="function"===typeof(r={schemeGroups:{sequential:["BuGn","BuPu","GnBu","OrRd","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd"],singlehue:["Blues","Greens","Greys","Oranges","Purples","Reds"],diverging:["BrBG","PiYG","PRGn","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral"],qualitative:["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"]},YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}})?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){"use strict";n.d(e,"c",(function(){return $})),n.d(e,"a",(function(){return J}));var r=n(315),i=n(642),o=n(641),a=function(t){return new Array(t.length)};function s(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}s.prototype={constructor:s,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function u(t,e,n,r,i,o){for(var a,u=0,c=e.length,l=o.length;u<l;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new s(t,o[u]);for(;u<c;++u)(a=e[u])&&(i[u]=a)}function c(t,e,n,r,i,o,a){var u,c,l,f={},h=e.length,p=o.length,d=new Array(h);for(u=0;u<h;++u)(c=e[u])&&(d[u]=l="$"+a.call(c,c.__data__,u,e),l in f?i[u]=c:f[l]=c);for(u=0;u<p;++u)(c=f[l="$"+a.call(t,o[u],u,o)])?(r[u]=c,c.__data__=o[u],f[l]=null):n[u]=new s(t,o[u]);for(u=0;u<h;++u)(c=e[u])&&f[d[u]]===c&&(i[u]=c)}function l(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var f=n(314);function h(t){return function(){this.removeAttribute(t)}}function p(t){return function(){this.removeAttributeNS(t.space,t.local)}}function d(t,e){return function(){this.setAttribute(t,e)}}function y(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function v(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function g(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var m=n(643);function b(t){return function(){delete this[t]}}function _(t,e){return function(){this[t]=e}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function w(t){return t.trim().split(/^|\s+/)}function E(t){return t.classList||new S(t)}function S(t){this._node=t,this._names=w(t.getAttribute("class")||"")}function k(t,e){for(var n=E(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function O(t,e){for(var n=E(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function C(t){return function(){k(this,t)}}function P(t){return function(){O(this,t)}}function T(t,e){return function(){(e.apply(this,arguments)?k:O)(this,t)}}S.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function M(){this.textContent=""}function A(t){return function(){this.textContent=t}}function I(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function j(){this.innerHTML=""}function R(t){return function(){this.innerHTML=t}}function D(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function N(){this.nextSibling&&this.parentNode.appendChild(this)}function L(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var z=n(212);function F(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===z.b&&e.documentElement.namespaceURI===z.b?e.createElement(t):e.createElementNS(n,t)}}function B(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var U=function(t){var e=Object(f.a)(t);return(e.local?B:F)(e)};function q(){return null}function V(){var t=this.parentNode;t&&t.removeChild(this)}function G(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function W(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var H=n(317),K=n(316);function X(t,e,n){var r=Object(K.a)(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Y(t,e){return function(){return X(this,t,e)}}function Z(t,e){return function(){return X(this,t,e.apply(this,arguments))}}var $=[null];function J(t,e){this._groups=t,this._parents=e}function Q(){return new J([[document.documentElement]],$)}J.prototype=Q.prototype={constructor:J,select:function(t){"function"!==typeof t&&(t=Object(r.a)(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a,s,u=e[o],c=u.length,l=i[o]=new Array(c),f=0;f<c;++f)(a=u[f])&&(s=t.call(a,a.__data__,f,u))&&("__data__"in a&&(s.__data__=a.__data__),l[f]=s);return new J(i,this._parents)},selectAll:function(t){"function"!==typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,r=[],o=[],a=0;a<n;++a)for(var s,u=e[a],c=u.length,l=0;l<c;++l)(s=u[l])&&(r.push(t.call(s,s.__data__,l,u)),o.push(s));return new J(r,o)},filter:function(t){"function"!==typeof t&&(t=Object(o.a)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,s=e[i],u=s.length,c=r[i]=[],l=0;l<u;++l)(a=s[l])&&t.call(a,a.__data__,l,s)&&c.push(a);return new J(r,this._parents)},data:function(t,e){if(!t)return v=new Array(this.size()),h=-1,this.each((function(t){v[++h]=t})),v;var n,r=e?c:u,i=this._parents,o=this._groups;"function"!==typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),f=new Array(a),h=0;h<a;++h){var p=i[h],d=o[h],y=d.length,v=t.call(p,p&&p.__data__,h,i),g=v.length,m=l[h]=new Array(g),b=s[h]=new Array(g);r(p,d,m,b,f[h]=new Array(y),v,e);for(var _,x,w=0,E=0;w<g;++w)if(_=m[w]){for(w>=E&&(E=w+1);!(x=b[E])&&++E<g;);_._next=x||null}}return(s=new J(s,i))._enter=l,s._exit=f,s},enter:function(){return new J(this._enter||this._groups.map(a),this._parents)},exit:function(){return new J(this._exit||this._groups.map(a),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new J(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=l);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),f=0;f<u;++f)(a=s[f])&&(c[f]=a);c.sort(e)}return new J(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Object(f.a)(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?p:h:"function"===typeof e?n.local?g:v:n.local?y:d)(n,e))},style:m.a,property:function(t,e){return arguments.length>1?this.each((null==e?b:"function"===typeof e?x:_)(t,e)):this.node()[t]},classed:function(t,e){var n=w(t+"");if(arguments.length<2){for(var r=E(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?T:e?C:P)(n,e))},text:function(t){return arguments.length?this.each(null==t?M:("function"===typeof t?I:A)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?j:("function"===typeof t?D:R)(t)):this.node().innerHTML},raise:function(){return this.each(N)},lower:function(){return this.each(L)},append:function(t){var e="function"===typeof t?t:U(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:U(t),i=null==e?q:"function"===typeof e?e:Object(r.a)(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(V)},clone:function(t){return this.select(t?W:G)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:H.a,dispatch:function(t,e){return this.each(("function"===typeof e?Z:Y)(t,e))}};e.b=Q},function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));var r=n(116);function i(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}var o=n(129);e.a=function t(e){var n=Object(o.b)(e);function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),a=n(t.g,e.g),s=n(t.b,e.b),u=Object(o.a)(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=a(e),t.b=s(e),t.opacity=u(e),t+""}}return i.gamma=t,i}(1);function a(t){return function(e){var n,i,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)i=Object(r.f)(e[n]),a[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}var s=a((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],a=t[r+1],s=r>0?t[r-1]:2*o-a,u=r<e-1?t[r+2]:2*a-o;return i((n-r/e)*e,s,o,a,u)}}));a((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],a=t[r%e],s=t[(r+1)%e],u=t[(r+2)%e];return i((n-r/e)*e,o,a,s,u)}}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s}));var r=n(20);function i(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}e.a=i(Object(r.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o=i(Object(r.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a=i(Object(r.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),s=i(Object(r.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},,,,,,,,function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,i=Object.prototype.toString,o=function(t){return!(r&&t&&"object"===typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i.call(t)},a=function(t){return!!o(t)||null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Array]"!==i.call(t)&&"[object Function]"===i.call(t.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,t.exports=s?o:a},function(t,e,n){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=0);return e},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n,i,o,a,s){var u=n+(-o*(e-i)+-a*n)*t,c=e+u*t;if(Math.abs(u)<s&&Math.abs(c-i)<s)return r[0]=i,r[1]=0,r;return r[0]=c,r[1]=u,r};var r=[0,0];t.exports=e.default},function(t,e,n){(function(e){(function(){var n,r,i;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-i)/1e6},r=e.hrtime,i=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})()):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(153))},function(t,e,n){(function(e){for(var r=n(710),i="undefined"===typeof window?e:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],u=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!u){var l=0,f=0,h=[];s=function(t){if(0===h.length){var e=r(),n=Math.max(0,16.666666666666668-(e-l));l=n+e,setTimeout((function(){var t=h.slice(0);h.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(l)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return h.push({handle:++f,callback:t,cancelled:!1}),f},u=function(t){for(var e=0;e<h.length;e++)h[e].handle===t&&(h[e].cancelled=!0)}}t.exports=function(t){return s.call(i,t)},t.exports.cancel=function(){u.apply(i,arguments)},t.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=s,t.cancelAnimationFrame=u}}).call(this,n(53))},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(0!==n[r])return!1;var i="number"===typeof e[r]?e[r]:e[r].val;if(t[r]!==i)return!1}return!0},t.exports=e.default},function(t,e,n){var r=n(154)(n(106),"Map");t.exports=r},function(t,e,n){var r=n(733),i=n(740),o=n(742),a=n(743),s=n(744);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(480);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(484);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(487)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){var r=n(750),i=n(186),o=n(258),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(349),i=n(217),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(260),i=n(491),o=n(492);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(66),i=n(261),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(348),i=n(766),o=n(767);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(774),i=n(88);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(501),i=n(502),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e,n){var r=n(793),i=n(796),o=n(260),a=n(66),s=n(797);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){"use strict";function r(t,e){return c(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||s(t,e)||a()}function i(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function o(t){return c(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||s(t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.composeTheme=e.makeProxy=void 0;var l=function(t,e){var n=o(t.split(/(?<!^)(?=[A-Z])/)),r=n[0],i=n.slice(1);return e.$compositions&&e.$compositions[r]?e.$compositions[r].reduce((function(t,e){var n,r=e.$default||"",o=function(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;a in e&&(r=e[a])}}catch(u){o.e(u)}finally{o.f()}return t.push(r),t}),[]).filter(Boolean).join(" "):e[r]||""},f={get:function(t,e,n){return e in t||(t[e]=l(e,t)),t[e]}};e.makeProxy=function(t){return new Proxy(t,f)};e.composeTheme=function(t){return new Proxy(function(t){var e=JSON.parse(JSON.stringify(t)),n=function(t){if("$compositions"===t)return"continue";var n=e[t].split(/\s+/),i=/^[@](.+)$/;e[t]=n.map((function(t){var n=i.exec(t);if(n){var o=r(n,2)[1];return e[o]}return t})).join(" ")};for(var o in e)n(o);return e.$compositions&&function(){var t=e.$compositions,n=t.$defaults,o=void 0===n?[]:n,a=i(t,["$defaults"]);for(var s in a)e.$compositions[s].forEach((function(t){var n=function(n){var i=/^[@](.+)$/;t[n]=t[n].split(/\s+/).map((function(t){var n=i.exec(t);if(n){var o=r(n,2)[1];return e[o]}return t})).join(" ");var a=/^\$(.+)$/.exec(t[n]);if(a){var s=r(a,2)[1];s in e&&(t[n]=e[s],o.push(s))}};for(var i in t)n(i)}));o.forEach((function(t){e[t]=l(t,e)}))}(),e}(t),f)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(31);e.default=function(t){return(0,r.connect)((function(t,e){return{user:t.user}}),null)(t)}},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var i={Header:!0,HeaderComponent:!0,Content:!0,FormSection:!0,InputContainer:!0,List:!0,ListItemRemovable:!0,ListItemAction:!0,NavMenu:!0,NavMenuItem:!0,NavMenuSeparator:!0,NavItem:!0,Table:!0,SideNav:!0,TopNav:!0,DndList:!0,Layouts:!0,Loading:!0,ScalableLoading:!0,AvlModal:!0};Object.defineProperty(e,"Header",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"HeaderComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Content",{enumerable:!0,get:function(){return s.Content}}),Object.defineProperty(e,"FormSection",{enumerable:!0,get:function(){return u.FormSection}}),Object.defineProperty(e,"InputContainer",{enumerable:!0,get:function(){return u.InputContainer}}),Object.defineProperty(e,"List",{enumerable:!0,get:function(){return c.List}}),Object.defineProperty(e,"ListItemRemovable",{enumerable:!0,get:function(){return c.ListItemRemovable}}),Object.defineProperty(e,"ListItemAction",{enumerable:!0,get:function(){return c.ListItemAction}}),Object.defineProperty(e,"NavMenu",{enumerable:!0,get:function(){return l.NavMenu}}),Object.defineProperty(e,"NavMenuItem",{enumerable:!0,get:function(){return l.NavMenuItem}}),Object.defineProperty(e,"NavMenuSeparator",{enumerable:!0,get:function(){return l.NavMenuSeparator}}),Object.defineProperty(e,"NavItem",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"SideNav",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"TopNav",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"DndList",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"Layouts",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"Loading",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"ScalableLoading",{enumerable:!0,get:function(){return g.ScalableLoading}}),Object.defineProperty(e,"AvlModal",{enumerable:!0,get:function(){return w.default}});var o=S(n(834)),a=S(n(517)),s=n(836),u=n(837),c=n(838),l=n(839),f=S(n(368)),h=S(n(841)),p=S(n(519)),d=S(n(520)),y=S(n(844)),v=S(n(521)),g=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=E();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(369)),m=n(847);Object.keys(m).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===m[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}}))}));var b=n(155);Object.keys(b).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===b[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}}))}));var _=n(134);Object.keys(_).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===_[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return _[t]}}))}));var x=n(518);Object.keys(x).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===x[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return x[t]}}))}));var w=S(n(935));function E(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return E=function(){return t},t}function S(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n(1)),i=n(46),o=u(n(840)),a=n(61),s=u(n(5));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=t.to,n=t.icon,u=t.customTheme,c=t.className,l=void 0===c?"":c,f=t.children,h=t.type,p=void 0===h?"side":h,d=Object.assign({},(0,a.useTheme)(),u),y="side"===p?d.navitemSide:d.navitemTop,v="side"===p?d.navitemSideActive:d.navitemTopActive,g=(0,i.useRouteMatch)({path:(0,s.default)(e,"pathname",e),exact:!0})?v:y;return r.default.createElement(i.Link,{to:e,className:"".concat(l," ").concat(g)},n?r.default.createElement(o.default,{icon:n,className:d.menuIcon,showBlank:"side"===p}):"",f)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScalableLoading=e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};var o=function(t){var e=t.color;return i.default.createElement("svg",{width:"100",height:"100"},i.default.createElement("path",{fill:e,d:"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3 c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z"},i.default.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"2s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})),i.default.createElement("path",{fill:e,d:"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7 c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z"},i.default.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"-360 50 50",repeatCount:"indefinite"})),i.default.createElement("path",{fill:e,d:"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5 L82,35.7z"},i.default.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"2s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})))};e.default=function(t){var e=t.width,n=void 0===e?"100vw":e,r=t.height,a=void 0===r?"100vh":r,s=t.color,u=void 0===s?"#005bcc":s;return i.default.createElement("div",{style:{width:n,height:a,display:"flex",justifyContent:"center",alignItems:"center"}},i.default.createElement(o,{color:u}))};e.ScalableLoading=function(t){var e=t.scale,n=void 0===e?1:e,r=t.color,a=void 0===r?"#005bcc":r,s=100*n;return i.default.createElement("div",{style:{position:"relative",width:"".concat(s,"px"),height:"".concat(s,"px"),display:"flex",alignItems:"center",justifyContent:"center"}},i.default.createElement("div",{style:{display:"flex",transform:"scale(".concat(n,", ").concat(n,")"),width:"100px",height:"100px"}},i.default.createElement(o,{color:a})))}},function(t,e,n){"use strict";var r=n(98),i=n(268),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.defineProperty%",!0);if(u)try{u({},"a",{value:1})}catch(l){u=null}t.exports=function(){return s(r,a,arguments)};var c=function(){return s(r,o,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c},function(t,e,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(P){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=n(99)(),h=Object.getPrototypeOf||function(t){return t.__proto__},p=s("async function* () {}"),d=p?p.prototype:r,y=d?d.prototype:r,v="undefined"===typeof Uint8Array?r:h(Uint8Array),g={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":s("async function () {}"),"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":y?h(y):r,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":s("function* () {}"),"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":v,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(98),_=n(216),x=b.call(Function.call,Array.prototype.concat),w=b.call(Function.apply,Array.prototype.splice),E=b.call(Function.call,String.prototype.replace),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,O=function(t){var e=[];return E(t,S,(function(t,n,r,i){e[e.length]=r?E(i,k,"$1"):n||t})),e},C=function(t,e){var n,r=t;if(_(m,r)&&(r="%"+(n=m[r])[0]+"%"),_(g,r)){var o=g[r];if("undefined"===typeof o&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new a('"allowMissing" argument must be a boolean');var n=O(t),r=n.length>0?n[0]:"",i=C("%"+r+"%",e),o=i.name,s=i.value,c=!1,l=i.alias;l&&(r=l[0],w(n,x([0,1],l)));for(var f=1,h=!0;f<n.length;f+=1){var p=n[f];if("constructor"!==p&&h||(c=!0),_(g,o="%"+(r+="."+p)+"%"))s=g[o];else if(null!=s){if(u&&f+1>=n.length){var d=u(s,p);if(h=!!d,!e&&!(p in s))throw new a("base intrinsic for "+t+" exists, but the property is not available.");s=h&&"get"in d&&!("originalValue"in d.get)?d.get:s[p]}else h=_(s,p),s=s[p];h&&!c&&(g[o]=s)}}return s}},function(t,e,n){"use strict";function r(t,e,n,r,i){this.src=t,this.env=r,this.options=n,this.parser=e,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}r.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},r.prototype.push=function(t){this.pending&&this.pushPending(),this.tokens.push(t),this.pendingLevel=this.level},r.prototype.cacheSet=function(t,e){for(var n=this.cache.length;n<=t;n++)this.cache.push(0);this.cache[t]=e},r.prototype.cacheGet=function(t){return t<this.cache.length?this.cache[t]:0},t.exports=r},function(t,e){t.exports=Date.now},function(t,e){t.exports=0},function(t,e){t.exports=1},function(t,e,n){var r=n(224);t.exports=function t(e,n,i){for(var o=e,a=!0;a&&i<n.length;++i){var s=n[i];if(s&&"object"===typeof s){var u={},c=r(s,u),l=i+1;do{var f=o[c];(a=void 0!==f)&&(a=t(f,n,l)),c=r(s,u)}while(a&&!u.done);break}a=void 0!==(o=o[s])}return a}},function(t,e,n){"use strict";function r(t,e){return"object"!==typeof e||null===e||Array.isArray(e)?e:Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{})}function i(t){if("string"===typeof t&&"{"===t[0]){var e;try{e=JSON.parse(t)}catch(n){return}if(JSON.stringify(e,r)===t)return e}}t.exports.toJsonKey=function(t){if("[object Object]"===Object.prototype.toString.call(t)){var e=JSON.stringify(t,r);if("{"===e[0])return e}throw new TypeError("Only plain objects can be converted to JSON keys")},t.exports.isJsonKey=function(t){return"undefined"!==typeof i(t)},t.exports.maybeJsonKey=i},function(t,e){t.exports="atom"},function(t,e,n){var r=n(222),i=n(273),o=n(380);t.exports=function t(e,n,a,s,u){if(o(e,n,a,s)){if(void 0!==e.$type&&u&&e.$_absolutePath&&(u.hasInvalidatedResult=!0),null==e.$type)for(var c in e)c[0]!==i&&r(e,c)&&t(e[c],e,c,s,u);return!0}return!1}},function(t,e,n){var r=n(81),i=n(538),o=n(68),a=n(960),s=n(961);t.exports=function(t,e,n,u){if(o(t)){var c=t.$type;return c&&(c===r&&s(t),i(u,t)),a(t),e[n]=t.$_parent=void 0,!0}return!1}},function(t,e,n){var r=n(160),i=n(382),o=n(81),a=n(378),s=n(194);t.exports=function(t,e,n,u,c,l,f,h,p,d){if(e&&r(t._root,e),n){var y,v,g,m,b,_,x,w=null,E=!1,S=e&&e.$type,k=e&&e.value;if(void 0===k&&(E=t._materialized),E)x={$type:a};else if(t._boxed)x=i(e);else if(d||S!==o)if(S===o||S===s)x=d?i(e):k;else if(d){var O=k&&"object"===typeof k,C=!e||!e.$_modelCreated;x=O||C?i(e):k}else x=e&&void 0===S&&void 0===k?{}:k;else x=void 0;var P=!1;if(d){for((b=n.jsonGraph)||(P=!0,b=n.jsonGraph={},n.paths=[]),y=0,v=p-1;y<v;y++)b[m=h[y]]||(P=!0,b[m]={}),b=b[m];b[m=h[y]]=E?{$type:a}:x,f&&n.paths.push(f.slice(0,u))}else if(0===u)P=!0,n.json=x;else{for((b=n.json)||(P=!0,b=n.json={}),y=0;y<u-1;y++)b[g=f[y]]||(P=!0,b[g]=l[y]),w=b,_=g,b=b[g];g=f[y],void 0!==x&&(null!=g?(P=!0,b[g]||(b[g]=x)):w[_]=x)}c&&(c.hasValues=P)}}},function(t,e,n){var r=n(272);t.exports=function(t){if(void 0===t)return t;var e={};for(var n in t)0!==n.lastIndexOf(r,0)&&(e[n]=t[n]);return e}},function(t,e,n){function r(t,e){var n=new Error("The boundPath of the model is not valid since a value or error was found before the path end.");return n.name="InvalidModelError",n.boundPath=t,n.shortedPath=e,Object.setPrototypeOf&&Object.setPrototypeOf(n,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(n,r),n}n(195)(r),t.exports=r},function(t,e,n){var r=n(380),i=n(225);t.exports=function(t,e,n,o,a,s){var u=n,c=a;"number"!==typeof c&&(c=.75);var l,f,h,p="number"===typeof s,d=o*c;for(f=e.pop();f;)u-=h=f.$size||0,!0===p?i(f,h,t,s):(l=f.$_parent)&&r(f,l,f.$_key,t),f=e.pop();if(u>=o){var y=t.$_tail;for(f=y;u>=d&&f;)y=y.$_prev,u-=h=f.$size||0,!0===p&&i(f,h,t,s),f=y;t.$_tail=t.$_prev=f,null==f?t.$_head=t.$_next=void 0:f.$_next=void 0}}},function(t,e,n){var r=Array.isArray,i=n(68);t.exports=function(t){return i(t)&&r(t.paths)&&(i(t.jsonGraph)||i(t.jsong)||i(t.json)||i(t.values)||i(t.value))}},function(t,e,n){var r=n(223),i=n(273),o=n(81),a=n(159),s=Array.isArray,u=n(222),c=n(68),l=n(158),f=n(135),h=n(156),p=n(136),d=n(193),y=n(549),v=n(275);function g(t,e,n,r,o,a,l,f,h,p,d,y,v,m){var _=function(t){if(c(t)&&!t.$type){var e=[],n=0;for(var r in s(t)&&(e[n++]="length"),t)r[0]!==i&&u(t,r)&&(e[n++]=r);return e}return}(t);if(_&&_.length)for(var x=0,w=_.length,E=h.index;;){var S=_[x],k=t[S],O=c(k)&&!k.$type;f.depth=e;var C=b(n,r,o,S,k,O,!1,f,h,p,d,y,v,m);f[e]=S,f.index=e,h[h.index++]=S;var P=C[0],T=C[1];if(P&&(O?g(k,e+1,n,T,P,a,l,f,h,p,d,y,v,m):(a.push(f.slice(0,f.index+1)),l.push(h.slice(0,h.index)))),++x>=w)break;h.index=E}}function m(t,e,n,i,o,a,s,u,c,f){var d=n.value;if(o.length=0,o.push.apply(o,d),l(n))return o.index=d.length,p(n,s,u),[void 0,e];var y=n,v=e;if(null!=(n=n.$_context))v=n.$_parent||e,o.index=d.length;else{var g=0,m=d.length-1;o.index=g,v=n=e;do{var _=b(e,v,n,d[g],t,g<m,!0,i,o,a,s,u,c,f);if(n=_[0],h(n))return o.index=g,_;v=_[1]}while(g++<m);o.index=g,y.$_context!==n&&r(y,n)}return[n,v]}function b(t,e,n,r,i,a,s,u,c,l,f,p,d,g){for(var b=n.$type;b===o;){var _=m(i,t,n,u,c,l,f,p,d,g);if(n=_[0],h(n))return _;e=_[1],b=n&&n.$type}if(void 0!==b)return[n,e];if(null==r){if(a)throw new v;n&&(r=n.$_key)}else n=(e=n)[r];return[n=y(e,n,r,i,a,s,u,c,l,f,p,d,g),e]}t.exports=function(t,e,n,r,i){for(var o=t._root,s=o,u=o.expired,c=d(),l=t._path,h=o.cache,p=l.length?a(t,l).value:h,y=p.$_parent||h,v=h.$_version,m=[],b=[],_=[],x=l.length,w=-1,E=e.length;++w<E;){var S=e[w],k=l.slice(0);k.index=x,g(S.json,0,h,y,p,b,_,m,k,c,u,s,i,r)}var O=h.$_version,C=o.onChange;return f(C)&&v!==O&&C(),[b,_]}},function(t,e,n){var r=Array.isArray,i=n(227),o=n(385),a=n(279),s=n(109);t.exports=function(t,e,n){for(var u=0,c=t.length;u<c;++u){var l=t[u],f=!1;if(r(l)&&e.path||"string"===typeof l&&e.pathSyntax?f=!0:i(l)&&e.pathValue?(l.path=s.fromPath(l.path),f=!0):(o(l)&&e.jsonGraph||a(l)&&e.json||"function"===typeof l&&u+1===c&&e.selector)&&(f=!0),!f)return new Error("Unrecognized argument "+typeof l+" ["+String(l)+"] to Model#"+n)}return!0}},function(t,e,n){var r=n(980),i=n(982),o=r(i,!1),a=r(i,!0);t.exports={getValueSync:n(277),getBoundValue:n(159),getWithPathsAsPathMap:o,getWithPathsAsJSONGraph:a}},function(t,e,n){var r=n(121),i=n(556),o=n(988),a={dispose:function(){}},s=n(384),u=n(137),c=function(t,e,n,r,i){this.model=t,this.currentRemainingPaths=e,this.isJSONGraph=n||!1,this.isProgressive=r||!1,this.forceCollect=i||!1};(c.prototype=Object.create(r.prototype))._toJSONG=function(){return new c(this.model,this.currentRemainingPaths,!0,this.isProgressive,this.forceCollect)},c.prototype.progressively=function(){return new c(this.model,this.currentRemainingPaths,this.isJSONGraph,!0,this.forceCollect)},c.prototype._subscribe=function(t){var e=[],n=this.model,r=t.isJSONG=this.isJSONGraph,c=this.isProgressive,l=i(n,this.currentRemainingPaths,t,c,r,[{}],e);if(!l){if(this.forceCollect){var f=n._root,h=f.cache,p=h.$_version;s(f,f.expired,u(h),n._maxSize,n._collectRatio,p)}return a}return o(this,n,l,t,e,1)},t.exports=c},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){"use strict";function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(228),a=n(89),s=n(161),u=n(90),c=n(283),l=n(284),f=n(110),h=n(573),p=n(138),d=n(44),y=n(575),v=d.List,g=d.Record,m=d.Repeat,b=d.Map,_=d.OrderedMap,x=g({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),w=p("draft_tree_data_support")?u:s,E=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=i.prototype;return s.getEntityMap=function(){return c},s.getBlockMap=function(){return this.get("blockMap")},s.getSelectionBefore=function(){return this.get("selectionBefore")},s.getSelectionAfter=function(){return this.get("selectionAfter")},s.getBlockForKey=function(t){return this.getBlockMap().get(t)},s.getKeyBefore=function(t){return this.getBlockMap().reverse().keySeq().skipUntil((function(e){return e===t})).skip(1).first()},s.getKeyAfter=function(t){return this.getBlockMap().keySeq().skipUntil((function(e){return e===t})).skip(1).first()},s.getBlockAfter=function(t){return this.getBlockMap().skipUntil((function(e,n){return n===t})).skip(1).first()},s.getBlockBefore=function(t){return this.getBlockMap().reverse().skipUntil((function(e,n){return n===t})).skip(1).first()},s.getBlocksAsArray=function(){return this.getBlockMap().toArray()},s.getFirstBlock=function(){return this.getBlockMap().first()},s.getLastBlock=function(){return this.getBlockMap().last()},s.getPlainText=function(t){return this.getBlockMap().map((function(t){return t?t.getText():""})).join(t||"\n")},s.getLastCreatedEntityKey=function(){return c.__getLastCreatedEntityKey()},s.hasText=function(){var t=this.getBlockMap();return t.size>1||escape(t.first().getText()).replace(/%u200B/g,"").length>0},s.createEntity=function(t,e,n){return c.__create(t,e,n),this},s.mergeEntityData=function(t,e){return c.__mergeData(t,e),this},s.replaceEntityData=function(t,e){return c.__replaceData(t,e),this},s.addEntity=function(t){return c.__add(t),this},s.getEntity=function(t){return c.__get(t)},s.getAllEntities=function(){return c.__getAll()},s.loadWithEntities=function(t){return c.__loadWithEntities(t)},i.createFromBlockArray=function(t,e){var n=Array.isArray(t)?t:t.contentBlocks,r=o.createFromArray(n),a=r.isEmpty()?new l:l.createEmpty(r.first().getKey());return new i({blockMap:r,entityMap:e||c,selectionBefore:a,selectionAfter:a})},i.createFromText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=t.split(e),r=n.map((function(t){return t=y(t),new w({key:f(),text:t,type:"unstyled",characterList:v(m(a.EMPTY,t.length))})}));return i.createFromBlockArray(r)},i.fromJS=function(t){return new i(r({},t,{blockMap:_(t.blockMap).map(i.createContentBlockFromJS),selectionBefore:new l(t.selectionBefore),selectionAfter:new l(t.selectionAfter)}))},i.createContentBlockFromJS=function(t){var e=t.characterList;return new w(r({},t,{data:b(t.data),characterList:null!=e?v((Array.isArray(e)?e:h(e)).map((function(t){return a.fromJS(t)}))):void 0}))},i}(x);t.exports=E},function(t,e,n){"use strict";var r=n(285),i=n(45),o="\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f",a="\u0608\u060b\u060d\u061b\u061c\u061d\u061e-\u061f\u0620-\u063f\u0640\u0641-\u064a\u066d\u066e-\u066f\u0671-\u06d3\u06d4\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06fd-\u06fe\u06ff\u0700-\u070d\u070e\u070f\u0710\u0712-\u072f\u074b-\u074c\u074d-\u07a5\u07b1\u07b2-\u07bf\u08a0-\u08b2\u08b3-\u08e3\ufb50-\ufbb1\ufbb2-\ufbc1\ufbc2-\ufbd2\ufbd3-\ufd3d\ufd40-\ufd4f\ufd50-\ufd8f\ufd90-\ufd91\ufd92-\ufdc7\ufdc8-\ufdcf\ufdf0-\ufdfb\ufdfc\ufdfe-\ufdff\ufe70-\ufe74\ufe75\ufe76-\ufefc\ufefd-\ufefe",s=new RegExp("["+"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u01ba\u01bb\u01bc-\u01bf\u01c0-\u01c3\u01c4-\u0293\u0294\u0295-\u02af\u02b0-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a\u037b-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0482\u048a-\u052f\u0531-\u0556\u0559\u055a-\u055f\u0561-\u0587\u0589\u0903\u0904-\u0939\u093b\u093d\u093e-\u0940\u0949-\u094c\u094e-\u094f\u0950\u0958-\u0961\u0964-\u0965\u0966-\u096f\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09be-\u09c0\u09c7-\u09c8\u09cb-\u09cc\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09ef\u09f0-\u09f1\u09f4-\u09f9\u09fa\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3e-\u0a40\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0abe-\u0ac0\u0ac9\u0acb-\u0acc\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0af0\u0b02-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b3e\u0b40\u0b47-\u0b48\u0b4b-\u0b4c\u0b57\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b70\u0b71\u0b72-\u0b77\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bbf\u0bc1-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0be6-\u0bef\u0bf0-\u0bf2\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c41-\u0c44\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c7f\u0c82-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cbe\u0cbf\u0cc0-\u0cc4\u0cc6\u0cc7-\u0cc8\u0cca-\u0ccb\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0cf1-\u0cf2\u0d02-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d60-\u0d61\u0d66-\u0d6f\u0d70-\u0d75\u0d79\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd1\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0df4\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e46\u0e4f\u0e50-\u0e59\u0e5a-\u0e5b\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f01-\u0f03\u0f04-\u0f12\u0f13\u0f14\u0f15-\u0f17\u0f1a-\u0f1f\u0f20-\u0f29\u0f2a-\u0f33\u0f34\u0f36\u0f38\u0f3e-\u0f3f\u0f40-\u0f47\u0f49-\u0f6c\u0f7f\u0f85\u0f88-\u0f8c\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fcf\u0fd0-\u0fd4\u0fd5-\u0fd8\u0fd9-\u0fda\u1000-\u102a\u102b-\u102c\u1031\u1038\u103b-\u103c\u103f\u1040-\u1049\u104a-\u104f\u1050-\u1055\u1056-\u1057\u105a-\u105d\u1061\u1062-\u1064\u1065-\u1066\u1067-\u106d\u106e-\u1070\u1075-\u1081\u1083-\u1084\u1087-\u108c\u108e\u108f\u1090-\u1099\u109a-\u109c\u109e-\u109f\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fb\u10fc\u10fd-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1360-\u1368\u1369-\u137c\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166d-\u166e\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16eb-\u16ed\u16ee-\u16f0\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1735-\u1736\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17b6\u17be-\u17c5\u17c7-\u17c8\u17d4-\u17d6\u17d7\u17d8-\u17da\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1923-\u1926\u1929-\u192b\u1930-\u1931\u1933-\u1938\u1946-\u194f\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c0\u19c1-\u19c7\u19c8-\u19c9\u19d0-\u19d9\u19da\u1a00-\u1a16\u1a19-\u1a1a\u1a1e-\u1a1f\u1a20-\u1a54\u1a55\u1a57\u1a61\u1a63-\u1a64\u1a6d-\u1a72\u1a80-\u1a89\u1a90-\u1a99\u1aa0-\u1aa6\u1aa7\u1aa8-\u1aad\u1b04\u1b05-\u1b33\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b44\u1b45-\u1b4b\u1b50-\u1b59\u1b5a-\u1b60\u1b61-\u1b6a\u1b74-\u1b7c\u1b82\u1b83-\u1ba0\u1ba1\u1ba6-\u1ba7\u1baa\u1bae-\u1baf\u1bb0-\u1bb9\u1bba-\u1be5\u1be7\u1bea-\u1bec\u1bee\u1bf2-\u1bf3\u1bfc-\u1bff\u1c00-\u1c23\u1c24-\u1c2b\u1c34-\u1c35\u1c3b-\u1c3f\u1c40-\u1c49\u1c4d-\u1c4f\u1c50-\u1c59\u1c5a-\u1c77\u1c78-\u1c7d\u1c7e-\u1c7f\u1cc0-\u1cc7\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf1\u1cf2-\u1cf3\u1cf5-\u1cf6\u1d00-\u1d2b\u1d2c-\u1d6a\u1d6b-\u1d77\u1d78\u1d79-\u1d9a\u1d9b-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200e\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2134\u2135-\u2138\u2139\u213c-\u213f\u2145-\u2149\u214e\u214f\u2160-\u2182\u2183-\u2184\u2185-\u2188\u2336-\u237a\u2395\u249c-\u24e9\u26ac\u2800-\u28ff\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c7b\u2c7c-\u2c7d\u2c7e-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d70\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005\u3006\u3007\u3021-\u3029\u302e-\u302f\u3031-\u3035\u3038-\u303a\u303b\u303c\u3041-\u3096\u309d-\u309e\u309f\u30a1-\u30fa\u30fc-\u30fe\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u3191\u3192-\u3195\u3196-\u319f\u31a0-\u31ba\u31f0-\u31ff\u3200-\u321c\u3220-\u3229\u322a-\u3247\u3248-\u324f\u3260-\u327b\u327f\u3280-\u3289\u328a-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua014\ua015\ua016-\ua48c\ua4d0-\ua4f7\ua4f8-\ua4fd\ua4fe-\ua4ff\ua500-\ua60b\ua60c\ua610-\ua61f\ua620-\ua629\ua62a-\ua62b\ua640-\ua66d\ua66e\ua680-\ua69b\ua69c-\ua69d\ua6a0-\ua6e5\ua6e6-\ua6ef\ua6f2-\ua6f7\ua722-\ua76f\ua770\ua771-\ua787\ua789-\ua78a\ua78b-\ua78e\ua790-\ua7ad\ua7b0-\ua7b1\ua7f7\ua7f8-\ua7f9\ua7fa\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua823-\ua824\ua827\ua830-\ua835\ua836-\ua837\ua840-\ua873\ua880-\ua881\ua882-\ua8b3\ua8b4-\ua8c3\ua8ce-\ua8cf\ua8d0-\ua8d9\ua8f2-\ua8f7\ua8f8-\ua8fa\ua8fb\ua900-\ua909\ua90a-\ua925\ua92e-\ua92f\ua930-\ua946\ua952-\ua953\ua95f\ua960-\ua97c\ua983\ua984-\ua9b2\ua9b4-\ua9b5\ua9ba-\ua9bb\ua9bd-\ua9c0\ua9c1-\ua9cd\ua9cf\ua9d0-\ua9d9\ua9de-\ua9df\ua9e0-\ua9e4\ua9e6\ua9e7-\ua9ef\ua9f0-\ua9f9\ua9fa-\ua9fe\uaa00-\uaa28\uaa2f-\uaa30\uaa33-\uaa34\uaa40-\uaa42\uaa44-\uaa4b\uaa4d\uaa50-\uaa59\uaa5c-\uaa5f\uaa60-\uaa6f\uaa70\uaa71-\uaa76\uaa77-\uaa79\uaa7a\uaa7b\uaa7d\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadc\uaadd\uaade-\uaadf\uaae0-\uaaea\uaaeb\uaaee-\uaaef\uaaf0-\uaaf1\uaaf2\uaaf3-\uaaf4\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5b\uab5c-\uab5f\uab64-\uab65\uabc0-\uabe2\uabe3-\uabe4\uabe6-\uabe7\uabe9-\uabea\uabeb\uabec\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ue000-\uf8ff\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\uff21-\uff3a\uff41-\uff5a\uff66-\uff6f\uff70\uff71-\uff9d\uff9e-\uff9f\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc"+o+a+"]"),u=new RegExp("["+o+a+"]");function c(t){var e=s.exec(t);return null==e?null:e[0]}function l(t){var e=c(t);return null==e?r.NEUTRAL:u.exec(e)?r.RTL:r.LTR}function f(t,e){if(e=e||r.NEUTRAL,!t.length)return e;var n=l(t);return n===r.NEUTRAL?e:n}function h(t,e){return e||(e=r.getGlobalDir()),r.isStrong(e)||i(!1),f(t,e)}var p={firstStrongChar:c,firstStrongCharDir:l,resolveBlockDir:f,getDirection:h,isDirectionLTR:function(t,e){return h(t,e)===r.LTR},isDirectionRTL:function(t,e){return h(t,e)===r.RTL}};t.exports=p},function(t,e,n){"use strict";var r=n(1),i=n(162),o=(0,n(44).Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:r.createElement("ul",{className:i("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:r.createElement("ol",{className:i("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:r.createElement("pre",{className:i("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});t.exports=o},function(t,e,n){"use strict";var r=n(585).notEmptyKey;function i(t,e){return r(e)&&"MUTABLE"===t.__get(e).getMutability()?e:null}t.exports=function(t,e){var n;if(e.isCollapsed()){var r=e.getAnchorKey(),o=e.getAnchorOffset();return o>0?(n=t.getBlockForKey(r).getEntityAt(o-1))!==t.getBlockForKey(r).getEntityAt(o)?null:i(t.getEntityMap(),n):null}var a=e.getStartKey(),s=e.getStartOffset(),u=t.getBlockForKey(a);return n=s===u.getLength()?null:u.getEntityAt(s),i(t.getEntityMap(),n)}},function(t,e,n){"use strict";var r=n(1070);t.exports=function t(e,n){return!(!e||!n)&&(e===n||!r(e)&&(r(n)?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}},function(t,e,n){"use strict";function r(t,e){return!!e&&(t===e.documentElement||t===e.body)}var i={getTop:function(t){var e=t.ownerDocument;return r(t,e)?e.body.scrollTop||e.documentElement.scrollTop:t.scrollTop},setTop:function(t,e){var n=t.ownerDocument;r(t,n)?n.body.scrollTop=n.documentElement.scrollTop=e:t.scrollTop=e},getLeft:function(t){var e=t.ownerDocument;return r(t,e)?e.body.scrollLeft||e.documentElement.scrollLeft:t.scrollLeft},setLeft:function(t,e){var n=t.ownerDocument;r(t,n)?n.body.scrollLeft=n.documentElement.scrollLeft=e:t.scrollLeft=e}};t.exports=i},function(t,e,n){"use strict";n(398);t.exports=function(t,e){var n=t.getSelection(),r=t.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),a=i,s=0;if(e>o){var u=r.getKeyBefore(i);if(null==u)a=i;else a=u,s=r.getBlockForKey(u).getText().length}else s=o-e;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}},function(t,e,n){"use strict";var r=n(594);t.exports=r},function(t,e,n){"use strict";var r=n(77),i=n(1098),o=r.isPlatform("Mac OS X"),a={isCtrlKeyCommand:function(t){return!!t.ctrlKey&&!t.altKey},isOptionKeyCommand:function(t){return o&&t.altKey},usesMacOSHeuristics:function(){return o},hasCommandModifier:function(t){return o?!!t.metaKey&&!t.altKey:a.isCtrlKeyCommand(t)},isSoftNewlineEvent:i};t.exports=a},function(t,e,n){"use strict";var r=n(113);e.a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(e)/3)))-Object(r.a)(Math.abs(t)))}},function(t,e,n){"use strict";var r=n(113);e.a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Object(r.a)(e)-Object(r.a)(t))+1}},function(t,e,n){"use strict";var r=n(113);e.a=function(t){return Math.max(0,-Object(r.a)(Math.abs(t)))}},function(t,e,n){"use strict";function r(t){return new r.Model(t)}r.keys=function(t){if(t)return Object.keys(t).filter((function(t){return"$__path"!==t}))},t.exports=r,r.Model=n(940)},function(t,e,n){"use strict";var r=n(1007),i=n(1010);Array.isArray;function o(t,e){var n;for(n in e)t[n]=e[n];return t}function a(t,e){(this._jsongUrl=t,"number"===typeof e)&&(e={timeout:e});this._config=o({timeout:15e3,headers:{}},e||{})}a.prototype={constructor:a,buildQueryObject:i,get:function(t){var e=o(this.buildQueryObject(this._jsongUrl,"GET",{paths:t,method:"get"}),this._config);return r("GET",e,this)},set:function(t){var e="POST",n=o(this.buildQueryObject(this._jsongUrl,e,{jsonGraph:t,method:"set"}),this._config);n.headers["Content-Type"]="application/x-www-form-urlencoded";return r(e,n,this)},call:function(t,e,n,i){e=e||[],n=n||[],i=i||[];var a="POST",s=[];s.push("method=call"),s.push("callPath="+encodeURIComponent(JSON.stringify(t))),s.push("arguments="+encodeURIComponent(JSON.stringify(e))),s.push("pathSuffixes="+encodeURIComponent(JSON.stringify(n))),s.push("paths="+encodeURIComponent(JSON.stringify(i)));var u=o(this.buildQueryObject(this._jsongUrl,a,s.join("&")),this._config);u.headers["Content-Type"]="application/x-www-form-urlencoded";return r(a,u,this)}},a.XMLHttpSource=a,a.default=a,t.exports=a},function(t,e,n){"use strict";(function(t){var r=n(1),i=n.n(r),o=n(51),a=n(2),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};function l(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}var f=i.a.createContext||function(t,e){var n,i,a="__create-react-context-"+function(){var t="__global_unique_id__";return c[t]=(c[t]||0)+1}()+"__",f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=l(e.props.value),e}Object(o.a)(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof e?e(r,i):u,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var h=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Object(o.a)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return h.contextTypes=((i={})[a]=s.a.object,i),{Provider:f,Consumer:h}};e.a=f}).call(this,n(53))},function(t,e,n){var r=n(685);t.exports=p,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var f=n[0],h=n[1],p=n.index;if(s+=t.slice(a,p),a=p+f.length,h)s+=h[1];else{var d=t[a],y=n[2],v=n[3],g=n[4],m=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var x=null!=y&&null!=d&&d!==y,w="+"===b||"*"===b,E="?"===b||"*"===b,S=n[2]||l,k=g||m;r.push({name:v||o++,prefix:y||"",delimiter:S,optional:E,repeat:w,partial:x,asterisk:!!_,pattern:k?c(k):_?".*":"[^"+u(S)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",f(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=u(h[p]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===p?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function f(t){return t&&t.sensitive?"":"i"}function h(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+h+p+")*"),a+=p=c.optional?c.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var d=u(n.delimiter||"/"),y=a.slice(-d.length)===d;return i||(a=(y?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&y?"":"(?="+d+"|$)",l(new RegExp("^"+a,f(n)),e)}function p(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(p(t[i],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),e)}(t,e,n):function(t,e,n){return h(o(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";(function(t){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(n&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var i=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),r))}};function o(t){return t&&"[object Function]"==={}.toString.call(t)}function a(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function s(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function u(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=a(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:u(s(t))}function c(t){return t&&t.referenceNode?t.referenceNode:t}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function h(t){return 11===t?l:10===t?f:l||f}function p(t){if(!t)return document.documentElement;for(var e=h(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function d(t){return null!==t.parentNode?d(t.parentNode):t}function y(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(t!==a&&e!==a||r.contains(i))return function(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||p(t.firstElementChild)===t)}(a)?a:p(a);var s=d(t);return s.host?y(s.host,e):y(t,d(e).host)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function g(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(e,"top"),i=v(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function m(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function b(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],h(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function _(t){var e=t.body,n=t.documentElement,r=h(10)&&getComputedStyle(n);return{height:b("Height",e,n,r),width:b("Width",e,n,r)}}var x=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function k(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function O(t){var e={};try{if(h(10)){e=t.getBoundingClientRect();var n=v(t,"top"),r=v(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(p){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?_(t.ownerDocument):{},s=o.width||t.clientWidth||i.width,u=o.height||t.clientHeight||i.height,c=t.offsetWidth-s,l=t.offsetHeight-u;if(c||l){var f=a(t);c-=m(f,"x"),l-=m(f,"y"),i.width-=c,i.height-=l}return k(i)}function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=h(10),i="HTML"===e.nodeName,o=O(t),s=O(e),c=u(t),l=a(e),f=parseFloat(l.borderTopWidth),p=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=k({top:o.top-s.top-f,left:o.left-s.left-p,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var y=parseFloat(l.marginTop),v=parseFloat(l.marginLeft);d.top-=f-y,d.bottom-=f-y,d.left-=p-v,d.right-=p-v,d.marginTop=y,d.marginLeft=v}return(r&&!n?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(d=g(d,e)),d}function P(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=C(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:v(n),s=e?0:v(n,"left"),u={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o};return k(u)}function T(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===a(t,"position"))return!0;var n=s(t);return!!n&&T(n)}function M(t){if(!t||!t.parentElement||h())return document.documentElement;for(var e=t.parentElement;e&&"none"===a(e,"transform");)e=e.parentElement;return e||document.documentElement}function A(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?M(t):y(t,c(e));if("viewport"===r)o=P(a,i);else{var l=void 0;"scrollParent"===r?"BODY"===(l=u(s(e))).nodeName&&(l=t.ownerDocument.documentElement):l="window"===r?t.ownerDocument.documentElement:r;var f=C(l,a,i);if("HTML"!==l.nodeName||T(a))o=f;else{var h=_(t.ownerDocument),p=h.height,d=h.width;o.top+=f.top-f.marginTop,o.bottom=p+f.top,o.left+=f.left-f.marginLeft,o.right=d+f.left}}var v="number"===typeof(n=n||0);return o.left+=v?n:n.left||0,o.top+=v?n:n.top||0,o.right-=v?n:n.right||0,o.bottom-=v?n:n.bottom||0,o}function I(t){return t.width*t.height}function j(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=A(n,r,o,i),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(s).map((function(t){return S({key:t},s[t],{area:I(s[t])})})).sort((function(t,e){return e.area-t.area})),c=u.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,f=t.split("-")[1];return l+(f?"-"+f:"")}function R(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?M(e):y(e,c(n));return C(n,i,r)}function D(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function N(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function L(t,e,n){n=n.split("-")[0];var r=D(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return i[a]=e[a]+e[u]/2-r[u]/2,i[s]=n===s?e[s]-r[c]:e[N(s)],i}function z(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function F(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=z(t,(function(t){return t[e]===n}));return t.indexOf(r)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&o(n)&&(e.offsets.popper=k(e.offsets.popper),e.offsets.reference=k(e.offsets.reference),e=n(e,t))})),e}function B(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=j(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=L(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=F(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function U(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function q(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if("undefined"!==typeof document.body.style[o])return o}return null}function V(){return this.state.isDestroyed=!0,U(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function G(t){var e=t.ownerDocument;return e?e.defaultView:window}function W(t,e,n,r){var i="BODY"===t.nodeName,o=i?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),i||W(u(o.parentNode),e,n,r),r.push(o)}function H(t,e,n,r){n.updateBound=r,G(t).addEventListener("resize",n.updateBound,{passive:!0});var i=u(t);return W(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function K(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}function X(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,G(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function Y(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function Z(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Y(e[n])&&(r="px"),t.style[n]=e[n]+r}))}var $=n&&/Firefox/i.test(navigator.userAgent);function J(t,e,n){var r=z(t,(function(t){return t.name===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],tt=Q.slice(3);function et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=tt.indexOf(t),r=tt.slice(n+1).concat(tt.slice(0,n));return e?r.reverse():r}var nt="flip",rt="clockwise",it="counterclockwise";function ot(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(z(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(c=c.map((function(t,r){var i=(1===r?!o:o)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return k(s)[e]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,i,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,r){Y(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}var at={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:E({},u,o[u]),end:E({},u,o[u]+o[c]-a[c])};t.offsets.popper=S({},a,l[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],u=void 0;return u=Y(+n)?[+n,0]:ot(n,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var r=q("transform"),i=t.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=A(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=a,i[r]=s,e.boundaries=u;var c=e.priority,l=t.offsets.popper,f={primary:function(t){var n=l[t];return l[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(l[t],u[t])),E({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=l[n];return l[t]>u[t]&&!e.escapeWithReference&&(r=Math.min(l[n],u[t]-("right"===t?l.width:l.height))),E({},n,r)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";l=S({},l,f[e](t))})),t.offsets.popper=l,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",c=a?"width":"height";return n[s]<o(r[u])&&(t.offsets.popper[u]=o(r[u])-n[c]),n[u]>o(r[s])&&(t.offsets.popper[u]=o(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!J(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"===typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,s=o.popper,u=o.reference,c=-1!==["left","right"].indexOf(i),l=c?"height":"width",f=c?"Top":"Left",h=f.toLowerCase(),p=c?"left":"top",d=c?"bottom":"right",y=D(r)[l];u[d]-y<s[h]&&(t.offsets.popper[h]-=s[h]-(u[d]-y)),u[h]+y>s[d]&&(t.offsets.popper[h]+=u[h]+y-s[d]),t.offsets.popper=k(t.offsets.popper);var v=u[h]+u[l]/2-y/2,g=a(t.instance.popper),m=parseFloat(g["margin"+f]),b=parseFloat(g["border"+f+"Width"]),_=v-t.offsets.popper[h]-m-b;return _=Math.max(Math.min(s[l]-y,_),0),t.arrowElement=r,t.offsets.arrow=(E(n={},h,Math.round(_)),E(n,p,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(U(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=A(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=N(r),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case nt:a=[r,i];break;case rt:a=et(r);break;case it:a=et(r,!0);break;default:a=e.behavior}return a.forEach((function(s,u){if(r!==s||a.length===u+1)return t;r=t.placement.split("-")[0],i=N(r);var c=t.offsets.popper,l=t.offsets.reference,f=Math.floor,h="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),p=f(c.left)<f(n.left),d=f(c.right)>f(n.right),y=f(c.top)<f(n.top),v=f(c.bottom)>f(n.bottom),g="left"===r&&p||"right"===r&&d||"top"===r&&y||"bottom"===r&&v,m=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(m&&"start"===o&&p||m&&"end"===o&&d||!m&&"start"===o&&y||!m&&"end"===o&&v),_=!!e.flipVariationsByContent&&(m&&"start"===o&&d||m&&"end"===o&&p||!m&&"start"===o&&v||!m&&"end"===o&&y),x=b||_;(h||g||x)&&(t.flipped=!0,(h||g)&&(r=a[u+1]),x&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=S({},t.offsets.popper,L(t.instance.popper,t.offsets.reference,t.placement)),t=F(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),t.placement=N(e),t.offsets.popper=k(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!J(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=z(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=z(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=p(t.instance.popper),u=O(s),c={position:i.position},l=function(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},u=o(i.width),c=o(r.width),l=-1!==["left","right"].indexOf(t.placement),f=-1!==t.placement.indexOf("-"),h=e?l||f||u%2===c%2?o:a:s,p=e?o:s;return{left:h(u%2===1&&c%2===1&&!f&&e?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:h(r.right)}}(t,window.devicePixelRatio<2||!$),f="bottom"===n?"top":"bottom",h="right"===r?"left":"right",d=q("transform"),y=void 0,v=void 0;if(v="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,y="right"===h?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,a&&d)c[d]="translate3d("+y+"px, "+v+"px, 0)",c[f]=0,c[h]=0,c.willChange="transform";else{var g="bottom"===f?-1:1,m="right"===h?-1:1;c[f]=v*g,c[h]=y*m,c.willChange=f+", "+h}var b={"x-placement":t.placement};return t.attributes=S({},b,t.attributes),t.styles=S({},c,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return Z(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&Z(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){var o=R(i,e,t,n.positionFixed),a=j(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),Z(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},st=function(){function t(e,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=S({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,a.modifiers)).forEach((function(e){r.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},a.modifiers?a.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return S({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&o(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(t,[{key:"update",value:function(){return B.call(this)}},{key:"destroy",value:function(){return V.call(this)}},{key:"enableEventListeners",value:function(){return K.call(this)}},{key:"disableEventListeners",value:function(){return X.call(this)}}]),t}();st.Utils=("undefined"!==typeof window?window:t).PopperUtils,st.placements=Q,st.Defaults=at,e.a=st}).call(this,n(53))},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(1)),i=o(n(702));function o(t){return t&&t.__esModule?t:{default:t}}e.default=r.default.createContext||i.default,t.exports=e.default},function(t,e,n){"use strict";var r=n(171);e.a=function(t){var e=t,n=t;function i(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=function(e,n){return t(e)-n},n=function(t){return function(e,n){return Object(r.a)(t(e),n)}}(t)),{left:i,center:function(t,n,r,o){null==r&&(r=0),null==o&&(o=t.length);var a=i(t,n,r,o-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}},function(t,e,n){"use strict";var r=n(95),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");e.a=function(t,e){var n,a,s,u=i.lastIndex=o.lastIndex=0,c=-1,l=[],f=[];for(t+="",e+="";(n=i.exec(t))&&(a=o.exec(e));)(s=a.index)>u&&(s=e.slice(u,s),l[c]?l[c]+=s:l[++c]=s),(n=n[0])===(a=a[0])?l[c]?l[c]+=a:l[++c]=a:(l[++c]=null,f.push({i:c,x:Object(r.a)(n,a)})),u=o.lastIndex;return u<e.length&&(s=e.slice(u),l[c]?l[c]+=s:l[++c]=s),l.length<2?f[0]?function(t){return function(e){return t(e)+""}}(f[0].x):function(t){return function(){return t}}(e):(e=f.length,function(t){for(var n,r=0;r<e;++r)l[(n=f[r]).i]=n.x(t);return l.join("")})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1;function i(){r||(r=!0,console.warn('react-spring: The "interpolate" function is deprecated in v10 (use "to" instead)'))}},function(t,e,n){var r=n(120),i=n(66),o=n(88);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},function(t,e,n){var r=n(765),i=n(356),o=n(488),a=i((function(t,e){return o(t)?r(t,e):[]}));t.exports=a},function(t,e,n){var r=n(360);t.exports=function(t,e){return r(t,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(93),i=n(172);function o(t,e){this._context=t,this._k=(1-e)/6}o.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(i.c)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new o(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(172);function i(t,e){this._context=t,this._k=(1-e)/6}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(r.c)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new i(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){var r=n(508);t.exports=function(t){return t&&t.length?r(t):[]}},function(t,e,n){var r=n(807),i=n(186),o=n(258),a=o&&o.isDate,s=a?i(a):r;t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.createChangeEmitter=function(){var t=[],e=t;function n(){e===t&&(e=t.slice())}return{listen:function(t){if("function"!==typeof t)throw new Error("Expected listener to be a function.");var r=!0;return n(),e.push(t),function(){if(r){r=!1,n();var i=e.indexOf(t);e.splice(i,1)}}},emit:function(){for(var n=t=e,r=0;r<n.length;r++)n[r].apply(n,arguments)}}}},function(t,e,n){"use strict";var r=n(108);e.__esModule=!0,e.default=void 0;var i=r(n(808)),o=r(n(504)),a=(r(n(124)),r(n(190)),function(t){return(0,i.default)((function(t,e){return!(0,o.default)(t,e)}))(t)});e.default=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return N})),n.d(e,"b",(function(){return E}));var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(92),u=n.n(s),c=n(640),l=n.n(c),f=n(422),h=n.n(f),p=n(34),d=n(79),y=n(97),v=(a.a.shape({match:a.a.oneOfType([a.a.func,a.a.object]).isRequired,type:a.a.oneOf(["circle","rect","dot"]).isRequired,noteX:a.a.oneOfType([a.a.number,a.a.shape({abs:a.a.number.isRequired})]).isRequired,noteY:a.a.oneOfType([a.a.number,a.a.shape({abs:a.a.number.isRequired})]).isRequired,noteWidth:a.a.number,noteTextOffset:a.a.number,note:a.a.oneOfType([a.a.node,a.a.func]).isRequired,offset:a.a.number}),120),g=8;function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x=function(t){return{x:t.x,y:t.y}},w=function(t){var e,n,r=t.type,i=t.x,o=t.y,a=t.size,s=t.width,c=t.height,l=t.noteX,f=t.noteY,h=t.noteWidth,d=void 0===h?v:h,y=t.noteTextOffset,m=void 0===y?g:y;u()(l)?void 0!==l.abs&&(e=l.abs):e=i+l,u()(f)?void 0!==f.abs&&(n=f.abs):n=o+f;var b=i,_=o,x=function(t,e,n,r){var i=Math.atan2(r-e,n-t);return Object(p.e)(Object(p.o)(i))}(i,o,e,n);if("circle"===r){var w=Object(p.n)(Object(p.h)(x),a/2);b+=w.x,_+=w.y}if("rect"===r){var E=Math.round((x+90)/45)%8;0===E&&(_-=c/2),1===E&&(b+=s/2,_-=c/2),2===E&&(b+=s/2),3===E&&(b+=s/2,_+=c/2),4===E&&(_+=c/2),5===E&&(b-=s/2,_+=c/2),6===E&&(b-=s/2),7===E&&(b-=s/2,_-=c/2)}var S=e,k=e;return(x+90)%360>180?(S-=d,k-=d):k+=d,{points:[[b,_],[e,n],[k,n]],text:[S,n-m],angle:x+90}},E=function(t){var e=t.items,n=t.annotations,i=t.getPosition,o=t.getDimensions;return Object(r.useMemo)((function(){return function(t){var e=t.items,n=t.annotations,r=t.getPosition,i=void 0===r?x:r,o=t.getDimensions;return n.reduce((function(t,n){return l()(e,n.match).forEach((function(e){var r=i(e),a=o(e,n.offset||0);t.push(_(_(_(_({},h()(n,["match","offset"])),r),a),{},{datum:e,size:n.size||a.size}))})),t}),[])}({items:e,annotations:n,getPosition:i,getDimensions:o})}),[e,n,i,o])},S=Object(r.memo)((function(t){var e=t.datum,n=t.x,r=t.y,o=t.note,a=Object(p.t)(),s=Object(p.s)(),u=s.animate,c=s.config,l=Object(d.useSpring)({x:n,y:r,config:c,immediate:!u});return"function"===typeof o?o({x:n,y:r,datum:e}):i.a.createElement(i.a.Fragment,null,a.annotations.text.outlineWidth>0&&i.a.createElement(y.animated.text,{x:l.x,y:l.y,style:_(_({},a.annotations.text),{},{strokeLinejoin:"round",strokeWidth:2*a.annotations.text.outlineWidth,stroke:a.annotations.text.outlineColor})},o),i.a.createElement(y.animated.text,{x:l.x,y:l.y,style:h()(a.annotations.text,["outlineWidth","outlineColor"])},o))}));function k(t){if(Array.isArray(t))return t}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C(t,e){if(t){if("string"===typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(t,e){return k(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||C(t,e)||P()}function M(t){return k(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||C(t)||P()}function A(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}S.displayName="AnnotationNote",S.defaultProps={};var I=Object(r.memo)((function(t){var e=t.isOutline,n=A(t,["isOutline"]),r=Object(p.t)(),o=M(n.points),a=o[0],s=o.slice(1).reduce((function(t,e){var n=T(e,2),r=n[0],i=n[1];return"".concat(t," L").concat(r,",").concat(i)}),"M".concat(a[0],",").concat(a[1])),u=Object(p.q)(s);if(e&&r.annotations.link.outlineWidth<=0)return null;var c=_({},r.annotations.link);return e&&(c.strokeLinecap="square",c.strokeWidth=r.annotations.link.strokeWidth+2*r.annotations.link.outlineWidth,c.stroke=r.annotations.link.outlineColor),i.a.createElement(y.animated.path,{fill:"none",d:u,style:c})}));I.displayName="AnnotationLink",I.defaultProps={isOutline:!1};var j=Object(r.memo)((function(t){var e=t.x,n=t.y,r=t.size,o=Object(p.t)(),a=Object(p.s)(),s=a.animate,u=a.config,c=Object(d.useSpring)({x:e,y:n,radius:r/2,config:u,immediate:!s});return i.a.createElement(i.a.Fragment,null,o.annotations.outline.outlineWidth>0&&i.a.createElement(y.animated.circle,{cx:c.x,cy:c.y,r:c.radius,style:_(_({},o.annotations.outline),{},{fill:"none",strokeWidth:o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor})}),i.a.createElement(y.animated.circle,{cx:c.x,cy:c.y,r:c.radius,style:o.annotations.outline}))}));j.displayName="CircleAnnotationOutline";var R=Object(r.memo)((function(t){var e=t.x,n=t.y,r=t.size,o=Object(p.t)(),a=Object(p.s)(),s=a.animate,u=a.config,c=Object(d.useSpring)({x:e,y:n,radius:r/2,config:u,immediate:!s});return i.a.createElement(i.a.Fragment,null,o.annotations.outline.outlineWidth>0&&i.a.createElement(y.animated.circle,{cx:c.x,cy:c.y,r:c.radius,style:_(_({},o.annotations.outline),{},{fill:"none",strokeWidth:2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor})}),i.a.createElement(y.animated.circle,{cx:c.x,cy:c.y,r:c.radius,style:o.annotations.symbol}))}));R.displayName="DotAnnotationOutline",R.defaultProps={size:4};var D=Object(r.memo)((function(t){var e=t.x,n=t.y,r=t.width,o=t.height,a=Object(p.t)(),s=Object(p.s)(),u=s.animate,c=s.config,l=Object(d.useSpring)({x:e-r/2,y:n-o/2,width:r,height:o,config:c,immediate:!u});return i.a.createElement(i.a.Fragment,null,a.annotations.outline.outlineWidth>0&&i.a.createElement(y.animated.rect,{x:l.x,y:l.y,width:l.width,height:l.height,style:_(_({},a.annotations.outline),{},{fill:"none",strokeWidth:a.annotations.outline.strokeWidth+2*a.annotations.outline.outlineWidth,stroke:a.annotations.outline.outlineColor})}),i.a.createElement(y.animated.rect,{x:l.x,y:l.y,width:l.width,height:l.height,style:a.annotations.outline}))}));D.displayName="RectAnnotationOutline";var N=Object(r.memo)((function(t){var e=t.datum,n=t.type,o=t.containerWidth,a=t.containerHeight,s=t.x,u=t.y,c=t.size,l=t.width,f=t.height,h=t.noteX,p=t.noteY,d=t.noteWidth,y=t.noteTextOffset,v=t.note,g=function(t){var e=t.type,n=t.containerWidth,i=t.containerHeight,o=t.x,a=t.y,s=t.size,u=t.width,c=t.height,l=t.noteX,f=t.noteY,h=t.noteWidth,p=t.noteTextOffset;return Object(r.useMemo)((function(){return w({type:e,containerWidth:n,containerHeight:i,x:o,y:a,size:s,width:u,height:c,noteX:l,noteY:f,noteWidth:h,noteTextOffset:p})}),[e,n,i,o,a,s,u,c,l,f,h,p])}({type:n,containerWidth:o,containerHeight:a,x:s,y:u,size:c,width:l,height:f,noteX:h,noteY:p,noteWidth:d,noteTextOffset:y});return i.a.createElement(i.a.Fragment,null,i.a.createElement(I,{points:g.points,isOutline:!0}),"circle"===n&&i.a.createElement(j,{x:s,y:u,size:c}),"dot"===n&&i.a.createElement(R,{x:s,y:u,size:c}),"rect"===n&&i.a.createElement(D,{x:s,y:u,width:l,height:f}),i.a.createElement(I,{points:g.points}),i.a.createElement(S,{datum:e,x:g.text[0],y:g.text[1],note:v}))}));N.displayName="Annotation",N.defaultProps={noteWidth:v,noteTextOffset:g}},function(t,e,n){var r=n(262),i=n(810),o=n(825),a=n(188),s=n(187),u=n(828),c=n(506),l=n(513),f=c((function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,(function(e){return e=a(e,t),c||(c=e.length>1),e})),s(t,l(t),n),c&&(n=i(n,7,u));for(var f=e.length;f--;)o(n,e[f]);return n}));t.exports=f},function(t,e,n){"use strict";t.exports=n(835)},function(t,e,n){(function(e){var n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="[object Symbol]",s="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")();function l(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function f(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var h=Object.prototype,p=h.hasOwnProperty,d=h.toString,y=c.Symbol,v=h.propertyIsEnumerable,g=y?y.isConcatSpreadable:void 0,m=Math.max;function b(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=_),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?b(s,e-1,n,r,i):f(i,s):r||(i[i.length]=s)}return i}function _(t){return w(t)||function(t){return function(t){return E(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?d.call(t):"";return e==i||e==o}(t)}(t)}(t)&&p.call(t,"callee")&&(!v.call(t,"callee")||d.call(t)==r)}(t)||!!(g&&t&&t[g])}function x(t){if("string"==typeof t||function(t){return"symbol"==typeof t||E(t)&&d.call(t)==a}(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}var w=Array.isArray;function E(t){return!!t&&"object"==typeof t}var S,k,O=(S=function(t,e){return null==t?{}:function(t,e){return function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=t[a];n(s,a)&&(o[a]=s)}return o}(t=Object(t),e,(function(e,n){return n in t}))}(t,function(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(b(e,1),x))},k=m(void 0===k?S.length-1:k,0),function(){for(var t=arguments,e=-1,n=m(t.length-k,0),r=Array(n);++e<n;)r[e]=t[k+e];e=-1;for(var i=Array(k+1);++e<k;)i[e]=t[e];return i[k]=r,l(S,this,i)});t.exports=O}).call(this,n(53))},function(t,e,n){"use strict";n.d(e,"a",(function(){return hn})),n.d(e,"b",(function(){return Ft}));var r=n(22),i=n.n(r),o=n(41),a=n.n(o),s=n(294),u=n.n(s),c=n(2),l=n.n(c),f=n(1),h=n.n(f);function p(t){var e=Object(f.useRef)(null);return Object(f.useEffect)((function(){e.current=t})),e.current}var d=n(30),y=n.n(d),v=n(62),g=n.n(v),m=n(21),b=n.n(m),_=n(179),x=n.n(_),w=n(205),E=n.n(w),S=38,k="label",O={JUSTIFY:"justify",LEFT:"left",RIGHT:"right"};function C(t){return"string"===typeof t?t:k}var P=0;function T(t){return Array.isArray(t)&&t.length?t[0]:void 0}function M(t){return"function"===typeof t}function A(t){return"string"===typeof t}function I(){}function j(t,e){var n={};return e.forEach((function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])})),n}function R(t){return P+=1,(null==t?"":String(t))+P}function D(t){return M(Object.values)?Object.values(t):function(t){return Object.keys(t).reduce((function(e,n){return Object.prototype.propertyIsEnumerable.call(t,n)&&e.push(t[n]),e}),[])}(t)}var N=function(t,e){return A(t)||!t.paginationOption&&!t.customOption?(n=M(e)?e(t):A(t)?t:t[e],A(n)||E()(!1),n):t[C(e)];var n};var L=function(t,e){var n=e.allowNew,r=e.labelKey,i=e.text;return!(!n||!i.trim())&&("function"===typeof n?n(t,e):!t.some((function(t){return N(t,r)===i})))};function z(t,e){if(!A(t))return t[e]}for(var F=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779\xd0"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"OE",letters:"\x8c\u0152"},{base:"oe",letters:"\x9c\u0153"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],B={},U=0;U<F.length;U++)for(var q=F[U].letters,V=0;V<q.length;V++)B[q[V]]=F[U].base;function G(t){return t.replace(/[\u0300-\u036F]/g,"").replace(/[^\u0000-\u007E]/g,(function(t){return B[t]||t}))}var W=n(234),H=n.n(W),K={};function X(t,e){if(!t&&-1!==e.indexOf("deprecated")){if(K[e])return;K[e]=!0}for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];H.a.apply(void 0,[t,"[react-bootstrap-typeahead] "+e].concat(r))}function Y(t,e,n){var r=t,i=e;return n.caseSensitive||(r=r.toLowerCase(),i=i.toLowerCase()),n.ignoreDiacritics&&(r=G(r),i=G(i)),-1!==i.indexOf(r)}function Z(t,e){var n=e.filterBy,r=e.labelKey,i=e.multiple,o=e.selected,a=e.text;if(i&&o.some((function(e){return x()(e,t)})))return!1;if(M(r)&&Y(a,r(t),e))return!0;var s=n.slice();return A(r)&&-1===s.indexOf(r)&&s.unshift(r),A(t)?(X(s.length<=1,"You cannot filter by properties when `option` is a string."),Y(a,t,e)):s.some((function(n){var r=z(t,n);return A(r)||(X(!1,"Fields passed to `filterBy` should have string values. Value will be converted to a string; results may be unexpected."),r=String(r)),Y(a,r,e)}))}function $(t){return t.displayName||t.name||"Component"}var J=/[\u0300-\u036F]/;function Q(t,e){var n=new RegExp(function(t){return"string"!==typeof t&&E()(!1),t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(G(e)),"i").exec(G(t));if(!n)return null;var r=n.index,i=n[0].length;if(J.test(t)){for(var o=0;o<=r;o++)J.test(t[o])&&(r+=1);for(var a=r;a<=r+i;a++)J.test(t[a])&&(i+=1)}return{end:r+i,start:r}}var tt=function(t){var e=t.activeIndex,n=t.initialItem,r=t.isFocused,i=t.isMenuShown,o=t.labelKey,a=t.multiple,s=t.selected,u=t.text;if(!u||!r||!i||!n||n.customOption||e>-1||s.length&&!a)return"";var c=N(n,o),l=Q(c.toLowerCase(),u.toLowerCase());return l&&0===l.start?u+c.slice(l.end,c.length):""},et=n(35),nt=n.n(et);function rt(t,e){return(t||"")+"-item-"+e}var it=function(t){var e=t.activeIndex,n=t.id,r=t.isFocused,o=t.isMenuShown,s=t.multiple,u=t.onFocus,c=t.placeholder,l=a()(t,["activeIndex","id","isFocused","isMenuShown","multiple","onFocus","placeholder"]);return function(t){var f,h=void 0===t?{}:t,p=h.className,d=a()(h,["className"]),y=i()({autoComplete:"off",placeholder:c,type:"text"},d,l,{"aria-activedescendant":e>=0?rt(n,e):void 0,"aria-autocomplete":"both","aria-expanded":o,"aria-haspopup":"listbox","aria-owns":o?n:void 0,className:nt()((f={},f[p||""]=!s,f.focus=r,f)),onClick:u,onFocus:u,role:"combobox"});return s?i()({},y,{"aria-autocomplete":"list","aria-expanded":void 0,inputClassName:p,role:void 0}):y}};var ot=function(t){var e=t.activeItem,n=t.labelKey,r=t.multiple,i=t.selected,o=t.text;if(e)return N(e,n);var a=!r&&!!i.length&&T(i);return a?N(a,n):o};var at=function(t){var e=t.allowNew,n=t.highlightOnlyResult,r=t.results;return!(!n||e)&&(1===r.length&&!z(T(r),"disabled"))};var st=function(t,e){return!e||e>=t.length?t:t.slice(0,e)};function ut(t,e,n){for(var r=t;n[r]&&n[r].disabled;)r+=e===S?-1:1;return r}function ct(t,e,n){var r=t;return(r=ut(r+=e===S?-1:1,e,n))===n.length?r=-1:-2===r&&(r=ut(r=n.length-1,e,n)),r}function lt(t){return null!=t.selectionStart}function ft(t){t.preventDefault()}function ht(t){return"large"===t||"lg"===t}function pt(t){return"small"===t||"sm"===t}var dt=Object(f.createContext)({activeIndex:-1,hintText:"",id:"",initialItem:null,inputNode:null,isOnlyResult:!1,onActiveItemChange:I,onAdd:I,onInitialItemChange:I,onMenuItemClick:I,selectHintOnEnter:void 0,setItem:I}),yt=function(){return Object(f.useContext)(dt)},vt=["activeIndex","disabled","id","inputRef","isFocused","isMenuShown","multiple","onBlur","onChange","onFocus","onKeyDown","placeholder"],gt=["activeIndex","hideMenu","isMenuShown","labelKey","onClear","onHide","onRemove","results","selected","text","toggleMenu"],mt=["activeIndex","id","initialItem","inputNode","onActiveItemChange","onAdd","onInitialItemChange","onMenuItemClick","selectHintOnEnter","setItem"],bt=function(t){var e=t.allowNew,n=t.children,r=t.initialItem,o=t.isMenuShown,a=t.onAdd,s=t.onInitialItemChange,u=t.onKeyDown,c=t.onMenuToggle,l=t.results,d=p(t);Object(f.useEffect)((function(){e||l.length||s(null)})),Object(f.useEffect)((function(){d&&d.isMenuShown!==o&&c(o)}));var y=i()({},j(t,gt),{getInputProps:it(i()({},j(t,vt),{onKeyDown:function(e){switch(e.keyCode){case 13:r&&at(t)&&a(r)}u(e)},value:ot(t)}))}),v=i()({},j(t,mt),{hintText:tt(t),isOnlyResult:at(t)});return h.a.createElement(dt.Provider,{value:v},n(y))},_t=[{alt:"onBlur",prop:"onBlur"},{alt:"onInputChange",prop:"onChange"},{alt:"onFocus",prop:"onFocus"},{alt:"onKeyDown",prop:"onKeyDown"}],xt=l.a.oneOf(D({LARGE:"large",LG:"lg",SM:"sm",SMALL:"small"}));function wt(t,e){return function(n,r,i){var o;l.a.checkPropTypes(((o={})[r]=t,o),n,"prop",i),M(e)&&e(n,r,i)}}function Et(t,e,n){X(null!=t[e],"The prop `"+e+"` is required to make `"+n+"` accessible for users of assistive technologies such as screen readers.")}var St=l.a.oneOfType([l.a.object,l.a.string]);var kt,Ot,Ct={allowNew:l.a.oneOfType([l.a.bool,l.a.func]),autoFocus:l.a.bool,caseSensitive:wt(l.a.bool,(function(t,e,n){var r=t.caseSensitive,i=t.filterBy;X(!r||"function"!==typeof i,"Your `filterBy` function will override the `caseSensitive` prop.")})),defaultInputValue:wt(l.a.string,(function(t,e,n){var r=t.defaultInputValue,i=t.defaultSelected,o=t.multiple,a=t.selected,s=i.length?"defaultSelected":"selected";X(!(!o&&r&&(i.length||a&&a.length)),"`defaultInputValue` will be overridden by the value from `"+s+"`.")})),defaultOpen:l.a.bool,defaultSelected:wt(l.a.arrayOf(St),(function(t,e,n){var r=t.defaultSelected;X(t.multiple||r.length<=1,"You are passing multiple options to the `defaultSelected` prop of a Typeahead in single-select mode. The selections will be truncated to a single selection.")})),filterBy:l.a.oneOfType([l.a.arrayOf(l.a.string.isRequired),l.a.func]),highlightOnlyResult:wt(l.a.bool,(function(t,e,n){var r=t.allowNew;X(!(t.highlightOnlyResult&&r),"`highlightOnlyResult` will not work with `allowNew`.")})),id:wt(l.a.oneOfType([l.a.number,l.a.string]),Et),ignoreDiacritics:wt(l.a.bool,(function(t,e,n){var r=t.filterBy;X(t.ignoreDiacritics||"function"!==typeof r,"Your `filterBy` function will override the `ignoreDiacritics` prop.")})),labelKey:wt(l.a.oneOfType([l.a.string,l.a.func]),(function(t,e,n){var r=t.allowNew;X(!(M(t.labelKey)&&r),"`labelKey` must be a string when `allowNew={true}`.")})),maxResults:l.a.number,minLength:l.a.number,multiple:l.a.bool,onBlur:l.a.func,onChange:l.a.func,onFocus:l.a.func,onInputChange:l.a.func,onKeyDown:l.a.func,onMenuToggle:l.a.func,onPaginate:l.a.func,open:l.a.bool,options:l.a.arrayOf(St).isRequired,paginate:l.a.bool,selected:wt(l.a.arrayOf(St),(function(t,e,n){var r=t.multiple,i=t.onChange,o=t.selected;X(r||!o||o.length<=1,"You are passing multiple options to the `selected` prop of a Typeahead in single-select mode. This may lead to unexpected behaviors or errors."),X(!o||o&&M(i),"You provided a `selected` prop without an `onChange` handler. If you want the typeahead to be uncontrolled, use `defaultSelected`. Otherwise, set `onChange`.")})),selectHintOnEnter:(kt=l.a.bool,Ot="Use the `shouldSelect` prop on the `Hint` component to define which keystrokes can select the hint.",function(t,e,n){var r;return null!=t[e]&&X(!1,"The `"+e+"` prop is deprecated. "+Ot),l.a.checkPropTypes(((r={})[e]=kt,r),t,"prop",n)})},Pt={allowNew:!1,autoFocus:!1,caseSensitive:!1,defaultInputValue:"",defaultOpen:!1,defaultSelected:[],filterBy:[],highlightOnlyResult:!1,ignoreDiacritics:!0,labelKey:k,maxResults:100,minLength:0,multiple:!1,onBlur:I,onFocus:I,onInputChange:I,onKeyDown:I,onMenuToggle:I,onPaginate:I,paginate:!0};function Tt(t){var e=t.defaultInputValue,n=t.defaultOpen,r=t.defaultSelected,i=t.maxResults,o=t.multiple,a=t.selected?t.selected.slice():r.slice(),s=e;return!o&&a.length&&(s=N(T(a),t.labelKey),a.length>1&&(a=a.slice(0,1))),{activeIndex:-1,activeItem:null,initialItem:null,isFocused:!1,selected:a,showMenu:n,shownResults:i,text:s}}function Mt(t,e){return i()({},Tt(e),{isFocused:t.isFocused,selected:[],text:""})}function At(t,e){var n=Tt(e);return{activeIndex:n.activeIndex,activeItem:n.activeItem,initialItem:n.initialItem,showMenu:!1,shownResults:n.shownResults}}function It(t,e){return t.showMenu?At(0,e):{showMenu:!0}}var jt=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,b()(y()(e),"state",Tt(e.props)),b()(y()(e),"inputNode",void 0),b()(y()(e),"isMenuShown",!1),b()(y()(e),"items",[]),b()(y()(e),"blur",(function(){e.inputNode&&e.inputNode.blur(),e.hideMenu()})),b()(y()(e),"clear",(function(){e.setState(Mt)})),b()(y()(e),"focus",(function(){e.inputNode&&e.inputNode.focus()})),b()(y()(e),"getInput",(function(){return e.inputNode})),b()(y()(e),"inputRef",(function(t){e.inputNode=t})),b()(y()(e),"setItem",(function(t,n){e.items[n]=t})),b()(y()(e),"hideMenu",(function(){e.setState(At)})),b()(y()(e),"toggleMenu",(function(){e.setState(It)})),b()(y()(e),"_handleActiveIndexChange",(function(t){e.setState((function(e){return{activeIndex:t,activeItem:-1===t?null:e.activeItem}}))})),b()(y()(e),"_handleActiveItemChange",(function(t){x()(t,e.state.activeItem)||e.setState({activeItem:t})})),b()(y()(e),"_handleBlur",(function(t){t.persist(),e.setState({isFocused:!1},(function(){return e.props.onBlur(t)}))})),b()(y()(e),"_handleChange",(function(t){e.props.onChange&&e.props.onChange(t)})),b()(y()(e),"_handleClear",(function(){e.setState(Mt,(function(){return e._handleChange([])}))})),b()(y()(e),"_handleFocus",(function(t){t.persist(),e.setState({isFocused:!0,showMenu:!0},(function(){return e.props.onFocus(t)}))})),b()(y()(e),"_handleInitialItemChange",(function(t){x()(t,e.state.initialItem)||e.setState({initialItem:t})})),b()(y()(e),"_handleInputChange",(function(t){t.persist();var n=t.currentTarget.value,r=e.props,i=r.multiple,o=r.onInputChange,a=e.state.selected.length&&!i;e.setState((function(t,e){var r=Tt(e),i=r.activeIndex,o=r.activeItem,s=r.shownResults;return{activeIndex:i,activeItem:o,selected:a?[]:t.selected,showMenu:!0,shownResults:s,text:n}}),(function(){o(n,t),a&&e._handleChange([])}))})),b()(y()(e),"_handleKeyDown",(function(t){var n=e.state.activeItem;if(!e.isMenuShown)return t.keyCode!==S&&40!==t.keyCode||e.setState({showMenu:!0}),void e.props.onKeyDown(t);switch(t.keyCode){case S:case 40:t.preventDefault(),e._handleActiveIndexChange(ct(e.state.activeIndex,t.keyCode,e.items));break;case 13:t.preventDefault(),n&&e._handleMenuItemSelect(n,t);break;case 27:case 9:e.hideMenu()}e.props.onKeyDown(t)})),b()(y()(e),"_handleMenuItemSelect",(function(t,n){t.paginationOption?e._handlePaginate(n):e._handleSelectionAdd(t)})),b()(y()(e),"_handlePaginate",(function(t){t.persist(),e.setState((function(t,e){return{shownResults:t.shownResults+e.maxResults}}),(function(){return e.props.onPaginate(t,e.state.shownResults)}))})),b()(y()(e),"_handleSelectionAdd",(function(t){var n,r,o=e.props,a=o.multiple,s=o.labelKey,u=t;!A(u)&&u.customOption&&(u=i()({},u,{id:R("new-id-")})),a?(n=e.state.selected.concat(u),r=""):(n=[u],r=N(u,s)),e.setState((function(t,e){return i()({},At(0,e),{initialItem:u,selected:n,text:r})}),(function(){return e._handleChange(n)}))})),b()(y()(e),"_handleSelectionRemove",(function(t){var n=e.state.selected.filter((function(e){return!x()(e,t)}));e.focus(),e.setState((function(t,e){return i()({},At(0,e),{selected:n})}),(function(){return e._handleChange(n)}))})),e}g()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.autoFocus&&this.focus()},n.componentDidUpdate=function(t,e){var n=this.props,r=n.labelKey,i=n.multiple,o=n.selected;!function(t,e){var n,r,i,o=!t&&e;o?(n="uncontrolled",r="controlled",i="an"):(n="controlled",r="uncontrolled",i="a"),X(!(o||t&&!e),"You are changing "+i+" "+n+" typeahead to be "+r+". Input elements should not switch from "+n+" to "+r+" (or vice versa). Decide between using a controlled or uncontrolled element for the lifetime of the component.")}(o,t.selected),o&&!x()(o,e.selected)&&(this.setState({selected:o}),i||this.setState({text:o.length?N(T(o),r):""}))},n.render=function(){var t=this.props,e=(t.onChange,a()(t,["onChange"])),n=i()({},e,this.state),r=n.filterBy,o=n.labelKey,s=n.options,u=n.paginate,c=n.shownResults,l=n.text;this.isMenuShown=function(t){var e=t.open,n=t.minLength,r=t.showMenu,i=t.text;return e||!1===e?e:!(i.length<n)&&r}(n),this.items=[];var f=[];if(this.isMenuShown){var p="function"===typeof r?r:Z;f=s.filter((function(t){return p(t,n)}));var d,y,v=u&&f.length>c;if(f=st(f,c),L(f,n))f.push(((d={customOption:!0})[C(o)]=l,d));if(v)f.push(((y={})[C(o)]="",y.paginationOption=!0,y))}return h.a.createElement(bt,i()({},n,{hideMenu:this.hideMenu,inputNode:this.inputNode,inputRef:this.inputRef,isMenuShown:this.isMenuShown,onActiveItemChange:this._handleActiveItemChange,onAdd:this._handleSelectionAdd,onBlur:this._handleBlur,onChange:this._handleInputChange,onClear:this._handleClear,onFocus:this._handleFocus,onHide:this.hideMenu,onInitialItemChange:this._handleInitialItemChange,onKeyDown:this._handleKeyDown,onMenuItemClick:this._handleMenuItemSelect,onRemove:this._handleSelectionRemove,results:f,setItem:this.setItem,toggleMenu:this.toggleMenu}))},e}(h.a.Component);b()(jt,"propTypes",Ct),b()(jt,"defaultProps",Pt);var Rt=jt,Dt={delay:l.a.number,isLoading:l.a.bool.isRequired,minLength:l.a.number,onSearch:l.a.func.isRequired,options:l.a.arrayOf(St),promptText:l.a.node,searchText:l.a.node,useCache:l.a.bool},Nt={delay:200,minLength:2,options:[],promptText:"Type to search...",searchText:"Searching...",useCache:!0};function Lt(t){var e=t.allowNew,n=t.delay,r=t.emptyLabel,o=t.isLoading,s=t.minLength,c=t.onInputChange,l=t.onSearch,h=t.options,d=t.promptText,y=t.searchText,v=t.useCache,g=a()(t,["allowNew","delay","emptyLabel","isLoading","minLength","onInputChange","onSearch","options","promptText","searchText","useCache"]),m=Object(f.useRef)({}),b=Object(f.useRef)(),_=Object(f.useRef)(t.defaultInputValue||""),x=Object(f.useReducer)((function(t){return!t}),!1)[1],w=p(t),E=Object(f.useCallback)((function(t){_.current=t,!t||s&&t.length<s||(v&&m.current[t]?x():l(t))}),[x,s,l,v]);Object(f.useEffect)((function(){return b.current=u()(E,n),function(){b.current&&b.current.cancel()}}),[n,E]),Object(f.useEffect)((function(){!o&&w&&w.isLoading&&v&&(m.current[_.current]=h)}));var S=Object(f.useCallback)((function(t,e){c&&c(t,e),b.current&&b.current(t)}),[c]),k=m.current[_.current];return i()({},g,{allowNew:M(e)?e:e&&!o,emptyLabel:_.current.length?o?y:r:d,isLoading:o,minLength:s,onInputChange:S,options:v&&k?k:h})}function zt(t){var e=Object(f.forwardRef)((function(e,n){return h.a.createElement(t,i()({},Lt(e),{ref:n}))}));return e.displayName="withAsync("+$(t)+")",e.propTypes=Dt,e.defaultProps=Nt,e}function Ft(t){return X(!1,"The `asyncContainer` export is deprecated; use `withAsync` instead."),zt(t)}var Bt=!("undefined"===typeof window||!window.document||!window.document.createElement),Ut=!1,qt=!1;try{var Vt={get passive(){return Ut=!0},get once(){return qt=Ut=!0}};Bt&&(window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,!0))}catch(pn){}var Gt=function(t,e,n,r){if(r&&"boolean"!==typeof r&&!qt){var i=r.once,o=r.capture,a=n;!qt&&i&&(a=n.__once||function t(r){this.removeEventListener(e,t,o),n.call(this,r)},n.__once=a),t.addEventListener(e,a,Ut?r:o)}t.addEventListener(e,n,r)};var Wt=function(t,e,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)};var Ht=function(t,e,n,r){return Gt(t,e,n,r),function(){Wt(t,e,n,r)}};var Kt=function(t){var e=Object(f.useRef)(t);return Object(f.useEffect)((function(){e.current=t}),[t]),e};function Xt(t){var e=Kt(t);return Object(f.useCallback)((function(){return e.current&&e.current.apply(e,arguments)}),[e])}var Yt=n(82),Zt=n.n(Yt);var $t=function(t){return(e=function(t){return t&&"setState"in t?Zt.a.findDOMNode(t):null!=t?t:null}(t))&&e.ownerDocument||document;var e},Jt=function(){};var Qt=function(t){return t&&("current"in t?t.current:t)};var te=function(t,e,n){var r=void 0===n?{}:n,i=r.disabled,o=r.clickTrigger,a=void 0===o?"click":o,s=Object(f.useRef)(!1),u=e||Jt,c=Object(f.useCallback)((function(e){var n,r,i,o=Qt(t);H()(!!o,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!o||!!((i=e).metaKey||i.altKey||i.ctrlKey||i.shiftKey)||!function(t){return 0===t.button}(e)||(n=o,r=e.target,!!(n.contains?n.contains(r):n.compareDocumentPosition?n===r||16&n.compareDocumentPosition(r):void 0))}),[t]),l=Xt((function(t){s.current||u(t)})),h=Xt((function(t){27===t.keyCode&&u(t)}));Object(f.useEffect)((function(){if(!i&&null!=t){var e=window.event,n=$t(Qt(t)),r=Ht(n,a,c,!0),o=Ht(n,a,(function(t){t!==e?l(t):e=void 0})),s=Ht(n,"keyup",(function(t){t!==e?h(t):e=void 0})),u=[];return"ontouchstart"in n.documentElement&&(u=[].slice.call(n.body.children).map((function(t){return Ht(t,"mousemove",Jt)}))),function(){r(),o(),s(),u.forEach((function(t){return t()}))}}}),[t,i,a,c,l,h])},ee={label:l.a.string,onClick:l.a.func,onKeyDown:l.a.func,size:xt},ne={label:"Clear",onClick:I,onKeyDown:I},re=function(t){var e=t.className,n=t.label,r=t.onClick,o=t.onKeyDown,s=t.size,u=a()(t,["className","label","onClick","onKeyDown","size"]);return h.a.createElement("button",i()({},u,{"aria-label":n,className:nt()("close","rbt-close",{"rbt-close-lg":ht(s)},e),onClick:function(t){t.stopPropagation(),r(t)},onKeyDown:function(t){8===t.keyCode&&t.preventDefault(),o(t)},type:"button"}),h.a.createElement("span",{"aria-hidden":"true"},"\xd7"),h.a.createElement("span",{className:"sr-only"},n))};re.propTypes=ee,re.defaultProps=ne;var ie=re,oe={label:l.a.string},ae=function(t){var e=t.label;return h.a.createElement("div",{className:"rbt-loader spinner-border spinner-border-sm",role:"status"},h.a.createElement("span",{className:"sr-only"},e))};ae.propTypes=oe,ae.defaultProps={label:"Loading..."};var se=ae,ue=n(69),ce=n.n(ue),le=n(407),fe=n(408),he=n.n(fe),pe=he()(),de=he()(),ye=(f.Component,function(t,e){if("function"===typeof t)return function(t){if("function"===typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}}(t,e);null!=t&&(t.current=e)}),ve={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},ge={},me=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,b()(y()(e),"state",{data:void 0,placement:void 0}),b()(y()(e),"popperInstance",void 0),b()(y()(e),"popperNode",null),b()(y()(e),"arrowNode",null),b()(y()(e),"setPopperNode",(function(t){t&&e.popperNode!==t&&(ye(e.props.innerRef,t),e.popperNode=t,e.updatePopperInstance())})),b()(y()(e),"setArrowNode",(function(t){e.arrowNode=t})),b()(y()(e),"updateStateModifier",{enabled:!0,order:900,fn:function(t){var n=t.placement;return e.setState({data:t,placement:n}),t}}),b()(y()(e),"getOptions",(function(){return{placement:e.props.placement,eventsEnabled:e.props.eventsEnabled,positionFixed:e.props.positionFixed,modifiers:i()({},e.props.modifiers,{arrow:i()({},e.props.modifiers&&e.props.modifiers.arrow,{enabled:!!e.arrowNode,element:e.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:e.updateStateModifier})}})),b()(y()(e),"getPopperStyle",(function(){return e.popperNode&&e.state.data?i()({position:e.state.data.offsets.popper.position},e.state.data.styles):ve})),b()(y()(e),"getPopperPlacement",(function(){return e.state.data?e.state.placement:void 0})),b()(y()(e),"getArrowStyle",(function(){return e.arrowNode&&e.state.data?e.state.data.arrowStyles:ge})),b()(y()(e),"getOutOfBoundariesState",(function(){return e.state.data?e.state.data.hide:void 0})),b()(y()(e),"destroyPopperInstance",(function(){e.popperInstance&&(e.popperInstance.destroy(),e.popperInstance=null)})),b()(y()(e),"updatePopperInstance",(function(){e.destroyPopperInstance();var t=y()(e).popperNode,n=e.props.referenceElement;n&&t&&(e.popperInstance=new le.a(n,t,e.getOptions()))})),b()(y()(e),"scheduleUpdate",(function(){e.popperInstance&&e.popperInstance.scheduleUpdate()})),e}g()(e,t);var n=e.prototype;return n.componentDidUpdate=function(t,e){this.props.placement===t.placement&&this.props.referenceElement===t.referenceElement&&this.props.positionFixed===t.positionFixed&&ce()(this.props.modifiers,t.modifiers,{strict:!0})?this.props.eventsEnabled!==t.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),e.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){ye(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}});var t},e}(f.Component);b()(me,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});le.a.placements;function be(t){var e=t.referenceElement,n=a()(t,["referenceElement"]);return f.createElement(pe.Consumer,null,(function(t){return f.createElement(me,i()({referenceElement:void 0!==e?e:t},n))}))}var _e="undefined"===typeof Element?function(){}:Element,xe={align:l.a.oneOf(D(O)),children:l.a.func.isRequired,dropup:l.a.bool,flip:l.a.bool,isMenuShown:l.a.bool,positionFixed:l.a.bool,referenceElement:l.a.instanceOf(_e)},we={align:O.JUSTIFY,dropup:!1,flip:!1,isMenuShown:!1,positionFixed:!1};function Ee(t){var e=t.align;return{computeStyles:{enabled:!0,fn:function(t){var n=t.styles,r=a()(t,["styles"]);return i()({},r,{styles:i()({},n,{width:e!==O.RIGHT&&e!==O.LEFT?r.offsets.reference.width:n.width})})}},flip:{enabled:t.flip},preventOverflow:{escapeWithReference:!0}}}var Se={bottom:{end:"bottom-end",start:"bottom-start"},top:{end:"top-end",start:"top-start"}};function ke(t){var e=t.align,n=t.dropup;return Se[n?"top":"bottom"][e===O.RIGHT?"end":"start"]}var Oe=function(t){var e=t.children,n=t.isMenuShown,r=t.positionFixed,o=t.referenceElement;return n?f.createElement(be,{modifiers:Ee(t),placement:ke(t),positionFixed:r,referenceElement:o},(function(t){var n=t.ref,r=a()(t,["ref"]);return e(i()({},r,{innerRef:n,inputHeight:o?o.offsetHeight:0}))})):null};Oe.propTypes=xe,Oe.defaultProps=we;var Ce=Oe,Pe={onBlur:l.a.func,onClick:l.a.func,onFocus:l.a.func,onRemove:l.a.func,option:St.isRequired},Te=function(t){var e="withToken("+$(t)+")",n=function(e){return h.a.createElement(t,function(t){var e=t.onBlur,n=t.onClick,r=t.onFocus,o=t.onRemove,s=t.option,u=a()(t,["onBlur","onClick","onFocus","onRemove","option"]),c=Object(f.useState)(!1),l=c[0],h=c[1],p=Object(f.useState)(null),d=p[0],y=p[1],v=function(t,e,n){t.stopPropagation(),h(e),"function"===typeof n&&n(t)},g=function(t){v(t,!1,e)},m=function(){o&&o(s)};return te(d,g,i()({},u,{disabled:!l})),i()({},u,{active:l,onBlur:g,onClick:function(t){v(t,!0,n)},onFocus:function(t){v(t,!0,r)},onKeyDown:function(t){switch(t.keyCode){case 8:l&&(t.preventDefault(),m())}},onRemove:M(o)?m:void 0,ref:y})}(e))};return n.displayName=e,n.propTypes=Pe,n};var Me=Object(f.forwardRef)((function(t,e){var n=t.active,r=t.children,o=t.className,s=t.onRemove,u=t.tabIndex,c=a()(t,["active","children","className","onRemove","tabIndex"]);return h.a.createElement("div",i()({},c,{className:nt()("rbt-token","rbt-token-removeable",{"rbt-token-active":!!n},o),ref:e,tabIndex:u||0}),r,h.a.createElement(ie,{className:"rbt-token-remove-button",label:"Remove",onClick:s,tabIndex:-1}))})),Ae=function(t){var e=t.children,n=t.className,r=t.disabled,i=t.href,o=nt()("rbt-token",{"rbt-token-disabled":r},n);return i&&!r?h.a.createElement("a",{className:o,href:i},e):h.a.createElement("div",{className:o},e)},Ie=Te(Object(f.forwardRef)((function(t,e){var n=t.disabled,r=t.onRemove,o=t.readOnly;return n||o||!M(r)?h.a.createElement(Ae,t):h.a.createElement(Me,i()({},t,{ref:e}))})));function je(t,e,n){return void 0===n&&(n=""),n&&(n=n.replace(n[0],n[0].toUpperCase())),["Top","Right","Bottom","Left"].map((function(r){return t[e+r+n]})).join(" ")}var Re=function(t){var e=t.children,n=t.shouldSelect;1!==h.a.Children.count(e)&&E()(!1);var r=yt(),o=r.hintText,a=r.initialItem,s=r.inputNode,u=r.onAdd,c=r.selectHintOnEnter,l=Object(f.useRef)(null);return Object(f.useEffect)((function(){!function(t,e){if(t&&e){var n=window.getComputedStyle(t);e.style.borderStyle=je(n,"border","style"),e.style.borderWidth=je(n,"border","width"),e.style.fontSize=n.fontSize,e.style.height=n.height,e.style.lineHeight=n.lineHeight,e.style.margin=je(n,"margin"),e.style.padding=je(n,"padding")}}(s,l.current)})),{child:Object(f.cloneElement)(e,i()({},e.props,{onKeyDown:function(t){o&&a&&function(t,e){var n=!1,r=t.currentTarget,i=t.keyCode;return 39===i&&(n=!lt(r)||r.selectionStart===r.value.length),9===i&&(t.preventDefault(),n=!0),13===i&&(n=!!e.selectHintOnEnter),"function"===typeof e.shouldSelect?e.shouldSelect(n,t):n}(t,{selectHintOnEnter:c,shouldSelect:n})&&u(a),e.props.onKeyDown&&e.props.onKeyDown(t)}})),hintRef:l,hintText:o}},De=function(t){var e=t.className,n=a()(t,["className"]),r=Re(n),i=r.child,o=r.hintRef,s=r.hintText;return h.a.createElement("div",{className:e,style:{display:"flex",flex:1,height:"100%",position:"relative"}},i,h.a.createElement("input",{"aria-hidden":!0,className:"rbt-input-hint",ref:o,readOnly:!0,style:{backgroundColor:"transparent",borderColor:"transparent",boxShadow:"none",color:"rgba(0, 0, 0, 0.35)",left:0,pointerEvents:"none",position:"absolute",top:0,width:"100%"},tabIndex:-1,value:s}))},Ne=h.a.forwardRef((function(t,e){return h.a.createElement("input",i()({},t,{className:nt()("rbt-input-main",t.className),ref:e}))}));var Le=function(t){var e=function(e){function n(){return e.apply(this,arguments)||this}return g()(n,e),n.prototype.render=function(){var e=this.props,n=e.className,r=e.isInvalid,o=e.isValid,s=e.size,u=a()(e,["className","isInvalid","isValid","size"]);return h.a.createElement(t,i()({},u,{className:nt()("form-control","rbt-input",{"form-control-lg":ht(s),"form-control-sm":pt(s),"is-invalid":r,"is-valid":o},n)}))},n}(h.a.Component);return b()(e,"displayName","withClassNames("+$(t)+")"),e},ze=Le(function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,b()(y()(e),"wrapperRef",h.a.createRef()),b()(y()(e),"_input",void 0),b()(y()(e),"getInputRef",(function(t){e._input=t,e.props.inputRef(t)})),b()(y()(e),"_handleContainerClickOrFocus",(function(t){if(e.props.disabled)t.currentTarget.blur();else{var n=e._input;n&&(t.currentTarget!==n&&lt(n)&&(n.selectionStart=n.value.length),n.focus())}})),b()(y()(e),"_handleKeyDown",(function(t){var n=e.props,r=n.onKeyDown,i=n.selected,o=n.value;switch(t.keyCode){case 8:if(t.currentTarget===e._input&&i.length&&!o&&(t.preventDefault(),e.wrapperRef.current)){var a=e.wrapperRef.current.children,s=a[a.length-2];s&&s.focus()}}r(t)})),e}return g()(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.className,r=t.inputClassName,o=(t.inputRef,t.placeholder),s=t.referenceElementRef,u=t.selected,c=t.shouldSelectHint,l=a()(t,["children","className","inputClassName","inputRef","placeholder","referenceElementRef","selected","shouldSelectHint"]);return h.a.createElement("div",{className:nt()("rbt-input-multi",n),disabled:l.disabled,onClick:this._handleContainerClickOrFocus,onFocus:this._handleContainerClickOrFocus,ref:s,tabIndex:-1},h.a.createElement("div",{className:"rbt-input-wrapper",ref:this.wrapperRef},e,h.a.createElement(De,{shouldSelect:c},h.a.createElement(Ne,i()({},l,{className:r,onKeyDown:this._handleKeyDown,placeholder:u.length?"":o,ref:this.getInputRef,style:{backgroundColor:"transparent",border:0,boxShadow:"none",cursor:"inherit",outline:"none",padding:0,width:"100%",zIndex:1}})))))},e}(h.a.Component)),Fe=Le((function(t){var e=t.inputRef,n=t.referenceElementRef,r=t.shouldSelectHint,o=a()(t,["inputRef","referenceElementRef","shouldSelectHint"]);return h.a.createElement(De,{shouldSelect:r},h.a.createElement(Ne,i()({},o,{ref:function(t){e(t),n(t)}})))})),Be={children:l.a.string.isRequired,highlightClassName:l.a.string,search:l.a.string.isRequired},Ue=function(t){function e(){return t.apply(this,arguments)||this}return g()(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.highlightClassName,r=t.search;if(!r||!e)return e;for(var i=0,o=e,a=[];o;){var s=Q(o,r);if(!s){a.push(o);break}var u=o.slice(0,s.start);u&&a.push(u);var c=o.slice(s.start,s.end);a.push(h.a.createElement("mark",{className:n,key:i},c)),i+=1,o=o.slice(s.end)}return a},e}(h.a.PureComponent);b()(Ue,"propTypes",Be),b()(Ue,"defaultProps",{highlightClassName:"rbt-highlight-text"});var qe=Ue;function Ve(t){return null!=t&&"object"==typeof t&&1===t.nodeType}function Ge(t,e){return(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t}function We(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var n=getComputedStyle(t,null);return Ge(n.overflowY,e)||Ge(n.overflowX,e)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function He(t,e,n,r,i,o,a,s){return o<t&&a>e||o>t&&a<e?0:o<=t&&s<=n||a>=e&&s>=n?o-t-r:a>e&&s<n||o<t&&s>n?a-e+i:0}var Ke=function(t,e){var n=window,r=e.scrollMode,i=e.block,o=e.inline,a=e.boundary,s=e.skipOverflowHiddenElements,u="function"==typeof a?a:function(t){return t!==a};if(!Ve(t))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],f=t;Ve(f)&&u(f);){if((f=f.parentNode)===c){l.push(f);break}f===document.body&&We(f)&&!We(document.documentElement)||We(f,s)&&l.push(f)}for(var h=n.visualViewport?n.visualViewport.width:innerWidth,p=n.visualViewport?n.visualViewport.height:innerHeight,d=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,v=t.getBoundingClientRect(),g=v.height,m=v.width,b=v.top,_=v.right,x=v.bottom,w=v.left,E="start"===i||"nearest"===i?b:"end"===i?x:b+g/2,S="center"===o?w+m/2:"end"===o?_:w,k=[],O=0;O<l.length;O++){var C=l[O],P=C.getBoundingClientRect(),T=P.height,M=P.width,A=P.top,I=P.right,j=P.bottom,R=P.left;if("if-needed"===r&&b>=0&&w>=0&&x<=p&&_<=h&&b>=A&&x<=j&&w>=R&&_<=I)return k;var D=getComputedStyle(C),N=parseInt(D.borderLeftWidth,10),L=parseInt(D.borderTopWidth,10),z=parseInt(D.borderRightWidth,10),F=parseInt(D.borderBottomWidth,10),B=0,U=0,q="offsetWidth"in C?C.offsetWidth-C.clientWidth-N-z:0,V="offsetHeight"in C?C.offsetHeight-C.clientHeight-L-F:0;if(c===C)B="start"===i?E:"end"===i?E-p:"nearest"===i?He(y,y+p,p,L,F,y+E,y+E+g,g):E-p/2,U="start"===o?S:"center"===o?S-h/2:"end"===o?S-h:He(d,d+h,h,N,z,d+S,d+S+m,m),B=Math.max(0,B+y),U=Math.max(0,U+d);else{B="start"===i?E-A-L:"end"===i?E-j+F+V:"nearest"===i?He(A,j,T,L,F+V,E,E+g,g):E-(A+T/2)+V/2,U="start"===o?S-R-N:"center"===o?S-(R+M/2)+q/2:"end"===o?S-I+z+q:He(R,I,M,N,z+q,S,S+m,m);var G=C.scrollLeft,W=C.scrollTop;E+=W-(B=Math.max(0,Math.min(W+B,C.scrollHeight-T+V))),S+=G-(U=Math.max(0,Math.min(G+U,C.scrollWidth-M+q)))}k.push({el:C,top:B,left:U})}return k};function Xe(t){return t===Object(t)&&0!==Object.keys(t).length}var Ye=function(t,e){var n=!t.ownerDocument.documentElement.contains(t);if(Xe(e)&&"function"===typeof e.behavior)return e.behavior(n?[]:Ke(t,e));if(!n){var r=function(t){return!1===t?{block:"end",inline:"nearest"}:Xe(t)?t:{block:"start",inline:"nearest"}}(e);return function(t,e){void 0===e&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach((function(t){var r=t.el,i=t.top,o=t.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:e}):(r.scrollTop=i,r.scrollLeft=o)}))}(Ke(t,r),r.behavior)}},Ze={option:St.isRequired,position:l.a.number},$e=function(t){var e="withItem("+$(t)+")",n=function(e){return h.a.createElement(t,function(t){var e=t.label,n=t.onClick,r=t.option,o=t.position,s=a()(t,["label","onClick","option","position"]),u=yt(),c=u.activeIndex,l=u.id,h=u.isOnlyResult,p=u.onActiveItemChange,d=u.onInitialItemChange,y=u.onMenuItemClick,v=u.setItem,g=Object(f.useRef)(null);Object(f.useEffect)((function(){0===o&&d(r)})),Object(f.useEffect)((function(){if(o===c){p(r);var t=g.current;t&&Ye(t,{block:"nearest",boundary:t.parentNode,inline:"nearest",scrollMode:"if-needed"})}}));var m=Object(f.useCallback)((function(t){y(r,t),n&&n(t)}),[n,y,r]),b=h||c===o;return v(r,o),i()({},s,{active:b,"aria-label":e,"aria-selected":b,id:rt(l,o),onClick:m,onMouseDown:ft,ref:g,role:"option"})}(e))};return n.displayName=e,n.propTypes=Ze,n};var Je=h.a.forwardRef((function(t,e){var n=t.active,r=t.children,o=t.className,s=t.disabled,u=t.onClick,c=t.onMouseDown,l=a()(t,["active","children","className","disabled","onClick","onMouseDown"]);return h.a.createElement("a",i()({},l,{className:nt()("dropdown-item",{active:n,disabled:s},o),href:"#",onClick:function(t){t.preventDefault(),!s&&u&&u(t)},onMouseDown:c,ref:e}),r)})),Qe=$e(Je),tn={"aria-label":l.a.string,emptyLabel:l.a.node,id:wt(l.a.oneOfType([l.a.number,l.a.string]),Et),maxHeight:l.a.string},en=function(t){function e(){return t.apply(this,arguments)||this}g()(e,t);var n=e.prototype;return n.componentDidUpdate=function(t){var e=this.props,n=e.inputHeight,r=e.scheduleUpdate;n!==t.inputHeight&&r()},n.render=function(){var t=this.props,e=t.children,n=t.className,r=t.emptyLabel,o=t.id,a=t.innerRef,s=t.maxHeight,u=t.style,c=t.text,l=0===f.Children.count(e)?h.a.createElement(Je,{disabled:!0,role:"option"},r):e;return h.a.createElement("div",{"aria-label":this.props["aria-label"],className:nt()("rbt-menu","dropdown-menu","show",n),id:o,key:c,onMouseDown:ft,ref:a,role:"listbox",style:i()({},u,{display:"block",maxHeight:s,overflow:"auto"})},l)},e}(h.a.Component);b()(en,"propTypes",tn),b()(en,"defaultProps",{"aria-label":"menu-options",emptyLabel:"No matches found.",maxHeight:"300px"}),b()(en,"Divider",(function(t){return h.a.createElement("div",{className:"dropdown-divider",role:"separator"})})),b()(en,"Header",(function(t){return h.a.createElement("div",i()({},t,{className:"dropdown-header",role:"heading"}))}));var nn=en,rn={newSelectionPrefix:l.a.node,paginationText:l.a.node,renderMenuItemChildren:l.a.func},on={newSelectionPrefix:"New selection: ",paginationText:"Display additional results...",renderMenuItemChildren:function(t,e,n){return h.a.createElement(qe,{search:e.text},N(t,e.labelKey))}},an=function(t){var e=t.labelKey,n=t.newSelectionPrefix,r=t.options,o=t.paginationText,s=t.renderMenuItemChildren,u=t.text,c=a()(t,["labelKey","newSelectionPrefix","options","paginationText","renderMenuItemChildren","text"]);return h.a.createElement(nn,i()({},c,{text:u}),r.map((function(r,a){var c=N(r,e),l={disabled:z(r,"disabled"),label:c,option:r,position:a};return r.customOption?h.a.createElement(Qe,i()({},l,{className:"rbt-menu-custom-option",key:a,label:c}),n,h.a.createElement(qe,{search:u},c)):r.paginationOption?h.a.createElement(f.Fragment,{key:"pagination-item"},h.a.createElement(nn.Divider,null),h.a.createElement(Qe,i()({},l,{className:"rbt-menu-pagination-option",label:o}),o)):h.a.createElement(Qe,i()({},l,{key:a}),s(r,t,a))})))};an.propTypes=rn,an.defaultProps=on;var sn=an,un={clearButton:l.a.bool,inputProps:wt(l.a.object,(function(t,e,n){var r=t.inputProps;r&&"[object Object]"===Object.prototype.toString.call(r)&&_t.forEach((function(t){var e=t.alt,n=t.prop,i=e?" Use the top-level `"+e+"` prop instead.":null;X(!r[n],"The `"+n+"` property of `inputProps` will be ignored."+i)}))})),isInvalid:l.a.bool,isLoading:l.a.bool,isValid:l.a.bool,renderInput:l.a.func,renderMenu:l.a.func,renderToken:l.a.func,size:xt},cn={clearButton:!1,inputProps:{},isInvalid:!1,isLoading:!1,isValid:!1,renderMenu:function(t,e,n){return h.a.createElement(sn,i()({},e,{labelKey:n.labelKey,options:t,text:n.text}))},renderToken:function(t,e,n){return h.a.createElement(Ie,{disabled:e.disabled,key:n,onRemove:e.onRemove,option:t,tabIndex:e.tabIndex},N(t,e.labelKey))}};var ln=function(t){var e=t.children,n=t.onRootClose,r=a()(t,["children","onRootClose"]),i=Object(f.useState)(null),o=i[0],s=i[1];return te(o,n,r),e(s)},fn=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,b()(y()(e),"_referenceElement",void 0),b()(y()(e),"referenceElementRef",(function(t){e._referenceElement=t})),b()(y()(e),"_renderInput",(function(t,n){var r=e.props,o=r.isInvalid,a=r.isValid,s=r.multiple,u=r.renderInput,c=r.renderToken,l=r.size;if(M(u))return u(t,n);var f=i()({},t,{isInvalid:o,isValid:a,size:l});if(!s)return h.a.createElement(Fe,f);var p=n.labelKey,d=n.onRemove,y=n.selected;return h.a.createElement(ze,i()({},f,{selected:y}),y.map((function(t,e){return c(t,i()({},f,{labelKey:p,onRemove:d}),e)})))})),b()(y()(e),"_renderMenu",(function(t,n,r){var o=e.props,a=o.emptyLabel,s=o.id,u=o.maxHeight,c=o.newSelectionPrefix,l=o.paginationText,f=o.renderMenu,h=o.renderMenuItemChildren;return f(t,i()({},n,{emptyLabel:a,id:s,maxHeight:u,newSelectionPrefix:c,paginationText:l,renderMenuItemChildren:h}),r)})),b()(y()(e),"_renderAux",(function(t){var n,r=t.onClear,i=t.selected,o=e.props,a=o.clearButton,s=o.disabled,u=o.isLoading,c=o.size;return u?n=h.a.createElement(se,null):a&&!s&&i.length&&(n=h.a.createElement(ie,{onClick:r,onFocus:function(t){t.stopPropagation()},onMouseDown:ft,size:c})),n?h.a.createElement("div",{className:nt()("rbt-aux",{"rbt-aux-lg":ht(c)})},n):null})),e}return g()(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.children,r=e.className,o=e.instanceRef,s=e.open,u=e.options,c=e.style;return h.a.createElement(Rt,i()({},this.props,{options:u,ref:o}),(function(e){var o=e.getInputProps,u=a()(e,["getInputProps"]),l=u.hideMenu,f=u.isMenuShown,p=u.results,d=t._renderAux(u);return h.a.createElement(ln,{disabled:s||!f,onRootClose:l},(function(e){return h.a.createElement("div",{className:nt()("rbt",{"has-aux":!!d},r),ref:e,style:i()({},c,{outline:"none",position:"relative"}),tabIndex:-1},t._renderInput(i()({},o(t.props.inputProps),{referenceElementRef:t.referenceElementRef}),u),h.a.createElement(Ce,i()({},function(t){return j(t,["align","dropup","flip","positionFixed"])}(t.props),{isMenuShown:f,referenceElement:t._referenceElement}),(function(e){return t._renderMenu(p,e,u)})),d,M(n)?n(u):n)}))}))},e}(h.a.Component);b()(fn,"propTypes",un),b()(fn,"defaultProps",cn);var hn=Object(f.forwardRef)((function(t,e){return h.a.createElement(fn,i()({},t,{instanceRef:e}))}));zt(hn)},function(t,e,n){"use strict";var r=n(116),i=n(331),o=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function a(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function s(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=p(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var u=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},c=n(95),l=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=p(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},f=n(410),h=n(210),p=e.a=function(t,e){var n,p=typeof e;return null==e||"boolean"===p?Object(h.a)(e):("number"===p?c.a:"string"===p?(n=Object(r.e)(e))?(e=n,i.a):f.a:e instanceof r.e?i.a:e instanceof Date?u:a(e)?o:Array.isArray(e)?s:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?l:c.a)(t,e)}},function(t,e,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){return r.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));e.a=i},function(t,e,n){"use strict";var r=n(171),i=n(409),o=n(237),a=Object(i.a)(r.a),s=a.right;a.left,Object(i.a)(o.a).center;e.a=s},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(20),i=n(33),o=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r.a);e.a=Object(i.a)(o)},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n(131),i=n(457),o=Object(i.a)(Object(r.a)(-100,.75,.35),Object(r.a)(80,1.5,.8)),a=Object(i.a)(Object(r.a)(260,.75,.35),Object(r.a)(80,1.5,.8)),s=Object(r.a)();e.b=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return s.h=360*t-100,s.s=1.5-1.5*e,s.l=.8-.9*e,s+""}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(131),i=n(129);function o(t){return function e(n){function o(e,o){var a=t((e=Object(r.a)(e)).h,(o=Object(r.a)(o)).h),s=Object(i.a)(e.s,o.s),u=Object(i.a)(e.l,o.l),c=Object(i.a)(e.opacity,o.opacity);return function(t){return e.h=a(t),e.s=s(t),e.l=u(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,o.gamma=e,o}(1)}o(i.c);var a=o(i.a)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._t=e}function i(t){return new r(t,0)}function o(t){return new r(t,1)}n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},e.a=function(t){return new r(t,.5)}},,,,,,function(t,e,n){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}},function(t,e,n){"use strict";var r=function(t){return t!==t};t.exports=function(t,e){return 0===t&&0===e?1/t===1/e:t===e||!(!r(t)||!r(e))}},function(t,e,n){"use strict";var r=n(465);t.exports=function(){return"function"===typeof Object.is?Object.is:r}},function(t,e,n){"use strict";var r,i,o,a,s=n(99)()&&"symbol"===typeof Symbol.toStringTag;if(s){r=Function.call.bind(Object.prototype.hasOwnProperty),i=Function.call.bind(RegExp.prototype.exec),o={};var u=function(){throw o};a={toString:u,valueOf:u},"symbol"===typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=u)}var c=Object.prototype.toString,l=Object.getOwnPropertyDescriptor;t.exports=s?function(t){if(!t||"object"!==typeof t)return!1;var e=l(t,"lastIndex");if(!(e&&r(e,"value")))return!1;try{i(t,a)}catch(n){return n===o}}:function(t){return!(!t||"object"!==typeof t&&"function"!==typeof t)&&"[object RegExp]"===c.call(t)}},function(t,e,n){"use strict";var r=n(119),i=n(699),o=n(469),a=n(470),s=n(701),u=i(o);r(u,{getPolyfill:a,implementation:o,shim:s}),t.exports=u},function(t,e,n){"use strict";var r=Object,i=TypeError;t.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,n){"use strict";var r=n(469),i=n(119).supportsDescriptors,o=Object.getOwnPropertyDescriptor,a=TypeError;t.exports=function(){if(!i)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=o(RegExp.prototype,"flags");if(t&&"function"===typeof t.get&&"boolean"===typeof/a/.dotAll)return t.get}return r}},function(t,e,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;t.exports=function(t){return"object"===typeof t&&null!==t&&(o?function(t){try{return r.call(t),!0}catch(e){return!1}}(t):"[object Date]"===i.call(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=e.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},a=e.isJsons=function(t){return Array.isArray(t)&&t.every((function(t){return"object"===("undefined"===typeof t?"undefined":r(t))&&!(t instanceof Array)}))},s=e.isArrays=function(t){return Array.isArray(t)&&t.every((function(t){return Array.isArray(t)}))},u=e.jsonsHeaders=function(t){return Array.from(t.map((function(t){return Object.keys(t)})).reduce((function(t,e){return new Set([].concat(i(t),i(e)))}),[]))},c=e.jsons2arrays=function(t,e){var n=e=e||u(t),r=e;a(e)&&(n=e.map((function(t){return t.label})),r=e.map((function(t){return t.key})));var o=t.map((function(t){return r.map((function(e){return l(e,t)}))}));return[n].concat(i(o))},l=e.getHeaderValue=function(t,e){var n=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(t,e,n,r){if(void 0!==t[e])return t[e];r.splice(1)}),e);return void 0===n?t in e?e[t]:"":n},f=e.elementOrEmpty=function(t){return t||0===t?t:""},h=e.joiner=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return t.filter((function(t){return t})).map((function(t){return t.map((function(t){return f(t)})).map((function(t){return""+n+t+n})).join(e)})).join("\n")},p=e.arrays2csv=function(t,e,n,r){return h(e?[e].concat(i(t)):t,n,r)},d=e.jsons2csv=function(t,e,n,r){return h(c(t,e),n,r)},y=e.string2csv=function(t,e,n,r){return e?e.join(n)+"\n"+t:t},v=e.toCSV=function(t,e,n,r){if(a(t))return d(t,e,n,r);if(s(t))return p(t,e,n,r);if("string"===typeof t)return y(t,e,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};e.buildURI=function(t,e,n,r,i){var a=v(t,n,r,i),s=o()?"application/csv":"text/csv",u=new Blob([e?"\ufeff":"",a],{type:s}),c="data:"+s+";charset=utf-8,"+(e?"\ufeff":"")+a,l=window.URL||window.webkitURL;return"undefined"===typeof l.createObjectURL?c:l.createObjectURL(u)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropsNotForwarded=e.defaultProps=e.propTypes=void 0;var r,i=n(1),o=((r=i)&&r.__esModule,n(2));e.propTypes={data:(0,o.oneOfType)([o.string,o.array]).isRequired,headers:o.array,target:o.string,separator:o.string,filename:o.string,uFEFF:o.bool,onClick:o.func,asyncOnClick:o.bool},e.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1},e.PropsNotForwarded=["data","headers"]},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(37),i=n(1212),o=n(428),a=n(171),s=n(40);function u(){var t,e=[],n=[],c=[];function l(){var t=0,r=Math.max(1,n.length);for(c=new Array(r-1);++t<r;)c[t-1]=Object(i.b)(e,t/r);return f}function f(e){return isNaN(e=+e)?t:n[Object(o.a)(c,e)]}return f.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?c[r-1]:e[0],r<c.length?c[r]:e[e.length-1]]},f.domain=function(t){if(!arguments.length)return e.slice();e=[];var n,i=Object(r.a)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;null==o||isNaN(o=+o)||e.push(o)}}catch(s){i.e(s)}finally{i.f()}return e.sort(a.a),l()},f.range=function(t){return arguments.length?(n=Array.from(t),l()):n.slice()},f.unknown=function(e){return arguments.length?(t=e,f):t},f.quantiles=function(){return c.slice()},f.copy=function(){return u().domain(e).range(n).unknown(t)},s.b.apply(f,arguments)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(428),i=n(40);function o(){var t,e=[.5],n=[0,1],a=1;function s(i){return i<=i?n[Object(r.a)(e,i,0,a)]:t}return s.domain=function(t){return arguments.length?(e=Array.from(t),a=Math.min(e.length,n.length-1),s):e.slice()},s.range=function(t){return arguments.length?(n=Array.from(t),a=Math.min(e.length,n.length-1),s):n.slice()},s.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return o().domain(e).range(n).unknown(t)},i.b.apply(s,arguments)}},function(t,e,n){"use strict";e.__esModule=!0,e.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},t.exports=e.default},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(53))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(349),i=n(217);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},function(t,e,n){var r=n(154),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},function(t,e,n){var r=n(745)();t.exports=r},function(t,e,n){(function(t){var r=n(106),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(248)(t))},function(t,e,n){var r=n(350);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(106).Uint8Array;t.exports=r},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(747),i=n(351),o=n(352);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(185),i=n(88);t.exports=function(t){return i(t)&&r(t)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){var r=n(752),i=n(256),o=n(66),a=n(257),s=n(259),u=n(354),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),f=!n&&!l&&a(t),h=!n&&!l&&!f&&u(t),p=n||l||f||h,d=p?r(t.length,String):[],y=d.length;for(var v in t)!e&&!c.call(t,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,y))||d.push(v);return d}},function(t,e,n){var r=n(756),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},function(t,e,n){var r=n(757),i=n(759)(r);t.exports=i},function(t,e,n){var r=n(217),i=n(185),o=n(259),a=n(107);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(355),i=n(188),o=n(259),a=n(107),s=n(189);t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,l=(e=i(e,t)).length,f=l-1,h=t;null!=h&&++c<l;){var p=s(e[c]),d=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return t;if(c!=f){var y=h[p];void 0===(d=u?u(y,p,h):void 0)&&(d=a(y)?y:o(e[c+1])?[]:{})}r(h,p,d),h=h[p]}return t}},function(t,e,n){var r=n(768);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t,e){return function(n){return n[t]=e,n}};e.default=r},function(t,e,n){var r=n(358),i=n(775),o=n(359);t.exports=function(t,e,n,a,s,u){var c=1&n,l=t.length,f=e.length;if(l!=f&&!(c&&f>l))return!1;var h=u.get(t),p=u.get(e);if(h&&p)return h==e&&p==t;var d=-1,y=!0,v=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++d<l;){var g=t[d],m=e[d];if(a)var b=c?a(m,g,d,e,t,u):a(g,m,d,t,e,u);if(void 0!==b){if(b)continue;y=!1;break}if(v){if(!i(e,(function(t,e){if(!o(v,e)&&(g===t||s(g,t,n,a,u)))return v.push(e)}))){y=!1;break}}else if(g!==m&&!s(g,m,n,a,u)){y=!1;break}}return u.delete(t),u.delete(e),y}},function(t,e,n){var r=n(500),i=n(363),o=n(220);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(362),i=n(66);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(154)(n(106),"Set");t.exports=r},function(t,e,n){"use strict";var r=n(108);e.__esModule=!0,e.default=void 0;var i=r(n(207)).default;e.default=i},function(t,e,n){var r=n(787),i=n(788);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(789),i=n(491),o=n(492);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(362),i=n(790);t.exports=function t(e,n,o,a,s){var u=-1,c=e.length;for(o||(o=i),s||(s=[]);++u<c;){var l=e[u];n>0&&o(l)?n>1?t(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(t,e,n){var r=n(358),i=n(495),o=n(496),a=n(359),s=n(791),u=n(361);t.exports=function(t,e,n){var c=-1,l=i,f=t.length,h=!0,p=[],d=p;if(n)h=!1,l=o;else if(f>=200){var y=e?null:s(t);if(y)return u(y);h=!1,l=a,d=new r}else d=e?[]:p;t:for(;++c<f;){var v=t[c],g=e?e(v):v;if(v=n||0!==v?v:0,h&&g===g){for(var m=d.length;m--;)if(d[m]===g)continue t;e&&d.push(g),p.push(v)}else l(d,g,n)||(d!==p&&d.push(g),p.push(v))}return p}},function(t,e,n){var r=n(107);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(802),i=n(803)(r);t.exports=i},function(t,e,n){var r=n(362),i=n(351),o=n(363),a=n(502),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e,n){var r=n(500),i=n(512),o=n(218);t.exports=function(t){return r(t,o,i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentFactory=e.addWrappers=e.addComponents=void 0;var r=a(n(1)),i=n(264),o=a(n(5));function a(t){return t&&t.__esModule?t:{default:t}}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y={},v=p({},i.Wrappers);e.addComponents=function(t){y=p(p({},y),t)};e.addWrappers=function(t){v=p(p({},v),t)};var g=function(t,e){return(0,o.default)(t,"key","key-".concat(e.join("-")))},m=function(t){return"function"===typeof t?t:"string"===typeof t?function(){return t}:"function"===typeof t.type?t.type:(0,o.default)(y,t.type,function(t){return function(e){var n=e.children,i=f(e,["children"]);return r.default.createElement(t.type,i,n)}}(t))},b=function(t,e){return(0,o.default)(e,"wrappers",[]).reduce((function(t,e){if("string"===typeof e)return(0,o.default)(v,e,(function(t){return t}))(t);if("function"===typeof e)return e(t);if("object"===l(e)){var n=e.type,r=e.options;return(0,o.default)(v,n,(function(t){return t}))(t,r)}return t}),t)},_=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=m(e);if("object"===l(a))return t(a,n,e);a=b(b(a,i),e);var c=[].concat(u((0,o.default)(i,"children",[])),u((0,o.default)(e,"children",[])));return r.default.createElement(a,s({key:g(e,n)},(0,o.default)(i,"props",{}),(0,o.default)(e,"props",{})),c.map((function(e,r){return t(e,[].concat(u(n),[r]))})))};e.ComponentFactory=function(t){var e=t.config;return _(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TEST_THEME=e.light=e.blue=e.dark=e.flat=e.flat_base=void 0;var r=n(365),i=n(516),o={bg:"custom-bg",ySpace:"py-4",contentPadding:"py-4",menuBg:"custom-bg",contentWidth:"",text:"text-blue-800",sidebarW:"64",sidebarBorder:"",menuIcon:"mr-3 h-5 w-5",navitemTop:"mr-4 inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out",navitemTopActive:"mr-4 inline-flex items-center px-1 pt-1 border-b-2 border-indigo-500 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out",navitemSide:"mb-1 group flex pl-3 pr-4 py-2 border-l-4 border-transparent text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out",navitemSideActive:"mb-1 group flex pl-3 pr-4 py-2 border-l-4 border-indigo-500 text-sm font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out",headerBg:"custom-bg",headerShadow:"",contentBg:"",accent1:"bg-gray-200",accent2:"bg-gray-300",accent3:"bg-gray-400",accent4:"bg-gray-500",lighter:"bg-gray-50",button:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm leading-5 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out",buttonPrimary:"inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700 transition duration-150 ease-in-out",textbutton:"text-sm text-blue-500 hover:text-blue-300 px-2",input:"block",tableRow:"bg-white border-b border-blue-100 hover:bg-blue-50",tableRowStriped:"bg-white even:bg-gray-50",tableCell:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-600",tableCellCondensed:"px-3 py-2 whitespace-no-wrap text-sm leading-5 text-gray-600",tableHeader:"px-6 pt-2 pb-1\tborder-b border-gray-400 bg-gray-200 text-left font-medium text-gray-700 uppercase first:rounded-tl-md last:rounded-tr-md"};e.flat_base=o;var a=(0,r.makeProxy)(o);e.flat=a;var s=(0,r.makeProxy)({bg:"bg-gray-300",menuBg:"bg-gray-800",sidebarW:"56",sidebarBorder:"",shadow:"",ySpace:"py-5",contentPadding:"py-5",text:"text-gray-300",contentWidth:"max-w-7xl mx-auto",menuIcon:"mr-3 h-4 w-4",topNavHeight:"h-16",navitemTop:"ml-3 my-3 px-3 py-1 inline-flex items-center rounded-md text-sm font-medium text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700",navitemTopActive:"ml-3 my-3 px-3 py-1 inline-flex items-center rounded-md text-sm font-medium text-white bg-gray-900 focus:outline-none focus:text-white focus:bg-gray-700",navitemSide:"mt-1 group flex items-center px-2 py-2 text-sm leading-5 font-medium text-gray-300 rounded-md hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700 transition ease-in-out duration-150",navitemSideActive:"group flex items-center px-2 py-2 text-sm leading-5 font-medium text-white rounded-md bg-gray-900 focus:outline-none focus:bg-gray-700 transition ease-in-out duration-150",headerBg:"bg-gray-800",headerShadow:"shadow",contentBg:"bg-gray-100",accent1:"bg-gray-600",accent2:"bg-gray-500",accent3:"bg-gray-400",lighter:"bg-gray-700",button:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm leading-5 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out",buttonPrimary:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm leading-5 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out",textbutton:"text-sm text-blue-500 hover:text-blue-300 px-2",tableRow:"bg-white border-b border-gray-200",tableRowStriped:"bg-white even:bg-gray-50"});e.dark=s;var u=(0,r.makeProxy)({bg:"bg-gray-200",menuBg:"bg-indigo-800",sidebarW:"56",sidebarBorder:"",shadow:"shadow",ySpace:"py-5",contentPadding:"py-5",text:"text-gray-300",contentWidth:"max-w-7xl mx-auto",menuIcon:"mr-3 h-4 w-4",topNavHeight:"h-16",navitemTop:"ml-3 my-3 px-3 py-1 inline-flex items-center rounded-md text-sm font-medium text-gray-300 hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700",navitemTopActive:"ml-3 my-3 px-3 py-1 inline-flex items-center rounded-md text-sm font-medium text-white bg-gray-900 focus:outline-none focus:text-white focus:bg-gray-700",navitemSide:"mt-1 group flex items-center px-2 py-2 text-sm leading-5 font-medium text-gray-300 rounded-md hover:text-white hover:bg-gray-700 focus:outline-none focus:text-white focus:bg-gray-700 transition ease-in-out duration-150",navitemSideActive:"group flex items-center px-2 py-2 text-sm leading-5 font-medium text-white rounded-md bg-gray-900 focus:outline-none focus:bg-gray-700 transition ease-in-out duration-150",headerBg:"bg-gray-800",headerShadow:"shadow",contentBg:"bg-gray-100",accent1:"bg-gray-200",accent2:"bg-gray-300",accent3:"bg-gray-400",light:"bg-gray-50",button:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm leading-5 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out",buttonPrimary:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm leading-5 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out",tableRow:"bg-white border-b border-gray-200",tableRowStriped:"bg-white even:bg-gray-50"});e.blue=u;var c=(0,r.makeProxy)({shadow:"shadow",ySpace:"py-4",contentPadding:"py-4",sidebarBorder:"",text:"text-gray-800",textContrast:"text-white",border:"border-gray-400",textInfo:"text-teal-400",bgInfo:"bg-teal-400",borderInfo:"border-teal-400",textSuccess:"text-green-400",bgSuccess:"bg-green-400",borderSuccess:"border-green-400",textDanger:"text-red-400",bgDanger:"bg-red-400",borderDanger:"border-red-400",textWarning:"text-yellow-400",bgWarning:"bg-yellow-400",borderWarning:"border-yellow-400",textLight:"text-gray-400",placeholder:"placeholder-gray-400",borderLight:"border-gray-400",bgLight:"bg-gray-400",menuIcon:"mr-3 h-6 w-6",topMenuBorder:"border-b border-gray-200",headerShadow:"",navitemTop:"mr-4 inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out",navitemTopActive:"mr-4 inline-flex items-center px-1 pt-1 border-b-2 border-indigo-500 text-sm font-medium leading-5 text-gray-900 bg-indigo-100 focus:outline-none hover:bg-indigo-200 focus:border-indigo-700 transition duration-150 ease-in-out",navitemSide:"mb-1 group flex pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out",navitemSideActive:"mb-1 group flex pl-3 pr-4 py-2 border-l-4 border-indigo-500 text-base font-medium text-indigo-600 bg-indigo-100 focus:outline-none hover:text-indigo-800 focus:text-indigo-800 hover:bg-indigo-200 focus:bg-indigo-200 focus:border-indigo-700 transition duration-150 ease-in-out",bg:"bg-gray-100",menuBg:"bg-gray-200",menuBgHover:"hover:bg-gray-300",menuBgActive:"bg-teal-200",menuBgActiveHover:"hover:bg-teal-300",menuText:"text-gray-500",menuTextHover:"hover:text-gray-700",menuTextActive:"text-teal-500",menuTextActiveHover:"hover:text-teal-700",headerBg:"bg-gray-200",headerBgHover:"hover:bg-gray-400",inputBg:"bg-white disabled:bg-gray-200 cursor-pointer focus:outline-none",inputBorder:"rounded border border-transparent hover:border-gray-300 focus:border-gray-600 disabled:border-gray-200",inputBgDisabled:"bg-gray-200 cursor-not-allowed focus:outline-none",inputBorderDisabled:"rounded border border-gray-200 hover:border-gray-200",inputBgFocus:"bg-white cursor-pointer focus:outline-none",inputBorderFocus:"rounded border border-transparent hover:border-gray-600 focus:border-gray-600 border-gray-600",textBase:"text-base",textSmall:"text-sm",textLarge:"text-lg",paddingBase:"py-1 px-2",paddingSmall:"py-0 px-1",paddingLarge:"py-2 px-4",contentBg:"bg-white",contentWidth:"max-w-7xl mx-auto",accent1:"bg-gray-200",accent2:"bg-gray-300",accent3:"bg-gray-400",accent4:"bg-gray-500",highlight1:"bg-teal-200",highlight2:"bg-teal-300",highlight3:"bg-teal-400",highlight4:"bg-teal-500",sidebarW:"56",transition:"transition ease-in-out duration-150",button:"\n\t\tinline-flex items-center\n\t\tpx-4 py-2 border border-gray-300\n\t\ttext-sm leading-5 font-medium\n\t\trounded-md text-gray-700 bg-white\n\t\thover:text-gray-500\n\t\tfocus:outline-none focus:shadow-outline-blue focus:border-blue-300\n\t\tactive:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out\n\t\tdisabled:cursor-not-allowed",buttonPrimary:"inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700 transition duration-150 ease-in-out disabled:cursor-not-allowed",tableRow:"bg-gray-100 hover:bg-gray-200 transition ease-in-out duration-150",tableRowStriped:"bg-gray-100 even:bg-gray-200 hover:bg-gray-300 transition ease-in-out duration-150",tableCell:"px-4 py-1 whitespace-no-wrap",tableHeader:"px-4 py-2 pb-1 border-b-2 border-gray-300 bg-gray-200 text-left font-medium text-gray-700 uppercase first:rounded-tl-md last:rounded-tr-md"});e.light=c;var l={text:"text-gray-800",textContrast:"text-white",border:"border-gray-400",ySpace:"",textInfo:"text-teal-400",bgInfo:"bg-teal-400",borderInfo:"border-teal-400",textSuccess:"text-green-400",bgSuccess:"bg-green-400",borderSuccess:"border-green-400",textDanger:"text-red-400",bgDanger:"bg-red-400",borderDanger:"border-red-400",textWarning:"text-yellow-400",bgWarning:"bg-yellow-400",borderWarning:"border-yellow-400",textLight:"text-gray-400",placeholder:"placeholder-gray-400",menuIcon:"mr-3 h-6 w-6",topMenuBorder:"border-b border-gray-200",headerShadow:"",bg:"bg-gray-100",menuBg:"bg-gray-200",menuBgHover:"hover:bg-gray-300",menuBgActive:"bg-teal-200",menuBgActiveHover:"hover:bg-teal-300",menuText:"text-gray-500",menuTextHover:"hover:text-gray-700",menuTextActive:"text-teal-500",menuTextActiveHover:"hover:text-teal-700",sidebarBg:"bg-gray-200",sidebarBorder:"",headerBg:"bg-gray-200",headerBgHover:"hover:bg-gray-400",inputBg:"bg-white disabled:bg-gray-200 cursor-pointer focus:outline-none",inputBorder:"rounded border border-transparent hover:border-gray-300 focus:border-gray-600 disabled:border-gray-200",inputBgDisabled:"bg-gray-200 cursor-not-allowed focus:outline-none",inputBorderDisabled:"rounded border border-gray-200 hover:border-gray-200",inputBgFocus:"bg-white cursor-pointer focus:outline-none",inputBorderFocus:"rounded border border-transparent hover:border-gray-600 focus:border-gray-600 border-gray-600",textBase:"text-base",textSmall:"text-sm",textLarge:"text-lg",paddingBase:"py-1 px-2",paddingSmall:"py-0 px-1",paddingLarge:"py-2 px-4",accent1:"bg-gray-200",accent2:"bg-gray-300",accent3:"bg-gray-400",accent4:"bg-gray-500",highlight1:"bg-teal-200",highlight2:"bg-teal-300",highlight3:"bg-teal-400",highlight4:"bg-teal-500",contentBg:"bg-white",contentWidth:"w-full max-w-7xl mx-auto",contentPadding:"py-4",sidebarW:"56",transition:"transition ease-in-out duration-150",tableInfoBar:"bg-white",tableRow:"bg-white hover:bg-gray-200 @transition",tableRowStriped:"bg-white even:bg-gray-100 hover:bg-gray-200 @transition",tableCell:"px-4 py-1 whitespace-no-wrap",tableHeader:"px-4 py-2 pb-1 border-b-2 border-gray-300 bg-gray-200 text-left font-medium text-gray-700 uppercase first:rounded-tl-md last:rounded-tr-md",$compositions:i.$compositions},f=(0,r.composeTheme)(l);e.TEST_THEME=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$compositions=e.list=e.textbutton=e.navitem=e.input=e.button=void 0;var r=[{$default:"rounded inline-flex items-center justify-center @transition disabled:cursor-not-allowed disabled:bg-transparent disabled:opacity-50 focus:outline-none border",Text:"inline-flex items-center justify-center @transition disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none border"},{$default:"text-gray-400 disabled:text-gray-300",Primary:"text-blue-400 disabled:text-blue-300",Success:"text-green-400 disabled:text-green-300",Danger:"text-red-400 disabled:text-red-300",Info:"text-teal-400 disabled:text-teal-300"},{$default:"border-gray-400",Primary:"border-blue-400",Success:"border-green-400",Danger:"border-red-400",Info:"border-teal-400",Text:"border-none"},{$default:"hover:bg-gray-400 hover:text-white",Primary:"hover:bg-blue-400 hover:text-white",Success:"hover:bg-green-400 hover:text-white",Danger:"hover:bg-red-400 hover:text-white",Info:"hover:bg-teal-400 hover:text-white",Text:""},{$default:"px-4 py-1 @textBase",Large:"px-6 py-2 @textLarge",Small:"px-2 py-0 @textSmall"},{Block:"w-full"}];e.button=r;var i=[{$default:"w-full block rounded cursor-pointer disabled:cursor-not-allowed @transition @text @placeholder @inputBg @inputBorder"},{$default:"@paddingBase @textBase",Large:"@paddingLarge @textLarge",Small:"@paddingSmall @textSmall"}];e.input=i;var o=[{$default:"border-transparent font-medium focus:outline-none @transition"},{Top:"inline-flex items-center px-4 text-base leading-5",Side:"mb-1 flex pl-3 pr-4 py-2 border-l-4 text-base"},{$default:"@menuBg @menuBgHover @menuText @menuTextHover",Active:"@menuBgActive @menuBgActiveHover @menuTextActive @menuTextActiveHover"}];e.navitem=o;var a=[{$default:"@transition inline-flex px-2 hover:font-bold disabled:font-normal disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none"},{$default:"$textbutton",Info:"text-teal-400 hover:text-teal-500 disabled:text-teal-400"},{$default:"text-base",Large:"text-lg",Small:"text-sm"},{$default:"font-normal cursor-pointer",Active:"font-bold cursor-default"}];e.textbutton=a;var s=[{$default:"@transition rounded"},{$default:"p-2 pb-0 bg-gray-200",Dragging:"p-2 pb-0 bg-gray-400",Item:"py-1 px-3 bg-gray-300 mb-2"}];e.list=s;var u={$defaults:["input","navitemTop","navitemTopActive","navitemSide","navitemSideActive"],button:r,input:i,navitem:o,textbutton:a,list:s};e.$compositions=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n(1)),i=n(518),o=n(61),a=u(n(366)),s=u(n(5));function u(t){return t&&t.__esModule?t:{default:t}}var c=(0,a.default)((function(t){var e=t.title,n=t.shadowed,a=void 0!==n&&n,u=t.user,c=t.children,l=(0,o.useTheme)();return r.default.createElement("div",{className:"w-full flex items-center px-8 ".concat(l.headerBg),style:a?{boxShadow:"0px 6px 3px -3px rgba(0, 0, 0, 0.25)"}:null},r.default.createElement("div",{className:"flex-1 text-3xl font-bold h-16 flex items-center"},"function"===typeof e?r.default.createElement(e):e),r.default.createElement("div",{className:"flex-0 flex items-center"},c,u?r.default.createElement("div",{className:"ml-8"},r.default.createElement(i.UserMenu,null,r.default.createElement(i.UserMenuItem,{to:"/auth/profile"},"Profile"),(0,s.default)(u,"authLevel",-1)<5?null:r.default.createElement(i.UserMenuItem,{to:"/auth/project-management"},"Project Management"),r.default.createElement(i.UserMenuSeparator,null),r.default.createElement(i.UserMenuItem,{to:"/auth/logout"},"Logout"))):null))}));e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserMenuSeparator=e.UserMenuItem=e.UserMenu=void 0;var r=s(n(1)),i=n(46),o=n(134),a=n(61);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l=(0,s(n(366)).default)((function(t){var e=t.user,n=void 0===e?{}:e,s=t.children,c=u(r.default.useState(!1),2),l=c[0],f=c[1],h=r.default.useCallback((function(){return f(!1)}),[]),p=u((0,o.useClickOutside)(h),1)[0],d=(0,a.useTheme)();return n.authed?r.default.createElement("div",{className:"relative",ref:p},r.default.createElement("div",{className:"\n            flex items-center rounded cursor-pointer ".concat(d.textInfo,"\n            ").concat(l?d.borderInfo:"border-transparent","\n            hover:").concat(d.borderInfo," ").concat(d.transition," flex items-center justify-center\n          "),style:{width:"2.5rem",height:"2.5rem",borderRadius:"1.25rem",fontSize:"1.15rem",borderWidth:"3px"},onClick:function(t){return f(!l)}},r.default.createElement("span",{className:"fas fa-user"})),l?r.default.createElement("div",{className:"".concat(d.accent1," mt-1 p-2 right-0 absolute ").concat(d.text),style:{top:"100%",minWidth:"8rem"}},r.default.createElement("div",{className:"mb-1 border-b-2"},n.email),s):null):r.default.createElement(i.Link,{to:"/auth/login"},r.default.createElement("div",{className:"\n            flex items-center rounded cursor-pointer ".concat(d.textInfo,"\n            border-transparent hover:").concat(d.borderInfo,"\n            ").concat(d.transition," flex items-center justify-center\n          "),style:{width:"2.5rem",height:"2.5rem",borderRadius:"1.25rem",fontSize:"1.15rem",borderWidth:"3px"}},r.default.createElement("span",{className:"fas fa-user"})))}));e.UserMenu=l;e.UserMenuItem=function(t){var e=t.to,n=void 0===e?"#":e,o=t.children,s=(0,a.useTheme)();return r.default.createElement(i.Link,{to:n},r.default.createElement("div",{className:"rounded cursor-pointer px-2 ".concat(s.transition," hover:").concat(s.accent2)},o))};e.UserMenuSeparator=function(){return r.default.createElement("div",{className:"border-b-2 my-1"})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(1)),i=n(46),o=n(61),a=s(n(368));function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var l=function(t){var e=t.open,n=t.toggle,s=t.logo,u=void 0===s?null:s,c=t.menuItems,l=void 0===c?[]:c,f=(0,o.useTheme)();return r.default.createElement("div",{style:{display:e?"block":"none"},className:"md:hidden"},r.default.createElement("div",{className:"fixed inset-0 z-20 transition-opacity ease-linear duration-300"},r.default.createElement("div",{className:"absolute inset-0 bg-gray-600 opacity-75"})),r.default.createElement("div",{className:"fixed inset-0 flex z-40"},r.default.createElement("div",{className:"flex-1 flex flex-col max-w-xs w-full transform ease-in-out duration-300"},r.default.createElement("div",{className:"absolute top-0 right-0 -mr-14 p-1"},r.default.createElement("button",{onClick:n,className:"flex items-center justify-center h-12 w-12 rounded-full focus:outline-none focus:bg-gray-600"},r.default.createElement("svg",{className:"h-6 w-6 text-gray-900",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},r.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),r.default.createElement("div",{className:"flex-1 h-0 pt-2 pb-4 overflow-y-auto overflow-x-hidden ".concat(f.menuBg)},r.default.createElement("div",{className:"px-6 pt-4 pb-8 logo-text gray-900"},r.default.createElement(i.Link,{to:"/",className:"flex-shrink-0 flex items-center ".concat(f.text)},u)),r.default.createElement("nav",{className:"flex-1"},l.map((function(t,e){return r.default.createElement("div",{key:e,className:t.sectionClass},r.default.createElement(a.default,{to:t.path,icon:t.icon,theme:f,className:t.itemClass},t.name),t.children?t.children.map((function(t,e){return r.default.createElement(a.default,{key:e,to:t.path,icon:t.icon,theme:f,className:t.itemClass},t.name)})):"")}))))),r.default.createElement("div",{className:"flex-shrink-0 w-14"})))},f=function(t){var e=t.menuItems,n=void 0===e?[]:e,s=t.fixed,u=t.topMenu,l=t.logo,f=void 0===l?null:l,h=(c(t,["menuItems","fixed","topMenu","logo"]),(0,o.useTheme)());return r.default.createElement("div",{className:"hidden md:flex md:flex-shrink-0 z-20 ".concat(h.sidebarBg," ").concat(s?"fixed top-0 h-screen":""," ").concat(h.sidebarBorder)},r.default.createElement("div",{className:"flex flex-col w-".concat(h.sidebarW)},r.default.createElement("div",{className:"w-".concat(h.sidebarW," flex-1 flex flex-col pb-4 overflow-y-auto overflow-x-hidden scrollbar")},r.default.createElement("div",{className:"h-16"},r.default.createElement(i.Link,{to:"/",className:"".concat(h.text)},f)),u?r.default.createElement("div",{className:"h-16"},u):null,r.default.createElement("nav",{className:"flex-1"},n.map((function(t,e){return r.default.createElement("div",{key:e,className:t.sectionClass},r.default.createElement(a.default,{to:t.path,icon:t.icon,theme:h,className:t.itemClass},t.name),t.children?t.children.map((function(t,e){return r.default.createElement(a.default,{key:e,to:t.path,icon:t.icon,theme:h,className:t.itemClass},t.name)})):"")}))))))};e.default=function(t){var e=u({},t);return r.default.createElement(r.default.Fragment,null,r.default.createElement(l,e),r.default.createElement(f,e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(1)),i=n(46),o=n(61),a=s(n(368));function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f=function(t){var e=t.open,n=t.menuItems,i=void 0===n?[]:n,s=t.customTheme,u=Object.assign({},(0,o.useTheme)(),s);return r.default.createElement("div",{className:"".concat(e?"sm:hidden relative":"hidden"," ").concat(u.menuBg)},r.default.createElement("div",{className:"pt-2 pb-3"},i.map((function(t,e){return r.default.createElement(a.default,{key:e,to:t.path,icon:t.icon,theme:u},t.name)}))),r.default.createElement("div",{className:"pt-4 pb-3 border-t border-gray-200"},r.default.createElement("div",{className:"mt-3",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"})))},h=function(t){var e=t.menuItems,n=void 0===e?[]:e,s=t.open,u=t.toggle,c=(t.fixed,t.width,t.logo),l=t.rightMenu,f=t.customTheme,h=void 0!==f&&f,p=Object.assign({},(0,o.useTheme)(),h);return r.default.createElement("div",{className:"".concat(p.topNavHeight||"h-16","  ").concat(p.sidebarBg,"  ").concat(p.topMenuBorder," ").concat(p.topMenuScroll)},r.default.createElement("div",{className:"".concat(p.contentWidth," flex justify-between ").concat(p.topNavHeight?p.topNavHeight:"h-16")},r.default.createElement("div",{className:"flex"},r.default.createElement(i.Link,{to:"/",className:"flex-shrink-0 flex items-center ".concat(p.text)},c),r.default.createElement("div",{className:"hidden sm:-my-px sm:ml-6 sm:flex"},n.map((function(t,e){return r.default.createElement(a.default,{key:e,to:t.path,icon:t.icon,customTheme:h,type:"top"},t.name)})))),r.default.createElement("div",{className:"mr-2 flex items-center sm:hidden"},r.default.createElement("button",{onClick:u,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"},r.default.createElement("svg",{className:"".concat(s?"hidden":"block"," h-6 w-6"),stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},r.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})),r.default.createElement("svg",{className:"".concat(s?"block":"hidden"," h-6 w-6"),stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},r.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})))),r.default.createElement("div",{className:"hidden sm:block lg:ml-4"},l||"")))};e.default=function(t){var e=Object.assign({},(0,o.useTheme)(),t.customTheme),n=c(r.default.useState(!1),2),i=n[0],a=n[1];return r.default.createElement("nav",{className:"".concat(e.menuBg," ").concat(e.topNavHeight?e.topNavHeight:"h-16","  ").concat(e.sidebarBorder)},r.default.createElement(h,u({toggle:function(t){return a(!i)}},t,{open:i})),r.default.createElement(f,u({},t,{open:i})))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(845)),i=o(n(846));function o(t){return t&&t.__esModule?t:{default:t}}var a={Sidebar:r.default,Simple:i.default};e.default=a},function(t,e,n){"use strict";var r=function(t){return t!==t};t.exports=function(t,e){return 0===t&&0===e?1/t===1/e:t===e||!(!r(t)||!r(e))}},function(t,e,n){"use strict";var r=n(522);t.exports=function(){return"function"===typeof Object.is?Object.is:r}},function(t,e,n){"use strict";var r=String.prototype.valueOf,i=Object.prototype.toString,o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;t.exports=function(t){return"string"===typeof t||"object"===typeof t&&(o?function(t){try{return r.call(t),!0}catch(e){return!1}}(t):"[object String]"===i.call(t))}},function(t,e,n){"use strict";var r,i="function"===typeof Map&&Map.prototype?Map:null,o="function"===typeof Set&&Set.prototype?Set:null;i||(r=function(t){return!1});var a=i?Map.prototype.has:null,s=o?Set.prototype.has:null;r||a||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!==typeof t)return!1;try{if(a.call(t),s)try{s.call(t)}catch(e){return!0}return t instanceof i}catch(e){}return!1}},function(t,e,n){"use strict";var r,i="function"===typeof Map&&Map.prototype?Map:null,o="function"===typeof Set&&Set.prototype?Set:null;o||(r=function(t){return!1});var a=i?Map.prototype.has:null,s=o?Set.prototype.has:null;r||s||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!==typeof t)return!1;try{if(s.call(t),a)try{a.call(t)}catch(e){return!0}return t instanceof o}catch(e){}return!1}},function(t,e){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(t,e,i){if("[object Function]"!==r.call(e))throw new TypeError("iterator must be a function");var o=t.length;if(o===+o)for(var a=0;a<o;a++)e.call(i,t[a],a,t);else for(var s in t)n.call(t,s)&&e.call(i,t[s],s,t)}},function(t,e,n){"use strict";(function(e){var r=n(871);t.exports=function(){return r(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(t){return"function"===typeof e[t]}))}}).call(this,n(53))},function(t,e,n){"use strict";var r=n(249),i=function(t){return"undefined"!==typeof t&&null!==t},o=n(341)(),a=n(191),s=Object,u=a("Array.prototype.push"),c=a("Object.prototype.propertyIsEnumerable"),l=o?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(!i(t))throw new TypeError("target must be an object");var n,a,f,h,p,d,y,v=s(t);for(n=1;n<arguments.length;++n){a=s(arguments[n]),h=r(a);var g=o&&(Object.getOwnPropertySymbols||l);if(g)for(p=g(a),f=0;f<p.length;++f)y=p[f],c(a,y)&&u(h,y);for(f=0;f<h.length;++f)d=a[y=h[f]],c(a,y)&&(v[y]=d)}return v}},function(t,e,n){"use strict";var r=n(529);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return t!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?r:Object.assign:r}},function(t,e,n){"use strict";t.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",AMP:"&",amp:"&",And:"\u2a53",and:"\u2227",andand:"\u2a55",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",ap:"\u2248",apacir:"\u2a6f",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250c",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252c",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxUL:"\u255d",boxUl:"\u255c",boxuL:"\u255b",boxul:"\u2518",boxUR:"\u255a",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256c",boxVh:"\u256b",boxvH:"\u256a",boxvh:"\u253c",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255f",boxvR:"\u255e",boxvr:"\u251c",bprime:"\u2035",Breve:"\u02d8",breve:"\u02d8",brvbar:"\xa6",Bscr:"\u212c",bscr:"\ud835\udcb7",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsol:"\\",bsolb:"\u29c5",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22d2",cap:"\u2229",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",CenterDot:"\xb7",centerdot:"\xb7",Cfr:"\u212d",cfr:"\ud835\udd20",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",cir:"\u25cb",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",Conint:"\u222f",conint:"\u222e",ContourIntegral:"\u222e",Copf:"\u2102",copf:"\ud835\udd54",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xa9",copy:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",Cross:"\u2a2f",cross:"\u2717",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",Cup:"\u22d3",cup:"\u222a",cupbrcap:"\u2a48",CupCap:"\u224d",cupcap:"\u2a46",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21a1",dArr:"\u21d3",darr:"\u2193",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21ca",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",Diamond:"\u22c4",diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21d3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVector:"\u21bd",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295f",DownRightVector:"\u21c1",DownRightVectorBar:"\u2957",DownTee:"\u22a4",DownTeeArrow:"\u21a7",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",ecir:"\u2256",Ecirc:"\xca",ecirc:"\xea",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212f",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",ForAll:"\u2200",forall:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\ud835\udcbb",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",ges:"\u2a7e",gescc:"\u2aa9",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",Gg:"\u22d9",gg:"\u226b",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2aa5",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gnE:"\u2269",gne:"\u2a88",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",GT:">",Gt:"\u226b",gt:">",gtcc:"\u2aa7",gtcir:"\u2a7a",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",hArr:"\u21d4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",Hfr:"\u210c",hfr:"\ud835\udd25",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",Hopf:"\u210d",hopf:"\ud835\udd59",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210b",hscr:"\ud835\udcbd",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",Ifr:"\u2111",ifr:"\ud835\udd26",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",in:"\u2208",incare:"\u2105",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",Int:"\u222c",int:"\u222b",intcal:"\u22ba",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",Iscr:"\u2110",iscr:"\ud835\udcbe",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",Lang:"\u27ea",lang:"\u27e8",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",Larr:"\u219e",lArr:"\u21d0",larr:"\u2190",larrb:"\u21e4",larrbfs:"\u291f",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",lat:"\u2aab",lAtail:"\u291b",latail:"\u2919",late:"\u2aad",lates:"\u2aad\ufe00",lBarr:"\u290e",lbarr:"\u290c",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27e8",LeftArrow:"\u2190",Leftarrow:"\u21d0",leftarrow:"\u2190",LeftArrowBar:"\u21e4",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21c3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrow:"\u2194",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTee:"\u22a3",LeftTeeArrow:"\u21a4",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangle:"\u22b2",LeftTriangleBar:"\u29cf",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21bf",LeftUpVectorBar:"\u2958",LeftVector:"\u21bc",LeftVectorBar:"\u2952",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",les:"\u2a7d",lescc:"\u2aa8",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22d8",ll:"\u226a",llarr:"\u21c7",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoust:"\u23b0",lmoustache:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lnE:"\u2268",lne:"\u2a87",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftarrow:"\u27f5",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longleftrightarrow:"\u27f7",longmapsto:"\u27fc",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",longrightarrow:"\u27f6",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\ud835\udcc1",Lsh:"\u21b0",lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",LT:"<",Lt:"\u226a",lt:"<",ltcc:"\u2aa6",ltcir:"\u2a79",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",mid:"\u2223",midast:"*",midcir:"\u2af0",middot:"\xb7",minus:"\u2212",minusb:"\u229f",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",Mscr:"\u2133",mscr:"\ud835\udcc2",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266e",natural:"\u266e",naturals:"\u2115",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21d7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nhArr:"\u21ce",nharr:"\u21ae",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlArr:"\u21cd",nlarr:"\u219a",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21cd",nleftarrow:"\u219a",nLeftrightarrow:"\u21ce",nleftrightarrow:"\u21ae",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",Nopf:"\u2115",nopf:"\ud835\udd5f",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangle:"\u22ea",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangle:"\u22eb",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",npre:"\u2aaf\u0338",nprec:"\u2280",npreceq:"\u2aaf\u0338",nrArr:"\u21cf",nrarr:"\u219b",nrarrc:"\u2933\u0338",nrarrw:"\u219d\u0338",nRightarrow:"\u21cf",nrightarrow:"\u219b",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nVDash:"\u22af",nVdash:"\u22ae",nvDash:"\u22ad",nvdash:"\u22ac",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwArr:"\u21d6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",ocir:"\u229a",Ocirc:"\xd4",ocirc:"\xf4",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",Or:"\u2a54",or:"\u2228",orarr:"\u21bb",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",Otimes:"\u2a37",otimes:"\u2297",otimesas:"\u2a36",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",par:"\u2225",para:"\xb6",parallel:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plus:"+",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",Popf:"\u2119",popf:"\ud835\udd61",pound:"\xa3",Pr:"\u2abb",pr:"\u227a",prap:"\u2ab7",prcue:"\u227c",prE:"\u2ab3",pre:"\u2aaf",prec:"\u227a",precapprox:"\u2ab7",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",precsim:"\u227e",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportion:"\u2237",Proportional:"\u221d",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",Qopf:"\u211a",qopf:"\ud835\udd62",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",QUOT:'"',quot:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",Rang:"\u27eb",rang:"\u27e9",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",Rarr:"\u21a0",rArr:"\u21d2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",rAtail:"\u291c",ratail:"\u291a",ratio:"\u2236",rationals:"\u211a",RBarr:"\u2910",rBarr:"\u290f",rbarr:"\u290d",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",Re:"\u211c",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",rect:"\u25ad",REG:"\xae",reg:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",Rfr:"\u211c",rfr:"\ud835\udd2f",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrow:"\u2192",Rightarrow:"\u21d2",rightarrow:"\u2192",RightArrowBar:"\u21e5",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVector:"\u21c2",RightDownVectorBar:"\u2955",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTee:"\u22a2",RightTeeArrow:"\u21a6",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangle:"\u22b3",RightTriangleBar:"\u29d0",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVector:"\u21be",RightUpVectorBar:"\u2954",RightVector:"\u21c0",RightVectorBar:"\u2953",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoust:"\u23b1",rmoustache:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",Ropf:"\u211d",ropf:"\ud835\udd63",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",Rscr:"\u211b",rscr:"\ud835\udcc7",Rsh:"\u21b1",rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",Sc:"\u2abc",sc:"\u227b",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227d",scE:"\u2ab4",sce:"\u2ab0",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdot:"\u22c5",sdotb:"\u22a1",sdote:"\u2a66",searhk:"\u2925",seArr:"\u21d8",searr:"\u2198",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",sol:"/",solb:"\u29c4",solbar:"\u233f",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25a1",Square:"\u25a1",square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",Sub:"\u22d0",sub:"\u2282",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",Subset:"\u22d0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succ:"\u227b",succapprox:"\u2ab8",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",Sum:"\u2211",sum:"\u2211",sung:"\u266a",Sup:"\u22d1",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",Supset:"\u22d1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swArr:"\u21d9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",Tilde:"\u223c",tilde:"\u02dc",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xd7",timesb:"\u22a0",timesbar:"\u2a31",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",top:"\u22a4",topbot:"\u2336",topcir:"\u2af1",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",Uarr:"\u219f",uArr:"\u21d1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrow:"\u2191",Uparrow:"\u21d1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21c5",UpDownArrow:"\u2195",Updownarrow:"\u21d5",updownarrow:"\u2195",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03d2",upsi:"\u03c5",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTee:"\u22a5",UpTeeArrow:"\u21a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",vArr:"\u21d5",varr:"\u2195",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",Vbar:"\u2aeb",vBar:"\u2ae8",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22ab",Vdash:"\u22a9",vDash:"\u22a8",vdash:"\u22a2",Vdashl:"\u2ae6",Vee:"\u22c1",vee:"\u2228",veebar:"\u22bb",veeeq:"\u225a",vellip:"\u22ee",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",Wedge:"\u22c0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xhArr:"\u27fa",xharr:"\u27f7",Xi:"\u039e",xi:"\u03be",xlArr:"\u27f8",xlarr:"\u27f5",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrArr:"\u27f9",xrarr:"\u27f6",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",Yuml:"\u0178",yuml:"\xff",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",Zfr:"\u2128",zfr:"\ud835\udd37",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",Zopf:"\u2124",zopf:"\ud835\udd6b",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},function(t,e,n){"use strict";var r=n(533),i=n(74).unescapeMd;t.exports=function(t,e){var n,o,a,s=e,u=t.posMax;if(60===t.src.charCodeAt(e)){for(e++;e<u;){if(10===(n=t.src.charCodeAt(e)))return!1;if(62===n)return a=r(i(t.src.slice(s+1,e))),!!t.parser.validateLink(a)&&(t.pos=e+1,t.linkContent=a,!0);92===n&&e+1<u?e+=2:e++}return!1}for(o=0;e<u&&32!==(n=t.src.charCodeAt(e))&&!(n<32||127===n);)if(92===n&&e+1<u)e+=2;else{if(40===n&&++o>1)break;if(41===n&&--o<0)break;e++}return s!==e&&(a=i(t.src.slice(s,e)),!!t.parser.validateLink(a)&&(t.linkContent=a,t.pos=e,!0))}},function(t,e,n){"use strict";var r=n(74).replaceEntities;t.exports=function(t){var e=r(t);try{e=decodeURI(e)}catch(n){}return encodeURI(e)}},function(t,e,n){"use strict";var r=n(74).unescapeMd;t.exports=function(t,e){var n,i=e,o=t.posMax,a=t.src.charCodeAt(e);if(34!==a&&39!==a&&40!==a)return!1;for(e++,40===a&&(a=41);e<o;){if((n=t.src.charCodeAt(e))===a)return t.pos=e+1,t.linkContent=r(t.src.slice(i+1,e)),!0;92===n&&e+1<o?e+=2:e++}return!1}},function(t,e,n){"use strict";t.exports=function(t){return t.trim().replace(/\s+/g," ").toUpperCase()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={FalcorProvider:!0,avlFalcor:!0};e.avlFalcor=e.FalcorProvider=void 0;var i=s(n(1)),o=s(n(294)),a=n(939);function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e&&e[t]===a[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))}));var f=i.default.createContext();e.FalcorProvider=function(t){var e=t.falcor,n=t.children,r=c(i.default.useState({}),2),a=r[0],s=r[1],u=i.default.useMemo((function(){return(0,o.default)((function(){var t=e.getCache();s(t)}),250)}),[e]);i.default.useEffect((function(){return e.onChange(u),function(){e.remove(u)}}),[e,u]);var l=i.default.useMemo((function(){return{falcor:e,falcorCache:a}}),[e,a]);return i.default.createElement(f.Provider,{value:l},n)};var h=function(){return{}};e.avlFalcor=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.mapCacheToProps,r=void 0===n?h:n;return function(e){return i.default.createElement(f.Consumer,null,(function(n){return i.default.createElement(t,u({},e,n,r(n.falcorCache,e)))}))}}},function(t,e){t.exports={GetRequest:"GET"}},function(t,e){t.exports=function(t,e){var n=e.$_prev,r=e.$_next;r&&(r.$_prev=n),n&&(n.$_next=r),e.$_prev=e.$_next=void 0,e===t.$_head&&(t.$_head=r),e===t.$_tail&&(t.$_tail=n)}},function(t,e,n){var r=n(224);function i(t,e){return o(t,e,0),t}function o(t,e,n){var i,a=e[n],s={},u=n+1;for(i=r(a,s);!s.done;){var c=Object.prototype.hasOwnProperty.call(t,i)&&t[i];c||(u===e.length?t[i]=null:void 0!==i&&(c=t[i]={})),u<e.length&&o(c,e,u),i=r(a,s)}}t.exports=function(t){return t.reduce(i,{})}},function(t,e,n){var r=n(274).maybeIntegerKey,i=n(274).isIntegerKey,o=Array.isArray,a="number";function s(t,e,n){var i,o,u,c,l,p,d,y,v,g,m,b,_,x,w=h(String(e)),E=Object.create(null),S=[],k=-1,O=0,C=[],P=0;if(c=[],l=-1,e<n-1){for(p=f(t,c);++l<p;){E[u=(o=s(t[i=c[l]],e+1,n)).code]?o=E[u]:(S[O++]=u,o=E[u]={keys:[],sets:o.sets}),w=h(w+i+u);var T=r(i);o.keys.push(typeof T===a?T:i)}for(;++k<O;)if((p=(c=(o=E[i=S[k]]).keys).length)>0)for(y=-1,v=(d=o.sets).length,_=c[0];++y<v;){for(m=-1,b=(g=d[y]).length,(x=new Array(b+1))[0]=p>1&&c||_;++m<b;)x[m+1]=g[m];C[P++]=x}}else for(p=f(t,c),C[P++]=p>1?[c]:c;++l<p;)w=h(w+c[l]);return{code:w,sets:C}}function u(t){for(var e=-1,n=t.length;++e<n;){var r=t[e];o(r)&&(t[e]=c(r))}return t}function c(t){for(var e=-1,n=t.length-1,r=n>0;++e<=n;){var o=t[e];if(!i(o)){r=!1;break}t[e]=parseInt(o,10)}if(!0===r){t.sort(l);var a=t[0],s=t[n];if(s-a<=n)return{from:a,to:s}}return t}function l(t,e){return t-e}function f(t,e,n){var r=0;for(var i in t)e[r++]=i;return r}function h(t){for(var e=5381,n=-1,r=t.length;++n<r;)e=(e<<5)+e+t.charCodeAt(n);return String(e)}t.exports=function(t){var e,n,i=[];for(var o in t){var c=r(o);if(typeof c===a&&(null!==(n=e=t[o])&&"object"===typeof n))for(var l=s(e,0,c).sets,f=-1,h=l.length;++f<h;)i.push(u(l[f]))}return i},t.exports._isSafeNumber=i},function(t,e,n){var r=n(948);t.exports=function(t,e,n){"undefined"===typeof n&&(n=5);for(var i=t,o=i,a=e,s=-1,u=0;++s<a.length;){if(null===(o=i[a[s]])||"object"!==typeof o||o.$type&&"ref"!==o.$type)break;if("ref"===o.$type){if(s+1<a.length)return{error:new Error(r.innerReferences)};if(u>=n)return{error:new Error(r.circularReference)};a=o.value,s=-1,i=t,u++}else i=o}return{node:o,refPath:a}}},function(t,e,n){var r=n(68);t.exports=function(t){return r(t)&&t.$timestamp||void 0}},function(t,e,n){var r=n(373),i=n(374),o=n(957),a=Array.isArray,s=n(137),u=n(958),c=n(378);t.exports=function(t,e,n){var l=0,f=t,h=e;if(h){var p=f.$_modelCreated;f=o(f),l=s(f),f.$type=h,f.$_prev=void 0,f.$_next=void 0,f.$_modelCreated=p||!1}else f={$type:c,value:n,$_prev:void 0,$_next:void 0,$_modelCreated:!0};if(null==n)l=51;else if(null==l||l<=0)switch(typeof n){case"object":l=a(n)?50+n.length:51;break;case"string":l=50+n.length;break;default:l=51}var d=u(f);return"number"===typeof d&&d<i&&(f.$expires=r()+-1*d),f.$size=l,f}},function(t,e){t.exports=function(t,e,n,r,i){return t.$_key=n,t.$_parent=e,void 0!==r&&(t.$_version=r),t.$_absolutePath||(Array.isArray(n)?(t.$_absolutePath=i.slice(0,i.index),Array.prototype.push.apply(t.$_absolutePath,n)):(t.$_absolutePath=i.slice(0,i.index),t.$_absolutePath.push(n))),e[n]=t,t}},function(t,e,n){var r=n(68),i=n(959),o=n(379);t.exports=function(t,e,n,a,s,u){return t===e?t:(r(t)&&(i(t,e),o(t,n,a,s,u)),n[a]=e,e)}},function(t,e,n){var r=n(192);t.exports=function(t,e){var n=[t],i=0;do{var o=n[i];if(o&&o.$_version!==e){o.$_version=e,n[i++]=o.$_parent;for(var a=-1,s=o.$_refsLength||0;++a<s;)n[i++]=o[r+a]}}while(--i>-1);return t}},function(t,e){t.exports=function(t,e){var n=t.slice(0,t.depth);return n[n.length]=e,n}},function(t,e,n){var r=n(223),i=n(381),o=n(278),a=n(81),s=n(160);t.exports=function(t,e,n,u,c,l,f){for(var h,p=n,d=c,y=u,v=0;;){if(0===v&&y.$_context?(v=d.length,h=y.$_context):h=p[d[v++]],h){var g=h.$type,m=g&&h.value||h;if(v<d.length){if(g){p=h;break}p=h;continue}if(p=h,g&&o(h))break;if(y.$_context||r(y,h),g===a){f?i(t,h,l,null,null,null,null,d,d.length,f):s(t._root,h),v=0,d=m,y=h,p=e;continue}break}p=void 0;break}if(v<d.length&&void 0!==p){for(var b=[],_=0;_<v;_++)b[_]=d[_];d=b}return[p,d,y]}},function(t,e,n){var r=n(81),i=n(194),o=n(962),a=n(137),s=n(542),u=n(158),c=n(156),l=n(135),f=n(543),h=n(136),p=n(544),d=n(545),y=n(225),v=n(546),g=n(547);t.exports=function(t,e,n,m,b,_,x,w,E,S,k,O,C,P){var T=o(e,_);if(b||_)T&&u(e)&&(T="expired",h(e,S,k)),(T&&T!==r||c(e))&&(e=d(e,{},t,n,k,P),e=p(e,t,n,E,w),e=v(e,E));else{var M=m,A=o(M),I=s(M)<s(e)===!1;if((T||A)&&l(O)&&(I=!O(e,M,w.slice(0,w.index))),I){A===i&&l(C)&&(A=(M=C(g(x,n),M)).$type||A),M=f(M,A,A?M.value:M);var j=a(e)-a(M);e=d(e,M,t,n,k,P),t=y(t,j,k,E),e=p(e,t,n,E,w)}}return e}},function(t,e){var n=null;e.setVersion=function(t){n=t},e.getVersion=function(){return n}},function(t,e,n){var r=n(197),i=t.exports=function(t,e){this._string=t,this._idx=-1,this._extended=e,this.parseString=""};function o(t,e,n){return{token:t,done:n,type:e}}function a(t,e,n){var i,a=!1,s="",u=n?"\\{}'\"[]., :":"\\'\"[]., ";do{if(i=e+1>=t.length)break;var c=t[e+1];if(void 0===c||-1!==u.indexOf(c)){if(s.length)break;var l;switch(++e,c){case".":l=r.dotSeparator;break;case",":l=r.commaSeparator;break;case"[":l=r.openingBracket;break;case"]":l=r.closingBracket;break;case"{":l=r.openingBrace;break;case"}":l=r.closingBrace;break;case" ":l=r.space;break;case'"':case"'":l=r.quote;break;case"\\":l=r.escape;break;case":":l=r.colon;break;default:l=r.unknown}a=o(c,l,!1);break}s+=c,++e}while(!i);return!a&&s.length&&(a=o(s,r.token,!1)),a||(a={done:!0}),{token:a,idx:e}}i.prototype={next:function(){var t=this._nextToken?this._nextToken:a(this._string,this._idx,this._extended);return this._idx=t.idx,this._nextToken=!1,this.parseString+=t.token.token,t.token},peek:function(){var t=this._nextToken?this._nextToken:a(this._string,this._idx,this._extended);return this._nextToken=t,t.token}},i.toNumber=function(t){return isNaN(+t)?NaN:+t}},function(t,e){t.exports={integers:"integers",ranges:"ranges",keys:"keys"}},function(t,e,n){var r=n(109);function i(t,e,n){var r=Object.create(null);if(null!=n){for(var i in n)r[i]=n[i];return r.$type=t,r.value=e,r}return{$type:t,value:e}}t.exports={ref:function(t,e){return i("ref",r.fromPath(t),e)},atom:function(t,e){return i("atom",t,e)},undefined:function(){return i("atom")},error:function(t,e){return i("error",t,e)},pathValue:function(t,e){return{path:r.fromPath(t),value:e}},pathInvalidation:function(t){return{path:r.fromPath(t),invalidated:!0}}}},function(t,e){t.exports=function(t,e){for(var n=t._root.cache,r=-1,i=e.length;++r<i&&n&&!n.$type;)n=n[e[r]];return n}},function(t,e){t.exports={path:!0,pathSyntax:!0}},function(t,e,n){var r=n(388),i=r.getWithPathsAsJSONGraph,o=r.getWithPathsAsPathMap;t.exports=function(t,e,n,r,a,s,u){var c=a?i(t,e,s):o(t,e,s),l=c.values&&c.values[0],f=!c.requestedMissingPaths||!c.requestedMissingPaths.length||!t._source;if(c.errors)for(var h=c.errors,p=u.length,d=0,y=h.length;d<y;++d,++p)u[p]=h[d];return(r||f&&void 0!==l)&&n.onNext(l),c.criticalError?(n.onError(c.criticalError),null):f?(u.length?n.onError(u):n.onCompleted(),null):c}},function(t,e,n){function r(t){var e=new Error("The allowed number of retries have been exceeded.");return e.name="MaxRetryExceededError",e.missingOptimizedPaths=t||[],Object.setPrototypeOf&&Object.setPrototypeOf(e,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(e,r),e}n(195)(r),r.is=function(t){return t&&"MaxRetryExceededError"===t.name},t.exports=r},function(t,e){var n=function(t){this.disposed=!1,this.currentDisposable=t};n.prototype={dispose:function(){if(!this.disposed&&this.currentDisposable){this.disposed=!0;var t=this.currentDisposable;t.dispose?t.dispose():t()}}},t.exports=n},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.dismissSystemMessage=e.sendSystemMessage=void 0;var a="SEND_SYSTEM_MESSAGE",s="DISMISS_SYSTEM_MESSAGE",u=0,c=["Danger","Warning","Success","Info"],l={duration:7500,type:c[0],onDismiss:function(){},onConfirm:null},f=function(t){return t.id||(t.id="system-message-".concat(++u)),c.includes(t.type)||(t.type=c[0]),t};e.sendSystemMessage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return Promise.resolve(n({type:a,message:t,options:f(i(i({},l),e))}))}};e.dismissSystemMessage=function(t){return function(e){return Promise.resolve(e({type:s,id:t}))}};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a:var n=t.filter((function(t){return t.id!==e.options.id}));return n.push(i({message:e.message},e.options)),n;case s:return t.filter((function(t){return t.id!==e.id}));default:return t}}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(390),i=n(562);function o(e,n,a){return i()?t.exports=o=Reflect.construct:t.exports=o=function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}t.exports=o},function(t,e){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e,n){var r=n(1017),i=n(560);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?i(t):e}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){"use strict";var r=n(90),i=n(110),o=n(44).OrderedMap;t.exports=function(t){return t.first()instanceof r?function(t){var e,n={};return o(t.withMutations((function(t){t.forEach((function(r,o){var a=r.getKey(),s=r.getNextSiblingKey(),u=r.getPrevSiblingKey(),c=r.getChildKeys(),l=r.getParentKey(),f=i();if(n[a]=f,s&&(t.get(s)?t.setIn([s,"prevSibling"],f):t.setIn([a,"nextSibling"],null)),u&&(t.get(u)?t.setIn([u,"nextSibling"],f):t.setIn([a,"prevSibling"],null)),l&&t.get(l)){var h=t.get(l).getChildKeys();t.setIn([l,"children"],h.set(h.indexOf(r.getKey()),f))}else t.setIn([a,"parent"],null),e&&(t.setIn([e.getKey(),"nextSibling"],f),t.setIn([a,"prevSibling"],n[e.getKey()])),e=t.get(a);c.forEach((function(e){t.get(e)?t.setIn([e,"parent"],f):t.setIn([a,"children"],r.getChildKeys().filter((function(t){return t!==e})))}))}))})).toArray().map((function(t){return[n[t.getKey()],t.set("key",n[t.getKey()])]})))}(t):function(t){return o(t.toArray().map((function(t){var e=i();return[e,t.set("key",e)]})))}(t)}},function(t,e,n){"use strict";var r=n(89),i=n(229),o=n(45);function a(t,e,n){var a=e.getCharacterList(),s=n>0?a.get(n-1):void 0,u=n<a.count()?a.get(n):void 0,c=s?s.getEntity():void 0,l=u?u.getEntity():void 0;if(l&&l===c&&"MUTABLE"!==t.__get(l).getMutability()){for(var f,h=function(t,e,n){var r;return i(t,(function(t,e){return t.getEntity()===e.getEntity()}),(function(t){return t.getEntity()===e}),(function(t,e){t<=n&&e>=n&&(r={start:t,end:e})})),"object"!==typeof r&&o(!1),r}(a,l,n),p=h.start,d=h.end;p<d;)f=a.get(p),a=a.set(p,r.applyEntity(f,null)),p++;return e.set("characterList",a)}return e}t.exports=function(t,e){var n=t.getBlockMap(),r=t.getEntityMap(),i={},o=e.getStartKey(),s=e.getStartOffset(),u=n.get(o),c=a(r,u,s);c!==u&&(i[o]=c);var l=e.getEndKey(),f=e.getEndOffset(),h=n.get(l);o===l&&(h=c);var p=a(r,h,f);return p!==h&&(i[l]=p),Object.keys(i).length?t.merge({blockMap:n.merge(i),selectionAfter:e}):t.set("selectionAfter",e)}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=t;if(n===r.count())e.forEach((function(t){r=r.push(t)}));else if(0===n)e.reverse().forEach((function(t){r=r.unshift(t)}));else{var i=r.slice(0,n),o=r.slice(n);r=i.concat(e,o).toList()}return r}},function(t,e,n){"use strict";var r=n(44).Map;t.exports=function(t,e,n){var i=e.getStartKey(),o=e.getEndKey(),a=t.getBlockMap(),s=a.toSeq().skipUntil((function(t,e){return e===i})).takeUntil((function(t,e){return e===o})).concat(r([[o,a.get(o)]])).map(n);return t.merge({blockMap:a.merge(s),selectionBefore:e,selectionAfter:e})}},function(t,e,n){"use strict";var r=n(90);t.exports=function(t,e){if(!(t instanceof r))return null;var n=t.getNextSiblingKey();if(n)return n;var i=t.getParentKey();if(!i)return null;for(var o=e.get(i);o&&!o.getNextSiblingKey();){var a=o.getParentKey();o=a?e.get(a):null}return o?o.getNextSiblingKey():null}},function(t,e,n){"use strict";t.exports=function(t){return Object.keys(t).map((function(e){return t[e]}))}},function(t,e,n){"use strict";var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getType=function(){return this.get("type")},i.getMutability=function(){return this.get("mutability")},i.getData=function(){return this.get("data")},r}((0,n(44).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));t.exports=r},function(t,e,n){"use strict";var r=new RegExp("\r","g");t.exports=function(t){return t.replace(r,"")}},function(t,e,n){"use strict";t.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(t,e,n){"use strict";var r=n(163);t.exports=function t(e){if(r(e)){var n=e,i=n.getAttribute("data-offset-key");if(i)return i;for(var o=0;o<n.childNodes.length;o++){var a=t(n.childNodes[o]);if(a)return a}}return null}},function(t,e,n){"use strict";t.exports=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window}},function(t,e,n){"use strict";var r=n(580),i=n(55),o=n(581),a=n(582);t.exports=function(t){if(t._blockSelectEvents||t._latestEditorState!==t.props.editorState){if(t._blockSelectEvents){var e=t.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(e.toJS())})}}else{var n=t.props.editorState,s=a(n,o(t)),u=s.selectionState;u!==n.getSelection()&&(n=s.needsRecovery?i.forceSelection(n,u):i.acceptSelection(n,u),t.update(n))}}},function(t,e,n){"use strict";t.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},function(t,e,n){"use strict";var r=n(45),i=n(230);t.exports=function(t){var e=t.editorContainer;return e||r(!1),i(e.firstChild)||r(!1),e.firstChild}},function(t,e,n){"use strict";var r=n(583);t.exports=function(t,e){var n=e.ownerDocument.defaultView.getSelection(),i=n.anchorNode,o=n.anchorOffset,a=n.focusNode,s=n.focusOffset;return 0===n.rangeCount||null==i||null==a?{selectionState:t.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(t,e,i,o,a,s)}},function(t,e,n){"use strict";var r=n(286),i=n(577),o=n(584),a=n(45),s=n(163),u=n(76);function c(t,e,n){var o=e,c=r(o);(null!=c||t&&(t===o||t.firstChild===o)||a(!1),t===o)&&(o=o.firstChild,s(o)||a(!1),"true"!==(o=o).getAttribute("data-contents")&&a(!1),n>0&&(n=o.childNodes.length));if(0===n){var f=null;if(null!=c)f=c;else{var h=function(t){for(;t.firstChild&&(s(t.firstChild)&&"true"===t.firstChild.getAttribute("data-blocks")||i(t.firstChild));)t=t.firstChild;return t}(o);f=u(i(h))}return{key:f,offset:0}}var p=o.childNodes[n-1],d=null,y=null;if(i(p)){var v=function(t){for(;t.lastChild&&(s(t.lastChild)&&"true"===t.lastChild.getAttribute("data-blocks")||i(t.lastChild));)t=t.lastChild;return t}(p);d=u(i(v)),y=l(v)}else d=u(c),y=l(p);return{key:d,offset:y}}function l(t){var e=t.textContent;return"\n"===e?0:e.length}t.exports=function(t,e,n,i,a,s){var l=n.nodeType===Node.TEXT_NODE,f=a.nodeType===Node.TEXT_NODE;if(l&&f)return{selectionState:o(t,u(r(n)),i,u(r(a)),s),needsRecovery:!1};var h=null,p=null,d=!0;return l?(h={key:u(r(n)),offset:i},p=c(e,a,s)):f?(p={key:u(r(a)),offset:s},h=c(e,n,i)):(h=c(e,n,i),p=c(e,a,s),n===a&&i===s&&(d=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:o(t,h.key,h.offset,p.key,p.offset),needsRecovery:d}}},function(t,e,n){"use strict";var r=n(122),i=n(76);t.exports=function(t,e,n,o,a){var s=i(t.getSelection());if(!e||!o)return s;var u=r.decode(e),c=u.blockKey,l=t.getBlockTree(c),f=l&&l.getIn([u.decoratorKey,"leaves",u.leafKey]),h=r.decode(o),p=h.blockKey,d=t.getBlockTree(p),y=d&&d.getIn([h.decoratorKey,"leaves",h.leafKey]);if(!f||!y)return s;var v=f.get("start"),g=y.get("start"),m=f?v+n:null,b=y?g+a:null;if(s.getAnchorKey()===c&&s.getAnchorOffset()===m&&s.getFocusKey()===p&&s.getFocusOffset()===b)return s;var _=!1;if(c===p){var x=f.get("end"),w=y.get("end");_=g===v&&w===x?a<n:g<v}else{_=t.getCurrentContent().getBlockMap().keySeq().skipUntil((function(t){return t===c||t===p})).first()===p}return s.merge({anchorKey:c,anchorOffset:m,focusKey:p,focusOffset:b,isBackward:_})}},function(t,e,n){"use strict";t.exports={notEmptyKey:function(t){return null!=t&&""!=t}}},function(t,e,n){"use strict";var r=n(105);function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=n(1068),s=n(1),u=n(45),c=n(587),l=n(1069).setDraftEditorSelection,f=function(t){var e,n;function f(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o(i(e=t.call.apply(t,[this].concat(r))||this),"leaf",void 0),e}n=t,(e=f).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var h=f.prototype;return h._setSelection=function(){var t=this.props.selection;if(null!=t&&t.getHasFocus()){var e=this.props,n=e.block,r=e.start,i=e.text,o=n.getKey(),a=r+i.length;if(t.hasEdgeWithin(o,r,a)){var s=this.leaf;s||u(!1);var f,h=s.firstChild;h||u(!1),h.nodeType===Node.TEXT_NODE?f=h:c(h)?f=s:(f=h.firstChild)||u(!1),l(t,f,o,r,a)}}},h.shouldComponentUpdate=function(t){var e=this.leaf;return e||u(!1),e.textContent!==t.text||t.styleSet!==this.props.styleSet||t.forceSelection},h.componentDidUpdate=function(){this._setSelection()},h.componentDidMount=function(){this._setSelection()},h.render=function(){var t=this,e=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var i=this.props,o=i.customStyleMap,u=i.customStyleFn,c=i.offsetKey,l=i.styleSet,f=l.reduce((function(t,e){var n={},i=o[e];return void 0!==i&&t.textDecoration!==i.textDecoration&&(n.textDecoration=[t.textDecoration,i.textDecoration].join(" ").trim()),r(t,i,n)}),{});if(u){var h=u(l,e);f=r(f,h)}return s.createElement("span",{"data-offset-key":c,ref:function(e){return t.leaf=e},style:f},s.createElement(a,null,n))},f}(s.Component);t.exports=f},function(t,e,n){"use strict";var r=n(163);t.exports=function(t){return!(!t||!t.ownerDocument)&&(r(t)&&"BR"===t.nodeName)}},function(t,e,n){"use strict";t.exports={initODS:function(){},handleExtensionCausedError:function(){}}},function(t,e,n){"use strict";t.exports=function(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}},function(t,e,n){"use strict";var r=n(1075);t.exports=function(t){var e=r(t);return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}},function(t,e,n){"use strict";function r(){var t;return document.documentElement&&(t=document.documentElement.clientWidth),!t&&document.body&&(t=document.body.clientWidth),t||0}function i(){var t;return document.documentElement&&(t=document.documentElement.clientHeight),!t&&document.body&&(t=document.body.clientHeight),t||0}function o(){return{width:window.innerWidth||r(),height:window.innerHeight||i()}}o.withoutScrollbars=function(){return{width:r(),height:i()}},t.exports=o},function(t,e,n){"use strict";var r=n(105);function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n(586),u=n(122),c=n(1),l=n(396),f=n(289),h=n(392),p=n(285),d=n(162),y=n(590),v=n(290),g=n(591),m=n(45),b=n(230),_=n(76),x=function(t,e){return t.getAnchorKey()===e||t.getFocusKey()===e},w=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a(o(e=t.call.apply(t,[this].concat(r))||this),"_node",void 0),e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var w=r.prototype;return w.shouldComponentUpdate=function(t){return this.props.block!==t.block||this.props.tree!==t.tree||this.props.direction!==t.direction||x(t.selection,t.block.getKey())&&t.forceSelection},w.componentDidMount=function(){if(!this.props.preventScroll){var t=this.props.selection,e=t.getEndKey();if(t.getHasFocus()&&e===this.props.block.getKey()){var n=this._node;if(null!=n){var r,i=f.getScrollParent(n),o=v(i);if(i===window){var a=y(n);(r=a.y+a.height-g().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{b(n)||m(!1),(r=n.offsetHeight+n.offsetTop-(i.offsetTop+i.offsetHeight+o.y))>0&&l.setTop(i,l.getTop(i)+r+10)}}}}},w._renderChildren=function(){var t=this,e=this.props.block,n=e.getKey(),r=e.getText(),o=this.props.tree.size-1,a=x(this.props.selection,n);return this.props.tree.map((function(l,f){var d=l.get("leaves");if(0===d.size)return null;var y=d.size-1,v=d.map((function(i,l){var h=u.encode(n,f,l),p=i.get("start"),d=i.get("end");return c.createElement(s,{key:h,offsetKey:h,block:e,start:p,selection:a?t.props.selection:null,forceSelection:t.props.forceSelection,text:r.slice(p,d),styleSet:e.getInlineStyleAt(p),customStyleMap:t.props.customStyleMap,customStyleFn:t.props.customStyleFn,isLast:f===o&&l===y})})).toArray(),g=l.get("decoratorKey");if(null==g)return v;if(!t.props.decorator)return v;var m=_(t.props.decorator),b=m.getComponentForKey(g);if(!b)return v;var x=m.getPropsForKey(g),w=u.encode(n,f,0),E=d.first().get("start"),S=d.last().get("end"),k=r.slice(E,S),O=e.getEntityAt(l.get("start")),C=p.getHTMLDirIfDifferent(h.getDirection(k),t.props.direction),P={contentState:t.props.contentState,decoratedText:k,dir:C,start:E,end:S,blockKey:n,entityKey:O,offsetKey:w};return c.createElement(b,i({},x,P,{key:w}),v)})).toArray()},w.render=function(){var t=this,e=this.props,n=e.direction,r=e.offsetKey,i=d({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return c.createElement("div",{"data-offset-key":r,className:i,ref:function(e){return t._node=e}},this._renderChildren())},r}(c.Component);t.exports=w},function(t,e,n){"use strict";var r=n(1081),i=n(1082),o=n(594),a=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function u(t){if("file"==t.kind)return t.getAsFile()}var c=function(){function t(t){this.data=t,this.types=t.types?i(t.types):[]}var e=t.prototype;return e.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(t){return s[t]}))},e.getText=function(){var t;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(t=this.data.getData("text/plain")):t=this.data.getData("Text")),t?t.replace(a,"\n"):null},e.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},e.isLink=function(){return this.types.some((function(t){return-1!=t.indexOf("Url")||-1!=t.indexOf("text/uri-list")||t.indexOf("text/x-moz-url")}))},e.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},e.isImage=function(){var t=this.types.some((function(t){return-1!=t.indexOf("application/x-moz-file")}));if(t)return!0;for(var e=this.getFiles(),n=0;n<e.length;n++){var i=e[n].type;if(!r.isImage(i))return!1}return!0},e.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},e.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(u).filter(o.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},e.hasFiles=function(){return this.getFiles().length>0},t}();t.exports=c},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";(function(e){var r=n(45),i=/\.textClipping$/,o={"text/plain":!0,"text/html":!0,"text/rtf":!0};t.exports=function(t,n){var a=0,s=[];t.forEach((function(u){!function(t,n){if(!e.FileReader||t.type&&!(t.type in o))return void n("");if(""===t.type){var a="";return i.test(t.name)&&(a=t.name.replace(i,"")),void n(a)}var s=new FileReader;s.onload=function(){var t=s.result;"string"!==typeof t&&r(!1),n(t)},s.onerror=function(){n("")},s.readAsText(t)}(u,(function(e){a++,e&&s.push(e.slice(0,5e3)),a==t.length&&n(s.join("\r"))}))}))}}).call(this,n(53))},function(t,e,n){"use strict";var r=n(282);t.exports=function(t){var e=t.getSelection();return e.isCollapsed()?null:r(t.getCurrentContent(),e)}},function(t,e,n){"use strict";var r=n(55),i=n(164),o=n(397),a=n(231);t.exports=function(t){var e=a(t,(function(t){var e=t.getSelection(),n=t.getCurrentContent(),r=e.getAnchorKey(),a=e.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a-1];return o(t,s?i.getUTF16Length(s,0):1)}),"backward");if(e===t.getCurrentContent())return t;var n=t.getSelection();return r.push(t,e.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},function(t,e,n){"use strict";var r=n(77),i=n(45);var o=r.isBrowser("Chrome")?function(t){for(var e=t.cloneRange(),n=[],r=t.endContainer;null!=r;r=r.parentNode){var o=r===t.commonAncestorContainer;o?e.setStart(t.startContainer,t.startOffset):e.setStart(e.endContainer,0);var a,s=Array.from(e.getClientRects());if(n.push(s),o)return n.reverse(),(a=[]).concat.apply(a,n);e.setEndBefore(r)}i(!1)}:function(t){return Array.from(t.getClientRects())};t.exports=o},function(t,e,n){"use strict";var r="\\s|(?![_])"+n(1103).getPunctuation(),i=new RegExp("^(?:"+r+")*(?:"+"['\u2018\u2019]|(?!"+r+").)*(?:(?!"+r+").)"),o=new RegExp("(?:(?!"+r+").)(?:"+"['\u2018\u2019]|(?!"+r+").)*(?:"+r+")*$");function a(t,e){var n=e?o.exec(t):i.exec(t);return n?n[0]:t}var s={getBackward:function(t){return a(t,!0)},getForward:function(t){return a(t,!1)}};t.exports=s},function(t,e,n){"use strict";n(398);t.exports=function(t,e){var n,r=t.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),a=t.getCurrentContent(),s=i;return e>a.getBlockForKey(i).getText().length-o?(s=a.getKeyAfter(i),n=0):n=o+e,r.merge({focusKey:s,focusOffset:n})}},function(t,e,n){"use strict";var r;function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=n(89),s=n(161),u=n(90),c=n(393),l=n(283),f=n(1113),h=n(162),p=n(110),d=n(602),y=n(138),v=n(44),g=v.List,m=v.Map,b=v.OrderedSet,_=n(1114),x=n(587),w=n(230),E=n(1115),S=y("draft_tree_data_support"),k=new RegExp("\r","g"),O=new RegExp("\n","g"),C=new RegExp("^\n","g"),P=new RegExp("&nbsp;","g"),T=new RegExp("&#13;?","g"),M=new RegExp("&#8203;?","g"),A=["bold","bolder","500","600","700","800","900"],I=["light","lighter","normal","100","200","300","400"],j=["className","href","rel","target","title"],R=["alt","className","height","src","width"],D=(o(r={},h("public/DraftStyleDefault/depth0"),0),o(r,h("public/DraftStyleDefault/depth1"),1),o(r,h("public/DraftStyleDefault/depth2"),2),o(r,h("public/DraftStyleDefault/depth3"),3),o(r,h("public/DraftStyleDefault/depth4"),4),r),N=m({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),L=function(t){var e={};return t.mapKeys((function(t,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach((function(n){void 0===e[n]?e[n]=t:"string"===typeof e[n]?e[n]=[e[n],t]:e[n].push(t)}))})),m(e)},z=function(t){if(w(t)&&t.style.fontFamily.includes("monospace"))return"CODE";return null},F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(D).some((function(n){t.classList.contains(n)&&(e=D[n])})),e},B=function(t){if(!_(t))return!1;var e=t;if(!e.href||"http:"!==e.protocol&&"https:"!==e.protocol&&"mailto:"!==e.protocol&&"tel:"!==e.protocol)return!1;try{new f(e.href);return!0}catch(n){return!1}},U=function(t){if(!E(t))return!1;var e=t;return!(!e.attributes.getNamedItem("src")||!e.attributes.getNamedItem("src").value)},q=function(t,e){if(!w(t))return e;var n=t,r=n.style.fontWeight,i=n.style.fontStyle,o=n.style.textDecoration;return e.withMutations((function(t){A.indexOf(r)>=0?t.add("BOLD"):I.indexOf(r)>=0&&t.remove("BOLD"),"italic"===i?t.add("ITALIC"):"normal"===i&&t.remove("ITALIC"),"underline"===o&&t.add("UNDERLINE"),"line-through"===o&&t.add("STRIKETHROUGH"),"none"===o&&(t.remove("UNDERLINE"),t.remove("STRIKETHROUGH"))}))},V=function(t){return"ul"===t||"ol"===t},G=function(){function t(t,e){o(this,"characterList",g()),o(this,"currentBlockType","unstyled"),o(this,"currentDepth",0),o(this,"currentEntity",null),o(this,"currentText",""),o(this,"wrapper",null),o(this,"blockConfigs",[]),o(this,"contentBlocks",[]),o(this,"entityMap",l),o(this,"blockTypeMap",void 0),o(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=t,this.disambiguate=e}var e=t.prototype;return e.clear=function(){this.characterList=g(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=l,this.wrapper=null,this.contentBlocks=[]},e.addDOMNode=function(t){var e;return this.contentBlocks=[],this.currentDepth=0,(e=this.blockConfigs).push.apply(e,this._toBlockConfigs([t],b())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},e.getContentBlocks=function(){return 0===this.contentBlocks.length&&(S?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},e._makeBlockConfig=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.key||p(),n=i({key:e,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:g(),prevSibling:null,nextSibling:null,childConfigs:[]},t);return this.characterList=g(),this.currentBlockType="unstyled",this.currentText="",n},e._toBlockConfigs=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=i.nodeName.toLowerCase();if("body"===o||V(o)){this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var a=this.currentDepth,s=this.wrapper;V(o)&&(this.wrapper=o,V(s)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),e)),this.currentDepth=a,this.wrapper=s}else{var u=this.blockTypeMap.get(o);if(void 0===u)if("#text"!==o)if("br"!==o)if(U(i))this._addImgNode(i,e);else if(B(i))this._addAnchorNode(i,n,e);else{var c=e;N.has(o)&&(c=c.add(N.get(o))),c=q(i,c);var l=z(i);null!=l&&(c=c.add(l)),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),c))}else this._addBreakNode(i,e);else this._addTextNode(i,e);else{this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var f=this.currentDepth,h=this.wrapper;if(this.wrapper="pre"===o?"pre":this.wrapper,"string"!==typeof u&&(u=this.disambiguate(o,this.wrapper)||u[0]||"unstyled"),!S&&w(i)&&("unordered-list-item"===u||"ordered-list-item"===u)){var d=i;this.currentDepth=F(d,this.currentDepth)}var y=p(),v=this._toBlockConfigs(Array.from(i.childNodes),e);this._trimCurrentText(),n.push(this._makeBlockConfig({key:y,childConfigs:v,type:u})),this.currentDepth=f,this.wrapper=h}}}return n},e._appendText=function(t,e){var n;this.currentText+=t;var r=a.create({style:e,entity:this.currentEntity});this.characterList=(n=this.characterList).push.apply(n,Array(t.length).fill(r))},e._trimCurrentText=function(){var t=this.currentText.length,e=t-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry((function(t){return null!==t.getEntity()}));(e=void 0!==r?Math.min(e,r[0]):e)>(n=void 0!==(r=this.characterList.reverse().findEntry((function(t){return null!==t.getEntity()})))?Math.max(n,t-r[0]):n)?(this.currentText="",this.characterList=g()):(this.currentText=this.currentText.slice(e,n),this.characterList=this.characterList.slice(e,n))},e._addTextNode=function(t,e){var n=t.textContent;""===n.trim()&&"pre"!==this.wrapper&&(n=" "),"pre"!==this.wrapper&&(n=(n=n.replace(C,"")).replace(O," ")),this._appendText(n,e)},e._addBreakNode=function(t,e){x(t)&&this._appendText("\n",e)},e._addImgNode=function(t,e){if(E(t)){var n=t,r={};R.forEach((function(t){var e=n.getAttribute(t);e&&(r[t]=e)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),y("draftjs_fix_paste_for_img")?"presentation"!==n.getAttribute("role")&&this._appendText("\ud83d\udcf7",e):this._appendText("\ud83d\udcf7",e),this.currentEntity=null}},e._addAnchorNode=function(t,e,n){if(_(t)){var r=t,i={};j.forEach((function(t){var e=r.getAttribute(t);e&&(i[t]=e)})),i.url=new f(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",i||{}),e.push.apply(e,this._toBlockConfigs(Array.from(t.childNodes),n)),this.currentEntity=null}},e._toContentBlocks=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.length-1,r=0;r<=n;r++){var o=t[r];o.parent=e,o.prevSibling=r>0?t[r-1].key:null,o.nextSibling=r<n?t[r+1].key:null,o.children=g(o.childConfigs.map((function(t){return t.key}))),this.contentBlocks.push(new u(i({},o))),this._toContentBlocks(o.childConfigs,o.key)}},e._hoistContainersInBlockConfigs=function(t){var e=this;return g(t).flatMap((function(t){return"unstyled"!==t.type||""!==t.text?[t]:e._hoistContainersInBlockConfigs(t.childConfigs)}))},e._toFlatContentBlocks=function(t){var e=this;this._hoistContainersInBlockConfigs(t).forEach((function(t){var n=e._extractTextFromBlockConfigs(t.childConfigs),r=n.text,o=n.characterList;e.contentBlocks.push(new s(i({},t,{text:t.text+r,characterList:t.characterList.concat(o)})))}))},e._extractTextFromBlockConfigs=function(t){for(var e=t.length-1,n="",r=g(),i=0;i<=e;i++){var o=t[i];n+=o.text,r=r.concat(o.characterList),""!==n&&"unstyled"!==o.type&&(n+="\n",r=r.push(r.last()));var a=this._extractTextFromBlockConfigs(o.childConfigs);n+=a.text,r=r.concat(a.characterList)}return{text:n,characterList:r}},t}();t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=e(t=t.trim().replace(k,"").replace(P," ").replace(T,"").replace(M,""));if(!r)return null;var i=L(n),o=function(t,e){return"li"===t?"ol"===e?"ordered-list-item":"unordered-list-item":null};return new G(i,o).addDOMNode(r).getContentBlocks()}},function(t,e,n){"use strict";var r=n(77),i=n(45),o=r.isBrowser("IE <= 9");t.exports=function(t){var e,n=null;return!o&&document.implementation&&document.implementation.createHTMLDocument&&((e=document.implementation.createHTMLDocument("foo")).documentElement||i(!1),e.documentElement.innerHTML=t,n=e.getElementsByTagName("body")[0]),n}},function(t,e,n){"use strict";var r=n(75),i=n(55),o=n(1116),a=n(76),s={currentBlockContainsLink:function(t){var e=t.getSelection(),n=t.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(e.getAnchorKey()).getCharacterList().slice(e.getStartOffset(),e.getEndOffset()).some((function(t){var e=t.getEntity();return!!e&&"LINK"===r.__get(e).getType()}))},getCurrentBlockType:function(t){var e=t.getSelection();return t.getCurrentContent().getBlockForKey(e.getStartKey()).getType()},getDataObjectForLinkURL:function(t){return{url:t.toString()}},handleKeyCommand:function(t,e,n){switch(e){case"bold":return s.toggleInlineStyle(t,"BOLD");case"italic":return s.toggleInlineStyle(t,"ITALIC");case"underline":return s.toggleInlineStyle(t,"UNDERLINE");case"code":return s.toggleCode(t);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(t);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(t);default:return null}},insertSoftNewline:function(t){var e=r.insertText(t.getCurrentContent(),t.getSelection(),"\n",t.getCurrentInlineStyle(),null),n=i.push(t,e,"insert-characters");return i.forceSelection(n,e.getSelectionAfter())},onBackspace:function(t){var e=t.getSelection();if(!e.isCollapsed()||e.getAnchorOffset()||e.getFocusOffset())return null;var n=t.getCurrentContent(),r=e.getStartKey(),o=n.getBlockBefore(r);if(o&&"atomic"===o.getType()){var a=n.getBlockMap().delete(o.getKey()),u=n.merge({blockMap:a,selectionAfter:e});if(u!==n)return i.push(t,u,"remove-range")}var c=s.tryToRemoveBlockStyle(t);return c?i.push(t,c,"change-block-type"):null},onDelete:function(t){var e=t.getSelection();if(!e.isCollapsed())return null;var n=t.getCurrentContent(),o=e.getStartKey(),a=n.getBlockForKey(o).getLength();if(e.getStartOffset()<a)return null;var s=n.getBlockAfter(o);if(!s||"atomic"!==s.getType())return null;var u=e.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),c=r.removeRange(n,u,"forward");return c!==n?i.push(t,c,"remove-range"):null},onTab:function(t,e,n){var r=e.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return e;var s=e.getCurrentContent(),u=s.getBlockForKey(a),c=u.getType();if("unordered-list-item"!==c&&"ordered-list-item"!==c)return e;t.preventDefault();var l=u.getDepth();if(!t.shiftKey&&l===n)return e;var f=o(s,r,t.shiftKey?-1:1,n);return i.push(e,f,"adjust-depth")},toggleBlockType:function(t,e){var n=t.getSelection(),o=n.getStartKey(),s=n.getEndKey(),u=t.getCurrentContent(),c=n;if(o!==s&&0===n.getEndOffset()){var l=a(u.getBlockBefore(s));s=l.getKey(),c=c.merge({anchorKey:o,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:l.getLength(),isBackward:!1})}if(u.getBlockMap().skipWhile((function(t,e){return e!==o})).reverse().skipWhile((function(t,e){return e!==s})).some((function(t){return"atomic"===t.getType()})))return t;var f=u.getBlockForKey(o).getType()===e?"unstyled":e;return i.push(t,r.setBlockType(u,c,f),"change-block-type")},toggleCode:function(t){var e=t.getSelection(),n=e.getAnchorKey(),r=e.getFocusKey();return e.isCollapsed()||n!==r?s.toggleBlockType(t,"code-block"):s.toggleInlineStyle(t,"CODE")},toggleInlineStyle:function(t,e){var n=t.getSelection(),o=t.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(t,o.has(e)?o.remove(e):o.add(e));var a,s=t.getCurrentContent();return a=o.has(e)?r.removeInlineStyle(s,n,e):r.applyInlineStyle(s,n,e),i.push(t,a,"change-inline-style")},toggleLink:function(t,e,n){var o=r.applyEntity(t.getCurrentContent(),e,n);return i.push(t,o,"apply-entity")},tryToRemoveBlockStyle:function(t){var e=t.getSelection(),n=e.getAnchorOffset();if(e.isCollapsed()&&0===n){var i=e.getAnchorKey(),o=t.getCurrentContent(),a=o.getBlockForKey(i).getType(),s=o.getBlockBefore(i);if("code-block"===a&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==a)return r.setBlockType(o,e,"unstyled")}return null}};t.exports=s},function(t,e,n){"use strict";var r=n(399),i=n(288),o=n(77),a=o.isPlatform("Mac OS X"),s=a&&o.isBrowser("Firefox < 29"),u=r.hasCommandModifier,c=r.isCtrlKeyCommand;function l(t){return a&&t.altKey||c(t)}t.exports=function(t){switch(t.keyCode){case 66:return u(t)?"bold":null;case 68:return c(t)?"delete":null;case 72:return c(t)?"backspace":null;case 73:return u(t)?"italic":null;case 74:return u(t)?"code":null;case 75:return a&&c(t)?"secondary-cut":null;case 77:case 79:return c(t)?"split-block":null;case 84:return a&&c(t)?"transpose-characters":null;case 85:return u(t)?"underline":null;case 87:return a&&c(t)?"backspace-word":null;case 89:return c(t)?a?"secondary-paste":"redo":null;case 90:return function(t){return u(t)?t.shiftKey?"redo":"undo":null}(t)||null;case i.RETURN:return"split-block";case i.DELETE:return function(t){return!a&&t.shiftKey?null:l(t)?"delete-word":"delete"}(t);case i.BACKSPACE:return function(t){return u(t)&&a?"backspace-to-start-of-line":l(t)?"backspace-word":"backspace"}(t);case i.LEFT:return s&&u(t)?"move-selection-to-start-of-block":null;case i.RIGHT:return s&&u(t)?"move-selection-to-end-of-block":null;default:return null}}},function(t,e,n){"use strict";var r={stringify:function(t){return"_"+String(t)},unstringify:function(t){return t.slice(1)}};t.exports=r},function(t,e,n){},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(1)),i=n(46),o=a(n(5));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(y,e);var n,a,s,p=h(y);function y(){var t;c(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(d(t=p.call.apply(p,[this].concat(n))),"state",{email:"",password:""}),t}return n=y,(a=[{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.login(this.state.email,this.state.password)}},{key:"render",value:function(){var e=this,n=this.state,a=n.email,s=n.password,c=a&&s,l=this.props,f=l.location,h=l.user,p=l.redirectTo,d=f.pathname;if(h.authed){var y=(0,o.default)(f,["state","from"]),v=d!==y&&y?y:p;return r.default.createElement(i.Redirect,{to:v})}return r.default.createElement(t,u({},this.props,this.state,{handleSubmit:function(t){return e.handleSubmit(t)},update:function(t){return e.setState(t)},canSubmit:c}))}}])&&l(n.prototype,a),s&&l(n,s),y}(r.default.Component),v(e,"defaultProps",{amsAction:"login",redirectTo:"/",showIfLoggedIn:!1}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(f,e);var n,r,o,l=c(f);function f(){return a(this,f),l.apply(this,arguments)}return n=f,(r=[{key:"render",value:function(){return i.default.createElement(t,this.props)}}])&&s(n.prototype,r),o&&s(n,o),f}(i.default.Component),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(e,"defaultProps",{amsAction:"logout",redirectTo:"/",authLevel:0}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(46);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(d,e);var n,r,a,h=f(d);function d(){var t;u(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(p(t=h.call.apply(h,[this].concat(n))),"state",{email:"",verify:""}),t}return n=d,(r=[{key:"handleSubmit",value:function(t){t.preventDefault(),this.setState({email:"",verify:""}),this.props.signup(this.state.email,this.props.addToGroup)}},{key:"render",value:function(){var e=this,n=this.state,r=n.email,a=n.verify,u=r&&a&&r===a;return this.props.user.authed?i.default.createElement(o.Redirect,{to:this.props.redirectTo}):i.default.createElement(t,s({},this.props,this.state,{handleSubmit:function(t){return e.handleSubmit(t)},update:function(t){return e.setState(t)},canSubmit:u}))}}])&&c(n.prototype,r),a&&c(n,a),d}(i.default.Component),y(e,"defaultProps",{amsAction:"signup",addToGroup:!1,redirectTo:"/",showIfLoggedIn:!1}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(p,e);var n,r,o,f=l(p);function p(){var t;s(this,p);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(h(t=f.call.apply(f,[this].concat(n))),"state",{email:"",verify:""}),t}return n=p,(r=[{key:"handleSubmit",value:function(t){t.preventDefault(),this.setState({email:"",verify:""}),this.props.resetPassword(this.state.email)}},{key:"render",value:function(){var e=this,n=this.state,r=n.email,o=n.verify,s=r&&o&&r===o;return i.default.createElement(t,a({},this.props,this.state,{handleSubmit:function(t){return e.handleSubmit(t)},update:function(t){return e.setState(t)},canSubmit:s}))}}])&&u(n.prototype,r),o&&u(n,o),p}(i.default.Component),d(e,"defaultProps",{amsAction:"reset-password"}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(46);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(d,e);var n,r,a,h=f(d);function d(){var t;u(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(p(t=h.call.apply(h,[this].concat(n))),"state",{password:"",verify:""}),t}return n=d,(r=[{key:"handleSubmit",value:function(t){t.preventDefault(),this.setState({password:"",verify:""}),this.props.verifyRequest(this.props.urlArg,this.state.password)}},{key:"render",value:function(){var e=this,n=this.state,r=n.password,a=n.verify,u=r&&a&&r===a;return this.props.user.authed?i.default.createElement(o.Redirect,{to:this.props.redirectTo}):i.default.createElement(t,s({},this.state,this.props,{canSubmit:u,handleSubmit:function(t){return e.handleSubmit(t)},update:function(t){return e.setState(t)}}))}}])&&c(n.prototype,r),a&&c(n,a),d}(i.default.Component),y(e,"defaultProps",{amsAction:"verify-request",urlArg:null,showInDirectory:!1,redirectTo:"/"}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return(c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(v,e);var n,r,o,h=f(v);function v(){var t;s(this,v);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(p(t=h.call.apply(h,[this].concat(n))),"state",{verified:"waiting"}),y(p(t),"MOUNTED",!1),t}return n=v,(r=[{key:"setState",value:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.MOUNTED&&(t=c(d(v.prototype),"setState",this)).call.apply(t,[this].concat(n))}},{key:"componentDidMount",value:function(){var t=this;this.MOUNTED=!0,this.props.verifyEmail(this.props.urlArg).then((function(e){var n=e.res,r=e.dispatch,i=e.sendSystemMessage;n.error?(r(i(n.error,{type:"Danger",id:"email-verification-failed"})),t.setState({verified:"failed"})):(r(i(n.message,{type:"Info",id:"email-verification-succeeded"})),t.setState({verified:"succeeded"}))}))}},{key:"componentWillUnmount",value:function(){this.MOUNTED=!1}},{key:"render",value:function(){return i.default.createElement(t,a({},this.props,this.state))}}])&&u(n.prototype,r),o&&u(n,o),v}(i.default.Component),y(e,"defaultProps",{amsAction:"verify-email",urlArg:null,showInDirectory:!1}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(46);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(d,e);var n,r,a,h=f(d);function d(){var t;u(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(p(t=h.call.apply(h,[this].concat(n))),"state",{password:"",verify:""}),t}return n=d,(r=[{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.setPassword(this.props.urlArg,this.state.password),this.setState({password:"",verify:""})}},{key:"render",value:function(){var e=this,n=this.state,r=n.password,a=n.verify,u=r&&a&&r===a;return this.props.user.authed?i.default.createElement(o.Redirect,{to:this.props.redirectTo}):i.default.createElement(t,s({},this.state,this.props,{canSubmit:u,handleSubmit:function(t){return e.handleSubmit(t)},update:function(t){return e.setState(t)}}))}}])&&c(n.prototype,r),a&&c(n,a),d}(i.default.Component),y(e,"defaultProps",{amsAction:"set-password",urlArg:null,showInDirectory:!1,redirectTo:"/"}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(46);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(d,e);var n,r,a,h=f(d);function d(){var t;u(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(p(t=h.call.apply(h,[this].concat(n))),"state",{password:"",verify:""}),t}return n=d,(r=[{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.acceptInvite(this.props.urlArg,this.state.password),this.setState({password:"",verify:""})}},{key:"render",value:function(){var e=this,n=this.state,r=n.password,a=n.verify,u=r&&a&&r===a;return this.props.user.authed?i.default.createElement(o.Redirect,{to:this.props.redirectTo}):i.default.createElement(t,s({},this.state,this.props,{canSubmit:u,handleSubmit:function(t){return e.handleSubmit(t)},update:function(t){return e.setState(t)}}))}}])&&c(n.prototype,r),a&&c(n,a),d}(i.default.Component),y(e,"defaultProps",{amsAction:"accept-invite",urlArg:null,showInDirectory:!1,redirectTo:"/"}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(f,e);var n,r,o,l=c(f);function f(){return a(this,f),l.apply(this,arguments)}return n=f,(r=[{key:"render",value:function(){return i.default.createElement(t,this.props)}}])&&s(n.prototype,r),o&&s(n,o),f}(i.default.Component),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(e,"defaultProps",{amsAction:"directory",showInDirectory:!1}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(p,e);var n,r,o,f=l(p);function p(){var t;s(this,p);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(h(t=f.call.apply(f,[this].concat(n))),"state",{current:"",password:"",verify:""}),t}return n=p,(r=[{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.updatePassword(this.state.current,this.state.password)}},{key:"render",value:function(){var e=this,n=this.state,r=n.current,o=n.password,s=n.verify,u=r&&o&&s&&o===s;return i.default.createElement(t,a({},this.props,this.state,{handleSubmit:function(t){return e.handleSubmit(t)},update:function(t){return e.setState(t)},canSubmit:u}))}}])&&u(n.prototype,r),o&&u(n,o),p}(i.default.Component),d(e,"defaultProps",{amsAction:"update-password"}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(d,e);var n,r,o,u=p(d);function d(){return l(this,d),u.apply(this,arguments)}return n=d,(r=[{key:"render",value:function(){var e=this.props,n=e.requests,r=c(e,["requests"]),o=s(n.reduce((function(t,e){return"pending"===e.state?t[0].push(e):"awaiting"===e.state?t[1].push(e):"rejected"===e.state&&t[2].push(e),t}),[[],[],[]]),3),u=o[0],l=o[1],f=o[2];return n.length?i.default.createElement(t,a({},r,{pending:u,awaiting:l,rejected:f})):null}}])&&f(n.prototype,r),o&&f(n,o),d}(i.default.Component),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(e,"defaultProps",{amsAction:"requests",authLevel:5}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(p,e);var n,r,o,f=l(p);function p(){var t;s(this,p);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(h(t=f.call.apply(f,[this].concat(n))),"state",{email:"",verify:"",group:null}),t}return n=p,(r=[{key:"handleSubmit",value:function(t){t.preventDefault(),this.props.sendInvite(this.state.email,this.state.group.name)}},{key:"render",value:function(){var e=this,n=this.state,r=n.email,o=n.verify,s=n.group,u=r&&o&&s&&r===o;return i.default.createElement(t,a({},this.props,this.state,{handleSubmit:function(t){return e.handleSubmit(t)},update:function(t){return e.setState(t)},canSubmit:u}))}}])&&u(n.prototype,r),o&&u(n,o),p}(i.default.Component),d(e,"defaultProps",{amsAction:"send-invite",authLevel:5}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(p,e);var n,r,o,f=l(p);function p(){var t;s(this,p);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(h(t=f.call.apply(f,[this].concat(n))),"state",{group:null,authLevel:-1}),t}return n=p,(r=[{key:"handleSubmit",value:function(t){t.preventDefault();var e=this.state,n=e.group,r=e.authLevel;this.props.assignToProject(n.name,r),this.setState({group:null,authLevel:-1})}},{key:"render",value:function(){var e=this,n=this.props.user,r=this.state,o=r.group,s=r.authLevel,u=o&&s>=0&&n.authLevel>=s;return i.default.createElement(t,a({},this.props,this.state,{groups:this.props.otherGroups,update:function(t){return e.setState(t)},canSubmit:u,handleSubmit:function(t){return e.handleSubmit(t)}}))}}])&&u(n.prototype,r),o&&u(n,o),p}(i.default.Component),d(e,"defaultProps",{amsAction:"assign-to-project",authLevel:5}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(p,e);var n,r,o,f=l(p);function p(){var t;s(this,p);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(h(t=f.call.apply(f,[this].concat(n))),"state",{group:"",authLevel:-1}),t}return n=p,(r=[{key:"handleSubmit",value:function(t){t.preventDefault();var e=this.state,n=e.group,r=e.authLevel;this.props.createAndAssign(n,r),this.setState({group:"",authLevel:-1})}},{key:"render",value:function(){var e=this,n=this.props.user,r=this.state,o=r.group,s=r.authLevel,u=o&&s>=0&&n.authLevel>=s;return i.default.createElement(t,a({},this.props,this.state,{groups:this.props.otherGroups,update:function(t){return e.setState(t)},canSubmit:u,handleSubmit:function(t){return e.handleSubmit(t)}}))}}])&&u(n.prototype,r),o&&u(n,o),p}(i.default.Component),d(e,"defaultProps",{amsAction:"create-group",authLevel:5}),n}},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.useAmsApi=e.AmsApiContext=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i},a=n(31),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(1162));function u(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=o.default.createContext(l({},s));e.AmsApiContext=h;e.useAmsApi=function(){return o.default.useContext(h)};e.default=function(t){return(0,a.connect)((function(t){return{user:t.user,groups:t.groups,users:t.users,requests:t.requests}}),l({},s))(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.adjustAuthLevel=e.removeFromProject=e.assignToProject=e.createAndAssign=e.deleteGroup=e.createGroup=e.groupsForProject=e.getGroups=e.GET_GROUPS=void 0;var r=n(198),i=n(292),o=n(11),a=n(165);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l="AMS::GET_GROUPS";e.GET_GROUPS=l;var f=function(){return function(t,e){var n=e().user.token;return n?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/groups"),{token:n}).then((function(e){e.error?t((0,o.sendSystemMessage)(e.error)):t(u({type:l},e))})):Promise.resolve()}};e.getGroups=f;e.groupsForProject=function(){return function(t,e){var n=e().user.token,r=(0,a.Config)(),i=r.AUTH_HOST,s=r.PROJECT_NAME;return n?(0,a.postJson)("".concat(i,"/groups/byproject"),{token:n,project:s}).then((function(e){e.error?t((0,o.sendSystemMessage)(e.error)):t(u({type:l},e))})):Promise.resolve()}};e.createGroup=function(t){return function(e,n){var r=n().user.token;return r?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/group/create"),{token:r,name:t}).then((function(t){t.error?e((0,o.sendSystemMessage)(t.error)):(e(f()),t.message&&e((0,o.sendSystemMessage)(t.message)))})):Promise.resolve()}};e.deleteGroup=function(t){return function(e,n){var s=n().user,u=s.token,c=s.groups;return u?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/group/delete"),{token:u,name:t}).then((function(n){n.error?e((0,o.sendSystemMessage)(n.error)):(c.includes(t)&&e((0,r.auth)()),e((0,i.getUsers)()),e(f()),n.message&&e((0,o.sendSystemMessage)(n.message)))})):Promise.resolve()}};e.createAndAssign=function(t,e){return function(n,r){var i=r().user.token;return i?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/group/create/project/assign"),{token:i,group_name:t,project_name:a.Config.PROJECT_NAME,auth_level:e}).then((function(t){t.error?n((0,o.sendSystemMessage)(t.error)):(n(f()),t.message&&n((0,o.sendSystemMessage)(t.message)))})):Promise.resolve()}};e.assignToProject=function(t,e){return function(n,i){var s=i().user,u=s.token,c=s.groups;return u?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/group/project/assign"),{token:u,group_name:t,project_name:a.Config.PROJECT_NAME,auth_level:e}).then((function(e){e.error?n((0,o.sendSystemMessage)(e.error)):(c.includes(t)&&n((0,r.auth)()),n(f()),e.message&&n((0,o.sendSystemMessage)(e.message)))})):Promise.resolve()}};e.removeFromProject=function(t){return function(e,n){var s=n().user,u=s.token,c=s.groups;return u?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/group/project/remove"),{token:u,group_name:t,project_name:a.Config.PROJECT_NAME}).then((function(n){n.error?e((0,o.sendSystemMessage)(n.error)):(c.includes(t)&&e((0,r.auth)()),e(f()),e((0,i.getUsers)()),n.message&&e((0,o.sendSystemMessage)(n.message)))})):Promise.resolve()}};e.adjustAuthLevel=function(t,e){return function(n,r){var i=r().user.token;return i?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/group/project/adjust"),{token:i,group_name:t,project_name:a.Config.PROJECT_NAME,auth_level:e}).then((function(t){t.error?n((0,o.sendSystemMessage)(t.error)):(n(f()),t.message&&n((0,o.sendSystemMessage)(t.message)))})):Promise.resolve()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.acceptInvite=e.sendInvite=e.deleteRequest=e.verifyRequest=e.verifyEmail=e.signupReject=e.signupAccept=e.signup=e.getRequests=e.GET_REQUESTS=void 0;var r=n(11),i=n(292),o=n(198),a=n(165);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c="AMS::GET_REQUESTS";e.GET_REQUESTS=c;var l=function(){return function(t,e){var n=e().user.token;return n?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/requests/byProject"),{token:n,project_name:a.Config.PROJECT_NAME}).then((function(e){e.error?t((0,r.sendSystemMessage)(e.error)):(t(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:c},e)),e.message&&t((0,r.sendSystemMessage)(e.message)))})):Promise.resolve()}};e.getRequests=l;e.signup=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/signup/request"),{email:t,addToGroup:e,project:a.Config.PROJECT_NAME,host:a.Config.CLIENT_HOST,url:e?"/auth/verify-request":"/auth/verify-email"}).then((function(t){return t.error?n((0,r.sendSystemMessage)(t.error,{type:"Danger"})):(t.user&&n((0,o.receiveAuthResponse)(t.user)),n((0,r.sendSystemMessage)(t.message)))})).catch((function(t){return console.log("err",t)}))}};e.signupAccept=function(t,e){return function(n,o){var s=o().user.token;return s?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/signup/accept"),{group_name:e,user_email:t,token:s,project_name:a.Config.PROJECT_NAME,host:a.Config.CLIENT_HOST,url:"/auth/set-password"}).then((function(t){return t.error?n((0,r.sendSystemMessage)(t.error,{type:"Danger"})):(n(l()),n((0,i.getUsers)()),n((0,r.sendSystemMessage)(t.message)))})):Promise.resolve()}};e.signupReject=function(t){var e=t.user_email,n=t.project_name;return function(t,o){var s=o().user.token;return s?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/signup/reject"),{token:s,user_email:e,project_name:n}).then((function(e){e.error?t((0,r.sendSystemMessage)(e.error)):(t(l()),t((0,i.getUsers)()),e.message&&t((0,r.sendSystemMessage)(e.message)))})):Promise.resolve()}};e.verifyEmail=function(t){return function(e){return(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/email/verify"),{token:t}).then((function(t){return{dispatch:e,res:t,sendSystemMessage:r.sendSystemMessage}}))}};e.verifyRequest=function(t,e){return function(n){return(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/signup/request/verify"),{token:t,password:e}).then((function(t){return t.error?n((0,r.sendSystemMessage)(t.error,{type:"Danger"})):(n((0,r.sendSystemMessage)(t.message)),n((0,o.receiveAuthResponse)(t.user)))}))}};e.deleteRequest=function(t){return function(e,n){var i=n().user.token;return i?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/signup/delete"),{token:i,user_email:t.user_email,project_name:t.project_name}).then((function(t){t.error?e((0,r.sendSystemMessage)(t.error)):(e(l()),t.message&&e((0,r.sendSystemMessage)(t.message)))})):Promise.resolve()}};e.sendInvite=function(t,e){return function(n,i){var o=i().user.token;return o?(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/invite"),{token:o,user_email:t,group_name:e,project_name:a.Config.PROJECT_NAME,host:a.Config.CLIENT_HOST,url:"/auth/accept-invite"}).then((function(t){t.error?n((0,r.sendSystemMessage)(t.error)):(n(l()),n((0,r.sendSystemMessage)(t.message)))})):Promise.resolve()}};e.acceptInvite=function(t,e){return function(n){return(0,a.postJson)("".concat(a.Config.AUTH_HOST,"/invite/accept"),{token:t,password:e}).then((function(t){return t.error?n((0,r.sendSystemMessage)(t.error,{type:"Danger"})):(n((0,r.sendSystemMessage)(t.message)),n((0,o.receiveAuthResponse)(t.user)))}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.defaultUserState=void 0;var r=n(198);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(){return{token:null,groups:[],authLevel:-1,authed:!1,attempts:0,meta:[],id:null,isAuthenticating:!1}};e.defaultUserState=s;e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:null,groups:[],authLevel:-1,authed:!1,attempts:0,meta:[],id:null,isAuthenticating:!1},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.IS_AUTHENTICATING:return o(o({},t),{},{isAuthenticating:!0});case r.UPDATE_USER:return o(o({},t),e.update);case r.USER_LOGIN:(0,r.setUserToken)(e.user);var n=o(o(o({},t),e.user),{},{authed:!0,isAuthenticating:!1});return++n.attempts,n;case r.AUTH_FAILURE:(0,r.removeUserToken)();var i={token:null,groups:[],authLevel:-1,authed:!1,attempts:0,meta:[],id:null,isAuthenticating:!1};return++i.attempts,i;case r.USER_LOGOUT:return(0,r.removeUserToken)(),{token:null,groups:[],authLevel:-1,authed:!1,attempts:0,meta:[],id:null,isAuthenticating:!1};default:return t}}},function(t,e,n){"use strict";var r,i,o,a,s=n(150),u=n(63),c=n(78),l=n(4),f=n(49),h=Object(c.a)(),p=Object(c.a)(),d={point:f.a,lineStart:f.a,lineEnd:f.a,polygonStart:function(){d.lineStart=y,d.lineEnd=m},polygonEnd:function(){d.lineStart=d.lineEnd=d.point=f.a,h.add(Object(l.a)(p)),p.reset()},result:function(){var t=h/2;return h.reset(),t}};function y(){d.point=v}function v(t,e){d.point=g,r=o=t,i=a=e}function g(t,e){p.add(a*t-o*e),o=t,a=e}function m(){g(r,i)}var b,_,x,w,E=d,S=n(214),k=0,O=0,C=0,P=0,T=0,M=0,A=0,I=0,j=0,R={point:D,lineStart:N,lineEnd:F,polygonStart:function(){R.lineStart=B,R.lineEnd=U},polygonEnd:function(){R.point=D,R.lineStart=N,R.lineEnd=F},result:function(){var t=j?[A/j,I/j]:M?[P/M,T/M]:C?[k/C,O/C]:[NaN,NaN];return k=O=C=P=T=M=A=I=j=0,t}};function D(t,e){k+=t,O+=e,++C}function N(){R.point=L}function L(t,e){R.point=z,D(x=t,w=e)}function z(t,e){var n=t-x,r=e-w,i=Object(l.u)(n*n+r*r);P+=i*(x+t)/2,T+=i*(w+e)/2,M+=i,D(x=t,w=e)}function F(){R.point=D}function B(){R.point=q}function U(){V(b,_)}function q(t,e){R.point=V,D(b=x=t,_=w=e)}function V(t,e){var n=t-x,r=e-w,i=Object(l.u)(n*n+r*r);P+=i*(x+t)/2,T+=i*(w+e)/2,M+=i,A+=(i=w*t-x*e)*(x+t),I+=i*(w+e),j+=3*i,D(x=t,w=e)}var G=R;function W(t){this._context=t}W.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,l.w)}},result:f.a};var H,K,X,Y,Z,$=Object(c.a)(),J={point:f.a,lineStart:function(){J.point=Q},lineEnd:function(){H&&tt(K,X),J.point=f.a},polygonStart:function(){H=!0},polygonEnd:function(){H=null},result:function(){var t=+$;return $.reset(),t}};function Q(t,e){J.point=tt,K=Y=t,X=Z=e}function tt(t,e){Y-=t,Z-=e,$.add(Object(l.u)(Y*Y+Z*Z)),Y=t,Z=e}var et=J;function nt(){this._string=[]}function rt(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}nt.prototype={_radius:4.5,_circle:rt(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=rt(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};e.a=function(t,e){var n,r,i=4.5;function o(t){return t&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Object(u.a)(t,n(r))),r.result()}return o.area=function(t){return Object(u.a)(t,n(E)),E.result()},o.measure=function(t){return Object(u.a)(t,n(et)),et.result()},o.bounds=function(t){return Object(u.a)(t,n(S.a)),S.a.result()},o.centroid=function(t){return Object(u.a)(t,n(G)),G.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,s.a):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new nt):new W(e=t),"function"!==typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"===typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}},function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return o})),n.d(e,"creator",(function(){return r.a})),n.d(e,"local",(function(){return s})),n.d(e,"matcher",(function(){return c.b})),n.d(e,"namespace",(function(){return l.a})),n.d(e,"namespaces",(function(){return f.a})),n.d(e,"pointer",(function(){return h.a})),n.d(e,"pointers",(function(){return d})),n.d(e,"select",(function(){return i.a})),n.d(e,"selectAll",(function(){return g})),n.d(e,"selection",(function(){return v.b})),n.d(e,"selector",(function(){return m.a})),n.d(e,"selectorAll",(function(){return b.a})),n.d(e,"style",(function(){return _.b})),n.d(e,"window",(function(){return x.a}));var r=n(140),i=n(298),o=function(t){return Object(i.a)(Object(r.a)(t).call(document.documentElement))},a=0;function s(){return new u}function u(){this._="@"+(++a).toString(36)}u.prototype=s.prototype={constructor:u,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var c=n(139),l=n(202),f=n(145),h=n(301),p=n(318),d=function(t,e){return t.target&&(t=Object(p.a)(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,(function(t){return Object(h.a)(t,e)}))},y=n(208),v=n(114),g=function(t){return"string"===typeof t?new v.a([document.querySelectorAll(t)],[document.documentElement]):new v.a([null==t?[]:Object(y.a)(t)],v.c)},m=n(201),b=n(299),_=n(300),x=n(203)},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n(305),i=n(1244),o=n(1239),a=n(48),s=Object(a.a)((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),u=s,c=(s.range,n(1237)),l=n(1238),f=n(52),h=Object(a.a)((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*f.b)}),(function(t,e){return(e-t)/f.b}),(function(t){return t.getUTCHours()})),p=h,d=(h.range,Object(a.a)((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*f.c)}),(function(t,e){return(e-t)/f.c}),(function(t){return t.getUTCMinutes()}))),y=d,v=(d.range,n(1235)),g=n(1236),m=n(40);function b(){return m.b.apply(Object(r.a)(o.a,u,c.b,l.a,p,y,v.a,g.a,i.b).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}},function(t,e,n){"use strict";t.exports=n(691)},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e,n){t.exports=n(705)},function(t,e,n){"use strict";e.a={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}},function(t,e,n){var r=n(716),i=n(755)((function(t,e,n){r(t,e,n)}));t.exports=i},function(t,e,n){"use strict";var r=n(108);e.__esModule=!0,e.default=void 0;var i=r(n(22)),o=(r(n(190)),r(n(124)),r(n(773))),a=function(t){return(0,o.default)((function(e){return(0,i.default)({},e,"function"===typeof t?t(e):t)}))};e.default=a},function(t,e,n){var r=n(785),i=n(506)((function(t,e){return null==t?{}:r(t,e)}));t.exports=i},function(t,e,n){var r=n(120),i=n(88);t.exports=function(t){return"number"==typeof t||i(t)&&"[object Number]"==r(t)}},function(t,e,n){var r=n(507),i=n(800),o=n(356),a=n(493),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(1),i=(n(17),n(207),n(51)),o=(n(313),n(54),n(639),n(419)),a=n(148);Object.keys,r.Component;var s,u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}),(function(t){return t}))},c={fromESObservable:null,toESObservable:null},l={fromESObservable:function(t){return"function"===typeof c.fromESObservable?c.fromESObservable(t):t},toESObservable:function(t){return"function"===typeof c.toESObservable?c.toESObservable(t):t}};s=l},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);t.exports=function t(e,n,f){if("string"!==typeof n){if(l){var h=c(n);h&&h!==l&&t(e,h,f)}var p=a(n);s&&(p=p.concat(s(n)));for(var d=0;d<p.length;++d){var y=p[d];if(!r[y]&&!i[y]&&(!f||!f[y])){var v=u(n,y);try{o(e,y,v)}catch(g){}}}return e}return e}},function(t,e,n){var r=n(501),i=n(809),o=n(364),a=n(66);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){"use strict";e.a=function(t){return function(){return this.matches(t)}}},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));var r=n(316);function i(t){return function(){this.style.removeProperty(t)}}function o(t,e,n){return function(){this.style.setProperty(t,e,n)}}function a(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function s(t,e){return t.style.getPropertyValue(e)||Object(r.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.a=function(t,e,n){return arguments.length>1?this.each((null==e?i:"function"===typeof e?a:o)(t,e,null==n?"":n)):s(this.node(),t)}},function(t,e){t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=t[c],f=e[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},function(t,e,n){"use strict";e.a=function(t){function e(t,r,u,c,h){for(var p,d,y,v,_,w=0,E=0,S=0,k=0,O=0,I=0,R=y=p=0,N=0,L=0,z=0,F=0,B=u.length,U=B-1,q="",V="",G="",W="";N<B;){if(d=u.charCodeAt(N),N===U&&0!==E+k+S+w&&(0!==E&&(d=47===E?10:47),k=S=w=0,B++,U++),0===E+k+S+w){if(N===U&&(0<L&&(q=q.replace(f,"")),0<q.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:q+=u.charAt(N)}d=59}switch(d){case 123:for(p=(q=q.trim()).charCodeAt(0),y=1,F=++N;N<B;){switch(d=u.charCodeAt(N)){case 123:y++;break;case 125:y--;break;case 47:switch(d=u.charCodeAt(N+1)){case 42:case 47:t:{for(R=N+1;R<U;++R)switch(u.charCodeAt(R)){case 47:if(42===d&&42===u.charCodeAt(R-1)&&N+2!==R){N=R+1;break t}break;case 10:if(47===d){N=R+1;break t}}N=R}}break;case 91:d++;case 40:d++;case 34:case 39:for(;N++<U&&u.charCodeAt(N)!==d;);}if(0===y)break;N++}switch(y=u.substring(F,N),0===p&&(p=(q=q.replace(l,"").trim()).charCodeAt(0)),p){case 64:switch(0<L&&(q=q.replace(f,"")),d=q.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=A}if(F=(y=e(r,L,y,d,h+1)).length,0<j&&(_=s(3,y,L=n(A,q,z),r,P,C,F,d,h,c),q=L.join(""),void 0!==_&&0===(F=(y=_.trim()).length)&&(d=0,y="")),0<F)switch(d){case 115:q=q.replace(x,a);case 100:case 109:case 45:y=q+"{"+y+"}";break;case 107:y=(q=q.replace(g,"$1 $2"))+"{"+y+"}",y=1===M||2===M&&o("@"+y,3)?"@-webkit-"+y+"@"+y:"@"+y;break;default:y=q+y,112===c&&(V+=y,y="")}else y="";break;default:y=e(r,n(r,q,z),y,c,h+1)}G+=y,y=z=L=R=p=0,q="",d=u.charCodeAt(++N);break;case 125:case 59:if(1<(F=(q=(0<L?q.replace(f,""):q).trim()).length))switch(0===R&&(p=q.charCodeAt(0),45===p||96<p&&123>p)&&(F=(q=q.replace(" ",":")).length),0<j&&void 0!==(_=s(1,q,r,t,P,C,V.length,c,h,c))&&0===(F=(q=_.trim()).length)&&(q="\0\0"),p=q.charCodeAt(0),d=q.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){W+=q+u.charAt(N);break}default:58!==q.charCodeAt(F-1)&&(V+=i(q,p,d,q.charCodeAt(2)))}z=L=R=p=0,q="",d=u.charCodeAt(++N)}}switch(d){case 13:case 10:47===E?E=0:0===1+p&&107!==c&&0<q.length&&(L=1,q+="\0"),0<j*D&&s(0,q,r,t,P,C,V.length,c,h,c),C=1,P++;break;case 59:case 125:if(0===E+k+S+w){C++;break}default:switch(C++,v=u.charAt(N),d){case 9:case 32:if(0===k+w+E)switch(O){case 44:case 58:case 9:case 32:v="";break;default:32!==d&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===k+E+w&&(L=z=1,v="\f"+v);break;case 108:if(0===k+E+w+T&&0<R)switch(N-R){case 2:112===O&&58===u.charCodeAt(N-3)&&(T=O);case 8:111===I&&(T=I)}break;case 58:0===k+E+w&&(R=N);break;case 44:0===E+S+k+w&&(L=1,v+="\r");break;case 34:case 39:0===E&&(k=k===d?0:0===k?d:k);break;case 91:0===k+E+S&&w++;break;case 93:0===k+E+S&&w--;break;case 41:0===k+E+w&&S--;break;case 40:if(0===k+E+w){if(0===p)switch(2*O+3*I){case 533:break;default:p=1}S++}break;case 64:0===E+S+k+w+R+y&&(y=1);break;case 42:case 47:if(!(0<k+w+S))switch(E){case 0:switch(2*d+3*u.charCodeAt(N+1)){case 235:E=47;break;case 220:F=N,E=42}break;case 42:47===d&&42===O&&F+2!==N&&(33===u.charCodeAt(F+2)&&(V+=u.substring(F,N+1)),v="",E=0)}}0===E&&(q+=v)}I=O,O=d,N++}if(0<(F=V.length)){if(L=r,0<j&&(void 0!==(_=s(2,V,L,t,P,C,F,c,h,c))&&0===(V=_).length))return W+V+G;if(V=L.join(",")+"{"+V+"}",0!==M*T){switch(2!==M||o(V,2)||(T=0),T){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(m,"::-webkit-input-$1")+V.replace(m,"::-moz-$1")+V.replace(m,":-ms-input-$1")+V}T=0}}return W+V+G}function n(t,e,n){var i=e.trim().split(y);e=i;var o=i.length,a=t.length;switch(a){case 0:case 1:var s=0;for(t=0===a?"":t[0]+" ";s<o;++s)e[s]=r(t,e[s],n).trim();break;default:var u=s=0;for(e=[];s<o;++s)for(var c=0;c<a;++c)e[u++]=r(t[c]+" ",i[s],n).trim()}return e}function r(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(v,"$1"+t.trim());case 58:return t.trim()+e.replace(v,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(v,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function i(t,e,n,r){var a=t+";",s=2*e+3*n+4*r;if(944===s){t=a.indexOf(":",9)+1;var u=a.substring(t,a.length-1).trim();return u=a.substring(0,t).trim()+u+";",1===M||2===M&&o(u,1)?"-webkit-"+u+u:u}if(0===M||2===M&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(O,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return p.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(e=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(e)){case 226:u=a.replace(_,"tb");break;case 232:u=a.replace(_,"tb-rl");break;case 220:u=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,s=(u=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(E,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(E,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===k.test(t))return 115===(u=t.substring(t.indexOf(":")+1)).charCodeAt(0)?i(t.replace("stretch","fill-available"),e,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+a}return a}function o(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),R(2!==e?r:r.replace(S,"$1"),n,e)}function a(t,e){var n=i(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(w," or ($1)").substring(4):"("+e+")"}function s(t,e,n,r,i,o,a,s,u,l){for(var f,h=0,p=e;h<j;++h)switch(f=I[h].call(c,t,p,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==e)return p}function u(t){return void 0!==(t=t.prefix)&&(R=null,t?"function"!==typeof t?M=1:(M=2,R=t):M=0),u}function c(t,n){var r=t;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<j){var i=s(-1,n,r,r,P,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=e(A,r,n,0,0);return 0<j&&(void 0!==(i=s(-2,o,r,r,P,C,o.length,0,0,0))&&(o=i)),"",T=0,C=P=1,o}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,y=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,E=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,C=1,P=1,T=0,M=1,A=[],I=[],j=0,R=null,D=0;return c.use=function t(e){switch(e){case void 0:case null:j=I.length=0;break;default:if("function"===typeof e)I[j++]=e;else if("object"===typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else D=0|!!e}return t},c.set=u,void 0!==t&&u(t),c}},function(t,e,n){"use strict";e.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(t,e){var n={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},r=Object.keys(n).join("|"),i=new RegExp(r,"g"),o=new RegExp(r,""),a=function(t){return t.replace(i,(function(t){return n[t]}))};t.exports=a,t.exports.has=function(t){return!!t.match(o)},t.exports.remove=a},function(t,e,n){"use strict";(function(t){var r=n(1);function i(e){var n;n="undefined"!==typeof window?window:"undefined"!==typeof self?self:t;var r="undefined"!==typeof document&&document.attachEvent;if(!r){var i=function(){var t=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(t){return n.setTimeout(t,20)};return function(e){return t(e)}}(),o=function(){var t=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout;return function(e){return t(e)}}(),a=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},s=function(t){if(!(t.target.className&&"function"===typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;a(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=i((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(n){n.call(e,t)})))}))}},u=!1,c="",l="animationstart",f="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p=document.createElement("fakeelement");if(void 0!==p.style.animationName&&(u=!0),!1===u)for(var d=0;d<f.length;d++)if(void 0!==p.style[f[d]+"AnimationName"]){c="-"+f[d].toLowerCase()+"-",l=h[d],u=!0;break}var y="resizeanim",v="@"+c+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",g=c+"animation: 1ms "+y+"; "}return{addResizeListener:function(t,i){if(r)t.attachEvent("onresize",i);else{if(!t.__resizeTriggers__){var o=t.ownerDocument,u=n.getComputedStyle(t);u&&"static"==u.position&&(t.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(v||"")+".resize-triggers { "+(g||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(t.createTextNode(n)),r.appendChild(i)}}(o),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=o.createElement("div")).className="resize-triggers";var c='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var f=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return c}});t.__resizeTriggers__.innerHTML=f.createHTML("")}else t.__resizeTriggers__.innerHTML=c;t.appendChild(t.__resizeTriggers__),a(t),t.addEventListener("scroll",s,!0),l&&(t.__resizeTriggers__.__animationListener__=function(e){e.animationName==y&&a(t)},t.__resizeTriggers__.addEventListener(l,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(i)}},removeResizeListener:function(t,e){if(r)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",s,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(l,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(n){}}}}}var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},c=function(t){function e(){var t,n,r;o(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=u(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var t=r.props,e=t.disableHeight,n=t.disableWidth,i=t.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},u=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,l=parseInt(s.paddingTop,10)||0,f=parseInt(s.paddingBottom,10)||0,h=o-l-f,p=a-u-c;(!e&&r.state.height!==h||!n&&r.state.width!==p)&&(r.setState({height:o-l-f,width:a-u-c}),i({height:o,width:a}))}},r._setRef=function(t){r._autoSizer=t},u(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=i(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,i=t.disableHeight,o=t.disableWidth,a=t.style,u=this.state,c=u.height,l=u.width,f={overflow:"visible"},h={},p=!1;return i||(0===c&&(p=!0),f.height=0,h.height=c),o||(0===l&&(p=!0),f.width=0,h.width=l),Object(r.createElement)("div",{className:n,ref:this._setRef,style:s({},f,a)},!p&&e(h))}}]),e}(r.PureComponent);c.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},e.a=c}).call(this,n(53))},function(t,e,n){var r=n(1031),i=n(1035),o=n(1036),a={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},s=Object.keys(a);function u(t){for(var e=o(),n=r(t),i=0;i<n.length;i++)e.include(n[i]);return e}t.exports=function(t){return u(t).bbox()},t.exports.polygon=function(t){return u(t).polygon()},t.exports.bboxify=function(t){return i(t).map((function(t){t&&(s.some((function(e){return!!t[e]&&-1!==a[e].indexOf(t.type)}))&&(t.bbox=u(t).bbox(),this.update(t)))}))}},function(t,e,n){(function(e){var n="__lodash_hash_undefined__",r="[object Function]",i="[object GeneratorFunction]",o=/^\[object .+?Constructor\]$/,a="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,u=a||s||Function("return this")();function c(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!==e)return function(t,e,n,r){var i=t.length,o=n+(r?1:-1);for(;r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,f,n);var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function l(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function f(t){return t!==t}function h(t,e){return t.has(e)}function p(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var d=Array.prototype,y=Function.prototype,v=Object.prototype,g=u["__core-js_shared__"],m=function(){var t=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),b=y.toString,_=v.hasOwnProperty,x=v.toString,w=RegExp("^"+b.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=d.splice,S=D(u,"Map"),k=D(u,"Set"),O=D(Object,"create");function C(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function P(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function T(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function M(t){var e=-1,n=t?t.length:0;for(this.__data__=new T;++e<n;)this.add(t[e])}function A(t,e){for(var n,r,i=t.length;i--;)if((n=t[i][0])===(r=e)||n!==n&&r!==r)return i;return-1}function I(t){return!(!N(t)||(e=t,m&&m in e))&&(function(t){var e=N(t)?x.call(t):"";return e==r||e==i}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}(t)?w:o).test(function(t){if(null!=t){try{return b.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t));var e}C.prototype.clear=function(){this.__data__=O?O(null):{}},C.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},C.prototype.get=function(t){var e=this.__data__;if(O){var r=e[t];return r===n?void 0:r}return _.call(e,t)?e[t]:void 0},C.prototype.has=function(t){var e=this.__data__;return O?void 0!==e[t]:_.call(e,t)},C.prototype.set=function(t,e){return this.__data__[t]=O&&void 0===e?n:e,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(t){var e=this.__data__,n=A(e,t);return!(n<0)&&(n==e.length-1?e.pop():E.call(e,n,1),!0)},P.prototype.get=function(t){var e=this.__data__,n=A(e,t);return n<0?void 0:e[n][1]},P.prototype.has=function(t){return A(this.__data__,t)>-1},P.prototype.set=function(t,e){var n=this.__data__,r=A(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},T.prototype.clear=function(){this.__data__={hash:new C,map:new(S||P),string:new C}},T.prototype.delete=function(t){return R(this,t).delete(t)},T.prototype.get=function(t){return R(this,t).get(t)},T.prototype.has=function(t){return R(this,t).has(t)},T.prototype.set=function(t,e){return R(this,t).set(t,e),this},M.prototype.add=M.prototype.push=function(t){return this.__data__.set(t,n),this},M.prototype.has=function(t){return this.__data__.has(t)};var j=k&&1/p(new k([,-0]))[1]==1/0?function(t){return new k(t)}:function(){};function R(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function D(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return I(n)?n:void 0}function N(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t){return t&&t.length?function(t,e,n){var r=-1,i=c,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=l;else if(o>=200){var f=e?null:j(t);if(f)return p(f);a=!1,i=h,u=new M}else u=e?[]:s;t:for(;++r<o;){var d=t[r],y=e?e(d):d;if(d=n||0!==d?d:0,a&&y===y){for(var v=u.length;v--;)if(u[v]===y)continue t;e&&u.push(y),s.push(d)}else i(u,y,n)||(u!==s&&u.push(y),s.push(d))}return s}(t):[]}}).call(this,n(53))},function(t,e,n){!function(){var e={};t.exports=e,e.simpleFilter=function(t,n){return n.filter((function(n){return e.test(t,n)}))},e.test=function(t,n){return null!==e.match(t,n)},e.match=function(t,e,n){n=n||{};var r,i=0,o=[],a=e.length,s=0,u=0,c=n.pre||"",l=n.post||"",f=n.caseSensitive&&e||e.toLowerCase();t=n.caseSensitive&&t||t.toLowerCase();for(var h=0;h<a;h++)r=e[h],f[h]===t[i]?(r=c+r+l,i+=1,u+=1+u):u=0,s+=u,o[o.length]=r;return i===t.length?(s=f===t?1/0:s,{rendered:o.join(""),score:s}):null},e.filter=function(t,n,r){return n&&0!==n.length?"string"!==typeof t?n:(r=r||{},n.reduce((function(n,i,o,a){var s=i;r.extract&&(s=r.extract(i));var u=e.match(t,s,r);return null!=u&&(n[n.length]={string:u.rendered,score:u.score,index:o,original:i}),n}),[]).sort((function(t,e){var n=e.score-t.score;return n||t.index-e.index}))):[]}}()},function(t,e,n){!function(t){"use strict";function e(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&k(r),i&&O(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var i,a=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(a&&k(a),t){case"Point":i=r(e).geometry;break;case"LineString":i=s(e).geometry;break;case"Polygon":i=o(e).geometry;break;case"MultiPoint":i=f(e).geometry;break;case"MultiLineString":i=l(e).geometry;break;case"MultiPolygon":i=h(e).geometry;break;default:throw new Error(t+" is invalid")}return a&&(i.bbox=a),i}function r(t,n,r){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!E(t[0])||!E(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,r)}function i(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return c(t.map((function(t){return r(t,e)})),n)}function o(t,n,r){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++){if(0===i&&0===a&&!E(o[0][0])||!E(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,r)}function a(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return c(t.map((function(t){return o(t,e)})),n)}function s(t,n,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!E(t[0][1])||!E(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,r)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return c(t.map((function(t){return s(t,e)})),n)}function c(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&k(n),r&&O(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function l(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,r)}function f(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,r)}function h(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,r)}function p(t,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,r)}function d(t,e){if(void 0===t||null===t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function y(t,e){if(void 0===t||null===t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Lo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function v(t,e){if(void 0===t||null===t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Lo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function g(t,e){return b(v(t,e))}function m(t){if(null===t||void 0===t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function b(t){if(null===t||void 0===t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function _(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180}function x(t,e,n){if(null===t||void 0===t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return y(v(t,e),n||"kilometers")}function w(t,e,n){if(null===t||void 0===t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=Fo[e||"meters"];if(!r)throw new Error("invalid original units");var i=Fo[n||"kilometers"];if(!i)throw new Error("invalid final units");return t/r*i}function E(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function S(t){return!!t&&t.constructor===Object}function k(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!E(t))throw new Error("bbox must only contain numbers")}))}function O(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function C(t,e,n){if(null!==t)for(var r,i,o,a,s,u,c,l,f=0,h=0,p=t.type,d="FeatureCollection"===p,y="Feature"===p,v=d?t.features.length:1,g=0;g<v;g++){s=(l=!!(c=d?t.features[g].geometry:y?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<s;m++){var b=0,_=0;if(null!==(a=l?c.geometries[m]:c)){u=a.coordinates;var x=a.type;switch(f=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":e(u,h,g,b,_),h++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++)e(u[r],h,g,b,_),h++,"MultiPoint"===x&&b++;"LineString"===x&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-f;i++)e(u[r][i],h,g,b,_),h++;"MultiLineString"===x&&b++,"Polygon"===x&&_++}"Polygon"===x&&b++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===x&&(_=0),i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-f;o++)e(u[r][i][o],h,g,b,_),h++;_++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)C(a.geometries[r],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function P(t,e,n,r){var i=n;return C(t,(function(t,r,o,a,s){i=0===r&&void 0===n?t:e(i,t,r,o,a,s)}),r),i}function T(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function M(t,e,n){var r=n;return T(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function A(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function I(t,e,n){var r=n;return A(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function j(t){var e=[];return C(t,(function(t){e.push(t)})),e}function R(t,e){var n,r,i,o,a,s,u,c,l,f,h=0,p="FeatureCollection"===t.type,d="Feature"===t.type,y=p?t.features.length:1;for(n=0;n<y;n++){for(s=p?t.features[n].geometry:d?t.geometry:t,c=p?t.features[n].properties:d?t.properties:{},l=p?t.features[n].bbox:d?t.bbox:void 0,f=p?t.features[n].id:d?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,h,c,l,f);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],h,c,l,f);break;default:throw new Error("Unknown Geometry Type")}else e(null,h,c,l,f);h++}}function D(t,e,n){var r=n;return R(t,(function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)})),r}function N(t,n){R(t,(function(t,r,i,o,a){var s,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,i,{bbox:o,id:a}),r,0)}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}t.coordinates.forEach((function(t,o){n(e({type:s,coordinates:t},i),r,o)}))}))}function L(t,e,n){var r=n;return N(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r}function z(t,e){N(t,(function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&P(t,(function(o,a,u,c,l,f){var h=s([o,a],t.properties);return e(h,n,r,f,i),i++,a}))}}))}function F(t,e,n){var r=n,i=!1;return z(t,(function(t,o,a,s,u){r=!1===i&&void 0===n?t:e(r,t,o,a,s,u),i=!0})),r}function B(t,e){if(!t)throw new Error("geojson is required");N(t,(function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case"LineString":e(t,n,r,0,0);break;case"Polygon":for(var a=0;a<o.length;a++)e(s(o[a],t.properties),n,r,a)}}}))}function U(t,e,n){var r=n;return B(t,(function(t,i,o,a){r=0===i&&void 0===n?t:e(r,t,i,o,a)})),r}function q(t){var e=[1/0,1/0,-1/0,-1/0];return C(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function V(t){if(!t)throw new Error("obj is required");var e=G(t);if(e.length>1&&E(e[0])&&E(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function G(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return W(e),e;throw new Error("No valid coordinates")}function W(t){if(t.length>1&&E(t[0])&&E(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return W(t[0]);throw new Error("coordinates must only contain numbers")}function H(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function K(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function X(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}}function Y(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function Z(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function $(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function J(t,e,n){n=n||{};for(var r=Object.keys(Vo),i=0;i<r.length;i++){var o=r[i],a=n[o];a=void 0!==a&&null!==a?a:Vo[o],Go[o]=a}Go.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function(t){var e=[],n=0;return t.rows,t.cols,t.cells.forEach((function(r,i){r.forEach((function(r,o){if(void 0!==r&&!function(t){return 5===t.cval||10===t.cval}(r)&&!tt(r)){var a=function(t,e,n){var r,i,o,a=t.length,s=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],c=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],l=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],f=(t[e][n],t[e][n]),h=f.cval,p=nt(f,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][h]);s.push([n+p[0],e+p[1]]),p=nt(f,o=l[h]),s.push([n+p[0],e+p[1]]),et(f);for(var d=n+u[h],y=e+c[h],v=h;d>=0&&y>=0&&y<a&&(d!=n||y!=e)&&void 0!==(f=t[y][d]);){if(0===(h=f.cval)||15===h)return{path:s,info:"mergeable"};o=l[h],r=u[h],i=c[h],5!==h&&10!==h||(5===h?f.flipped?-1===c[v]?(o="left",r=-1,i=0):(o="right",r=1,i=0):-1===u[v]&&(o="bottom",r=0,i=-1):10===h&&(f.flipped?-1===u[v]?(o="top",r=0,i=1):(o="bottom",r=0,i=-1):1===c[v]&&(o="left",r=-1,i=0))),p=nt(f,o),s.push([d+p[0],y+p[1]]),et(f),d+=r,y+=i,v=h}return{path:s,info:"closed"}}(t.cells,i,o),s=!1;if("mergeable"===a.info)for(var u=a.path[a.path.length-1][0],c=a.path[a.path.length-1][1],l=n-1;l>=0;l--)if(Math.abs(e[l][0][0]-u)<=1e-7&&Math.abs(e[l][0][1]-c)<=1e-7){for(var f=a.path.length-2;f>=0;--f)e[l].unshift(a.path[f]);s=!0;break}s||(e[n++]=a.path)}}))})),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var a=0;a<r;++a){var s=0,u=t[o+1][a],c=t[o+1][a+1],l=t[o][a+1],f=t[o][a];if(!(isNaN(u)||isNaN(c)||isNaN(l)||isNaN(f))){s|=u>=e?8:0,s|=c>=e?4:0,s|=l>=e?2:0;var h,p,d,y,v=!1;if(5===(s|=f>=e?1:0)||10===s){var g=(u+c+l+f)/4;5===s&&g<e?(s=10,v=!0):10===s&&g<e&&(s=5,v=!0)}0!==s&&15!==s&&(h=p=d=y=.5,1===s?(d=1-Q(e,u,f),p=1-Q(e,l,f)):2===s?(p=Q(e,f,l),y=1-Q(e,c,l)):3===s?(d=1-Q(e,u,f),y=1-Q(e,c,l)):4===s?(h=Q(e,u,c),y=Q(e,l,c)):5===s?(h=Q(e,u,c),y=Q(e,l,c),p=1-Q(e,l,f),d=1-Q(e,u,f)):6===s?(p=Q(e,f,l),h=Q(e,u,c)):7===s?(d=1-Q(e,u,f),h=Q(e,u,c)):8===s?(d=Q(e,f,u),h=1-Q(e,c,u)):9===s?(p=1-Q(e,l,f),h=1-Q(e,c,u)):10===s?(h=1-Q(e,c,u),y=1-Q(e,c,l),p=Q(e,f,l),d=Q(e,f,u)):11===s?(h=1-Q(e,c,u),y=1-Q(e,c,l)):12===s?(d=Q(e,f,u),y=Q(e,l,c)):13===s?(p=1-Q(e,l,f),y=Q(e,l,c)):14===s?(d=Q(e,f,u),p=Q(e,f,l)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),i.cells[o][a]={cval:s,flipped:v,top:h,right:y,bottom:p,left:d})}}}return i}(t,e));return"function"==typeof Go.successCallback&&Go.successCallback(s),s}function Q(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function rt(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;X(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return A(t,(function(t){var e=G(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return G(t)[0]-G(e)[0]}))})).sort((function(t,n){return e?G(t[0])[1]-G(n[0])[1]:G(n[0])[1]-G(t[0])[1]}))}(t,r),a=[],s=0;s<o.length;s++){for(var u=o[s],c=[],l=0;l<u.length;l++){var f=u[l];f.properties[n]?c.push(f.properties[n]):c.push(0),!0===i&&(f.properties.matrixPosition=[s,l])}a.push(c)}return a}function it(t,e,n,r,i){for(n=n||0,r=r||t.length-1,i=i||function(t,e){return t<e?-1:t>e?1:0};r>n;){if(r-n>600){var o=r-n+1,a=e-n+1,s=Math.log(o),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(o-u)/o)*(a-o/2<0?-1:1);it(t,e,Math.max(n,Math.floor(e-a*u/o+c)),Math.min(r,Math.floor(e+(o-a)*u/o+c)),i)}var l=t[e],f=n,h=r;for(ot(t,n,e),i(t[r],l)>0&&ot(t,n,r);f<h;){for(ot(t,f,h),f++,h--;i(t[f],l)<0;)f++;for(;i(t[h],l)>0;)h--}0===i(t[n],l)?ot(t,n,h):ot(t,++h,r),h<=e&&(n=h+1),e<=h&&(r=h-1)}}function ot(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function at(t,e){if(!(this instanceof at))return new at(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function st(t,e){ut(t,0,t.children.length,e,t)}function ut(t,e,n,r,i){i||(i=vt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],ct(i,t.leaf?r(o):o);return i}function ct(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function lt(t,e){return t.minX-e.minX}function ft(t,e){return t.minY-e.minY}function ht(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function pt(t){return t.maxX-t.minX+(t.maxY-t.minY)}function dt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function yt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function vt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gt(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,Wo(t,o,e,n,i),a.push(e,o,o,n))}function mt(t,e){return t(e={exports:{}},e.exports),e.exports}function bt(t,e){if(!(this instanceof bt))return new bt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function _t(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var a=t[o];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var s=[e,n,r,i],u=s.slice();for(o=0;o<t.length;o++)ia(t[o],s)||u.push(t[o]);var c=ta(u),l=[];for(o=0;o<c.length;o++)l.push(u[c[o]]);return l}(t),o=Ho(16,["[0]","[1]","[0]","[1]"]).load(t),a=[],s=0;s<i.length;s++){var u=i[s];o.remove(u),r=kt(u,r),a.push(r)}var c=Ho(16);for(s=0;s<a.length;s++)c.insert(St(a[s]));for(var l=e*e,f=n*n;a.length;){var h=a.shift(),p=h.p,d=h.next.p,y=Ot(p,d);if(!(y<f)){var v=y/l;(u=function(t,e,n,r,i,o,a){for(var s=new na(null,xt),u=t.data;u;){for(var c=0;c<u.children.length;c++){var l=u.children[c],f=u.leaf?Ct(l,n,r):function(t,e,n){if(wt(t,n)||wt(e,n))return 0;var r=Pt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=Pt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=Pt(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var a=Pt(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,i,o,a)}(n,r,l);f>o||s.push({node:l,dist:f})}for(;s.length&&!s.peek().node.children;){var h=s.pop(),p=h.node,d=Ct(p,e,n),y=Ct(p,r,i);if(h.dist<d&&h.dist<y&&Et(n,p,a)&&Et(r,p,a))return p}(u=s.pop())&&(u=u.node)}return null}(o,h.prev.p,p,d,h.next.next.p,v,c))&&Math.min(Ot(u,p),Ot(u,d))<=v&&(a.push(h),a.push(kt(u,h)),o.remove(u),c.remove(h),c.insert(St(h)),c.insert(St(h.next)))}}h=r;var g=[];do{g.push(h.p),h=h.next}while(h!==r);return g.push(h.p),g}function xt(t,e){return t.dist-e.dist}function wt(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function Et(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),s=n.search({minX:r,minY:i,maxX:o,maxY:a}),u=0;u<s.length;u++)if(function(t,e,n,r){return t!==r&&e!==n&&oa(t,e,n)>0!=oa(t,e,r)>0&&oa(n,r,t)>0!=oa(n,r,e)>0}(s[u].p,s[u].next.p,t,e))return!1;return!0}function St(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function kt(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Ot(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function Ct(t,e,n){var r=e[0],i=e[1],o=n[0]-r,a=n[1]-i;if(0!==o||0!==a){var s=((t[0]-r)*o+(t[1]-i)*a)/(o*o+a*a);s>1?(r=n[0],i=n[1]):s>0&&(r+=o*s,i+=a*s)}return(o=t[0]-r)*o+(a=t[1]-i)*a}function Pt(t,e,n,r,i,o,a,s){var u,c,l,f,h=n-t,p=r-e,d=a-i,y=s-o,v=t-i,g=e-o,m=h*h+p*p,b=h*d+p*y,_=d*d+y*y,x=h*v+p*g,w=d*v+y*g,E=m*_-b*b,S=E,k=E;0===E?(c=0,S=1,f=w,k=_):(f=m*w-b*x,(c=b*w-_*x)<0?(c=0,f=w,k=_):c>S&&(c=S,f=w+b,k=_)),f<0?(f=0,-x<0?c=0:-x>m?c=S:(c=-x,S=m)):f>k&&(f=k,-x+b<0?c=0:-x+b>m?c=S:(c=-x+b,S=m));var O=(1-(l=0===f?0:f/k))*i+l*a-((1-(u=0===c?0:c/S))*t+u*n),C=(1-l)*o+l*s-((1-u)*e+u*r);return O*O+C*C}function Tt(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.concavity||1/0,r=[];if(C(t,(function(t){r.push([t[0],t[1]])})),!r.length)return null;var i=aa(r,n);return i.length>3?o([i]):null}function Mt(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=V(t),o=G(e),a=e.geometry?e.geometry.type:e.type,s=e.bbox;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,s))return!1;"Polygon"===a&&(o=[o]);for(var u=0,c=!1;u<o.length&&!c;u++)if(At(i,o[u][0],r)){for(var l=!1,f=1;f<o[u].length&&!l;)At(i,o[u][f],!r)&&(l=!0),f++;l||(c=!0)}return c}function At(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var a=e[i][0],s=e[i][1],u=e[o][0],c=e[o][1];if(t[1]*(a-u)+s*(u-t[0])+c*(t[0]-a)==0&&(a-t[0])*(u-t[0])<=0&&(s-t[1])*(c-t[1])<=0)return!n;s>t[1]!=c>t[1]&&t[0]<(u-a)*(t[1]-s)/(c-s)+a&&(r=!r)}return r}function It(t,e){var n=[];return R(e,(function(e){A(t,(function(t){Mt(t,e)&&n.push(t)}))})),c(n)}function jt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return c(function(t){if(t.length<3)return[];t.sort(Dt);for(var e,n,r,i,o,a,s=t.length-1,u=t[s].x,c=t[0].x,l=t[s].y,f=l;s--;)t[s].y<l&&(l=t[s].y),t[s].y>f&&(f=t[s].y);var h,p=c-u,d=f-l,y=p>d?p:d,v=.5*(c+u),g=.5*(f+l),m=[new Rt({x:v-20*y,y:g-y,__sentinel:!0},{x:v,y:g+20*y,__sentinel:!0},{x:v+20*y,y:g-y,__sentinel:!0})],b=[],_=[];for(s=t.length;s--;){for(_.length=0,h=m.length;h--;)(p=t[s].x-m[h].x)>0&&p*p>m[h].r?(b.push(m[h]),m.splice(h,1)):p*p+(d=t[s].y-m[h].y)*d>m[h].r||(_.push(m[h].a,m[h].b,m[h].b,m[h].c,m[h].c,m[h].a),m.splice(h,1));for(Nt(_),h=_.length;h;)n=_[--h],e=_[--h],r=t[s],i=n.x-e.x,o=n.y-e.y,a=2*(i*(r.y-n.y)-o*(r.x-n.x)),Math.abs(a)>1e-12&&m.push(new Rt(e,n,r))}for(Array.prototype.push.apply(b,m),s=b.length;s--;)(b[s].a.__sentinel||b[s].b.__sentinel||b[s].c.__sentinel)&&b.splice(s,1);return b}(t.features.map((function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r}))).map((function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],a={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):a={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,r,i,e]],a)})))}function Rt(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,a=e.y-t.y,s=n.x-t.x,u=n.y-t.y,c=o*(t.x+e.x)+a*(t.y+e.y),l=s*(t.x+n.x)+u*(t.y+n.y),f=2*(o*(n.y-e.y)-a*(n.x-e.x));this.x=(u*c-a*l)/f,this.y=(o*l-s*c)/f,r=this.x-t.x,i=this.y-t.y,this.r=r*r+i*i}function Dt(t,e){return e.x-t.x}function Nt(t){var e,n,r,i,o,a=t.length;t:for(;a;)for(n=t[--a],e=t[--a],r=a;r;)if(o=t[--r],e===(i=t[--r])&&n===o||e===o&&n===i){t.splice(a,2),t.splice(r,2),a-=2;continue t}}function Lt(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.units,i=V(t),o=V(e),a=_(o[1]-i[1]),s=_(o[0]-i[0]),u=_(i[1]),c=_(o[1]),l=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(u)*Math.cos(c);return y(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),r)}function zt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Ft(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return Ft(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ut(t);default:throw new Error("unknown GeoJSON type")}}function Ft(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=Bt(t.properties),e.geometry=Ut(t.geometry),e}function Bt(t){var e={};return t?(Object.keys(t).forEach((function(n){var r=t[n];"object"==typeof r?null===r?e[n]=null:r.length?e[n]=r.map((function(t){return t})):e[n]=Bt(r):e[n]=r})),e):e}function Ut(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return Ut(t)})),e):(e.coordinates=qt(t.coordinates),e)}function qt(t){return"object"!=typeof t[0]?t.slice():t.map((function(t){return qt(t)}))}function Vt(t,e){function n(t,e){e.length&&e.pop();for(var n=c[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(u(n[r],r));t<0&&la(e,i)}function r(t){return u(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}function s(t){var e,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(s)};case"Point":e=r(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(r);break;case"LineString":e=i(t.arcs);break;case"MultiLineString":e=t.arcs.map(i);break;case"Polygon":e=a(t.arcs);break;case"MultiPolygon":e=t.arcs.map(a);break;default:return null}return{type:n,coordinates:e}}var u=ca(t.transform),c=t.arcs;return s(e)}function Gt(t,e){function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Polygon":r(t.arcs);break;case"MultiPolygon":t.arcs.forEach(r)}}function r(t){t.forEach((function(e){e.forEach((function(e){(o[e=e<0?~e:e]||(o[e]=[])).push(t)}))})),a.push(t)}function i(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(Vt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var o={},a=[],s=[];return e.forEach(n),a.forEach((function(t){if(!t._){var e=[],n=[t];for(t._=1,s.push(e);t=n.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){o[t<0?~t:t].forEach((function(t){t._||(t._=1,n.push(t))}))}))}))}})),a.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:s.map((function(e){var n,r=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){o[t<0?~t:t].length<2&&r.push(t)}))}))})),(n=(r=fa(t,r)).length)>1)for(var a,s,u=1,c=i(r[0]);u<n;++u)(a=i(r[u]))>c&&(s=r[0],r[0]=r[u],r[u]=s,c=a);return r}))}}function Wt(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function Ht(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(Kt)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?Kt:Xt)(t)}function Kt(t){var e,n=Xt(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Xt(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Xt)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Yt(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Zt(t,e){var n,r=t[0],i=t[1],o=e[0],a=e[1];return i<r&&(n=r,r=i,i=n),a<o&&(n=o,o=a,a=n),r===o&&i===a}function $t(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==$(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=zt(t));var r=[],i=U(t,(function(t,e){return function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=Jt(r[0]),a=Jt(r[r.length-1]),u=Jt(i[0]),c=Jt(i[i.length-1]);if(o===c)n=i.concat(r.slice(1));else if(u===a)n=r.concat(i.slice(1));else if(o===u)n=r.slice(1).reverse().concat(i);else{if(a!==c)return null;n=r.concat(i.reverse().slice(1))}return s(n)}(t,e)||(r.push(t),e)}));return i&&r.push(i),r.length?1===r.length?r[0]:l(r.map((function(t){return t.coordinates}))):null}function Jt(t){return t[0].toString()+","+t[1].toString()}function Qt(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==$(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=zt(t));var r=function(t){var e={};N(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return $t(t,e);case"Polygon":return function(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==$(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=zt(t));var r=[];N(t,(function(t){r.push(t.geometry)}));var i=wa({geoms:p(r).geometry});return ha(i,i.objects.geoms.geometries)}(t,e);default:throw new Error(r+" is not supported")}}function te(t,n){var r="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var i=$(t),o=[];switch(i){case"LineString":o=ee(t);break;case"MultiLineString":case"Polygon":G(t).forEach((function(t){o.push(ee(t))}));break;case"MultiPolygon":G(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(ee(t))})),o.push(e)}));break;case"Point":return t;case"MultiPoint":var a={};G(t).forEach((function(t){var e=t.join("-");a.hasOwnProperty(e)||(o.push(t),a[e]=!0)}));break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=o,t):{type:i,coordinates:o}:!0===r?(t.geometry.coordinates=o,t):e({type:i,coordinates:o},t.properties,t.bbox,t.id)}function ee(t){var e=G(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,r,i,o=[],a=e.length-1;o.push(e[0]);for(var s=1;s<a;s++)n=e[s-1],r=e[s],function(t,e,n){var r=n[0],i=n[1],o=t[0],a=t[1],s=e[0],u=e[1],c=s-o,l=u-a;return(r-o)*l-(i-a)*c==0&&(Math.abs(c)>=Math.abs(l)?c>0?o<=r&&r<=s:s<=r&&r<=o:l>0?a<=i&&i<=u:u<=i&&i<=a)}(n,i=e[s+1],r)||o.push(r);return o.push(i),o}function ne(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function re(t,e,n){var r=e.x,i=e.y,o=n.x-r,a=n.y-i;if(0!==o||0!==a){var s=((t.x-r)*o+(t.y-i)*a)/(o*o+a*a);s>1?(r=n.x,i=n.y):s>0&&(r+=o*s,i+=a*s)}return(o=t.x-r)*o+(a=t.y-i)*a}function ie(t,e,n,r,i){for(var o,a=r,s=e+1;s<n;s++){var u=re(t[s],t[e],t[n]);u>a&&(o=s,a=u)}a>r&&(o-e>1&&ie(t,e,o,r,i),i.push(t[o]),n-o>1&&ie(t,o,n,r,i))}function oe(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return function(t,e){var n=t.length-1,r=[t[0]];return ie(t,0,n,e,r),r.push(t[n]),r}(t=n?t:function(t,e){for(var n,r=t[0],i=[r],o=1,a=t.length;o<a;o++)ne(n=t[o],r)>e&&(i.push(n),r=n);return r!==n&&i.push(n),i}(t,r),r)}function ae(t,e,n){return oe(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function se(t,e,n){return t.map((function(t){var r=t.map((function(t){return{x:t[0],y:t[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var i=oe(r,e,n).map((function(t){return[t.x,t.y]}));!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(i);)i=oe(r,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function ue(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.resolution||1e4,r=e.sharpness||.85;if(!t)throw new Error("line is required");if(!E(n))throw new Error("resolution must be an number");if(!E(r))throw new Error("sharpness must be an number");for(var i=[],o=new Ea({points:Y(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),duration:n,sharpness:r}),a=0;a<o.duration;a+=10){var u=o.pos(a);Math.floor(a/100)%2==0&&i.push([u.x,u.y])}return s(i,t.properties)}function ce(t){k(t);var e=Number(t[0]),n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[e,n];return o([[a,[r,n],[r,i],[e,i],a]])}function le(t){return ce(q(t))}function fe(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(Lt(t.slice(0,2),[r,n])>=Lt(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var a=(e+r)/2;return[a-(i-n)/2,n,a+(i-n)/2,i]}function he(t,e,n,i){if(!S(i=i||{}))throw new Error("options is invalid");var o=i.units,a=i.properties,s=V(t),u=_(s[0]),c=_(s[1]),l=_(n),f=v(e,o),h=Math.asin(Math.sin(c)*Math.cos(f)+Math.cos(c)*Math.sin(f)*Math.cos(l));return r([b(u+Math.atan2(Math.sin(l)*Math.sin(f)*Math.cos(c),Math.cos(f)-Math.sin(c)*Math.sin(h))),b(h)],a)}function pe(t,e,n){var r=(n=n||{}).steps||64,i=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,i=i||t.properties||{};for(var a=[],s=0;s<r;s++)a.push(he(t,e,-360*s/r,n).geometry.coordinates);return a.push(a[0]),o([a],i)}function de(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return function(t,e){var n=de(e,t);return(n+180)%360}(t,e);var r=V(t),i=V(e),o=_(r[0]),a=_(i[0]),s=_(r[1]),u=_(i[1]),c=Math.sin(a-o)*Math.cos(u),l=Math.cos(s)*Math.sin(u)-Math.sin(s)*Math.cos(u)*Math.cos(a-o);return b(Math.atan2(c,l))}function ye(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var i=q(t);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function ve(t,e){var n=0,i=0,o=0;return C(t,(function(t){n+=t[0],i+=t[1],o++}),!0),r([n/o,i/o],e)}function ge(t,e){switch($(t)){case"Point":return t;case"Polygon":var n=[];C(t,(function(t){n.push(t)}));var i,o,a,s,u,c,l,f,h=ve(t,e),p=h.geometry.coordinates,d=0,y=0,v=0,g=n.map((function(t){return[t[0]-p[0],t[1]-p[1]]}));for(i=0;i<n.length-1;i++)s=(o=g[i])[0],c=o[1],u=(a=g[i+1])[0],v+=f=s*(l=a[1])-u*c,d+=(s+u)*f,y+=(c+l)*f;if(0===v)return h;var m=1/(.5*v*6);return r([p[0]+m*d,p[1]+m*y],e);default:var b=Tt(t);return b?ge(b,e):ve(t,e)}}function me(t){var e=[];return"FeatureCollection"===t.type?A(t,(function(t){C(t,(function(n){e.push(r(n,t.properties))}))})):C(t,(function(n){e.push(r(n,t.properties))})),c(e)}function be(t,e,n){n=n||2;var r,i,o,a,s,u,c,l=e&&e.length,f=l?e[0]*n:t.length,h=_e(t,0,f,n,!0),p=[];if(!h)return p;if(l&&(h=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=_e(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(a));for(s.sort(Ee),i=0;i<s.length;i++)!function(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,c=n,l=n.x,f=n.y,h=1/0;for(r=n.next;r!==c;)i>=r.x&&r.x>=l&&i!==r.x&&ke(o<f?i:a,o,l,f,o<f?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<h||u===h&&r.x>n.x)&&Te(r,t)&&(n=r,h=u),r=r.next;return n}(t,e)){var n=Me(e,t);xe(n,n.next)}}(s[i],n),n=xe(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var d=n;d<f;d+=n)(s=t[d])<r&&(r=s),(u=t[d+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=0!==(c=Math.max(o-r,a-i))?1/c:0}return we(h,p,n,r,i,c),p}function _e(t,e,n,r,i){var o,a;if(i===Re(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Ae(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Ae(o,t[o],t[o+1],a);return a&&Ce(a,a.next)&&(Ie(a),a=a.next),a}function xe(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Ce(r,r.next)&&0!==Oe(r.prev,r,r.next))r=r.next;else{if(Ie(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function we(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Se(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,r,i,o);for(var s,u,c=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?function(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Oe(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=Se(s,u,e,n,r),h=Se(c,l,e,n,r),p=t.nextZ;p&&p.z<=h;){if(p!==t.prev&&p!==t.next&&ke(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Oe(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=f;){if(p!==t.prev&&p!==t.next&&ke(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Oe(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}(t,r,i,o):function(t){var e=t.prev,n=t,r=t.next;if(Oe(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(ke(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Oe(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Ie(t),t=u.next,c=u.next;else if((t=u)===c){a?1===a?we(t=function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Ce(i,o)&&Pe(i,r,r.next,o)&&Te(i,o)&&Te(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Ie(r),Ie(r.next),r=t=o),r=r.next}while(r!==t);return r}(t,e,n),e,n,r,i,o,2):2===a&&function(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Pe(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Te(t,e)&&Te(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}(a,s)){var u=Me(a,s);return a=xe(a,a.next),u=xe(u,u.next),we(a,e,n,r,i,o),void we(u,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}(t,e,n,r,i,o):we(xe(t),e,n,r,i,o,1);break}}}function Ee(t,e){return t.x-e.x}function Se(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function ke(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Oe(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ce(t,e){return t.x===e.x&&t.y===e.y}function Pe(t,e,n,r){return!!(Ce(t,e)&&Ce(n,r)||Ce(t,r)&&Ce(n,e))||Oe(t,e,n)>0!=Oe(t,e,r)>0&&Oe(n,r,t)>0!=Oe(n,r,e)>0}function Te(t,e){return Oe(t.prev,t,t.next)<0?Oe(t,e,t.next)>=0&&Oe(t,t.prev,e)>=0:Oe(t,e,t.prev)<0||Oe(t,t.next,e)<0}function Me(t,e){var n=new je(t.i,t.x,t.y),r=new je(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ae(t,e,n,r){var i=new je(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ie(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function je(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Re(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function De(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}(t),n=Sa(e.vertices,e.holes,2),r=[],i=[];n.forEach((function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])}));for(var a=0;a<i.length;a+=3){var s=i.slice(a,a+3);s.push(i[a]),r.push(o([s]))}return r}function Ne(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0;return A(e,(function(e,i){var o=Lt(t,e);o<r&&((n=zt(e)).properties.featureIndex=i,n.properties.distanceToPoint=o,r=o)})),n}function Le(t,e,n,r,i){ze(t,e,n||0,r||t.length-1,i||function(t,e){return t<e?-1:t>e?1:0})}function ze(t,e,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,a=e-n+1,s=Math.log(o),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(o-u)/o)*(a-o/2<0?-1:1);ze(t,e,Math.max(n,Math.floor(e-a*u/o+c)),Math.min(r,Math.floor(e+(o-a)*u/o+c)),i)}var l=t[e],f=n,h=r;for(Fe(t,n,e),i(t[r],l)>0&&Fe(t,n,r);f<h;){for(Fe(t,f,h),f++,h--;i(t[f],l)<0;)f++;for(;i(t[h],l)>0;)h--}0===i(t[n],l)?Fe(t,n,h):Fe(t,++h,r),h<=e&&(n=h+1),e<=h&&(r=h-1)}}function Fe(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Be(t,e){if(!(this instanceof Be))return new Be(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Ue(t,e){qe(t,0,t.children.length,e,t)}function qe(t,e,n,r,i){i||(i=Ze(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],Ve(i,t.leaf?r(o):o);return i}function Ve(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Ge(t,e){return t.minX-e.minX}function We(t,e){return t.minY-e.minY}function He(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Ke(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Xe(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Ye(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Ze(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function $e(t,e,n,r,i){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(Le(t,o=e+Math.ceil((n-e)/r/2)*r,e,n,i),a.push(e,o,o,n))}function Je(t){var e=Be(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=Qe(e)).bbox=e}else t.bbox=t.bbox?t.bbox:tn(t);return Be.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){var n=Qe(t);n.bbox=t,e.push(n)})):A(t,(function(t){t.bbox=t.bbox?t.bbox:tn(t),e.push(t)})),Be.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=Qe(e)).bbox=e}return Be.prototype.remove.call(this,t)},e.clear=function(){return Be.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Be.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Be.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Be.prototype.all.call(this)}},e.toJSON=function(){return Be.prototype.toJSON.call(this)},e.fromJSON=function(t){return Be.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:tn(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function Qe(t){var e=[t[0],t[1]],n=[t[0],t[3]],r=[t[2],t[3]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],r,n,e]]}}}function tn(t){var e=[1/0,1/0,-1/0,-1/0];return C(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function en(t){if(!t)throw new Error("geojson is required");var e=[];return N(t,(function(t){!function(t,e){var n=[],r=t.geometry;switch(r.type){case"Polygon":n=G(r);break;case"LineString":n=[G(r)]}n.forEach((function(n){(function(t,e){var n=[];return t.reduce((function(t,r){var i=s([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r})),n})(n,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}(t,e)})),c(e)}function nn(t,n){var r={},i=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=rn(t,n);return o&&i.push(o),c(i)}var a=Je();return a.load(en(n)),A(en(t),(function(t){A(a.search(t),(function(e){var n=rn(t,e);if(n){var o=G(n).join(",");r[o]||(r[o]=!0,i.push(n))}}))})),c(i)}function rn(t,e){var n=G(t),i=G(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],a=n[0][1],s=n[1][0],u=n[1][1],c=i[0][0],l=i[0][1],f=i[1][0],h=i[1][1],p=(h-l)*(s-o)-(f-c)*(u-a);if(0===p)return null;var d=((f-c)*(a-l)-(h-l)*(o-c))/p,y=((s-o)*(a-l)-(u-a)*(o-c))/p;return d>=0&&d<=1&&y>=0&&y<=1?r([o+d*(s-o),a+d*(u-a)]):null}function on(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var i=t.geometry?t.geometry.type:t.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var o=r([1/0,1/0],{dist:1/0}),a=0;return N(t,(function(t){for(var i=G(t),u=0;u<i.length-1;u++){var c=r(i[u]);c.properties.dist=Lt(e,c,n);var l=r(i[u+1]);l.properties.dist=Lt(e,l,n);var f=Lt(c,l,n),h=Math.max(c.properties.dist,l.properties.dist),p=de(c,l),d=he(e,h,p+90,n),y=he(e,h,p-90,n),v=nn(s([d.geometry.coordinates,y.geometry.coordinates]),s([c.geometry.coordinates,l.geometry.coordinates])),g=null;v.features.length>0&&((g=v.features[0]).properties.dist=Lt(e,g,n),g.properties.location=a+Lt(c,g,n)),c.properties.dist<o.properties.dist&&((o=c).properties.index=u,o.properties.location=a),l.properties.dist<o.properties.dist&&((o=l).properties.index=u+1,o.properties.location=a+f),g&&g.properties.dist<o.properties.dist&&((o=g).properties.index=u),a+=f}})),o}function an(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r,i=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(r=i?sn(V(e),V(t)):sn(V(t),V(e)))>180?-(360-r):r}function sn(t,e){var n=_(t[1]),r=_(e[1]),i=_(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(b(Math.atan2(i,o))+360)%360}function un(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var i=V(t),o=V(e);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,x(function(t,e,n){var r=n=void 0===n?No:Number(n),i=t[1]*Math.PI/180,o=e[1]*Math.PI/180,a=o-i,s=Math.abs(e[0]-t[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),c=Math.abs(u)>1e-11?a/u:Math.cos(i);return Math.sqrt(a*a+c*c*s*s)*r}(i,o),"meters",r)}function cn(t,e){return fn(t,"mercator",e)}function ln(t,e){return fn(t,"wgs84",e)}function fn(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&E(t[0])?t="mercator"===e?hn(t):pn(t):(!0!==r&&(t=zt(t)),C(t,(function(t){var n="mercator"===e?hn(t):pn(t);t[0]=n[0],t[1]=n[1]}))),t}function hn(t){var e=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function pn(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function dn(t,n,i){if(!S(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=r(t):"Point"===t.type?t=e(t):K(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=s(n):"LineString"===n.type?n=e(n):K(n,"LineString","line");var o=1/0,a=t.geometry.coordinates;return z(n,(function(t){var e=t.geometry.coordinates[0],n=t.geometry.coordinates[1],s=function(t,e,n,i){var o=i.mercator,a=!0!==o?Lt(e,t,i):yn(e,t,i),s=m(!0!==o?de(e,t):an(e,t)),u=m(!0!==o?de(e,n):an(e,n)),c=Math.abs(s-u);if(c>90)return a;var l=(u+180)%360,f=m(!0!==o?de(n,t):an(n,t)),h=Math.abs(f-l);return h>180&&(h=Math.abs(h-360)),h>90?!0!==o?Lt(t,n,i):yn(t,n,i):!0!==o?a*Math.sin(_(c)):function(t,e,n,i){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var a=r(n),s=ln(function(t,e,n){var r=t[0],i=t[1],o=e[0]-r,a=e[1]-i,s=((n[0]-r)*o+(n[1]-i)*a)/(o*o+a*a);return[r+s*o,i+s*a]}(cn([t[0]+o,t[1]]),cn([e[0]+o,e[1]]),cn([n[0]+o,n[1]])));return 0!==o&&(s[0]-=o),un(a,s,i)}(e,n,t,i)}(a,e,n,i);o>s&&(o=s)})),o}function yn(t,e,n){var r=n.units,i=0;Math.abs(t[0])>=180&&(i=t[0]>0?-180:180),Math.abs(e[0])>=180&&(i=e[0]>0?-180:180);var o=cn([t[0]+i,t[1]]),a=cn([e[0]+i,e[1]]),s=function(t){return t*t},u=s(o[0]-a[0])+s(o[1]-a[1]);return x(Math.sqrt(u),"meters",r)}function vn(t){for(var n=function(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?c([e(t)]):c([t]):t}(t),i=ye(n),o=!1,a=0;!o&&a<n.features.length;){var s,u=n.features[a].geometry,l=!1;if("Point"===u.type)i.geometry.coordinates[0]===u.coordinates[0]&&i.geometry.coordinates[1]===u.coordinates[1]&&(o=!0);else if("MultiPoint"===u.type){var f=!1;for(s=0;!f&&s<u.coordinates.length;)i.geometry.coordinates[0]===u.coordinates[s][0]&&i.geometry.coordinates[1]===u.coordinates[s][1]&&(o=!0,f=!0),s++}else if("LineString"===u.type)for(s=0;!l&&s<u.coordinates.length-1;)gn(i.geometry.coordinates[0],i.geometry.coordinates[1],u.coordinates[s][0],u.coordinates[s][1],u.coordinates[s+1][0],u.coordinates[s+1][1])&&(l=!0,o=!0),s++;else if("MultiLineString"===u.type)for(var h=0;h<u.coordinates.length;){l=!1,s=0;for(var p=u.coordinates[h];!l&&s<p.length-1;)gn(i.geometry.coordinates[0],i.geometry.coordinates[1],p[s][0],p[s][1],p[s+1][0],p[s+1][1])&&(l=!0,o=!0),s++;h++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||Mt(i,u)&&(o=!0);a++}if(o)return i;var d=c([]);for(a=0;a<n.features.length;a++)d.features=d.features.concat(me(n.features[a]).features);return r(Ne(i,d).geometry.coordinates)}function gn(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function mn(t){return D(t,(function(t,e){return t+bn(e)}),0)}function bn(t){var e,n=0;switch(t.type){case"Polygon":return _n(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=_n(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=bn(t.geometries[e]);return n}}function _n(t){var e=0;if(t&&t.length>0){e+=Math.abs(xn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(xn(t[n]))}return e}function xn(t){var e,n,r,i,o,a,s=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(r=u-2,i=u-1,o=0):a===u-1?(r=u-1,i=0,o=1):(r=a,i=a+1,o=a+2),e=t[r],n=t[i],s+=(wn(t[o][0])-wn(e[0]))*Math.sin(wn(n[1]));s=s*Ca*Ca/2}return s}function wn(t){return t*Math.PI/180}function En(t,e){if(!S(e=e||{}))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return F(t,(function(t,n){var r=n.geometry.coordinates;return t+Lt(r[0],r[1],e)}),0)}function Sn(t,e,n,r){if(!S(r=r||{}))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var a,u,c,l=0,f=0;f<i.length&&!(e>=l&&f===i.length-1);f++){if(l>e&&0===o.length){if(!(a=e-l))return o.push(i[f]),s(o);u=de(i[f],i[f-1])-180,c=he(i[f],a,u,r),o.push(c.geometry.coordinates)}if(l>=n)return(a=n-l)?(u=de(i[f],i[f-1])-180,c=he(i[f],a,u,r),o.push(c.geometry.coordinates),s(o)):(o.push(i[f]),s(o));if(l>=e&&o.push(i[f]),f===i.length-1)return s(o);l+=Lt(i[f],i[f+1],r)}return s(i[i.length-1])}function kn(t,e,n){var r=(n=n||{}).ignoreEndVertices;if(!S(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var i=V(t),o=G(e),a=0;a<o.length-1;a++){var s=!1;if(r&&(0===a&&(s="start"),a===o.length-2&&(s="end"),0===a&&a+1===o.length-1&&(s="both")),function(t,e,n,r){var i=n[0],o=n[1],a=t[0],s=t[1],u=e[0],c=e[1],l=u-a,f=c-s;return(n[0]-a)*f-(n[1]-s)*l==0&&(r?"start"===r?Math.abs(l)>=Math.abs(f)?l>0?a<i&&i<=u:u<=i&&i<a:f>0?s<o&&o<=c:c<=o&&o<s:"end"===r?Math.abs(l)>=Math.abs(f)?l>0?a<=i&&i<u:u<i&&i<=a:f>0?s<=o&&o<c:c<o&&o<=s:"both"===r?Math.abs(l)>=Math.abs(f)?l>0?a<i&&i<u:u<i&&i<a:f>0?s<o&&o<c:c<o&&o<s:void 0:Math.abs(l)>=Math.abs(f)?l>0?a<=i&&i<=u:u<=i&&i<=a:f>0?s<=o&&o<=c:c<=o&&o<=s)}(o[a],o[a+1],i,s))return!0}return!1}function On(t,e){var n=$(t),r=$(e),i=Y(t),o=Y(e);switch(n){case"Point":switch(r){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(Pn(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,o);case"LineString":return kn(i,o,{ignoreEndVertices:!0});case"Polygon":return Mt(i,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)Pn(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,o);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!kn(t.coordinates[r],e))return!1;n||(n=kn(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(i,o);case"Polygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=Mt(t.coordinates[1],e);if(!i){n=!1;break}i=Mt(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!kn(t.coordinates[n],e))return!1;return!0}(i,o);case"Polygon":return function(t,e){if(!Cn(q(e),q(t)))return!1;for(var n=!1,r=0;r<t.coordinates.length-1;r++){if(!Mt(t.coordinates[r],e))return!1;n||(n=Mt(t.coordinates[r],e,{ignoreBoundary:!0})),n||(n=Mt(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0}))}return n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(t,e){var n=q(t);if(!Cn(q(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!Mt(t.coordinates[0][r],e))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function Cn(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function Pn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Tn(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var i=n.mask,o=n.properties,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf($(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],u=t[1],l=t[2],f=t[3],h=e/Lt([s,u],[l,u],n)*(l-s),p=e/Lt([s,u],[s,f],n)*(f-u),d=l-s,y=f-u,v=Math.floor(d/h),g=(y-Math.floor(y/p)*p)/2,m=s+(d-v*h)/2;m<=l;){for(var b=u+g;b<=f;){var _=r([m,b],o);i?On(_,i)&&a.push(_):a.push(_),b+=p}m+=h}return c(a)}function Mn(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=void 0===n||null===n||isNaN(n)?6:n,r=void 0===r||null===r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return C(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)})),t}function An(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!An(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function In(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function jn(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!jn(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function Rn(t,e){var n=[],r=Je();return N(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var i=r.search(e);if(i.features.length){var o=Nn(e,i);n=n.filter((function(t){return t.id!==o.id})),r.remove(o),A(Dn(o,e),(function(t){n.push(t),r.insert(t)}))}}else(n=Dn(t,e).features).forEach((function(t){t.bbox||(t.bbox=fe(q(t)))})),r.load(c(n))})),c(n)}function Dn(t,e){var n=[],r=G(t)[0],i=G(t)[t.geometry.coordinates.length-1];if(Ln(r,V(e))||Ln(i,V(e)))return c([t]);var o=Je(),a=en(t);o.load(a);var u=o.search(e);if(!u.features.length)return c([t]);var l=Nn(e,u),f=I(a,(function(t,r,i){var o=G(r)[1],a=V(e);return i===l.id?(t.push(a),n.push(s(t)),Ln(a,o)?[a]:[a,o]):(t.push(o),t)}),[r]);return f.length>1&&n.push(s(f)),c(n)}function Nn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return A(e,(function(e){var i=on(e,t).properties.dist;i<r&&(n=e,r=i)})),n}function Ln(t,e){return t[0]===e[0]&&t[1]===e[1]}function zn(t,e,n,r,i){if(!S(i=i||{}))throw new Error("options is invalid");var o=i.steps,a=i.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if("object"!=typeof i)throw new Error("options must be an object");o=o||64;var u=Fn(n),c=Fn(r),l=t.properties;if(u===c)return s(pe(t,e,i).geometry.coordinates[0],l);for(var f=u,h=u<c?c:c+360,p=f,d=[],y=0;p<h;)d.push(he(t,e,p,a).geometry.coordinates),p=f+360*++y/o;return p>h&&d.push(he(t,e,h,a).geometry.coordinates),s(d,l)}function Fn(t){var e=t%360;return e<0&&(e+=360),e}function Bn(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=$(t),i=G(t);if(n=n||t.properties||{},!i.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Un(i,n);case"MultiPolygon":var o=[];return i.forEach((function(t){o.push(Un(t,n))})),c(o);default:throw new Error("geom "+r+" not supported")}}function Un(t,e){return t.length>1?l(t,e):s(t[0],e)}function qn(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=e.autoComplete,i=e.orderCoords;if(!t)throw new Error("lines is required");switch(r=void 0===r||r,i=void 0===i||i,$(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach((function(t){o.push(G(Vn(t,{},r,i)))})),h(o,n)}return Vn(t,n,r,i)}function Vn(t,e,n,r){e=e||t.properties||{};var i=G(t),a=$(t);if(!i.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return n&&(i=Gn(i)),o([i],e);case"MultiLineString":var u=[],c=0;return i.forEach((function(t){if(n&&(t=Gn(t)),r){var e=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.abs(e-r)*Math.abs(n-i)}(q(s(t)));e>c?(u.unshift(t),c=e):u.push(t)}else u.push(t)})),o(u,e);default:throw new Error("geometry type "+a+" is not supported")}}function Gn(t){var e=t[0],n=e[0],r=e[1],i=t[t.length-1],o=i[0],a=i[1];return n===o&&r===a||t.push(e),t}function Wn(t,e,n){var r,i,o,a,s,u=t.length,c=Kn(t[0],e),l=[];for(n||(n=[]),r=1;r<u;r++){for(i=t[r-1],a=s=Kn(o=t[r],e);;){if(!(c|a)){l.push(i),a!==s?(l.push(o),r<u-1&&(n.push(l),l=[])):r===u-1&&l.push(o);break}if(c&a)break;c?c=Kn(i=Hn(i,o,c,e),e):a=Kn(o=Hn(i,o,a,e),e)}c=s}return l.length&&n.push(l),n}function Hn(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function Kn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function Xn(t,e){for(var n=[],r=0;r<t.length;r++){var i=za.polygon(t[r],e);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function Yn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function Zn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?(n.strict,t===e):function(t,e,n){var r,i;if($n(t)||$n(e))return!1;if(t.prototype!==e.prototype)return!1;if(Yn(t))return!!Yn(e)&&Zn(t=Fa.call(t),e=Fa.call(e),n);if(Jn(t)){if(!Jn(e))return!1;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}try{var o=Object.keys(t),a=Object.keys(e)}catch(t){return!1}if(o.length!==a.length)return!1;for(o.sort(),a.sort(),r=o.length-1;r>=0;r--)if(o[r]!==a[r])return!1;for(r=o.length-1;r>=0;r--)if(!Zn(t[i=o[r]],e[i],n))return!1;return typeof t==typeof e}(t,e,n))}function $n(t){return null===t||void 0===t}function Jn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&"function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0])}function Qn(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r,i=n.tolerance||0,o=[],a=Je();return a.load(en(t)),z(e,(function(t){var e=!1;A(a.search(t),(function(n){if(!1===e){var o=G(t).sort(),a=G(n).sort();Zn(o,a)||(0===i?kn(o[0],n)&&kn(o[1],n):on(n,o[0]).properties.dist<=i&&on(n,o[1]).properties.dist<=i)?(e=!0,r=r?tr(r,t):t):(0===i?kn(a[0],t)&&kn(a[1],t):on(t,a[0]).properties.dist<=i&&on(t,a[1]).properties.dist<=i)&&(r=r?tr(r,n):n)}})),!1===e&&r&&(o.push(r),r=void 0)})),r&&o.push(r),c(o)}function tr(t,e){var n=G(e),r=G(t),i=r[0],o=r[r.length-1],a=t.geometry.coordinates;return Zn(n[0],i)?a.unshift(n[1]):Zn(n[0],o)?a.push(n[1]):Zn(n[1],i)?a.unshift(n[0]):Zn(n[1],o)&&a.push(n[0]),t}function er(t){var e=t%360;return e<0&&(e+=360),e}function nr(t,e,n,i){if(!S(i=i||{}))throw new Error("options is invalid");var o=i.units,a=i.properties;if(!t)throw new Error("origin is required");if(void 0===e||null===e)throw new Error("distance is required");if(void 0===n||null===n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var s=x(e,o,"meters"),u=V(t),c=function(t,e,n,r){var i=e/(r=void 0===r?No:Number(r)),o=t[0]*Math.PI/180,a=_(t[1]),s=_(n),u=i*Math.cos(s),c=a+u;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var l=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),f=Math.abs(l)>1e-11?u/l:Math.cos(a);return[(180*(o+i*Math.sin(s)/f)/Math.PI+540)%360-180,180*c/Math.PI]}(u,s,n);return c[0]+=c[0]-u[0]>180?-360:u[0]-c[0]>180?360:0,r(c,a)}function rr(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=t[a],u=t[a+1];a===t.length-1&&(u=t[0]),r=ir(s,u,e),n<=0&&r>0?function(t,e,n){return ir(t,e,n)<0}(e,s,i)||(i=s):n>0&&r<=0&&(function(t,e,n){return ir(t,e,n)>0}(e,s,o)||(o=s)),n=r}return[i,o]}function ir(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function or(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,r,i=G(t),o=0,a=1;a<i.length;)n=r||i[0],o+=((r=i[a])[0]-n[0])*(r[1]+n[1]),a++;return o>0}function ar(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return R(t,(function(t){ar(t,e)})),t;case"LineString":return sr(G(t),e),t;case"Polygon":return ur(G(t),e),t;case"MultiLineString":return G(t).forEach((function(t){sr(t,e)})),t;case"MultiPolygon":return G(t).forEach((function(t){ur(t,e)})),t;case"Point":case"MultiPoint":return t}}function sr(t,e){or(t)===e&&t.reverse()}function ur(t,e){or(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)or(t[n])===e&&t[n].reverse()}function cr(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;X(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return A(t,(function(t){var e=G(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return G(t)[0]-G(e)[0]}))})).sort((function(t,n){return e?G(t[0])[1]-G(n[0])[1]:G(n[0])[1]-G(t[0])[1]}))}(t,r),a=[],s=0;s<o.length;s++){for(var u=o[s],c=[],l=0;l<u.length;l++){var f=u[l];f.properties[n]?c.push(f.properties[n]):c.push(0),!0===i&&(f.properties.matrixPosition=[s,l])}a.push(c)}return a}function lr(t,e,n,r){r=r||{};for(var i=Object.keys(Ba),o=0;o<i.length;o++){var a=i[o],s=r[a];s=void 0!==s&&null!==s?s:Ba[a],Ua[a]=s}Ua.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,c=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},a=e+Math.abs(n),s=0;s<r;++s){o.cells[s]=[];for(var u=0;u<i;++u){var c=0,l=t[s+1][u],f=t[s+1][u+1],h=t[s][u+1],p=t[s][u];if(!(isNaN(l)||isNaN(f)||isNaN(h)||isNaN(p))){c|=l<e?0:l>a?128:64,c|=f<e?0:f>a?32:16,c|=h<e?0:h>a?8:4;var d=+(c|=p<e?0:p>a?2:1),y=0;if(17===c||18===c||33===c||34===c||38===c||68===c||72===c||98===c||102===c||132===c||136===c||137===c||152===c||153===c){var v=(l+f+h+p)/4;y=v>a?2:v<e?0:1,34===c?1===y?c=35:0===y&&(c=136):136===c?1===y?(c=35,y=4):0===y&&(c=34):17===c?1===y?(c=155,y=4):0===y&&(c=153):68===c?1===y?(c=103,y=4):0===y&&(c=102):153===c?1===y&&(c=155):102===c?1===y&&(c=103):152===c?y<2&&(c=156,y=1):137===c?y<2&&(c=139,y=1):98===c?y<2&&(c=99,y=1):38===c?y<2&&(c=39,y=1):18===c?y>0?(c=156,y=4):c=152:33===c?y>0?(c=139,y=4):c=137:72===c?y>0?(c=99,y=4):c=98:132===c&&(y>0?(c=39,y=4):c=38)}if(0!=c&&170!=c){var g,m,b,_,x,w,E,S;g=m=b=_=x=w=E=S=.5;var k=[];1===c?(b=1-fr(e,h,p),S=1-fr(e,l,p),k.push(Cs[c])):169===c?(b=fr(a,p,h),S=fr(a,p,l),k.push(Cs[c])):4===c?(w=1-fr(e,f,h),_=fr(e,p,h),k.push(ks[c])):166===c?(w=fr(a,h,f),_=1-fr(a,h,p),k.push(ks[c])):16===c?(x=fr(e,h,f),m=fr(e,l,f),k.push(Ss[c])):154===c?(x=1-fr(a,f,h),m=1-fr(a,f,l),k.push(Ss[c])):64===c?(E=fr(e,p,l),g=1-fr(e,f,l),k.push(Ts[c])):106===c?(E=1-fr(a,l,p),g=fr(a,l,f),k.push(Ts[c])):168===c?(_=fr(a,p,h),b=fr(e,p,h),S=fr(e,p,l),E=fr(a,p,l),k.push(Os[c]),k.push(Cs[c])):2===c?(_=1-fr(e,h,p),b=1-fr(a,h,p),S=1-fr(a,l,p),E=1-fr(e,l,p),k.push(Os[c]),k.push(Cs[c])):162===c?(x=fr(a,h,f),w=fr(e,h,f),_=1-fr(e,h,p),b=1-fr(a,h,p),k.push(Os[c]),k.push(Cs[c])):8===c?(x=1-fr(e,f,h),w=1-fr(a,f,h),_=fr(a,p,h),b=fr(e,p,h),k.push(Ss[c]),k.push(ks[c])):138===c?(x=1-fr(e,f,h),w=1-fr(a,f,h),g=1-fr(a,f,l),m=1-fr(e,f,l),k.push(Ss[c]),k.push(ks[c])):32===c?(x=fr(a,h,f),w=fr(e,h,f),g=fr(e,l,f),m=fr(a,l,f),k.push(Ss[c]),k.push(ks[c])):42===c?(S=1-fr(a,l,p),E=1-fr(e,l,p),g=fr(e,l,f),m=fr(a,l,f),k.push(Ps[c]),k.push(Ts[c])):128===c&&(S=fr(e,p,l),E=fr(a,p,l),g=1-fr(a,f,l),m=1-fr(e,f,l),k.push(Ps[c]),k.push(Ts[c])),5===c?(w=1-fr(e,f,h),S=1-fr(e,l,p),k.push(ks[c])):165===c?(w=fr(a,h,f),S=fr(a,p,l),k.push(ks[c])):20===c?(_=fr(e,p,h),m=fr(e,l,f),k.push(Os[c])):150===c?(_=1-fr(a,h,p),m=1-fr(a,f,l),k.push(Os[c])):80===c?(x=fr(e,h,f),E=fr(e,p,l),k.push(Ss[c])):90===c?(x=1-fr(a,f,h),E=1-fr(a,l,p),k.push(Ss[c])):65===c?(b=1-fr(e,h,p),g=1-fr(e,f,l),k.push(Cs[c])):105===c?(b=fr(a,p,h),g=fr(a,l,f),k.push(Cs[c])):160===c?(x=fr(a,h,f),w=fr(e,h,f),S=fr(e,p,l),E=fr(a,p,l),k.push(Ss[c]),k.push(ks[c])):10===c?(x=1-fr(e,f,h),w=1-fr(a,f,h),S=1-fr(a,l,p),E=1-fr(e,l,p),k.push(Ss[c]),k.push(ks[c])):130===c?(_=1-fr(e,h,p),b=1-fr(a,h,p),g=1-fr(a,f,l),m=1-fr(e,f,l),k.push(Os[c]),k.push(Cs[c])):40===c?(_=fr(a,p,h),b=fr(e,p,h),g=fr(e,l,f),m=fr(a,l,f),k.push(Os[c]),k.push(Cs[c])):101===c?(w=fr(a,h,f),g=fr(a,l,f),k.push(ks[c])):69===c?(w=1-fr(e,f,h),g=1-fr(e,f,l),k.push(ks[c])):149===c?(S=fr(a,p,l),m=1-fr(a,f,l),k.push(Ps[c])):21===c?(S=1-fr(e,l,p),m=fr(e,l,f),k.push(Ps[c])):86===c?(_=1-fr(a,h,p),E=1-fr(a,l,p),k.push(Os[c])):84===c?(_=fr(e,p,h),E=fr(e,p,l),k.push(Os[c])):89===c?(x=1-fr(a,f,h),b=fr(a,p,h),k.push(Cs[c])):81===c?(x=fr(e,h,f),b=1-fr(e,h,p),k.push(Cs[c])):96===c?(x=fr(a,h,f),w=fr(e,h,f),E=fr(e,p,l),g=fr(a,l,f),k.push(Ss[c]),k.push(ks[c])):74===c?(x=1-fr(e,f,h),w=1-fr(a,f,h),E=1-fr(a,l,p),g=1-fr(e,f,l),k.push(Ss[c]),k.push(ks[c])):24===c?(x=1-fr(a,f,h),_=fr(a,p,h),b=fr(e,p,h),m=fr(e,l,f),k.push(Ss[c]),k.push(Cs[c])):146===c?(x=fr(e,h,f),_=1-fr(e,h,p),b=1-fr(a,h,p),m=1-fr(a,f,l),k.push(Ss[c]),k.push(Cs[c])):6===c?(w=1-fr(e,f,h),_=1-fr(a,h,p),S=1-fr(a,l,p),E=1-fr(e,l,p),k.push(ks[c]),k.push(Os[c])):164===c?(w=fr(a,h,f),_=fr(e,p,h),S=fr(e,p,l),E=fr(a,p,l),k.push(ks[c]),k.push(Os[c])):129===c?(b=1-fr(e,h,p),S=fr(a,p,l),g=1-fr(a,f,l),m=1-fr(e,f,l),k.push(Cs[c]),k.push(Ps[c])):41===c?(b=fr(a,p,h),S=1-fr(e,l,p),g=fr(e,l,f),m=fr(a,l,f),k.push(Cs[c]),k.push(Ps[c])):66===c?(_=1-fr(e,h,p),b=1-fr(a,h,p),E=1-fr(a,l,p),g=1-fr(e,f,l),k.push(Os[c]),k.push(Cs[c])):104===c?(_=fr(a,p,h),b=fr(e,p,h),E=fr(e,p,l),g=fr(a,l,f),k.push(Cs[c]),k.push(Ms[c])):144===c?(x=fr(e,h,f),S=fr(e,p,l),E=fr(a,p,l),m=1-fr(a,f,l),k.push(Ss[c]),k.push(Ts[c])):26===c?(x=1-fr(a,f,h),S=1-fr(a,l,p),E=1-fr(e,l,p),m=fr(e,l,f),k.push(Ss[c]),k.push(Ts[c])):36===c?(w=fr(a,h,f),_=fr(e,p,h),g=fr(e,l,f),m=fr(a,l,f),k.push(ks[c]),k.push(Os[c])):134===c?(w=1-fr(e,f,h),_=1-fr(a,h,p),g=1-fr(a,f,l),m=1-fr(e,f,l),k.push(ks[c]),k.push(Os[c])):9===c?(x=1-fr(e,f,h),w=1-fr(a,f,h),b=fr(a,p,h),S=1-fr(e,l,p),k.push(Ss[c]),k.push(ks[c])):161===c?(x=fr(a,h,f),w=fr(e,h,f),b=1-fr(e,h,p),S=fr(a,p,l),k.push(Ss[c]),k.push(ks[c])):37===c?(w=fr(a,h,f),S=1-fr(e,l,p),g=fr(e,l,f),m=fr(a,l,f),k.push(ks[c]),k.push(Ps[c])):133===c?(w=1-fr(e,f,h),S=fr(a,p,l),g=1-fr(a,f,l),m=1-fr(e,f,l),k.push(ks[c]),k.push(Ps[c])):148===c?(_=fr(e,p,h),S=fr(e,p,l),E=fr(a,p,l),m=1-fr(a,f,l),k.push(Os[c]),k.push(Ts[c])):22===c?(_=1-fr(a,h,p),S=1-fr(a,l,p),E=1-fr(e,l,p),m=fr(e,l,f),k.push(Os[c]),k.push(Ts[c])):82===c?(x=fr(e,h,f),_=1-fr(e,h,p),b=1-fr(a,h,p),E=1-fr(a,l,p),k.push(Ss[c]),k.push(Cs[c])):88===c?(x=1-fr(a,f,h),_=fr(a,p,h),b=fr(e,p,h),E=fr(e,p,l),k.push(Ss[c]),k.push(Cs[c])):73===c?(x=1-fr(e,f,h),w=1-fr(a,f,h),b=fr(a,p,h),g=1-fr(e,f,l),k.push(Ss[c]),k.push(ks[c])):97===c?(x=fr(a,h,f),w=fr(e,h,f),b=1-fr(e,h,p),g=fr(a,l,f),k.push(Ss[c]),k.push(ks[c])):145===c?(x=fr(e,h,f),b=1-fr(e,h,p),S=fr(a,p,l),m=1-fr(a,f,l),k.push(Ss[c]),k.push(Ps[c])):25===c?(x=1-fr(a,f,h),b=fr(a,p,h),S=1-fr(e,l,p),m=fr(e,l,f),k.push(Ss[c]),k.push(Ps[c])):70===c?(w=1-fr(e,f,h),_=1-fr(a,h,p),E=1-fr(a,l,p),g=1-fr(e,f,l),k.push(ks[c]),k.push(Os[c])):100===c?(w=fr(a,h,f),_=fr(e,p,h),E=fr(e,p,l),g=fr(a,l,f),k.push(ks[c]),k.push(Os[c])):34===c?(0===y?(x=1-fr(e,f,h),w=1-fr(a,f,h),_=fr(a,p,h),b=fr(e,p,h),S=fr(e,p,l),E=fr(a,p,l),g=1-fr(a,f,l),m=1-fr(e,f,l)):(x=fr(a,h,f),w=fr(e,h,f),_=1-fr(e,h,p),b=1-fr(a,h,p),S=1-fr(a,l,p),E=1-fr(e,l,p),g=fr(e,l,f),m=fr(a,l,f)),k.push(Ss[c]),k.push(ks[c]),k.push(Ps[c]),k.push(Ts[c])):35===c?(4===y?(x=1-fr(e,f,h),w=1-fr(a,f,h),_=fr(a,p,h),b=fr(e,p,h),S=fr(e,p,l),E=fr(a,p,l),g=1-fr(a,f,l),m=1-fr(e,f,l)):(x=fr(a,h,f),w=fr(e,h,f),_=1-fr(e,h,p),b=1-fr(a,h,p),S=1-fr(a,l,p),E=1-fr(e,l,p),g=fr(e,l,f),m=fr(a,l,f)),k.push(Ss[c]),k.push(ks[c]),k.push(Cs[c]),k.push(Ts[c])):136===c?(0===y?(x=fr(a,h,f),w=fr(e,h,f),_=1-fr(e,h,p),b=1-fr(a,h,p),S=1-fr(a,l,p),E=1-fr(e,l,p),g=fr(e,l,f),m=fr(a,l,f)):(x=1-fr(e,f,h),w=1-fr(a,f,h),_=fr(a,p,h),b=fr(e,p,h),S=fr(e,p,l),E=fr(a,p,l),g=1-fr(a,f,l),m=1-fr(e,f,l)),k.push(Ss[c]),k.push(ks[c]),k.push(Ps[c]),k.push(Ts[c])):153===c?(0===y?(x=fr(e,h,f),b=1-fr(e,h,p),S=1-fr(e,l,p),m=fr(e,l,f)):(x=1-fr(a,f,h),b=fr(a,p,h),S=fr(a,p,l),m=1-fr(a,f,l)),k.push(Ss[c]),k.push(Cs[c])):102===c?(0===y?(w=1-fr(e,f,h),_=fr(e,p,h),E=fr(e,p,l),g=1-fr(e,f,l)):(w=fr(a,h,f),_=1-fr(a,h,p),E=1-fr(a,l,p),g=fr(a,l,f)),k.push(ks[c]),k.push(Ts[c])):155===c?(4===y?(x=fr(e,h,f),b=1-fr(e,h,p),S=1-fr(e,l,p),m=fr(e,l,f)):(x=1-fr(a,f,h),b=fr(a,p,h),S=fr(a,p,l),m=1-fr(a,f,l)),k.push(Ss[c]),k.push(Ps[c])):103===c?(4===y?(w=1-fr(e,f,h),_=fr(e,p,h),E=fr(e,p,l),g=1-fr(e,f,l)):(w=fr(a,h,f),_=1-fr(a,h,p),E=1-fr(a,l,p),g=fr(a,l,f)),k.push(ks[c]),k.push(Os[c])):152===c?(0===y?(x=fr(e,h,f),_=1-fr(e,h,p),b=1-fr(a,h,p),S=1-fr(a,l,p),E=1-fr(e,l,p),m=fr(e,l,f)):(x=1-fr(a,f,h),_=fr(a,p,h),b=fr(e,p,h),S=fr(e,p,l),E=fr(a,p,l),m=1-fr(a,f,l)),k.push(Ss[c]),k.push(Os[c]),k.push(Cs[c])):156===c?(4===y?(x=fr(e,h,f),_=1-fr(e,h,p),b=1-fr(a,h,p),S=1-fr(a,l,p),E=1-fr(e,l,p),m=fr(e,l,f)):(x=1-fr(a,f,h),_=fr(a,p,h),b=fr(e,p,h),S=fr(e,p,l),E=fr(a,p,l),m=1-fr(a,f,l)),k.push(Ss[c]),k.push(Cs[c]),k.push(Ts[c])):137===c?(0===y?(x=fr(a,h,f),w=fr(e,h,f),b=1-fr(e,h,p),S=1-fr(e,l,p),g=fr(e,l,f),m=fr(a,l,f)):(x=1-fr(e,f,h),w=1-fr(a,f,h),b=fr(a,p,h),S=fr(a,p,l),g=1-fr(a,f,l),m=1-fr(e,f,l)),k.push(Ss[c]),k.push(ks[c]),k.push(Cs[c])):139===c?(4===y?(x=fr(a,h,f),w=fr(e,h,f),b=1-fr(e,h,p),S=1-fr(e,l,p),g=fr(e,l,f),m=fr(a,l,f)):(x=1-fr(e,f,h),w=1-fr(a,f,h),b=fr(a,p,h),S=fr(a,p,l),g=1-fr(a,f,l),m=1-fr(e,f,l)),k.push(Ss[c]),k.push(ks[c]),k.push(Ps[c])):98===c?(0===y?(x=1-fr(e,f,h),w=1-fr(a,f,h),_=fr(a,p,h),b=fr(e,p,h),E=fr(e,p,l),g=1-fr(e,f,l)):(x=fr(a,h,f),w=fr(e,h,f),_=1-fr(e,h,p),b=1-fr(a,h,p),E=1-fr(a,l,p),g=fr(a,l,f)),k.push(Ss[c]),k.push(ks[c]),k.push(Ts[c])):99===c?(4===y?(x=1-fr(e,f,h),w=1-fr(a,f,h),_=fr(a,p,h),b=fr(e,p,h),E=fr(e,p,l),g=1-fr(e,f,l)):(x=fr(a,h,f),w=fr(e,h,f),_=1-fr(e,h,p),b=1-fr(a,h,p),E=1-fr(a,l,p),g=fr(a,l,f)),k.push(Ss[c]),k.push(ks[c]),k.push(Cs[c])):38===c?(0===y?(w=1-fr(e,f,h),_=fr(e,p,h),S=fr(e,p,l),E=fr(a,p,l),g=1-fr(a,f,l),m=1-fr(e,f,l)):(w=fr(a,h,f),_=1-fr(a,h,p),S=1-fr(a,l,p),E=1-fr(e,l,p),g=fr(e,l,f),m=fr(a,l,f)),k.push(ks[c]),k.push(Ps[c]),k.push(Ts[c])):39===c?(4===y?(w=1-fr(e,f,h),_=fr(e,p,h),S=fr(e,p,l),E=fr(a,p,l),g=1-fr(a,f,l),m=1-fr(e,f,l)):(w=fr(a,h,f),_=1-fr(a,h,p),S=1-fr(a,l,p),E=1-fr(e,l,p),g=fr(e,l,f),m=fr(a,l,f)),k.push(ks[c]),k.push(Os[c]),k.push(Ts[c])):85===c&&(x=1,w=0,_=1,b=0,S=0,E=1,g=0,m=1),(g<0||g>1||m<0||m>1||x<0||x>1||_<0||_>1||S<0||S>1||E<0||E>1)&&console.log("MarchingSquaresJS-isoBands: "+c+" "+d+" "+l+","+f+","+h+","+p+" "+y+" "+g+" "+m+" "+x+" "+w+" "+_+" "+b+" "+S+" "+E),o.cells[s][u]={cval:c,cval_real:d,flipped:y,topleft:g,topright:m,righttop:x,rightbottom:w,bottomright:_,bottomleft:b,leftbottom:S,lefttop:E,edges:k}}}}}return o}(t,e,n);return Ua.polygons?(Ua.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach((function(t,r){t.forEach((function(t,i){if(void 0!==t){var o=Is[t.cval](t);"object"==typeof o&&hr(o)?"object"==typeof o[0]&&hr(o[0])?"object"==typeof o[0][0]&&hr(o[0][0])?o.forEach((function(t){t.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=t})):(o.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(c)):(Ua.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var a=0;a<r;a++)if(void 0!==t.cells[o][a]&&t.cells[o][a].edges.length>0){var s=function(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&Va?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return n&Ga?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return n&Ga?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return n&Wa?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&Va?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return n&Ga?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return n&Ga?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return n&Wa?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return n&Ga?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return n&Wa?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return n&Wa?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&qa?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return n&Ga?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return n&Wa?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return n&Wa?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&qa?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return n&Ga?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&qa?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return n&Wa?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&qa?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&qa?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&Va?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&qa?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&Va?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[o][a]),u=null,c=a,l=o;null!==s&&i.push([s.p[0]+c,s.p[1]+l]);do{if(null===(u=function(t,e,n,r){var i,o,a,s,u,c=t.cval;switch(e){case-1:switch(r){case 0:i=ks[c],a=es[c],s=ns[c],u=rs[c];break;default:i=Ss[c],a=Ja[c],s=Qa[c],u=ts[c]}break;case 1:switch(r){case 0:i=Ps[c],a=ps[c],s=ds[c],u=ys[c];break;default:i=Ts[c],a=ls[c],s=fs[c],u=hs[c]}break;default:switch(n){case-1:switch(r){case 0:i=Ms[c],a=Ha[c],s=Ka[c],u=Xa[c];break;default:i=As[c],a=Ya[c],s=Za[c],u=$a[c]}break;case 1:switch(r){case 0:i=Cs[c],a=is[c],s=os[c],u=as[c];break;default:i=Os[c],a=ss[c],s=us[c],u=cs[c]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),c=t.cval_real,i){case 0:c&Va?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:c&Ga?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:c&Ga?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:c&Wa?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:c&Va?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:c&Ga?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:c&Ga?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:c&Wa?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:c&Ga?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:c&Wa?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:c&Wa?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:c&qa?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:c&Ga?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:c&Wa?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:c&Wa?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:c&qa?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:c&Ga?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:c&qa?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:c&Wa?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:c&qa?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:c&qa?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:c&Va?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:c&qa?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:c&Va?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+a+" "+s+" "+u)),{p:[e,n],x:a,y:s,o:u}}(t.cells[l][c],s.x,s.y,s.o)))break;if(i.push([u.p[0]+c,u.p[1]+l]),c+=u.x,s=u,(l+=u.y)<0||l>=n||c<0||c>=r||void 0===t.cells[l][c]){var f=function(t,e,n,r,i,o){for(var a=t.cells[n][e],s=a.cval_real,u=e+r,c=n+i,l=[],f=!1;!f;){if(void 0===t.cells[c]||void 0===t.cells[c][u])if(c-=i,u-=r,s=(a=t.cells[c][u]).cval_real,-1===i)if(0===o)if(s&Wa)l.push([u,c]),r=-1,i=0,o=0;else{if(!(s&Ga)){l.push([u+a.bottomright,c]),r=0,i=1,o=1,f=!0;break}l.push([u+1,c]),r=1,i=0,o=0}else{if(!(s&Wa)){if(s&Ga){l.push([u+a.bottomright,c]),r=0,i=1,o=1,f=!0;break}l.push([u+a.bottomleft,c]),r=0,i=1,o=0,f=!0;break}l.push([u,c]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(s&Va)){if(s&qa){l.push([u+a.topleft,c+1]),r=0,i=-1,o=0,f=!0;break}l.push([u+a.topright,c+1]),r=0,i=-1,o=1,f=!0;break}l.push([u+1,c+1]),r=1,i=0,o=1}else l.push([u+1,c+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(s&qa)){if(s&Wa){l.push([u,c+a.leftbottom]),r=1,i=0,o=0,f=!0;break}l.push([u,c+a.lefttop]),r=1,i=0,o=1,f=!0;break}l.push([u,c+1]),r=0,i=1,o=0}else{if(!(s&qa)){console.log("MarchingSquaresJS-isoBands: wtf");break}l.push([u,c+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(s&Ga)){l.push([u+1,c+a.rightbottom]),r=-1,i=0,o=0,f=!0;break}l.push([u+1,c]),r=0,i=-1,o=1}else{if(!(s&Ga)){if(s&Va){l.push([u+1,c+a.righttop]),r=-1,i=0,o=1;break}l.push([u+1,c+a.rightbottom]),r=-1,i=0,o=0,f=!0;break}l.push([u+1,c]),r=0,i=-1,o=1}}else if(s=(a=t.cells[c][u]).cval_real,-1===r)if(0===o)if(void 0!==t.cells[c-1]&&void 0!==t.cells[c-1][u])r=0,i=-1,o=1;else{if(!(s&Wa)){l.push([u+a.bottomright,c]),r=0,i=1,o=1,f=!0;break}l.push([u,c])}else{if(!(s&qa)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+c);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[c+1]&&void 0!==t.cells[c+1][u])r=0,i=1,o=0;else{if(!(s&Va)){l.push([u+a.topleft,c+1]),r=0,i=-1,o=0,f=!0;break}l.push([u+1,c+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[c][u+1])r=1,i=0,o=1;else{if(!(s&Ga)){l.push([u+1,c+a.righttop]),r=-1,i=0,o=1,f=!0;break}l.push([u+1,c]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[c][u-1])r=-1,i=0,o=0;else{if(!(s&qa)){l.push([u,c+a.leftbottom]),r=1,i=0,o=0,f=!0;break}l.push([u,c+1]),r=0,i=1,o=0}}if(c+=i,(u+=r)===e&&c===n)break}return{path:l,i:u,j:c,x:r,y:i,o:o}}(t,c-=u.x,l-=u.y,u.x,u.y,u.o);if(null===f)break;f.path.forEach((function(t){i.push(t)})),c=f.i,l=f.j,s=f}}while(void 0!==t.cells[l][c]&&t.cells[l][c].edges.length>0);e.push(i),i=[],t.cells[o][a].edges.length>0&&a--}return e}(c)),"function"==typeof Ua.successCallback&&Ua.successCallback(u),u}function fr(t,e,n){return(t-e)/(n-e)}function hr(t){return t.constructor.toString().indexOf("Array")>-1}function pr(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("angle is required");return 0===e||(r||(r=ve(t)),!1!==i&&void 0!==i||(t=zt(t)),C(t,(function(t){var n=an(r,t)+e,i=un(r,t),o=G(nr(r,i,n));t[0]=o[0],t[1]=o[1]}))),t}function dr(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==typeof r;return!0!==i&&(t=zt(t)),"FeatureCollection"!==t.type||o?yr(t,e,r):(A(t,(function(n,i){t.features[i]=yr(n,e,r)})),t)}function yr(t,e,n){var i="Point"===$(t);return n=function(t,e){if(void 0!==e&&null!==e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return V(e);var n=t.bbox?t.bbox:q(t),i=n[0],o=n[1],a=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([i,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([a,o]);case"nw":case"northwest":case"westnorth":case"topleft":return r([i,s]);case"ne":case"northeast":case"eastnorth":case"topright":return r([a,s]);case"center":return ye(t);case void 0:case null:case"centroid":return ve(t);default:throw new Error("invalid origin")}}(t,n),1===e||i||C(t,(function(t){var r=un(n,t),i=an(n,t),o=G(nr(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)})),t}function vr(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function gr(t,e){return t[0]*e[1]-e[0]*t[1]}function mr(t,e){return!function(t,e){return 0===gr(vr(t),vr(e))}(t,e)&&function(t,e){var n=t[0],r=vr(t),i=e[0],o=vr(e),a=gr(r,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(gr(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(i,n),o)/a,r))}(t,e)}function br(t,e,n){var r=[],i=g(e,n),o=G(t),a=[];return o.forEach((function(t,e){if(e!==o.length-1){var n=function(t,e,n){var r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),i=t[0]+n*(e[1]-t[1])/r,o=e[0]+n*(e[1]-t[1])/r;return[[i,t[1]+n*(t[0]-e[0])/r],[o,e[1]+n*(t[0]-e[0])/r]]}(t,o[e+1],i);if(r.push(n),e>0){var s=r[e-1],u=mr(n,s);!1!==u&&(s[1]=u,n[0]=u),a.push(s[0]),e===o.length-2&&(a.push(n[0]),a.push(n[1]))}2===o.length&&(a.push(n[0]),a.push(n[1]))}})),s(a,t.properties)}function _r(t,e,n){var r=e[0]-t[0],i=e[1]-t[1],o=n[0]-e[0],a=n[1]-e[1];return Math.sign(r*a-o*i)}function xr(t,e){return e.geometry.coordinates[0].every((function(e){return Mt(r(e),t)}))}function wr(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var r=n[0]-t[0],i=n[1]-t[1],o=e[0]-t[0],a=e[1]-t[1];return r*a-i*o==0&&(Math.abs(o)>=Math.abs(a)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function Er(t,e){return nn(e,Bn(t)).features.length>0}function Sr(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function kr(t,e){return t[0]===e[0]&&t[1]===e[1]}function Or(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var a=0;a<e.coordinates.length-1;a++){var s=!0;0!==a&&a!==e.coordinates.length-2||(s=!1),Tr(e.coordinates[a],e.coordinates[a+1],t.coordinates[o],s)?n=!0:r=!0}o++}return n&&r}function Cr(t,e){return nn(t,Bn(e)).features.length>0}function Pr(t,e){for(var n=!1,i=!1,o=t.coordinates[0].length,a=0;a<o&&n&&i;)Mt(r(t.coordinates[0][a]),e)?n=!0:i=!0,a++;return i&&i}function Tr(t,e,n,r){var i=n[0]-t[0],o=n[1]-t[1],a=e[0]-t[0],s=e[1]-t[1];return 0==i*s-o*a&&(r?Math.abs(a)>=Math.abs(s)?a>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(a)>=Math.abs(s)?a>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:s>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function Mr(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function Ar(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function Ir(t,e){return Bs(t,e,{strict:!0})}function jr(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=$(t);if(n!==$(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new qs({precision:6}).compare(t,e))return!1;var r=0;switch(n){case"MultiPoint":var i=j(t),o=j(e);i.forEach((function(t){o.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&r++}))}));break;case"LineString":case"MultiLineString":z(t,(function(t){z(e,(function(e){Qn(t,e).features.length&&r++}))}));break;case"Polygon":case"MultiPolygon":z(t,(function(t){z(e,(function(e){nn(t,e).features.length&&r++}))}))}return r>0}function Rr(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}function Dr(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function Nr(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Lr(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new zr(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function zr(t,e,n){this.x=t,this.y=e,this.weight=n}function Fr(t){this.content=[],this.scoreFunction=t}function Br(t){return t[0]}function Ur(t){return t[1]}function qr(){this._=null}function Vr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Gr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Wr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Hr(t){for(;t.L;)t=t.L;return t}function Kr(t,e,n,r){var i=[null,null],o=uu.push(i)-1;return i.left=t,i.right=e,n&&Yr(i,t,e,n),r&&Yr(i,e,t,r),au[t.index].halfedges.push(o),au[e.index].halfedges.push(o),i}function Xr(t,e,n){var r=[e,n];return r.left=t,r}function Yr(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Zr(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],l=0,f=1,h=s[0]-u,p=s[1]-c;if(o=e-u,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>l&&(l=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<f&&(f=o)}if(o=n-c,p||!(o>0)){if(o/=p,p<0){if(o<l)return;o<f&&(f=o)}else if(p>0){if(o>f)return;o>l&&(l=o)}if(o=i-c,p||!(o<0)){if(o/=p,p<0){if(o>f)return;o>l&&(l=o)}else if(p>0){if(o<l)return;o<f&&(f=o)}return!(l>0||f<1)||(l>0&&(t[0]=[u+l*h,c+l*p]),f<1&&(t[1]=[u+f*h,c+f*p]),!0)}}}}}function $r(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,l=t.right,f=c[0],h=c[1],p=l[0],d=l[1],y=(f+p)/2,v=(h+d)/2;if(d===h){if(y<e||y>=r)return;if(f>p){if(u){if(u[1]>=i)return}else u=[y,n];o=[y,i]}else{if(u){if(u[1]<n)return}else u=[y,i];o=[y,n]}}else if(s=v-(a=(f-p)/(d-h))*y,a<-1||a>1)if(f>p){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function Jr(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Qr(t,e){return e[+(e.left!==t.site)]}function ti(t,e){return e[+(e.left===t.site)]}function ei(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,l=o[0]-a,f=o[1]-s,h=2*(u*f-c*l);if(!(h>=-hu)){var p=u*u+c*c,d=l*l+f*f,y=(f*p-c*d)/h,v=(u*d-l*p)/h,g=cu.pop()||new function(){Vr(this),this.x=this.y=this.arc=this.site=this.cy=null};g.arc=t,g.site=i,g.x=y+a,g.y=(g.cy=v+s)+Math.sqrt(y*y+v*v),t.circle=g;for(var m=null,b=su._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}su.insert(m,g),m||(iu=g)}}}}function ni(t){var e=t.circle;e&&(e.P||(iu=e.N),su.remove(e),cu.push(e),Vr(e),t.circle=null)}function ri(t){var e=lu.pop()||new function(){Vr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function ii(t){ni(t),ou.remove(t),lu.push(t),Vr(t)}function oi(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];ii(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<fu&&Math.abs(r-u.circle.cy)<fu;)o=u.P,s.unshift(u),ii(u),u=o;s.unshift(u),ni(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<fu&&Math.abs(r-c.circle.cy)<fu;)a=c.N,s.push(c),ii(c),c=a;s.push(c),ni(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],Yr(c.edge,u.site,c.site,i);u=s[0],(c=s[f-1]).edge=Kr(u.site,c.site,null,i),ei(u),ei(c)}function ai(t){for(var e,n,r,i,o=t[0],a=t[1],s=ou._;s;)if((r=si(s,a)-o)>fu)s=s.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return si(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(s,a))>fu)){r>-fu?(e=s.P,n=s):i>-fu?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){au[t.index]={site:t,halfedges:[]}}(t);var u=ri(t);if(ou.insert(e,u),e||n){if(e===n)return ni(e),n=ri(e.site),ou.insert(u,n),u.edge=n.edge=Kr(e.site,u.site),ei(e),void ei(n);if(n){ni(e),ni(n);var c=e.site,l=c[0],f=c[1],h=t[0]-l,p=t[1]-f,d=n.site,y=d[0]-l,v=d[1]-f,g=2*(h*v-p*y),m=h*h+p*p,b=y*y+v*v,_=[(v*m-p*b)/g+l,(h*b-y*m)/g+f];Yr(n.edge,c,d,_),u.edge=Kr(c,t,null,_),n.edge=Kr(t,d,null,_),ei(e),ei(n)}else u.edge=Kr(e.site,u.site)}}function si(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}function ui(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function ci(t,e){return e[1]-t[1]||e[0]-t[0]}function li(t,e){var n,r,i,o=t.sort(ci).pop();for(uu=[],au=new Array(t.length),ou=new qr,su=new qr;;)if(i=iu,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(ai(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;oi(i.arc)}if(function(){for(var t,e,n,r,i=0,o=au.length;i<o;++i)if((t=au[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Jr(t,uu[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=uu.length;o--;)$r(i=uu[o],t,e,n,r)&&Zr(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>fu||Math.abs(i[0][1]-i[1][1])>fu)||delete uu[o]}(a,s,u,c),function(t,e,n,r){var i,o,a,s,u,c,l,f,h,p,d,y,v=au.length,g=!0;for(i=0;i<v;++i)if(o=au[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)uu[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)d=(p=ti(o,uu[u[s]]))[0],y=p[1],f=(l=Qr(o,uu[u[++s%c]]))[0],h=l[1],(Math.abs(d-f)>fu||Math.abs(y-h)>fu)&&(u.splice(s,0,uu.push(Xr(a,p,Math.abs(d-t)<fu&&r-y>fu?[t,Math.abs(f-t)<fu?h:r]:Math.abs(y-r)<fu&&n-d>fu?[Math.abs(h-r)<fu?f:n,r]:Math.abs(d-n)<fu&&y-e>fu?[n,Math.abs(f-n)<fu?h:e]:Math.abs(y-e)<fu&&d-t>fu?[Math.abs(h-e)<fu?f:t,e]:null))-1),++c);c&&(g=!1)}if(g){var m,b,_,x=1/0;for(i=0,g=null;i<v;++i)(o=au[i])&&(_=(m=(a=o.site)[0]-t)*m+(b=a[1]-e)*b)<x&&(x=_,g=o);if(g){var w=[t,e],E=[t,r],S=[n,r],k=[n,e];g.halfedges.push(uu.push(Xr(a=g.site,w,E))-1,uu.push(Xr(a,E,S))-1,uu.push(Xr(a,S,k))-1,uu.push(Xr(a,k,w))-1)}}for(i=0;i<v;++i)(o=au[i])&&(o.halfedges.length||delete au[i])}(a,s,u,c)}this.edges=uu,this.cells=au,ou=su=uu=au=null}function fi(t){return(t=t.slice()).push(t[0]),o([t])}function hi(t,e,n,r){var i=(r=r||{}).steps||64,a=r.units||"kilometers",s=r.angle||0,u=r.pivot||t,c=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!S(r))throw new Error("options must be an object");if(!E(i))throw new Error("steps must be a number");if(!E(s))throw new Error("angle must be a number");var l=V(t);if("degrees"===a)var f=_(s);else e=nr(t,e,90,{units:a}),n=nr(t,n,0,{units:a}),e=V(e)[0]-l[0],n=V(n)[1]-l[1];for(var h=[],p=0;p<i;p+=1){var d=-360*p/i,y=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(pi(d),2)),v=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(pi(d),2));if(d<-90&&d>=-270&&(y=-y),d<-180&&d>=-360&&(v=-v),"degrees"===a){var g=y*Math.cos(f)+v*Math.sin(f),m=v*Math.cos(f)-y*Math.sin(f);y=g,v=m}h.push([y+l[0],v+l[1]])}return h.push(h[0]),"degrees"===a?o([h],c):pr(o([h],c),s,{pivot:u})}function pi(t){var e=t*Math.PI/180;return Math.tan(e)}function di(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=e.weight;if(!t)throw new Error("geojson is required");var o=0,a=0,s=0;return R(t,(function(t,e,n){var r=n[i];if(!E(r=void 0===r||null===r?1:r))throw new Error("weight value must be a number for feature index "+e);(r=Number(r))>0&&C(t,(function(t){o+=t[0]*r,a+=t[1]*r,s+=r}))})),r([o/s,a/s],n)}function yi(t,e,n,i){var o=n.properties.tolerance||.001,a=0,s=0,u=0,c=0;if(A(n,(function(e){var n=e.properties.weight,r=void 0===n||null===n?1:n;if(!E(r=Number(r)))throw new Error("weight value must be a number");if(r>0){c+=1;var i=r*Lt(e,t);0===i&&(i=1);var o=r/i;a+=e.geometry.coordinates[0]*o,s+=e.geometry.coordinates[1]*o,u+=o}})),c<1)throw new Error("no features to measure");var l=a/u,f=s/u;return 1===c||0===i||Math.abs(l-e[0])<o&&Math.abs(f-e[1])<o?r([l,f],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([l,f]),yi([l,f],t,n,i-1))}function vi(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function gi(t){if(S(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*xi(),180*xi()]}function mi(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.bbox;void 0!==t&&null!==t||(t=1);for(var i=[],o=0;o<t;o++)i.push(r(gi(n)));return c(i)}function bi(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_radial_length;void 0!==t&&null!==t||(t=1),E(r)||(r=10),E(i)||(i=10);for(var a=[],s=0;s<t;s++){var u=[],l=Array.apply(null,new Array(r+1)).map(Math.random);l.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),l.forEach((function(t){t=2*t*Math.PI/l[l.length-1];var e=Math.random();u.push([e*i*Math.sin(t),e*i*Math.cos(t)])})),u[u.length-1]=u[0],u=u.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(gi(n))),a.push(o([u]))}return c(a)}function _i(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;void 0!==t&&null!==t||(t=1),(!E(r)||r<2)&&(r=10),E(i)||(i=1e-4),E(o)||(o=Math.PI/8);for(var a=[],u=0;u<t;u++){for(var l=[gi(n)],f=0;f<r-1;f++){var h=(0===f?2*Math.random()*Math.PI:Math.tan((l[f][1]-l[f-1][1])/(l[f][0]-l[f-1][0])))+(Math.random()-.5)*o*2,p=Math.random()*i;l.push([l[f][0]+p*Math.cos(h),l[f][1]+p*Math.sin(h)])}a.push(s(l))}return c(a)}function xi(){return Math.random()-.5}function wi(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("filter is required");var n=[];return A(t,(function(t){Oi(t.properties,e)&&n.push(t)})),c(n)}function Ei(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("property is required");for(var r=ki(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var a=i[o],s=r[a],u=[],l=0;l<s.length;l++)u.push(t.features[s[l]]);n(c(u),a,o)}}function Si(t,e,n,r){var i=r;return Ei(t,e,(function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)})),i}function ki(t,e){var n={};return A(t,(function(t,r){var i=t.properties||{};if(i.hasOwnProperty(e)){var o=i[e];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}})),n}function Oi(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!Oi(t,e[r]))return!1;return!0}return Ci(t,e)}function Ci(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function Pi(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function Ti(){}function Mi(t){this.message=t||""}function Ai(t){this.message=t||""}function Ii(){}function ji(t){return null===t?Rc:t.color}function Ri(t){return null===t?null:t.parent}function Di(t,e){null!==t&&(t.color=e)}function Ni(t){return null===t?null:t.left}function Li(t){return null===t?null:t.right}function zi(){this.root_=null,this.size_=0}function Fi(){}function Bi(){this.array_=[],arguments[0]instanceof bc&&this.addAll(arguments[0])}function Ui(){}function qi(t){this.message=t||""}function Vi(){this.array_=[]}function Gi(t){switch(t.type){case"Polygon":return mn(t)>1?t:null;case"MultiPolygon":var e=[];if(N(t,(function(t){mn(t)>1&&e.push(t.geometry.coordinates)})),e.length)return{type:"MultiPolygon",coordinates:e}}}function Wi(){this.reset()}function Hi(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function Ki(t){return t>1?Bp:t<-1?-Bp:Math.asin(t)}function Xi(){}function Yi(t,e){t&&ed.hasOwnProperty(t.type)&&ed[t.type](t,e)}function Zi(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function $i(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Zi(t[n],e,1);e.polygonEnd()}function Ji(t){return[Kp(t[1],t[0]),Ki(t[2])]}function Qi(t){var e=t[0],n=t[1],r=Xp(n);return[r*Xp(e),r*$p(e),$p(n)]}function to(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function eo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function no(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ro(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function io(t){var e=Jp(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function oo(t,e){return[t>Fp?t-qp:t<-Fp?t+qp:t,e]}function ao(t,e,n){return(t%=qp)?e||n?rd(uo(t),co(e,n)):uo(t):e||n?co(e,n):oo}function so(t){return function(e,n){return[(e+=t)>Fp?e-qp:e<-Fp?e+qp:e,n]}}function uo(t){var e=so(t);return e.invert=so(-t),e}function co(t,e){function n(t,e){var n=Xp(e),s=Xp(t)*n,u=$p(t)*n,c=$p(e),l=c*r+s*i;return[Kp(u*o-l*a,s*r-c*i),Ki(l*o+u*a)]}var r=Xp(t),i=$p(t),o=Xp(e),a=$p(e);return n.invert=function(t,e){var n=Xp(e),s=Xp(t)*n,u=$p(t)*n,c=$p(e),l=c*o-u*a;return[Kp(u*o+c*a,s*r+l*i),Ki(l*r-s*i)]},n}function lo(t,e){(e=Qi(e))[0]-=t,io(e);var n=function(t){return t>1?0:t<-1?Fp:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+qp-zp)%qp}function fo(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ho(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function po(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var l=0,f=0;if(null==i||(l=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+s+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return Wp(r[0]-t)<zp?i>0?0:3:Wp(r[0]-n)<zp?i>0?2:1:Wp(r[1]-e)<zp?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){i(t,e)&&x.point(t,e)}function c(o,a){var s=i(o,a);if(f&&h.push([o,a]),b)p=o,d=a,y=s,b=!1,s&&(x.lineStart(),x.point(o,a));else if(s&&m)x.point(o,a);else{var u=[v=Math.max(hd,Math.min(fd,v)),g=Math.max(hd,Math.min(fd,g))],c=[o=Math.max(hd,Math.min(fd,o)),a=Math.max(hd,Math.min(fd,a))];ad(u,c,t,e,n,r)?(m||(x.lineStart(),x.point(u[0],u[1])),x.point(c[0],c[1]),s||x.lineEnd(),_=!1):s&&(x.lineStart(),x.point(o,a),_=!1)}v=o,g=a,m=s}var l,f,h,p,d,y,v,g,m,b,_,x=a,w=od(),E={point:u,lineStart:function(){E.point=c,f&&f.push(h=[]),b=!0,m=!1,v=g=NaN},lineEnd:function(){l&&(c(p,d),y&&m&&w.rejoin(),l.push(w.result())),E.point=u,m&&x.lineEnd()},polygonStart:function(){x=w,l=[],f=[],_=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=f.length;n<i;++n)for(var o,a,s=f[n],u=1,c=s.length,l=s[0],h=l[0],p=l[1];u<c;++u)o=h,a=p,h=(l=s[u])[0],p=l[1],a<=r?p>r&&(h-o)*(r-a)>(p-a)*(t-o)&&++e:p<=r&&(h-o)*(r-a)<(p-a)*(t-o)&&--e;return e}(),n=_&&e,i=(l=ld(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&ud(l,s,e,o,a),a.polygonEnd()),x=a,l=f=h=null}};return E}}function yo(t){return t.length>1}function vo(t,e){return((t=t.x)[0]<0?t[1]-Bp-zp:Bp-t[1])-((e=e.x)[0]<0?e[1]-Bp-zp:Bp-e[1])}function go(t){return function(e){var n=new mo;for(var r in t)n[r]=t[r];return n.stream=e,n}}function mo(){}function bo(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),nd(n,t.stream(bd));var a=bd.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,c])}function _o(t){return function(t){function e(t){return[(t=c(t[0]*Gp,t[1]*Gp))[0]*y+a,s-t[1]*y]}function n(t,e){return[(t=o(t,e))[0]*y+a,s-t[1]*y]}function r(){c=rd(u=ao(_,x,w),o);var t=o(m,b);return a=v-t[0]*y,s=g+t[1]*y,i()}function i(){return p=d=null,e}var o,a,s,u,c,l,f,h,p,d,y=150,v=480,g=250,m=0,b=0,_=0,x=0,w=0,E=null,S=xd,k=null,O=dd,C=.5,P=kd(n,C);return e.stream=function(t){return p&&d===t?p:p=Od(S(u,P(O(d=t))))},e.clipAngle=function(t){return arguments.length?(S=+t?wd(E=t*Gp,6*Gp):(E=null,xd),i()):E*Vp},e.clipExtent=function(t){return arguments.length?(O=null==t?(k=l=f=h=null,dd):po(k=+t[0][0],l=+t[0][1],f=+t[1][0],h=+t[1][1]),i()):null==k?null:[[k,l],[f,h]]},e.scale=function(t){return arguments.length?(y=+t,r()):y},e.translate=function(t){return arguments.length?(v=+t[0],g=+t[1],r()):[v,g]},e.center=function(t){return arguments.length?(m=t[0]%360*Gp,b=t[1]%360*Gp,r()):[m*Vp,b*Vp]},e.rotate=function(t){return arguments.length?(_=t[0]%360*Gp,x=t[1]%360*Gp,w=t.length>2?t[2]%360*Gp:0,r()):[_*Vp,x*Vp,w*Vp]},e.precision=function(t){return arguments.length?(P=kd(n,C=t*t),i()):Jp(C)},e.fitExtent=function(t,n){return bo(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return bo(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=c.invert((t[0]-a)/y,(s-t[1])/y))&&[t[0]*Vp,t[1]*Vp]},r()}}((function(){return t}))()}function xo(t,e){return[t,Zp(Qp((Bp+e)/2))]}function wo(t,e){return[Zp(Qp((Bp+e)/2)),-t]}function Eo(t,n,r,i){var o=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var s=[];return R(t,(function(t){var e=Eo(t,n,r,i);e&&s.push(e)})),c(s)}var u,l=q(t),f=l[1]>50&&l[3]>50;u=f?{type:a.type,coordinates:ko(a.coordinates,Co(a))}:cn(a);var h,p=(new El).read(u),d=y(v(n,r),"meters"),g=yh.bufferOp(p,d);if(!So((g=(new Sl).write(g)).coordinates))return(h=f?{type:g.type,coordinates:Oo(g.coordinates,Co(a))}:ln(g)).geometry?h:e(h,o)}function So(t){return Array.isArray(t[0])?So(t[0]):isNaN(t[0])}function ko(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return ko(t,e)}))}function Oo(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return Oo(t,e)}))}function Co(t){var e=ye(t).geometry.coordinates.reverse(),n=e.map((function(t){return-t}));return Cd().center(e).rotate(n).scale(No)}function Po(){for(var t=new El,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=Dp.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new Sl).write(e),properties:arguments[0].properties}}function To(t,n){var r=Y(t),i=Y(n);if(te(Mn(i,{precision:4})).coordinates[0].length<4)return null;if(te(Mn(r,{precision:4})).coordinates[0].length<4)return null;var o=new El,a=o.read(Mn(r)),s=o.read(Mn(i)),u=Op.intersection(a,s);return u.isEmpty()?null:e((new Sl).write(u))}function Mo(t,e){return function(t,e,n){var r,i;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach((function(e,o){var a=n(e,t);a>=0&&(void 0===i||a<i)&&(i=a,r=o)})),r}(t,e,(function(t,e){return t-e}))}function Ao(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.properties||{},i=n.triangles,a=n.mask;if(null===e||void 0===e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(a&&-1===["Polygon","MultiPolygon"].indexOf($(a)))throw new Error("options.mask must be a (Multi)Polygon");var s=t[0],u=t[1],l=t[2],f=t[3],h=(u+f)/2,p=(s+l)/2,d=2*e/Lt([s,h],[l,h],n)*(l-s),y=2*e/Lt([p,u],[p,f],n)*(f-u),v=d/2,g=2*v,m=Math.sqrt(3)/2*y,b=l-s,_=f-u,x=.75*g,w=m,k=(b-g)/(g-v/2),O=Math.floor(k),C=(O*x-v/2-b)/2-v/2+x/2,P=Math.floor((_-m)/m),T=(_-P*m)/2,M=P*m-_>m/2;M&&(T-=m/4);for(var A=[],I=[],j=0;j<6;j++){var R=2*Math.PI/6*j;A.push(Math.cos(R)),I.push(Math.sin(R))}for(var D=[],N=0;N<=O;N++)for(var L=0;L<=P;L++){var z=N%2==1;if((0!==L||!z)&&(0!==L||!M)){var F=N*x+s-C,B=L*w+u+T;if(z&&(B-=m/2),!0===i)(function(t,e,n,r,i,a){for(var s=[],u=0;u<6;u++){var c=[];c.push(t),c.push([t[0]+e*i[u],t[1]+n*a[u]]),c.push([t[0]+e*i[(u+1)%6],t[1]+n*a[(u+1)%6]]),c.push(t),s.push(o([c],r))}return s})([F,B],d/2,y/2,r,A,I).forEach((function(t){a?To(a,t)&&D.push(t):D.push(t)}));else{var U=function(t,e,n,r,i,a){for(var s=[],u=0;u<6;u++){var c=t[0]+e*i[u],l=t[1]+n*a[u];s.push([c,l])}return s.push(s[0].slice()),o([s],r)}([F,B],d/2,y/2,r,A,I);a?To(a,U)&&D.push(U):D.push(U)}}}return c(D)}function Io(t){if(t.features.length<=1)return t;var e=function(t){var e=Ho(),n=[];return N(t,(function(t,e){var r=q(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})})),e.load(n),e}(t),n=[],r={};return N(t,(function(t,i){if(r[i])return!0;for(e.remove({index:i},jo),r[i]=!0;;){var o=q(t),a=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(a.length>0){var s=a.map((function(t){return r[t.index]=!0,e.remove({index:t.index},jo),t.geojson}));s.push(t),t=Po.apply(this,s)}if(0===a.length)break}n.push(t)})),c(n)}function jo(t,e){return t.index===e.index}function Ro(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf($(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],u=t[1],l=t[2],f=t[3],h=e/Lt([s,u],[l,u],n)*(l-s),p=e/Lt([s,u],[s,f],n)*(f-u),d=l-s,y=f-u,v=Math.floor(d/h),g=Math.floor(y/p),m=(y-g*p)/2,b=s+(d-v*h)/2,_=0;_<v;_++){for(var x=u+m,w=0;w<g;w++){var k=o([[[b,x],[b,x+p],[b+h,x+p],[b+h,x],[b,x]]],r);i?To(i,k)&&a.push(k):a.push(k),x+=p}b+=h}return c(a)}function Do(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,a=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf($(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=e/Lt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/Lt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),l=0,f=t[0];f<=t[2];){for(var h=0,p=t[1];p<=t[3];){var d=null,y=null;l%2==0&&h%2==0?(d=o([[[f,p],[f,p+u],[f+s,p],[f,p]]],r),y=o([[[f,p+u],[f+s,p+u],[f+s,p],[f,p+u]]],r)):l%2==0&&h%2==1?(d=o([[[f,p],[f+s,p+u],[f+s,p],[f,p]]],r),y=o([[[f,p],[f,p+u],[f+s,p+u],[f,p]]],r)):h%2==0&&l%2==1?(d=o([[[f,p],[f,p+u],[f+s,p+u],[f,p]]],r),y=o([[[f,p],[f+s,p+u],[f+s,p],[f,p]]],r)):h%2==1&&l%2==1&&(d=o([[[f,p],[f,p+u],[f+s,p],[f,p]]],r),y=o([[[f,p+u],[f+s,p+u],[f+s,p],[f,p+u]]],r)),i?(To(i,d)&&a.push(d),To(i,y)&&a.push(y)):(a.push(d),a.push(y)),p+=u,h++}l++,f+=s}return c(a)}var No=6371008.8,Lo={meters:No,metres:No,millimeters:1e3*No,millimetres:1e3*No,centimeters:100*No,centimetres:100*No,kilometers:No/1e3,kilometres:No/1e3,miles:No/1609.344,nauticalmiles:No/1852,inches:39.37*No,yards:No/1.0936,feet:3.28084*No,radians:1,degrees:No/111325},zo={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/No,degrees:1/111325},Fo={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},Bo=Object.freeze({earthRadius:No,factors:Lo,unitsFactors:zo,areaFactors:Fo,feature:e,geometry:n,point:r,points:i,polygon:o,polygons:a,lineString:s,lineStrings:u,featureCollection:c,multiLineString:l,multiPoint:f,multiPolygon:h,geometryCollection:p,round:d,radiansToLength:y,lengthToRadians:v,lengthToDegrees:g,bearingToAzimuth:m,radiansToDegrees:b,degreesToRadians:_,convertLength:x,convertArea:w,isNumber:E,isObject:S,validateBBox:k,validateId:O,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Uo=Object.freeze({coordEach:C,coordReduce:P,propEach:T,propReduce:M,featureEach:A,featureReduce:I,coordAll:j,geomEach:R,geomReduce:D,flattenEach:N,flattenReduce:L,segmentEach:z,segmentReduce:F,lineEach:B,lineReduce:U}),qo=Object.freeze({getCoord:V,getCoords:G,containsNumber:W,geojsonType:H,featureOf:K,collectionOf:X,getGeom:Y,getGeomType:Z,getType:$}),Vo={successCallback:null,verbose:!1},Go={},Wo=it,Ho=at;at.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!yt(t,e))return n;for(var i,o,a,s,u=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],yt(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):dt(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!yt(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],yt(t,a=e.leaf?n(o):o)){if(e.leaf||dt(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=vt([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),u=[],c=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=c.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),u.push(a),this._condense(u),this;o||a.leaf||!dt(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:lt,compareMinY:ft,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return st(i=vt(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=vt([])).leaf=!1,i.height=r;var s,u,c,l,f=Math.ceil(o/a),h=f*Math.ceil(Math.sqrt(a));for(gt(t,e,n,h,this.compareMinX),s=e;s<=n;s+=h)for(gt(t,s,c=Math.min(s+h-1,n),f,this.compareMinY),u=s;u<=c;u+=f)l=Math.min(u+f-1,c),i.children.push(this._build(t,u,l,r-1));return st(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,u,c,l,f;r.push(e),!e.leaf&&r.length-1!==n;){for(l=f=1/0,i=0,o=e.children.length;i<o;i++)u=ht(a=e.children[i]),(c=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-u)<f?(f=c,l=u<l?u:l,s=a):c===f&&u<l&&(l=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),ct(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=vt(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,st(n,this.toBBox),st(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=vt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,st(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,u,c,l;for(u=c=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=ut(t,0,r,this.toBBox),o=ut(t,r,n,this.toBBox)),s=ht(i)+ht(o),a<u?(u=a,l=r,c=s<c?s:c):a===u&&s<c&&(c=s,l=r);return l},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:lt,i=t.leaf?this.compareMinY:ft;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=ut(t,0,e,a),u=ut(t,n-e,n,a),c=pt(s)+pt(u);for(i=e;i<n-e;i++)o=t.children[i],ct(s,t.leaf?a(o):o),c+=pt(s);for(i=n-e-1;i>=e;i--)o=t.children[i],ct(u,t.leaf?a(o):o),c+=pt(u);return c},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)ct(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():st(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Ko=function(t,e,n){var r=t*e,i=Xo*t,o=i-(i-t),a=t-o,s=Xo*e,u=s-(s-e),c=e-u,l=a*c-(r-o*u-a*u-o*c);return n?(n[0]=l,n[1]=r,n):[l,r]},Xo=+(Math.pow(2,27)+1),Yo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,a=new Array(n+r),s=0,u=0,c=0,l=Math.abs,f=t[u],h=l(f),p=e[c],d=l(p);h<d?(o=f,(u+=1)<n&&(h=l(f=t[u]))):(o=p,(c+=1)<r&&(d=l(p=e[c]))),u<n&&h<d||c>=r?(i=f,(u+=1)<n&&(h=l(f=t[u]))):(i=p,(c+=1)<r&&(d=l(p=e[c])));for(var y,v,g=i+o,m=g-i,b=o-m,_=b,x=g;u<n&&c<r;)h<d?(i=f,(u+=1)<n&&(h=l(f=t[u]))):(i=p,(c+=1)<r&&(d=l(p=e[c]))),(b=(o=_)-(m=(g=i+o)-i))&&(a[s++]=b),_=x-((y=x+g)-(v=y-x))+(g-v),x=y;for(;u<n;)(b=(o=_)-(m=(g=(i=f)+o)-i))&&(a[s++]=b),_=x-((y=x+g)-(v=y-x))+(g-v),x=y,(u+=1)<n&&(f=t[u]);for(;c<r;)(b=(o=_)-(m=(g=(i=p)+o)-i))&&(a[s++]=b),_=x-((y=x+g)-(v=y-x))+(g-v),x=y,(c+=1)<r&&(p=e[c]);return _&&(a[s++]=_),x&&(a[s++]=x),s||(a[s++]=0),a.length=s,a},Zo=function(t,e,n){var r=t+e,i=r-t,o=e-i,a=t-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]},$o=function(t,e){var n=t.length;if(1===n){var r=Ko(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],a=[.1,.1],s=0;Ko(t[0],e,o),o[0]&&(i[s++]=o[0]);for(var u=1;u<n;++u){Ko(t[u],e,a);var c=o[1];Zo(c,a[0],o),o[0]&&(i[s++]=o[0]);var l=a[1],f=o[1],h=l+f,p=f-(h-l);o[1]=h,p&&(i[s++]=p)}return o[1]&&(i[s++]=o[1]),0===s&&(i[s++]=0),i.length=s,i},Jo=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,a=new Array(n+r),s=0,u=0,c=0,l=Math.abs,f=t[u],h=l(f),p=-e[c],d=l(p);h<d?(o=f,(u+=1)<n&&(h=l(f=t[u]))):(o=p,(c+=1)<r&&(d=l(p=-e[c]))),u<n&&h<d||c>=r?(i=f,(u+=1)<n&&(h=l(f=t[u]))):(i=p,(c+=1)<r&&(d=l(p=-e[c])));for(var y,v,g=i+o,m=g-i,b=o-m,_=b,x=g;u<n&&c<r;)h<d?(i=f,(u+=1)<n&&(h=l(f=t[u]))):(i=p,(c+=1)<r&&(d=l(p=-e[c]))),(b=(o=_)-(m=(g=i+o)-i))&&(a[s++]=b),_=x-((y=x+g)-(v=y-x))+(g-v),x=y;for(;u<n;)(b=(o=_)-(m=(g=(i=f)+o)-i))&&(a[s++]=b),_=x-((y=x+g)-(v=y-x))+(g-v),x=y,(u+=1)<n&&(f=t[u]);for(;c<r;)(b=(o=_)-(m=(g=(i=p)+o)-i))&&(a[s++]=b),_=x-((y=x+g)-(v=y-x))+(g-v),x=y,(c+=1)<r&&(p=-e[c]);return _&&(a[s++]=_),x&&(a[s++]=x),s||(a[s++]=0),a.length=s,a},Qo=mt((function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function n(t){return 1&t?"-":""}function r(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",r(t.slice(0,e)),",",r(t.slice(e)),")"].join("")}function i(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],a=0;a<t.length;++a)o.push(["scale(",r(i(e(t,a))),",",n(a),t[0][a],")"].join(""));return o}function o(t){for(var n=[],o=[],a=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),s=[],u=0;u<t;++u)0==(1&u)?n.push.apply(n,i(e(a,u))):o.push.apply(o,i(e(a,u))),s.push("m"+u);var c=r(n),l=r(o),f="orientation"+t+"Exact",h=["function ",f,"(",s.join(),"){var p=",c,",n=",l,",d=sub(p,n);return d[d.length-1];};return ",f].join("");return new Function("sum","prod","scale","sub",h)(Yo,Ko,$o,Jo)}var a=5,s=o(3),u=o(4),c=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var u=33306690738754716e-32*r;return a>=u||a<=-u?a:s(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],s=t[1]-r[1],c=e[1]-r[1],l=n[1]-r[1],f=t[2]-r[2],h=e[2]-r[2],p=n[2]-r[2],d=o*l,y=a*c,v=a*s,g=i*l,m=i*c,b=o*s,_=f*(d-y)+h*(v-g)+p*(m-b),x=7771561172376103e-31*((Math.abs(d)+Math.abs(y))*Math.abs(f)+(Math.abs(v)+Math.abs(g))*Math.abs(h)+(Math.abs(m)+Math.abs(b))*Math.abs(p));return _>x||-_>x?_:u(t,e,n,r)}];!function(){for(;c.length<=a;)c.push(o(c.length));for(var e=[],n=["slow"],r=0;r<=a;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=a;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var s=Function.apply(void 0,n);for(t.exports=s.apply(void 0,[function(t){var e=c[t.length];return e||(e=c[t.length]=o(t.length)),e.apply(void 0,t)}].concat(c)),r=0;r<=a;++r)t.exports[r]=c[r]}()})),ta=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort((function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]}));var o=[i[0],i[1]],a=[i[0],i[1]];for(r=2;r<e;++r){for(var s=i[r],u=t[s],c=o.length;c>1&&ea(t[o[c-2]],t[o[c-1]],u)<=0;)c-=1,o.pop();for(o.push(s),c=a.length;c>1&&ea(t[a[c-2]],t[a[c-1]],u)>=0;)c-=1,a.pop();a.push(s)}n=new Array(a.length+o.length-2);for(var l=0,f=(r=0,o.length);r<f;++r)n[l++]=o[r];for(var h=a.length-2;h>0;--h)n[l++]=a[h];return n},ea=Qo[3],na=bt,ra=bt;bt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,i)>=0)break;e[t]=s,t=o}e[t]=i}},na.default=ra;var ia=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o][0],u=e[o][1],c=e[a][0],l=e[a][1];u>r!=l>r&&n<(c-s)*(r-u)/(l-u)+s&&(i=!i)}return i},oa=Qo[3],aa=_t,sa=_t;aa.default=sa;var ua=function(t){return t},ca=function(t){if(null==t)return ua;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=2,c=t.length,l=new Array(c);for(l[0]=(e+=t[0])*r+o,l[1]=(n+=t[1])*i+a;u<c;)l[u]=t[u],++u;return l}},la=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},fa=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){r[t<0?~t:t]=1})),a.push(i)}}var r={},i={},o={},a=[],s=-1;return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)})),e.forEach((function(e){var n,r,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),s=a[0],u=a[1];if(n=o[s])if(delete o[n.end],n.push(e),n.end=u,r=i[u]){delete i[r.start];var c=r===n?n:n.concat(r);i[c.start=n.start]=o[c.end=r.end]=c}else i[n.start]=o[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=s,r=o[s]){delete o[r.end];var l=r===n?n:r.concat(n);i[l.start=r.start]=o[l.end=n.end]=l}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=s]=o[n.end=u]=n})),n(o,i),n(i,o),e.forEach((function(t){r[t<0?~t:t]||a.push([t])})),a},ha=function(t){return Vt(t,Gt.apply(this,arguments))},pa=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new o(t),u=t-1,c=0;c<t;++c)a[c]=i;return{set:function(r,o){for(var c=e(r)&u,l=a[c],f=0;l!=i;){if(n(l,r))return s[c]=o;if(++f>=t)throw new Error("full hashmap");l=a[c=c+1&u]}return a[c]=r,s[c]=o,o},maybeSet:function(r,o){for(var c=e(r)&u,l=a[c],f=0;l!=i;){if(n(l,r))return s[c];if(++f>=t)throw new Error("full hashmap");l=a[c=c+1&u]}return a[c]=r,s[c]=o,o},get:function(r,o){for(var c=e(r)&u,l=a[c],f=0;l!=i;){if(n(l,r))return s[c];if(++f>=t)break;l=a[c=c+1&u]}return o},keys:function(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=i&&t.push(r)}return t}}},da=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ya=new ArrayBuffer(16),va=new Float64Array(ya),ga=new Uint32Array(ya),ma=function(t){va[0]=t[0],va[1]=t[1];var e=ga[0]^ga[1];return 2147483647&(e<<5^e>>7^ga[2]^ga[3])},ba=function(t){function e(t,e,n,r){if(h[n]!==t){h[n]=t;var i=p[n];if(i>=0){var o=d[n];i===e&&o===r||i===r&&o===e||(++v,y[n]=1)}else p[n]=e,d[n]=r}}function n(t){return ma(u[t])}function r(t,e){return da(u[t],u[e])}var i,o,a,s,u=t.coordinates,c=t.lines,l=t.rings,f=function(){for(var t=pa(1.4*u.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(u.length),i=0,o=u.length;i<o;++i)e[i]=t.maybeSet(i,i);return e}(),h=new Int32Array(u.length),p=new Int32Array(u.length),d=new Int32Array(u.length),y=new Int8Array(u.length),v=0;for(i=0,o=u.length;i<o;++i)h[i]=p[i]=d[i]=-1;for(i=0,o=c.length;i<o;++i){var g=c[i],m=g[0],b=g[1];for(a=f[m],s=f[++m],++v,y[a]=1;++m<=b;)e(i,a,a=s,s=f[m]);++v,y[s]=1}for(i=0,o=u.length;i<o;++i)h[i]=-1;for(i=0,o=l.length;i<o;++i){var _=l[i],x=_[0]+1,w=_[1];for(e(i,f[w-1],a=f[x-1],s=f[x]);++x<=w;)e(i,a,a=s,s=f[x])}h=p=d=null;var E,S=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)o[s]=i;return{add:function(r){for(var s=e(r)&a,u=o[s],c=0;u!=i;){if(n(u,r))return!0;if(++c>=t)throw new Error("full hashset");u=o[s=s+1&a]}return o[s]=r,!0},has:function(r){for(var s=e(r)&a,u=o[s],c=0;u!=i;){if(n(u,r))return!0;if(++c>=t)break;u=o[s=s+1&a]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*v,ma,da);for(i=0,o=u.length;i<o;++i)y[E=f[i]]&&S.add(u[E]);return S},_a=function(t){var e,n,r,i=ba(t),o=t.coordinates,a=t.lines,s=t.rings;for(n=0,r=a.length;n<r;++n)for(var u=a[n],c=u[0],l=u[1];++c<l;)i.has(o[c])&&(e={0:c,1:u[1]},u[1]=c,u=u.next=e);for(n=0,r=s.length;n<r;++n)for(var f=s[n],h=f[0],p=h,d=f[1],y=i.has(o[h]);++p<d;)i.has(o[p])&&(y?(e={0:p,1:f[1]},f[1]=p,f=f.next=e):(function(t,e,n,r){Wt(t,e,n),Wt(t,e,e+r),Wt(t,e+r,n)}(o,h,d,d-p),o[d]=o[h],y=!0,p=h));return t},xa=function(t){function e(t){var e,n,r,i,o,a,s,u;if(r=p.get(e=c[t[0]]))for(s=0,u=r.length;s<u;++s)if(function(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!da(c[n],c[r]))return!1;return!0}(i=r[s],t))return t[0]=i[0],void(t[1]=i[1]);if(o=p.get(n=c[t[1]]))for(s=0,u=o.length;s<u;++s)if(function(t,e){var n=t[0],r=e[0],i=t[1],o=e[1];if(n-i!=r-o)return!1;for(;n<=i;++n,--o)if(!da(c[n],c[o]))return!1;return!0}(a=o[s],t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):p.set(e,[t]),o?o.push(t):p.set(n,[t]),d.push(t)}function n(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var a=i(t),s=i(e),u=0;u<o;++u)if(!da(c[n+(u+a)%o],c[r+(u+s)%o]))return!1;return!0}function r(t,e){var n=t[0],r=e[0],o=t[1],a=e[1],s=o-n;if(s!==a-r)return!1;for(var u=i(t),l=s-i(e),f=0;f<s;++f)if(!da(c[n+(f+u)%s],c[a-(f+l)%s]))return!1;return!0}function i(t){for(var e=t[0],n=t[1],r=e,i=r,o=c[r];++r<n;){var a=c[r];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(i=r,o=a)}return i-e}var o,a,s,u,c=t.coordinates,l=t.lines,f=t.rings,h=l.length+f.length;for(delete t.lines,delete t.rings,s=0,u=l.length;s<u;++s)for(o=l[s];o=o.next;)++h;for(s=0,u=f.length;s<u;++s)for(a=f[s];a=a.next;)++h;var p=pa(2*h*1.4,ma,da),d=t.arcs=[];for(s=0,u=l.length;s<u;++s){o=l[s];do{e(o)}while(o=o.next)}for(s=0,u=f.length;s<u;++s)if((a=f[s]).next)do{e(a)}while(a=a.next);else!function(t){var e,o,a,s,u;if(o=p.get(e=c[t[0]]))for(s=0,u=o.length;s<u;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}if(o=p.get(e=c[t[0]+i(t)]))for(s=0,u=o.length;s<u;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(r(a,t))return t[0]=a[1],void(t[1]=a[0])}o?o.push(t):p.set(e,[t]),d.push(t)}(a);return t},wa=function(t,e){function n(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function r(t){var e=[];do{var n=c.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){null!=t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>s&&(s=e),n<a&&(a=n),n>u&&(u=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,a=1/0,s=-1/0,u=-1/0,c={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(i)}};for(var l in t)e(t[l]);return s>=o&&u>=a?[o,a,s,u]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=Ht(t[e]);return n}(t)),a=e>0&&o&&function(t,e,n){function r(t){return[Math.round((t[0]-c)*p),Math.round((t[1]-l)*d)]}function i(t,e){for(var n,r,i,o,a,s=-1,u=0,f=t.length,h=new Array(f);++s<f;)n=t[s],o=Math.round((n[0]-c)*p),a=Math.round((n[1]-l)*d),o===r&&a===i||(h[u++]=[r=o,i=a]);for(h.length=u;u<e;)u=h.push([h[0][0],h[0][1]]);return h}function o(t){return i(t,2)}function a(t){return i(t,4)}function s(t){return t.map(a)}function u(t){null!=t&&y.hasOwnProperty(t.type)&&y[t.type](t)}var c=e[0],l=e[1],f=e[2],h=e[3],p=f-c?(n-1)/(f-c):1,d=h-l?(n-1)/(h-l):1,y={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=s(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};for(var v in t)u(t[v]);return{scale:[1/p,1/d],translate:[c,l]}}(t,o,e),s=xa(_a(function(t){function e(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function i(t){return t.map(r)}var o=-1,a=[],s=[],u=[],c={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var l in t)e(t[l]);return{type:"Topology",coordinates:u,lines:a,rings:s,objects:t}}(t))),u=s.coordinates,c=pa(1.4*s.arcs.length,Yt,Zt);t=s.objects,s.bbox=o,s.arcs=s.arcs.map((function(t,e){return c.set(t,e),u.slice(t[0],t[1]+1)})),delete s.coordinates,u=null;var l={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var f in t)n(t[f]);return a&&(s.transform=a,s.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],a=0,s=1,u=o.length,c=o[0],l=c[0],f=c[1];++a<u;)r=(c=o[a])[0],i=c[1],r===l&&i===f||(o[s++]=[r-l,i-f],l=r,f=i);1===s&&(o[s++]=[0,0]),o.length=s}return t}(s.arcs)),s},Ea=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};Ea.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},Ea.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},Ea.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var Sa=be,ka=be;be.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(Re(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var c=e[s]*n,l=s<u-1?e[s+1]*n:t.length;a-=Math.abs(Re(t,c,l,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},be.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},Sa.default=ka,Be.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!Ye(t,e))return n;for(var i,o,a,s,u=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],Ye(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):Xe(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Ye(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],Ye(t,a=e.leaf?n(o):o)){if(e.leaf||Xe(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Ze([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,a=this.data,s=this.toBBox(t),u=[],c=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=c.pop(),o=!0),a.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,a.children,e)))return a.children.splice(i,1),u.push(a),this._condense(u),this;o||a.leaf||!Xe(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:Ge,compareMinY:We,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return Ue(i=Ze(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=Ze([])).leaf=!1,i.height=r;var s,u,c,l,f=Math.ceil(o/a),h=f*Math.ceil(Math.sqrt(a));for($e(t,e,n,h,this.compareMinX),s=e;s<=n;s+=h)for($e(t,s,c=Math.min(s+h-1,n),f,this.compareMinY),u=s;u<=c;u+=f)l=Math.min(u+f-1,c),i.children.push(this._build(t,u,l,r-1));return Ue(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,u,c,l,f;r.push(e),!e.leaf&&r.length-1!==n;){for(l=f=1/0,i=0,o=e.children.length;i<o;i++)u=He(a=e.children[i]),(c=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-u)<f?(f=c,l=u<l?u:l,s=a):c===f&&u<l&&(l=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),Ve(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=Ze(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,Ue(n,this.toBBox),Ue(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=Ze([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Ue(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,s,u,c,l;for(u=c=1/0,r=e;r<=n-e;r++)a=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=qe(t,0,r,this.toBBox),o=qe(t,r,n,this.toBBox)),s=He(i)+He(o),a<u?(u=a,l=r,c=s<c?s:c):a===u&&s<c&&(c=s,l=r);return l},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:Ge,i=t.leaf?this.compareMinY:We;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,s=qe(t,0,e,a),u=qe(t,n-e,n,a),c=Ke(s)+Ke(u);for(i=e;i<n-e;i++)o=t.children[i],Ve(s,t.leaf?a(o):o),c+=Ke(s);for(i=n-e-1;i>=e;i--)o=t.children[i],Ve(u,t.leaf?a(o):o),c+=Ke(u);return c},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)Ve(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Ue(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Oa=Object.freeze({toMercator:cn,toWgs84:ln}),Ca=6378137,Pa=function(t,e,n){function r(t,n,r,i){var u,c,l=o[t][n],f=o[t][n+1],h=o[r][i],p=o[r][i+1],d=function(t,e,n,r){if(An(t,n)||An(t,r)||An(e,n)||An(r,n))return null;var i=t[0],o=t[1],a=e[0],s=e[1],u=n[0],c=n[1],l=r[0],f=r[1],h=(i-a)*(c-f)-(o-s)*(u-l);return 0===h?null:[((i*s-o*a)*(u-l)-(i-a)*(u*f-c*l))/h,((i*s-o*a)*(c-f)-(o-s)*(u*f-c*l))/h]}(l,f,h,p);if(null!==d&&(u=f[0]!==l[0]?(d[0]-l[0])/(f[0]-l[0]):(d[1]-l[1])/(f[1]-l[1]),c=p[0]!==h[0]?(d[0]-h[0])/(p[0]-h[0]):(d[1]-h[1])/(p[1]-h[1]),!(u>=1||u<=0||c>=1||c<=0))){var y=d,v=!s[y];v&&(s[y]=!0),e?a.push(e(d,t,n,l,f,u,r,i,h,p,c,v)):a.push(d)}}function i(t,e){var n,r,i,a,s=o[t][e],u=o[t][e+1];return s[0]<u[0]?(n=s[0],r=u[0]):(n=u[0],r=s[0]),s[1]<u[1]?(i=s[1],a=u[1]):(i=u[1],a=s[1]),{minX:n,minY:i,maxX:r,maxY:a,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,a=[],s={};if(n){for(var u=[],c=0;c<o.length;c++)for(var l=0;l<o[c].length-1;l++)u.push(i(c,l));var f=Ho();f.load(u)}for(var h=0;h<o.length;h++)for(var p=0;p<o[h].length-1;p++)if(n)f.search(i(h,p)).forEach((function(t){var e=t.ring,n=t.edge;r(h,p,e,n)}));else for(var d=0;d<o.length;d++)for(var y=0;y<o[d].length-1;y++)r(h,p,d,y);return e||(a={type:"Feature",geometry:{type:"MultiPoint",coordinates:a}}),a},Ta=function(t){function e(){for(var t=[],e=0;e<d.features.length;e++)-1==d.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<d.features.length;r++)t[e]!=r&&Mt(d.features[t[e]].geometry.coordinates[0][0],d.features[r],{ignoreBoundary:!0})&&mn(d.features[r])<1/0&&(n=r);d.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<d.features.length;t++)if(-1==d.features[t].properties.parent){var e=d.features[t].properties.winding;d.features[t].properties.netWinding=e,r(t,e)}}function r(t,e){for(var n=0;n<d.features.length;n++)if(d.features[n].properties.parent==t){var i=e+d.features[n].properties.winding;d.features[n].properties.netWinding=i,r(n,i)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var i=t.geometry.coordinates.length,a=[],s=0;s<i;s++){var u=t.geometry.coordinates[s];jn(u[0],u[u.length-1])||u.push(u[0]),a.push.apply(a,u.slice(0,u.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(a))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var l=a.length,f=Pa(t,(function(t,e,n,r,i,o,a,s,u,c,l,f){return[t,e,n,r,i,o,a,s,u,c,l,f]})),h=f.length;if(0==h){var p=[];for(s=0;s<i;s++)p.push(o([t.geometry.coordinates[s]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(In([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var r=1;else r=-1;return r}(t.geometry.coordinates[s])}));var d=c(p);return e(),n(),d}var y=[],v=[];for(s=0;s<i;s++){y.push([]);for(var g=0;g<t.geometry.coordinates[s].length-1;g++)y[s].push([new Ma(t.geometry.coordinates[s][(g+1).modulo(t.geometry.coordinates[s].length-1)],1,[s,g],[s,(g+1).modulo(t.geometry.coordinates[s].length-1)],void 0)]),v.push(new Aa(t.geometry.coordinates[s][g],[s,(g-1).modulo(t.geometry.coordinates[s].length-1)],[s,g],void 0,void 0,!1,!0))}for(s=0;s<h;s++)y[f[s][1]][f[s][2]].push(new Ma(f[s][0],f[s][5],[f[s][1],f[s][2]],[f[s][6],f[s][7]],void 0)),f[s][11]&&v.push(new Aa(f[s][0],[f[s][1],f[s][2]],[f[s][6],f[s][7]],void 0,void 0,!0,!0));var m=v.length;for(s=0;s<y.length;s++)for(g=0;g<y[s].length;g++)y[s][g].sort((function(t,e){return t.param<e.param?-1:1}));var b=[];for(s=0;s<m;s++)b.push({minX:v[s].coord[0],minY:v[s].coord[1],maxX:v[s].coord[0],maxY:v[s].coord[1],index:s});var _=Ho();for(_.load(b),s=0;s<y.length;s++)for(g=0;g<y[s].length;g++)for(var x=0;x<y[s][g].length;x++){E=x==y[s][g].length-1?y[s][(g+1).modulo(t.geometry.coordinates[s].length-1)][0].coord:y[s][g][x+1].coord;var w=_.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0];y[s][g][x].nxtIsectAlongEdgeIn=w.index}for(s=0;s<y.length;s++)for(g=0;g<y[s].length;g++)for(x=0;x<y[s][g].length;x++){var E=y[s][g][x].coord,S=(w=_.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0]).index;S<l?v[S].nxtIsectAlongRingAndEdge2=y[s][g][x].nxtIsectAlongEdgeIn:jn(v[S].ringAndEdge1,y[s][g][x].ringAndEdgeIn)?v[S].nxtIsectAlongRingAndEdge1=y[s][g][x].nxtIsectAlongEdgeIn:v[S].nxtIsectAlongRingAndEdge2=y[s][g][x].nxtIsectAlongEdgeIn}var k=[];for(s=0,g=0;g<i;g++){var O=s;for(x=0;x<t.geometry.coordinates[g].length-1;x++)v[s].coord[0]<v[O].coord[0]&&(O=s),s++;var C=v[O].nxtIsectAlongRingAndEdge2;for(x=0;x<v.length;x++)if(v[x].nxtIsectAlongRingAndEdge1==O||v[x].nxtIsectAlongRingAndEdge2==O){var P=x;break}var T=In([v[P].coord,v[O].coord,v[C].coord],!0)?1:-1;k.push({isect:O,parent:-1,winding:T})}for(k.sort((function(t,e){return v[t.isect].coord>v[e.isect].coord?-1:1})),p=[];k.length>0;){var M=k.pop(),A=M.isect,I=M.parent,j=M.winding,R=p.length,D=[v[A].coord],N=A;if(v[A].ringAndEdge1Walkable)var L=v[A].ringAndEdge1,z=v[A].nxtIsectAlongRingAndEdge1;else L=v[A].ringAndEdge2,z=v[A].nxtIsectAlongRingAndEdge2;for(;!jn(v[A].coord,v[z].coord);){D.push(v[z].coord);var F=void 0;for(s=0;s<k.length;s++)if(k[s].isect==z){F=s;break}if(void 0!=F&&k.splice(F,1),jn(L,v[z].ringAndEdge1)){if(L=v[z].ringAndEdge2,v[z].ringAndEdge2Walkable=!1,v[z].ringAndEdge1Walkable){var B={isect:z};In([v[N].coord,v[z].coord,v[v[z].nxtIsectAlongRingAndEdge2].coord],1==j)?(B.parent=I,B.winding=-j):(B.parent=R,B.winding=j),k.push(B)}N=z,z=v[z].nxtIsectAlongRingAndEdge2}else L=v[z].ringAndEdge1,v[z].ringAndEdge1Walkable=!1,v[z].ringAndEdge2Walkable&&(B={isect:z},In([v[N].coord,v[z].coord,v[v[z].nxtIsectAlongRingAndEdge1].coord],1==j)?(B.parent=I,B.winding=-j):(B.parent=R,B.winding=j),k.push(B)),N=z,z=v[z].nxtIsectAlongRingAndEdge1}D.push(v[z].coord),p.push(o([D],{index:R,parent:I,winding:j,netWinding:void 0}))}return d=c(p),e(),n(),d},Ma=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},Aa=function(t,e,n,r,i,o,a){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=a};Number.prototype.modulo=function(t){return(this%t+t)%t};var Ia=Math.PI/180,ja=180/Math.PI,Ra=function(t,e){this.lon=t,this.lat=e,this.x=Ia*t,this.y=Ia*e};Ra.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Ra.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new Ra(e,t)};var Da=function(){this.coords=[],this.length=0};Da.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Na=function(t){this.properties=t||{},this.geometries=[]};Na.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},Na.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var La=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Ra(t.x,t.y),this.end=new Ra(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};La.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=ja*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[ja*Math.atan2(i,r),a]},La.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,a=this.interpolate(o);n.push(a)}for(var s=!1,u=0,c=e&&e.offset?e.offset:10,l=180-c,f=-180+c,h=360-c,p=1;p<n.length;++p){var d=n[p-1][0],y=n[p][0],v=Math.abs(y-d);v>h&&(y>l&&d<f||d>l&&y<f)?s=!0:v>u&&(u=v)}var g=[];if(s&&u<c){var m=[];g.push(m);for(var b=0;b<n.length;++b){var _=parseFloat(n[b][0]);if(b>0&&Math.abs(_-n[b-1][0])>h){var x=parseFloat(n[b-1][0]),w=parseFloat(n[b-1][1]),E=parseFloat(n[b][0]),S=parseFloat(n[b][1]);if(x>-180&&x<f&&180===E&&b+1<n.length&&n[b-1][0]>-180&&n[b-1][0]<f){m.push([-180,n[b][1]]),b++,m.push([n[b][0],n[b][1]]);continue}if(x>l&&x<180&&-180===E&&b+1<n.length&&n[b-1][0]>l&&n[b-1][0]<180){m.push([180,n[b][1]]),b++,m.push([n[b][0],n[b][1]]);continue}if(x<f&&E>l){var k=x;x=E,E=k;var O=w;w=S,S=O}if(x>l&&E<f&&(E+=360),x<=180&&E>=180&&x<E){var C=(180-x)/(E-x),P=C*S+(1-C)*w;m.push([n[b-1][0]>l?180:-180,P]),(m=[]).push([n[b-1][0]>l?-180:180,P]),g.push(m)}else m=[],g.push(m);m.push([_,n[b][1]])}else m.push([n[b][0],n[b][1]])}}else{var T=[];g.push(T);for(var M=0;M<n.length;++M)T.push([n[M][0],n[M][1]])}for(var A=new Na(this.properties),I=0;I<g.length;++I){var j=new Da;A.geometries.push(j);for(var R=g[I],D=0;D<R.length;++D)j.move_to(R[D])}return A};var za=Wn;Wn.polyline=Wn,Wn.polygon=function(t,e){var n,r,i,o,a,s,u;for(r=1;r<=8;r*=2){for(n=[],o=!(Kn(i=t[t.length-1],e)&r),a=0;a<t.length;a++)(u=!(Kn(s=t[a],e)&r))!==o&&n.push(Hn(i,s,r,e)),u&&n.push(s),i=s,o=u;if(!(t=n).length)break}return n};var Fa=Array.prototype.slice,Ba={successCallback:null,verbose:!1,polygons:!1},Ua={},qa=64,Va=16,Ga=4,Wa=1,Ha=[],Ka=[],Xa=[],Ya=[],Za=[],$a=[],Ja=[],Qa=[],ts=[],es=[],ns=[],rs=[],is=[],os=[],as=[],ss=[],us=[],cs=[],ls=[],fs=[],hs=[],ps=[],ds=[],ys=[];Ja[85]=es[85]=-1,Qa[85]=ns[85]=0,ts[85]=rs[85]=1,ls[85]=ps[85]=1,fs[85]=ds[85]=0,hs[85]=ys[85]=1,Ha[85]=Ya[85]=0,Ka[85]=Za[85]=-1,Xa[85]=as[85]=0,ss[85]=is[85]=0,us[85]=os[85]=1,$a[85]=cs[85]=1,ps[1]=ps[169]=0,ds[1]=ds[169]=-1,ys[1]=ys[169]=0,is[1]=is[169]=-1,os[1]=os[169]=0,as[1]=as[169]=0,es[4]=es[166]=0,ns[4]=ns[166]=-1,rs[4]=rs[166]=1,ss[4]=ss[166]=1,us[4]=us[166]=0,cs[4]=cs[166]=0,Ja[16]=Ja[154]=0,Qa[16]=Qa[154]=1,ts[16]=ts[154]=1,Ya[16]=Ya[154]=1,Za[16]=Za[154]=0,$a[16]=$a[154]=1,ls[64]=ls[106]=0,fs[64]=fs[106]=1,hs[64]=hs[106]=0,Ha[64]=Ha[106]=-1,Ka[64]=Ka[106]=0,Xa[64]=Xa[106]=1,ls[2]=ls[168]=0,fs[2]=fs[168]=-1,hs[2]=hs[168]=1,ps[2]=ps[168]=0,ds[2]=ds[168]=-1,ys[2]=ys[168]=0,is[2]=is[168]=-1,os[2]=os[168]=0,as[2]=as[168]=0,ss[2]=ss[168]=-1,us[2]=us[168]=0,cs[2]=cs[168]=1,Ja[8]=Ja[162]=0,Qa[8]=Qa[162]=-1,ts[8]=ts[162]=0,es[8]=es[162]=0,ns[8]=ns[162]=-1,rs[8]=rs[162]=1,is[8]=is[162]=1,os[8]=os[162]=0,as[8]=as[162]=1,ss[8]=ss[162]=1,us[8]=us[162]=0,cs[8]=cs[162]=0,Ja[32]=Ja[138]=0,Qa[32]=Qa[138]=1,ts[32]=ts[138]=1,es[32]=es[138]=0,ns[32]=ns[138]=1,rs[32]=rs[138]=0,Ha[32]=Ha[138]=1,Ka[32]=Ka[138]=0,Xa[32]=Xa[138]=0,Ya[32]=Ya[138]=1,Za[32]=Za[138]=0,$a[32]=$a[138]=1,ps[128]=ps[42]=0,ds[128]=ds[42]=1,ys[128]=ys[42]=1,ls[128]=ls[42]=0,fs[128]=fs[42]=1,hs[128]=hs[42]=0,Ha[128]=Ha[42]=-1,Ka[128]=Ka[42]=0,Xa[128]=Xa[42]=1,Ya[128]=Ya[42]=-1,Za[128]=Za[42]=0,$a[128]=$a[42]=0,es[5]=es[165]=-1,ns[5]=ns[165]=0,rs[5]=rs[165]=0,ps[5]=ps[165]=1,ds[5]=ds[165]=0,ys[5]=ys[165]=0,ss[20]=ss[150]=0,us[20]=us[150]=1,cs[20]=cs[150]=1,Ya[20]=Ya[150]=0,Za[20]=Za[150]=-1,$a[20]=$a[150]=1,Ja[80]=Ja[90]=-1,Qa[80]=Qa[90]=0,ts[80]=ts[90]=1,ls[80]=ls[90]=1,fs[80]=fs[90]=0,hs[80]=hs[90]=1,is[65]=is[105]=0,os[65]=os[105]=1,as[65]=as[105]=0,Ha[65]=Ha[105]=0,Ka[65]=Ka[105]=-1,Xa[65]=Xa[105]=0,Ja[160]=Ja[10]=-1,Qa[160]=Qa[10]=0,ts[160]=ts[10]=1,es[160]=es[10]=-1,ns[160]=ns[10]=0,rs[160]=rs[10]=0,ps[160]=ps[10]=1,ds[160]=ds[10]=0,ys[160]=ys[10]=0,ls[160]=ls[10]=1,fs[160]=fs[10]=0,hs[160]=hs[10]=1,ss[130]=ss[40]=0,us[130]=us[40]=1,cs[130]=cs[40]=1,is[130]=is[40]=0,os[130]=os[40]=1,as[130]=as[40]=0,Ha[130]=Ha[40]=0,Ka[130]=Ka[40]=-1,Xa[130]=Xa[40]=0,Ya[130]=Ya[40]=0,Za[130]=Za[40]=-1,$a[130]=$a[40]=1,es[37]=es[133]=0,ns[37]=ns[133]=1,rs[37]=rs[133]=1,ps[37]=ps[133]=0,ds[37]=ds[133]=1,ys[37]=ys[133]=0,Ha[37]=Ha[133]=-1,Ka[37]=Ka[133]=0,Xa[37]=Xa[133]=0,Ya[37]=Ya[133]=1,Za[37]=Za[133]=0,$a[37]=$a[133]=0,ss[148]=ss[22]=-1,us[148]=us[22]=0,cs[148]=cs[22]=0,ps[148]=ps[22]=0,ds[148]=ds[22]=-1,ys[148]=ys[22]=1,ls[148]=ls[22]=0,fs[148]=fs[22]=1,hs[148]=hs[22]=1,Ya[148]=Ya[22]=-1,Za[148]=Za[22]=0,$a[148]=$a[22]=1,Ja[82]=Ja[88]=0,Qa[82]=Qa[88]=-1,ts[82]=ts[88]=1,ss[82]=ss[88]=1,us[82]=us[88]=0,cs[82]=cs[88]=1,is[82]=is[88]=-1,os[82]=os[88]=0,as[82]=as[88]=1,ls[82]=ls[88]=0,fs[82]=fs[88]=-1,hs[82]=hs[88]=0,Ja[73]=Ja[97]=0,Qa[73]=Qa[97]=1,ts[73]=ts[97]=0,es[73]=es[97]=0,ns[73]=ns[97]=-1,rs[73]=rs[97]=0,is[73]=is[97]=1,os[73]=os[97]=0,as[73]=as[97]=0,Ha[73]=Ha[97]=1,Ka[73]=Ka[97]=0,Xa[73]=Xa[97]=1,Ja[145]=Ja[25]=0,Qa[145]=Qa[25]=-1,ts[145]=ts[25]=0,is[145]=is[25]=1,os[145]=os[25]=0,as[145]=as[25]=1,ps[145]=ps[25]=0,ds[145]=ds[25]=1,ys[145]=ys[25]=1,Ya[145]=Ya[25]=-1,Za[145]=Za[25]=0,$a[145]=$a[25]=0,es[70]=es[100]=0,ns[70]=ns[100]=1,rs[70]=rs[100]=0,ss[70]=ss[100]=-1,us[70]=us[100]=0,cs[70]=cs[100]=1,ls[70]=ls[100]=0,fs[70]=fs[100]=-1,hs[70]=hs[100]=1,Ha[70]=Ha[100]=1,Ka[70]=Ka[100]=0,Xa[70]=Xa[100]=0,es[101]=es[69]=0,ns[101]=ns[69]=1,rs[101]=rs[69]=0,Ha[101]=Ha[69]=1,Ka[101]=Ka[69]=0,Xa[101]=Xa[69]=0,ps[149]=ps[21]=0,ds[149]=ds[21]=1,ys[149]=ys[21]=1,Ya[149]=Ya[21]=-1,Za[149]=Za[21]=0,$a[149]=$a[21]=0,ss[86]=ss[84]=-1,us[86]=us[84]=0,cs[86]=cs[84]=1,ls[86]=ls[84]=0,fs[86]=fs[84]=-1,hs[86]=hs[84]=1,Ja[89]=Ja[81]=0,Qa[89]=Qa[81]=-1,ts[89]=ts[81]=0,is[89]=is[81]=1,os[89]=os[81]=0,as[89]=as[81]=1,Ja[96]=Ja[74]=0,Qa[96]=Qa[74]=1,ts[96]=ts[74]=0,es[96]=es[74]=-1,ns[96]=ns[74]=0,rs[96]=rs[74]=1,ls[96]=ls[74]=1,fs[96]=fs[74]=0,hs[96]=hs[74]=0,Ha[96]=Ha[74]=1,Ka[96]=Ka[74]=0,Xa[96]=Xa[74]=1,Ja[24]=Ja[146]=0,Qa[24]=Qa[146]=-1,ts[24]=ts[146]=1,ss[24]=ss[146]=1,us[24]=us[146]=0,cs[24]=cs[146]=1,is[24]=is[146]=0,os[24]=os[146]=1,as[24]=as[146]=1,Ya[24]=Ya[146]=0,Za[24]=Za[146]=-1,$a[24]=$a[146]=0,es[6]=es[164]=-1,ns[6]=ns[164]=0,rs[6]=rs[164]=1,ss[6]=ss[164]=-1,us[6]=us[164]=0,cs[6]=cs[164]=0,ps[6]=ps[164]=0,ds[6]=ds[164]=-1,ys[6]=ys[164]=1,ls[6]=ls[164]=1,fs[6]=fs[164]=0,hs[6]=hs[164]=0,is[129]=is[41]=0,os[129]=os[41]=1,as[129]=as[41]=1,ps[129]=ps[41]=0,ds[129]=ds[41]=1,ys[129]=ys[41]=0,Ha[129]=Ha[41]=-1,Ka[129]=Ka[41]=0,Xa[129]=Xa[41]=0,Ya[129]=Ya[41]=0,Za[129]=Za[41]=-1,$a[129]=$a[41]=0,ss[66]=ss[104]=0,us[66]=us[104]=1,cs[66]=cs[104]=0,is[66]=is[104]=-1,os[66]=os[104]=0,as[66]=as[104]=1,ls[66]=ls[104]=0,fs[66]=fs[104]=-1,hs[66]=hs[104]=0,Ha[66]=Ha[104]=0,Ka[66]=Ka[104]=-1,Xa[66]=Xa[104]=1,Ja[144]=Ja[26]=-1,Qa[144]=Qa[26]=0,ts[144]=ts[26]=0,ps[144]=ps[26]=1,ds[144]=ds[26]=0,ys[144]=ys[26]=1,ls[144]=ls[26]=0,fs[144]=fs[26]=1,hs[144]=hs[26]=1,Ya[144]=Ya[26]=-1,Za[144]=Za[26]=0,$a[144]=$a[26]=1,es[36]=es[134]=0,ns[36]=ns[134]=1,rs[36]=rs[134]=1,ss[36]=ss[134]=0,us[36]=us[134]=1,cs[36]=cs[134]=0,Ha[36]=Ha[134]=0,Ka[36]=Ka[134]=-1,Xa[36]=Xa[134]=1,Ya[36]=Ya[134]=1,Za[36]=Za[134]=0,$a[36]=$a[134]=0,Ja[9]=Ja[161]=-1,Qa[9]=Qa[161]=0,ts[9]=ts[161]=0,es[9]=es[161]=0,ns[9]=ns[161]=-1,rs[9]=rs[161]=0,is[9]=is[161]=1,os[9]=os[161]=0,as[9]=as[161]=0,ps[9]=ps[161]=1,ds[9]=ds[161]=0,ys[9]=ys[161]=1,Ja[136]=0,Qa[136]=1,ts[136]=1,es[136]=0,ns[136]=1,rs[136]=0,ss[136]=-1,us[136]=0,cs[136]=1,is[136]=-1,os[136]=0,as[136]=0,ps[136]=0,ds[136]=-1,ys[136]=0,ls[136]=0,fs[136]=-1,hs[136]=1,Ha[136]=1,Ka[136]=0,Xa[136]=0,Ya[136]=1,Za[136]=0,$a[136]=1,Ja[34]=0,Qa[34]=-1,ts[34]=0,es[34]=0,ns[34]=-1,rs[34]=1,ss[34]=1,us[34]=0,cs[34]=0,is[34]=1,os[34]=0,as[34]=1,ps[34]=0,ds[34]=1,ys[34]=1,ls[34]=0,fs[34]=1,hs[34]=0,Ha[34]=-1,Ka[34]=0,Xa[34]=1,Ya[34]=-1,Za[34]=0,$a[34]=0,Ja[35]=0,Qa[35]=1,ts[35]=1,es[35]=0,ns[35]=-1,rs[35]=1,ss[35]=1,us[35]=0,cs[35]=0,is[35]=-1,os[35]=0,as[35]=0,ps[35]=0,ds[35]=-1,ys[35]=0,ls[35]=0,fs[35]=1,hs[35]=0,Ha[35]=-1,Ka[35]=0,Xa[35]=1,Ya[35]=1,Za[35]=0,$a[35]=1,Ja[153]=0,Qa[153]=1,ts[153]=1,is[153]=-1,os[153]=0,as[153]=0,ps[153]=0,ds[153]=-1,ys[153]=0,Ya[153]=1,Za[153]=0,$a[153]=1,es[102]=0,ns[102]=-1,rs[102]=1,ss[102]=1,us[102]=0,cs[102]=0,ls[102]=0,fs[102]=1,hs[102]=0,Ha[102]=-1,Ka[102]=0,Xa[102]=1,Ja[155]=0,Qa[155]=-1,ts[155]=0,is[155]=1,os[155]=0,as[155]=1,ps[155]=0,ds[155]=1,ys[155]=1,Ya[155]=-1,Za[155]=0,$a[155]=0,es[103]=0,ns[103]=1,rs[103]=0,ss[103]=-1,us[103]=0,cs[103]=1,ls[103]=0,fs[103]=-1,hs[103]=1,Ha[103]=1,Ka[103]=0,Xa[103]=0,Ja[152]=0,Qa[152]=1,ts[152]=1,ss[152]=-1,us[152]=0,cs[152]=1,is[152]=-1,os[152]=0,as[152]=0,ps[152]=0,ds[152]=-1,ys[152]=0,ls[152]=0,fs[152]=-1,hs[152]=1,Ya[152]=1,Za[152]=0,$a[152]=1,Ja[156]=0,Qa[156]=-1,ts[156]=1,ss[156]=1,us[156]=0,cs[156]=1,is[156]=-1,os[156]=0,as[156]=0,ps[156]=0,ds[156]=-1,ys[156]=0,ls[156]=0,fs[156]=1,hs[156]=1,Ya[156]=-1,Za[156]=0,$a[156]=1,Ja[137]=0,Qa[137]=1,ts[137]=1,es[137]=0,ns[137]=1,rs[137]=0,is[137]=-1,os[137]=0,as[137]=0,ps[137]=0,ds[137]=-1,ys[137]=0,Ha[137]=1,Ka[137]=0,Xa[137]=0,Ya[137]=1,Za[137]=0,$a[137]=1,Ja[139]=0,Qa[139]=1,ts[139]=1,es[139]=0,ns[139]=-1,rs[139]=0,is[139]=1,os[139]=0,as[139]=0,ps[139]=0,ds[139]=1,ys[139]=0,Ha[139]=-1,Ka[139]=0,Xa[139]=0,Ya[139]=1,Za[139]=0,$a[139]=1,Ja[98]=0,Qa[98]=-1,ts[98]=0,es[98]=0,ns[98]=-1,rs[98]=1,ss[98]=1,us[98]=0,cs[98]=0,is[98]=1,os[98]=0,as[98]=1,ls[98]=0,fs[98]=1,hs[98]=0,Ha[98]=-1,Ka[98]=0,Xa[98]=1,Ja[99]=0,Qa[99]=1,ts[99]=0,es[99]=0,ns[99]=-1,rs[99]=1,ss[99]=1,us[99]=0,cs[99]=0,is[99]=-1,os[99]=0,as[99]=1,ls[99]=0,fs[99]=-1,hs[99]=0,Ha[99]=1,Ka[99]=0,Xa[99]=1,es[38]=0,ns[38]=-1,rs[38]=1,ss[38]=1,us[38]=0,cs[38]=0,ps[38]=0,ds[38]=1,ys[38]=1,ls[38]=0,fs[38]=1,hs[38]=0,Ha[38]=-1,Ka[38]=0,Xa[38]=1,Ya[38]=-1,Za[38]=0,$a[38]=0,es[39]=0,ns[39]=1,rs[39]=1,ss[39]=-1,us[39]=0,cs[39]=0,ps[39]=0,ds[39]=-1,ys[39]=1,ls[39]=0,fs[39]=1,hs[39]=0,Ha[39]=-1,Ka[39]=0,Xa[39]=1,Ya[39]=1,Za[39]=0,$a[39]=0;var vs=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},gs=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},ms=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},bs=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},_s=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},xs=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},ws=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},Es=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Ss=[],ks=[],Os=[],Cs=[],Ps=[],Ts=[],Ms=[],As=[];Cs[1]=Ps[1]=18,Cs[169]=Ps[169]=18,Os[4]=ks[4]=12,Os[166]=ks[166]=12,Ss[16]=As[16]=4,Ss[154]=As[154]=4,Ts[64]=Ms[64]=22,Ts[106]=Ms[106]=22,Os[2]=Ts[2]=17,Cs[2]=Ps[2]=18,Os[168]=Ts[168]=17,Cs[168]=Ps[168]=18,Ss[8]=Cs[8]=9,ks[8]=Os[8]=12,Ss[162]=Cs[162]=9,ks[162]=Os[162]=12,Ss[32]=As[32]=4,ks[32]=Ms[32]=1,Ss[138]=As[138]=4,ks[138]=Ms[138]=1,Ps[128]=As[128]=21,Ts[128]=Ms[128]=22,Ps[42]=As[42]=21,Ts[42]=Ms[42]=22,ks[5]=Ps[5]=14,ks[165]=Ps[165]=14,Os[20]=As[20]=6,Os[150]=As[150]=6,Ss[80]=Ts[80]=11,Ss[90]=Ts[90]=11,Cs[65]=Ms[65]=3,Cs[105]=Ms[105]=3,Ss[160]=Ts[160]=11,ks[160]=Ps[160]=14,Ss[10]=Ts[10]=11,ks[10]=Ps[10]=14,Os[130]=As[130]=6,Cs[130]=Ms[130]=3,Os[40]=As[40]=6,Cs[40]=Ms[40]=3,ks[101]=Ms[101]=1,ks[69]=Ms[69]=1,Ps[149]=As[149]=21,Ps[21]=As[21]=21,Os[86]=Ts[86]=17,Os[84]=Ts[84]=17,Ss[89]=Cs[89]=9,Ss[81]=Cs[81]=9,Ss[96]=Ms[96]=0,ks[96]=Ts[96]=15,Ss[74]=Ms[74]=0,ks[74]=Ts[74]=15,Ss[24]=Os[24]=8,Cs[24]=As[24]=7,Ss[146]=Os[146]=8,Cs[146]=As[146]=7,ks[6]=Ts[6]=15,Os[6]=Ps[6]=16,ks[164]=Ts[164]=15,Os[164]=Ps[164]=16,Cs[129]=As[129]=7,Ps[129]=Ms[129]=20,Cs[41]=As[41]=7,Ps[41]=Ms[41]=20,Os[66]=Ms[66]=2,Cs[66]=Ts[66]=19,Os[104]=Ms[104]=2,Cs[104]=Ts[104]=19,Ss[144]=Ps[144]=10,Ts[144]=As[144]=23,Ss[26]=Ps[26]=10,Ts[26]=As[26]=23,ks[36]=As[36]=5,Os[36]=Ms[36]=2,ks[134]=As[134]=5,Os[134]=Ms[134]=2,Ss[9]=Ps[9]=10,ks[9]=Cs[9]=13,Ss[161]=Ps[161]=10,ks[161]=Cs[161]=13,ks[37]=As[37]=5,Ps[37]=Ms[37]=20,ks[133]=As[133]=5,Ps[133]=Ms[133]=20,Os[148]=Ps[148]=16,Ts[148]=As[148]=23,Os[22]=Ps[22]=16,Ts[22]=As[22]=23,Ss[82]=Os[82]=8,Cs[82]=Ts[82]=19,Ss[88]=Os[88]=8,Cs[88]=Ts[88]=19,Ss[73]=Ms[73]=0,ks[73]=Cs[73]=13,Ss[97]=Ms[97]=0,ks[97]=Cs[97]=13,Ss[145]=Cs[145]=9,Ps[145]=As[145]=21,Ss[25]=Cs[25]=9,Ps[25]=As[25]=21,ks[70]=Ms[70]=1,Os[70]=Ts[70]=17,ks[100]=Ms[100]=1,Os[100]=Ts[100]=17,Ss[34]=Cs[34]=9,ks[34]=Os[34]=12,Ps[34]=As[34]=21,Ts[34]=Ms[34]=22,Ss[136]=As[136]=4,ks[136]=Ms[136]=1,Os[136]=Ts[136]=17,Cs[136]=Ps[136]=18,Ss[35]=As[35]=4,ks[35]=Os[35]=12,Cs[35]=Ps[35]=18,Ts[35]=Ms[35]=22,Ss[153]=As[153]=4,Cs[153]=Ps[153]=18,ks[102]=Os[102]=12,Ts[102]=Ms[102]=22,Ss[155]=Cs[155]=9,Ps[155]=As[155]=23,ks[103]=Ms[103]=1,Os[103]=Ts[103]=17,Ss[152]=As[152]=4,Os[152]=Ts[152]=17,Cs[152]=Ps[152]=18,Ss[156]=Os[156]=8,Cs[156]=Ps[156]=18,Ts[156]=As[156]=23,Ss[137]=As[137]=4,ks[137]=Ms[137]=1,Cs[137]=Ps[137]=18,Ss[139]=As[139]=4,ks[139]=Cs[139]=13,Ps[139]=Ms[139]=20,Ss[98]=Cs[98]=9,ks[98]=Os[98]=12,Ts[98]=Ms[98]=22,Ss[99]=Ms[99]=0,ks[99]=Os[99]=12,Cs[99]=Ts[99]=19,ks[38]=Os[38]=12,Ps[38]=As[38]=21,Ts[38]=Ms[38]=22,ks[39]=As[39]=5,Os[39]=Ps[39]=16,Ts[39]=Ms[39]=22;var Is=[];Is[1]=Is[169]=vs,Is[4]=Is[166]=gs,Is[16]=Is[154]=ms,Is[64]=Is[106]=bs,Is[168]=Is[2]=_s,Is[162]=Is[8]=xs,Is[138]=Is[32]=ws,Is[42]=Is[128]=Es,Is[5]=Is[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},Is[20]=Is[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},Is[80]=Is[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},Is[65]=Is[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Is[160]=Is[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},Is[130]=Is[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},Is[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Is[101]=Is[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},Is[149]=Is[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},Is[86]=Is[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},Is[89]=Is[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},Is[96]=Is[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},Is[24]=Is[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},Is[6]=Is[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},Is[129]=Is[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},Is[66]=Is[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Is[144]=Is[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Is[36]=Is[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},Is[9]=Is[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Is[37]=Is[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Is[148]=Is[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Is[82]=Is[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},Is[73]=Is[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Is[145]=Is[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Is[70]=Is[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Is[34]=function(t){return[Es(t),xs(t)]},Is[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Is[136]=function(t){return[ws(t),_s(t)]},Is[153]=function(t){return[ms(t),vs(t)]},Is[102]=function(t){return[gs(t),bs(t)]},Is[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Is[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Is[152]=function(t){return[ms(t),_s(t)]},Is[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Is[137]=function(t){return[ws(t),vs(t)]},Is[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Is[98]=function(t){return[xs(t),bs(t)]},Is[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Is[38]=function(t){return[gs(t),Es(t)]},Is[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var js=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};js.buildId=function(t){return t.join(",")},js.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},js.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},js.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},js.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=_r(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},js.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},js.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},js.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var Rs=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};Rs.prototype.getSymetric=function(){return this.symetric||(this.symetric=new Rs(this.to,this.from),this.symetric.symetric=this),this.symetric},Rs.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},Rs.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},Rs.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},Rs.prototype.toLineString=function(){return s([this.from.coordinates,this.to.coordinates])},Rs.prototype.compareTo=function(t){return _r(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var Ds=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},Ns={length:{configurable:!0}};Ds.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},Ds.prototype.get=function(t){return this.edges[t]},Ns.length.get=function(){return this.edges.length},Ds.prototype.forEach=function(t){this.edges.forEach(t)},Ds.prototype.map=function(t){return this.edges.map(t)},Ds.prototype.some=function(t){return this.edges.some(t)},Ds.prototype.isValid=function(){return!0},Ds.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=_r(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},Ds.prototype.toMultiPoint=function(){return f(this.edges.map((function(t){return t.from.coordinates})))},Ds.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},Ds.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=le(this.toPolygon())},Ds.findEdgeRingContaining=function(t,e){var n,i,o=t.getEnvelope();return e.forEach((function(e){var a=e.getEnvelope();if(i&&(n=i.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map((function(t){return t[0]})),r=t.geometry.coordinates.map((function(t){return t[1]})),i=e.geometry.coordinates.map((function(t){return t[0]})),o=e.geometry.coordinates.map((function(t){return t[1]}));return Math.max(null,n)===Math.max(null,i)&&Math.max(null,r)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,i)&&Math.min(null,r)===Math.min(null,o)}(a,o)&&xr(a,o)){var s=t.map((function(t){return t.from.coordinates})).find((function(t){return!e.some((function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)}))}));s&&e.inside(r(s))&&(i&&!xr(n,a)||(i=e))}})),i},Ds.prototype.inside=function(t){return Mt(t,this.toPolygon())},Object.defineProperties(Ds.prototype,Ns);var Ls=function(){this.edges=[],this.nodes={}};Ls.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new Ls;return N(t,(function(t){K(t,"LineString","Graph::fromGeoJson"),P(t,(function(t,n){if(t){var r=e.getNode(t),i=e.getNode(n);e.addEdge(r,i)}return n}))})),e},Ls.prototype.getNode=function(t){var e=js.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new js(t)),n},Ls.prototype.addEdge=function(t,e){var n=new Rs(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},Ls.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},Ls.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},Ls.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},Ls.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},Ls.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var a=i[o],s=a.symetric,u=void 0,c=void 0;a.label===e&&(u=a),s.label===e&&(c=s),u&&c&&(c&&(r=c),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},Ls.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t},Ls.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},Ls.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},Ls.prototype._findEdgeRing=function(t){var e=t,n=new Ds;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},Ls.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},Ls.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()};var zs=mt((function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),Fs=(zs.shim,mt((function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=i?n:r).supported=n,e.unsupported=r}))),Bs=(Fs.supported,Fs.unsupported,mt((function(t){function e(t){return null===t||void 0===t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&"function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0])}var r=Array.prototype.slice,i=t.exports=function(t,o,a){return a||(a={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?a.strict?t===o:t==o:function(t,o,a){var s,u;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(Fs(t))return!!Fs(o)&&(t=r.call(t),o=r.call(o),i(t,o,a));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==o[s])return!1;return!0}try{var c=zs(t),l=zs(o)}catch(t){return!1}if(c.length!=l.length)return!1;for(c.sort(),l.sort(),s=c.length-1;s>=0;s--)if(c[s]!=l[s])return!1;for(s=c.length-1;s>=0;s--)if(u=c[s],!i(t[u],o[u],a))return!1;return typeof t==typeof o}(t,o,a))}}))),Us=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:Ir};Us.prototype.compare=function(t,e){if(t.type!==e.type||!Ar(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=Mr(t),i=Mr(e);return r.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),i)}}return!1},Us.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},Us.prototype.compareLine=function(t,e,n,r){if(!Ar(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var a=this.compareCoord(i[n],o[n]);return this.direction||a?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},Us.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},Us.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},Us.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every((function(t){return this.some((function(e){return i.compareLine(t,e,1,!0)}))}),r)}return!1},Us.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Us.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Us.prototype.removePseudo=function(t){return t};var qs=Us,Vs=mt((function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(i,a),this._expandCluster(a,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Gs=mt((function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var a=new Array(l),s=0,u=0;u<l;u++)a[u]=0;for(var c=0;c<n;c++){var l=this.dataset[c].length;if(o===this.assignments[c]){for(u=0;u<l;u++)a[u]+=this.dataset[c][u];s++}}if(s>0){for(u=0;u<l;u++)a[u]/=s;this.centroids[o]=a}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,a=e.length,s=0;s<a;s++)(r=n(t,e[s]))<i&&(i=r,o=s);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)})),Ws=mt((function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)})),Hs=mt((function(t){function e(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}if(t.exports)var n=Ws;e.prototype.run=function(t,e,r,i){this._init(t,e,r,i);for(var o=0,a=this.dataset.length;o<a;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var s=this.clusters.length-1;this._orderedList.push(o);var u=new n(null,null,"asc"),c=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,c,u),this._expandCluster(s,u))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var a=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,a,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Ks=mt((function(t){t.exports&&(t.exports={DBSCAN:Vs,KMEANS:Gs,OPTICS:Hs,PriorityQueue:Ws})})),Xs=(Ks.DBSCAN,Ks.KMEANS,Ks.OPTICS,Ks.PriorityQueue,function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var a=(t[o]||0)-(e[o]||0);i+=a*a}return n?Math.sqrt(i):i}),Ys=Xs,Zs=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},$s=Xs,Js=function(t,e){for(var n={},r=[],i=e<<2,o=t.length,a=t[0].length>0;r.length<e&&i-- >0;){var s=t[Math.floor(Math.random()*o)],u=a?s.join("_"):""+s;n[u]||(n[u]=!0,r.push(s))}if(r.length<e)throw new Error("Error initializating clusters");return r},Qs=function(t,e){var n=t[0].length?Ys:Zs,r=[],i=t.length,o=t[0].length>0,a=t[Math.floor(Math.random()*i)];for(o&&a.join("_"),r.push(a);r.length<e;){for(var s=[],u=r.length,c=0,l=[],f=0;f<i;f++){for(var h=1/0,p=0;p<u;p++){var d=n(t[f],r[p]);d<=h&&(h=d)}s[f]=h}for(var y=0;y<i;y++)c+=s[y];for(var v=0;v<i;v++)l[v]={i:v,v:t[v],pr:s[v]/c,cs:0};l.sort((function(t,e){return t.pr-e.pr})),l[0].cs=l[0].pr;for(var g=1;g<i;g++)l[g].cs=l[g-1].cs+l[g].pr;for(var m=Math.random(),b=0;b<i-1&&l[b++].cs<m;);r.push(l[b-1].v)}return r},tu=1e4,eu=function(t,e,n,r){var i=[],o=[],a=[],s=[],u=!1,c=r||tu,l=t.length,f=t[0].length,h=f>0,p=[];if(n)i="kmrand"==n?Js(t,e):"kmpp"==n?Qs(t,e):n;else for(var d={};i.length<e;){var y=Math.floor(Math.random()*l);d[y]||(d[y]=!0,i.push(t[y]))}do{Rr(e,0,p);for(var v=0;v<l;v++){for(var g=1/0,m=0,b=0;b<e;b++)(s=h?$s(t[v],i[b]):Math.abs(t[v]-i[b]))<=g&&(g=s,m=b);a[v]=m,p[m]++}for(var _=[],x=(o=[],0);x<e;x++)_[x]=h?Rr(f,0,_[x]):0,o[x]=i[x];if(h){for(var w=0;w<e;w++)i[w]=[];for(var E=0;E<l;E++)for(var S=_[a[E]],k=t[E],O=0;O<f;O++)S[O]+=k[O];u=!0;for(var C=0;C<e;C++){for(var P=i[C],T=_[C],M=o[C],A=p[C],I=0;I<f;I++)P[I]=T[I]/A||0;if(u)for(var j=0;j<f;j++)if(M[j]!=P[j]){u=!1;break}}}else{for(var R=0;R<l;R++)_[a[R]]+=t[R];for(var D=0;D<e;D++)i[D]=_[D]/p[D]||0;u=!0;for(var N=0;N<e;N++)if(o[N]!=i[N]){u=!1;break}}u=u||--c<=0}while(!u);return{it:tu-c,k:e,idxs:a,centroids:i}},nu={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||nu.heuristics.manhattan,o=r.closest||!1,a=new Fr((function(t){return t.f})),s=e;for(e.h=i(e,n),a.push(e);a.size()>0;){var u=a.pop();if(u===n)return Nr(u);u.closed=!0;for(var c=t.neighbors(u),l=0,f=c.length;l<f;++l){var h=c[l];if(!h.closed&&!h.isWall()){var p=u.g+h.getCost(u),d=h.visited;(!d||p<h.g)&&(h.visited=!0,h.parent=u,h.h=h.h||i(h,n),h.g=p,h.f=h.g+h.h,t.markDirty(h),o&&(h.h<s.h||h.h===s.h&&h.g<s.g)&&(s=h),d?a.rescoreElement(h):a.push(h))}}}return o?Nr(s):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Lr.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)nu.cleanNode(this.nodes[t])},Lr.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)nu.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Lr.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Lr.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Lr.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,a=0,s=o.length;a<s;a++){for(t=[],n=0,r=(e=o[a]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},zr.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},zr.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},zr.prototype.isWall=function(){return 0===this.weight},Fr.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,a=o-1,s=null;if(a<e){var u=this.content[a];(i=this.scoreFunction(u))<r&&(s=a)}if(o<e){var c=this.content[o];this.scoreFunction(c)<(null===s?r:i)&&(s=o)}if(null===s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}}};var ru=function(t){return function(){return t}};qr.prototype={constructor:qr,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Hr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Gr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Wr(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Wr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Gr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Hr(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Gr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Wr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Gr(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Wr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Gr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Wr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var iu,ou,au,su,uu,cu=[],lu=[],fu=1e-6,hu=1e-12;li.prototype={constructor:li,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Qr(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,u=-1,c=e[i[o-1]],l=c.left===s?c.right:c.left;++u<o;)a=l,l=(c=e[i[u]]).left===s?c.right:c.left,a&&l&&r<a.index&&r<l.index&&ui(s,a,l)<0&&t.push([s.data,a.data,l.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],f=u*u+c*c;f<l&&(l=f,a=s.index)}}))}while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}};var pu=function(){function t(t){return new li(t.map((function(r,i){var o=[Math.round(e(r,i,t)/fu)*fu,Math.round(n(r,i,t)/fu)*fu];return o.index=i,o.data=r,o})),r)}var e=Br,n=Ur,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:ru(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:ru(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},du=Object.freeze({randomPosition:gi,randomPoint:mi,randomPolygon:bi,randomLineString:_i}),yu=Object.freeze({getCluster:wi,clusterEach:Ei,clusterReduce:Si,createBins:ki,applyFilter:Oi,propertiesContainsFilter:Ci,filterProperties:Pi});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var vu=function(){};vu.prototype.interfaces_=function(){return[]},vu.prototype.getClass=function(){return vu},vu.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var gu=function(){},mu=function(){},bu={MAX_VALUE:{configurable:!0}};mu.isNaN=function(t){return Number.isNaN(t)},mu.doubleToLongBits=function(t){return t},mu.longBitsToDouble=function(t){return t},mu.isInfinite=function(t){return!Number.isFinite(t)},bu.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(mu,bu);var _u=function(){},xu=function(){},wu=function(){},Eu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Su={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Eu.prototype.setOrdinate=function(t,e){switch(t){case Eu.X:this.x=e;break;case Eu.Y:this.y=e;break;case Eu.Z:this.z=e;break;default:throw new gu("Invalid ordinate index: "+t)}},Eu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!vu.equalsWithTolerance(this.x,e.x,n)&&!!vu.equalsWithTolerance(this.y,e.y,n)}},Eu.prototype.getOrdinate=function(t){switch(t){case Eu.X:return this.x;case Eu.Y:return this.y;case Eu.Z:return this.z}throw new gu("Invalid ordinate index: "+t)},Eu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||mu.isNaN(this.z))&&mu.isNaN(t.z)},Eu.prototype.equals=function(t){return t instanceof Eu&&this.equals2D(t)},Eu.prototype.equalInZ=function(t,e){return vu.equalsWithTolerance(this.z,t.z,e)},Eu.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},Eu.prototype.clone=function(){},Eu.prototype.copy=function(){return new Eu(this)},Eu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Eu.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},Eu.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},Eu.prototype.hashCode=function(){var t=17;return 37*(t=37*t+Eu.hashCode(this.x))+Eu.hashCode(this.y)},Eu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},Eu.prototype.interfaces_=function(){return[_u,xu,Ti]},Eu.prototype.getClass=function(){return Eu},Eu.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=mu.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},Su.DimensionalComparator.get=function(){return ku},Su.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Su.NULL_ORDINATE.get=function(){return mu.NaN},Su.X.get=function(){return 0},Su.Y.get=function(){return 1},Su.Z.get=function(){return 2},Object.defineProperties(Eu,Su);var ku=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new gu("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};ku.prototype.compare=function(t,e){var n=t,r=e,i=ku.compare(n.x,r.x);if(0!==i)return i;var o=ku.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:ku.compare(n.z,r.z)},ku.prototype.interfaces_=function(){return[wu]},ku.prototype.getClass=function(){return ku},ku.compare=function(t,e){return t<e?-1:t>e?1:mu.isNaN(t)?mu.isNaN(e)?0:-1:mu.isNaN(e)?1:0};var Ou=function(){};Ou.prototype.create=function(){},Ou.prototype.interfaces_=function(){return[]},Ou.prototype.getClass=function(){return Ou};var Cu=function(){},Pu={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Cu.prototype.interfaces_=function(){return[]},Cu.prototype.getClass=function(){return Cu},Cu.toLocationSymbol=function(t){switch(t){case Cu.EXTERIOR:return"e";case Cu.BOUNDARY:return"b";case Cu.INTERIOR:return"i";case Cu.NONE:return"-"}throw new gu("Unknown location value: "+t)},Pu.INTERIOR.get=function(){return 0},Pu.BOUNDARY.get=function(){return 1},Pu.EXTERIOR.get=function(){return 2},Pu.NONE.get=function(){return-1},Object.defineProperties(Cu,Pu);var Tu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},Mu=function(){},Au={LOG_10:{configurable:!0}};Mu.prototype.interfaces_=function(){return[]},Mu.prototype.getClass=function(){return Mu},Mu.log10=function(t){var e=Math.log(t);return mu.isInfinite(e)||mu.isNaN(e)?e:e/Mu.LOG_10},Mu.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},Mu.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},Mu.wrap=function(t,e){return t<0?e- -t%e:t%e},Mu.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[0];return r>a&&(a=r),i>a&&(a=i),o>a&&(a=o),a}},Mu.average=function(t,e){return(t+e)/2},Au.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Mu,Au);var Iu=function(t){this.str=t};Iu.prototype.append=function(t){this.str+=t},Iu.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},Iu.prototype.toString=function(t){return this.str};var ju=function(t){this.value=t};ju.prototype.intValue=function(){return this.value},ju.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},ju.isNaN=function(t){return Number.isNaN(t)};var Ru=function(){};Ru.isWhitespace=function(t){return t<=32&&t>=0||127===t},Ru.toUpperCase=function(t){return t.toUpperCase()};var Du=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0]));else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}},Nu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Du.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},Du.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=Du.magnitude(n._hi),i=Du.TEN.pow(r);(n=n.divide(i)).gt(Du.TEN)?(n=n.divide(Du.TEN),r+=1):n.lt(Du.ONE)&&(n=n.multiply(Du.TEN),r-=1);for(var o=r+1,a=new Iu,s=Du.MAX_PRINT_DIGITS-1,u=0;u<=s;u++){t&&u===o&&a.append(".");var c=Math.trunc(n._hi);if(c<0)break;var l=!1,f=0;c>9?(l=!0,f="9"):f="0"+c,a.append(f),n=n.subtract(Du.valueOf(c)).multiply(Du.TEN),l&&n.selfAdd(Du.TEN);var h=!0,p=Du.magnitude(n._hi);if(p<0&&Math.abs(p)>=s-u&&(h=!1),!h)break}return e[0]=r,a.toString()},Du.prototype.sqr=function(){return this.multiply(this)},Du.prototype.doubleValue=function(){return this._hi+this._lo},Du.prototype.subtract=function(){if(arguments[0]instanceof Du){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},Du.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},Du.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Du.prototype.selfSubtract=function(){if(arguments[0]instanceof Du){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},Du.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Du.prototype.min=function(t){return this.le(t)?this:t},Du.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Du){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,u=null,c=null,l=null,f=null;return u=this._hi/n,f=(i=(c=Du.SPLIT*u)-(i=c-u))*(a=(f=Du.SPLIT*n)-(a=f-n))-(l=u*n)+i*(s=n-a)+(o=u-i)*a+o*s,f=u+(c=(this._hi-l-f+this._lo-u*r)/n),this._hi=f,this._lo=u-f+c,this}},Du.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Du.prototype.divide=function(){if(arguments[0]instanceof Du){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,a=null,s=null,u=null;return n=(o=this._hi/t._hi)-(e=(a=Du.SPLIT*o)-(e=a-o)),u=e*(r=(u=Du.SPLIT*t._hi)-(r=u-t._hi))-(s=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,a=(this._hi-s-u+this._lo-o*t._lo)/t._hi,new Du(u=o+a,o-u+a)}if("number"==typeof arguments[0]){var c=arguments[0];return mu.isNaN(c)?Du.createNaN():Du.copy(this).selfDivide(c,0)}},Du.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},Du.prototype.pow=function(t){if(0===t)return Du.valueOf(1);var e=new Du(this),n=Du.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},Du.prototype.ceil=function(){if(this.isNaN())return Du.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new Du(t,e)},Du.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},Du.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Du.prototype.setValue=function(){if(arguments[0]instanceof Du){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},Du.prototype.max=function(t){return this.ge(t)?this:t},Du.prototype.sqrt=function(){if(this.isZero())return Du.valueOf(0);if(this.isNegative())return Du.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=Du.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},Du.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Du){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,a=null,s=null;return o=(i=this._hi+e)-(a=i-this._hi),r=(s=(o=e-a+(this._hi-o))+this._lo)+(i-(n=i+s)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],c=arguments[1],l=null,f=null,h=null,p=null,d=null,y=null,v=null;p=this._hi+u,f=this._lo+c,d=p-(y=p-this._hi),h=f-(v=f-this._lo);var g=(l=p+(y=(d=u-y+(this._hi-d))+f))+(y=(h=c-v+(this._lo-h))+(y+(p-l))),m=y+(l-g);return this._hi=g,this._lo=m,this}},Du.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Du){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,u=null,c=null;i=(u=Du.SPLIT*this._hi)-this._hi,c=Du.SPLIT*n,i=u-i,o=this._hi-i,a=c-n;var l=(u=this._hi*n)+(c=i*(a=c-a)-u+i*(s=n-a)+o*a+o*s+(this._hi*r+this._lo*n)),f=c+(i=u-l);return this._hi=l,this._lo=f,this}},Du.prototype.selfSqr=function(){return this.selfMultiply(this)},Du.prototype.floor=function(){if(this.isNaN())return Du.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new Du(t,e)},Du.prototype.negate=function(){return this.isNaN()?this:new Du(-this._hi,-this._lo)},Du.prototype.clone=function(){},Du.prototype.multiply=function(){if(arguments[0]instanceof Du){var t=arguments[0];return t.isNaN()?Du.createNaN():Du.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return mu.isNaN(e)?Du.createNaN():Du.copy(this).selfMultiply(e,0)}},Du.prototype.isNaN=function(){return mu.isNaN(this._hi)},Du.prototype.intValue=function(){return Math.trunc(this._hi)},Du.prototype.toString=function(){var t=Du.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},Du.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+Du.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+Du.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},Du.prototype.reciprocal=function(){var t=null,e=null,n=null,r=null,i=null,o=null,a=null,s=null;e=(i=1/this._hi)-(t=(o=Du.SPLIT*i)-(t=o-i)),n=(s=Du.SPLIT*this._hi)-this._hi;var u=i+(o=(1-(a=i*this._hi)-(s=t*(n=s-n)-a+t*(r=this._hi-n)+e*n+e*r)-i*this._lo)/this._hi);return new Du(u,i-u+o)},Du.prototype.toSciNotation=function(){if(this.isZero())return Du.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=Du.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},Du.prototype.abs=function(){return this.isNaN()?Du.NaN:this.isNegative()?this.negate():new Du(this)},Du.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Du.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},Du.prototype.add=function(){if(arguments[0]instanceof Du){var t=arguments[0];return Du.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Du.copy(this).selfAdd(e)}},Du.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof Du){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},Du.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},Du.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Du.prototype.trunc=function(){return this.isNaN()?Du.NaN:this.isPositive()?this.floor():this.ceil()},Du.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Du.prototype.interfaces_=function(){return[Ti,_u,xu]},Du.prototype.getClass=function(){return Du},Du.sqr=function(t){return Du.valueOf(t).selfMultiply(t)},Du.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return Du.parse(t)}if("number"==typeof arguments[0])return new Du(arguments[0])},Du.sqrt=function(t){return Du.valueOf(t).sqrt()},Du.parse=function(t){for(var e=0,n=t.length;Ru.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new Du,a=0,s=0,u=0;!(e>=n);){var c=t.charAt(e);if(e++,Ru.isDigit(c)){var l=c-"0";o.selfMultiply(Du.TEN),o.selfAdd(l),a++}else{if("."!==c){if("e"===c||"E"===c){var f=t.substring(e);try{u=ju.parseInt(f)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+f+" in string "+t):e}break}throw new Error("Unexpected character '"+c+"' at position "+e+" in string "+t)}s=a}}var h=o,p=a-s-u;if(0===p)h=o;else if(p>0){var d=Du.TEN.pow(p);h=o.divide(d)}else if(p<0){var y=Du.TEN.pow(-p);h=o.multiply(y)}return r?h.negate():h},Du.createNaN=function(){return new Du(mu.NaN,mu.NaN)},Du.copy=function(t){return new Du(t)},Du.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},Du.stringOfChar=function(t,e){for(var n=new Iu,r=0;r<e;r++)n.append(t);return n.toString()},Nu.PI.get=function(){return new Du(3.141592653589793,12246467991473532e-32)},Nu.TWO_PI.get=function(){return new Du(6.283185307179586,24492935982947064e-32)},Nu.PI_2.get=function(){return new Du(1.5707963267948966,6123233995736766e-32)},Nu.E.get=function(){return new Du(2.718281828459045,14456468917292502e-32)},Nu.NaN.get=function(){return new Du(mu.NaN,mu.NaN)},Nu.EPS.get=function(){return 123259516440783e-46},Nu.SPLIT.get=function(){return 134217729},Nu.MAX_PRINT_DIGITS.get=function(){return 32},Nu.TEN.get=function(){return Du.valueOf(10)},Nu.ONE.get=function(){return Du.valueOf(1)},Nu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Nu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Du,Nu);var Lu=function(){},zu={DP_SAFE_EPSILON:{configurable:!0}};Lu.prototype.interfaces_=function(){return[]},Lu.prototype.getClass=function(){return Lu},Lu.orientationIndex=function(t,e,n){var r=Lu.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=Du.valueOf(e.x).selfAdd(-t.x),o=Du.valueOf(e.y).selfAdd(-t.y),a=Du.valueOf(n.x).selfAdd(-e.x),s=Du.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},Lu.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},Lu.intersection=function(t,e,n,r){var i=Du.valueOf(r.y).selfSubtract(n.y).selfMultiply(Du.valueOf(e.x).selfSubtract(t.x)),o=Du.valueOf(r.x).selfSubtract(n.x).selfMultiply(Du.valueOf(e.y).selfSubtract(t.y)),a=i.subtract(o),s=Du.valueOf(r.x).selfSubtract(n.x).selfMultiply(Du.valueOf(t.y).selfSubtract(n.y)),u=Du.valueOf(r.y).selfSubtract(n.y).selfMultiply(Du.valueOf(t.x).selfSubtract(n.x)),c=s.subtract(u).selfDivide(a).doubleValue(),l=Du.valueOf(t.x).selfAdd(Du.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),f=Du.valueOf(e.x).selfSubtract(t.x).selfMultiply(Du.valueOf(t.y).selfSubtract(n.y)),h=Du.valueOf(e.y).selfSubtract(t.y).selfMultiply(Du.valueOf(t.x).selfSubtract(n.x)),p=f.subtract(h).selfDivide(a).doubleValue(),d=Du.valueOf(n.y).selfAdd(Du.valueOf(r.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new Eu(l,d)},Lu.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=i-o;if(i>0){if(o<=0)return Lu.signum(a);r=i+o}else{if(!(i<0))return Lu.signum(a);if(o>=0)return Lu.signum(a);r=-i-o}var s=Lu.DP_SAFE_EPSILON*r;return a>=s||-a>=s?Lu.signum(a):2},Lu.signum=function(t){return t>0?1:t<0?-1:0},zu.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Lu,zu);var Fu=function(){},Bu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Bu.X.get=function(){return 0},Bu.Y.get=function(){return 1},Bu.Z.get=function(){return 2},Bu.M.get=function(){return 3},Fu.prototype.setOrdinate=function(t,e,n){},Fu.prototype.size=function(){},Fu.prototype.getOrdinate=function(t,e){},Fu.prototype.getCoordinate=function(){},Fu.prototype.getCoordinateCopy=function(t){},Fu.prototype.getDimension=function(){},Fu.prototype.getX=function(t){},Fu.prototype.clone=function(){},Fu.prototype.expandEnvelope=function(t){},Fu.prototype.copy=function(){},Fu.prototype.getY=function(t){},Fu.prototype.toCoordinateArray=function(){},Fu.prototype.interfaces_=function(){return[xu]},Fu.prototype.getClass=function(){return Fu},Object.defineProperties(Fu,Bu);var Uu=function(){},qu=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Uu),Vu=function(){};Vu.arraycopy=function(t,e,n,r,i){for(var o=0,a=e;a<e+i;a++)n[r+o]=t[a],o++},Vu.getProperty=function(t){return{"line.separator":"\n"}[t]};var Gu=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof Eu&&arguments[1]instanceof Eu){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var u=arguments[0],c=arguments[1],l=arguments[2];this.x=u,this.y=c,this.w=l}else if(4===arguments.length){var f=arguments[0],h=arguments[1],p=arguments[2],d=arguments[3],y=f.y-h.y,v=h.x-f.x,g=f.x*h.y-h.x*f.y,m=p.y-d.y,b=d.x-p.x,_=p.x*d.y-d.x*p.y;this.x=v*_-b*g,this.y=m*g-y*_,this.w=y*b-m*v}};Gu.prototype.getY=function(){var t=this.y/this.w;if(mu.isNaN(t)||mu.isInfinite(t))throw new qu;return t},Gu.prototype.getX=function(){var t=this.x/this.w;if(mu.isNaN(t)||mu.isInfinite(t))throw new qu;return t},Gu.prototype.getCoordinate=function(){var t=new Eu;return t.x=this.getX(),t.y=this.getY(),t},Gu.prototype.interfaces_=function(){return[]},Gu.prototype.getClass=function(){return Gu},Gu.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,s=n.y-r.y,u=r.x-n.x,c=n.x*r.y-r.x*n.y,l=i*u-s*o,f=(o*c-u*a)/l,h=(s*a-i*c)/l;if(mu.isNaN(f)||mu.isInfinite(f)||mu.isNaN(h)||mu.isInfinite(h))throw new qu;return new Eu(f,h)};var Wu=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof Eu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],u=arguments[3];this.init(o,a,s,u)}},Hu={serialVersionUID:{configurable:!0}};Wu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Wu.prototype.equals=function(t){if(!(t instanceof Wu))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Wu.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Wu;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new Wu(e,r,n,i)},Wu.prototype.isNull=function(){return this._maxx<this._minx},Wu.prototype.getMaxX=function(){return this._maxx},Wu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof Eu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Wu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Wu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Wu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof Eu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Wu.prototype.getMinY=function(){return this._miny},Wu.prototype.getMinX=function(){return this._minx},Wu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof Eu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Wu){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Wu.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Wu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Wu.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Wu.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Wu.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Wu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Wu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Wu.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Wu.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Wu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Wu){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof Eu){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},Wu.prototype.centre=function(){return this.isNull()?null:new Eu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Wu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof Eu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Wu){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},Wu.prototype.getMaxY=function(){return this._maxy},Wu.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},Wu.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+Eu.hashCode(this._minx))+Eu.hashCode(this._maxx))+Eu.hashCode(this._miny))+Eu.hashCode(this._maxy)},Wu.prototype.interfaces_=function(){return[_u,Ti]},Wu.prototype.getClass=function(){return Wu},Wu.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),u=Math.max(o.x,a.x),c=Math.min(r.x,i.x),l=Math.max(r.x,i.x);return!(c>u)&&!(l<s)&&(s=Math.min(o.y,a.y),u=Math.max(o.y,a.y),c=Math.min(r.y,i.y),l=Math.max(r.y,i.y),!(c>u)&&!(l<s))}},Hu.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Wu,Hu);var Ku={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Xu=function(t){this.geometryFactory=t||new gl};Xu.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=Ku.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Ku.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Zu[n]&&(e=Zu[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Xu.prototype.write=function(t){return this.extractGeometry(t)},Xu.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Yu[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Yu[e].apply(this,[t])+")"};var Yu={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Yu.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Yu.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Yu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Yu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Yu.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Yu.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Yu.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Yu.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Zu={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Ku.spaces);return this.geometryFactory.createPoint(new Eu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Ku.trimParens,"$1"),r.push(Zu.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Ku.spaces),r.push(new Eu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Ku.spaces),r.push(new Eu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Ku.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Ku.trimParens,"$1"),r.push(Zu.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(Ku.parenComma),a=[],s=0,u=o.length;s<u;++s)e=o[s].replace(Ku.trimParens,"$1"),n=Zu.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Ku.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Ku.trimParens,"$1"),r.push(Zu.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},$u=function(t){this.parser=new Xu(t)};$u.prototype.write=function(t){return this.parser.write(t)},$u.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Ju=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Qu=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ju),tc=function(){};tc.prototype.interfaces_=function(){return[]},tc.prototype.getClass=function(){return tc},tc.shouldNeverReachHere=function(){if(0===arguments.length)tc.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Qu("Should never reach here"+(null!==t?": "+t:""))}},tc.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],tc.isTrue(t,null);else if(2===arguments.length&&(e=arguments[1],!(t=arguments[0])))throw null===e?new Qu:new Qu(e)},tc.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],tc.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new Qu("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var ec=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Eu,this._intPt[1]=new Eu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},nc={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};ec.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},ec.prototype.getTopologySummary=function(){var t=new Iu;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},ec.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},ec.prototype.getIntersectionNum=function(){return this._result},ec.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},ec.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},ec.prototype.setPrecisionModel=function(t){this._precisionModel=t},ec.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},ec.prototype.getIntersection=function(t){return this._intPt[t]},ec.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},ec.prototype.hasIntersection=function(){return this._result!==ec.NO_INTERSECTION},ec.prototype.getEdgeDistance=function(t,e){return ec.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},ec.prototype.isCollinear=function(){return this._result===ec.COLLINEAR_INTERSECTION},ec.prototype.toString=function(){return $u.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+$u.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},ec.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},ec.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},ec.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},ec.prototype.interfaces_=function(){return[]},ec.prototype.getClass=function(){return ec},ec.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=r>i?a:s)||t.equals(e)||(o=Math.max(a,s))}return tc.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},ec.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return tc.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},nc.DONT_INTERSECT.get=function(){return 0},nc.DO_INTERSECT.get=function(){return 1},nc.COLLINEAR.get=function(){return 2},nc.NO_INTERSECTION.get=function(){return 0},nc.POINT_INTERSECTION.get=function(){return 1},nc.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(ec,nc);var rc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Wu(this._inputLines[0][0],this._inputLines[0][1]),n=new Wu(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Wu.intersects(n,r,e)&&0===ac.orientationIndex(n,r,e)&&0===ac.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=Gu.intersection(t,n,r,i)}catch(a){if(!(a instanceof qu))throw a;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new Eu(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=Lu.intersection(t,e,n,r),a=this.isInSegmentEnvelopes(o);Vu.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&Vu.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new Eu(t),o=new Eu(e),a=new Eu(n),s=new Eu(r),u=new Eu;this.normalizeToEnvCentre(i,o,a,s,u);var c=this.safeHCoordinateIntersection(i,o,a,s);return c.x+=u.x,c.y+=u.y,c},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=Wu.intersects(e,n,r),a=Wu.intersects(e,n,i),s=Wu.intersects(r,i,e),u=Wu.intersects(r,i,n);return o&&a?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):s&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||a||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&s?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,c=n.x<r.x?n.x:r.x,l=n.y<r.y?n.y:r.y,f=n.x>r.x?n.x:r.x,h=n.y>r.y?n.y:r.y,p=((o>c?o:c)+(s<f?s:f))/2,d=((a>l?a:l)+(u<h?u:h))/2;i.x=p,i.y=d,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!Wu.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=ac.orientationIndex(e,n,r),a=ac.orientationIndex(e,n,i);if(o>0&&a>0||o<0&&a<0)return t.NO_INTERSECTION;var s=ac.orientationIndex(r,i,e),u=ac.orientationIndex(r,i,n);return s>0&&u>0||s<0&&u<0?t.NO_INTERSECTION:0===o&&0===a&&0===s&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===a||0===s||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new Eu(r):0===a?this._intPt[0]=new Eu(i):0===s?this._intPt[0]=new Eu(e):0===u&&(this._intPt[0]=new Eu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=ac.distancePointLine(t,n,r),a=ac.distancePointLine(e,n,r);return a<o&&(o=a,i=e),(a=ac.distancePointLine(n,t,e))<o&&(o=a,i=n),(a=ac.distancePointLine(r,t,e))<o&&(o=a,i=r),i},e}(ec),ic=function(){};ic.prototype.interfaces_=function(){return[]},ic.prototype.getClass=function(){return ic},ic.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,a=n.y-e.y;return ic.signOfDet2x2(r,i,o,a)},ic.signOfDet2x2=function(t,e,n,r){var i=null,o=null,a=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(a=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=a*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(a=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=a*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var oc=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};oc.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,a=e.x-this._p.x,s=e.y-this._p.y,u=ic.signOfDet2x2(i,o,a,s);if(0===u)return this._isPointOnSegment=!0,null;s<o&&(u=-u),u>0&&this._crossingCount++}},oc.prototype.isPointInPolygon=function(){return this.getLocation()!==Cu.EXTERIOR},oc.prototype.getLocation=function(){return this._isPointOnSegment?Cu.BOUNDARY:this._crossingCount%2==1?Cu.INTERIOR:Cu.EXTERIOR},oc.prototype.isOnSegment=function(){return this._isPointOnSegment},oc.prototype.interfaces_=function(){return[]},oc.prototype.getClass=function(){return oc},oc.locatePointInRing=function(){if(arguments[0]instanceof Eu&&Tu(arguments[1],Fu)){for(var t=arguments[1],e=new oc(arguments[0]),n=new Eu,r=new Eu,i=1;i<t.size();i++)if(t.getCoordinate(i,n),t.getCoordinate(i-1,r),e.countSegment(n,r),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof Eu&&arguments[1]instanceof Array){for(var o=arguments[1],a=new oc(arguments[0]),s=1;s<o.length;s++){var u=o[s],c=o[s-1];if(a.countSegment(u,c),a.isOnSegment())return a.getLocation()}return a.getLocation()}};var ac=function(){},sc={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ac.prototype.interfaces_=function(){return[]},ac.prototype.getClass=function(){return ac},ac.orientationIndex=function(t,e,n){return Lu.orientationIndex(t,e,n)},ac.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(Tu(arguments[0],Fu)){var a=arguments[0],s=a.size();if(s<3)return 0;var u=new Eu,c=new Eu,l=new Eu;a.getCoordinate(0,c),a.getCoordinate(1,l);var f=c.x;l.x-=f;for(var h=0,p=1;p<s-1;p++)u.y=c.y,c.x=l.x,c.y=l.y,a.getCoordinate(p+1,l),l.x-=f,h+=c.x*(u.y-l.y);return h/2}},ac.distanceLineLine=function(t,e,n,r){if(t.equals(e))return ac.distancePointLine(t,n,r);if(n.equals(r))return ac.distancePointLine(r,t,e);var i=!1;if(Wu.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=a/o;(u<0||u>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?Mu.min(ac.distancePointLine(t,n,r),ac.distancePointLine(e,n,r),ac.distancePointLine(n,t,e),ac.distancePointLine(r,t,e)):0},ac.isPointInRing=function(t,e){return ac.locatePointInRing(t,e)!==Cu.EXTERIOR},ac.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new Eu;t.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<e;a++){t.getCoordinate(a,r);var s=r.x,u=r.y,c=s-i,l=u-o;n+=Math.sqrt(c*c+l*l),i=s,o=u}return n},ac.isCCW=function(t){var e=t.length-1;if(e<3)throw new gu("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var a=r;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%e}while(t[s].equals2D(n)&&s!==r);var u=t[a],c=t[s];if(u.equals2D(n)||c.equals2D(n)||u.equals2D(c))return!1;var l=ac.computeOrientation(u,n,c);return 0===l?u.x>c.x:l>0},ac.locatePointInRing=function(t,e){return oc.locatePointInRing(t,e)},ac.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},ac.computeOrientation=function(t,e,n){return ac.orientationIndex(t,e,n)},ac.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new gu("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=ac.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var u=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),c=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/u;if(c<=0)return o.distance(a);if(c>=1)return o.distance(s);var l=((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/u;return Math.abs(l)*Math.sqrt(u)}},ac.isOnLine=function(t,e){for(var n=new rc,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},sc.CLOCKWISE.get=function(){return-1},sc.RIGHT.get=function(){return ac.CLOCKWISE},sc.COUNTERCLOCKWISE.get=function(){return 1},sc.LEFT.get=function(){return ac.COUNTERCLOCKWISE},sc.COLLINEAR.get=function(){return 0},sc.STRAIGHT.get=function(){return ac.COLLINEAR},Object.defineProperties(ac,sc);var uc=function(){};uc.prototype.filter=function(t){},uc.prototype.interfaces_=function(){return[]},uc.prototype.getClass=function(){return uc};var cc=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},lc={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};cc.prototype.isGeometryCollection=function(){return this.getSortIndex()===cc.SORTINDEX_GEOMETRYCOLLECTION},cc.prototype.getFactory=function(){return this._factory},cc.prototype.getGeometryN=function(t){return this},cc.prototype.getArea=function(){return 0},cc.prototype.isRectangle=function(){return!1},cc.prototype.equals=function(){if(arguments[0]instanceof cc){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof cc))return!1;var n=e;return this.equalsExact(n)}},cc.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},cc.prototype.geometryChanged=function(){this.apply(cc.geometryChangedFilter)},cc.prototype.geometryChangedAction=function(){this._envelope=null},cc.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},cc.prototype.getLength=function(){return 0},cc.prototype.getNumGeometries=function(){return 1},cc.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},cc.prototype.getUserData=function(){return this._userData},cc.prototype.getSRID=function(){return this._SRID},cc.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},cc.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===cc.SORTINDEX_GEOMETRYCOLLECTION)throw new gu("This method does not support GeometryCollection arguments")},cc.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},cc.prototype.norm=function(){var t=this.copy();return t.normalize(),t},cc.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},cc.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Wu(this._envelope)},cc.prototype.setSRID=function(t){this._SRID=t},cc.prototype.setUserData=function(t){this._userData=t},cc.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},cc.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},cc.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===cc.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===cc.SORTINDEX_MULTIPOINT||this.getSortIndex()===cc.SORTINDEX_MULTILINESTRING||this.getSortIndex()===cc.SORTINDEX_MULTIPOLYGON},cc.prototype.interfaces_=function(){return[xu,_u,Ti]},cc.prototype.getClass=function(){return cc},cc.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},cc.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},lc.serialVersionUID.get=function(){return 0x799ea46522854c00},lc.SORTINDEX_POINT.get=function(){return 0},lc.SORTINDEX_MULTIPOINT.get=function(){return 1},lc.SORTINDEX_LINESTRING.get=function(){return 2},lc.SORTINDEX_LINEARRING.get=function(){return 3},lc.SORTINDEX_MULTILINESTRING.get=function(){return 4},lc.SORTINDEX_POLYGON.get=function(){return 5},lc.SORTINDEX_MULTIPOLYGON.get=function(){return 6},lc.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},lc.geometryChangedFilter.get=function(){return fc},Object.defineProperties(cc,lc);var fc=function(){};fc.interfaces_=function(){return[uc]},fc.filter=function(t){t.geometryChangedAction()};var hc=function(){};hc.prototype.filter=function(t){},hc.prototype.interfaces_=function(){return[]},hc.prototype.getClass=function(){return hc};var pc=function(){},dc={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};pc.prototype.isInBoundary=function(t){},pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc},dc.Mod2BoundaryNodeRule.get=function(){return yc},dc.EndPointBoundaryNodeRule.get=function(){return vc},dc.MultiValentEndPointBoundaryNodeRule.get=function(){return gc},dc.MonoValentEndPointBoundaryNodeRule.get=function(){return mc},dc.MOD2_BOUNDARY_RULE.get=function(){return new yc},dc.ENDPOINT_BOUNDARY_RULE.get=function(){return new vc},dc.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new gc},dc.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new mc},dc.OGC_SFS_BOUNDARY_RULE.get=function(){return pc.MOD2_BOUNDARY_RULE},Object.defineProperties(pc,dc);var yc=function(){};yc.prototype.isInBoundary=function(t){return t%2==1},yc.prototype.interfaces_=function(){return[pc]},yc.prototype.getClass=function(){return yc};var vc=function(){};vc.prototype.isInBoundary=function(t){return t>0},vc.prototype.interfaces_=function(){return[pc]},vc.prototype.getClass=function(){return vc};var gc=function(){};gc.prototype.isInBoundary=function(t){return t>1},gc.prototype.interfaces_=function(){return[pc]},gc.prototype.getClass=function(){return gc};var mc=function(){};mc.prototype.isInBoundary=function(t){return 1===t},mc.prototype.interfaces_=function(){return[pc]},mc.prototype.getClass=function(){return mc};var bc=function(){};bc.prototype.add=function(){},bc.prototype.addAll=function(){},bc.prototype.isEmpty=function(){},bc.prototype.iterator=function(){},bc.prototype.size=function(){},bc.prototype.toArray=function(){},bc.prototype.remove=function(){};var _c=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),xc=function(){};xc.prototype.hasNext=function(){},xc.prototype.next=function(){},xc.prototype.remove=function(){};var wc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(bc);(Mi.prototype=new Error).name="NoSuchElementException";var Ec=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof bc&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,bc]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Sc(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new _c;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(wc),Sc=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Mi;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(xc),kc=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof Eu&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return this.add(o,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],u=arguments[1];if(arguments[2])for(var c=0;c<s.length;c++)this.add(s[c],u);else for(var l=s.length-1;l>=0;l--)this.add(s[l],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof Eu){var f=arguments[0],h=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(f>0&&this.get(f-1).equals2D(h))return null;if(f<p&&this.get(f).equals2D(h))return null}}t.prototype.add.call(this,f,h)}}else if(4===arguments.length){var d=arguments[0],y=arguments[1],v=arguments[2],g=arguments[3],m=1;v>g&&(m=-1);for(var b=v;b!==g;b+=m)this.add(d[b],y);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new Eu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Ec),Oc=function(){},Cc={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Cc.ForwardComparator.get=function(){return Pc},Cc.BidirectionalComparator.get=function(){return Tc},Cc.coordArrayType.get=function(){return new Array(0).fill(null)},Oc.prototype.interfaces_=function(){return[]},Oc.prototype.getClass=function(){return Oc},Oc.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},Oc.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Oc.indexOf(r,e)<0)return r}return null},Oc.scroll=function(t,e){var n=Oc.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);Vu.arraycopy(t,n,r,0,t.length-n),Vu.arraycopy(t,0,r,t.length-n,n),Vu.arraycopy(r,0,t,0,t.length)},Oc.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(0!==o.compare(r[a],i[a]))return!1;return!0}},Oc.intersection=function(t,e){for(var n=new kc,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Oc.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Oc.removeRepeatedPoints=function(t){return Oc.hasRepeatedPoints(t)?new kc(t,!1).toCoordinateArray():t},Oc.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},Oc.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},Oc.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new Eu(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],u=0;u<s;u++)o[a+u]=new Eu(r[i+u])},Oc.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Oc.envelope=function(t){for(var e=new Wu,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Oc.toCoordinateArray=function(t){return t.toArray(Oc.coordArrayType)},Oc.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Oc.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Oc.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},Oc.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Oc.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Oc.extract=function(t,e,n){e=Mu.clamp(e,0,t.length);var r=(n=Mu.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=e;a<=n;a++)i[o++]=t[a];return i},Object.defineProperties(Oc,Cc);var Pc=function(){};Pc.prototype.compare=function(t,e){return Oc.compare(t,e)},Pc.prototype.interfaces_=function(){return[wu]},Pc.prototype.getClass=function(){return Pc};var Tc=function(){};Tc.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Oc.compare(n,r);return Oc.isEqualReversed(n,r)?0:i},Tc.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Oc.increasingDirection(n),o=Oc.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,u=0;u<n.length;u++){var c=n[a].compareTo(r[s]);if(0!==c)return c;a+=i,s+=o}return 0},Tc.prototype.interfaces_=function(){return[wu]},Tc.prototype.getClass=function(){return Tc};var Mc=function(){};Mc.prototype.get=function(){},Mc.prototype.put=function(){},Mc.prototype.size=function(){},Mc.prototype.values=function(){},Mc.prototype.entrySet=function(){};var Ac=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Mc);(Ai.prototype=new Error).name="OperationNotSupported",(Ii.prototype=new bc).contains=function(){};var Ic=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof bc&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new jc(this)},e}(Ii),jc=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Mi;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new Ai},e}(xc),Rc=0;(zi.prototype=new Ac).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},zi.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Rc,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var a={key:t,left:null,right:null,value:e,parent:n,color:Rc,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},zi.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(Ri(t)===Ni(Ri(Ri(t)))){var e=Li(Ri(Ri(t)));1===ji(e)?(Di(Ri(t),Rc),Di(e,Rc),Di(Ri(Ri(t)),1),t=Ri(Ri(t))):(t===Li(Ri(t))&&(t=Ri(t),this.rotateLeft(t)),Di(Ri(t),Rc),Di(Ri(Ri(t)),1),this.rotateRight(Ri(Ri(t))))}else{var n=Ni(Ri(Ri(t)));1===ji(n)?(Di(Ri(t),Rc),Di(n,Rc),Di(Ri(Ri(t)),1),t=Ri(Ri(t))):(t===Ni(Ri(t))&&(t=Ri(t),this.rotateRight(t)),Di(Ri(t),Rc),Di(Ri(Ri(t)),1),this.rotateLeft(Ri(Ri(t))))}this.root_.color=Rc},zi.prototype.values=function(){var t=new Ec,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=zi.successor(e));)t.add(e.value);return t},zi.prototype.entrySet=function(){var t=new Ic,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=zi.successor(e));)t.add(e);return t},zi.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},zi.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},zi.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},zi.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},zi.prototype.size=function(){return this.size_};var Dc=function(){};Dc.prototype.interfaces_=function(){return[]},Dc.prototype.getClass=function(){return Dc},Fi.prototype=new Ii,(Bi.prototype=new Fi).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Bi.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Bi.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Bi.prototype.remove=function(t){throw new Ai},Bi.prototype.size=function(){return this.array_.length},Bi.prototype.isEmpty=function(){return 0===this.array_.length},Bi.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Bi.prototype.iterator=function(){return new Nc(this)};var Nc=function(t){this.treeSet_=t,this.position_=0};Nc.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Mi;return this.treeSet_.array_[this.position_++]},Nc.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Nc.prototype.remove=function(){throw new Ai};var Lc=function(){};Lc.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},Lc.asList=function(t){for(var e=new Ec,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var zc=function(){},Fc={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Fc.P.get=function(){return 0},Fc.L.get=function(){return 1},Fc.A.get=function(){return 2},Fc.FALSE.get=function(){return-1},Fc.TRUE.get=function(){return-2},Fc.DONTCARE.get=function(){return-3},Fc.SYM_FALSE.get=function(){return"F"},Fc.SYM_TRUE.get=function(){return"T"},Fc.SYM_DONTCARE.get=function(){return"*"},Fc.SYM_P.get=function(){return"0"},Fc.SYM_L.get=function(){return"1"},Fc.SYM_A.get=function(){return"2"},zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc},zc.toDimensionSymbol=function(t){switch(t){case zc.FALSE:return zc.SYM_FALSE;case zc.TRUE:return zc.SYM_TRUE;case zc.DONTCARE:return zc.SYM_DONTCARE;case zc.P:return zc.SYM_P;case zc.L:return zc.SYM_L;case zc.A:return zc.SYM_A}throw new gu("Unknown dimension value: "+t)},zc.toDimensionValue=function(t){switch(Ru.toUpperCase(t)){case zc.SYM_FALSE:return zc.FALSE;case zc.SYM_TRUE:return zc.TRUE;case zc.SYM_DONTCARE:return zc.DONTCARE;case zc.SYM_P:return zc.P;case zc.SYM_L:return zc.L;case zc.SYM_A:return zc.A}throw new gu("Unknown dimension symbol: "+t)},Object.defineProperties(zc,Fc);var Bc=function(){};Bc.prototype.filter=function(t){},Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc};var Uc=function(){};Uc.prototype.filter=function(t,e){},Uc.prototype.isDone=function(){},Uc.prototype.isGeometryChanged=function(){},Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc};var qc=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new gu("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Wu,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Lc.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=zc.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=zc.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Bi(Lc.asList(this._geometries)),n=new Bi(Lc.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],o=this.getNumGeometries(),a=i.getNumGeometries(),s=0;s<o&&s<a;){var u=this.getGeometryN(s),c=i.getGeometryN(s),l=u.compareToSameClass(c,r);if(0!==l)return l;s++}return s<o?1:s<a?-1:0}},e.prototype.apply=function(){if(Tu(arguments[0],hc))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(Tu(arguments[0],Uc)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(Tu(arguments[0],Bc)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(Tu(arguments[0],uc)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),tc.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(cc),Vc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return cc.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?zc.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Gc(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Dc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(qc),Gc=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=pc.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Gc.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Gc.prototype.getBoundary=function(){return this._geom instanceof Yc?this.boundaryLineString(this._geom):this._geom instanceof Vc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Gc.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Gc.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Gc.prototype.computeBoundaryCoordinates=function(t){var e=new Ec;this._endpointMap=new zi;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return Oc.toCoordinateArray(e)},Gc.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Wc,this._endpointMap.put(t,e)),e.count++},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc},Gc.getBoundary=function(){return 1===arguments.length?new Gc(arguments[0]).getBoundary():2===arguments.length?new Gc(arguments[0],arguments[1]).getBoundary():void 0};var Wc=function(){this.count=null};Wc.prototype.interfaces_=function(){return[]},Wc.prototype.getClass=function(){return Wc};var Hc=function(){},Kc={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc},Hc.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Hc.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new function(){}(new function(){}(Hc.getStackTrace(r))),s=0;s<i;s++)try{o+=a.readLine()+Hc.NEWLINE}catch(t){if(!(t instanceof Ui))throw t;tc.shouldNeverReachHere()}return o}},Hc.split=function(t,e){for(var n=e.length,r=new Ec,i=""+t,o=i.indexOf(e);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),u=0;u<s.length;u++)s[u]=r.get(u);return s},Hc.toString=function(){if(1===arguments.length){var t=arguments[0];return Hc.SIMPLE_ORDINATE_FORMAT.format(t)}},Hc.spaces=function(t){return Hc.chars(" ",t)},Kc.NEWLINE.get=function(){return Vu.getProperty("line.separator")},Kc.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Hc,Kc);var Xc=function(){};Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc},Xc.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Xc.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,Fu.X)===t.getOrdinate(e-1,Fu.X)&&t.getOrdinate(0,Fu.Y)===t.getOrdinate(e-1,Fu.Y)},Xc.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var a=t.getOrdinate(i,o),s=e.getOrdinate(i,o);if(t.getOrdinate(i,o)!==e.getOrdinate(i,o)&&(!mu.isNaN(a)||!mu.isNaN(s)))return!1}return!0},Xc.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Xc.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Xc.copy(e,i-1,r,o,1);return r},Xc.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Xc.swap(t,r,e-r)},Xc.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Xc.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Xc.copyCoord(t,e+o,n,r+o)},Xc.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new Iu;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Hc.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Xc.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Xc.createClosedRing(t,e,4):e.getOrdinate(0,Fu.X)===e.getOrdinate(n-1,Fu.X)&&e.getOrdinate(0,Fu.Y)===e.getOrdinate(n-1,Fu.Y)?e:Xc.createClosedRing(t,e,n+1)},Xc.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Xc.copy(e,0,r,0,i);for(var o=i;o<n;o++)Xc.copy(e,0,r,o,1);return r};var Yc=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Wu:this._points.expandEnvelope(new Wu)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Xc.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?zc.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return ac.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Xc.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(Tu(arguments[0],hc))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(Tu(arguments[0],Uc)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(Tu(arguments[0],Bc)||Tu(arguments[0],uc))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Gc(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new gu("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Dc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(cc),Zc=function(){};Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var $c=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Wu;var t=new Wu;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return zc.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(Tu(arguments[0],hc)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Tu(arguments[0],Uc)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(Tu(arguments[0],Bc)||Tu(arguments[0],uc))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),tc.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Zc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(cc),Jc=function(){};Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc};var Qc=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new gu("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new gu("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(ac.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(ac.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),a=t.getY(0),s=1;s<=4;s++){var u=t.getX(s),c=t.getY(s);if(u!==o===(c!==a))return!1;o=u,a=c}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(r._holes[a],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Lc.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);Vu.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=Oc.minCoordinate(e.getCoordinates());Oc.scroll(r,i),Vu.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],ac.isCCW(e.getCoordinates())===n&&Oc.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],i=arguments[0],o=this._shell,a=i._shell,s=o.compareToSameClass(a,r);if(0!==s)return s;for(var u=this.getNumInteriorRing(),c=i.getNumInteriorRing(),l=0;l<u&&l<c;){var f=this.getInteriorRingN(l),h=i.getInteriorRingN(l),p=f.compareToSameClass(h,r);if(0!==p)return p;l++}return l<u?1:l<c?-1:0}},e.prototype.apply=function(t){if(Tu(t,hc)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(Tu(t,Uc)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(Tu(t,Bc))t.filter(this);else if(Tu(t,uc)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Jc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(cc),tl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return cc.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return zc.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Zc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(qc),el=function(t){function e(e,n){e instanceof Eu&&n instanceof gl&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return cc.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return zc.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Xc.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new gu("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new gu("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Yc),nl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return cc.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Ec,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Jc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(qc),rl=function(t){this._factory=t||null,this._isUserDataCopied=!1},il={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};rl.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},rl.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},rl.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof qc?this.editGeometryCollection(t,e):t instanceof Qc?this.editPolygon(t,e):t instanceof $c||t instanceof Yc?e.edit(t,this._factory):(tc.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},rl.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new Ec,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===tl?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Vc?this._factory.createMultiLineString(r.toArray([])):n.getClass()===nl?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},rl.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new Ec,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||i.add(a)}return this._factory.createPolygon(r,i.toArray([]))},rl.prototype.interfaces_=function(){return[]},rl.prototype.getClass=function(){return rl},rl.GeometryEditorOperation=function(){},il.NoOpGeometryOperation.get=function(){return ol},il.CoordinateOperation.get=function(){return al},il.CoordinateSequenceOperation.get=function(){return sl},Object.defineProperties(rl,il);var ol=function(){};ol.prototype.edit=function(t,e){return t},ol.prototype.interfaces_=function(){return[rl.GeometryEditorOperation]},ol.prototype.getClass=function(){return ol};var al=function(){};al.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof el?e.createLinearRing(n):t instanceof Yc?e.createLineString(n):t instanceof $c?n.length>0?e.createPoint(n[0]):e.createPoint():t},al.prototype.interfaces_=function(){return[rl.GeometryEditorOperation]},al.prototype.getClass=function(){return al};var sl=function(){};sl.prototype.edit=function(t,e){return t instanceof el?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Yc?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof $c?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},sl.prototype.interfaces_=function(){return[rl.GeometryEditorOperation]},sl.prototype.getClass=function(){return sl};var ul=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new Eu}else if(Tu(arguments[0],Fu)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var u=0;u<a;u++)this._coordinates[u]=new Eu}},cl={serialVersionUID:{configurable:!0}};ul.prototype.setOrdinate=function(t,e,n){switch(e){case Fu.X:this._coordinates[t].x=n;break;case Fu.Y:this._coordinates[t].y=n;break;case Fu.Z:this._coordinates[t].z=n;break;default:throw new gu("invalid ordinateIndex")}},ul.prototype.size=function(){return this._coordinates.length},ul.prototype.getOrdinate=function(t,e){switch(e){case Fu.X:return this._coordinates[t].x;case Fu.Y:return this._coordinates[t].y;case Fu.Z:return this._coordinates[t].z}return mu.NaN},ul.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},ul.prototype.getCoordinateCopy=function(t){return new Eu(this._coordinates[t])},ul.prototype.getDimension=function(){return this._dimension},ul.prototype.getX=function(t){return this._coordinates[t].x},ul.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new ul(t,this._dimension)},ul.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},ul.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new ul(t,this._dimension)},ul.prototype.toString=function(){if(this._coordinates.length>0){var t=new Iu(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},ul.prototype.getY=function(t){return this._coordinates[t].y},ul.prototype.toCoordinateArray=function(){return this._coordinates},ul.prototype.interfaces_=function(){return[Fu,Ti]},ul.prototype.getClass=function(){return ul},cl.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ul,cl);var ll=function(){},fl={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ll.prototype.readResolve=function(){return ll.instance()},ll.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new ul(arguments[0]);if(Tu(arguments[0],Fu))return new ul(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new ul(t):new ul(t,e)}},ll.prototype.interfaces_=function(){return[Ou,Ti]},ll.prototype.getClass=function(){return ll},ll.instance=function(){return ll.instanceObject},fl.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},fl.instanceObject.get=function(){return new ll},Object.defineProperties(ll,fl);var hl=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Ec,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Ic;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(Mc),pl=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof yl){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},dl={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};pl.prototype.equals=function(t){if(!(t instanceof pl))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},pl.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new ju(n).compareTo(new ju(r))},pl.prototype.getScale=function(){return this._scale},pl.prototype.isFloating=function(){return this._modelType===pl.FLOATING||this._modelType===pl.FLOATING_SINGLE},pl.prototype.getType=function(){return this._modelType},pl.prototype.toString=function(){var t="UNKNOWN";return this._modelType===pl.FLOATING?t="Floating":this._modelType===pl.FLOATING_SINGLE?t="Floating-Single":this._modelType===pl.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},pl.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return mu.isNaN(t)||this._modelType===pl.FLOATING_SINGLE?t:this._modelType===pl.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof Eu){var e=arguments[0];if(this._modelType===pl.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},pl.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===pl.FLOATING?t=16:this._modelType===pl.FLOATING_SINGLE?t=6:this._modelType===pl.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},pl.prototype.setScale=function(t){this._scale=Math.abs(t)},pl.prototype.interfaces_=function(){return[Ti,_u]},pl.prototype.getClass=function(){return pl},pl.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},dl.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},dl.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(pl,dl);var yl=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},vl={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};yl.prototype.readResolve=function(){return yl.nameToTypeMap.get(this._name)},yl.prototype.toString=function(){return this._name},yl.prototype.interfaces_=function(){return[Ti]},yl.prototype.getClass=function(){return yl},vl.serialVersionUID.get=function(){return-552860263173159e4},vl.nameToTypeMap.get=function(){return new hl},Object.defineProperties(yl,vl),pl.Type=yl,pl.FIXED=new yl("FIXED"),pl.FLOATING=new yl("FLOATING"),pl.FLOATING_SINGLE=new yl("FLOATING SINGLE");var gl=function t(){this._precisionModel=new pl,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Tu(arguments[0],Ou)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof pl&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},ml={serialVersionUID:{configurable:!0}};gl.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new Eu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new Eu(t.getMinX(),t.getMinY()),new Eu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new Eu(t.getMinX(),t.getMinY()),new Eu(t.getMinX(),t.getMaxY()),new Eu(t.getMaxX(),t.getMaxY()),new Eu(t.getMaxX(),t.getMinY()),new Eu(t.getMinX(),t.getMinY())]),null)},gl.prototype.createLineString=function(t){return t?t instanceof Array?new Yc(this.getCoordinateSequenceFactory().create(t),this):Tu(t,Fu)?new Yc(t,this):void 0:new Yc(this.getCoordinateSequenceFactory().create([]),this)},gl.prototype.createMultiLineString=function(){return 0===arguments.length?new Vc(null,this):1===arguments.length?new Vc(arguments[0],this):void 0},gl.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(gl.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof Qc)return this.createMultiPolygon(gl.toPolygonArray(t));if(s instanceof Yc)return this.createMultiLineString(gl.toLineStringArray(t));if(s instanceof $c)return this.createMultiPoint(gl.toPointArray(t));tc.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},gl.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},gl.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Eu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Tu(arguments[0],Fu))return new $c(arguments[0],this)}},gl.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},gl.prototype.createPolygon=function(){if(0===arguments.length)return new Qc(null,null,this);if(1===arguments.length){if(Tu(arguments[0],Fu)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof el){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new Qc(arguments[0],arguments[1],this)},gl.prototype.getSRID=function(){return this._SRID},gl.prototype.createGeometryCollection=function(){return 0===arguments.length?new qc(null,this):1===arguments.length?new qc(arguments[0],this):void 0},gl.prototype.createGeometry=function(t){return new rl(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},gl.prototype.getPrecisionModel=function(){return this._precisionModel},gl.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Tu(arguments[0],Fu))return new el(arguments[0],this)}},gl.prototype.createMultiPolygon=function(){return 0===arguments.length?new nl(null,this):1===arguments.length?new nl(arguments[0],this):void 0},gl.prototype.createMultiPoint=function(){if(0===arguments.length)return new tl(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new tl(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Tu(arguments[0],Fu)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),r=0;r<e.size();r++){var i=this.getCoordinateSequenceFactory().create(1,e.getDimension());Xc.copy(e,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},gl.prototype.interfaces_=function(){return[Ti]},gl.prototype.getClass=function(){return gl},gl.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gl.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},gl.getDefaultCoordinateSequenceFactory=function(){return ll.instance()},gl.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gl.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gl.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gl.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gl.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gl.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},gl.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},ml.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(gl,ml);var bl=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],_l=function(t){this.geometryFactory=t||new gl};_l.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!xl[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==bl.indexOf(n)?xl[n].apply(this,[e.coordinates]):"GeometryCollection"===n?xl[n].apply(this,[e.geometries]):xl[n].apply(this,[e])},_l.prototype.write=function(t){var e=t.getGeometryType();if(!wl[e])throw new Error("Geometry is not supported");return wl[e].apply(this,[t])};var xl={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!xl[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=xl.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new Eu(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new Eu(t[0],t[1]),new Eu(t[2],t[1]),new Eu(t[2],t[3]),new Eu(t[0],t[3]),new Eu(t[0],t[1])])},Point:function(t){var e=new Eu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(xl.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=xl.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(xl.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=xl.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],a=xl.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(xl.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},wl={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:wl.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=wl.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(wl.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=wl.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=wl.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=wl.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=wl.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(wl[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},El=function(t){this.geometryFactory=t||new gl,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new _l(this.geometryFactory)};El.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===pl.FIXED&&this.reducePrecision(e),e},El.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Sl=function(){this.parser=new _l(this.geometryFactory)};Sl.prototype.write=function(t){return this.parser.write(t)};var kl=function(){},Ol={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};kl.prototype.interfaces_=function(){return[]},kl.prototype.getClass=function(){return kl},kl.opposite=function(t){return t===kl.LEFT?kl.RIGHT:t===kl.RIGHT?kl.LEFT:t},Ol.ON.get=function(){return 0},Ol.LEFT.get=function(){return 1},Ol.RIGHT.get=function(){return 2},Object.defineProperties(kl,Ol),(qi.prototype=new Error).name="EmptyStackException",(Vi.prototype=new wc).add=function(t){return this.array_.push(t),!0},Vi.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Vi.prototype.push=function(t){return this.array_.push(t),t},Vi.prototype.pop=function(t){if(0===this.array_.length)throw new qi;return this.array_.pop()},Vi.prototype.peek=function(){if(0===this.array_.length)throw new qi;return this.array_[this.array_.length-1]},Vi.prototype.empty=function(){return 0===this.array_.length},Vi.prototype.isEmpty=function(){return this.empty()},Vi.prototype.search=function(t){return this.array_.indexOf(t)},Vi.prototype.size=function(){return this.array_.length},Vi.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Cl=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Cl.prototype.getCoordinate=function(){return this._minCoord},Cl.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Cl.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();tc.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=ac.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===ac.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===ac.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Cl.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=kl.LEFT;return n[e].y<n[e+1].y&&(r=kl.RIGHT),r},Cl.prototype.getEdge=function(){return this._orientedDe},Cl.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Cl.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Cl.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}tc.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===kl.LEFT&&(this._orientedDe=this._minDe.getSym())},Cl.prototype.interfaces_=function(){return[]},Cl.prototype.getClass=function(){return Cl};var Pl=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new Eu(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Ju),Tl=function(){this.array_=[]};Tl.prototype.addLast=function(t){this.array_.push(t)},Tl.prototype.removeFirst=function(){return this.array_.shift()},Tl.prototype.isEmpty=function(){return 0===this.array_.length};var Ml=function(){this._finder=null,this._dirEdgeList=new Ec,this._nodes=new Ec,this._rightMostCoord=null,this._env=null,this._finder=new Cl};Ml.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Ml.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ml.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Pl("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Ml.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(kl.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Ml.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ml.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(kl.RIGHT)>=1&&e.getDepth(kl.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Ml.prototype.computeDepths=function(t){var e=new Ic,n=new Tl,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},Ml.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Ml.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Wu,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Ml.prototype.addReachable=function(t){var e=new Vi;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Ml.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(kl.LEFT,t.getDepth(kl.RIGHT)),e.setDepth(kl.RIGHT,t.getDepth(kl.LEFT))},Ml.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},Ml.prototype.getNodes=function(){return this._nodes},Ml.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ml.prototype.interfaces_=function(){return[_u]},Ml.prototype.getClass=function(){return Ml};var Al=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[kl.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[kl.ON]=o,this.location[kl.LEFT]=a,this.location[kl.RIGHT]=s}};Al.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Al.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Cu.NONE)return!1;return!0},Al.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Cu.NONE&&(this.location[e]=t)},Al.prototype.isLine=function(){return 1===this.location.length},Al.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[kl.ON]=this.location[kl.ON],e[kl.LEFT]=Cu.NONE,e[kl.RIGHT]=Cu.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===Cu.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Al.prototype.getLocations=function(){return this.location},Al.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[kl.LEFT];this.location[kl.LEFT]=this.location[kl.RIGHT],this.location[kl.RIGHT]=t},Al.prototype.toString=function(){var t=new Iu;return this.location.length>1&&t.append(Cu.toLocationSymbol(this.location[kl.LEFT])),t.append(Cu.toLocationSymbol(this.location[kl.ON])),this.location.length>1&&t.append(Cu.toLocationSymbol(this.location[kl.RIGHT])),t.toString()},Al.prototype.setLocations=function(t,e,n){this.location[kl.ON]=t,this.location[kl.LEFT]=e,this.location[kl.RIGHT]=n},Al.prototype.get=function(t){return t<this.location.length?this.location[t]:Cu.NONE},Al.prototype.isArea=function(){return this.location.length>1},Al.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Cu.NONE)return!0;return!1},Al.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(kl.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Al.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Cu.NONE)},Al.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Al.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Al.prototype.interfaces_=function(){return[]},Al.prototype.getClass=function(){return Al};var Il=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Al(e),this.elt[1]=new Al(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Al(n.elt[0]),this.elt[1]=new Al(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Al(Cu.NONE),this.elt[1]=new Al(Cu.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new Al(o,a,s),this.elt[1]=new Al(o,a,s)}else if(4===arguments.length){var u=arguments[0],c=arguments[1],l=arguments[2],f=arguments[3];this.elt[0]=new Al(Cu.NONE,Cu.NONE,Cu.NONE),this.elt[1]=new Al(Cu.NONE,Cu.NONE,Cu.NONE),this.elt[u].setLocations(c,l,f)}};Il.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Il.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Il.prototype.isNull=function(t){return this.elt[t].isNull()},Il.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Il.prototype.isLine=function(t){return this.elt[t].isLine()},Il.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Al(t.elt[e]):this.elt[e].merge(t.elt[e])},Il.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Il.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(kl.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Il.prototype.toString=function(){var t=new Iu;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Il.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Il.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Il.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(kl.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},Il.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Il.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Il.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Al(this.elt[t].location[0]))},Il.prototype.interfaces_=function(){return[]},Il.prototype.getClass=function(){return Il},Il.toLineLabel=function(t){for(var e=new Il(Cu.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var jl=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Ec,this._pts=new Ec,this._label=new Il(Cu.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Ec,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};jl.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=ac.isCCW(this._ring.getCoordinates())},jl.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},jl.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Pl("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Pl("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();tc.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},jl.prototype.getLinearRing=function(){return this._ring},jl.prototype.getCoordinate=function(t){return this._pts.get(t)},jl.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},jl.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},jl.prototype.isHole=function(){return this._isHole},jl.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},jl.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!ac.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},jl.prototype.addHole=function(t){this._holes.add(t)},jl.prototype.isShell=function(){return null===this._shell},jl.prototype.getLabel=function(){return this._label},jl.prototype.getEdges=function(){return this._edges},jl.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},jl.prototype.getShell=function(){return this._shell},jl.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,kl.RIGHT);if(n===Cu.NONE)return null;if(this._label.getLocation(e)===Cu.NONE)return this._label.setLocation(e,n),null}},jl.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},jl.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},jl.prototype.interfaces_=function(){return[]},jl.prototype.getClass=function(){return jl};var Rl=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(jl),Dl=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Ec,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Rl(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(jl),Nl=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Nl.prototype.setVisited=function(t){this._isVisited=t},Nl.prototype.setInResult=function(t){this._isInResult=t},Nl.prototype.isCovered=function(){return this._isCovered},Nl.prototype.isCoveredSet=function(){return this._isCoveredSet},Nl.prototype.setLabel=function(t){this._label=t},Nl.prototype.getLabel=function(){return this._label},Nl.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Nl.prototype.updateIM=function(t){tc.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Nl.prototype.isInResult=function(){return this._isInResult},Nl.prototype.isVisited=function(){return this._isVisited},Nl.prototype.interfaces_=function(){return[]},Nl.prototype.getClass=function(){return Nl};var Ll=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Il(0,Cu.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=Cu.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==Cu.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Il(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Il)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===Cu.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=Cu.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case Cu.BOUNDARY:n=Cu.INTERIOR;break;case Cu.INTERIOR:default:n=Cu.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Nl),zl=function(){this.nodeMap=new zi,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};zl.prototype.find=function(t){return this.nodeMap.get(t)},zl.prototype.addNode=function(){if(arguments[0]instanceof Eu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Ll){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},zl.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},zl.prototype.iterator=function(){return this.nodeMap.values().iterator()},zl.prototype.values=function(){return this.nodeMap.values()},zl.prototype.getBoundaryNodes=function(t){for(var e=new Ec,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===Cu.BOUNDARY&&e.add(r)}return e},zl.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},zl.prototype.interfaces_=function(){return[]},zl.prototype.getClass=function(){return zl};var Fl=function(){},Bl={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl},Fl.isNorthern=function(t){return t===Fl.NE||t===Fl.NW},Fl.isOpposite=function(t,e){return t!==e&&2===(t-e+4)%4},Fl.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Fl.isInHalfPlane=function(t,e){return e===Fl.SE?t===Fl.SE||t===Fl.SW:t===e||t===e+1},Fl.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new gu("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Fl.NE:Fl.SE:e>=0?Fl.NW:Fl.SW}if(arguments[0]instanceof Eu&&arguments[1]instanceof Eu){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new gu("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Fl.NE:Fl.SE:r.y>=n.y?Fl.NW:Fl.SW}},Bl.NE.get=function(){return 0},Bl.NW.get=function(){return 1},Bl.SW.get=function(){return 2},Bl.SE.get=function(){return 3},Object.defineProperties(Fl,Bl);var Ul=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this._edge=i,this.init(o,a),this._label=s}};Ul.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:ac.computeOrientation(t._p0,t._p1,this._p1)},Ul.prototype.getDy=function(){return this._dy},Ul.prototype.getCoordinate=function(){return this._p0},Ul.prototype.setNode=function(t){this._node=t},Ul.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Ul.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Ul.prototype.getDirectedCoordinate=function(){return this._p1},Ul.prototype.getDx=function(){return this._dx},Ul.prototype.getLabel=function(){return this._label},Ul.prototype.getEdge=function(){return this._edge},Ul.prototype.getQuadrant=function(){return this._quadrant},Ul.prototype.getNode=function(){return this._node},Ul.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Ul.prototype.computeLabel=function(t){},Ul.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Fl.quadrant(this._dx,this._dy),tc.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ul.prototype.interfaces_=function(){return[_u]},Ul.prototype.getClass=function(){return Ul};var ql=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Il(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Pl("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,kl.LEFT)===Cu.INTERIOR&&this._label.getLocation(e,kl.RIGHT)===Cu.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[kl.LEFT]+"/"+this._depth[kl.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Cu.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Cu.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===kl.LEFT&&(r=-1);var i=kl.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===Cu.EXTERIOR&&e===Cu.INTERIOR?1:t===Cu.INTERIOR&&e===Cu.EXTERIOR?-1:0},e}(Ul),Vl=function(){};Vl.prototype.createNode=function(t){return new Ll(t,null)},Vl.prototype.interfaces_=function(){return[]},Vl.prototype.getClass=function(){return Vl};var Gl=function(){if(this._edges=new Ec,this._nodes=null,this._edgeEndList=new Ec,0===arguments.length)this._nodes=new zl(new Vl);else if(1===arguments.length){var t=arguments[0];this._nodes=new zl(t)}};Gl.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Gl.prototype.find=function(t){return this._nodes.find(t)},Gl.prototype.addNode=function(){if(arguments[0]instanceof Ll){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof Eu){var e=arguments[0];return this._nodes.addNode(e)}},Gl.prototype.getNodeIterator=function(){return this._nodes.iterator()},Gl.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Gl.prototype.debugPrintln=function(t){Vu.out.println(t)},Gl.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===Cu.BOUNDARY},Gl.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Gl.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&ac.computeOrientation(t,e,r)===ac.COLLINEAR&&Fl.quadrant(t,e)===Fl.quadrant(n,r)},Gl.prototype.getEdgeEnds=function(){return this._edgeEndList},Gl.prototype.debugPrint=function(t){Vu.out.print(t)},Gl.prototype.getEdgeIterator=function(){return this._edges.iterator()},Gl.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},Gl.prototype.insertEdge=function(t){this._edges.add(t)},Gl.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Gl.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new ql(n,!0),i=new ql(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Gl.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Gl.prototype.getNodes=function(){return this._nodes.values()},Gl.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl},Gl.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Wl=function(){this._geometryFactory=null,this._shellList=new Ec;var t=arguments[0];this._geometryFactory=t};Wl.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},Wl.prototype.computePolygons=function(t){for(var e=new Ec,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Wl.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Pl("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Wl.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new Ec,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else r.add(o)}return r},Wl.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Wl.prototype.buildMaximalEdgeRings=function(t){for(var e=new Ec,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new Dl(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},Wl.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Wl.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Wl.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var u=s.next(),c=u.getLinearRing(),l=c.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var f=!1;l.contains(r)&&ac.isPointInRing(i,c.getCoordinates())&&(f=!0),f&&(null===o||a.contains(l))&&(o=u)}return o},Wl.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return tc.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Wl.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Gl.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new Ec,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Wl.prototype.interfaces_=function(){return[]},Wl.prototype.getClass=function(){return Wl};var Hl=function(){};Hl.prototype.getBounds=function(){},Hl.prototype.interfaces_=function(){return[]},Hl.prototype.getClass=function(){return Hl};var Kl=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Kl.prototype.getItem=function(){return this._item},Kl.prototype.getBounds=function(){return this._bounds},Kl.prototype.interfaces_=function(){return[Hl,Ti]},Kl.prototype.getClass=function(){return Kl};var Xl=function(){this._size=null,this._items=null,this._size=0,this._items=new Ec,this._items.add(null)};Xl.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Xl.prototype.size=function(){return this._size},Xl.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Xl.prototype.clear=function(){this._size=0,this._items.clear()},Xl.prototype.isEmpty=function(){return 0===this._size},Xl.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Xl.prototype.interfaces_=function(){return[]},Xl.prototype.getClass=function(){return Xl};var Yl=function(){};Yl.prototype.visitItem=function(t){},Yl.prototype.interfaces_=function(){return[]},Yl.prototype.getClass=function(){return Yl};var Zl=function(){};Zl.prototype.insert=function(t,e){},Zl.prototype.remove=function(t,e){},Zl.prototype.query=function(){},Zl.prototype.interfaces_=function(){return[]},Zl.prototype.getClass=function(){return Zl};var $l=function(){if(this._childBoundables=new Ec,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Jl={serialVersionUID:{configurable:!0}};$l.prototype.getLevel=function(){return this._level},$l.prototype.size=function(){return this._childBoundables.size()},$l.prototype.getChildBoundables=function(){return this._childBoundables},$l.prototype.addChildBoundable=function(t){tc.isTrue(null===this._bounds),this._childBoundables.add(t)},$l.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},$l.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},$l.prototype.interfaces_=function(){return[Hl,Ti]},$l.prototype.getClass=function(){return $l},Jl.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties($l,Jl);var Ql=function(){};Ql.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Ql.min=function(t){return Ql.sort(t),t.get(0)},Ql.sort=function(t,e){var n=t.toArray();e?Lc.sort(n,e):Lc.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},Ql.singletonList=function(t){var e=new Ec;return e.add(t),e};var tf=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tf.prototype.expandToQueue=function(t,e){var n=tf.isComposite(this._boundable1),r=tf.isComposite(this._boundable2);if(n&&r)return tf.area(this._boundable1)>tf.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new gu("neither boundable is composite")},tf.prototype.isLeaves=function(){return!(tf.isComposite(this._boundable1)||tf.isComposite(this._boundable2))},tf.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tf.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),a=new tf(o,e,this._itemDistance);a.getDistance()<r&&n.add(a)}},tf.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tf.prototype.getDistance=function(){return this._distance},tf.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tf.prototype.interfaces_=function(){return[_u]},tf.prototype.getClass=function(){return tf},tf.area=function(t){return t.getBounds().getArea()},tf.isComposite=function(t){return t instanceof $l};var ef=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Ec,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];tc.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nf={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};ef.prototype.getNodeCapacity=function(){return this._nodeCapacity},ef.prototype.lastNode=function(t){return t.get(t.size()-1)},ef.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof $l?t+=this.size(n):n instanceof Kl&&(t+=1)}return t}},ef.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Kl&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},ef.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Ec:t}if(1===arguments.length){for(var e=arguments[0],n=new Ec,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof $l){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Kl?n.add(i.getItem()):tc.shouldNeverReachHere()}return n.size()<=0?null:n}},ef.prototype.insert=function(t,e){tc.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Kl(t,e))},ef.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Ec;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(tc.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof $l?this.boundablesAtLevel(n,a,i):(tc.isTrue(a instanceof Kl),-1===n&&i.add(a))}return null}},ef.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Ec;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(Tu(arguments[2],Yl)&&arguments[0]instanceof Object&&arguments[1]instanceof $l)for(var i=arguments[0],o=arguments[2],a=arguments[1].getChildBoundables(),s=0;s<a.size();s++){var u=a.get(s);this.getIntersectsOp().intersects(u.getBounds(),i)&&(u instanceof $l?this.query(i,u,o):u instanceof Kl?o.visitItem(u.getItem()):tc.shouldNeverReachHere())}else if(Tu(arguments[2],wc)&&arguments[0]instanceof Object&&arguments[1]instanceof $l)for(var c=arguments[0],l=arguments[2],f=arguments[1].getChildBoundables(),h=0;h<f.size();h++){var p=f.get(h);this.getIntersectsOp().intersects(p.getBounds(),c)&&(p instanceof $l?this.query(c,p,l):p instanceof Kl?l.add(p.getItem()):tc.shouldNeverReachHere())}},ef.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},ef.prototype.getRoot=function(){return this.build(),this._root},ef.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var u=s.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof $l&&(o=this.remove(n,u,i))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},ef.prototype.createHigherLevels=function(t,e){tc.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},ef.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof $l){var r=this.depth(n);r>t&&(t=r)}}return t+1}},ef.prototype.createParentBoundables=function(t,e){tc.isTrue(!t.isEmpty());var n=new Ec;n.add(this.createNode(e));var r=new Ec(t);Ql.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},ef.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},ef.prototype.interfaces_=function(){return[Ti]},ef.prototype.getClass=function(){return ef},ef.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nf.IntersectsOp.get=function(){return rf},nf.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nf.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(ef,nf);var rf=function(){},of=function(){};of.prototype.distance=function(t,e){},of.prototype.interfaces_=function(){return[]},of.prototype.getClass=function(){return of};var af=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){tc.isTrue(t.length>0);for(var n=new Ec,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new sf(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new Ec;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(Tu(arguments[2],Yl)&&arguments[0]instanceof Object&&arguments[1]instanceof $l){var i=arguments[0],o=arguments[1],a=arguments[2];t.prototype.query.call(this,i,o,a)}else if(Tu(arguments[2],wc)&&arguments[0]instanceof Object&&arguments[1]instanceof $l){var s=arguments[0],u=arguments[1],c=arguments[2];t.prototype.query.call(this,s,u,c)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){tc.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new Ec(t);Ql.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Tu(arguments[0],of)){var t=arguments[0],n=new tf(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof tf){var r=arguments[0];return this.nearestNeighbour(r,mu.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&Tu(arguments[1],of)){var i=arguments[0],o=arguments[1],a=new tf(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(a)}if(arguments[0]instanceof tf&&"number"==typeof arguments[1]){var s=arguments[0],u=arguments[1],c=null,l=new Xl;for(l.add(s);!l.isEmpty()&&u>0;){var f=l.poll(),h=f.getDistance();if(h>=u)break;f.isLeaves()?(u=h,c=f):f.expandToQueue(l,u)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[2],d=new Kl(arguments[0],arguments[1]),y=new tf(this.getRoot(),d,p);return this.nearestNeighbour(y)[0]}},e.prototype.interfaces_=function(){return[Zl,Ti]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return sf},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[wu]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[wu]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(ef),sf=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Wu(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($l),uf=function(){};uf.prototype.interfaces_=function(){return[]},uf.prototype.getClass=function(){return uf},uf.relativeSign=function(t,e){return t<e?-1:t>e?1:0},uf.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=uf.relativeSign(e.x,n.x),i=uf.relativeSign(e.y,n.y);switch(t){case 0:return uf.compareValue(r,i);case 1:return uf.compareValue(i,r);case 2:return uf.compareValue(i,-r);case 3:return uf.compareValue(-r,i);case 4:return uf.compareValue(-r,-i);case 5:return uf.compareValue(-i,-r);case 6:return uf.compareValue(-i,r);case 7:return uf.compareValue(r,-i)}return tc.shouldNeverReachHere("invalid octant value"),0},uf.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var cf=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new Eu(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};cf.prototype.getCoordinate=function(){return this.coord},cf.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},cf.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:uf.compare(this._segmentOctant,this.coord,e.coord)},cf.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},cf.prototype.isInterior=function(){return this._isInterior},cf.prototype.interfaces_=function(){return[_u]},cf.prototype.getClass=function(){return cf};var lf=function(){this._nodeMap=new zi,this._edge=null;var t=arguments[0];this._edge=t};lf.prototype.getSplitCoordinates=function(){var t=new kc;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},lf.prototype.addCollapsedNodes=function(){var t=new Ec;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},lf.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},lf.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new ju(e+1))}},lf.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new Eu(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new Eu(e.coord))},lf.prototype.iterator=function(){return this._nodeMap.values().iterator()},lf.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},lf.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},lf.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new ju(e[0])),r=i}},lf.prototype.getEdge=function(){return this._edge},lf.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},lf.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new Eu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new Eu(e.coord)),new df(o,this._edge.getData())},lf.prototype.add=function(t,e){var n=new cf(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(tc.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},lf.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Ju("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new Ju("bad split edge end point at "+i)},lf.prototype.interfaces_=function(){return[]},lf.prototype.getClass=function(){return lf};var ff=function(){};ff.prototype.interfaces_=function(){return[]},ff.prototype.getClass=function(){return ff},ff.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new gu("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof Eu&&arguments[1]instanceof Eu){var i=arguments[0],o=arguments[1],a=o.x-i.x,s=o.y-i.y;if(0===a&&0===s)throw new gu("Cannot compute the octant for two identical points "+i);return ff.octant(a,s)}};var hf=function(){};hf.prototype.getCoordinates=function(){},hf.prototype.size=function(){},hf.prototype.getCoordinate=function(t){},hf.prototype.isClosed=function(){},hf.prototype.setData=function(t){},hf.prototype.getData=function(){},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf};var pf=function(){};pf.prototype.addIntersection=function(t,e){},pf.prototype.interfaces_=function(){return[hf]},pf.prototype.getClass=function(){return pf};var df=function(){this._nodeList=new lf(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};df.prototype.getCoordinates=function(){return this._pts},df.prototype.size=function(){return this._pts.length},df.prototype.getCoordinate=function(t){return this._pts[t]},df.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},df.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},df.prototype.setData=function(t){this._data=t},df.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:ff.octant(t,e)},df.prototype.getData=function(){return this._data},df.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[1],r=arguments[3],i=new Eu(arguments[0].getIntersection(r));this.addIntersection(i,n)}},df.prototype.toString=function(){return $u.toLineString(new ul(this._pts))},df.prototype.getNodeList=function(){return this._nodeList},df.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},df.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},df.prototype.interfaces_=function(){return[pf]},df.prototype.getClass=function(){return df},df.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Ec;return df.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var yf=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new Eu,this.p1=new Eu;else if(1===arguments.length){var t=arguments[0];this.p0=new Eu(t.p0),this.p1=new Eu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new Eu(e,n),this.p1=new Eu(r,i)}},vf={serialVersionUID:{configurable:!0}};yf.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},yf.prototype.orientationIndex=function(){if(arguments[0]instanceof yf){var t=arguments[0],e=ac.orientationIndex(this.p0,this.p1,t.p0),n=ac.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof Eu){var r=arguments[0];return ac.orientationIndex(this.p0,this.p1,r)}},yf.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},yf.prototype.isVertical=function(){return this.p0.x===this.p1.x},yf.prototype.equals=function(t){if(!(t instanceof yf))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},yf.prototype.intersection=function(t){var e=new rc;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},yf.prototype.project=function(){if(arguments[0]instanceof Eu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new Eu(t);var e=this.projectionFactor(t),n=new Eu;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof yf){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new yf(a,s)}},yf.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},yf.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},yf.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},yf.prototype.distancePerpendicular=function(t){return ac.distancePointLinePerpendicular(t,this.p0,this.p1)},yf.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},yf.prototype.midPoint=function(){return yf.midPoint(this.p0,this.p1)},yf.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?mu.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},yf.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=mu.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var a=this.closestPoint(t.p1);(i=a.distance(t.p1))<r&&(r=i,n[0]=a,n[1]=t.p1);var s=t.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},yf.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},yf.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},yf.prototype.getLength=function(){return this.p0.distance(this.p1)},yf.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},yf.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},yf.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},yf.prototype.lineIntersection=function(t){try{return Gu.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof qu))throw t}return null},yf.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},yf.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,u=0;if(0!==e){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=e*i/a,u=e*o/a}return new Eu(n-u,r+s)},yf.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},yf.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||mu.isNaN(e))&&(e=1),e},yf.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},yf.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},yf.prototype.distance=function(){if(arguments[0]instanceof yf){var t=arguments[0];return ac.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof Eu){var e=arguments[0];return ac.distancePointLine(e,this.p0,this.p1)}},yf.prototype.pointAlong=function(t){var e=new Eu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},yf.prototype.hashCode=function(){var t=mu.doubleToLongBits(this.p0.x);t^=31*mu.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=mu.doubleToLongBits(this.p1.x);return n^=31*mu.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},yf.prototype.interfaces_=function(){return[_u,Ti]},yf.prototype.getClass=function(){return yf},yf.midPoint=function(t,e){return new Eu((t.x+e.x)/2,(t.y+e.y)/2)},vf.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(yf,vf);var gf=function(){this.tempEnv1=new Wu,this.tempEnv2=new Wu,this._overlapSeg1=new yf,this._overlapSeg2=new yf};gf.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(t,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},gf.prototype.interfaces_=function(){return[]},gf.prototype.getClass=function(){return gf};var mf=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};mf.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},mf.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var a=Math.trunc((e+n)/2);e<a&&this.computeSelect(t,e,a,r),a<n&&this.computeSelect(t,a,n,r)},mf.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},mf.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},mf.prototype.setId=function(t){this._id=t},mf.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},mf.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Wu(t,e)}return this._env},mf.prototype.getEndIndex=function(){return this._end},mf.prototype.getStartIndex=function(){return this._start},mf.prototype.getContext=function(){return this._context},mf.prototype.getId=function(){return this._id},mf.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var a=this._pts[t],s=this._pts[e],u=n._pts[r],c=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(u,c),!o.tempEnv1.intersects(o.tempEnv2))return null;var l=Math.trunc((t+e)/2),f=Math.trunc((r+i)/2);t<l&&(r<f&&this.computeOverlapsInternal(t,l,n,r,f,o),f<i&&this.computeOverlapsInternal(t,l,n,f,i,o)),l<e&&(r<f&&this.computeOverlapsInternal(l,e,n,r,f,o),f<i&&this.computeOverlapsInternal(l,e,n,f,i,o))},mf.prototype.interfaces_=function(){return[]},mf.prototype.getClass=function(){return mf};var bf=function(){};bf.prototype.interfaces_=function(){return[]},bf.prototype.getClass=function(){return bf},bf.getChainStartIndices=function(t){var e=0,n=new Ec;n.add(new ju(e));do{var r=bf.findChainEnd(t,e);n.add(new ju(r)),e=r}while(e<t.length-1);return bf.toIntArray(n)},bf.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Fl.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||Fl.quadrant(t[i-1],t[i])===r);)i++;return i-1},bf.getChains=function(){if(1===arguments.length){var t=arguments[0];return bf.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new Ec,i=bf.getChainStartIndices(e),o=0;o<i.length-1;o++){var a=new mf(e,i[o],i[o+1],n);r.add(a)}return r}},bf.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var _f=function(){};_f.prototype.computeNodes=function(t){},_f.prototype.getNodedSubstrings=function(){},_f.prototype.interfaces_=function(){return[]},_f.prototype.getClass=function(){return _f};var xf=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};xf.prototype.setSegmentIntersector=function(t){this._segInt=t},xf.prototype.interfaces_=function(){return[_f]},xf.prototype.getClass=function(){return xf};var wf=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Ec,this._index=new af,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return df.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=bf.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new Ef(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return Ef},Object.defineProperties(e,n),e}(xf),Ef=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(i,e,o,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gf),Sf=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}},kf={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Sf.prototype.getEndCapStyle=function(){return this._endCapStyle},Sf.prototype.isSingleSided=function(){return this._isSingleSided},Sf.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Sf.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Sf.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Sf.JOIN_ROUND&&(this._quadrantSegments=Sf.DEFAULT_QUADRANT_SEGMENTS)},Sf.prototype.getJoinStyle=function(){return this._joinStyle},Sf.prototype.setJoinStyle=function(t){this._joinStyle=t},Sf.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Sf.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Sf.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Sf.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Sf.prototype.getMitreLimit=function(){return this._mitreLimit},Sf.prototype.setMitreLimit=function(t){this._mitreLimit=t},Sf.prototype.setSingleSided=function(t){this._isSingleSided=t},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf},Sf.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},kf.CAP_ROUND.get=function(){return 1},kf.CAP_FLAT.get=function(){return 2},kf.CAP_SQUARE.get=function(){return 3},kf.JOIN_ROUND.get=function(){return 1},kf.JOIN_MITRE.get=function(){return 2},kf.JOIN_BEVEL.get=function(){return 3},kf.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},kf.DEFAULT_MITRE_LIMIT.get=function(){return 5},kf.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Sf,kf);var Of=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ac.COUNTERCLOCKWISE,this._inputLine=t||null},Cf={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Of.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,t,n,r)},Of.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Of.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},Of.prototype.isShallowConcavity=function(t,e,n,r){return ac.computeOrientation(t,e,n)===this._angleOrientation&&ac.distancePointLine(e,t,n)<r},Of.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Of.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(t,e,this._inputLine[a],i))return!1;return!0},Of.prototype.isConcave=function(t,e,n){return ac.computeOrientation(t,e,n)===this._angleOrientation},Of.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=ac.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Of.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Of.DELETE;)e++;return e},Of.prototype.isShallow=function(t,e,n,r){return ac.distancePointLine(e,t,n)<r},Of.prototype.collapseLine=function(){for(var t=new kc,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Of.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of},Of.simplify=function(t,e){return new Of(t).simplify(e)},Cf.INIT.get=function(){return 0},Cf.DELETE.get=function(){return 1},Cf.KEEP.get=function(){return 1},Cf.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Of,Cf);var Pf=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Ec},Tf={COORDINATE_ARRAY_TYPE:{configurable:!0}};Pf.prototype.getCoordinates=function(){return this._ptList.toArray(Pf.COORDINATE_ARRAY_TYPE)},Pf.prototype.setPrecisionModel=function(t){this._precisionModel=t},Pf.prototype.addPt=function(t){var e=new Eu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Pf.prototype.revere=function(){},Pf.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Pf.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Pf.prototype.toString=function(){return(new gl).createLineString(this.getCoordinates()).toString()},Pf.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new Eu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Pf.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf},Tf.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Pf,Tf);var Mf=function(){},Af={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Mf.prototype.interfaces_=function(){return[]},Mf.prototype.getClass=function(){return Mf},Mf.toDegrees=function(t){return 180*t/Math.PI},Mf.normalize=function(t){for(;t>Math.PI;)t-=Mf.PI_TIMES_2;for(;t<=-Math.PI;)t+=Mf.PI_TIMES_2;return t},Mf.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},Mf.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},Mf.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},Mf.interiorAngle=function(t,e,n){var r=Mf.angle(e,t),i=Mf.angle(e,n);return Math.abs(i-r)},Mf.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Mf.PI_TIMES_2;t>=Mf.PI_TIMES_2&&(t=0)}else{for(;t>=Mf.PI_TIMES_2;)t-=Mf.PI_TIMES_2;t<0&&(t=0)}return t},Mf.angleBetween=function(t,e,n){var r=Mf.angle(e,t),i=Mf.angle(e,n);return Mf.diff(r,i)},Mf.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Mf.toRadians=function(t){return t*Math.PI/180},Mf.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Mf.COUNTERCLOCKWISE:n<0?Mf.CLOCKWISE:Mf.NONE},Mf.angleBetweenOriented=function(t,e,n){var r=Mf.angle(e,t),i=Mf.angle(e,n)-r;return i<=-Math.PI?i+Mf.PI_TIMES_2:i>Math.PI?i-Mf.PI_TIMES_2:i},Af.PI_TIMES_2.get=function(){return 2*Math.PI},Af.PI_OVER_2.get=function(){return Math.PI/2},Af.PI_OVER_4.get=function(){return Math.PI/4},Af.COUNTERCLOCKWISE.get=function(){return ac.COUNTERCLOCKWISE},Af.CLOCKWISE.get=function(){return ac.CLOCKWISE},Af.NONE.get=function(){return ac.COLLINEAR},Object.defineProperties(Mf,Af);var If=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new yf,this._seg1=new yf,this._offset0=new yf,this._offset1=new yf,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new rc,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Sf.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},jf={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};If.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=ac.computeOrientation(this._s0,this._s1,this._s2),r=n===ac.CLOCKWISE&&this._side===kl.LEFT||n===ac.COUNTERCLOCKWISE&&this._side===kl.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},If.prototype.addLineEndCap=function(t,e){var n=new yf(t,e),r=new yf;this.computeOffsetSegment(n,kl.LEFT,this._distance,r);var i=new yf;this.computeOffsetSegment(n,kl.RIGHT,this._distance,i);var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case Sf.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,s+Math.PI/2,s-Math.PI/2,ac.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case Sf.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case Sf.CAP_SQUARE:var u=new Eu;u.x=Math.abs(this._distance)*Math.cos(s),u.y=Math.abs(this._distance)*Math.sin(s);var c=new Eu(r.p1.x+u.x,r.p1.y+u.y),l=new Eu(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(c),this._segList.addPt(l)}},If.prototype.getCoordinates=function(){return this._segList.getCoordinates()},If.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=Gu.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof qu))throw t;o=new Eu(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},If.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o),u=n.x-t.x,c=n.y-t.y,l=Math.atan2(c,u);r===ac.CLOCKWISE?s<=l&&(s+=2*Math.PI):s>=l&&(s-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,s,l,r,i),this._segList.addPt(n)},If.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*If.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Sf.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Sf.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},If.prototype.createSquare=function(t){this._segList.addPt(new Eu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new Eu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new Eu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new Eu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},If.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},If.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},If.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},If.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},If.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=Mf.angle(i,this._seg0.p0),a=Mf.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=Mf.normalize(o+a),u=Mf.normalize(s+Math.PI),c=r*n,l=n-c*Math.abs(Math.sin(a)),f=i.x+c*Math.cos(u),h=i.y+c*Math.sin(u),p=new Eu(f,h),d=new yf(i,p),y=d.pointAlongOffset(1,l),v=d.pointAlongOffset(1,-l);this._side===kl.LEFT?(this._segList.addPt(y),this._segList.addPt(v)):(this._segList.addPt(v),this._segList.addPt(y))},If.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===kl.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),u=i*n*o/s,c=i*n*a/s;r.p0.x=t.p0.x-c,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-c,r.p1.y=t.p1.y+u},If.prototype.addFilletArc=function(t,e,n,r,i){var o=r===ac.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var u=a/s,c=0,l=new Eu;c<a;){var f=e+o*c;l.x=t.x+i*Math.cos(f),l.y=t.y+i*Math.sin(f),this._segList.addPt(l),c+=u}},If.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*If.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new Eu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new Eu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},If.prototype.createCircle=function(t){var e=new Eu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},If.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},If.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Pf,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*If.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},If.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Sf.JOIN_BEVEL||this._bufParams.getJoinStyle()===Sf.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ac.CLOCKWISE,this._distance))},If.prototype.closeRing=function(){this._segList.closeRing()},If.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If},jf.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},jf.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},jf.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},jf.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(If,jf);var Rf=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Rf.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Oc.reverse(o),o},Rf.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Of.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],kl.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(t,!1);var s=Of.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],kl.LEFT),n.addFirstSegment();for(var c=2;c<=u;c++)n.addNextSegment(s[c],!0)}n.addLastSegment(),n.closeRing()},Rf.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===kl.RIGHT&&(r=-r);var i=Of.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},Rf.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Of.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],kl.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var a=Of.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],kl.LEFT);for(var u=s-2;u>=0;u--)e.addNextSegment(a[u],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},Rf.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Sf.CAP_ROUND:e.createCircle(t);break;case Sf.CAP_SQUARE:e.createSquare(t)}},Rf.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},Rf.prototype.getBufferParameters=function(){return this._bufParams},Rf.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Rf.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Rf.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},Rf.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Of.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],kl.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=Of.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],kl.LEFT),n.addFirstSegment();for(var c=2;c<=u;c++)n.addNextSegment(s[c],!0)}n.addLastSegment()},Rf.prototype.getSegGen=function(t){return new If(this._precisionModel,this._bufParams,t)},Rf.prototype.interfaces_=function(){return[]},Rf.prototype.getClass=function(){return Rf},Rf.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new Eu(t[n]);return e};var Df=function(){this._subgraphs=null,this._seg=new yf,this._cga=new ac;var t=arguments[0];this._subgraphs=t},Nf={DepthSegment:{configurable:!0}};Df.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Ec,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Tu(arguments[2],wc)&&arguments[0]instanceof Eu&&arguments[1]instanceof ql){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=a.getEdge().getCoordinates(),c=0;c<u.length-1;c++)if(this._seg.p0=u[c],this._seg.p1=u[c+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x)&&!(this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||ac.computeOrientation(this._seg.p0,this._seg.p1,o)===ac.RIGHT)){var l=a.getDepth(kl.LEFT);this._seg.p0.equals(u[c])||(l=a.getDepth(kl.RIGHT));var f=new Lf(this._seg,l);s.add(f)}}else if(Tu(arguments[2],wc)&&arguments[0]instanceof Eu&&Tu(arguments[1],wc))for(var h=arguments[0],p=arguments[2],d=arguments[1].iterator();d.hasNext();){var y=d.next();y.isForward()&&this.findStabbedSegments(h,y,p)}},Df.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Ql.min(e)._leftDepth},Df.prototype.interfaces_=function(){return[]},Df.prototype.getClass=function(){return Df},Nf.DepthSegment.get=function(){return Lf},Object.defineProperties(Df,Nf);var Lf=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new yf(t),this._leftDepth=e};Lf.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Lf.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Lf.prototype.toString=function(){return this._upwardSeg.toString()},Lf.prototype.interfaces_=function(){return[_u]},Lf.prototype.getClass=function(){return Lf};var zf=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};zf.prototype.area=function(){return zf.area(this.p0,this.p1,this.p2)},zf.prototype.signedArea=function(){return zf.signedArea(this.p0,this.p1,this.p2)},zf.prototype.interpolateZ=function(t){if(null===t)throw new gu("Supplied point is null.");return zf.interpolateZ(t,this.p0,this.p1,this.p2)},zf.prototype.longestSideLength=function(){return zf.longestSideLength(this.p0,this.p1,this.p2)},zf.prototype.isAcute=function(){return zf.isAcute(this.p0,this.p1,this.p2)},zf.prototype.circumcentre=function(){return zf.circumcentre(this.p0,this.p1,this.p2)},zf.prototype.area3D=function(){return zf.area3D(this.p0,this.p1,this.p2)},zf.prototype.centroid=function(){return zf.centroid(this.p0,this.p1,this.p2)},zf.prototype.inCentre=function(){return zf.inCentre(this.p0,this.p1,this.p2)},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf},zf.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},zf.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},zf.det=function(t,e,n,r){return t*r-e*n},zf.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=r.x-i,u=n.y-o,c=r.y-o,l=a*c-s*u,f=t.x-i,h=t.y-o,p=(c*f-s*h)/l,d=(-u*f+a*h)/l;return e.z+p*(n.z-e.z)+d*(r.z-e.z)},zf.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),a=r;return i>a&&(a=i),o>a&&(a=o),a},zf.isAcute=function(t,e,n){return!!Mf.isAcute(t,e,n)&&!!Mf.isAcute(e,n,t)&&!!Mf.isAcute(n,t,e)},zf.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,a=t.y-i,s=e.x-r,u=e.y-i,c=2*zf.det(o,a,s,u),l=zf.det(a,o*o+a*a,u,s*s+u*u),f=zf.det(o,o*o+a*a,s,s*s+u*u);return new Eu(r-l/c,i+f/c)},zf.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new Gu(t.x+n/2,t.y+r/2,1),o=new Gu(t.x-r+n/2,t.y+n+r/2,1);return new Gu(i,o)},zf.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,a=n.y-t.y;return new Eu(t.x+i*o,t.y+i*a)},zf.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,u=n.z-t.z,c=i*u-o*s,l=o*a-r*u,f=r*s-i*a,h=c*c+l*l+f*f;return Math.sqrt(h)/2},zf.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new Eu(r,i)},zf.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),a=r+i+o,s=(r*t.x+i*e.x+o*n.x)/a,u=(r*t.y+i*e.y+o*n.y)/a;return new Eu(s,u)};var Ff=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Ec;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Ff.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Cu.EXTERIOR,Cu.INTERIOR)},Ff.prototype.addPolygon=function(t){var e=this._distance,n=kl.LEFT;this._distance<0&&(e=-this._distance,n=kl.RIGHT);var r=t.getExteriorRing(),i=Oc.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,Cu.EXTERIOR,Cu.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=Oc.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,e,kl.opposite(n),Cu.INTERIOR,Cu.EXTERIOR)}},Ff.prototype.isTriangleErodedCompletely=function(t,e){var n=new zf(t[0],t[1],t[2]),r=n.inCentre();return ac.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},Ff.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Oc.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Cu.EXTERIOR,Cu.INTERIOR)},Ff.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new df(t,new Il(0,Cu.BOUNDARY,e,n));this._curveList.add(r)},Ff.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Ff.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<el.MINIMUM_VALID_SIZE)return null;var o=r,a=i;t.length>=el.MINIMUM_VALID_SIZE&&ac.isCCW(t)&&(o=i,a=r,n=kl.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},Ff.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Qc?this.addPolygon(t):t instanceof Yc?this.addLineString(t):t instanceof $c?this.addPoint(t):(t instanceof tl||t instanceof Vc||t instanceof nl||t instanceof qc)&&this.addCollection(t)},Ff.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},Ff.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},Ff.prototype.interfaces_=function(){return[]},Ff.prototype.getClass=function(){return Ff};var Bf=function(){};Bf.prototype.locate=function(t){},Bf.prototype.interfaces_=function(){return[]},Bf.prototype.getClass=function(){return Bf};var Uf=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Uf.prototype.next=function(){if(this._atStart)return this._atStart=!1,Uf.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Mi;var t=this._parent.getGeometryN(this._index++);return t instanceof qc?(this._subcollectionIterator=new Uf(t),this._subcollectionIterator.next()):t},Uf.prototype.remove=function(){throw new Error(this.getClass().getName())},Uf.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Uf.prototype.interfaces_=function(){return[xc]},Uf.prototype.getClass=function(){return Uf},Uf.isAtomic=function(t){return!(t instanceof qc)};var qf=function(){this._geom=null;var t=arguments[0];this._geom=t};qf.prototype.locate=function(t){return qf.locate(t,this._geom)},qf.prototype.interfaces_=function(){return[Bf]},qf.prototype.getClass=function(){return qf},qf.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&ac.isPointInRing(t,e.getCoordinates())},qf.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!qf.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(qf.isPointInRing(t,i))return!1}return!0},qf.containsPoint=function(t,e){if(e instanceof Qc)return qf.containsPointInPolygon(t,e);if(e instanceof qc)for(var n=new Uf(e);n.hasNext();){var r=n.next();if(r!==e&&qf.containsPoint(t,r))return!0}return!1},qf.locate=function(t,e){return e.isEmpty()?Cu.EXTERIOR:qf.containsPoint(t,e)?Cu.INTERIOR:Cu.EXTERIOR};var Vf=function(){this._edgeMap=new zi,this._edgeList=null,this._ptInAreaLocation=[Cu.NONE,Cu.NONE]};Vf.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Vf.prototype.propagateSideLabels=function(t){for(var e=Cu.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,kl.LEFT)!==Cu.NONE&&(e=r.getLocation(t,kl.LEFT))}if(e===Cu.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(t,kl.ON)===Cu.NONE&&s.setLocation(t,kl.ON,i),s.isArea(t)){var u=s.getLocation(t,kl.LEFT),c=s.getLocation(t,kl.RIGHT);if(c!==Cu.NONE){if(c!==i)throw new Pl("side location conflict",a.getCoordinate());u===Cu.NONE&&tc.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),i=u}else tc.isTrue(s.getLocation(t,kl.LEFT)===Cu.NONE,"found single null side"),s.setLocation(t,kl.RIGHT,i),s.setLocation(t,kl.LEFT,i)}}},Vf.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Vf.prototype.print=function(t){Vu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Vf.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Vf.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,kl.LEFT);tc.isTrue(r!==Cu.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();tc.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,kl.LEFT),u=a.getLocation(t,kl.RIGHT);if(s===u)return!1;if(u!==i)return!1;i=s}return!0},Vf.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Vf.prototype.iterator=function(){return this.getEdges().iterator()},Vf.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Ec(this._edgeMap.values())),this._edgeList},Vf.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===Cu.NONE&&(this._ptInAreaLocation[t]=qf.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Vf.prototype.toString=function(){var t=new Iu;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Vf.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Vf.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===Cu.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),u=0;u<2;u++)if(s.isAnyNull(u)){var c=Cu.NONE;if(e[u])c=Cu.EXTERIOR;else{var l=a.getCoordinate();c=this.getLocation(u,l,t)}s.setAllLocationsIfNull(u,c)}},Vf.prototype.getDegree=function(){return this._edgeMap.size()},Vf.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Vf.prototype.interfaces_=function(){return[]},Vf.prototype.getClass=function(){return Vf};var Gf=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Pl("no outgoing dirEdge found",this.getCoordinate());tc.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return Fl.isNorthern(i)&&Fl.isNorthern(o)?n:Fl.isNorthern(i)||Fl.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(tc.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){Vu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Ec;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(kl.LEFT),r=t.getDepth(kl.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new Pl("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],a=arguments[2],s=arguments[0];s<o;s++){var u=this._edgeList.get(s);u.setEdgeDepths(kl.RIGHT,a),a=u.getDepth(kl.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(tc.isTrue(null!==e,"found null for first outgoing dirEdge"),tc.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=Cu.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=Cu.INTERIOR;break}if(r.isInResult()){t=Cu.EXTERIOR;break}}}if(t===Cu.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(i===Cu.INTERIOR):(a.isInResult()&&(i=Cu.EXTERIOR),s.isInResult()&&(i=Cu.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Il(Cu.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==Cu.INTERIOR&&o!==Cu.BOUNDARY||this._label.setLocation(i,Cu.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Vf),Wf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Ll(t,new Gf)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Vl),Hf=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Hf.prototype.compareTo=function(t){var e=t;return Hf.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Hf.prototype.interfaces_=function(){return[_u]},Hf.prototype.getClass=function(){return Hf},Hf.orientation=function(t){return 1===Oc.increasingDirection(t)},Hf.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,a=e?t.length:-1,s=r?n.length:-1,u=e?0:t.length-1,c=r?0:n.length-1;;){var l=t[u].compareTo(n[c]);if(0!==l)return l;var f=(u+=i)===a,h=(c+=o)===s;if(f&&!h)return-1;if(!f&&h)return 1;if(f&&h)return 0}};var Kf=function(){this._edges=new Ec,this._ocaMap=new zi};Kf.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Kf.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Kf.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Kf.prototype.iterator=function(){return this._edges.iterator()},Kf.prototype.getEdges=function(){return this._edges},Kf.prototype.get=function(t){return this._edges.get(t)},Kf.prototype.findEqualEdge=function(t){var e=new Hf(t.getCoordinates());return this._ocaMap.get(e)},Kf.prototype.add=function(t){this._edges.add(t);var e=new Hf(t.getCoordinates());this._ocaMap.put(e,t)},Kf.prototype.interfaces_=function(){return[]},Kf.prototype.getClass=function(){return Kf};var Xf=function(){};Xf.prototype.processIntersections=function(t,e,n,r){},Xf.prototype.isDone=function(){},Xf.prototype.interfaces_=function(){return[]},Xf.prototype.getClass=function(){return Xf};var Yf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Yf.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Yf.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Yf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Yf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Yf.prototype.getLineIntersector=function(){return this._li},Yf.prototype.hasProperIntersection=function(){return this._hasProper},Yf.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Yf.prototype.hasIntersection=function(){return this._hasIntersection},Yf.prototype.isDone=function(){return!1},Yf.prototype.hasInteriorIntersection=function(){return this._hasInterior},Yf.prototype.interfaces_=function(){return[Xf]},Yf.prototype.getClass=function(){return Yf},Yf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Zf=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new Eu(t),this.segmentIndex=e,this.dist=n};Zf.prototype.getSegmentIndex=function(){return this.segmentIndex},Zf.prototype.getCoordinate=function(){return this.coord},Zf.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Zf.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Zf.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Zf.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Zf.prototype.getDistance=function(){return this.dist},Zf.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Zf.prototype.interfaces_=function(){return[_u]},Zf.prototype.getClass=function(){return Zf};var $f=function(){this._nodeMap=new zi,this.edge=null;var t=arguments[0];this.edge=t};$f.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},$f.prototype.iterator=function(){return this._nodeMap.values().iterator()},$f.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},$f.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},$f.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new Eu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=e.coord),new nh(o,new Il(this.edge._label))},$f.prototype.add=function(t,e,n){var r=new Zf(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},$f.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},$f.prototype.interfaces_=function(){return[]},$f.prototype.getClass=function(){return $f};var Jf=function(){};Jf.prototype.getChainStartIndices=function(t){var e=0,n=new Ec;n.add(new ju(e));do{var r=this.findChainEnd(t,e);n.add(new ju(r)),e=r}while(e<t.length-1);return Jf.toIntArray(n)},Jf.prototype.findChainEnd=function(t,e){for(var n=Fl.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&Fl.quadrant(t[r-1],t[r])===n;)r++;return r-1},Jf.prototype.interfaces_=function(){return[]},Jf.prototype.getClass=function(){return Jf},Jf.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Qf=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Wu,this.env2=new Wu;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Jf;this.startIndex=e.getChainStartIndices(this.pts)};Qf.prototype.getCoordinates=function(){return this.pts},Qf.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Qf.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Qf.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],u=arguments[4],c=arguments[5],l=this.pts[i],f=this.pts[o],h=a.pts[s],p=a.pts[u];if(o-i==1&&u-s==1)return c.addIntersections(this.e,i,a.e,s),null;if(this.env1.init(l,f),this.env2.init(h,p),!this.env1.intersects(this.env2))return null;var d=Math.trunc((i+o)/2),y=Math.trunc((s+u)/2);i<d&&(s<y&&this.computeIntersectsForChain(i,d,a,s,y,c),y<u&&this.computeIntersectsForChain(i,d,a,y,u,c)),d<o&&(s<y&&this.computeIntersectsForChain(d,o,a,s,y,c),y<u&&this.computeIntersectsForChain(d,o,a,y,u,c))}},Qf.prototype.getStartIndexes=function(){return this.startIndex},Qf.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Qf.prototype.interfaces_=function(){return[]},Qf.prototype.getClass=function(){return Qf};var th=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},eh={NULL_VALUE:{configurable:!0}};th.prototype.getDepth=function(t,e){return this._depth[t][e]},th.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},th.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==th.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===th.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===th.NULL_VALUE}},th.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},th.prototype.getDelta=function(t){return this._depth[t][kl.RIGHT]-this._depth[t][kl.LEFT]},th.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?Cu.EXTERIOR:Cu.INTERIOR},th.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},th.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==Cu.EXTERIOR&&r!==Cu.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=th.depthAtLocation(r):this._depth[e][n]+=th.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===Cu.INTERIOR&&this._depth[i][o]++}},th.prototype.interfaces_=function(){return[]},th.prototype.getClass=function(){return th},th.depthAtLocation=function(t){return t===Cu.EXTERIOR?0:t===Cu.INTERIOR?1:th.NULL_VALUE},eh.NULL_VALUE.get=function(){return-1},Object.defineProperties(th,eh);var nh=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new $f(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new th,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Il.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Qf(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Wu;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new Eu(t.getIntersection(r)),o=e,a=t.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var u=this.pts[s];i.equals2D(u)&&(o=s,a=0)}this.eiList.add(i,o,a)},e.prototype.toString=function(){var t=new Iu;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,kl.ON),e.getLocation(1,kl.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,kl.LEFT),e.getLocation(1,kl.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,kl.RIGHT),e.getLocation(1,kl.RIGHT),2))},e}(Nl),rh=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Kf,this._bufParams=t||null};rh.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},rh.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Il(t.getLabel())).flip(),n.merge(r);var i=rh.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(rh.depthDelta(t.getLabel()))},rh.prototype.buildSubgraphs=function(t,e){for(var n=new Ec,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new Df(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},rh.prototype.createSubgraphs=function(t){for(var e=new Ec,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Ml;i.create(r),e.add(i)}}return Ql.sort(e,Ql.reverseOrder()),e},rh.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},rh.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new wf,n=new rc;return n.setPrecisionModel(t),e.setSegmentIntersector(new Yf(n)),e},rh.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new Rf(n,this._bufParams),i=new Ff(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Gl(new Wf),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new Wl(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},rh.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new nh(i.getCoordinates(),new Il(a));this.insertUniqueEdge(s)}}},rh.prototype.setNoder=function(t){this._workingNoder=t},rh.prototype.interfaces_=function(){return[]},rh.prototype.getClass=function(){return rh},rh.depthDelta=function(t){var e=t.getLocation(0,kl.LEFT),n=t.getLocation(0,kl.RIGHT);return e===Cu.INTERIOR&&n===Cu.EXTERIOR?1:e===Cu.EXTERIOR&&n===Cu.INTERIOR?-1:0},rh.convertSegStrings=function(t){for(var e=new gl,n=new Ec;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var ih=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ih.prototype.rescale=function(){if(Tu(arguments[0],bc))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&Vu.out.println(n)}},ih.prototype.scale=function(){if(Tu(arguments[0],bc)){for(var t=arguments[0],e=new Ec,n=t.iterator();n.hasNext();){var r=n.next();e.add(new df(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),a=0;a<i.length;a++)o[a]=new Eu(Math.round((i[a].x-this._offsetX)*this._scaleFactor),Math.round((i[a].y-this._offsetY)*this._scaleFactor),i[a].z);return Oc.removeRepeatedPoints(o)}},ih.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ih.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ih.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ih.prototype.interfaces_=function(){return[_f]},ih.prototype.getClass=function(){return ih};var oh=function(){this._li=new rc,this._segStrings=null;var t=arguments[0];this._segStrings=t},ah={fact:{configurable:!0}};oh.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new Ju("found endpt/interior pt intersection at index "+o+" :pt "+n)},oh.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),u=0;u<a.length-1;u++)for(var c=0;c<s.length-1;c++)this.checkInteriorIntersections(i,u,o,c);else if(4===arguments.length){var l=arguments[0],f=arguments[1],h=arguments[2],p=arguments[3];if(l===h&&f===p)return null;var d=l.getCoordinates()[f],y=l.getCoordinates()[f+1],v=h.getCoordinates()[p],g=h.getCoordinates()[p+1];if(this._li.computeIntersection(d,y,v,g),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,y)||this.hasInteriorIntersection(this._li,v,g)))throw new Ju("found non-noded intersection at "+d+"-"+y+" and "+v+"-"+g)}},oh.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},oh.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},oh.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},oh.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Ju("found non-noded collapse at "+oh.fact.createLineString([t,e,n]))},oh.prototype.interfaces_=function(){return[]},oh.prototype.getClass=function(){return oh},ah.fact.get=function(){return new gl},Object.defineProperties(oh,ah);var sh=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new gu("Scale factor must be non-zero");1!==e&&(this._pt=new Eu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new Eu,this._p1Scaled=new Eu),this.initCorners(this._pt)},uh={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};sh.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return tc.isTrue(!(a&&s),"Found bad envelope test"),s},sh.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new Eu(this._maxx,this._maxy),this._corner[1]=new Eu(this._minx,this._maxy),this._corner[2]=new Eu(this._minx,this._miny),this._corner[3]=new Eu(this._maxx,this._miny)},sh.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},sh.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},sh.prototype.getCoordinate=function(){return this._originalPt},sh.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},sh.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=sh.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Wu(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},sh.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},sh.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!r)||!!t.equals(this._pt)||!!e.equals(this._pt))))},sh.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh},uh.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(sh,uh);var ch=function(){this.tempEnv1=new Wu,this.selectedSegment=new yf};ch.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[1];arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch};var lh=function(){this._index=null;var t=arguments[0];this._index=t},fh={HotPixelSnapAction:{configurable:!0}};lh.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new hh(e,n,r);return this._index.query(i,{interfaces_:function(){return[Yl]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},lh.prototype.interfaces_=function(){return[]},lh.prototype.getClass=function(){return lh},fh.HotPixelSnapAction.get=function(){return hh},Object.defineProperties(lh,fh);var hh=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ch),ph=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Ec};ph.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},ph.prototype.isDone=function(){return!1},ph.prototype.getInteriorIntersections=function(){return this._interiorIntersections},ph.prototype.interfaces_=function(){return[Xf]},ph.prototype.getClass=function(){return ph};var dh=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new rc,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};dh.prototype.checkCorrectness=function(t){var e=df.getNodedSubstrings(t),n=new oh(e);try{n.checkValid()}catch(t){if(!(t instanceof Uu))throw t;t.printStackTrace()}},dh.prototype.getNodedSubstrings=function(){return df.getNodedSubstrings(this._nodedSegStrings)},dh.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},dh.prototype.findInteriorIntersections=function(t,e){var n=new ph(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},dh.prototype.computeVertexSnaps=function(){if(Tu(arguments[0],bc))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof df)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new sh(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},dh.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new wf,this._pointSnapper=new lh(this._noder.getIndex()),this.snapRound(t,this._li)},dh.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new sh(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},dh.prototype.interfaces_=function(){return[_f]},dh.prototype.getClass=function(){return dh};var yh=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Sf,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},vh={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};yh.prototype.bufferFixedPrecision=function(t){var e=new ih(new dh(new pl(1)),t.getScale()),n=new rh(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},yh.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=yh.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Pl))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=yh.precisionScaleFactor(this._argGeom,this._distance,n),i=new pl(r);this.bufferFixedPrecision(i)}},yh.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===pl.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},yh.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},yh.prototype.bufferOriginalPrecision=function(){try{var t=new rh(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Ju))throw t;this._saveException=t}},yh.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},yh.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},yh.prototype.interfaces_=function(){return[]},yh.prototype.getClass=function(){return yh},yh.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new yh(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof cc&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2],r=new yh(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(e)}if(arguments[2]instanceof Sf&&arguments[0]instanceof cc&&"number"==typeof arguments[1]){var i=arguments[1];return new yh(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var o=arguments[1],a=arguments[2],s=arguments[3],u=new yh(arguments[0]);return u.setQuadrantSegments(a),u.setEndCapStyle(s),u.getResultGeometry(o)}},yh.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=Mu.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},vh.CAP_ROUND.get=function(){return Sf.CAP_ROUND},vh.CAP_BUTT.get=function(){return Sf.CAP_FLAT},vh.CAP_FLAT.get=function(){return Sf.CAP_FLAT},vh.CAP_SQUARE.get=function(){return Sf.CAP_SQUARE},vh.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(yh,vh);var gh=function(){this._pt=[new Eu,new Eu],this._distance=mu.NaN,this._isNull=!0};gh.prototype.getCoordinates=function(){return this._pt},gh.prototype.getCoordinate=function(t){return this._pt[t]},gh.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},gh.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},gh.prototype.getDistance=function(){return this._distance},gh.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},gh.prototype.interfaces_=function(){return[]},gh.prototype.getClass=function(){return gh};var mh=function(){};mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh},mh.computeDistance=function(){if(arguments[2]instanceof gh&&arguments[0]instanceof Yc&&arguments[1]instanceof Eu)for(var t=arguments[1],e=arguments[2],n=arguments[0].getCoordinates(),r=new yf,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var o=r.closestPoint(t);e.setMinimum(o,t)}else if(arguments[2]instanceof gh&&arguments[0]instanceof Qc&&arguments[1]instanceof Eu){var a=arguments[0],s=arguments[1],u=arguments[2];mh.computeDistance(a.getExteriorRing(),s,u);for(var c=0;c<a.getNumInteriorRing();c++)mh.computeDistance(a.getInteriorRingN(c),s,u)}else if(arguments[2]instanceof gh&&arguments[0]instanceof cc&&arguments[1]instanceof Eu){var l=arguments[0],f=arguments[1],h=arguments[2];if(l instanceof Yc)mh.computeDistance(l,f,h);else if(l instanceof Qc)mh.computeDistance(l,f,h);else if(l instanceof qc)for(var p=l,d=0;d<p.getNumGeometries();d++){var y=p.getGeometryN(d);mh.computeDistance(y,f,h)}else h.setMinimum(l.getCoordinate(),f)}else if(arguments[2]instanceof gh&&arguments[0]instanceof yf&&arguments[1]instanceof Eu){var v=arguments[1],g=arguments[2],m=arguments[0].closestPoint(v);g.setMinimum(m,v)}};var bh=function(t){this._maxPtDist=new gh,this._inputGeom=t||null},_h={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};bh.prototype.computeMaxMidpointDistance=function(t){var e=new wh(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},bh.prototype.computeMaxVertexDistance=function(t){var e=new xh(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},bh.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},bh.prototype.getDistancePoints=function(){return this._maxPtDist},bh.prototype.interfaces_=function(){return[]},bh.prototype.getClass=function(){return bh},_h.MaxPointDistanceFilter.get=function(){return xh},_h.MaxMidpointDistanceFilter.get=function(){return wh},Object.defineProperties(bh,_h);var xh=function(t){this._maxPtDist=new gh,this._minPtDist=new gh,this._geom=t||null};xh.prototype.filter=function(t){this._minPtDist.initialize(),mh.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xh.prototype.getMaxPointDistance=function(){return this._maxPtDist},xh.prototype.interfaces_=function(){return[hc]},xh.prototype.getClass=function(){return xh};var wh=function(t){this._maxPtDist=new gh,this._minPtDist=new gh,this._geom=t||null};wh.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new Eu((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),mh.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wh.prototype.isDone=function(){return!1},wh.prototype.isGeometryChanged=function(){return!1},wh.prototype.getMaxPointDistance=function(){return this._maxPtDist},wh.prototype.interfaces_=function(){return[Uc]},wh.prototype.getClass=function(){return wh};var Eh=function(t){this._comps=t||null};Eh.prototype.filter=function(t){t instanceof Qc&&this._comps.add(t)},Eh.prototype.interfaces_=function(){return[Bc]},Eh.prototype.getClass=function(){return Eh},Eh.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Eh.getPolygons(t,new Ec)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Qc?n.add(e):e instanceof qc&&e.apply(new Eh(n)),n}};var Sh=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Sh.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof el){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Yc&&this._lines.add(t)},Sh.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Sh.prototype.interfaces_=function(){return[uc]},Sh.prototype.getClass=function(){return Sh},Sh.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Sh.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Sh.getLines(e,n))}},Sh.getLines=function(){if(1===arguments.length){var t=arguments[0];return Sh.getLines(t,!1)}if(2===arguments.length){if(Tu(arguments[0],bc)&&Tu(arguments[1],bc)){for(var e=arguments[1],n=arguments[0].iterator();n.hasNext();){var r=n.next();Sh.getLines(r,e)}return e}if(arguments[0]instanceof cc&&"boolean"==typeof arguments[1]){var i=arguments[0],o=arguments[1],a=new Ec;return i.apply(new Sh(a,o)),a}if(arguments[0]instanceof cc&&Tu(arguments[1],bc)){var s=arguments[0],u=arguments[1];return s instanceof Yc?u.add(s):s.apply(new Sh(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Tu(arguments[0],bc)&&Tu(arguments[1],bc)){for(var c=arguments[1],l=arguments[2],f=arguments[0].iterator();f.hasNext();){var h=f.next();Sh.getLines(h,c,l)}return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof cc&&Tu(arguments[1],bc)){var p=arguments[1],d=arguments[2];return arguments[0].apply(new Sh(p,d)),p}}};var kh=function(){if(this._boundaryRule=pc.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new gu("Rule must be non-null");this._boundaryRule=t}};kh.prototype.locateInternal=function(){if(arguments[0]instanceof Eu&&arguments[1]instanceof Qc){var t=arguments[0],e=arguments[1];if(e.isEmpty())return Cu.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===Cu.EXTERIOR)return Cu.EXTERIOR;if(r===Cu.BOUNDARY)return Cu.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),a=this.locateInPolygonRing(t,o);if(a===Cu.INTERIOR)return Cu.EXTERIOR;if(a===Cu.BOUNDARY)return Cu.BOUNDARY}return Cu.INTERIOR}if(arguments[0]instanceof Eu&&arguments[1]instanceof Yc){var s=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(s))return Cu.EXTERIOR;var c=u.getCoordinates();return u.isClosed()||!s.equals(c[0])&&!s.equals(c[c.length-1])?ac.isOnLine(s,c)?Cu.INTERIOR:Cu.EXTERIOR:Cu.BOUNDARY}if(arguments[0]instanceof Eu&&arguments[1]instanceof $c){var l=arguments[0];return arguments[1].getCoordinate().equals2D(l)?Cu.INTERIOR:Cu.EXTERIOR}},kh.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?ac.locatePointInRing(t,e.getCoordinates()):Cu.EXTERIOR},kh.prototype.intersects=function(t,e){return this.locate(t,e)!==Cu.EXTERIOR},kh.prototype.updateLocationInfo=function(t){t===Cu.INTERIOR&&(this._isIn=!0),t===Cu.BOUNDARY&&this._numBoundaries++},kh.prototype.computeLocation=function(t,e){if(e instanceof $c&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Yc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Qc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Vc)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof nl)for(var o=e,a=0;a<o.getNumGeometries();a++){var s=o.getGeometryN(a);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof qc)for(var u=new Uf(e);u.hasNext();){var c=u.next();c!==e&&this.computeLocation(t,c)}},kh.prototype.locate=function(t,e){return e.isEmpty()?Cu.EXTERIOR:e instanceof Yc||e instanceof Qc?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Cu.BOUNDARY:this._numBoundaries>0||this._isIn?Cu.INTERIOR:Cu.EXTERIOR)},kh.prototype.interfaces_=function(){return[]},kh.prototype.getClass=function(){return kh};var Oh=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._component=e,this._segIndex=n,this._pt=r}},Ch={INSIDE_AREA:{configurable:!0}};Oh.prototype.isInsideArea=function(){return this._segIndex===Oh.INSIDE_AREA},Oh.prototype.getCoordinate=function(){return this._pt},Oh.prototype.getGeometryComponent=function(){return this._component},Oh.prototype.getSegmentIndex=function(){return this._segIndex},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh},Ch.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Oh,Ch);var Ph=function(t){this._pts=t||null};Ph.prototype.filter=function(t){t instanceof $c&&this._pts.add(t)},Ph.prototype.interfaces_=function(){return[Bc]},Ph.prototype.getClass=function(){return Ph},Ph.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof $c?Ql.singletonList(t):Ph.getPoints(t,new Ec)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof $c?n.add(e):e instanceof qc&&e.apply(new Ph(n)),n}};var Th=function(){this._locations=null;var t=arguments[0];this._locations=t};Th.prototype.filter=function(t){(t instanceof $c||t instanceof Yc||t instanceof Qc)&&this._locations.add(new Oh(t,0,t.getCoordinate()))},Th.prototype.interfaces_=function(){return[Bc]},Th.prototype.getClass=function(){return Th},Th.getLocations=function(t){var e=new Ec;return t.apply(new Th(e)),e};var Mh=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new kh,this._minDistanceLocation=null,this._minDistance=mu.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Mh.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=Eh.getPolygons(this._geom[e]);if(i.size()>0){var o=Th.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Tu(arguments[0],wc)&&Tu(arguments[1],wc)){for(var a=arguments[0],s=arguments[1],u=arguments[2],c=0;c<a.size();c++)for(var l=a.get(c),f=0;f<s.size();f++)if(this.computeContainmentDistance(l,s.get(f),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Oh&&arguments[1]instanceof Qc){var h=arguments[0],p=arguments[1],d=arguments[2],y=h.getCoordinate();if(Cu.EXTERIOR!==this._ptLocator.locate(y,p))return this._minDistance=0,d[0]=h,d[1]=new Oh(p,y),null}},Mh.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Mh.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Sh.getLines(this._geom[0]),n=Sh.getLines(this._geom[1]),r=Ph.getPoints(this._geom[0]),i=Ph.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Mh.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Mh.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Mh.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Mh.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Yc&&arguments[1]instanceof $c){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var a=ac.distancePointLine(i,r[o],r[o+1]);if(a<this._minDistance){this._minDistance=a;var s=new yf(r[o],r[o+1]).closestPoint(i);n[0]=new Oh(t,o,s),n[1]=new Oh(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Yc&&arguments[1]instanceof Yc){var u=arguments[0],c=arguments[1],l=arguments[2];if(u.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this._minDistance)return null;for(var f=u.getCoordinates(),h=c.getCoordinates(),p=0;p<f.length-1;p++)for(var d=0;d<h.length-1;d++){var y=ac.distanceLineLine(f[p],f[p+1],h[d],h[d+1]);if(y<this._minDistance){this._minDistance=y;var v=new yf(f[p],f[p+1]),g=new yf(h[d],h[d+1]),m=v.closestPoints(g);l[0]=new Oh(u,p,m[0]),l[1]=new Oh(c,d,m[1])}if(this._minDistance<=this._terminateDistance)return null}}},Mh.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new Oh(i,0,i.getCoordinate()),n[1]=new Oh(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Mh.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new gu("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Mh.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Mh.prototype.interfaces_=function(){return[]},Mh.prototype.getClass=function(){return Mh},Mh.distance=function(t,e){return new Mh(t,e).distance()},Mh.isWithinDistance=function(t,e,n){return new Mh(t,e,n).distance()<=n},Mh.nearestPoints=function(t,e){return new Mh(t,e).nearestPoints()};var Ah=function(){this._pt=[new Eu,new Eu],this._distance=mu.NaN,this._isNull=!0};Ah.prototype.getCoordinates=function(){return this._pt},Ah.prototype.getCoordinate=function(t){return this._pt[t]},Ah.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Ah.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Ah.prototype.toString=function(){return $u.toLineString(this._pt[0],this._pt[1])},Ah.prototype.getDistance=function(){return this._distance},Ah.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Ah.prototype.interfaces_=function(){return[]},Ah.prototype.getClass=function(){return Ah};var Ih=function(){};Ih.prototype.interfaces_=function(){return[]},Ih.prototype.getClass=function(){return Ih},Ih.computeDistance=function(){if(arguments[2]instanceof Ah&&arguments[0]instanceof Yc&&arguments[1]instanceof Eu)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new yf,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var a=r.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof Ah&&arguments[0]instanceof Qc&&arguments[1]instanceof Eu){var s=arguments[0],u=arguments[1],c=arguments[2];Ih.computeDistance(s.getExteriorRing(),u,c);for(var l=0;l<s.getNumInteriorRing();l++)Ih.computeDistance(s.getInteriorRingN(l),u,c)}else if(arguments[2]instanceof Ah&&arguments[0]instanceof cc&&arguments[1]instanceof Eu){var f=arguments[0],h=arguments[1],p=arguments[2];if(f instanceof Yc)Ih.computeDistance(f,h,p);else if(f instanceof Qc)Ih.computeDistance(f,h,p);else if(f instanceof qc)for(var d=f,y=0;y<d.getNumGeometries();y++){var v=d.getGeometryN(y);Ih.computeDistance(v,h,p)}else p.setMinimum(f.getCoordinate(),h)}else if(arguments[2]instanceof Ah&&arguments[0]instanceof yf&&arguments[1]instanceof Eu){var g=arguments[1],m=arguments[2],b=arguments[0].closestPoint(g);m.setMinimum(b,g)}};var jh=function(){this._g0=null,this._g1=null,this._ptDist=new Ah,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Rh={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};jh.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},jh.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new gu("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},jh.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},jh.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},jh.prototype.computeOrientedDistance=function(t,e,n){var r=new Dh(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Nh(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},jh.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},jh.prototype.interfaces_=function(){return[]},jh.prototype.getClass=function(){return jh},jh.distance=function(){if(2===arguments.length)return new jh(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],e=new jh(arguments[0],arguments[1]);return e.setDensifyFraction(t),e.distance()}},Rh.MaxPointDistanceFilter.get=function(){return Dh},Rh.MaxDensifiedByFractionDistanceFilter.get=function(){return Nh},Object.defineProperties(jh,Rh);var Dh=function(){this._maxPtDist=new Ah,this._minPtDist=new Ah,this._euclideanDist=new Ih,this._geom=null;var t=arguments[0];this._geom=t};Dh.prototype.filter=function(t){this._minPtDist.initialize(),Ih.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Dh.prototype.getMaxPointDistance=function(){return this._maxPtDist},Dh.prototype.interfaces_=function(){return[hc]},Dh.prototype.getClass=function(){return Dh};var Nh=function(){this._maxPtDist=new Ah,this._minPtDist=new Ah,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Nh.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=n.x+a*i,u=n.y+a*o,c=new Eu(s,u);this._minPtDist.initialize(),Ih.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Nh.prototype.isDone=function(){return!1},Nh.prototype.isGeometryChanged=function(){return!1},Nh.prototype.getMaxPointDistance=function(){return this._maxPtDist},Nh.prototype.interfaces_=function(){return[Uc]},Nh.prototype.getClass=function(){return Nh};var Lh=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},zh={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Lh.prototype.checkMaximumDistance=function(t,e,n){var r=new jh(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+$u.toLineString(i[0],i[1])+")"}},Lh.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Lh.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Lh.VERBOSE&&Vu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Lh.prototype.checkNegativeValid=function(){if(!(this._input instanceof Qc||this._input instanceof nl||this._input instanceof qc))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Lh.prototype.getErrorIndicator=function(){return this._errorIndicator},Lh.prototype.checkMinimumDistance=function(t,e,n){var r=new Mh(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+$u.toLineString(i[0],i[1])+" )"}},Lh.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Lh.prototype.getErrorLocation=function(){return this._errorLocation},Lh.prototype.getPolygonLines=function(t){for(var e=new Ec,n=new Sh(e),r=Eh.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},Lh.prototype.getErrorMessage=function(){return this._errMsg},Lh.prototype.interfaces_=function(){return[]},Lh.prototype.getClass=function(){return Lh},zh.VERBOSE.get=function(){return!1},zh.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Lh,zh);var Fh=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Bh={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Fh.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Fh.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Fh.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Wu(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Wu(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Fh.prototype.checkDistance=function(){var t=new Lh(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Fh.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Fh.prototype.checkPolygonal=function(){this._result instanceof Qc||this._result instanceof nl||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Fh.prototype.getErrorIndicator=function(){return this._errorIndicator},Fh.prototype.getErrorLocation=function(){return this._errorLocation},Fh.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Fh.prototype.report=function(t){if(!Fh.VERBOSE)return null;Vu.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Fh.prototype.getErrorMessage=function(){return this._errorMsg},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh},Fh.isValidMsg=function(t,e,n){var r=new Fh(t,e,n);return r.isValid()?null:r.getErrorMessage()},Fh.isValid=function(t,e,n){return!!new Fh(t,e,n).isValid()},Bh.VERBOSE.get=function(){return!1},Bh.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Fh,Bh);var Uh=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Uh.prototype.getCoordinates=function(){return this._pts},Uh.prototype.size=function(){return this._pts.length},Uh.prototype.getCoordinate=function(t){return this._pts[t]},Uh.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Uh.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:ff.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Uh.prototype.setData=function(t){this._data=t},Uh.prototype.getData=function(){return this._data},Uh.prototype.toString=function(){return $u.toLineString(new ul(this._pts))},Uh.prototype.interfaces_=function(){return[hf]},Uh.prototype.getClass=function(){return Uh};var qh=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Ec,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};qh.prototype.getInteriorIntersection=function(){return this._interiorIntersection},qh.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},qh.prototype.getIntersectionSegments=function(){return this._intSegments},qh.prototype.count=function(){return this._intersectionCount},qh.prototype.getIntersections=function(){return this._intersections},qh.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},qh.prototype.setKeepIntersections=function(t){this._keepIntersections=t},qh.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},qh.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},qh.prototype.hasIntersection=function(){return null!==this._interiorIntersection},qh.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},qh.prototype.interfaces_=function(){return[Xf]},qh.prototype.getClass=function(){return qh},qh.createAllIntersectionsFinder=function(t){var e=new qh(t);return e.setFindAllIntersections(!0),e},qh.createAnyIntersectionFinder=function(t){return new qh(t)},qh.createIntersectionCounter=function(t){var e=new qh(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Vh=function(){this._li=new rc,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Vh.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Vh.prototype.getIntersections=function(){return this._segInt.getIntersections()},Vh.prototype.isValid=function(){return this.execute(),this._isValid},Vh.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Vh.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new qh(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new wf;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Vh.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Pl(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Vh.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+$u.toLineString(t[0],t[1])+" and "+$u.toLineString(t[2],t[3])},Vh.prototype.interfaces_=function(){return[]},Vh.prototype.getClass=function(){return Vh},Vh.computeIntersections=function(t){var e=new Vh(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Gh=function t(){this._nv=null;var e=arguments[0];this._nv=new Vh(t.toSegmentStrings(e))};Gh.prototype.checkValid=function(){this._nv.checkValid()},Gh.prototype.interfaces_=function(){return[]},Gh.prototype.getClass=function(){return Gh},Gh.toSegmentStrings=function(t){for(var e=new Ec,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Uh(r.getCoordinates(),r))}return e},Gh.checkValid=function(t){new Gh(t).checkValid()};var Wh=function(t){this._mapOp=t};Wh.prototype.map=function(t){for(var e=new Ec,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(gl.toGeometryArray(e))},Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh},Wh.map=function(t,e){return new Wh(e).map(t)};var Hh=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Ec,this._resultLineList=new Ec;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Hh.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Hh.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Hh.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Hh.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Op.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},Hh.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Hh.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Hh.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Hh.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(tc.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Op.isResultOfOp(r,e)&&e===Op.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Hh.prototype.interfaces_=function(){return[]},Hh.prototype.getClass=function(){return Hh};var Kh=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Ec;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Kh.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Kh.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===Op.INTERSECTION)){var r=n.getLabel();Op.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Kh.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Kh.prototype.interfaces_=function(){return[]},Kh.prototype.getClass=function(){return Kh};var Xh=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Xh.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Xh.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof el&&!r.isEmpty()||(n=!1);for(var i=new Ec,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof el||(n=!1),i.add(a))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new Ec;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},Xh.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Xh.prototype.getInputGeometry=function(){return this._inputGeom},Xh.prototype.transformMultiLineString=function(t,e){for(var n=new Ec,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xh.prototype.transformCoordinates=function(t,e){return this.copy(t)},Xh.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Xh.prototype.transformMultiPoint=function(t,e){for(var n=new Ec,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xh.prototype.transformMultiPolygon=function(t,e){for(var n=new Ec,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xh.prototype.copy=function(t){return t.copy()},Xh.prototype.transformGeometryCollection=function(t,e){for(var n=new Ec,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(gl.toGeometryArray(n)):this._factory.buildGeometry(n)},Xh.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof $c)return this.transformPoint(t,null);if(t instanceof tl)return this.transformMultiPoint(t,null);if(t instanceof el)return this.transformLinearRing(t,null);if(t instanceof Yc)return this.transformLineString(t,null);if(t instanceof Vc)return this.transformMultiLineString(t,null);if(t instanceof Qc)return this.transformPolygon(t,null);if(t instanceof nl)return this.transformMultiPolygon(t,null);if(t instanceof qc)return this.transformGeometryCollection(t,null);throw new gu("Unknown Geometry subtype: "+t.getClass().getName())},Xh.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Xh.prototype.interfaces_=function(){return[]},Xh.prototype.getClass=function(){return Xh};var Yh=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new yf,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Yc&&"number"==typeof arguments[1]){var e=arguments[1];t.call(this,arguments[0].getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=r}};Yh.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new Eu(o)),0===r&&this._isClosed&&t.set(t.size()-1,new Eu(o)))}},Yh.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Yh.prototype.snapTo=function(t){var e=new kc(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Yh.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new Eu(i),!1)}},Yh.prototype.findSegmentIndexToSnap=function(t,e){for(var n=mu.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Yh.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh},Yh.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Zh=function(t){this._srcGeom=t||null},$h={SNAP_PRECISION_FACTOR:{configurable:!0}};Zh.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Jh(e,n).transform(this._srcGeom)},Zh.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Jh(t,n,!0).transform(this._srcGeom),i=r;return e&&Tu(i,Jc)&&(i=r.buffer(0)),i},Zh.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Zh.prototype.extractTargetCoordinates=function(t){for(var e=new Bi,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Zh.prototype.computeMinimumSegmentLength=function(t){for(var e=mu.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Zh.prototype.interfaces_=function(){return[]},Zh.prototype.getClass=function(){return Zh},Zh.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Zh(t);r[0]=i.snapTo(e,n);var o=new Zh(e);return r[1]=o.snapTo(r[0],n),r},Zh.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Zh.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===pl.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(Zh.computeOverlaySnapTolerance(i),Zh.computeOverlaySnapTolerance(o))}},Zh.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Zh.SNAP_PRECISION_FACTOR},Zh.snapToSelf=function(t,e,n){return new Zh(t).snapToSelf(e,n)},$h.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Zh,$h);var Jh=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Yh(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xh),Qh=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Qh.prototype.getCommon=function(){return mu.longBitsToDouble(this._commonBits)},Qh.prototype.add=function(t){var e=mu.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Qh.signExpBits(this._commonBits),this._isFirst=!1,null):Qh.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Qh.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Qh.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Qh.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=mu.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+mu.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},Qh.prototype.interfaces_=function(){return[]},Qh.prototype.getClass=function(){return Qh},Qh.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Qh.signExpBits=function(t){return t>>52},Qh.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Qh.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Qh.getBit(t,r)!==Qh.getBit(e,r))return n;n++}return 52};var tp=function(){this._commonCoord=null,this._ccFilter=new np},ep={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};tp.prototype.addCommonBits=function(t){var e=new rp(this._commonCoord);t.apply(e),t.geometryChanged()},tp.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new Eu(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new rp(e);return t.apply(n),t.geometryChanged(),t},tp.prototype.getCommonCoordinate=function(){return this._commonCoord},tp.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},tp.prototype.interfaces_=function(){return[]},tp.prototype.getClass=function(){return tp},ep.CommonCoordinateFilter.get=function(){return np},ep.Translater.get=function(){return rp},Object.defineProperties(tp,ep);var np=function(){this._commonBitsX=new Qh,this._commonBitsY=new Qh};np.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},np.prototype.getCommonCoordinate=function(){return new Eu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},np.prototype.interfaces_=function(){return[hc]},np.prototype.getClass=function(){return np};var rp=function(){this.trans=null;var t=arguments[0];this.trans=t};rp.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},rp.prototype.isDone=function(){return!1},rp.prototype.isGeometryChanged=function(){return!0},rp.prototype.interfaces_=function(){return[Uc]},rp.prototype.getClass=function(){return rp};var ip=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};ip.prototype.selfSnap=function(t){return new Zh(t).snapTo(t,this._snapTolerance)},ip.prototype.removeCommonBits=function(t){this._cbr=new tp,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},ip.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},ip.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Op.overlayOp(e[0],e[1],t);return this.prepareResult(n)},ip.prototype.checkValid=function(t){t.isValid()||Vu.out.println("Snapped geometry is invalid")},ip.prototype.computeSnapTolerance=function(){this._snapTolerance=Zh.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},ip.prototype.snap=function(t){var e=this.removeCommonBits(t);return Zh.snap(e[0],e[1],this._snapTolerance)},ip.prototype.interfaces_=function(){return[]},ip.prototype.getClass=function(){return ip},ip.overlayOp=function(t,e,n){return new ip(t,e).getResultGeometry(n)},ip.union=function(t,e){return ip.overlayOp(t,e,Op.UNION)},ip.intersection=function(t,e){return ip.overlayOp(t,e,Op.INTERSECTION)},ip.symDifference=function(t,e){return ip.overlayOp(t,e,Op.SYMDIFFERENCE)},ip.difference=function(t,e){return ip.overlayOp(t,e,Op.DIFFERENCE)};var op=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};op.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Op.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Ju))throw t;r=t}if(!n)try{e=ip.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Ju?r:t}return e},op.prototype.interfaces_=function(){return[]},op.prototype.getClass=function(){return op},op.overlayOp=function(t,e,n){return new op(t,e).getResultGeometry(n)},op.union=function(t,e){return op.overlayOp(t,e,Op.UNION)},op.intersection=function(t,e){return op.overlayOp(t,e,Op.INTERSECTION)},op.symDifference=function(t,e){return op.overlayOp(t,e,Op.SYMDIFFERENCE)},op.difference=function(t,e){return op.overlayOp(t,e,Op.DIFFERENCE)};var ap=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};ap.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},ap.prototype.interfaces_=function(){return[]},ap.prototype.getClass=function(){return ap};var sp=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},up={INSERT:{configurable:!0},DELETE:{configurable:!0}};sp.prototype.isDelete=function(){return this._eventType===sp.DELETE},sp.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},sp.prototype.getObject=function(){return this._obj},sp.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},sp.prototype.getInsertEvent=function(){return this._insertEvent},sp.prototype.isInsert=function(){return this._eventType===sp.INSERT},sp.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},sp.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},sp.prototype.interfaces_=function(){return[_u]},sp.prototype.getClass=function(){return sp},up.INSERT.get=function(){return 1},up.DELETE.get=function(){return 2},Object.defineProperties(sp,up);var cp=function(){};cp.prototype.interfaces_=function(){return[]},cp.prototype.getClass=function(){return cp};var lp=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};lp.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(lp.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},lp.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},lp.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},lp.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},lp.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},lp.prototype.hasProperIntersection=function(){return this._hasProper},lp.prototype.hasIntersection=function(){return this._hasIntersection},lp.prototype.isDone=function(){return this._isDone},lp.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},lp.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},lp.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},lp.prototype.interfaces_=function(){return[]},lp.prototype.getClass=function(){return lp},lp.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var fp=function(t){function e(){t.call(this),this.events=new Ec,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){Ql.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof lp&&Tu(arguments[0],wc)&&Tu(arguments[1],wc)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&Tu(arguments[0],wc)&&arguments[1]instanceof lp){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new ap(n,i),a=new sp(e,n.getMinX(i),o);this.events.add(a),this.events.add(new sp(n.getMaxX(i),a))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var i=r.next();this.addEdge(i,n)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(cp),hp=function(){this._min=mu.POSITIVE_INFINITY,this._max=mu.NEGATIVE_INFINITY},pp={NodeComparator:{configurable:!0}};hp.prototype.getMin=function(){return this._min},hp.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},hp.prototype.getMax=function(){return this._max},hp.prototype.toString=function(){return $u.toLineString(new Eu(this._min,0),new Eu(this._max,0))},hp.prototype.interfaces_=function(){return[]},hp.prototype.getClass=function(){return hp},pp.NodeComparator.get=function(){return dp},Object.defineProperties(hp,pp);var dp=function(){};dp.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},dp.prototype.interfaces_=function(){return[wu]},dp.prototype.getClass=function(){return dp};var yp=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hp),vp=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hp),gp=function(){this._leaves=new Ec,this._root=null,this._level=0};gp.prototype.buildTree=function(){Ql.sort(this._leaves,new hp.NodeComparator);for(var t=this._leaves,e=null,n=new Ec;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},gp.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new yp(t,e,n))},gp.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},gp.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},gp.prototype.printNode=function(t){Vu.out.println($u.toLineString(new Eu(t._min,this._level),new Eu(t._max,this._level)))},gp.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},gp.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new vp(t.get(n),t.get(n+1));e.add(i)}}},gp.prototype.interfaces_=function(){return[]},gp.prototype.getClass=function(){return gp};var mp=function(){this._items=new Ec};mp.prototype.visitItem=function(t){this._items.add(t)},mp.prototype.getItems=function(){return this._items},mp.prototype.interfaces_=function(){return[Yl]},mp.prototype.getClass=function(){return mp};var bp=function(){this._index=null;var t=arguments[0];if(!Tu(t,Jc))throw new gu("Argument must be Polygonal");this._index=new wp(t)},_p={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};bp.prototype.locate=function(t){var e=new oc(t),n=new xp(e);return this._index.query(t.y,t.y,n),e.getLocation()},bp.prototype.interfaces_=function(){return[Bf]},bp.prototype.getClass=function(){return bp},_p.SegmentVisitor.get=function(){return xp},_p.IntervalIndexedGeometry.get=function(){return wp},Object.defineProperties(bp,_p);var xp=function(){this._counter=null;var t=arguments[0];this._counter=t};xp.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},xp.prototype.interfaces_=function(){return[Yl]},xp.prototype.getClass=function(){return xp};var wp=function(){this._index=new gp;var t=arguments[0];this.init(t)};wp.prototype.init=function(t){for(var e=Sh.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},wp.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new yf(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},wp.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new mp;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},wp.prototype.interfaces_=function(){return[]},wp.prototype.getClass=function(){return wp};var Ep=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new hl,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new kh,2===arguments.length){var e=arguments[0],n=arguments[1],r=pc.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=a,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;Cu.NONE,r.getLocation(t,kl.ON)===Cu.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[1],r=arguments[2],i=new lp(arguments[0],!0,!1);i.setIsDoneIfProperInt(r);var o=this.createEdgeSetIntersector(),a=this._parentGeom instanceof el||this._parentGeom instanceof Qc||this._parentGeom instanceof nl,s=n||!a;return o.computeIntersections(this._edges,i,s),this.addSelfIntersectionNodes(this._argIndex),i}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new lp(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof $c){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,Cu.INTERIOR)}else if(arguments[0]instanceof Eu){var e=arguments[0];this.insertPoint(this._argIndex,e,Cu.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),Cu.EXTERIOR,Cu.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,Cu.INTERIOR,Cu.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Cu.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Cu.BOUNDARY)},e.prototype.addLineString=function(t){var e=Oc.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new nh(e,new Il(this._argIndex,Cu.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),tc.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===Cu.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Oc.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;ac.isCCW(r)&&(i=n,o=e);var a=new nh(r,new Il(this._argIndex,Cu.BOUNDARY,i,o));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],Cu.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new Il(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new fp},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof nl&&(this._useBoundaryDeterminationRule=!1),e instanceof Qc)this.addPolygon(e);else if(e instanceof Yc)this.addLineString(e);else if(e instanceof $c)this.addPoint(e);else if(e instanceof tl)this.addCollection(e);else if(e instanceof Vc)this.addCollection(e);else if(e instanceof nl)this.addCollection(e);else{if(!(e instanceof qc))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return Tu(this._parentGeom,Jc)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new bp(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?Cu.BOUNDARY:Cu.INTERIOR},e}(Gl),Sp=function(){if(this._li=new rc,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Ep(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=pc.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ep(0,e,r),this._arg[1]=new Ep(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ep(0,i,a),this._arg[1]=new Ep(1,o,a)}};Sp.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Sp.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Sp.prototype.interfaces_=function(){return[]},Sp.prototype.getClass=function(){return Sp};var kp=function(){};kp.prototype.interfaces_=function(){return[]},kp.prototype.getClass=function(){return kp},kp.map=function(){if(arguments[0]instanceof cc&&Tu(arguments[1],kp.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Ec,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(Tu(arguments[0],bc)&&Tu(arguments[1],kp.MapOp)){for(var o=arguments[0],a=arguments[1],s=new Ec,u=o.iterator();u.hasNext();){var c=u.next(),l=a.map(c);null!==l&&s.add(l)}return s}},kp.MapOp=function(){};var Op=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new kh,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Kf,this._resultPolyList=new Ec,this._resultLineList=new Ec,this._resultPointList=new Ec,this._graph=new Gl(new Wf),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Il(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new Ec;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==Cu.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Ec,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Ec;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Gh.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Wl(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Hh(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Kh(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,kl.RIGHT),i.getLocation(1,kl.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(tc.isTrue(!r.isNull(i,kl.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,kl.LEFT,r.getLocation(i,kl.LEFT)),tc.isTrue(!r.isNull(i,kl.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,kl.RIGHT,r.getLocation(i,kl.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Sp);Op.overlayOp=function(t,e,n){return new Op(t,e).getResultGeometry(n)},Op.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Op.createEmptyResult(Op.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Wh.map(t,{interfaces_:function(){return[kp.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),op.overlayOp(t,e,Op.INTERSECTION)},Op.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Op.createEmptyResult(Op.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),op.overlayOp(t,e,Op.SYMDIFFERENCE)},Op.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Op.INTERSECTION:o=Math.min(r,i);break;case Op.UNION:o=Math.max(r,i);break;case Op.DIFFERENCE:o=r;break;case Op.SYMDIFFERENCE:o=Math.max(r,i)}return o},Op.createEmptyResult=function(t,e,n,r){var i=null;switch(Op.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Op.difference=function(t,e){return t.isEmpty()?Op.createEmptyResult(Op.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),op.overlayOp(t,e,Op.DIFFERENCE))},Op.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Op.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===Cu.BOUNDARY&&(i=Cu.INTERIOR),o===Cu.BOUNDARY&&(o=Cu.INTERIOR),a){case Op.INTERSECTION:return i===Cu.INTERIOR&&o===Cu.INTERIOR;case Op.UNION:return i===Cu.INTERIOR||o===Cu.INTERIOR;case Op.DIFFERENCE:return i===Cu.INTERIOR&&o!==Cu.INTERIOR;case Op.SYMDIFFERENCE:return i===Cu.INTERIOR&&o!==Cu.INTERIOR||i!==Cu.INTERIOR&&o===Cu.INTERIOR}return!1}},Op.INTERSECTION=1,Op.UNION=2,Op.DIFFERENCE=3,Op.SYMDIFFERENCE=4;var Cp=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new kh,this._seg=new yf;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Cp.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Cp.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Cu.BOUNDARY:this._ptLocator.locate(t,this._g)},Cp.prototype.extractLinework=function(t){var e=new Pp;t.apply(e);var n=e.getLinework(),r=gl.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Cp.prototype.interfaces_=function(){return[]},Cp.prototype.getClass=function(){return Cp};var Pp=function(){this._linework=null,this._linework=new Ec};Pp.prototype.getLinework=function(){return this._linework},Pp.prototype.filter=function(t){if(t instanceof Qc){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Pp.prototype.interfaces_=function(){return[Bc]},Pp.prototype.getClass=function(){return Pp};var Tp=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Tp.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Tp.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Tp.prototype.getPoints=function(t){for(var e=new Ec,n=Sh.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Tp.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=Math.sqrt(i*i+o*o),s=n*i/a,u=n*o/a,c=(e.x+t.x)/2,l=(e.y+t.y)/2;if(this._doLeft){var f=new Eu(c-u,l+s);r.add(f)}if(this._doRight){var h=new Eu(c+u,l-s);r.add(h)}},Tp.prototype.interfaces_=function(){return[]},Tp.prototype.getClass=function(){return Tp};var Mp=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Ec;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Cp(this._geom[0],this._boundaryDistanceTolerance),new Cp(this._geom[1],this._boundaryDistanceTolerance),new Cp(this._geom[2],this._boundaryDistanceTolerance)]},Ap={TOLERANCE:{configurable:!0}};Mp.prototype.reportResult=function(t,e,n){Vu.out.println("Overlay result invalid - A:"+Cu.toLocationSymbol(e[0])+" B:"+Cu.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+Cu.toLocationSymbol(e[2]))},Mp.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Mp.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Mp.hasLocation(this._location,Cu.BOUNDARY)||this.isValidResult(r,this._location)}},Mp.prototype.addTestPts=function(t){var e=new Tp(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Mp.prototype.isValidResult=function(t,e){var n=Op.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===Cu.INTERIOR);return r||this.reportResult(t,e,n),r},Mp.prototype.getInvalidLocation=function(){return this._invalidLocation},Mp.prototype.interfaces_=function(){return[]},Mp.prototype.getClass=function(){return Mp},Mp.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Mp.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Zh.computeSizeBasedSnapTolerance(t),Zh.computeSizeBasedSnapTolerance(e))},Mp.isValid=function(t,e,n,r){return new Mp(t,e,r).isValid(n)},Ap.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Mp,Ap);var Ip=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Ip.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},Ip.prototype.combine=function(){for(var t=new Ec,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Ip.prototype.interfaces_=function(){return[]},Ip.prototype.getClass=function(){return Ip},Ip.combine=function(){if(1===arguments.length)return new Ip(arguments[0]).combine();if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Ip(Ip.createList(t,e)).combine()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];return new Ip(Ip.createList(n,r,i)).combine()}},Ip.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Ip.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Ec;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=new Ec;return a.add(r),a.add(i),a.add(o),a}};var jp=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Ec)},Rp={STRTREE_NODE_CAPACITY:{configurable:!0}};jp.prototype.reduceToGeometries=function(t){for(var e=new Ec,n=t.iterator();n.hasNext();){var r=n.next(),i=null;Tu(r,wc)?i=this.unionTree(r):r instanceof cc&&(i=r),e.add(i)}return e},jp.prototype.extractByEnvelope=function(t,e,n){for(var r=new Ec,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},jp.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return Ip.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},jp.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new af(jp.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},jp.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=jp.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(jp.getGeometry(e,n),jp.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),a=this.binaryUnion(e,n,o),s=this.binaryUnion(e,o,r);return this.unionSafe(a,s)}},jp.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},jp.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},jp.prototype.unionActual=function(t,e){return jp.restrictToPolygons(t.union(e))},jp.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},jp.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new Ec,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),a=this.unionActual(i,o);return r.add(a),Ip.combine(r)},jp.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},jp.prototype.interfaces_=function(){return[]},jp.prototype.getClass=function(){return jp},jp.restrictToPolygons=function(t){if(Tu(t,Jc))return t;var e=Eh.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(gl.toPolygonArray(e))},jp.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},jp.union=function(t){return new jp(t).union()},Rp.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(jp,Rp);var Dp=function(){};Dp.prototype.interfaces_=function(){return[]},Dp.prototype.getClass=function(){return Dp},Dp.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Op.createEmptyResult(Op.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),op.overlayOp(t,e,Op.UNION)};var Np=function(){return new Wi};Wi.prototype={constructor:Wi,reset:function(){this.s=this.t=0},add:function(t){Hi(Lp,t,this.t),Hi(this,Lp.s,this.s),this.s?this.t+=Lp.t:this.s=Lp.t},valueOf:function(){return this.s}};var Lp=new Wi,zp=1e-6,Fp=Math.PI,Bp=Fp/2,Up=Fp/4,qp=2*Fp,Vp=180/Fp,Gp=Fp/180,Wp=Math.abs,Hp=Math.atan,Kp=Math.atan2,Xp=Math.cos,Yp=Math.exp,Zp=Math.log,$p=Math.sin,Jp=Math.sqrt,Qp=Math.tan,td={Feature:function(t,e){Yi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Yi(n[r].geometry,e)}},ed={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Zi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Zi(n[r],e,0)},Polygon:function(t,e){$i(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)$i(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Yi(n[r],e)}},nd=function(t,e){t&&td.hasOwnProperty(t.type)?td[t.type](t,e):Yi(t,e)},rd=(Np(),Np(),Np(),function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n});oo.invert=oo;var id=function(t){function e(e){return(e=t(e[0]*Gp,e[1]*Gp))[0]*=Vp,e[1]*=Vp,e}return t=ao(t[0]*Gp,t[1]*Gp,t.length>2?t[2]*Gp:0),e.invert=function(e){return(e=t.invert(e[0]*Gp,e[1]*Gp))[0]*=Vp,e[1]*=Vp,e},e},od=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Xi,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},ad=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=0,l=1,f=e[0]-s,h=e[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=o-u,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*f,t[1]=u+c*h),l<1&&(e[0]=s+l*f,e[1]=u+l*h),!0}}}}},sd=function(t,e){return Wp(t[0]-e[0])<zp&&Wp(t[1]-e[1])<zp},ud=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(sd(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new fo(r,t,null,!0)),u.push(n.o=new fo(r,null,n,!1)),s.push(n=new fo(a,t,null,!1)),u.push(n.o=new fo(a,null,n,!0))}})),s.length){for(u.sort(e),ho(s),ho(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var c,l,f=s[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}},cd=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},ld=(function(t){1===t.length&&(t=function(t){return function(e,n){return cd(t(e),n)}}(t))}(cd),function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}),fd=1e9,hd=-fd,pd=Np(),dd=(Np(),function(t){return t}),yd=(Np(),Np(),1/0),vd=yd,gd=-yd,md=gd,bd={point:function(t,e){t<yd&&(yd=t),t>gd&&(gd=t),e<vd&&(vd=e),e>md&&(md=e)},lineStart:Xi,lineEnd:Xi,polygonStart:Xi,polygonEnd:Xi,result:function(){var t=[[yd,vd],[gd,md]];return gd=md=-(vd=yd=1/0),t}},_d=(Np(),function(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);v.point(n[0],n[1])}function u(){x.point=s,v.lineStart()}function c(){x.point=a,v.lineEnd()}function l(t,e){y.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function f(){b.lineStart(),y=[]}function h(){l(y[0][0],y[0][1]),b.lineEnd();var t,e,n,r,i=b.clean(),a=m.result(),s=a.length;if(y.pop(),p.push(y),y=null,s)if(1&i){if((e=(n=a[0]).length-1)>0){for(_||(o.polygonStart(),_=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else s>1&&2&i&&a.push(a.pop().concat(a.shift())),d.push(a.filter(yo))}var p,d,y,v=e(o),g=i.invert(r[0],r[1]),m=od(),b=e(m),_=!1,x={point:a,lineStart:u,lineEnd:c,polygonStart:function(){x.point=l,x.lineStart=f,x.lineEnd=h,d=[],p=[]},polygonEnd:function(){x.point=a,x.lineStart=u,x.lineEnd=c,d=ld(d);var t=function(t,e){var n=e[0],r=e[1],i=[$p(n),-Xp(n),0],o=0,a=0;pd.reset();for(var s=0,u=t.length;s<u;++s)if(l=(c=t[s]).length)for(var c,l,f=c[l-1],h=f[0],p=f[1]/2+Up,d=$p(p),y=Xp(p),v=0;v<l;++v,h=m,d=_,y=x,f=g){var g=c[v],m=g[0],b=g[1]/2+Up,_=$p(b),x=Xp(b),w=m-h,E=w>=0?1:-1,S=E*w,k=S>Fp,O=d*_;if(pd.add(Kp(O*E*$p(S),y*x+O*Xp(S))),o+=k?w+E*qp:w,k^h>=n^m>=n){var C=eo(Qi(f),Qi(g));io(C);var P=eo(i,C);io(P);var T=(k^w>=0?-1:1)*Ki(P[2]);(r>T||r===T&&(C[0]||C[1]))&&(a+=k^w>=0?1:-1)}}return(o<-zp||o<zp&&pd<-zp)^1&a}(p,g);d.length?(_||(o.polygonStart(),_=!0),ud(d,vo,t,n,o)):t&&(_||(o.polygonStart(),_=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),_&&(o.polygonEnd(),_=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return x}}),xd=_d((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Fp:-Fp,u=Wp(o-n);Wp(u-Fp)<zp?(t.point(n,r=(r+a)/2>0?Bp:-Bp),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Fp&&(Wp(n-i)<zp&&(n-=i*zp),Wp(o-s)<zp&&(o-=s*zp),r=function(t,e,n,r){var i,o,a=$p(t-n);return Wp(a)>zp?Hp(($p(e)*(o=Xp(r))*$p(n)-$p(r)*(i=Xp(e))*$p(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Bp,r.point(-Fp,i),r.point(0,i),r.point(Fp,i),r.point(Fp,0),r.point(Fp,-i),r.point(0,-i),r.point(-Fp,-i),r.point(-Fp,0),r.point(-Fp,i);else if(Wp(t[0]-e[0])>zp){var o=t[0]<e[0]?Fp:-Fp;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Fp,-Bp]),wd=function(t,e){function n(t,e){return Xp(t)*Xp(e)>o}function r(t,e,n){var r=[1,0,0],i=eo(Qi(t),Qi(e)),a=to(i,i),s=i[0],u=a-s*s;if(!u)return!n&&t;var c=o*a/u,l=-o*s/u,f=eo(r,i),h=ro(r,c);no(h,ro(i,l));var p=f,d=to(h,p),y=to(p,p),v=d*d-y*(to(h,h)-1);if(!(v<0)){var g=Jp(v),m=ro(p,(-d-g)/y);if(no(m,h),m=Ji(m),!n)return m;var b,_=t[0],x=e[0],w=t[1],E=e[1];x<_&&(b=_,_=x,x=b);var S=x-_,k=Wp(S-Fp)<zp;if(!k&&E<w&&(b=w,w=E,E=b),k||S<zp?k?w+E>0^m[1]<(Wp(m[0]-_)<zp?w:E):w<=m[1]&&m[1]<=E:S>Fp^(_<=m[0]&&m[0]<=x)){var O=ro(p,(-d+g)/y);return no(O,h),[m,Ji(O)]}}}function i(e,n){var r=a?t:Fp-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Xp(t),a=o>0,s=Wp(o)>zp;return _d(n,(function(t){var e,o,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(f,h){var p,d=[f,h],y=n(f,h),v=a?y?0:i(f,h):y?i(f+(f<0?Fp:-Fp),h):0;if(!e&&(c=u=y)&&t.lineStart(),y!==u&&(!(p=r(e,d))||sd(e,p)||sd(d,p))&&(d[0]+=zp,d[1]+=zp,y=n(d[0],d[1])),y!==u)l=0,y?(t.lineStart(),p=r(d,e),t.point(p[0],p[1])):(p=r(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(s&&e&&a^y){var g;v&o||!(g=r(d,e,!0))||(l=0,a?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!y||e&&sd(e,d)||t.point(d[0],d[1]),e=d,u=y,o=v},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(c&&u)<<1}}}),(function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var a=Xp(e),s=$p(e),u=r*n;null==i?(i=e+r*qp,o=e-u/2):(i=lo(a,i),o=lo(a,o),(r>0?i<o:i>o)&&(i+=r*qp));for(var c,l=i;r>0?l>o:l<o;l-=u)c=Ji([a,-s*Xp(l),-s*$p(l)]),t.point(c[0],c[1])}}(o,t,e,i,n,r)}),a?[0,-t]:[-Fp,t-Fp])};mo.prototype={constructor:mo,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ed=16,Sd=Xp(30*Gp),kd=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,c,l,f,h,p,d,y,v){var g=c-r,m=l-i,b=g*g+m*m;if(b>4*e&&y--){var _=a+h,x=s+p,w=u+d,E=Jp(_*_+x*x+w*w),S=Ki(w/=E),k=Wp(Wp(w)-1)<zp||Wp(o-f)<zp?(o+f)/2:Kp(x,_),O=t(k,S),C=O[0],P=O[1],T=C-r,M=P-i,A=m*T-g*M;(A*A/b>e||Wp((g*T+m*M)/b-.5)>.3||a*h+s*p+u*d<Sd)&&(n(r,i,o,a,s,u,C,P,k,_/=E,x/=E,w,y,v),v.point(C,P),n(C,P,k,_,x,w,c,l,f,h,p,d,y,v))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){g=NaN,w.point=o,e.lineStart()}function o(r,i){var o=Qi([r,i]),a=t(r,i);n(g,m,v,b,_,x,g=a[0],m=a[1],v=r,b=o[0],_=o[1],x=o[2],Ed,e),e.point(g,m)}function a(){w.point=r,e.lineEnd()}function s(){i(),w.point=u,w.lineEnd=c}function u(t,e){o(l=t,e),f=g,h=m,p=b,d=_,y=x,w.point=o}function c(){n(g,m,v,b,_,x,f,h,l,p,d,y,Ed,e),w.lineEnd=a,a()}var l,f,h,p,d,y,v,g,m,b,_,x,w={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}}(t,e):function(t){return go({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},Od=go({point:function(t,e){this.stream.point(t*Gp,e*Gp)}});xo.invert=function(t,e){return[t,2*Hp(Yp(e))-Bp]},wo.invert=function(t,e){return[-e,2*Hp(Yp(t))-Bp]};var Cd=function(){var t=function(t){function e(){var e=Fp*s(),a=o(id(o.rotate()).invert([0,0]));return c(null==l?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===xo?[[Math.max(a[0]-e,l),n],[Math.min(a[0]+e,r),i]]:[[l,Math.max(a[1]-e,n)],[r,Math.min(a[1]+e,i)]])}var n,r,i,o=_o(t),a=o.center,s=o.scale,u=o.translate,c=o.clipExtent,l=null;return o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?l=n=r=i=null:(l=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==l?null:[[l,n],[r,i]]},e()}(wo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};t.projection=Oa,t.random=du,t.clusters=yu,t.helpers=Bo,t.invariant=qo,t.meta=Uo,t.isolines=function(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(X(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!S(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var a=rt(t,{zProperty:r,flip:!0});return c(function(t,e,n){var r=q(n),i=r[2]-r[0],o=r[3]-r[1],a=r[0],s=r[1],u=e[0].length-1,c=e.length-1,l=i/u,f=o/c,h=function(t){t[0]=t[0]*l+a,t[1]=t[1]*f+s};return t.forEach((function(t){C(t,h)})),t}(function(t,e,n,r,i){for(var o=[],a=1;a<e.length;a++){var s=+e[a],u=Object.assign({},r,i[a]);u[n]=s;var c=l(J(t,s),u);o.push(c)}return o}(a,e,r,i,o),a,t))},t.convex=Tt,t.pointsWithinPolygon=It,t.concave=function(t,n){if(!S(n=n||{}))throw new Error("options is invalid");if(!t)throw new Error("points is required");var r=n.maxEdge||1/0;if(!E(r))throw new Error("maxEdge is invalid");var i=jt(function(t){var e=[],n={};return A(t,(function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}})),c(e)}(t));if(i.features=i.features.filter((function(t){var e=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],a=Lt(e,i,n),s=Lt(i,o,n),u=Lt(e,o,n);return a<=r&&s<=r&&u<=r})),i.features.length<1)return null;var o=Qt(i,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,r){var i=Ho(6),o=e.features.map((function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}}));return i.load(o),t.features.forEach((function(t){t.properties||(t.properties={});var e=q(t),n=[];i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach((function(e){Mt([e.minX,e.minY],t)&&n.push(e.property)})),t.properties[r]=n})),t},t.flip=function(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=zt(t)),C(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t},t.simplify=function(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=zt(t)),R(t,(function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;te(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=ae(i,e,n);break;case"MultiLineString":t.coordinates=i.map((function(t){return ae(t,e,n)}));break;case"Polygon":t.coordinates=se(i,e,n);break;case"MultiPolygon":t.coordinates=i.map((function(t){return se(t,e,n)}))}}(t,n,r)})),t},t.bezierSpline=ue,t.tag=function(t,e,n,r){return t=zt(t),e=zt(e),A(t,(function(t){t.properties||(t.properties={}),A(e,(function(e){void 0===t.properties[r]&&Mt(t,e)&&(t.properties[r]=e.properties[n])}))})),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null===e||void 0===e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return c(function(t,e){for(var n,r,i=t.slice(0),o=t.length,a=o-e;o-- >a;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(a)}(t.features,e))},t.envelope=le,t.square=fe,t.circle=pe,t.midpoint=function(t,e){return he(t,Lt(t,e)/2,de(t,e))},t.center=ye,t.centerOfMass=ge,t.centroid=ve,t.combine=function(t){function n(t,e,n){n?r[e].coordinates=r[e].coordinates.concat(t.geometry.coordinates):r[e].coordinates.push(t.geometry.coordinates),r[e].properties.push(t.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce((function(t,e){return t[e.replace("Multi","")]=e,t}),{});return A(t,(function(t){t.geometry&&(r[t.geometry.type]?n(t,t.geometry.type,!0):i[t.geometry.type]&&n(t,i[t.geometry.type],!1))})),c(Object.keys(r).filter((function(t){return r[t].coordinates.length})).sort().map((function(t){return e({type:t,coordinates:r[t].coordinates},{collectedProperties:r[t].properties})})))},t.distance=Lt,t.explode=me,t.bbox=q,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=De(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(De(t))})),e},t.bboxPolygon=ce,t.booleanPointInPolygon=Mt,t.nearestPoint=Ne,t.nearestPointOnLine=on,t.nearestPointToLine=function(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return R(t,(function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==$(e))throw new Error("line must be a LineString");var o=1/0,a=null;return A(t,(function(t){var n=dn(t,e,{units:r});n<o&&(o=n,a=t)})),a&&(a.properties=Object.assign({dist:o},a.properties,i)),a},t.planepoint=function(t,e){var n=V(t),r=Y(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},o=i.a,a=i.b,s=i.c,u=n[0],c=n[1],l=r[0][0],f=r[0][1],h=void 0!==o?o:r[0][2],p=r[1][0],d=r[1][1],y=void 0!==a?a:r[1][2],v=r[2][0],g=r[2][1],m=void 0!==s?s:r[2][2];return(m*(u-l)*(c-d)+h*(u-p)*(c-g)+y*(u-v)*(c-f)-y*(u-l)*(c-g)-m*(u-p)*(c-f)-h*(u-v)*(c-d))/((u-l)*(c-d)+(u-p)*(c-g)+(u-v)*(c-f)-(u-l)*(c-g)-(u-p)*(c-f)-(u-v)*(c-d))},t.tin=jt,t.bearing=de,t.destination=he,t.kinks=function(t){var e,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var a=function(t,e,n,r,i,o,a,s){var u,c,l,f,h={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(s-o)*(n-t)-(a-i)*(r-e))?null!==h.x&&null!==h.y&&h:(f=(n-t)*(c=e-o)-(r-e)*(l=t-i),c=((a-i)*c-(s-o)*l)/u,l=f/u,h.x=t+c*(n-t),h.y=e+c*(r-e),c>=0&&c<=1&&(h.onLine1=!0),l>=0&&l<=1&&(h.onLine2=!0),!(!h.onLine1||!h.onLine2)&&[h.x,h.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);a&&i.features.push(r([a[0],a[1]]))}}))})),i},t.pointOnFeature=vn,t.area=mn,t.along=function(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var i;if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}if(!E(e))throw new Error("distance must be a number");for(var o=0,a=0;a<i.length&&!(e>=o&&a===i.length-1);a++){if(o>=e){var s=e-o;if(s){var u=de(i[a],i[a-1])-180;return he(i[a],s,u,n)}return r(i[a])}o+=Lt(i[a],i[a+1],n)}return r(i[i.length-1])},t.length=En,t.lineSlice=function(t,e,n){var r=G(n);if("LineString"!==$(n))throw new Error("line must be a LineString");for(var i,o=on(n,t),a=on(n,e),u=[(i=o.properties.index<=a.properties.index?[o,a]:[a,o])[0].geometry.coordinates],c=i[0].properties.index+1;c<i[1].properties.index+1;c++)u.push(r[c]);return u.push(i[1].geometry.coordinates),s(u,n.properties)},t.lineSliceAlong=Sn,t.pointGrid=Tn,t.truncate=Mn,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return N(t,(function(t){e.push(t)})),c(e)},t.lineIntersect=nn,t.lineChunk=function(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return N(t,(function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=En(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++)r(Sn(t,e*a,e*(a+1),{units:n}),a)}(t,e,r,(function(t){o.push(t)}))})),c(o)},t.unkinkPolygon=function(t){var e=[];return N(t,(function(t){"Polygon"===t.geometry.type&&A(Ta(t),(function(n){e.push(o(n.geometry.coordinates,t.properties))}))})),c(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;return t=V(t),e=V(e),r=r||{},i=i||100,o=o||10,new La({x:t[0],y:t[1]},{x:e[0],y:e[1]},r).Arc(i,{offset:o}).json()},t.lineSegment=en,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=$(t),r=$(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=Mn(e,{precision:7});switch(r){case"Point":return Dn(t,i);case"MultiPoint":return Rn(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Rn(t,nn(t,i))}},t.lineArc=zn,t.polygonToLine=Bn,t.lineToPolygon=qn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),r=G(t),i=t.properties;switch(n){case"LineString":case"MultiLineString":var a=[];return"LineString"===n&&(r=[r]),r.forEach((function(t){za(t,e,a)})),1===a.length?s(a[0],i):l(a,i);case"Polygon":return o(Xn(r,e),i);case"MultiPolygon":return h(r.map((function(t){return Xn(t,e)})),i);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=Qn,t.sector=function(t,e,n,r,i){if(!S(i=i||{}))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(er(n)===er(r))return pe(t,e,i);var a=G(t),s=[[a]];return C(zn(t,e,n,r,i),(function(t){s[0].push(t)})),s[0].push(a),o(s)},t.rhumbBearing=an,t.rhumbDistance=un,t.rhumbDestination=nr,t.polygonTangents=function(t,e){var n,i,o,a=G(t),s=G(e);switch($(e)){case"Polygon":n=s[0][0],i=s[0][0],o=ir(s[0][0],s[0][s[0].length-1],a);var u=rr(s[0],a,o,void 0,n,i);n=u[0],i=u[1];break;case"MultiPolygon":n=s[0][0][0],i=s[0][0][0],o=ir(s[0][0][0],s[0][0][s[0][0].length-1],a),s.forEach((function(t){var e=rr(t[0],a,o,void 0,n,i);n=e[0],i=e[1]}))}return c([r(n),r(i)])},t.rewind=function(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=zt(t));var i=[];switch(t.type){case"GeometryCollection":return R(t,(function(t){ar(t,n)})),t;case"FeatureCollection":return A(t,(function(t){A(ar(t,n),(function(t){i.push(t)}))})),c(i)}return ar(t,n)},t.isobands=function(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},a=n.breaksProperties||[];if(X(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!S(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(a))throw new Error("breaksProperties is not an Array");var s=cr(t,{zProperty:r,flip:!0}),u=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var a=+e[i-1],s=+e[i],u=function(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var a=o([e[r].lrCoordinates]),s=r+1;s<e.length;s++)e[s].grouped||function(t,e){for(var n=me(t),r=0;r<n.features.length;r++)if(!Mt(n.features[r],e))return!1;return!0}(o([e[s].lrCoordinates]),a)&&(i.push(e[s].lrCoordinates),e[s].grouped=!0);n.push(i)}return n}(function(t){var e=[],n=[];t.forEach((function(t){var r=mn(o([t]));n.push(r),e.push({ring:t,area:r})})),n.sort((function(t,e){return e-t}));var r=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}})),r}(lr(t,a,s-a))),c={};c.groupedRings=u,c[n]=a+"-"+s,r.push(c)}return r}(s,e,r);return c((u=function(t,e,n){var r=q(n),i=r[2]-r[0],o=r[3]-r[1],a=r[0],s=r[1],u=e[0].length-1,c=e.length-1,l=i/u,f=o/c,h=function(t){t[0]=t[0]*l+a,t[1]=t[1]*f+s};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(h)}))}))})),t}(u,s,t)).map((function(t,e){if(a[e]&&!S(a[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,a[e]);return n[r]=t[r],h(t.groupedRings,n)})))},t.transformRotate=pr,t.transformScale=dr,t.transformTranslate=function(t,e,n,r){if(!S(r=r||{}))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,a=r.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(void 0===n||null===n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==a&&void 0!==a||(t=zt(t)),C(t,(function(t){var r=G(nr(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)})),t},t.lineOffset=function(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");var i=$(t),o=t.properties;switch(i){case"LineString":return br(t,e,r);case"MultiLineString":var a=[];return N(t,(function(t){a.push(br(t,e,r).geometry.coordinates)})),l(a,o);default:throw new Error("geometry "+i+" is not supported")}},t.polygonize=function(t){var e=Ls.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):r.push(t)})),n.forEach((function(t){Ds.findEdgeRingContaining(t,r)&&r.push(t)})),c(r.map((function(t){return t.toPolygon()})))},t.booleanDisjoint=function(t,e){var n;return N(t,(function(t){N(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!wr(e,t);case"Polygon":return!Mt(t,e)}break;case"LineString":switch(e.type){case"Point":return!wr(t,e);case"LineString":return!function(t,e){return nn(t,e).features.length>0}(t,e);case"Polygon":return!Er(e,t)}break;case"Polygon":switch(e.type){case"Point":return!Mt(e,t);case"LineString":return!Er(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Mt(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(Mt(e.coordinates[0][r],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)}))})),n},t.booleanContains=function(t,e){var n=$(t),r=$(e),i=Y(t),o=Y(e),a=G(t),s=G(e);switch(n){case"Point":switch(r){case"Point":return kr(a,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(kr(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)if(kr(e.coordinates[n],t.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return kn(o,i,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(kn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!0})&&(n=!0),!kn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!1}))return!1;return n}(i,o);case"MultiPoint":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(kn(e.coordinates[r],t,{ignoreEndVertices:!0})&&(n=!0),!kn(e.coordinates[r],t))return!1;return!!n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return Mt(o,i,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0;if(!Sr(q(t),q(e)))return!1;for(;r<e.coordinates.length-1;r++)if(Mt({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[r],e.coordinates[r+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(i,o);case"Polygon":return function(t,e){if(!Sr(q(t),q(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!Mt(e.coordinates[0][n],t))return!1;return!0}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Mt(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=$(t),r=$(e),i=Y(t),o=Y(e);switch(n){case"MultiPoint":switch(r){case"LineString":return Or(i,o);case"Polygon":return Pr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return Or(o,i);case"LineString":return function(t,e){if(nn(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),Tr(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(i,o);case"Polygon":return Cr(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return Pr(o,i);case"LineString":return Cr(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=or,t.booleanOverlap=jr,t.booleanPointOnLine=kn,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return $(t)===$(e)&&new qs({precision:6}).compare(te(t),te(e))},t.booleanWithin=On,t.clone=zt,t.cleanCoords=te,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,i=n.units;if(X(t,"Point","Input must contain Points"),null===e||void 0===e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(void 0===r||null===r||Math.sign(r)>0))throw new Error("Invalid minPoints");t=zt(t),r=r||3;var o=new Ks.DBSCAN,a=-1;return o.run(j(t),x(e,i),r,Lt).forEach((function(e){a++,e.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=a,n.properties.dbscan="core"}))})),o.noise.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,r=e.mutate;X(t,"Point","Input must contain Points");var i=t.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(t=zt(t));var o=j(t),a=o.slice(0,n),s=eu(o,n,a),u={};return s.centroids.forEach((function(t,e){u[e]=t})),A(t,(function(t,e){var n=s.idxs[e];t.properties.cluster=n,t.properties.centroid=u[n]})),t},t.pointToLineDistance=dn,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==Dr(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Dr(e,"line2"))throw new Error("line2 must be a LineString");for(var n=en(te(t)).features,r=en(te(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!function(t,e){return m(an(t[0],t[1]))===m(an(e[0],e[1]))}(o,r[i].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,i){if(!S(i=i||{}))throw new Error("options is invalid");var o=i.resolution,a=i.minDistance,u=i.obstacles||c([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!E(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(a)throw new Error("options.minDistance is not yet implemented");var l=V(t),f=V(n);switch(t=r(l),n=r(f),$(u)){case"FeatureCollection":if(0===u.features.length)return s([l,f]);break;case"Polygon":u=c([e(Y(u))]);break;default:throw new Error("invalid obstacles")}var h=u;h.features.push(t),h.features.push(n);var p=q(dr(ce(q(h)),1.15));o||(o=Lt([p[0],p[1]],[p[2],p[1]],i)/100),h.features.pop(),h.features.pop();for(var d=p[0],y=p[1],v=p[2],g=p[3],m=o/Lt([d,y],[v,y],i)*(v-d),b=o/Lt([d,y],[d,g],i)*(g-y),_=v-d,x=g-y,w=(_-Math.floor(_/m)*m)/2,k=[],O=[],C=[],P=[],T=1/0,M=1/0,A=g-(x-Math.floor(x/b)*b)/2,I=0;A>=y;){for(var j=[],R=[],D=d+w,N=0;D<=v;){var L=r([D,A]),z=function(t,e){for(var n=0;n<e.features.length;n++)if(Mt(t,e.features[n]))return!0;return!1}(L,u);j.push(z?0:1),R.push(D+"|"+A);var F=Lt(L,t);!z&&F<T&&(T=F,C={x:N,y:I});var B=Lt(L,n);!z&&B<M&&(M=B,P={x:N,y:I}),D+=m,N++}O.push(j),k.push(R),A-=b,I++}var U=new Lr(O,{diagonal:!0}),G=U.grid[C.y][C.x],W=U.grid[P.y][P.x],H=[l];return nu.search(U,G,W).forEach((function(t){var e=k[t.x][t.y].split("|");H.push([+e[0],+e[1]])})),H.push(f),te(s(H))},t.voronoi=function(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return X(t,"Point","points"),c(pu().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(fi))},t.ellipse=hi,t.centerMean=di,t.centerMedian=function(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!E(n))throw new Error("counter must be a number");var r=e.weight,i=di(t,{weight:e.weight}),o=c([]);return A(t,(function(t){o.features.push(ve(t,{weight:t.properties[r]}))})),o.properties={tolerance:e.tolerance,medianCandidates:[]},yi(i.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!E(n))throw new Error("steps must be a number");if(!S(i))throw new Error("properties must be a number");var o=j(t).length,a=di(t,{weight:r}),s=0,u=0,l=0;A(t,(function(t){var e=t.properties[r]||1,n=vi(G(t),G(a));s+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,l+=n.x*n.y*e}));var f=s-u,h=Math.sqrt(Math.pow(f,2)+4*Math.pow(l,2)),p=2*l,d=Math.atan((f+h)/p),y=180*d/Math.PI,v=0,g=0,m=0;A(t,(function(t){var e=t.properties[r]||1,n=vi(G(t),G(a));v+=Math.pow(n.x*Math.cos(d)-n.y*Math.sin(d),2)*e,g+=Math.pow(n.x*Math.sin(d)+n.y*Math.cos(d),2)*e,m+=e}));var b=Math.sqrt(2*v/m),_=Math.sqrt(2*g/m),x=hi(a,b,_,{units:"degrees",angle:y,steps:n,properties:i}),w=It(t,c([x])),k={meanCenterCoordinates:G(a),semiMajorAxis:b,semiMinorAxis:_,numberOfFeatures:o,angle:y,percentageWithinEllipse:100*j(w).length/o};return x.properties.standardDeviationalEllipse=k,x},t.difference=function(t,n){var r=Y(t),i=Y(n),o=t.properties||{};if(r=Gi(r),i=Gi(i),!r)return null;if(!i)return e(r,o);var a=new El,s=a.read(r),u=a.read(i),c=Op.difference(s,u);return c.isEmpty()?null:e((new Sl).write(c),o)},t.buffer=function(t,e,n){var r=(n=n||{}).units,i=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return R(t,(function(t){var n=Eo(t,e,r,i);n&&o.push(n)})),c(o);case"FeatureCollection":return A(t,(function(t){var n=Eo(t,e,r,i);n&&A(n,(function(t){t&&o.push(t)}))})),c(o)}return Eo(t,e,r,i)},t.union=Po,t.intersect=To,t.dissolve=function(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;X(t,"Polygon","dissolve");var r=zt(t),i=r.features,o=[];i.forEach((function(t,e){t.properties.origIndexPosition=e}));var a=Je();for(var u in a.load(r),i){var c=i[u],l=!1;if(a.search(c).features.forEach((function(t){c=i[u];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var r=Mo(e,o);0!==r&&(e-=r)}if(e!==+u){var f=i[e];f&&c&&(void 0!==n&&f.properties[n]!==c.properties[n]||jr(c,f)&&function(t,e){return nn(s(j(t)),s(j(e))).features.length>0}(c,f)&&(i[u]=Po(c,f),o.push(t.properties.origIndexPosition),o.sort((function(t,e){return t-e})),a.remove(t),i.splice(e,1),c.properties.origIndexPosition=u,a.remove(c,(function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition})),l=!0))}})),l){if(!c)continue;c.properties.origIndexPosition=u,a.insert(c),u--}}return i.forEach((function(t){delete t.properties.origIndexPosition,delete t.bbox})),r},t.hexGrid=Ao,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),r=function(t){var e=[],n=[];return N(t,(function(t){var r=t.geometry.coordinates,i=r[0],a=r.slice(1);e.push(o([i])),a.forEach((function(t){n.push(o([t]))}))})),[c(e),c(n)]}(t),i=r[0],a=r[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),N(e,(function(t){r.push(t.geometry.coordinates[0])})),N(n,(function(t){r.push(t.geometry.coordinates[0])})),o(r)}(n,i=Io(i),a=Io(a))},t.squareGrid=Ro,t.triangleGrid=Do,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error("points is required");if(X(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var a,s=q(t);switch(r){case"point":case"points":a=Tn(s,e,n);break;case"square":case"squares":a=Ro(s,e,n);break;case"hex":case"hexes":a=Ao(s,e,n);break;case"triangle":case"triangles":a=Do(s,e,n);break;default:throw new Error("invalid gridType")}var u=[];return A(a,(function(e){var a=0,s=0;A(t,(function(t){var u,c=Lt("point"===r?e:ve(e),t,n);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===c&&(a=u);var l=1/Math.pow(c,o);s+=l,a+=l*u}));var c=zt(e);c.properties[i]=a/s,u.push(c)})),c(u)},t.pointOnSurface=vn,t.polygonToLineString=Bn,t.lineStringToPolygon=qn,t.inside=Mt,t.within=It,t.bezier=ue,t.nearest=Ne,t.pointOnLine=on,t.lineDistance=En,t.radians2degrees=b,t.degrees2radians=_,t.distanceToDegrees=g,t.distanceToRadians=v,t.radiansToDistance=y,t.bearingToAngle=m,t.convertDistance=x,t.toMercator=cn,t.toWgs84=ln,t.randomPosition=gi,t.randomPoint=mi,t.randomPolygon=bi,t.randomLineString=_i,t.getCluster=wi,t.clusterEach=Ei,t.clusterReduce=Si,t.createBins=ki,t.applyFilter=Oi,t.propertiesContainsFilter=Ci,t.filterProperties=Pi,t.earthRadius=No,t.factors=Lo,t.unitsFactors=zo,t.areaFactors=Fo,t.feature=e,t.geometry=n,t.point=r,t.points=i,t.polygon=o,t.polygons=a,t.lineString=s,t.lineStrings=u,t.featureCollection=c,t.multiLineString=l,t.multiPoint=f,t.multiPolygon=h,t.geometryCollection=p,t.round=d,t.radiansToLength=y,t.lengthToRadians=v,t.lengthToDegrees=g,t.bearingToAzimuth=m,t.radiansToDegrees=b,t.degreesToRadians=_,t.convertLength=x,t.convertArea=w,t.isNumber=E,t.isObject=S,t.validateBBox=k,t.validateId=O,t.getCoord=V,t.getCoords=G,t.containsNumber=W,t.geojsonType=H,t.featureOf=K,t.collectionOf=X,t.getGeom=Y,t.getGeomType=Z,t.getType=$,t.coordEach=C,t.coordReduce=P,t.propEach=T,t.propReduce=M,t.featureEach=A,t.featureReduce=I,t.coordAll=j,t.geomEach=R,t.geomReduce=D,t.flattenEach=N,t.flattenReduce=L,t.segmentEach=z,t.segmentReduce=F,t.lineEach=B,t.lineReduce=U,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";function r(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function i(t){return Object.prototype.toString.call(t)}function o(t){return"[object Function]"===i(t)}function a(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var u={"http:":{validate:function(t,e,n){var r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function l(t){var e=t.re=n(1132)(t.__opts__),r=t.__tlds__.slice();function s(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(e.src_xn),e.src_tlds=r.join("|"),e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");var u=[];function c(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){var n=t.__schemas__[e];if(null!==n){var r={validate:null,link:null};if(t.__compiled__[e]=r,"[object Object]"===i(n))return!function(t){return"[object RegExp]"===i(t)}(n.validate)?o(n.validate)?r.validate=n.validate:c(e,n):r.validate=function(t){return function(e,n){var r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}(n.validate),void(o(n.normalize)?r.normalize=n.normalize:n.normalize?c(e,n):r.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===i(t)}(n)?c(e,n):u.push(e)}})),u.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var l=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(a).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+e.src_ZPCc+"))("+l+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+e.src_ZPCc+"))("+l+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function f(t,e){var n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function h(t,e){var n=new f(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function p(t,e){if(!(this instanceof p))return new p(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||s.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=r({},s,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},u,t),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},l(this)}p.prototype.add=function(t,e){return this.__schemas__[t]=e,l(this),this},p.prototype.set=function(t){return this.__opts__=r(this.__opts__,t),this},p.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,n,r,i,o,a,s,u;if(this.re.schema_test.test(t))for((s=this.re.schema_search).lastIndex=0;null!==(e=s.exec(t));)if(i=this.testSchemaAt(t,e[2],s.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(r=t.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),this.__index__>=0},p.prototype.pretest=function(t){return this.re.pretest.test(t)},p.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},p.prototype.match=function(t){var e=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(h(this,e)),e=this.__last_index__);for(var r=e?t.slice(e):t;this.test(r);)n.push(h(this,e)),r=r.slice(this.__last_index__),e+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),l(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,l(this),this)},p.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},p.prototype.onCompile=function(){},t.exports=p},function(t){t.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","iveco","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","spreadbetting","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","\u0915\u0949\u092e","\u30bb\u30fc\u30eb","\u4f5b\u5c71","\u0cad\u0cbe\u0cb0\u0ca4","\u6148\u5584","\u96c6\u56e2","\u5728\u7ebf","\ud55c\uad6d","\u0b2d\u0b3e\u0b30\u0b24","\u5927\u4f17\u6c7d\u8f66","\u70b9\u770b","\u0e04\u0e2d\u0e21","\u09ad\u09be\u09f0\u09a4","\u09ad\u09be\u09b0\u09a4","\u516b\u5366","\u0645\u0648\u0642\u0639","\u09ac\u09be\u0982\u09b2\u09be","\u516c\u76ca","\u516c\u53f8","\u9999\u683c\u91cc\u62c9","\u7f51\u7ad9","\u79fb\u52a8","\u6211\u7231\u4f60","\u043c\u043e\u0441\u043a\u0432\u0430","\u049b\u0430\u0437","\u043a\u0430\u0442\u043e\u043b\u0438\u043a","\u043e\u043d\u043b\u0430\u0439\u043d","\u0441\u0430\u0439\u0442","\u8054\u901a","\u0441\u0440\u0431","\u0431\u0433","\u0431\u0435\u043b","\u05e7\u05d5\u05dd","\u65f6\u5c1a","\u5fae\u535a","\u6de1\u9a6c\u9521","\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3","\u043e\u0440\u0433","\u0928\u0947\u091f","\u30b9\u30c8\u30a2","\u30a2\u30de\u30be\u30f3","\uc0bc\uc131","\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd","\u5546\u6807","\u5546\u5e97","\u5546\u57ce","\u0434\u0435\u0442\u0438","\u043c\u043a\u0434","\u0435\u044e","\u30dd\u30a4\u30f3\u30c8","\u65b0\u95fb","\u5bb6\u96fb","\u0643\u0648\u0645","\u4e2d\u6587\u7f51","\u4e2d\u4fe1","\u4e2d\u56fd","\u4e2d\u570b","\u5a31\u4e50","\u8c37\u6b4c","\u0c2d\u0c3e\u0c30\u0c24\u0c4d","\u0dbd\u0d82\u0d9a\u0dcf","\u96fb\u8a0a\u76c8\u79d1","\u8d2d\u7269","\u30af\u30e9\u30a6\u30c9","\u0aad\u0abe\u0ab0\u0aa4","\u901a\u8ca9","\u092d\u093e\u0930\u0924\u092e\u094d","\u092d\u093e\u0930\u0924","\u092d\u093e\u0930\u094b\u0924","\u7f51\u5e97","\u0938\u0902\u0917\u0920\u0928","\u9910\u5385","\u7f51\u7edc","\u043a\u043e\u043c","\u0443\u043a\u0440","\u9999\u6e2f","\u4e9a\u9a6c\u900a","\u8bfa\u57fa\u4e9a","\u98df\u54c1","\u98de\u5229\u6d66","\u53f0\u6e7e","\u53f0\u7063","\u624b\u673a","\u043c\u043e\u043d","\u0627\u0644\u062c\u0632\u0627\u0626\u0631","\u0639\u0645\u0627\u0646","\u0627\u0631\u0627\u0645\u0643\u0648","\u0627\u06cc\u0631\u0627\u0646","\u0627\u0644\u0639\u0644\u064a\u0627\u0646","\u0627\u062a\u0635\u0627\u0644\u0627\u062a","\u0627\u0645\u0627\u0631\u0627\u062a","\u0628\u0627\u0632\u0627\u0631","\u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627","\u067e\u0627\u06a9\u0633\u062a\u0627\u0646","\u0627\u0644\u0627\u0631\u062f\u0646","\u0628\u0627\u0631\u062a","\u0628\u06be\u0627\u0631\u062a","\u0627\u0644\u0645\u063a\u0631\u0628","\u0627\u0628\u0648\u0638\u0628\u064a","\u0627\u0644\u0628\u062d\u0631\u064a\u0646","\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629","\u0680\u0627\u0631\u062a","\u0643\u0627\u062b\u0648\u0644\u064a\u0643","\u0633\u0648\u062f\u0627\u0646","\u0647\u0645\u0631\u0627\u0647","\u0639\u0631\u0627\u0642","\u0645\u0644\u064a\u0633\u064a\u0627","\u6fb3\u9580","\ub2f7\ucef4","\u653f\u5e9c","\u0634\u0628\u0643\u0629","\u0628\u064a\u062a\u0643","\u0639\u0631\u0628","\u10d2\u10d4","\u673a\u6784","\u7ec4\u7ec7\u673a\u6784","\u5065\u5eb7","\u0e44\u0e17\u0e22","\u0633\u0648\u0631\u064a\u0629","\u62db\u8058","\u0440\u0443\u0441","\u0440\u0444","\u062a\u0648\u0646\u0633","\u5927\u62ff","\u0ea5\u0eb2\u0ea7","\u307f\u3093\u306a","\u30b0\u30fc\u30b0\u30eb","\u03b5\u03c5","\u03b5\u03bb","\u4e16\u754c","\u66f8\u7c4d","\u0d2d\u0d3e\u0d30\u0d24\u0d02","\u0a2d\u0a3e\u0a30\u0a24","\u7f51\u5740","\ub2f7\ub137","\u30b3\u30e0","\u5929\u4e3b\u6559","\u6e38\u620f","verm\xf6gensberater","verm\xf6gensberatung","\u4f01\u4e1a","\u4fe1\u606f","\u5609\u91cc\u5927\u9152\u5e97","\u5609\u91cc","\u0645\u0635\u0631","\u0642\u0637\u0631","\u5e7f\u4e1c","\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8","\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe","\u0570\u0561\u0575","\u65b0\u52a0\u5761","\u0641\u0644\u0633\u0637\u064a\u0646","\u653f\u52a1","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]')},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"===typeof i?i(n,r,t):e(i)}}}}var i=r();i.withExtraArgument=r,e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return H}));var r=n(17),i=n(29);function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(28);function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function c(t){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?o(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=n(13),p=n(1),d=n(2),y=n.n(d);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(h.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function x(t){if(!t)return null;if("string"===typeof t)return t;t.toJS&&(t=t.toJS());var e,n={},r=m(t.layers);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.id]=i}}catch(a){r.e(a)}finally{r.f()}var o=t.layers.map((function(t){var e=n[t.ref],r=null;if("interactive"in t&&delete(r=g({},t)).interactive,e){delete(r=r||g({},t)).ref;var i,o=m(_);try{for(o.s();!(i=o.n()).done;){var s=i.value;s in e&&(r[s]=e[s])}}catch(a){o.e(a)}finally{o.f()}}return r||t}));return g(g({},t),{},{layers:o})}var w=n(60),E=n(648),S=n(328),k=n(177),O=n.n(k),C=n(43);function P(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function T(t,e){if(t===e)return!0;if(P(t)&&P(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!T(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=1e-7}function M(t,e,n){return Math.max(e,Math.min(n,t))}function A(t,e,n){return P(t)?t.map((function(t,r){return A(t,e[r],n)})):n*e+(1-n)*t}function I(t,e){if(!t)throw new Error(e||"react-map-gl: assertion failed.")}function j(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var D=function(){function t(){Object(i.a)(this,t),Object(h.a)(this,"propNames",[])}return Object(a.a)(t,[{key:"arePropsEqual",value:function(t,e){var n,r=j(this.propNames||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!T(t[i],e[i]))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"initializeProps",value:function(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function(t,e,n){I(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(t,e){return e.transitionDuration}}]),t}(),N={longitude:1,bearing:1};function L(t){return Number.isFinite(t)||Array.isArray(t)}function z(t,e,n){return function(t){return t in N}(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}function F(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var q=["longitude","latitude","zoom","bearing","pitch"],V=["latitude","longitude","zoom","width","height"],G=["bearing","pitch"],W={speed:1.2,curve:1.414},H=function(t){u(n,t);var e=U(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,n),t=e.call(this),Object(h.a)(o(t),"speed",void 0),Object(h.a)(o(t),"propNames",q),Object(h.a)(o(t),"props",void 0),t.props=Object.assign({},W,r),t}return Object(a.a)(n,[{key:"initializeProps",value:function(t,e){var n,r={},i={},o=F(V);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t[a],u=e[a];I(L(s)&&L(u),"".concat(a," must be supplied for transition")),r[a]=s,i[a]=z(a,s,u)}}catch(d){o.e(d)}finally{o.f()}var c,l=F(G);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=t[f]||0,p=e[f]||0;r[f]=h,i[f]=z(f,h,p)}}catch(d){l.e(d)}finally{l.f()}return{start:r,end:i}}},{key:"interpolateProps",value:function(t,e,n){var r,i=Object(w.c)(t,e,n,this.props),o=F(G);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=A(t[a],e[a],n)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"getDuration",value:function(t,e){var n=e.transitionDuration;return"auto"===n&&(n=Object(w.d)(t,e,this.props)),n}}]),n}(D);function K(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var Z=["longitude","latitude","zoom","bearing","pitch"],$=function(t){u(n,t);var e=Y(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,n),t=e.call(this),Object(h.a)(o(t),"around",void 0),Array.isArray(r)&&(r={transitionProps:r}),t.propNames=r.transitionProps||Z,r.around&&(t.around=r.around),t}return Object(a.a)(n,[{key:"initializeProps",value:function(t,e){var n={},r={};if(this.around){n.around=this.around;var i=new w.a(t).unproject(this.around);Object.assign(r,e,{around:new w.a(e).project(i),aroundLngLat:i})}var o,a=K(this.propNames);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=t[s],c=e[s];I(L(u)&&L(c),"".concat(s," must be supplied for transition")),n[s]=u,r[s]=z(s,u,c)}}catch(l){a.e(l)}finally{a.f()}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r,i={},o=K(this.propNames);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=A(t[a],e[a],n)}}catch(f){o.e(f)}finally{o.f()}if(e.around){var s=new w.a(Object.assign({},e,i)).getMapCenterByLngLatPosition({lngLat:e.aroundLngLat,pos:A(t.around,e.around,n)}),u=Object(C.a)(s,2),c=u[0],l=u[1];i.longitude=c,i.latitude=l}return i}}]),n}(D),J={minZoom:0,maxZoom:24,minPitch:0,maxPitch:85},Q=0,tt=0,et=1.5,nt=function(){function t(e){var n=e.width,r=e.height,o=e.latitude,a=e.longitude,s=e.zoom,u=e.bearing,c=void 0===u?tt:u,l=e.pitch,f=void 0===l?Q:l,p=e.altitude,d=void 0===p?et:p,y=e.maxZoom,v=void 0===y?J.maxZoom:y,g=e.minZoom,m=void 0===g?J.minZoom:g,b=e.maxPitch,_=void 0===b?J.maxPitch:b,x=e.minPitch,w=void 0===x?J.minPitch:x,E=e.transitionDuration,S=e.transitionEasing,k=e.transitionInterpolator,O=e.transitionInterruption,C=e.startPanLngLat,P=e.startZoomLngLat,T=e.startBearing,M=e.startPitch,A=e.startZoom;Object(i.a)(this,t),Object(h.a)(this,"_viewportProps",void 0),Object(h.a)(this,"_interactiveState",void 0),I(Number.isFinite(n),"`width` must be supplied"),I(Number.isFinite(r),"`height` must be supplied"),I(Number.isFinite(a),"`longitude` must be supplied"),I(Number.isFinite(o),"`latitude` must be supplied"),I(Number.isFinite(s),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:o,longitude:a,zoom:s,bearing:c,pitch:f,altitude:d,maxZoom:v,minZoom:m,maxPitch:_,minPitch:w,transitionDuration:E,transitionEasing:S,transitionInterpolator:k,transitionInterruption:O}),this._interactiveState={startPanLngLat:C,startZoomLngLat:P,startBearing:T,startPitch:M,startZoom:A}}return Object(a.a)(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function(t){var e=t.pos,n=t.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=this._calculateNewLngLat({startPanLngLat:r,pos:e}),o=Object(C.a)(i,2),a=o[0],s=o[1];return this._getUpdatedMapState({longitude:a,latitude:s})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(t){t.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(t){var e=t.deltaScaleX,n=void 0===e?0:e,r=t.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a||0,startPitch:s||0}),c=u.pitch,l=u.bearing;return this._getUpdatedMapState({bearing:l,pitch:c})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(t){var e=t.pos,n=t.startPos,r=t.scale;I(r>0,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(e)),I(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:o||0}),u=new w.a(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:e}),c=Object(C.a)(u,2),l=c[0],f=c[1];return this._getUpdatedMapState({zoom:s,longitude:l,latitude:f})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}},{key:"_applyConstraints",value:function(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=M(r,n,e);var i=t.maxPitch,o=t.minPitch,a=t.pitch;return t.pitch=M(a,o,i),Object.assign(t,Object(w.e)(t)),t}},{key:"_unproject",value:function(t){var e=new w.a(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function(t){var e=t.startPanLngLat,n=t.pos;return new w.a(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return M(n+Math.log2(e),o,i)}},{key:"_calculateNewPitchAndBearing",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,i=t.startPitch;n=M(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=i;return n>0?u=i+n*(s-i):n<0&&(u=i-n*(a-i)),{pitch:u,bearing:r+180*e}}}]),t}();function rt(t){return t[0].toLowerCase()+t.slice(1)}var it=Object(p.createContext)({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){Object(h.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function st(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var ut="A valid API access token is required to use Mapbox data";var ct={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},lt=Object.assign({},S.a.propTypes,{width:y.a.oneOfType([y.a.number,y.a.string]),height:y.a.oneOfType([y.a.number,y.a.string]),onResize:y.a.func,preventStyleDiffing:y.a.bool,disableTokenWarning:y.a.bool,visible:y.a.bool,className:y.a.string,style:y.a.object,visibilityConstraints:y.a.object}),ft=Object.assign({},S.a.defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:J});function ht(t){t.target.scrollTo(0,0)}var pt=function(t){u(n,t);var e=st(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a)),Object(h.a)(o(t),"state",{accessTokenInvalid:!1}),Object(h.a)(o(t),"_mapbox",null),Object(h.a)(o(t),"_map",null),Object(h.a)(o(t),"_mapboxMapRef",Object(p.createRef)()),Object(h.a)(o(t),"_mapContainerRef",Object(p.createRef)()),Object(h.a)(o(t),"_queryParams",{}),Object(h.a)(o(t),"_width",0),Object(h.a)(o(t),"_height",0),Object(h.a)(o(t),"getMap",(function(){return t._map})),Object(h.a)(o(t),"queryRenderedFeatures",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t._map.queryRenderedFeatures(e,n)})),Object(h.a)(o(t),"_mapboxMapError",(function(e){401!==(e.error&&e.error.status||e.status)||t.state.accessTokenInvalid||(console.error(ut),t.setState({accessTokenInvalid:!0})),t.props.onError(e)})),t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){if(n.supported()){var t=this.props.mapStyle;this._mapbox=new S.a(Object.assign({},this.props,{mapboxgl:O.a,width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:x(t)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(t){this._mapbox&&(this._updateMapStyle(t,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(t,e){this._width===t&&this._height===e||(this._width=t,this._height=e,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(t,e){var n=e.mapStyle;n!==t.mapStyle&&n&&this._map.setStyle(x(n),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(t){this._mapbox&&this._mapbox.setProps(Object.assign({},t,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){return p.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},p.createElement("h3",{key:"header"},ut),p.createElement("div",{key:"text"},"For information on setting up your basemap, read"),p.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(t){var e=this,n=t.width,r=t.height;return this._updateMapSize(n,r),p.createElement(it.Consumer,null,(function(t){var i=at(at({},t),{},{viewport:new w.a(at(at(at({},e.props),e.props.viewState),{},{width:n,height:r})),map:e._map,mapContainer:t.mapContainer||e._mapContainerRef.current});return p.createElement(it.Provider,{value:i},p.createElement("div",{key:"map-overlays",className:"overlays",style:ct,onScroll:ht},e.props.children))}))}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.width,r=t.height,i=t.style,o=t.visibilityConstraints,a=Object.assign({position:"relative"},i,{width:n,height:r}),s=this.props.visible&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J;for(var n in e){var r=n.slice(0,3),i=rt(n.slice(3));if("min"===r&&t[i]<e[n])return!1;if("max"===r&&t[i]>e[n])return!1}return!0}(this.props.viewState||this.props,o),u=Object.assign({},ct,{visibility:s?"inherit":"hidden"});return p.createElement("div",{key:"map-container",style:a,ref:this._mapContainerRef},p.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:u,className:e}),p.createElement(E.a,{key:"autosizer",onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return O.a&&O.a.supported()}}]),n}(p.PureComponent);Object(h.a)(pt,"propTypes",lt),Object(h.a)(pt,"defaultProps",ft);var dt=function(){};var yt=1,vt=2,gt=3,mt=4,bt={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new $,transitionInterruption:yt,onTransitionStart:dt,onTransitionInterrupt:dt,onTransitionEnd:dt,onViewportChange:dt,onStateChange:dt},_t=function(){function t(e,n){var r=this;Object(i.a)(this,t),Object(h.a)(this,"props",void 0),Object(h.a)(this,"state",void 0),Object(h.a)(this,"time",void 0),Object(h.a)(this,"_animationFrame",null),Object(h.a)(this,"_onTransitionFrame",(function(){r._animationFrame=requestAnimationFrame(r._onTransitionFrame),r._updateViewport()})),e&&(this.props=e),this.time=n||Date.now}return Object(a.a)(t,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(t){var e=this.props;if(this.props=t,this._shouldIgnoreViewportChange(e,t))return!1;if(this._isTransitionEnabled(t)){var n=Object.assign({},e),r=Object.assign({},t);if(this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this.state.interruption===vt?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===mt)){var i=this.time(),o=(i-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(i-this.state.startTime),r.transitionEasing=function(t,e){var n=t(e);return function(r){return 1/(1-n)*(t(r*(1-e)+e)-n)}}(this.state.easing,o),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(t){var e=t.transitionDuration,n=t.transitionInterpolator;return(e>0||"auto"===e)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(t,e){return!t||(this._isTransitionInProgress()?this.state.interruption===gt||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e))}},{key:"_triggerTransition",value:function(t,e){I(this._isTransitionEnabled(e)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=e.transitionInterpolator,r=n.getDuration?n.getDuration(t,e):e.transitionDuration;if(0!==r){var i=e.transitionInterpolator.initializeProps(t,e),o={inTransition:!0,isZooming:t.zoom!==e.zoom,isPanning:t.longitude!==e.longitude||t.latitude!==e.latitude,isRotating:t.bearing!==e.bearing||t.pitch!==e.pitch};this.state={duration:r,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{},interactionState:o},this._onTransitionFrame(),this.props.onStateChange(o)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var t=this.time(),e=this.state,n=e.startTime,r=e.duration,i=e.easing,o=e.interpolator,a=e.startProps,s=e.endProps,u=!1,c=(t-n)/r;c>=1&&(c=1,u=!0),c=i(c);var l=o.interpolateProps(a,s,c),f=new nt(Object.assign({},this.props,l));this.state.propsInTransition=f.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();Object(h.a)(_t,"defaultProps",bt);var xt=n(243),wt=n.n(xt),Et={mousedown:1,mousemove:2,mouseup:4};!function(t){var e=t.prototype.handler;t.prototype.handler=function(t){var n=this.store;t.button>0&&(function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(n,(function(e){return e.pointerId===t.pointerId}))||n.push(t)),e.call(this,t)}}(wt.a.PointerEventInput),wt.a.MouseInput.prototype.handler=function(t){var e=Et[t.type];1&e&&t.button>=0&&(this.pressed=!0),2&e&&0===t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))};var St=wt.a.Manager,kt=wt.a,Ot=kt?[[kt.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[kt.Rotate,{enable:!1}],[kt.Pinch,{enable:!1}],[kt.Swipe,{enable:!1}],[kt.Pan,{threshold:0,enable:!1}],[kt.Press,{enable:!1}],[kt.Tap,{event:"doubletap",taps:2,enable:!1}],[kt.Tap,{event:"anytap",enable:!1}],[kt.Tap,{enable:!1}]]:null,Ct={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Pt={doubletap:["tap"]},Tt={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},Mt=["keydown","keyup"],At=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],It=["wheel","mousewheel","DOMMouseScroll"],jt={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},Rt={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},Dt=n(182),Nt=-1!==Dt.b.indexOf("firefox"),Lt=It,zt="wheel",Ft=4.000244140625,Bt=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},o),this.events=Lt.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent,!!Dt.a&&{passive:!1})}))}return Object(a.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===zt&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){if(this.options.enable){var e=t.deltaY;Dt.c.WheelEvent&&(Nt&&t.deltaMode===Dt.c.WheelEvent.DOM_DELTA_PIXEL&&(e/=Dt.c.devicePixelRatio),t.deltaMode===Dt.c.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n={x:t.clientX,y:t.clientY};0!==e&&e%Ft===0&&(e=Math.floor(e/Ft)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,n)}}},{key:"_onWheel",value:function(t,e,n){this.callback({type:zt,center:n,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),Ut=At,qt="pointermove",Vt="pointerover",Gt="pointerout",Wt="pointerleave",Ht=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,t),this.element=e,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},o),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=Ut.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Object(a.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===qt&&(this.enableMoveEvent=e),t===Vt&&(this.enableOverEvent=e),t===Gt&&(this.enableOutEvent=e),t===Wt&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function(t){this.handleOverEvent(t),this.handleOutEvent(t),this.handleLeaveEvent(t),this.handleMoveEvent(t)}},{key:"handleOverEvent",value:function(t){this.enableOverEvent&&"mouseover"===t.type&&this.callback({type:Vt,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleOutEvent",value:function(t){this.enableOutEvent&&"mouseout"===t.type&&this.callback({type:Gt,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleLeaveEvent",value:function(t){this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:Wt,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleMoveEvent",value:function(t){if(this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:qt,srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),t}(),Kt=Mt,Xt="keydown",Yt="keyup",Zt=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},o),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=Kt.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),e.tabIndex=o.tabIndex||0,e.style.outline="none",this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Object(a.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===Xt&&(this.enableDownEvent=e),t===Yt&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:Xt,srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:Yt,srcEvent:t,key:t.key,target:t.target}))}}]),t}(),$t="contextmenu",Jt=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),e.addEventListener("contextmenu",this.handleEvent)}return Object(a.a)(t,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(t,e){t===$t&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){this.options.enable&&this.callback({type:$t,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),Qt={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var te={srcElement:"root",priority:0},ee=function(){function t(e){Object(i.a)(this,t),this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return Object(a.a)(t,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement;n&&("object"!==c(n)||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},te,n):te;var s=a.get(n.srcElement);s||(s=[],a.set(n.srcElement,s));var u={type:t,handler:e,srcElement:n.srcElement,priority:n.priority};r&&(u.once=!0),i&&(u.passive=!0),o.push(u),this._active=this._active||!u.passive;for(var l=s.length-1;l>=0&&!(s[l].priority>=u.priority);)l--;s.splice(l+1,0,u)}},{key:"remove",value:function(t,e){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===t&&o.handler===e){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}this._active=n.some((function(t){return!t.passive}))}},{key:"handleEvent",value:function(t){if(!this.isEmpty()){for(var e=this._normalizeEvent(t),n=t.srcEvent.target;n&&n!==e.rootElement;){if(this._emit(e,n),e.handled)return;n=n.parentNode}this._emit(e,"root")}}},{key:"_emit",value:function(t,e){var n=this.handlersByElement.get(e);if(n){for(var r=!1,i=function(){t.handled=!0},o=function(){t.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var u=n[s],c=u.type,l=u.handler,f=u.once;if(l(Object.assign({},t,{type:c,stopPropagation:i,stopImmediatePropagation:o})),f&&a.push(n[s]),r)break}for(var h=0;h<a.length;h++){var p=a[h],d=p.type,y=p.handler;this.remove(d,y)}}}},{key:"_normalizeEvent",value:function(t){var e=this.eventManager.element;return Object.assign({},t,function(t){var e=Qt[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,u=!1;return 4===e||2===e&&!Number.isFinite(r)?(a=1===o,s=2===o,u=3===o):2===e?(a=Boolean(1&r),s=Boolean(4&r),u=Boolean(2&r)):1===e&&(a=0===i,s=1===i,u=2===i),{leftButton:a,middleButton:s,rightButton:u}}(t),function(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var r=t.center||{x:n.clientX,y:n.clientY},i=e.getBoundingClientRect(),o=i.width/e.offsetWidth,a=i.height/e.offsetHeight;return{center:r,offsetCenter:{x:(r.x-i.left-e.clientLeft)/o,y:(r.y-i.top-e.clientTop)/a}}}(t,e),{handled:!1,rootElement:e})}}]),t}();function ne(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return re(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ie={events:null,recognizers:null,recognizerOptions:{},Manager:St,touchAction:"none",tabIndex:0},oe=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,t),this.options=Object.assign({},ie,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(e);var r=n.events;r&&this.on(r)}return Object(a.a)(t,[{key:"setElement",value:function(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,r=n.Manager;for(var i in this.manager=new r(t,{touchAction:n.touchAction,recognizers:n.recognizers||Ot}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(Ct).forEach((function(t){var n=e.manager.get(t);n&&Ct[t].forEach((function(t){n.recognizeWith(t)}))})),n.recognizerOptions){var o=this.manager.get(i);if(o){var a=n.recognizerOptions[i];delete a.enable,o.set(a)}}this.wheelInput=new Bt(t,this._onOtherEvent,{enable:!1}),this.moveInput=new Ht(t,this._onOtherEvent,{enable:!1}),this.keyInput=new Zt(t,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new Jt(t,this._onOtherEvent,{enable:!1});var s,u=ne(this.events);try{for(u.s();!(s=u.n()).done;){var c=Object(C.a)(s.value,2),l=c[0],f=c[1];f.isEmpty()||(this._toggleRecognizer(f.recognizerName,!0),this.manager.on(l,f.handleEvent))}}catch(h){u.e(h)}finally{u.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(t,e,n){this._addEventHandler(t,e,n,!1)}},{key:"once",value:function(t,e,n){this._addEventHandler(t,e,n,!0)}},{key:"watch",value:function(t,e,n){this._addEventHandler(t,e,n,!1,!0)}},{key:"off",value:function(t,e){this._removeEventHandler(t,e)}},{key:"_toggleRecognizer",value:function(t,e){var n=this.manager;if(n){var r=n.get(t);if(r&&r.options.enable!==e){r.set({enable:e});var i=Pt[t];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);e?(o.requireFailure(t),r.dropRequireFailure(i)):o.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e),this.contextmenuInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function(t,e,n,r,i){if("string"===typeof t){var o=this.manager,a=this.events,s=Rt[t]||t,u=a.get(s);u||(u=new ee(this),a.set(s,u),u.recognizerName=jt[s]||s,o&&o.on(s,u.handleEvent)),u.add(t,e,n,r,i),u.isEmpty()||this._toggleRecognizer(u.recognizerName,!0)}else for(var c in n=e,t)this._addEventHandler(c,t[c],n,r,i)}},{key:"_removeEventHandler",value:function(t,e){if("string"===typeof t){var n=this.events,r=Rt[t]||t,i=n.get(r);if(i&&(i.remove(t,e),i.isEmpty())){var o,a=i.recognizerName,s=!1,u=ne(n.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;if(c.recognizerName===a&&!c.isEmpty()){s=!0;break}}}catch(f){u.e(f)}finally{u.f()}s||this._toggleRecognizer(a,!1)}}else for(var l in t)this._removeEventHandler(l,t[l])}},{key:"_onBasicInput",value:function(t){var e=t.srcEvent,n=Tt[e.type];n&&this.manager.emit(n,t)}},{key:"_onOtherEvent",value:function(t){this.manager.emit(t.type,t)}}]),t}();var ae={transitionDuration:0},se={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new $,transitionInterruption:yt},ue=["wheel"],ce=["panstart","panmove","panend"],le=["pinchstart","pinchmove","pinchend","pinchcancel"],fe=["doubletap"],he=["keydown"],pe=function(){function t(){var e=this;Object(i.a)(this,t),Object(h.a)(this,"events",[]),Object(h.a)(this,"mapState",void 0),Object(h.a)(this,"onViewportChange",void 0),Object(h.a)(this,"onStateChange",void 0),Object(h.a)(this,"mapStateProps",void 0),Object(h.a)(this,"eventManager",void 0),Object(h.a)(this,"scrollZoom",!0),Object(h.a)(this,"dragPan",!0),Object(h.a)(this,"dragRotate",!0),Object(h.a)(this,"doubleClickZoom",!0),Object(h.a)(this,"touchZoom",!0),Object(h.a)(this,"touchRotate",!1),Object(h.a)(this,"keyboard",!0),Object(h.a)(this,"_state",{isDragging:!1}),Object(h.a)(this,"_events",{}),Object(h.a)(this,"_transitionManager",new _t),Object(h.a)(this,"setState",(function(t){Object.assign(e._state,t),e.onStateChange&&e.onStateChange(e._state)})),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=function(t,e){var n,r,i,o=function(){return i=null,t.apply(n,r)};return function(){n=this,r=arguments,i&&clearTimeout(i),i=setTimeout(o,e)}}(this._onWheelEnd,100)}return Object(a.a)(t,[{key:"handleEvent",value:function(t){switch(this.mapState=this.getMapState(),t.type){case"panstart":return this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchcancel":case"pinchend":return this._onPinchEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"updateViewport",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},t.getViewportProps(),e),o=Object.keys(i).some((function(t){return r[t]!==i[t]}));o&&this.onViewportChange(i,n,r),this.setState(Object.assign({},t.getInteractiveState(),n))}},{key:"getMapState",value:function(t){return new nt(Object.assign({},this.mapStateProps,this._state,t))}},{key:"setOptions",value:function(t){var e=t.onViewportChange,n=t.onStateChange,r=t.eventManager,i=void 0===r?this.eventManager:r,o=t.isInteractive,a=void 0===o||o,s=t.scrollZoom,u=void 0===s?this.scrollZoom:s,c=t.dragPan,l=void 0===c?this.dragPan:c,f=t.dragRotate,h=void 0===f?this.dragRotate:f,p=t.doubleClickZoom,d=void 0===p?this.doubleClickZoom:p,y=t.touchZoom,v=void 0===y?this.touchZoom:y,g=t.touchRotate,m=void 0===g?this.touchRotate:g,b=t.keyboard,_=void 0===b?this.keyboard:b;this.onViewportChange=e,this.onStateChange=n;var x=!this.mapStateProps||this.mapStateProps.height!==t.height;this.mapStateProps=t,x&&this.updateViewport(new nt(t)),this._transitionManager.processViewportChange(Object.assign({},t,{onStateChange:this.setState})),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(ue,a&&u),this.toggleEvents(ce,a&&(l||h)),this.toggleEvents(le,a&&(v||m)),this.toggleEvents(fe,a&&d),this.toggleEvents(he,a&&_),this.scrollZoom=u,this.dragPan=l,this.dragRotate=h,this.doubleClickZoom=d,this.touchZoom=v,this.touchRotate=m,this.keyboard=_}},{key:"toggleEvents",value:function(t,e){var n=this;this.eventManager&&t.forEach((function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))}))}},{key:"_onPanStart",value:function(t){var e=this.getCenter(t),n=this.mapState.panStart({pos:e}).rotateStart({pos:e});return this.updateViewport(n,ae,{isDragging:!0}),!0}},{key:"_onPan",value:function(t){return this.isFunctionKeyPressed(t)||t.rightButton?this._onPanRotate(t):this._onPanMove(t)}},{key:"_onPanEnd",value:function(t){var e=this.mapState.panEnd().rotateEnd();return this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,ae,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(t){if(!this.dragRotate)return!1;var e=t.deltaX,n=t.deltaY,r=this.getCenter(t),i=Object(C.a)(r,2)[1],o=i-n,a=this.mapState.getViewportProps(),s=a.width,u=a.height,c=e/s,l=0;n>0?Math.abs(u-o)>5&&(l=n/(o-u)*1.2):n<0&&o>5&&(l=1-i/o),l=Math.min(1,Math.max(-1,l));var f=this.mapState.rotate({deltaScaleX:c,deltaScaleY:l});return this.updateViewport(f,ae,{isRotating:!0}),!0}},{key:"_onWheel",value:function(t){if(!this.scrollZoom)return!1;t.preventDefault();var e=this.getCenter(t),n=t.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.mapState.zoom({pos:e,scale:r});return this.updateViewport(i,ae,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._state.startPinchRotation=t.rotation,this.updateViewport(n,ae,{isDragging:!0}),!0}},{key:"_onPinch",value:function(t){if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var i=t.rotation,o=this._state.startPinchRotation;e=e.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(e,ae,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(t){var e=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,Object.assign({},se,{transitionInterpolator:new $({around:e})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(t){if(!this.keyboard)return!1;var e,n=this.isFunctionKeyPressed(t),r=this.mapStateProps;switch(t.srcEvent.keyCode){case 189:e=n?this.getMapState({zoom:r.zoom-2}):this.getMapState({zoom:r.zoom-1});break;case 187:e=n?this.getMapState({zoom:r.zoom+2}):this.getMapState({zoom:r.zoom+1});break;case 37:e=n?this.getMapState({bearing:r.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:e=n?this.getMapState({bearing:r.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:e=n?this.getMapState({pitch:r.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:e=n?this.getMapState({pitch:r.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(e,se)}}]),t}(),de=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function ye(t){return"react-map-gl: `".concat(t,"` is removed.")}function ve(t){return"Use `".concat(t,"` instead.")}function ge(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};de.forEach((function(e){if(t.hasOwnProperty(e.old)){var n=ye(e.old);e.new&&(n="".concat(n," ").concat(ve(e.new))),console.warn(n)}}))}function me(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var be=Object.assign({},pt.propTypes,{maxZoom:y.a.number,minZoom:y.a.number,maxPitch:y.a.number,minPitch:y.a.number,onViewStateChange:y.a.func,onViewportChange:y.a.func,onInteractionStateChange:y.a.func,transitionDuration:y.a.oneOfType([y.a.number,y.a.string]),transitionInterpolator:y.a.object,transitionInterruption:y.a.number,transitionEasing:y.a.func,onTransitionStart:y.a.func,onTransitionInterrupt:y.a.func,onTransitionEnd:y.a.func,scrollZoom:y.a.bool,dragPan:y.a.bool,dragRotate:y.a.bool,doubleClickZoom:y.a.bool,touchZoom:y.a.bool,touchRotate:y.a.bool,keyboard:y.a.bool,onHover:y.a.func,onClick:y.a.func,onDblClick:y.a.func,onContextMenu:y.a.func,onMouseDown:y.a.func,onMouseMove:y.a.func,onMouseUp:y.a.func,onTouchStart:y.a.func,onTouchMove:y.a.func,onTouchEnd:y.a.func,onMouseEnter:y.a.func,onMouseLeave:y.a.func,onMouseOut:y.a.func,onWheel:y.a.func,touchAction:y.a.string,clickRadius:y.a.number,interactiveLayerIds:y.a.array,getCursor:y.a.func,controller:y.a.instanceOf(pe)}),_e=Object.assign({},pt.defaultProps,J,_t.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:function(t){var e=t.isDragging,n=t.isHovering;return e?"grabbing":n?"pointer":"grab"}}),xe=function(t){u(n,t);var e=me(n);function n(t){var r;return Object(i.a)(this,n),r=e.call(this,t),Object(h.a)(o(r),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),Object(h.a)(o(r),"_controller",void 0),Object(h.a)(o(r),"_eventManager",void 0),Object(h.a)(o(r),"_interactiveContext",void 0),Object(h.a)(o(r),"_width",0),Object(h.a)(o(r),"_height",0),Object(h.a)(o(r),"_eventCanvasRef",Object(p.createRef)()),Object(h.a)(o(r),"_staticMapRef",Object(p.createRef)()),Object(h.a)(o(r),"getMap",(function(){return r._staticMapRef.current?r._staticMapRef.current.getMap():null})),Object(h.a)(o(r),"queryRenderedFeatures",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.getMap();return n&&n.queryRenderedFeatures(t,e)})),Object(h.a)(o(r),"_onInteractionStateChange",(function(t){var e=t.isDragging,n=void 0!==e&&e;n!==r.state.isDragging&&(r._updateInteractiveContext({isDragging:n}),r.setState({isDragging:n}));var i=r.props.onInteractionStateChange;i&&i(t)})),Object(h.a)(o(r),"_onResize",(function(t){var e=t.width,n=t.height;r._width=e,r._height=n,r._setControllerProps(r.props),r.props.onResize({width:e,height:n})})),Object(h.a)(o(r),"_onViewportChange",(function(t,e,n){var i=r.props,o=i.onViewStateChange,a=i.onViewportChange;o&&o({viewState:t,interactionState:e,oldViewState:n}),a&&a(t,e,n)})),Object(h.a)(o(r),"_onLoad",(function(t){r.setState({isLoaded:!0}),r.props.onLoad(t)})),Object(h.a)(o(r),"_onEvent",(function(t,e){var n=r.props[t];n&&n(r._normalizeEvent(e))})),Object(h.a)(o(r),"_onPointerDown",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchStart",t);break;default:r._onEvent("onMouseDown",t)}})),Object(h.a)(o(r),"_onPointerUp",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchEnd",t);break;default:r._onEvent("onMouseUp",t)}})),Object(h.a)(o(r),"_onPointerMove",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchMove",t);break;default:r._onEvent("onMouseMove",t)}if(!r.state.isDragging){var e,n=r.props,i=n.onHover,o=n.interactiveLayerIds;t=r._normalizeEvent(t),r.state.isLoaded&&(o||i)&&(e=r._getFeatures({pos:t.point,radius:r.props.clickRadius})),i&&(t.features=e,i(t));var a=Boolean(o&&e&&e.length>0),s=a&&!r.state.isHovering,u=!a&&r.state.isHovering;s&&r._onEvent("onMouseEnter",t),u&&r._onEvent("onMouseLeave",t),(s||u)&&r.setState({isHovering:a})}})),Object(h.a)(o(r),"_onClick",(function(t){var e=r.props,n=e.onClick,i=e.onNativeClick,o=e.onDblClick,a=e.doubleClickZoom,s=[],u=o||a;switch(t.type){case"anyclick":s.push(i),u||s.push(n);break;case"click":u&&s.push(n)}(s=s.filter(Boolean)).length&&((t=r._normalizeEvent(t)).features=r._getFeatures({pos:t.point,radius:r.props.clickRadius}),s.forEach((function(e){return e(t)})))})),ge(t),r._controller=t.controller||new pe,r._eventManager=new oe(null,{touchAction:t.touchAction}),r._updateInteractiveContext({isDragging:!1,eventManager:r._eventManager}),r}return Object(a.a)(n,null,[{key:"supported",value:function(){return pt.supported()}}]),Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this._eventManager,e=this._eventCanvasRef.current;t.setElement(e),t.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:e})}},{key:"componentDidUpdate",value:function(){this._setControllerProps(this.props)}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(t){t=Object.assign({},t,t.viewState,{isInteractive:Boolean(t.onViewStateChange||t.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(t);var e=this._interactiveContext;e.onViewportChange=t.onViewportChange,e.onViewStateChange=t.onViewStateChange}},{key:"_getFeatures",value:function(t){var e,n=t.pos,r=t.radius,i={},o=this.getMap();if(this.props.interactiveLayerIds&&(i.layers=this.props.interactiveLayerIds),r){var a=r,s=[[n[0]-a,n[1]+a],[n[0]+a,n[1]-a]];e=o&&o.queryRenderedFeatures(s,i)}else e=o&&o.queryRenderedFeatures(n,i);return e}},{key:"_updateInteractiveContext",value:function(t){this._interactiveContext=Object.assign({},this._interactiveContext,t)}},{key:"_normalizeEvent",value:function(t){if(t.lngLat)return t;var e=t.offsetCenter,n=[e.x,e.y],r=new w.a(Object.assign({},this.props,{width:this._width,height:this._height}));return t.point=n,t.lngLat=r.unproject(n),t}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,i=t.style,o=t.getCursor,a=Object.assign({position:"relative"},i,{width:e,height:n,cursor:o(this.state)});return p.createElement(it.Provider,{value:this._interactiveContext},p.createElement("div",{key:"event-canvas",ref:this._eventCanvasRef,style:a},p.createElement(pt,Object(r.a)({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),n}(p.PureComponent);function we(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!we(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if("object"===c(t)&&"object"===c(e)){var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(!e.hasOwnProperty(s))return!1;if(!we(t[s],e[s]))return!1}return!0}return!1}function Ee(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}Object(h.a)(xe,"propTypes",be),Object(h.a)(xe,"defaultProps",_e);var Se={type:y.a.string.isRequired,id:y.a.string},ke=0,Oe=function(t){u(n,t);var e=Ee(n);function n(t){var r;return Object(i.a)(this,n),r=e.call(this,t),Object(h.a)(o(r),"id",void 0),Object(h.a)(o(r),"type",void 0),Object(h.a)(o(r),"_map",null),Object(h.a)(o(r),"_sourceOptions",{}),Object(h.a)(o(r),"_updateSource",(function(){var t=o(r),e=t.type;if(t._map){var n=o(r),i=n._sourceOptions,a=n.props;I(!a.id||a.id===r.id,"source id changed"),I(a.type===e,"source type changed");var s="",u=0;for(var c in a)"children"===c||"id"===c||we(i[c],a[c])||(i[c]=a[c],s=c,u++);var l=r.getSource();if(l){if(u)if("geojson"===e)l.setData(i.data);else if("image"===e)l.updateImage({url:i.url,coordinates:i.coordinates});else if("canvas"!==e&&"video"!==e||1!==u||"coordinates"!==s)if("vector"===e&&l.setUrl)switch(s){case"url":l.setUrl(i.url);break;case"tiles":l.setTiles(i.tiles)}else console.warn("Unable to update <Source> prop: ".concat(s));else l.setCoordinates(i.coordinates)}else r._createSource(i)}})),r.id=t.id||"jsx-source-".concat(ke++),r.type=t.type,r}return Object(a.a)(n,[{key:"componentWillUnmount",value:function(){var t=this,e=this._map;e&&(e.off("styledata",this._updateSource),requestAnimationFrame((function(){e.style&&e.style._loaded&&e.removeSource(t.id)})))}},{key:"getSource",value:function(){var t=this._map;return t&&t.style&&t.getSource(this.id)}},{key:"_createSource",value:function(t){var e=this._map;e.style&&e.style._loaded&&e.addSource(this.id,t)}},{key:"_render",value:function(t){var e=this;return!this._map&&t.map&&(this._map=t.map,this._map.on("styledata",this._updateSource)),this._updateSource(),p.Children.map(this.props.children,(function(t){return t&&Object(p.cloneElement)(t,{source:e.id})}))}},{key:"render",value:function(){return p.createElement(it.Consumer,null,this._render.bind(this))}}]),n}(p.PureComponent);Object(h.a)(Oe,"propTypes",Se);var Ce=n(54);function Pe(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var Te={type:y.a.oneOf(Object.keys({fill:"fill",line:"line",symbol:"symbol",circle:"circle","fill-extrusion":"fill-extrusion",raster:"raster",background:"background",heatmap:"heatmap",hillshade:"hillshade",sky:"sky"})).isRequired,id:y.a.string,source:y.a.string,beforeId:y.a.string};function Me(t,e,n,r){var i=n.layout,o=void 0===i?{}:i,a=n.paint,s=void 0===a?{}:a,u=n.filter,c=n.minzoom,l=n.maxzoom,f=n.beforeId,h=function(t,e){if(null==t)return{};var n,r,i=Object(Ce.a)(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(f!==r.beforeId&&t.moveLayer(e,f),o!==r.layout){var p=r.layout||{};for(var d in o)we(o[d],p[d])||t.setLayoutProperty(e,d,o[d]);for(var y in p)o.hasOwnProperty(y)||t.setLayoutProperty(e,y,void 0)}if(s!==r.paint){var v=r.paint||{};for(var g in s)we(s[g],v[g])||t.setPaintProperty(e,g,s[g]);for(var m in v)s.hasOwnProperty(m)||t.setPaintProperty(e,m,void 0)}for(var b in we(u,r.filter)||t.setFilter(e,u),c===r.minzoom&&l===r.maxzoom||t.setLayerZoomRange(e,c,l),h)we(h[b],r[b])||t.setLayerProperty(e,b,h[b])}var Ae=0,Ie=function(t){u(n,t);var e=Pe(n);function n(t){var r;return Object(i.a)(this,n),r=e.call(this,t),Object(h.a)(o(r),"id",void 0),Object(h.a)(o(r),"type",void 0),Object(h.a)(o(r),"_map",null),Object(h.a)(o(r),"_layerOptions",{}),Object(h.a)(o(r),"_updateLayer",(function(){var t=r._map;if(t){var e=o(r),n=e.props,i=e._layerOptions;if(I(!n.id||n.id===r.id,"layer id changed"),I(n.type===r.type,"layer type changed"),r.getLayer())try{Me(t,r.id,n,i),Object.assign(i,n)}catch(a){console.warn(a)}else r._createLayer()}})),r.id=t.id||"jsx-layer-".concat(Ae++),r.type=t.type,r}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this._updateLayer()}},{key:"componentDidUpdate",value:function(){this._updateLayer()}},{key:"componentWillUnmount",value:function(){var t=this._map;t&&(t.off("styledata",this._updateLayer),t.style&&t.style._loaded&&t.removeLayer(this.id))}},{key:"getLayer",value:function(){var t=this._map;return t&&t.style&&t.getLayer(this.id)}},{key:"_createLayer",value:function(){var t=this._map;if(t.style&&t.style._loaded){var e=Object.assign({},this.props);e.id=this.id,delete e.beforeId,t.addLayer(e,this.props.beforeId),this._layerOptions=e}}},{key:"_render",value:function(t){return!this._map&&t.map&&(this._map=t.map,this._map.on("styledata",this._updateLayer)),null}},{key:"render",value:function(){return p.createElement(it.Consumer,null,this._render.bind(this))}}]),n}(p.PureComponent);function je(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}Object(h.a)(Ie,"propTypes",Te);var Re={captureScroll:y.a.bool,captureDrag:y.a.bool,captureClick:y.a.bool,captureDoubleClick:y.a.bool,capturePointerMove:y.a.bool},De=function(t){u(n,t);var e=je(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a)),Object(h.a)(o(t),"_context",{}),Object(h.a)(o(t),"_events",null),Object(h.a)(o(t),"_containerRef",Object(p.createRef)()),Object(h.a)(o(t),"_onScroll",(function(e){t.props.captureScroll&&e.stopPropagation()})),Object(h.a)(o(t),"_onDragStart",(function(e){t.props.captureDrag&&e.stopPropagation()})),Object(h.a)(o(t),"_onDblClick",(function(e){t.props.captureDoubleClick&&e.stopPropagation()})),Object(h.a)(o(t),"_onClick",(function(e){t.props.captureClick&&e.stopPropagation()})),Object(h.a)(o(t),"_onPointerMove",(function(e){t.props.capturePointerMove&&e.stopPropagation()})),t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;if(t){var e=this._context.eventManager;e&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick,pointermove:this._onPointerMove},e.watch(this._events,t))}}},{key:"componentWillUnmount",value:function(){var t=this._context.eventManager;t&&this._events&&t.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var t=this;return p.createElement(it.Consumer,null,(function(e){return t._context=e,t._render()}))}}]),n}(p.PureComponent);function Ne(t,e,n){return(Ne="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Le(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}Object(h.a)(De,"propTypes",Re),Object(h.a)(De,"defaultProps",{captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1});var ze=Object.assign({},De.propTypes,{draggable:y.a.bool,onDrag:y.a.func,onDragEnd:y.a.func,onDragStart:y.a.func,offsetLeft:y.a.number,offsetTop:y.a.number}),Fe=Object.assign({},De.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),Be=function(t){u(n,t);var e=Le(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a)),Object(h.a)(o(t),"state",{dragPos:null,dragOffset:null}),Object(h.a)(o(t),"_dragEvents",null),Object(h.a)(o(t),"_onDragStart",(function(e){var n=t.props,r=n.draggable,i=n.captureDrag;if((r||i)&&e.stopPropagation(),r){var o=t._getDragEventPosition(e),a=t._getDragEventOffset(e);t.setState({dragPos:o,dragOffset:a}),t._setupDragEvents();var s=t.props.onDragStart;if(s&&a){var u=Object.assign({},e);u.lngLat=t._getDragLngLat(o,a),s(u)}}})),Object(h.a)(o(t),"_onDrag",(function(e){e.stopPropagation();var n=t._getDragEventPosition(e);t.setState({dragPos:n});var r=t.props.onDrag,i=t.state.dragOffset;if(r&&i){var o=Object.assign({},e);o.lngLat=t._getDragLngLat(n,i),r(o)}})),Object(h.a)(o(t),"_onDragEnd",(function(e){var n=t.state,r=n.dragPos,i=n.dragOffset;e.stopPropagation(),t.setState({dragPos:null,dragOffset:null}),t._removeDragEvents();var o=t.props.onDragEnd;if(o&&r&&i){var a=Object.assign({},e);a.lngLat=t._getDragLngLat(r,i),o(a)}})),Object(h.a)(o(t),"_onDragCancel",(function(e){e.stopPropagation(),t.setState({dragPos:null,dragOffset:null}),t._removeDragEvents()})),t}return Object(a.a)(n,[{key:"componentWillUnmount",value:function(){Ne(f(n.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var t=this._context.eventManager;t&&(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},t.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var t=this._context.eventManager;t&&this._dragEvents&&(t.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"_getDragEventOffset",value:function(t){var e=t.center,n=e.x,r=e.y,i=this._containerRef.current;if(i){var o=i.getBoundingClientRect();return[o.left-n,o.top-r]}return null}},{key:"_getDraggedPosition",value:function(t,e){return[t[0]+e[0],t[1]+e[1]]}},{key:"_getDragLngLat",value:function(t,e){var n=this.props,r=n.offsetLeft,i=n.offsetTop,o=this._getDraggedPosition(t,e),a=Object(C.a)(o,2),s=a[0],u=a[1];return this._context.viewport.unproject([s-r,u-i])}}]),n}(De);Object(h.a)(Be,"propTypes",ze),Object(h.a)(Be,"defaultProps",Fe);var Ue="undefined"!==typeof window&&window.devicePixelRatio||1,qe=function(t){return Math.round(t*Ue)/Ue},Ve=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";if(null===t)return e;var r="x"===n?t.offsetWidth:t.offsetHeight;return qe(e/100*r)/r*100};function Ge(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var We=Object.assign({},Be.propTypes,{className:y.a.string,longitude:y.a.number.isRequired,latitude:y.a.number.isRequired}),He=Object.assign({},Be.defaultProps,{className:""}),Ke=function(t){u(n,t);var e=Ge(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a)),Object(h.a)(o(t),"_control",null),t}return Object(a.a)(n,[{key:"_getPosition",value:function(){var t=this.props,e=t.longitude,n=t.latitude,r=t.offsetLeft,i=t.offsetTop,o=this.state,a=o.dragPos,s=o.dragOffset;if(a&&s)return this._getDraggedPosition(a,s);var u=this._context.viewport.project([e,n]),c=Object(C.a)(u,2),l=c[0],f=c[1];return[l+=r,f+=i]}},{key:"_render",value:function(){var t=this._getPosition(),e=Object(C.a)(t,2),n=e[0],r=e[1],i="translate(".concat(qe(n),"px, ").concat(qe(r),"px)"),o=this._containerRef.current;if(this._control&&o)o.style.transform=i;else{var a=this.props,s=a.className,u=a.draggable,c=this.state.dragPos,l={position:"absolute",left:0,top:0,transform:i,cursor:u?c?"grabbing":"grab":"auto"};this._control=p.createElement("div",{className:"mapboxgl-marker ".concat(s),ref:this._containerRef,style:l},this.props.children)}return this._control}},{key:"render",value:function(){return this._control=null,Ne(f(n.prototype),"render",this).call(this)}}]),n}(Be);Object(h.a)(Ke,"propTypes",We),Object(h.a)(Ke,"defaultProps",He);var Xe={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},Ye=Object.keys(Xe);function Ze(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var $e=Object.assign({},De.propTypes,{className:y.a.string,longitude:y.a.number.isRequired,latitude:y.a.number.isRequired,altitude:y.a.number,offsetLeft:y.a.number,offsetTop:y.a.number,tipSize:y.a.number,closeButton:y.a.bool,closeOnClick:y.a.bool,anchor:y.a.oneOf(Object.keys(Xe)),dynamicPosition:y.a.bool,sortByDepth:y.a.bool,onClose:y.a.func}),Je=Object.assign({},De.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),Qe=function(t){u(n,t);var e=Ze(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a)),Object(h.a)(o(t),"_closeOnClick",!1),Object(h.a)(o(t),"_contentRef",Object(p.createRef)()),Object(h.a)(o(t),"_onClick",(function(e){if(t.props.captureClick&&e.stopPropagation(),t.props.closeOnClick||"mapboxgl-popup-close-button"===e.target.className){t.props.onClose();var n=t._context.eventManager;n&&n.once("click",(function(t){return t.stopPropagation()}),e.target)}})),t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){Ne(f(n.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(t,e){var n=this._context.viewport,r=this.props,i=r.anchor,o=r.dynamicPosition,a=r.tipSize,s=this._contentRef.current;return s&&o?function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.selfWidth,a=t.selfHeight,s=t.anchor,u=t.padding,c=void 0===u?0:u,l=Xe[s],f=l.x,h=l.y,p=n-h*a,d=p+a,y=Math.max(0,c-p)+Math.max(0,d-i+c);if(y>0){var v=h,g=y;for(h=0;h<=1;h+=.5)d=(p=n-h*a)+a,(y=Math.max(0,c-p)+Math.max(0,d-i+c))<g&&(g=y,v=h);h=v}var m=.5;.5===h&&(f=Math.floor(f),m=1);var b=e-f*o,_=b+o,x=Math.max(0,c-b)+Math.max(0,_-r+c);if(x>0){var w=f,E=x;for(f=0;f<=1;f+=m)_=(b=e-f*o)+o,(x=Math.max(0,c-b)+Math.max(0,_-r+c))<E&&(E=x,w=f);f=w}return Ye.find((function(t){var e=Xe[t];return e.x===f&&e.y===h}))||s}({x:t,y:e,anchor:i,padding:a,width:n.width,height:n.height,selfWidth:s.clientWidth,selfHeight:s.clientHeight}):i}},{key:"_getContainerStyle",value:function(t,e,n,r){var i=this._context.viewport,o=this.props,a=o.offsetLeft,s=o.offsetTop,u=o.sortByDepth,c=Xe[r],l=t+a,f=e+s,h=this._containerRef.current,p=Ve(h,100*-c.x),d=Ve(h,100*-c.y,"y"),y={position:"absolute",transform:"\n        translate(".concat(p,"%, ").concat(d,"%)\n        translate(").concat(qe(l),"px, ").concat(qe(f),"px)\n      "),display:void 0,zIndex:void 0};return u?(n>1||n<-1||t<0||t>i.width||e<0||e>i.height?y.display="none":y.zIndex=Math.floor((1-n)/2*1e5),y):y}},{key:"_renderTip",value:function(t){var e=this.props.tipSize;return p.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:e}})}},{key:"_renderContent",value:function(){var t=this.props,e=t.closeButton,n=t.children,r=this._context.eventManager?null:this._onClick;return p.createElement("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:r},e&&p.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"\xd7"),n)}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.longitude,r=t.latitude,i=t.altitude,o=this._context.viewport.project([n,r,i]),a=Object(C.a)(o,3),s=a[0],u=a[1],c=a[2],l=this._getPosition(s,u),f=this._getContainerStyle(s,u,c,l);return p.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(l," ").concat(e),style:f,ref:this._containerRef},this._renderTip(l),this._renderContent())}}]),n}(De);Object(h.a)(Qe,"propTypes",$e),Object(h.a)(Qe,"defaultProps",Je);var tn=n(84);function en(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var nn,rn=Object.assign({},De.propTypes,{className:y.a.string,container:y.a.object,label:y.a.string}),on=Object.assign({},De.defaultProps,{className:"",container:null,label:"Toggle fullscreen"}),an=function(t){u(n,t);var e=en(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a)),Object(h.a)(o(t),"state",{isFullscreen:!1,showButton:!1}),Object(h.a)(o(t),"_mapboxFullscreenControl",null),Object(h.a)(o(t),"_onFullscreenChange",(function(){var e=!t._mapboxFullscreenControl._fullscreen;t._mapboxFullscreenControl._fullscreen=e,t.setState({isFullscreen:e})})),Object(h.a)(o(t),"_onClickFullscreen",(function(){t._mapboxFullscreenControl._onClickFullscreen()})),t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new O.a.FullscreenControl({container:t}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),tn.a.addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){tn.a.removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(t,e,n){return p.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},p.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){if(!this.state.showButton)return null;var t=this.props,e=t.className,n=t.label,r=this.state.isFullscreen?"shrink":"fullscreen";return p.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},this._renderButton(r,n,this._onClickFullscreen))}}]),n}(De);function sn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}Object(h.a)(an,"propTypes",rn),Object(h.a)(an,"defaultProps",on);var un=Object.assign({},_t.defaultProps,{transitionDuration:500}),cn=function(){},ln=Object.assign({},De.propTypes,{className:y.a.string,style:y.a.object,label:y.a.string,auto:y.a.bool,positionOptions:y.a.object,fitBoundsOptions:y.a.object,trackUserLocation:y.a.bool,showUserLocation:y.a.bool,onViewStateChange:y.a.func,onViewportChange:y.a.func,onGeolocate:y.a.func}),fn=Object.assign({},De.defaultProps,{className:"",style:{},label:"Geolocate",auto:!1,positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0,onGeolocate:function(){}}),hn=function(t){u(n,t);var e=sn(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a)),Object(h.a)(o(t),"state",{supportsGeolocation:!1,markerPosition:null}),Object(h.a)(o(t),"_mapboxGeolocateControl",null),Object(h.a)(o(t),"_geolocateButtonRef",Object(p.createRef)()),Object(h.a)(o(t),"_setupMapboxGeolocateControl",(function(e){if(e){var n={showUserLocation:!1};["positionOptions","fitBoundsOptions","trackUserLocation"].forEach((function(e){e in t.props&&null!==t.props[e]&&(n[e]=t.props[e])}));var r=new O.a.GeolocateControl(n);t._mapboxGeolocateControl=r,r._watchState="OFF",r._geolocateButton=t._geolocateButtonRef.current,r.options.trackUserLocation&&r._geolocateButton&&r._geolocateButton.setAttribute("aria-pressed","false"),r._updateMarker=t._updateMarker,r._updateCamera=t._updateCamera,r._setup=!0;var i=t._context.eventManager;r.options.trackUserLocation&&i&&i.on("panstart",(function(){"ACTIVE_LOCK"===r._watchState&&(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"))})),r.on("geolocate",t.props.onGeolocate)}else console.warn("Geolocation support is not available, the GeolocateControl will not be visible.")})),Object(h.a)(o(t),"_triggerGeolocate",(function(){var e=t._mapboxGeolocateControl;return e._map=t._context.map,t.props.showUserLocation&&(e.on("geolocate",t._updateMarker),e.on("trackuserlocationend",t._updateMarker)),t._mapboxGeolocateControl.trigger()})),Object(h.a)(o(t),"_updateMarker",(function(e){e&&t.setState({markerPosition:e.coords})})),Object(h.a)(o(t),"_getBounds",(function(t){var e=new O.a.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=e.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]})),Object(h.a)(o(t),"_updateCamera",(function(e){var n=t._context.viewport,r=t._getBounds(e),i=new w.a(n).fitBounds(r),o=i.longitude,a=i.latitude,s=i.zoom,u=Object.assign({},n,{longitude:o,latitude:a,zoom:s}),c=new nt(u),l=Object.assign({},c.getViewportProps(),un),f=t.props.onViewportChange||t._context.onViewportChange||cn;(t.props.onViewStateChange||t._context.onViewStateChange||cn)({viewState:l}),f(l)})),Object(h.a)(o(t),"_renderButton",(function(e,n,r){return p.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),ref:t._geolocateButtonRef,type:"button",title:n,onClick:r},p.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))})),Object(h.a)(o(t),"_renderMarker",(function(){var e=t.state.markerPosition,n=t.props.showUserLocation;return e&&n?p.createElement(Ke,{key:"location-maker",longitude:e.longitude,latitude:e.latitude,captureDrag:!1,captureDoubleClick:!1},p.createElement("div",{className:"mapboxgl-user-location-dot",style:{transform:"translate(-50%, -50%)"}})):null})),t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this;(void 0!==nn?Promise.resolve(nn):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(t){return nn="denied"!==t.state})):(nn=Boolean(window.navigator.geolocation),Promise.resolve(nn))).then((function(e){t.setState({supportsGeolocation:e}),t._setupMapboxGeolocateControl(e),e&&t.props.auto&&t._triggerGeolocate()}))}},{key:"componentDidUpdate",value:function(t){this.state.supportsGeolocation&&!t.auto&&this.props.auto&&this._triggerGeolocate()}},{key:"componentWillUnmount",value:function(){if(this._mapboxGeolocateControl){var t=this._mapboxGeolocateControl._geolocationWatchID;void 0!==t&&(window.navigator.geolocation.clearWatch(t),this._mapboxGeolocateControl._geolocationWatchID=void 0)}}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var t=this.props,e=t.className,n=t.style,r=t.label;return p.createElement("div",null,this._renderMarker(),p.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef,style:n},this._renderButton("geolocate",r,this._triggerGeolocate)))}}]),n}(De);function pn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}Object(h.a)(hn,"propTypes",ln),Object(h.a)(hn,"defaultProps",fn);var dn=function(){},yn=Object.assign({},De.propTypes,{className:y.a.string,onViewStateChange:y.a.func,onViewportChange:y.a.func,showCompass:y.a.bool,showZoom:y.a.bool,zoomInLabel:y.a.string,zoomOutLabel:y.a.string,compassLabel:y.a.string}),vn=Object.assign({},De.defaultProps,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function gn(t){return function(t,e){for(var n=(t||"").split(".").map(Number),r=(e||"").split(".").map(Number),i=0;i<3;i++){var o=n[i]||0,a=r[i]||0;if(o<a)return-1;if(o>a)return 1}return 0}(t,"1.6.0")>=0?2:1}var mn=function(t){u(n,t);var e=pn(n);function n(t){var r;return Object(i.a)(this,n),r=e.call(this,t),Object(h.a)(o(r),"_uiVersion",void 0),Object(h.a)(o(r),"_onZoomIn",(function(){r._updateViewport({zoom:r._context.viewport.zoom+1})})),Object(h.a)(o(r),"_onZoomOut",(function(){r._updateViewport({zoom:r._context.viewport.zoom-1})})),Object(h.a)(o(r),"_onResetNorth",(function(){r._updateViewport({bearing:0,pitch:0})})),ge(t),r}return Object(a.a)(n,[{key:"_updateViewport",value:function(t){var e=this._context.viewport,n=new nt(Object.assign({},e,t)),r=Object.assign({},n.getViewportProps(),se),i=this.props.onViewportChange||this._context.onViewportChange||dn;(this.props.onViewStateChange||this._context.onViewStateChange||dn)({viewState:r}),i(r)}},{key:"_renderCompass",value:function(){var t=this._context.viewport.bearing,e={transform:"rotate(".concat(-t,"deg)")};return 2===this._uiVersion?p.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:e}):p.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:e})}},{key:"_renderButton",value:function(t,e,n,r){return p.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},r||p.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.showCompass,r=t.showZoom,i=t.zoomInLabel,o=t.zoomOutLabel,a=t.compassLabel;if(!this._uiVersion){var s=this._context.map;this._uiVersion=s?gn(s.version):2}return p.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},r&&this._renderButton("zoom-in",i,this._onZoomIn),r&&this._renderButton("zoom-out",o,this._onZoomOut),n&&this._renderButton("compass",a,this._onResetNorth,this._renderCompass()))}}]),n}(De);function bn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}Object(h.a)(mn,"propTypes",yn),Object(h.a)(mn,"defaultProps",vn);var _n=Object.assign({},De.propTypes,{maxWidth:y.a.number,unit:y.a.oneOf(["imperial","metric","nautical"])}),xn=Object.assign({},De.defaultProps,{maxWidth:100,unit:"metric"}),wn=function(t){u(n,t);var e=bn(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a)),Object(h.a)(o(t),"_control",null),Object(h.a)(o(t),"_mapboxScaleControl",null),t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=new O.a.ScaleControl;t._map=this._context.map,t._container=this._containerRef.current,this._mapboxScaleControl=t,this._update()}},{key:"_update",value:function(){var t=this._mapboxScaleControl;t&&(t.options=this.props,t._onMove())}},{key:"_render",value:function(){return this._control=this._control||p.createElement("div",{ref:this._containerRef,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}),this._update(),this._control}}]),n}(De);function En(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}Object(h.a)(wn,"propTypes",_n),Object(h.a)(wn,"defaultProps",xn);var Sn=Object.assign({},De.propTypes,{redraw:y.a.func.isRequired}),kn=function(t){u(n,t);var e=En(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a)),Object(h.a)(o(t),"_canvas",void 0),Object(h.a)(o(t),"_ctx",void 0),Object(h.a)(o(t),"_redraw",(function(){var e=t._ctx;if(e){var n=tn.b.devicePixelRatio||1;e.save(),e.scale(n,n);var r=t._context,i=r.viewport,o=r.isDragging;t.props.redraw({width:i.width,height:i.height,ctx:e,isDragging:o,project:i.project.bind(i),unproject:i.unproject.bind(i)}),e.restore()}})),t}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;t&&(this._canvas=t,this._ctx=t.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var t=tn.b.devicePixelRatio||1,e=this._context.viewport,n=e.width,r=e.height;return this._redraw(),p.createElement("canvas",{ref:this._containerRef,width:n*t,height:r*t,style:{width:"".concat(n,"px"),height:"".concat(r,"px"),position:"absolute",left:0,top:0}})}}]),n}(De);function On(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}Object(h.a)(kn,"propTypes",Sn),Object(h.a)(kn,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});var Cn=Object.assign({},De.propTypes,{redraw:y.a.func.isRequired,style:y.a.object}),Pn=function(t){u(n,t);var e=On(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0,width:e.width,height:e.height},this.props.style);return p.createElement("div",{ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),n}(De);function Tn(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}Object(h.a)(Pn,"propTypes",Cn),Object(h.a)(Pn,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});var Mn=Object.assign({},De.propTypes,{redraw:y.a.func.isRequired,style:y.a.object}),An=function(t){u(n,t);var e=Tn(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0},this.props.style);return p.createElement("svg",{width:e.width,height:e.height,ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),n}(De);Object(h.a)(An,"propTypes",Mn),Object(h.a)(An,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});O.a&&O.a.setRTLTextPlugin},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),u=new Uint8Array(16);function c(){if(!s)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(u)}for(var l=[],f=0;f<256;++f)l[f]=(f+256).toString(16).substr(1);var h=function(t,e){var n=e||0,r=l;return[r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]]].join("")};var p=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||c)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[r+o]=i[o];return e||h(i)};function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var E={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},S=function(t,e){var n;"function"===typeof window.CustomEvent?n=new window.CustomEvent(t,{detail:e}):(n=document.createEvent("Event")).initEvent(t,!1,!0,e),window.dispatchEvent(n)};var k=function(t,e){var n=this.state.show,r=this.props.id,i=this.isCapture(e.currentTarget),o=e.currentTarget.getAttribute("currentItem");i||e.stopPropagation(),n&&"true"===o?t||this.hideTooltip(e):(e.currentTarget.setAttribute("currentItem","true"),O(e.currentTarget,this.getTargetArray(r)),this.showTooltip(e))},O=function(t,e){for(var n=0;n<e.length;n++)t!==e[n]?e[n].setAttribute("currentItem","false"):e[n].setAttribute("currentItem","true")},C={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(t,e,n){this.id in t?t[this.id][e]=n:Object.defineProperty(t,this.id,{configurable:!0,value:v({},e,n)})},get:function(t,e){var n=t[this.id];if(void 0!==n)return n[e]}};var P=function(t,e,n){var r=e.respectEffect,i=void 0!==r&&r,o=e.customEvent,a=void 0!==o&&o,s=this.props.id,u=n.target.getAttribute("data-tip")||null,c=n.target.getAttribute("data-for")||null,l=n.target;if(!this.isCustomEvent(l)||a){var f=null==s&&null==c||c===s;if(null!=u&&(!i||"float"===this.getEffect(l))&&f){var h=function(t){var e={};for(var n in t)"function"===typeof t[n]?e[n]=t[n].bind(t):e[n]=t[n];return e}(n);h.currentTarget=l,t(h)}}},T=function(t,e){var n={};return t.forEach((function(t){var r=t.getAttribute(e);r&&r.split(" ").forEach((function(t){return n[t]=!0}))})),n},M=function(){return document.getElementsByTagName("body")[0]};function A(t,e,n,r,i,o,a){for(var s=I(n),u=s.width,c=s.height,l=I(e),f=l.width,h=l.height,p=j(t,e,o),d=p.mouseX,y=p.mouseY,v=R(o,f,h,u,c),g=D(a),m=g.extraOffsetX,b=g.extraOffsetY,_=window.innerWidth,x=window.innerHeight,w=N(n),E=w.parentTop,S=w.parentLeft,k=function(t){var e=v[t].l;return d+e+m},O=function(t){var e=v[t].t;return y+e+b},C=function(t){return function(t){var e=v[t].r;return d+e+m}(t)>_},P=function(t){return function(t){var e=v[t].b;return y+e+b}(t)>x},T=function(t){return function(t){return k(t)<0}(t)||C(t)||function(t){return O(t)<0}(t)||P(t)},M=function(t){return!T(t)},A=["top","bottom","left","right"],L=[],z=0;z<4;z++){var F=A[z];M(F)&&L.push(F)}var B,U=!1,q=i!==r;return M(i)&&q?(U=!0,B=i):L.length>0&&T(i)&&T(r)&&(U=!0,B=L[0]),U?{isNewState:!0,newState:{place:B}}:{isNewState:!1,position:{left:parseInt(k(r)-S,10),top:parseInt(O(r)-E,10)}}}var I=function(t){var e=t.getBoundingClientRect(),n=e.height,r=e.width;return{height:parseInt(n,10),width:parseInt(r,10)}},j=function(t,e,n){var r=e.getBoundingClientRect(),i=r.top,o=r.left,a=I(e),s=a.width,u=a.height;return"float"===n?{mouseX:t.clientX,mouseY:t.clientY}:{mouseX:o+s/2,mouseY:i+u/2}},R=function(t,e,n,r,i){var o,a,s,u;return"float"===t?(o={l:-r/2,r:r/2,t:-(i+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:i+3+2+12},u={l:-(r+3+2),r:-3,t:-i/2,b:i/2},a={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===t&&(o={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},u={l:-(r+e/2+2),r:-e/2,t:-i/2,b:i/2},a={l:e/2,r:r+e/2+2,t:-i/2,b:i/2}),{top:o,bottom:s,left:u,right:a}},D=function(t){var e=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(t)&&(t=JSON.parse(t.toString().replace(/'/g,'"'))),t)"top"===r?n-=parseInt(t[r],10):"bottom"===r?n+=parseInt(t[r],10):"left"===r?e-=parseInt(t[r],10):"right"===r&&(e+=parseInt(t[r],10));return{extraOffsetX:e,extraOffsetY:n}},N=function(t){for(var e=t;e;){var n=window.getComputedStyle(e);if("none"!==n.getPropertyValue("transform")||"transform"===n.getPropertyValue("will-change"))break;e=e.parentElement}return{parentTop:e&&e.getBoundingClientRect().top||0,parentLeft:e&&e.getBoundingClientRect().left||0}};function L(t,e,n,r){if(e)return e;if(void 0!==n&&null!==n)return n;if(null===n)return null;var o=/<br\s*\/?>/;return r&&"false"!==r&&o.test(t)?t.split(o).map((function(t,e){return i.a.createElement("span",{key:e,className:"multi-line"},t)})):t}function z(t){var e={};return Object.keys(t).filter((function(t){return/(^aria-\w+$|^role$)/.test(t)})).forEach((function(n){e[n]=t[n]})),e}function F(t){var e=t.length;return t.hasOwnProperty?Array.prototype.slice.call(t):new Array(e).fill().map((function(e){return t[e]}))}var B,U,q,V={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function G(t,e,n,r){return function(t,e){var n=e.text,r=e.background,i=e.border,o=e.arrow;return"\n  \t.".concat(t," {\n\t    color: ").concat(n,";\n\t    background: ").concat(r,";\n\t    border: 1px solid ").concat(i,";\n  \t}\n\n  \t.").concat(t,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(t,".place-top::before {\n        border-top: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-top::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-top-color: ").concat(o,";\n        border-top-style: solid;\n        border-top-width: 6px;\n    }\n\n    .").concat(t,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(t,".place-bottom::before {\n        border-bottom: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-bottom::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        top: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-bottom-color: ").concat(o,";\n        border-bottom-style: solid;\n        border-bottom-width: 6px;\n    }\n\n    .").concat(t,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(t,".place-left::before {\n        border-left: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-left::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        right: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-left-color: ").concat(o,";\n        border-left-style: solid;\n        border-left-width: 6px;\n    }\n\n    .").concat(t,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(t,".place-right::before {\n        border-right: 8px solid ").concat(i,";\n    }\n    .").concat(t,".place-right::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        left: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-right-color: ").concat(o,";\n        border-right-style: solid;\n        border-right-width: 6px;\n    }\n  ")}(t,function(t,e,n){var r=t.text,i=t.background,o=t.border,a=t.arrow?t.arrow:t.background,s=function(t){return V[t]?b({},V[t]):void 0}(e);r&&(s.text=r);i&&(s.background=i);n&&(s.border=o||("light"===e?"black":"white"));a&&(s.arrow=a);return s}(e,n,r))}var W,H=function(t){t.hide=function(t){S(E.HIDE,{target:t})},t.rebuild=function(){S(E.REBUILD)},t.show=function(t){S(E.SHOW,{target:t})},t.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},t.prototype.globalShow=function(t){if(this.mount){var e=!!(t&&t.detail&&t.detail.target);this.showTooltip({currentTarget:e&&t.detail.target},!0)}},t.prototype.globalHide=function(t){if(this.mount){var e=!!(t&&t.detail&&t.detail.target);this.hideTooltip({currentTarget:e&&t.detail.target},e)}}}(B=function(t){t.prototype.bindWindowEvents=function(t){window.removeEventListener(E.HIDE,this.globalHide),window.addEventListener(E.HIDE,this.globalHide,!1),window.removeEventListener(E.REBUILD,this.globalRebuild),window.addEventListener(E.REBUILD,this.globalRebuild,!1),window.removeEventListener(E.SHOW,this.globalShow),window.addEventListener(E.SHOW,this.globalShow,!1),t&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},t.prototype.unbindWindowEvents=function(){window.removeEventListener(E.HIDE,this.globalHide),window.removeEventListener(E.REBUILD,this.globalRebuild),window.removeEventListener(E.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},t.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(B=function(t){t.prototype.isCustomEvent=function(t){return this.state.event||!!t.getAttribute("data-event")},t.prototype.customBindListener=function(t){var e=this,n=this.state,r=n.event,i=n.eventOff,o=t.getAttribute("data-event")||r,a=t.getAttribute("data-event-off")||i;o.split(" ").forEach((function(n){t.removeEventListener(n,C.get(t,n));var r=k.bind(e,a);C.set(t,n,r),t.addEventListener(n,r,!1)})),a&&a.split(" ").forEach((function(n){t.removeEventListener(n,e.hideTooltip),t.addEventListener(n,e.hideTooltip,!1)}))},t.prototype.customUnbindListener=function(t){var e=this.state,n=e.event,r=e.eventOff,i=n||t.getAttribute("data-event"),o=r||t.getAttribute("data-event-off");t.removeEventListener(i,C.get(t,n)),o&&t.removeEventListener(o,this.hideTooltip)}}(B=function(t){t.prototype.isCapture=function(t){return t&&"true"===t.getAttribute("data-iscapture")||this.props.isCapture||!1}}(B=function(t){t.prototype.getEffect=function(t){return t.getAttribute("data-effect")||this.props.effect||"float"}}(B=function(t){t.prototype.isBodyMode=function(){return!!this.props.bodyMode},t.prototype.bindBodyListener=function(t){var e=this,n=this.state,r=n.event,i=n.eventOff,o=n.possibleCustomEvents,a=n.possibleCustomEventsOff,s=M(),u=T(t,"data-event"),c=T(t,"data-event-off");null!=r&&(u[r]=!0),null!=i&&(c[i]=!0),o.split(" ").forEach((function(t){return u[t]=!0})),a.split(" ").forEach((function(t){return c[t]=!0})),this.unbindBodyListener(s);var l=this.bodyModeListeners={};for(var f in null==r&&(l.mouseover=P.bind(this,this.showTooltip,{}),l.mousemove=P.bind(this,this.updateTooltip,{respectEffect:!0}),l.mouseout=P.bind(this,this.hideTooltip,{})),u)l[f]=P.bind(this,(function(t){var n=t.currentTarget.getAttribute("data-event-off")||i;k.call(e,n,t)}),{customEvent:!0});for(var h in c)l[h]=P.bind(this,this.hideTooltip,{customEvent:!0});for(var p in l)s.addEventListener(p,l[p])},t.prototype.unbindBodyListener=function(t){t=t||M();var e=this.bodyModeListeners;for(var n in e)t.removeEventListener(n,e[n])}}((q=U=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=w(this,_(e).call(this,t))).state={uuid:t.uuid||"t"+p(),place:t.place||"top",desiredPlace:t.place||"top",type:"dark",effect:"float",show:!1,border:!1,customColors:{},offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:t.event||null,eventOff:t.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:z(t),isEmptyTip:!1,disable:!1,possibleCustomEvents:t.possibleCustomEvents||"",possibleCustomEventsOff:t.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.delayReshow=null,n.intervalUpdateContent=null,n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,t),y(e,null,[{key:"propTypes",get:function(){return{uuid:a.a.string,children:a.a.any,place:a.a.string,type:a.a.string,effect:a.a.string,offset:a.a.object,multiline:a.a.bool,border:a.a.bool,textColor:a.a.string,backgroundColor:a.a.string,borderColor:a.a.string,arrowColor:a.a.string,insecure:a.a.bool,class:a.a.string,className:a.a.string,id:a.a.string,html:a.a.bool,delayHide:a.a.number,delayUpdate:a.a.number,delayShow:a.a.number,event:a.a.string,eventOff:a.a.string,isCapture:a.a.bool,globalEventOff:a.a.string,getContent:a.a.any,afterShow:a.a.func,afterHide:a.a.func,overridePosition:a.a.func,disable:a.a.bool,scrollHide:a.a.bool,resizeHide:a.a.bool,wrapper:a.a.string,bodyMode:a.a.bool,possibleCustomEvents:a.a.string,possibleCustomEventsOff:a.a.string,clickable:a.a.bool}}}]),y(e,[{key:"bind",value:function(t){var e=this;t.forEach((function(t){e[t]=e[t].bind(e)}))}},{key:"componentDidMount",value:function(){var t=this.props,e=(t.insecure,t.resizeHide);this.bindListener(),this.bindWindowEvents(e),this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var t=this.props.id,e=this.getTargetArray(t),n=[];if(e.forEach((function(t){for(var e=t.parentNode;e.parentNode&&!e.host;)e=e.parentNode;var r=e.querySelector("head");n.push(r||e)})),n.length){var r=document.createElement("style");r.textContent='.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  padding: 8px 21px;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-bottom::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  top: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-left::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  right: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-right::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  left: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}',r.setAttribute("data-react-tooltip","true"),n.filter((function(t,e,n){return n.indexOf(t)===e})).forEach((function(t){t.querySelector("style[data-react-tooltip]")||t.appendChild(r)}))}}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(t){var e,n=[];if(t){var r=t.replace(/\\/g,"\\\\").replace(/"/g,'\\"');e='[data-tip][data-for="'.concat(r,'"]')}else e="[data-tip]:not([data-for])";return F(document.getElementsByTagName("*")).filter((function(t){return t.shadowRoot})).forEach((function(t){n=n.concat(F(t.shadowRoot.querySelectorAll(e)))})),n.concat(F(document.querySelectorAll(e)))}},{key:"bindListener",value:function(){var t=this,e=this.props,n=e.id,r=e.globalEventOff,i=e.isCapture,o=this.getTargetArray(n);o.forEach((function(e){null===e.getAttribute("currentItem")&&e.setAttribute("currentItem","false"),t.unbindBasicListener(e),t.isCustomEvent(e)&&t.customUnbindListener(e)})),this.isBodyMode()?this.bindBodyListener(o):o.forEach((function(e){var n=t.isCapture(e),r=t.getEffect(e);t.isCustomEvent(e)?t.customBindListener(e):(e.addEventListener("mouseenter",t.showTooltip,n),"float"===r&&e.addEventListener("mousemove",t.updateTooltip,n),e.addEventListener("mouseleave",t.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var t=this,e=this.props,n=e.id,r=e.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(e){t.unbindBasicListener(e),t.isCustomEvent(e)&&t.customUnbindListener(e)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(t){var e=this.isCapture(t);t.removeEventListener("mouseenter",this.showTooltip,e),t.removeEventListener("mousemove",this.updateTooltip,e),t.removeEventListener("mouseleave",this.hideTooltip,e)}},{key:"getTooltipContent",value:function(){var t,e=this.props,n=e.getContent,r=e.children;return n&&(t=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),L(this.state.originTooltip,r,t,this.state.isMultiline)}},{key:"isEmptyTip",value:function(t){return"string"===typeof t&&""===t||null===t}},{key:"showTooltip",value:function(t,e){if(this.tooltipRef){if(e&&!this.getTargetArray(this.props.id).some((function(e){return e===t.currentTarget})))return;var n=this.props,r=n.multiline,i=n.getContent,o=t.currentTarget.getAttribute("data-tip"),a=t.currentTarget.getAttribute("data-multiline")||r||!1,s=t instanceof window.FocusEvent||e,u=!0;t.currentTarget.getAttribute("data-scroll-hide")?u="true"===t.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(u=this.props.scrollHide);var c=t.currentTarget.getAttribute("data-place")||this.props.place||"top",l=s?"solid":this.getEffect(t.currentTarget),f=t.currentTarget.getAttribute("data-offset")||this.props.offset||{},h=A(t,t.currentTarget,this.tooltipRef,c,c,l,f);h.position&&this.props.overridePosition&&(h.position=this.props.overridePosition(h.position,t,t.currentTarget,this.tooltipRef,c,c,l,f));var p=h.isNewState?h.newState.place:c;this.clearTimer();var d=t.currentTarget,y=this.state.show?d.getAttribute("data-delay-update")||this.props.delayUpdate:0,v=this,g=function(){v.setState({originTooltip:o,isMultiline:a,desiredPlace:c,place:p,type:d.getAttribute("data-type")||v.props.type||"dark",customColors:{text:d.getAttribute("data-text-color")||v.props.textColor||null,background:d.getAttribute("data-background-color")||v.props.backgroundColor||null,border:d.getAttribute("data-border-color")||v.props.borderColor||null,arrow:d.getAttribute("data-arrow-color")||v.props.arrowColor||null},effect:l,offset:f,html:(d.getAttribute("data-html")?"true"===d.getAttribute("data-html"):v.props.html)||!1,delayShow:d.getAttribute("data-delay-show")||v.props.delayShow||0,delayHide:d.getAttribute("data-delay-hide")||v.props.delayHide||0,delayUpdate:d.getAttribute("data-delay-update")||v.props.delayUpdate||0,border:(d.getAttribute("data-border")?"true"===d.getAttribute("data-border"):v.props.border)||!1,extraClass:d.getAttribute("data-class")||v.props.class||v.props.className||"",disable:(d.getAttribute("data-tip-disable")?"true"===d.getAttribute("data-tip-disable"):v.props.disable)||!1,currentTarget:d},(function(){u&&v.addScrollListener(v.state.currentTarget),v.updateTooltip(t),i&&Array.isArray(i)&&(v.intervalUpdateContent=setInterval((function(){if(v.mount){var t=v.props.getContent,e=L(o,"",t[0](),a),n=v.isEmptyTip(e);v.setState({isEmptyTip:n}),v.updatePosition()}}),i[1]))}))};y?this.delayReshow=setTimeout(g,y):g()}}},{key:"updateTooltip",value:function(t){var e=this,n=this.state,r=n.delayShow,i=n.disable,o=this.props.afterShow,a=this.getTooltipContent(),s=parseInt(r,10),u=t.currentTarget||t.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!i){var c=function(){if(Array.isArray(a)&&a.length>0||a){var n=!e.state.show;e.setState({currentEvent:t,currentTarget:u,show:!0},(function(){e.updatePosition(),n&&o&&o(t)}))}};clearTimeout(this.delayShowLoop),r?this.delayShowLoop=setTimeout(c,s):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,o=r.isScroll,a=o?0:this.state.delayHide,s=this.props.afterHide,u=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(u)&&!i){if(e){var c=this.getTargetArray(this.props.id),l=c.some((function(e){return e===t.currentTarget}));if(!l||!this.state.show)return}var f=function(){var e=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),e&&s&&s(t)})))};this.clearTimer(),a?this.delayHideLoop=setTimeout(f,parseInt(a,10)):f()}}},{key:"hideTooltipOnScroll",value:function(t,e){this.hideTooltip(t,e,{isScroll:!0})}},{key:"addScrollListener",value:function(t){var e=this.isCapture(t);window.addEventListener("scroll",this.hideTooltipOnScroll,e)}},{key:"removeScrollListener",value:function(t){var e=this.isCapture(t);window.removeEventListener("scroll",this.hideTooltipOnScroll,e)}},{key:"updatePosition",value:function(){var t=this,e=this.state,n=e.currentEvent,r=e.currentTarget,i=e.place,o=e.desiredPlace,a=e.effect,s=e.offset,u=this.tooltipRef,c=A(n,r,u,i,o,a,s);if(c.position&&this.props.overridePosition&&(c.position=this.props.overridePosition(c.position,n,r,u,i,o,a,s)),c.isNewState)return this.setState(c.newState,(function(){t.updatePosition()}));u.style.left=c.position.left+"px",u.style.top=c.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"hasCustomColors",value:function(){var t=this;return Boolean(Object.keys(this.state.customColors).find((function(e){return"border"!==e&&t.state.customColors[e]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var t=this,n=this.state,r=n.extraClass,o=n.html,a=n.ariaProps,s=n.disable,u=this.getTooltipContent(),c=this.isEmptyTip(u),l=G(this.state.uuid,this.state.customColors,this.state.type,this.state.border),f="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||s||c?"":" show")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),h=this.props.wrapper;e.supportedWrappers.indexOf(h)<0&&(h=e.defaultProps.wrapper);var p=[f,r].filter(Boolean).join(" ");if(o){var d="".concat(u,"\n<style>").concat(l,"</style>");return i.a.createElement(h,g({className:"".concat(p),id:this.props.id,ref:function(e){return t.tooltipRef=e}},a,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:d}}))}return i.a.createElement(h,g({className:"".concat(p),id:this.props.id},a,{ref:function(e){return t.tooltipRef=e},"data-id":"tooltip"}),i.a.createElement("style",{dangerouslySetInnerHTML:{__html:l}}),u)}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=e.ariaProps,r=z(t);return Object.keys(r).some((function(t){return r[t]!==n[t]}))?b({},e,{ariaProps:r}):null}}]),e}(i.a.Component),v(U,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),v(U,"supportedWrappers",["div","span"]),v(U,"displayName","ReactTooltip"),(W=B=q).prototype.bindRemovalTracker=function(){var t=this,e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=e){var n=new e((function(e){for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===t.state.currentTarget)return void t.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},B=void(W.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||B))||B)||B)||B)||B)||B)||B;e.a=H},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(56),i=n(204);var o=n(307);function a(t,e,n){return(a=Object(o.a)()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Object(i.a)(o,n.prototype),o}).apply(null,arguments)}function s(t){var e="function"===typeof Map?new Map:void 0;return(s=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return a(t,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,t)})(t)}},function(t,e,n){"use strict";var r=n(20);e.a=Object(r.a)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")},function(t,e,n){"use strict";function r(t){return t<0?-1:1}function i(t,e,n){var i=t._x1-t._x0,o=e-t._x1,a=(t._y1-t._y0)/(i||o<0&&-0),s=(n-t._y1)/(o||i<0&&-0),u=(a*o+s*i)/(i+o);return(r(a)+r(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function o(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function a(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function s(t){this._context=t}function u(t){this._context=new c(t)}function c(t){this._context=t}function l(t){return new s(t)}function f(t){return new u(t)}n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f})),s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,o(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,a(this,o(this,n=i(this,t,e)),n);break;default:a(this,this._t0,n=i(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(u.prototype=Object.create(s.prototype)).point=function(t,e){s.prototype.point.call(this,e,t)},c.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));function r(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(t){if(!(e=i.exec(t)))throw new Error("invalid format: "+t);var e;return new a({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function a(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}o.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s,u,c,l=function(t,e){var n=r(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},f={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return l(100*t,e)},r:l,s:function(t,e){var n=r(t,e);if(!n)return t+"";var i=n[0],o=n[1],a=o-(s=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=i.length;return a===u?i:a>u?i+new Array(a-u+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+r(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},h=function(t){return t},p=Array.prototype.map,d=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];u=function(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?h:(e=p.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),a=void 0===t.currency?"":t.currency[0]+"",u=void 0===t.currency?"":t.currency[1]+"",c=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?h:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(p.call(t.numerals,String)),y=void 0===t.percent?"%":t.percent+"",v=void 0===t.minus?"-":t.minus+"",g=void 0===t.nan?"NaN":t.nan+"";function m(t){var e=(t=o(t)).fill,n=t.align,r=t.sign,h=t.symbol,p=t.zero,m=t.width,b=t.comma,_=t.precision,x=t.trim,w=t.type;"n"===w?(b=!0,w="g"):f[w]||(void 0===_&&(_=12),x=!0,w="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var E="$"===h?a:"#"===h&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S="$"===h?u:/[%p]/.test(w)?y:"",k=f[w],O=/[defgprs%]/.test(w);function C(t){var o,a,u,f=E,h=S;if("c"===w)h=k(t)+h,t="";else{var y=(t=+t)<0||1/t<0;if(t=isNaN(t)?g:k(Math.abs(t),_),x&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),y&&0===+t&&"+"!==r&&(y=!1),f=(y?"("===r?r:v:"-"===r||"("===r?"":r)+f,h=("s"===w?d[8+s/3]:"")+h+(y&&"("===r?")":""),O)for(o=-1,a=t.length;++o<a;)if(48>(u=t.charCodeAt(o))||u>57){h=(46===u?c+t.slice(o+1):t.slice(o))+h,t=t.slice(0,o);break}}b&&!p&&(t=i(t,1/0));var C=f.length+t.length+h.length,P=C<m?new Array(m-C+1).join(e):"";switch(b&&p&&(t=i(P+t,P.length?m-h.length:1/0),P=""),n){case"<":t=f+t+h+P;break;case"=":t=f+P+t+h;break;case"^":t=P.slice(0,C=P.length>>1)+f+t+h+P.slice(C);break;default:t=P+f+t+h}return l(t)}return _=void 0===_?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),C.toString=function(){return t+""},C}return{format:m,formatPrefix:function(t,e){var n,i=m(((t=o(t)).type="f",t)),a=3*Math.max(-8,Math.min(8,Math.floor((n=e,((n=r(Math.abs(n)))?n[1]:NaN)/3)))),s=Math.pow(10,-a),u=d[8+a/3];return function(t){return i(s*t)+u}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),c=u.format,u.formatPrefix},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(105);var r=n(1),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)s.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:l,props:o,_owner:a.current}}e.jsx=c,e.jsxs=c},function(t,e,n){"use strict";var r=n(105),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),e.Fragment=f("react.fragment"),e.StrictMode=f("react.strict_mode"),e.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),e.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function v(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||d}function g(){}function m(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||d}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=v.prototype;var b=m.prototype=new g;b.constructor=m,r(b,v.prototype),b.isPureReactComponent=!0;var _={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,r)&&!w.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:_.current}}function S(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var k=/\/+/g;function O(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function C(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=t),t=""===r?"."+O(u,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(k,"$&/")+"/"),C(a,e,n,"",(function(t){return t}))):null!=a&&(S(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=r+O(s=t[c],c);u+=C(s,e,n,l,a)}else if("function"===typeof(l=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=h&&t[h]||t["@@iterator"])?t:null}(t)))for(t=l.call(t),c=0;!(s=t.next()).done;)u+=C(s=s.value,e,n,l=r+O(s,c++),a);else if("object"===s)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function P(t,e,n){if(null==t)return t;var r=[],i=0;return C(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function T(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var M={current:null};function A(){var t=M.current;if(null===t)throw Error(p(321));return t}var I={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:P,forEach:function(t,e,n){P(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return P(t,(function(){e++})),e},toArray:function(t){return P(t,(function(t){return t}))||[]},only:function(t){if(!S(t))throw Error(p(143));return t}},e.Component=v,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(p(267,t));var o=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=_.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)x.call(e,l)&&!w.hasOwnProperty(l)&&(o[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=S,e.lazy=function(t){return{$$typeof:l,_payload:{_status:-1,_result:t},_init:T}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return A().useCallback(t,e)},e.useContext=function(t,e){return A().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return A().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return A().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return A().useLayoutEffect(t,e)},e.useMemo=function(t,e){return A().useMemo(t,e)},e.useReducer=function(t,e,n){return A().useReducer(t,e,n)},e.useRef=function(t){return A().useRef(t)},e.useState=function(t){return A().useState(t)},e.version="17.0.1"},function(t,e,n){"use strict";var r=n(1),i=n(105),o=n(681);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},y={};function v(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new v(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new v(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new v(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new v(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new v(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new v(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function _(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!p.call(y,t)||!p.call(d,t)&&(h.test(t)?y[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,b);g[e]=new v(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,b);g[e]=new v(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,b);g[e]=new v(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,E=60106,S=60107,k=60108,O=60114,C=60109,P=60110,T=60112,M=60113,A=60120,I=60115,j=60116,R=60121,D=60128,N=60129,L=60130,z=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;w=F("react.element"),E=F("react.portal"),S=F("react.fragment"),k=F("react.strict_mode"),O=F("react.profiler"),C=F("react.provider"),P=F("react.context"),T=F("react.forward_ref"),M=F("react.suspense"),A=F("react.suspense_list"),I=F("react.memo"),j=F("react.lazy"),R=F("react.block"),F("react.scope"),D=F("react.opaque.id"),N=F("react.debug_trace_mode"),L=F("react.offscreen"),z=F("react.legacy_hidden")}var B,U="function"===typeof Symbol&&Symbol.iterator;function q(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=U&&t[U]||t["@@iterator"])?t:null}function V(t){if(void 0===B)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B=e&&e[1]||""}return"\n"+B+t}var G=!1;function W(t,e){if(!t||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?V(t):""}function H(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=W(t.type,!1);case 11:return t=W(t.type.render,!1);case 22:return t=W(t.type._render,!1);case 1:return t=W(t.type,!0);default:return""}}function K(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case E:return"Portal";case O:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case A:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case P:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case I:return K(t.type);case R:return K(t._render);case j:e=t._payload,t=t._init;try{return K(t(e))}catch(n){}}return null}function X(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Y(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=Y(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Y(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Q(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=X(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&_(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=X(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,X(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+X(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:X(n)}}function ct(t,e){var n=X(e.value),r=X(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function lt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ft="http://www.w3.org/1999/xhtml",ht="http://www.w3.org/2000/svg";function pt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?pt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var yt,vt,gt=(vt=function(t,e){if(t.namespaceURI!==ht||"innerHTML"in t)t.innerHTML=e;else{for((yt=yt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return vt(t,e)}))}:vt);function mt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var bt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];function xt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||bt.hasOwnProperty(t)&&bt[t]?(""+e).trim():e+"px"}function wt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(bt).forEach((function(t){_t.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bt[e]=bt[t]}))}));var Et=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(t,e){if(e){if(Et[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function kt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ot(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ct=null,Pt=null,Tt=null;function Mt(t){if(t=ti(t)){if("function"!==typeof Ct)throw Error(a(280));var e=t.stateNode;e&&(e=ni(e),Ct(t.stateNode,t.type,e))}}function At(t){Pt?Tt?Tt.push(t):Tt=[t]:Pt=t}function It(){if(Pt){var t=Pt,e=Tt;if(Tt=Pt=null,Mt(t),e)for(t=0;t<e.length;t++)Mt(e[t])}}function jt(t,e){return t(e)}function Rt(t,e,n,r,i){return t(e,n,r,i)}function Dt(){}var Nt=jt,Lt=!1,zt=!1;function Ft(){null===Pt&&null===Tt||(Dt(),It())}function Bt(t,e){var n=t.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Ut=!1;if(f)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(vt){Ut=!1}function Vt(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}var Gt=!1,Wt=null,Ht=!1,Kt=null,Xt={onError:function(t){Gt=!0,Wt=t}};function Yt(t,e,n,r,i,o,a,s,u){Gt=!1,Wt=null,Vt.apply(Xt,arguments)}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function $t(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Jt(t){if(Zt(t)!==t)throw Error(a(188))}function Qt(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jt(i),t;if(o===r)return Jt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,ue=null,ce=null,le=new Map,fe=new Map,he=[],pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ye(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":ue=null;break;case"mouseover":case"mouseout":ce=null;break;case"pointerover":case"pointerout":le.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fe.delete(e.pointerId)}}function ve(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=de(e,n,r,i,o),null!==e&&(null!==(e=ti(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ge(t){var e=Qr(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=$t(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function me(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ti(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function be(t,e,n){me(t)&&n.delete(e)}function _e(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ti(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&me(se)&&(se=null),null!==ue&&me(ue)&&(ue=null),null!==ce&&me(ce)&&(ce=null),le.forEach(be),fe.forEach(be)}function xe(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_e)))}function we(t){function e(e){return xe(e,t)}if(0<ae.length){xe(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&xe(se,t),null!==ue&&xe(ue,t),null!==ce&&xe(ce,t),le.forEach(e),fe.forEach(e),n=0;n<he.length;n++)(r=he[n]).blockedOn===t&&(r.blockedOn=null);for(;0<he.length&&null===(n=he[0]).blockedOn;)ge(n),null===n.blockedOn&&he.shift()}function Ee(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Se={animationend:Ee("Animation","AnimationEnd"),animationiteration:Ee("Animation","AnimationIteration"),animationstart:Ee("Animation","AnimationStart"),transitionend:Ee("Transition","TransitionEnd")},ke={},Oe={};function Ce(t){if(ke[t])return ke[t];if(!Se[t])return t;var e,n=Se[t];for(e in n)if(n.hasOwnProperty(e)&&e in Oe)return ke[t]=n[e];return t}f&&(Oe=document.createElement("div").style,"AnimationEvent"in window||(delete Se.animationend.animation,delete Se.animationiteration.animation,delete Se.animationstart.animation),"TransitionEvent"in window||delete Se.transitionend.transition);var Pe=Ce("animationend"),Te=Ce("animationiteration"),Me=Ce("animationstart"),Ae=Ce("transitionend"),Ie=new Map,je=new Map,Re=["abort","abort",Pe,"animationEnd",Te,"animationIteration",Me,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ae,"transitionEnd","waiting","waiting"];function De(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),je.set(r,e),Ie.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Ne=8;function Le(t){if(0!==(1&t))return Ne=15,1;if(0!==(2&t))return Ne=14,2;if(0!==(4&t))return Ne=13,4;var e=24&t;return 0!==e?(Ne=12,e):0!==(32&t)?(Ne=11,32):0!==(e=192&t)?(Ne=10,e):0!==(256&t)?(Ne=9,256):0!==(e=3584&t)?(Ne=8,e):0!==(4096&t)?(Ne=7,4096):0!==(e=4186112&t)?(Ne=6,e):0!==(e=62914560&t)?(Ne=5,e):67108864&t?(Ne=4,67108864):0!==(134217728&t)?(Ne=3,134217728):0!==(e=805306368&t)?(Ne=2,e):0!==(1073741824&t)?(Ne=1,1073741824):(Ne=8,t)}function ze(t,e){var n=t.pendingLanes;if(0===n)return Ne=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Ne=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Le(u),i=Ne):0!==(s&=o)&&(r=Le(s),i=Ne)}else 0!==(o=n&~a)?(r=Le(o),i=Ne):0!==s&&(r=Le(s),i=Ne);if(0===r)return 0;if(r=n&((0>(r=31-Ge(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(Le(e),i<=Ne)return e;Ne=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-Ge(e)),r|=t[n],e&=~i;return r}function Fe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Be(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ue(24&~e))?Be(10,e):t;case 10:return 0===(t=Ue(192&~e))?Be(8,e):t;case 8:return 0===(t=Ue(3584&~e))&&(0===(t=Ue(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Ue(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ue(t){return t&-t}function qe(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ve(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-Ge(e)]=n}var Ge=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(We(t)/He|0)|0},We=Math.log,He=Math.LN2;var Ke=o.unstable_UserBlockingPriority,Xe=o.unstable_runWithPriority,Ye=!0;function Ze(t,e,n,r){Lt||Dt();var i=Je,o=Lt;Lt=!0;try{Rt(i,t,e,n,r)}finally{(Lt=o)||Ft()}}function $e(t,e,n,r){Xe(Ke,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){var i;if(Ye)if((i=0===(4&e))&&0<ae.length&&-1<pe.indexOf(t))t=de(null,t,e,n,r),ae.push(t);else{var o=Qe(t,e,n,r);if(null===o)i&&ye(t,r);else{if(i){if(-1<pe.indexOf(t))return t=de(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=ve(se,t,e,n,r,i),!0;case"dragenter":return ue=ve(ue,t,e,n,r,i),!0;case"mouseover":return ce=ve(ce,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return le.set(o,ve(le.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,fe.set(o,ve(fe.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ye(t,r)}Ir(t,e,r,null,n)}}}function Qe(t,e,n,r){var i=Ot(r);if(null!==(i=Qr(i))){var o=Zt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$t(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ir(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function un(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(hn),dn=i({},hn,{view:0,detail:0}),yn=un(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fn&&(fn&&"mousemove"===t.type?(cn=t.screenX-fn.screenX,ln=t.screenY-fn.screenY):ln=cn=0,fn=t),cn)},movementY:function(t){return"movementY"in t?t.movementY:ln}}),gn=un(vn),mn=un(i({},vn,{dataTransfer:0})),bn=un(i({},dn,{relatedTarget:0})),_n=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=un(i({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),wn=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kn[t])&&!!e[t]}function Cn(){return On}var Pn=un(i({},dn,{key:function(t){if(t.key){var e=En[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),Tn=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=un(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=un(i({},vn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),jn=[9,13,27,32],Rn=f&&"CompositionEvent"in window,Dn=null;f&&"documentMode"in document&&(Dn=document.documentMode);var Nn=f&&"TextEvent"in window&&!Dn,Ln=f&&(!Rn||Dn&&8<Dn&&11>=Dn),zn=String.fromCharCode(32),Fn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==jn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var qn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vn[t.type]:"textarea"===e}function Wn(t,e,n,r){At(r),0<(e=Rr(e,"onChange")).length&&(n=new pn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hn=null,Kn=null;function Xn(t){Or(t,0)}function Yn(t){if($(ei(t)))return t}function Zn(t,e){if("change"===t)return e}var $n=!1;if(f){var Jn;if(f){var Qn="oninput"in document;if(!Qn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Qn="function"===typeof tr.oninput}Jn=Qn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(t){if("value"===t.propertyName&&Yn(Kn)){var e=[];if(Wn(e,Kn,t,Ot(t)),t=Xn,Lt)t(e);else{Lt=!0;try{jt(t,e)}finally{Lt=!1,Ft()}}}}function rr(t,e,n){"focusin"===t?(er(),Kn=n,(Hn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Kn)}function or(t,e){if("click"===t)return Yn(e)}function ar(t,e){if("input"===t||"change"===t)return Yn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},ur=Object.prototype.hasOwnProperty;function cr(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(e,n[r])||!sr(t[n[r]],e[n[r]]))return!1;return!0}function lr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fr(t,e){var n,r=lr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function pr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,mr=null,br=!1;function _r(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==J(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&cr(mr,r)||(mr=r,0<(r=Rr(gr,"onSelect")).length&&(e=new pn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vr)))}De("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),De("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),De(Re,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<xr.length;wr++)je.set(xr[wr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function kr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,u,c){if(Yt.apply(this,arguments),Gt){if(!Gt)throw Error(a(198));var l=Wt;Gt=!1,Wt=null,Ht||(Ht=!0,Kt=l)}}(r,e,void 0,t),t.currentTarget=null}function Or(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;kr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;kr(i,s,c),o=u}}}if(Ht)throw t=Kt,Ht=!1,Kt=null,t}function Cr(t,e){var n=ri(e),r=t+"__bubble";n.has(r)||(Ar(e,t,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Tr(t){t[Pr]||(t[Pr]=!0,s.forEach((function(e){Sr.has(e)||Mr(e,!1,t,null),Mr(e,!0,t,null)})))}function Mr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Sr.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ri(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Ar(o,t,i,e),a.add(s))}function Ar(t,e,n,r){var i=je.get(e);switch(void 0===i?2:i){case 0:i=Ze;break;case 1:i=$e;break;default:i=Je}n=i.bind(null,e,n,t),i=void 0,!Ut||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ir(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Qr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(zt)return t(e,n);zt=!0;try{Nt(t,e,n)}finally{zt=!1,Ft()}}((function(){var r=o,i=Ot(n),a=[];t:{var s=Ie.get(t);if(void 0!==s){var u=pn,c=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":u=Pn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Mn;break;case Pe:case Te:case Me:u=_n;break;case Ae:u=An;break;case"scroll":u=yn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&e),f=!l&&"scroll"===t,h=l?null!==s?s+"Capture":null:s;l=[];for(var p,d=r;null!==d;){var y=(p=d).stateNode;if(5===p.tag&&null!==y&&(p=y,null!==h&&(null!=(y=Bt(d,h))&&l.push(jr(d,y,p)))),f)break;d=d.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(c=n.relatedTarget||n.fromElement)||!Qr(c)&&!c[$r])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Qr(c):null)&&(c!==(f=Zt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,y="onMouseLeave",h="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(l=Tn,y="onPointerLeave",h="onPointerEnter",d="pointer"),f=null==u?s:ei(u),p=null==c?s:ei(c),(s=new l(y,d+"leave",u,n,i)).target=f,s.relatedTarget=p,y=null,Qr(i)===r&&((l=new l(h,d+"enter",c,n,i)).target=p,l.relatedTarget=f,y=l),f=y,u&&c)t:{for(h=c,d=0,p=l=u;p;p=Dr(p))d++;for(p=0,y=h;y;y=Dr(y))p++;for(;0<d-p;)l=Dr(l),d--;for(;0<p-d;)h=Dr(h),p--;for(;d--;){if(l===h||null!==h&&l===h.alternate)break t;l=Dr(l),h=Dr(h)}l=null}else l=null;null!==u&&Nr(a,s,u,l,!1),null!==c&&null!==f&&Nr(a,f,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Zn;else if(Gn(s))if($n)v=ar;else{v=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(t,r))?Wn(a,v,n,i):(g&&g(t,s,r),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&it(s,"number",s.value)),g=r?ei(r):window,t){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,mr=null);break;case"focusout":mr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":_r(a,n,i)}var m;if(Rn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else qn?Bn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(m=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,qn=!0)),0<(g=Rr(r,b)).length&&(b=new wn(b,t,null,n,i),a.push({event:b,listeners:g}),m?b.data=m:null!==(m=Un(n))&&(b.data=m))),(m=Nn?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(Fn=!0,zn);case"textInput":return(t=e.data)===zn&&Fn?null:t;default:return null}}(t,n):function(t,e){if(qn)return"compositionend"===t||!Rn&&Bn(t,e)?(t=rn(),nn=en=tn=null,qn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ln&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&(0<(r=Rr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Or(a,e)}))}function jr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Bt(t,n))&&r.unshift(jr(t,o,i)),null!=(o=Bt(t,e))&&r.push(jr(t,o,i))),t=t.return}return r}function Dr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Nr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Bt(n,o))&&a.unshift(jr(n,u,s)):i||null!=(u=Bt(n,o))&&a.push(jr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Lr(){}var zr=null,Fr=null;function Br(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ur(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Wr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Hr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Kr=0;var Xr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,$r="__reactContainer$"+Xr,Jr="__reactEvents$"+Xr;function Qr(t){var e=t[Yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[Yr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Hr(t);null!==t;){if(n=t[Yr])return n;t=Hr(t)}return e}n=(t=n).parentNode}return null}function ti(t){return!(t=t[Yr]||t[$r])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ei(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function ni(t){return t[Zr]||null}function ri(t){var e=t[Jr];return void 0===e&&(e=t[Jr]=new Set),e}var ii=[],oi=-1;function ai(t){return{current:t}}function si(t){0>oi||(t.current=ii[oi],ii[oi]=null,oi--)}function ui(t,e){oi++,ii[oi]=t.current,t.current=e}var ci={},li=ai(ci),fi=ai(!1),hi=ci;function pi(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function di(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yi(){si(fi),si(li)}function vi(t,e,n){if(li.current!==ci)throw Error(a(168));ui(li,e),ui(fi,n)}function gi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,K(e)||"Unknown",o));return i({},n,r)}function mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,hi=li.current,ui(li,t),ui(fi,fi.current),!0}function bi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=gi(t,e,hi),r.__reactInternalMemoizedMergedChildContext=t,si(fi),si(li),ui(li,t)):si(fi),ui(fi,n)}var _i=null,xi=null,wi=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,ki=o.unstable_shouldYield,Oi=o.unstable_requestPaint,Ci=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Ti=o.unstable_ImmediatePriority,Mi=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Ri={},Di=void 0!==Oi?Oi:function(){},Ni=null,Li=null,zi=!1,Fi=Ci(),Bi=1e4>Fi?Ci:function(){return Ci()-Fi};function Ui(){switch(Pi()){case Ti:return 99;case Mi:return 98;case Ai:return 97;case Ii:return 96;case ji:return 95;default:throw Error(a(332))}}function qi(t){switch(t){case 99:return Ti;case 98:return Mi;case 97:return Ai;case 96:return Ii;case 95:return ji;default:throw Error(a(332))}}function Vi(t,e){return t=qi(t),wi(t,e)}function Gi(t,e,n){return t=qi(t),Ei(t,e,n)}function Wi(){if(null!==Li){var t=Li;Li=null,Si(t)}Hi()}function Hi(){if(!zi&&null!==Ni){zi=!0;var t=0;try{var e=Ni;Vi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(n){throw null!==Ni&&(Ni=Ni.slice(t+1)),Ei(Ti,Wi),n}finally{zi=!1}}}var Ki=x.ReactCurrentBatchConfig;function Xi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Yi=ai(null),Zi=null,$i=null,Ji=null;function Qi(){Ji=$i=Zi=null}function to(t){var e=Yi.current;si(Yi),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function no(t,e){Zi=t,Ji=$i=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Ra=!0),t.firstContext=null)}function ro(t,e){if(Ji!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Ji=t,e=1073741823),e={context:t,observedBits:e,next:null},null===$i){if(null===Zi)throw Error(a(308));$i=e,Zi.dependencies={lanes:0,firstContext:e,responders:null}}else $i=$i.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function co(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lo(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=t.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var p=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=t,y=a;switch(u=e,p=n,y.tag){case 1:if("function"===typeof(d=y.payload)){h=d.call(p,h,u);break t}h=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(u="function"===typeof(d=y.payload)?d.call(p,h,u):d)||void 0===u)break t;h=i({},h,u);break t;case 2:io=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=p,c=h):f=f.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,zs|=s,t.lanes=s,t.memoizedState=h}}function fo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function po(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternals)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cu(),i=lu(t),o=so(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),uo(t,o),fu(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cu(),i=lu(t),o=so(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),uo(t,o),fu(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cu(),r=lu(t),i=so(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),uo(t,i),fu(t,r,n)}};function vo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function go(t,e,n){var r=!1,i=ci,o=e.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=di(e)?hi:li.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?pi(t,i):ci),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function mo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function bo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ho,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=di(e)?hi:li.current,i.context=pi(t,o)),lo(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(po(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&yo.enqueueReplaceState(i,i.state,null),lo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var _o=Array.isArray;function xo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===ho&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function wo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Eo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Vu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Ku(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=xo(t,e,n),r.return=t,r):((r=Gu(n.type,n.key,n.props,null,t.mode,r)).ref=xo(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Xu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=Wu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Ku(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Gu(e.type,e.key,e.props,null,t.mode,n)).ref=xo(t,null,e),n.return=t,n;case E:return(e=Xu(e,t.mode,n)).return=t,e}if(_o(e)||q(e))return(e=Wu(e,t.mode,n,null)).return=t,e;wo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===S?f(t,e,n.props.children,r,i):c(t,e,n,r):null;case E:return n.key===i?l(t,e,n,r):null}if(_o(n)||q(n))return null!==i?null:f(t,e,n,r,null);wo(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return t=t.get(null===r.key?n:r.key)||null,r.type===S?f(e,t,r.props.children,i,r.key):c(e,t,r,i);case E:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||q(r))return f(e,t=t.get(n)||null,r,i,null);wo(e,r)}return null}function y(i,a,s,u){for(var c=null,l=null,f=a,y=a=0,v=null;null!==f&&y<s.length;y++){f.index>y?(v=f,f=null):v=f.sibling;var g=p(i,f,s[y],u);if(null===g){null===f&&(f=v);break}t&&f&&null===g.alternate&&e(i,f),a=o(g,a,y),null===l?c=g:l.sibling=g,l=g,f=v}if(y===s.length)return n(i,f),c;if(null===f){for(;y<s.length;y++)null!==(f=h(i,s[y],u))&&(a=o(f,a,y),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);y<s.length;y++)null!==(v=d(f,i,y,s[y],u))&&(t&&null!==v.alternate&&f.delete(null===v.key?y:v.key),a=o(v,a,y),null===l?c=v:l.sibling=v,l=v);return t&&f.forEach((function(t){return e(i,t)})),c}function v(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,y=s,v=s=0,g=null,m=u.next();null!==y&&!m.done;v++,m=u.next()){y.index>v?(g=y,y=null):g=y.sibling;var b=p(i,y,m.value,c);if(null===b){null===y&&(y=g);break}t&&y&&null===b.alternate&&e(i,y),s=o(b,s,v),null===f?l=b:f.sibling=b,f=b,y=g}if(m.done)return n(i,y),l;if(null===y){for(;!m.done;v++,m=u.next())null!==(m=h(i,m.value,c))&&(s=o(m,s,v),null===f?l=m:f.sibling=m,f=m);return l}for(y=r(i,y);!m.done;v++,m=u.next())null!==(m=d(y,i,v,m.value,c))&&(t&&null!==m.alternate&&y.delete(null===m.key?v:m.key),s=o(m,s,v),null===f?l=m:f.sibling=m,f=m);return t&&y.forEach((function(t){return e(i,t)})),l}return function(t,r,o,u){var c="object"===typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case w:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===S){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=xo(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===S?((r=Wu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Gu(o.type,o.key,o.props,null,t.mode,u)).ref=xo(t,r,o),u.return=t,t=u)}return s(t);case E:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Xu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Ku(o,t.mode,u)).return=t,t=r),s(t);if(_o(o))return y(t,r,o,u);if(q(o))return v(t,r,o,u);if(l&&wo(t,o),"undefined"===typeof o&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(t.type)||"Component"))}return n(t,r)}}var So=Eo(!0),ko=Eo(!1),Oo={},Co=ai(Oo),Po=ai(Oo),To=ai(Oo);function Mo(t){if(t===Oo)throw Error(a(174));return t}function Ao(t,e){switch(ui(To,e),ui(Po,t),ui(Co,Oo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}si(Co),ui(Co,e)}function Io(){si(Co),si(Po),si(To)}function jo(t){Mo(To.current);var e=Mo(Co.current),n=dt(e,t.type);e!==n&&(ui(Po,t),ui(Co,n))}function Ro(t){Po.current===t&&(si(Co),si(Po))}var Do=ai(0);function No(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lo=null,zo=null,Fo=!1;function Bo(t,e){var n=Uu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Uo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function qo(t){if(Fo){var e=zo;if(e){var n=e;if(!Uo(t,e)){if(!(e=Wr(n.nextSibling))||!Uo(t,e))return t.flags=-1025&t.flags|2,Fo=!1,void(Lo=t);Bo(Lo,n)}Lo=t,zo=Wr(e.firstChild)}else t.flags=-1025&t.flags|2,Fo=!1,Lo=t}}function Vo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Lo=t}function Go(t){if(t!==Lo)return!1;if(!Fo)return Vo(t),Fo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ur(e,t.memoizedProps))for(e=zo;e;)Bo(t,e),e=Wr(e.nextSibling);if(Vo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){zo=Wr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}zo=null}}else zo=Lo?Wr(t.stateNode.nextSibling):null;return!0}function Wo(){zo=Lo=null,Fo=!1}var Ho=[];function Ko(){for(var t=0;t<Ho.length;t++)Ho[t]._workInProgressVersionPrimary=null;Ho.length=0}var Xo=x.ReactCurrentDispatcher,Yo=x.ReactCurrentBatchConfig,Zo=0,$o=null,Jo=null,Qo=null,ta=!1,ea=!1;function na(){throw Error(a(321))}function ra(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ia(t,e,n,r,i,o){if(Zo=o,$o=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xo.current=null===t||null===t.memoizedState?Ma:Aa,t=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Qo=Jo=null,e.updateQueue=null,Xo.current=Ia,t=n(r,i)}while(ea)}if(Xo.current=Ta,e=null!==Jo&&null!==Jo.next,Zo=0,Qo=Jo=$o=null,ta=!1,e)throw Error(a(300));return t}function oa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qo?$o.memoizedState=Qo=t:Qo=Qo.next=t,Qo}function aa(){if(null===Jo){var t=$o.alternate;t=null!==t?t.memoizedState:null}else t=Jo.next;var e=null===Qo?$o.memoizedState:Qo.next;if(null!==e)Qo=e,Jo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Jo=t).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===Qo?$o.memoizedState=Qo=t:Qo=Qo.next=t}return Qo}function sa(t,e){return"function"===typeof e?e(t):e}function ua(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,$o.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,sr(r,e.memoizedState)||(Ra=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ca(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);sr(o,e.memoizedState)||(Ra=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function la(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Zo&t)===t)&&(e._workInProgressVersionPrimary=r,Ho.push(e))),t)return n(e._source);throw Ho.push(e),Error(a(350))}function fa(t,e,n,r){var i=Ms;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=Xo.current,c=u.useState((function(){return la(i,e,n)})),l=c[1],f=c[0];c=Qo;var h=t.memoizedState,p=h.refs,d=p.getSnapshot,y=h.source;h=h.subscribe;var v=$o;return t.memoizedState={refs:p,source:e,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var t=o(e._source);if(!sr(s,t)){t=n(e._source),sr(f,t)||(l(t),t=lu(v),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var u=31-Ge(a),c=1<<u;r[u]|=t,a&=~c}}}),[n,e,r]),u.useEffect((function(){return r(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var r=lu(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),sr(d,n)&&sr(y,e)&&sr(h,r)||((t={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:f}).dispatch=l=Pa.bind(null,$o,t),c.queue=t,c.baseQueue=null,f=la(i,e,n),c.memoizedState=c.baseState=f),f}function ha(t,e,n){return fa(aa(),t,e,n)}function pa(t){var e=oa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t}).dispatch=Pa.bind(null,$o,t),[e.memoizedState,t]}function da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=$o.updateQueue)?(e={lastEffect:null},$o.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ya(t){return t={current:t},oa().memoizedState=t}function va(){return aa().memoizedState}function ga(t,e,n,r){var i=oa();$o.flags|=t,i.memoizedState=da(1|e,n,void 0,void 0===r?null:r)}function ma(t,e,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void da(e,n,o,r)}$o.flags|=t,i.memoizedState=da(1|e,n,o,r)}function ba(t,e){return ga(516,4,t,e)}function _a(t,e){return ma(516,4,t,e)}function xa(t,e){return ma(4,2,t,e)}function wa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ea(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ma(4,2,wa.bind(null,e,t),n)}function Sa(){}function ka(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Oa(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ca(t,e){var n=Ui();Vi(98>n?98:n,(function(){t(!0)})),Vi(97<n?97:n,(function(){var n=Yo.transition;Yo.transition=1;try{t(!1),e()}finally{Yo.transition=n}}))}function Pa(t,e,n){var r=cu(),i=lu(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===$o||null!==a&&a===$o)ea=ta=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,sr(u,s))return}catch(c){}fu(t,i,r)}}var Ta={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Ma={readContext:ro,useCallback:function(t,e){return oa().memoizedState=[t,void 0===e?null:e],t},useContext:ro,useEffect:ba,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ga(4,2,wa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ga(4,2,t,e)},useMemo:function(t,e){var n=oa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Pa.bind(null,$o,t),[r.memoizedState,t]},useRef:ya,useState:pa,useDebugValue:Sa,useDeferredValue:function(t){var e=pa(t),n=e[0],r=e[1];return ba((function(){var e=Yo.transition;Yo.transition=1;try{r(t)}finally{Yo.transition=e}}),[t]),n},useTransition:function(){var t=pa(!1),e=t[0];return ya(t=Ca.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=oa();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},fa(r,t,e,n)},useOpaqueIdentifier:function(){if(Fo){var t=!1,e=function(t){return{$$typeof:D,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Kr++).toString(36))),Error(a(355))})),n=pa(e)[1];return 0===(2&$o.mode)&&($o.flags|=516,da(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),e}return pa(e="r:"+(Kr++).toString(36)),e},unstable_isNewReconciler:!1},Aa={readContext:ro,useCallback:ka,useContext:ro,useEffect:_a,useImperativeHandle:Ea,useLayoutEffect:xa,useMemo:Oa,useReducer:ua,useRef:va,useState:function(){return ua(sa)},useDebugValue:Sa,useDeferredValue:function(t){var e=ua(sa),n=e[0],r=e[1];return _a((function(){var e=Yo.transition;Yo.transition=1;try{r(t)}finally{Yo.transition=e}}),[t]),n},useTransition:function(){var t=ua(sa)[0];return[va().current,t]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},Ia={readContext:ro,useCallback:ka,useContext:ro,useEffect:_a,useImperativeHandle:Ea,useLayoutEffect:xa,useMemo:Oa,useReducer:ca,useRef:va,useState:function(){return ca(sa)},useDebugValue:Sa,useDeferredValue:function(t){var e=ca(sa),n=e[0],r=e[1];return _a((function(){var e=Yo.transition;Yo.transition=1;try{r(t)}finally{Yo.transition=e}}),[t]),n},useTransition:function(){var t=ca(sa)[0];return[va().current,t]},useMutableSource:ha,useOpaqueIdentifier:function(){return ca(sa)[0]},unstable_isNewReconciler:!1},ja=x.ReactCurrentOwner,Ra=!1;function Da(t,e,n,r){e.child=null===t?ko(e,null,n,r):So(e,t.child,n,r)}function Na(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=ia(t,e,n,r,o,i),null===t||Ra?(e.flags|=1,Da(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function La(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||qu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Gu(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,za(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:cr)(i,r)&&t.ref===e.ref)?ns(t,e,o):(e.flags|=1,(t=Vu(a,r)).ref=e.ref,t.return=e,e.child=t)}function za(t,e,n,r,i,o){if(null!==t&&cr(t.memoizedProps,r)&&t.ref===e.ref){if(Ra=!1,0===(o&i))return e.lanes=t.lanes,ns(t,e,o);0!==(16384&t.flags)&&(Ra=!0)}return Ua(t,e,n,r,o)}function Fa(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},bu(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},bu(e,t),null;e.memoizedState={baseLanes:0},bu(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,bu(e,r);return Da(t,e,i,n),e.child}function Ba(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Ua(t,e,n,r,i){var o=di(n)?hi:li.current;return o=pi(e,o),no(e,i),n=ia(t,e,n,r,o,i),null===t||Ra?(e.flags|=1,Da(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function qa(t,e,n,r,i){if(di(n)){var o=!0;mi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),go(e,n,r),bo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=pi(e,c=di(n)?hi:li.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&mo(e,a,r,c),io=!1;var h=e.memoizedState;a.state=h,lo(e,r,a,i),u=e.memoizedState,s!==r||h!==u||fi.current||io?("function"===typeof l&&(po(e,n,l,r),u=e.memoizedState),(s=io||vo(e,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,ao(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Xi(e.type,s),a.props=c,f=e.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ro(u):u=pi(e,u=di(n)?hi:li.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&mo(e,a,r,u),io=!1,h=e.memoizedState,a.state=h,lo(e,r,a,i);var d=e.memoizedState;s!==f||h!==d||fi.current||io?("function"===typeof p&&(po(e,n,p,r),d=e.memoizedState),(c=io||vo(e,n,c,r,h,d,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),r=!1)}return Va(t,e,n,r,o,i)}function Va(t,e,n,r,i,o){Ba(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&bi(e,n,!1),ns(t,e,o);r=e.stateNode,ja.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=So(e,t.child,null,o),e.child=So(e,null,s,o)):Da(t,e,s,o),e.memoizedState=r.state,i&&bi(e,n,!0),e.child}function Ga(t){var e=t.stateNode;e.pendingContext?vi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&vi(0,e.context,!1),Ao(t,e.containerInfo)}var Wa,Ha,Ka,Xa={dehydrated:null,retryLane:0};function Ya(t,e,n){var r,i=e.pendingProps,o=Do.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Do,1&o),null===t?(void 0!==i.fallback&&qo(e),t=i.children,o=i.fallback,a?(t=Za(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Xa,t):"number"===typeof i.unstable_expectedLoadTime?(t=Za(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Xa,e.lanes=33554432,t):((n=Hu({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=Ja(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Xa,i):(n=$a(t,e,i.children,n),e.memoizedState=null,n))}function Za(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Hu(e,i,0,null),n=Wu(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function $a(t,e,n,r){var i=t.child;return t=i.sibling,n=Vu(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Ja(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Vu(a,s),null!==t?r=Vu(t,r):(r=Wu(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Qa(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),eo(t.return,e)}function ts(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function es(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Da(t,e,r.children,n),0!==(2&(r=Do.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Qa(t,n);else if(19===t.tag)Qa(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ui(Do,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===No(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ts(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===No(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ts(e,!0,n,null,o,e.lastEffect);break;case"together":ts(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ns(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),zs|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Vu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Vu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function rs(t,e){if(!Fo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function is(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(e.type)&&yi(),null;case 3:return Io(),si(fi),si(li),Ko(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Go(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Ro(e);var o=Mo(To.current);if(n=e.type,null!==t&&null!=e.stateNode)Ha(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Mo(Co.current),Go(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yr]=e,r[Zr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(t=0;t<Er.length;t++)Cr(Er[t],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":tt(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ut(r,s),Cr("invalid",r)}for(var c in St(n,s),t=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":Z(r),rt(r,s,!0);break;case"textarea":Z(r),lt(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Lr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,t===ft&&(t=pt(n)),t===ft?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),"select"===n&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Yr]=e,t[Zr]=r,Wa(t,e),e.stateNode=t,c=kt(n,r),n){case"dialog":Cr("cancel",t),Cr("close",t),o=r;break;case"iframe":case"object":case"embed":Cr("load",t),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Cr(Er[o],t);o=r;break;case"source":Cr("error",t),o=r;break;case"img":case"image":case"link":Cr("error",t),Cr("load",t),o=r;break;case"details":Cr("toggle",t),o=r;break;case"input":tt(t,r),o=Q(t,r),Cr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Cr("invalid",t);break;case"textarea":ut(t,r),o=st(t,r),Cr("invalid",t);break;default:o=r}St(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?wt(t,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&gt(t,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&mt(t,f):"number"===typeof f&&mt(t,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Cr("scroll",t):null!=f&&_(t,s,f,c))}switch(n){case"input":Z(t),rt(t,r,!1);break;case"textarea":Z(t),lt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+X(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Lr)}Br(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ka(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Mo(To.current),Mo(Co.current),Go(e)?(r=e.stateNode,n=e.memoizedProps,r[Yr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=e,e.stateNode=r)}return null;case 13:return si(Do),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Go(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Do.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===Ms||0===(134217727&zs)&&0===(134217727&Fs)||yu(Ms,Is))),(r||n)&&(e.flags|=4),null);case 4:return Io(),null===t&&Tr(e.stateNode.containerInfo),null;case 10:return to(e),null;case 17:return di(e.type)&&yi(),null;case 19:if(si(Do),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(c=r.rendering))if(s)rs(r,!1);else{if(0!==Ds||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=No(t))){for(e.flags|=64,rs(r,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,t=c.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ui(Do,1&Do.current|2),e.child}t=t.sibling}null!==r.tail&&Bi()>Vs&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=No(c))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Fo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Vs&&1073741824!==n&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432);r.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=r.last)?n.sibling=c:e.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,e=Do.current,ui(Do,s?1&e|2:1&e),n):null;case 23:case 24:return _u(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function os(t){switch(t.tag){case 1:di(t.type)&&yi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Io(),si(fi),si(li),Ko(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Ro(t),null;case 13:return si(Do),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return si(Do),null;case 4:return Io(),null;case 10:return to(t),null;case 23:case 24:return _u(),null;default:return null}}function as(t,e){try{var n="",r=e;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function ss(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}Wa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ha=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Mo(Co.current);var a,s=null;switch(n){case"input":o=Q(t,o),r=Q(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=Lr)}for(f in St(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Cr("scroll",t),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}},Ka=function(t,e,n,r){n!==r&&(e.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function cs(t,e,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ks||(Ks=!0,Xs=r),ss(0,e)},n}function ls(t,e,n){(n=so(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ss(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var fs="function"===typeof WeakSet?WeakSet:Set;function hs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Lu(t,n)}else e.current=null}function ps(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Xi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Gr(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ds(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ru(n,t),ju(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Xi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&fo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}fo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Br(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function ys(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(t,e){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(_i,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ru(e,n);else{r=e;try{i()}catch(o){Lu(r,o)}}n=n.next}while(n!==t)}break;case 1:if(hs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Lu(e,o)}break;case 5:hs(e);break;case 4:ws(t,e)}}function gs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ms(t){return 5===t.tag||3===t.tag||4===t.tag}function bs(t){t:{for(var e=t.return;null!==e;){if(ms(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(mt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?_s(t,n,e):xs(t,n,e)}function _s(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Lr));else if(4!==r&&null!==(t=t.child))for(_s(t,e,n),t=t.sibling;null!==t;)_s(t,e,n),t=t.sibling}function xs(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(xs(t,e,n),t=t.sibling;null!==t;)xs(t,e,n),t=t.sibling}function ws(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,c=u;;)if(vs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break t;for(;null===c.sibling;){if(null===c.return||c.return===u)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Zr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),kt(t,i),e=kt(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?wt(n,u):"dangerouslySetInnerHTML"===s?gt(n,u):"children"===s?mt(n,u):_(n,s,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":ct(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(qs=Bi(),ys(e.child,!0)),void Ss(e);case 19:return void Ss(e);case 17:return;case 23:case 24:return void ys(e,null!==e.memoizedState)}throw Error(a(163))}function Ss(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new fs),e.forEach((function(e){var r=Fu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function ks(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Os=Math.ceil,Cs=x.ReactCurrentDispatcher,Ps=x.ReactCurrentOwner,Ts=0,Ms=null,As=null,Is=0,js=0,Rs=ai(0),Ds=0,Ns=null,Ls=0,zs=0,Fs=0,Bs=0,Us=null,qs=0,Vs=1/0;function Gs(){Vs=Bi()+500}var Ws,Hs=null,Ks=!1,Xs=null,Ys=null,Zs=!1,$s=null,Js=90,Qs=[],tu=[],eu=null,nu=0,ru=null,iu=-1,ou=0,au=0,su=null,uu=!1;function cu(){return 0!==(48&Ts)?Bi():-1!==iu?iu:iu=Bi()}function lu(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Ui()?1:2;if(0===ou&&(ou=Ls),0!==Ki.transition){0!==au&&(au=null!==Us?Us.pendingLanes:0),t=ou;var e=4186112&~au;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Ui(),0!==(4&Ts)&&98===t?t=Be(12,ou):t=Be(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ou),t}function fu(t,e,n){if(50<nu)throw nu=0,ru=null,Error(a(185));if(null===(t=hu(t,e)))return null;Ve(t,e,n),t===Ms&&(Fs|=e,4===Ds&&yu(t,Is));var r=Ui();1===e?0!==(8&Ts)&&0===(48&Ts)?vu(t):(pu(t,n),0===Ts&&(Gs(),Wi())):(0===(4&Ts)||98!==r&&99!==r||(null===eu?eu=new Set([t]):eu.add(t)),pu(t,n)),Us=t}function hu(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function pu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-Ge(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=e,Le(c);var f=Ne;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);s&=~c}if(r=ze(t,t===Ms?Is:0),e=Ne,0===r)null!==n&&(n!==Ri&&Si(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Ri&&Si(n)}15===e?(n=vu.bind(null,t),null===Ni?(Ni=[n],Li=Ei(Ti,Hi)):Ni.push(n),n=Ri):14===e?n=Gi(99,vu.bind(null,t)):n=Gi(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),du.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function du(t){if(iu=-1,au=ou=0,0!==(48&Ts))throw Error(a(327));var e=t.callbackNode;if(Iu()&&t.callbackNode!==e)return null;var n=ze(t,t===Ms?Is:0);if(0===n)return null;var r=n,i=Ts;Ts|=16;var o=Eu();for(Ms===t&&Is===r||(Gs(),xu(t,r));;)try{Ou();break}catch(u){wu(t,u)}if(Qi(),Cs.current=o,Ts=i,null!==As?r=0:(Ms=null,Is=0,r=Ds),0!==(Ls&Fs))xu(t,0);else if(0!==r){if(2===r&&(Ts|=64,t.hydrate&&(t.hydrate=!1,Gr(t.containerInfo)),0!==(n=Fe(t))&&(r=Su(t,n))),1===r)throw e=Ns,xu(t,0),yu(t,n),pu(t,Bi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Tu(t);break;case 3:if(yu(t,n),(62914560&n)===n&&10<(r=qs+500-Bi())){if(0!==ze(t,0))break;if(((i=t.suspendedLanes)&n)!==n){cu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qr(Tu.bind(null,t),r);break}Tu(t);break;case 4:if(yu(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-Ge(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Os(n/1960))-n)){t.timeoutHandle=qr(Tu.bind(null,t),n);break}Tu(t);break;case 5:Tu(t);break;default:throw Error(a(329))}}return pu(t,Bi()),t.callbackNode===e?du.bind(null,t):null}function yu(t,e){for(e&=~Bs,e&=~Fs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ge(e),r=1<<n;t[n]=-1,e&=~r}}function vu(t){if(0!==(48&Ts))throw Error(a(327));if(Iu(),t===Ms&&0!==(t.expiredLanes&Is)){var e=Is,n=Su(t,e);0!==(Ls&Fs)&&(n=Su(t,e=ze(t,e)))}else n=Su(t,e=ze(t,0));if(0!==t.tag&&2===n&&(Ts|=64,t.hydrate&&(t.hydrate=!1,Gr(t.containerInfo)),0!==(e=Fe(t))&&(n=Su(t,e))),1===n)throw n=Ns,xu(t,0),yu(t,e),pu(t,Bi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tu(t),pu(t,Bi()),null}function gu(t,e){var n=Ts;Ts|=1;try{return t(e)}finally{0===(Ts=n)&&(Gs(),Wi())}}function mu(t,e){var n=Ts;Ts&=-2,Ts|=8;try{return t(e)}finally{0===(Ts=n)&&(Gs(),Wi())}}function bu(t,e){ui(Rs,js),js|=e,Ls|=e}function _u(){js=Rs.current,si(Rs)}function xu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Vr(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Io(),si(fi),si(li),Ko();break;case 5:Ro(r);break;case 4:Io();break;case 13:case 19:si(Do);break;case 10:to(r);break;case 23:case 24:_u()}n=n.return}Ms=t,As=Vu(t.current,null),Is=js=Ls=e,Ds=0,Ns=null,Bs=Fs=zs=0}function wu(t,e){for(;;){var n=As;try{if(Qi(),Xo.current=Ta,ta){for(var r=$o.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ta=!1}if(Zo=0,Qo=Jo=$o=null,ea=!1,Ps.current=null,null===n||null===n.return){Ds=1,Ns=e,As=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Do.current),h=a;do{var p;if(p=13===h.tag){var d=h.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var y=h.memoizedProps;p=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!f)}}if(p){var v=h.updateQueue;if(null===v){var g=new Set;g.add(c),h.updateQueue=g}else v.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=so(-1,1);m.tag=2,uo(s,m)}s.lanes|=1;break t}u=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new us,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var _=zu.bind(null,o,c,s);c.then(_,_)}h.flags|=4096,h.lanes=e;break t}h=h.return}while(null!==h);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),u=as(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,e&=-e,h.lanes|=e,co(h,cs(0,o,e));break t;case 1:o=u;var x=h.type,w=h.stateNode;if(0===(64&h.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Ys||!Ys.has(w)))){h.flags|=4096,e&=-e,h.lanes|=e,co(h,ls(h,o,e));break t}}h=h.return}while(null!==h)}Pu(n)}catch(E){e=E,As===n&&null!==n&&(As=n=n.return);continue}break}}function Eu(){var t=Cs.current;return Cs.current=Ta,null===t?Ta:t}function Su(t,e){var n=Ts;Ts|=16;var r=Eu();for(Ms===t&&Is===e||xu(t,e);;)try{ku();break}catch(i){wu(t,i)}if(Qi(),Ts=n,Cs.current=r,null!==As)throw Error(a(261));return Ms=null,Is=0,Ds}function ku(){for(;null!==As;)Cu(As)}function Ou(){for(;null!==As&&!ki();)Cu(As)}function Cu(t){var e=Ws(t.alternate,t,js);t.memoizedProps=t.pendingProps,null===e?Pu(t):As=e,Ps.current=null}function Pu(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=is(n,e,js)))return void(As=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=os(e)))return n.flags&=2047,void(As=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(As=e);As=e=t}while(null!==e);0===Ds&&(Ds=5)}function Tu(t){var e=Ui();return Vi(99,Mu.bind(null,t,e)),null}function Mu(t,e){do{Iu()}while(null!==$s);if(0!==(48&Ts))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var c=31-Ge(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==eu&&0===(24&r)&&eu.has(t)&&eu.delete(t),t===Ms&&(As=Ms=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,Ps.current=null,zr=Ye,dr(s=pr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(O){u=null;break t}var f=0,h=-1,p=-1,d=0,y=0,v=s,g=null;e:for(;;){for(var m;v!==u||0!==o&&3!==v.nodeType||(h=f+o),v!==c||0!==l&&3!==v.nodeType||(p=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(m=v.firstChild);)g=v,v=m;for(;;){if(v===s)break e;if(g===u&&++d===o&&(h=f),g===c&&++y===l&&(p=f),null!==(m=v.nextSibling))break;g=(v=g).parentNode}v=m}u=-1===h||-1===p?null:{start:h,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Fr={focusedElem:s,selectionRange:u},Ye=!1,su=null,uu=!1,Hs=r;do{try{Au()}catch(O){if(null===Hs)throw Error(a(330));Lu(Hs,O),Hs=Hs.nextEffect}}while(null!==Hs);su=null,Hs=r;do{try{for(s=t;null!==Hs;){var b=Hs.flags;if(16&b&&mt(Hs.stateNode,""),128&b){var _=Hs.alternate;if(null!==_){var x=_.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:bs(Hs),Hs.flags&=-3;break;case 6:bs(Hs),Hs.flags&=-3,Es(Hs.alternate,Hs);break;case 1024:Hs.flags&=-1025;break;case 1028:Hs.flags&=-1025,Es(Hs.alternate,Hs);break;case 4:Es(Hs.alternate,Hs);break;case 8:ws(s,u=Hs);var w=u.alternate;gs(u),null!==w&&gs(w)}Hs=Hs.nextEffect}}catch(O){if(null===Hs)throw Error(a(330));Lu(Hs,O),Hs=Hs.nextEffect}}while(null!==Hs);if(x=Fr,_=pr(),b=x.focusedElem,s=x.selectionRange,_!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(_=s.start,void 0===(x=s.end)&&(x=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(x,b.value.length)):(x=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(x=x.getSelection(),u=b.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!x.extend&&w>s&&(u=s,s=w,w=u),u=fr(b,w),o=fr(b,s),u&&o&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((_=_.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),w>s?(x.addRange(_),x.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),x.addRange(_))))),_=[];for(x=b;x=x.parentNode;)1===x.nodeType&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(x=_[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Ye=!!zr,Fr=zr=null,t.current=n,Hs=r;do{try{for(b=t;null!==Hs;){var E=Hs.flags;if(36&E&&ds(b,Hs.alternate,Hs),128&E){_=void 0;var S=Hs.ref;if(null!==S){var k=Hs.stateNode;switch(Hs.tag){case 5:_=k;break;default:_=k}"function"===typeof S?S(_):S.current=_}}Hs=Hs.nextEffect}}catch(O){if(null===Hs)throw Error(a(330));Lu(Hs,O),Hs=Hs.nextEffect}}while(null!==Hs);Hs=null,Di(),Ts=i}else t.current=n;if(Zs)Zs=!1,$s=t,Js=e;else for(Hs=r;null!==Hs;)e=Hs.nextEffect,Hs.nextEffect=null,8&Hs.flags&&((E=Hs).sibling=null,E.stateNode=null),Hs=e;if(0===(r=t.pendingLanes)&&(Ys=null),1===r?t===ru?nu++:(nu=0,ru=t):nu=0,n=n.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(O){}if(pu(t,Bi()),Ks)throw Ks=!1,t=Xs,Xs=null,t;return 0!==(8&Ts)||Wi(),null}function Au(){for(;null!==Hs;){var t=Hs.alternate;uu||null===su||(0!==(8&Hs.flags)?te(Hs,su)&&(uu=!0):13===Hs.tag&&ks(t,Hs)&&te(Hs,su)&&(uu=!0));var e=Hs.flags;0!==(256&e)&&ps(t,Hs),0===(512&e)||Zs||(Zs=!0,Gi(97,(function(){return Iu(),null}))),Hs=Hs.nextEffect}}function Iu(){if(90!==Js){var t=97<Js?97:Js;return Js=90,Vi(t,Du)}return!1}function ju(t,e){Qs.push(e,t),Zs||(Zs=!0,Gi(97,(function(){return Iu(),null})))}function Ru(t,e){tu.push(e,t),Zs||(Zs=!0,Gi(97,(function(){return Iu(),null})))}function Du(){if(null===$s)return!1;var t=$s;if($s=null,0!==(48&Ts))throw Error(a(331));var e=Ts;Ts|=32;var n=tu;tu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Lu(o,c)}}for(n=Qs,Qs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Lu(o,c)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Ts=e,Wi(),!0}function Nu(t,e,n){uo(t,e=cs(0,e=as(n,e),1)),e=cu(),null!==(t=hu(t,1))&&(Ve(t,1,e),pu(t,e))}function Lu(t,e){if(3===t.tag)Nu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Nu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){var i=ls(n,t=as(e,t),1);if(uo(n,i),i=cu(),null!==(n=hu(n,1)))Ve(n,1,i),pu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function zu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=cu(),t.pingedLanes|=t.suspendedLanes&n,Ms===t&&(Is&n)===n&&(4===Ds||3===Ds&&(62914560&Is)===Is&&500>Bi()-qs?xu(t,0):Bs|=n),pu(t,e)}function Fu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Ui()?1:2:(0===ou&&(ou=Ls),0===(e=Ue(62914560&~ou))&&(e=4194304))),n=cu(),null!==(t=hu(t,e))&&(Ve(t,e,n),pu(t,n))}function Bu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Uu(t,e,n,r){return new Bu(t,e,n,r)}function qu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Vu(t,e){var n=t.alternate;return null===n?((n=Uu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gu(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)qu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case S:return Wu(n.children,i,o,e);case N:s=8,i|=16;break;case k:s=8,i|=1;break;case O:return(t=Uu(12,n,e,8|i)).elementType=O,t.type=O,t.lanes=o,t;case M:return(t=Uu(13,n,e,i)).type=M,t.elementType=M,t.lanes=o,t;case A:return(t=Uu(19,n,e,i)).elementType=A,t.lanes=o,t;case L:return Hu(n,i,o,e);case z:return(t=Uu(24,n,e,i)).elementType=z,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:s=10;break t;case P:s=9;break t;case T:s=11;break t;case I:s=14;break t;case j:s=16,r=null;break t;case R:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Uu(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Wu(t,e,n,r){return(t=Uu(7,t,r,e)).lanes=n,t}function Hu(t,e,n,r){return(t=Uu(23,t,r,e)).elementType=L,t.lanes=n,t}function Ku(t,e,n){return(t=Uu(6,t,null,e)).lanes=n,t}function Xu(t,e,n){return(e=Uu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yu(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qe(0),this.expirationTimes=qe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qe(0),this.mutableSourceEagerHydrationData=null}function Zu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function $u(t,e,n,r){var i=e.current,o=cu(),s=lu(i);t:if(n){e:{if(Zt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=gi(n,c,u);break t}}n=u}else n=ci;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),uo(i,e),fu(i,s,o),s}function Ju(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Qu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tc(t,e){Qu(t,e),(t=t.alternate)&&Qu(t,e)}function ec(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yu(t,e,null!=n&&!0===n.hydrate),e=Uu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,oo(e),t[$r]=n.current,Tr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function rc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Ju(a);s.call(t)}}$u(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ec(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Ju(a);u.call(t)}}mu((function(){$u(e,a,t,i)}))}return Ju(a)}function ic(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(e))throw Error(a(200));return Zu(t,e,null,n)}Ws=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||fi.current)Ra=!0;else{if(0===(n&r)){switch(Ra=!1,e.tag){case 3:Ga(e),Wo();break;case 5:jo(e);break;case 1:di(e.type)&&mi(e);break;case 4:Ao(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ui(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?Ya(t,e,n):(ui(Do,1&Do.current),null!==(e=ns(t,e,n))?e.sibling:null);ui(Do,1&Do.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return es(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Do,Do.current),r)break;return null;case 23:case 24:return e.lanes=0,Fa(t,e,n)}return ns(t,e,n)}Ra=0!==(16384&t.flags)}else Ra=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=pi(e,li.current),no(e,n),i=ia(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)){var o=!0;mi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&po(e,r,s,t),i.updater=yo,e.stateNode=i,i._reactInternals=e,bo(e,r,t,n),e=Va(null,e,r,!0,o,n)}else e.tag=0,Da(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return qu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===I)return 14}return 2}(i),t=Xi(i,t),o){case 0:e=Ua(null,e,i,t,n);break t;case 1:e=qa(null,e,i,t,n);break t;case 11:e=Na(null,e,i,t,n);break t;case 14:e=La(null,e,i,Xi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ua(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 1:return r=e.type,i=e.pendingProps,qa(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 3:if(Ga(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),lo(e,r,null,n),(r=e.memoizedState.element)===i)Wo(),e=ns(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(zo=Wr(e.stateNode.containerInfo.firstChild),Lo=e,o=Fo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Ho.push(o);for(n=ko(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Da(t,e,r,n),Wo();e=e.child}return e;case 5:return jo(e),null===t&&qo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Ur(r,i)?s=null:null!==o&&Ur(r,o)&&(e.flags|=16),Ba(t,e),Da(t,e,s,n),e.child;case 6:return null===t&&qo(e),null;case 13:return Ya(t,e,n);case 4:return Ao(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=So(e,null,r,n):Da(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Na(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 7:return Da(t,e,e.pendingProps,n),e.child;case 8:case 12:return Da(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(ui(Yi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=sr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!fi.current){e=ns(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=so(-1,n&-n)).tag=2,uo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Da(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.flags|=1,Da(t,e,r,n),e.child;case 14:return o=Xi(i=e.type,e.pendingProps),La(t,e,i,o=Xi(i.type,o),r,n);case 15:return za(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,di(r)?(t=!0,mi(e)):t=!1,no(e,n),go(e,r,i),bo(e,r,i,n),Va(null,e,r,!0,t,n);case 19:return es(t,e,n);case 23:case 24:return Fa(t,e,n)}throw Error(a(156,e.tag))},ec.prototype.render=function(t){$u(t,this._internalRoot,null,null)},ec.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;$u(null,t,null,(function(){e[$r]=null}))},ee=function(t){13===t.tag&&(fu(t,4,cu()),tc(t,4))},ne=function(t){13===t.tag&&(fu(t,67108864,cu()),tc(t,67108864))},re=function(t){if(13===t.tag){var e=cu(),n=lu(t);fu(t,n,e),tc(t,n)}},ie=function(t,e){return e()},Ct=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ni(r);if(!i)throw Error(a(90));$(r),nt(r,i)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},jt=gu,Rt=function(t,e,n,r,i){var o=Ts;Ts|=4;try{return Vi(98,t.bind(null,e,n,r,i))}finally{0===(Ts=o)&&(Gs(),Wi())}},Dt=function(){0===(49&Ts)&&(function(){if(null!==eu){var t=eu;eu=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,pu(t,Bi())}))}Wi()}(),Iu())},Nt=function(t,e){var n=Ts;Ts|=2;try{return t(e)}finally{0===(Ts=n)&&(Gs(),Wi())}};var oc={Events:[ti,ei,ni,At,It,Iu,{current:!1}]},ac={findFiberByHostInstance:Qr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},sc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Qt(t))?null:t.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{_i=uc.inject(sc),xi=uc}catch(vt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,e.createPortal=ic,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Qt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ts;if(0!==(48&n))return t(e);Ts|=1;try{if(t)return Vi(99,t.bind(null,e))}finally{Ts=n,Wi()}},e.hydrate=function(t,e,n){if(!nc(e))throw Error(a(200));return rc(null,t,e,!0,n)},e.render=function(t,e,n){if(!nc(e))throw Error(a(200));return rc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nc(t))throw Error(a(40));return!!t._reactRootContainer&&(mu((function(){rc(null,null,t,!1,(function(){t._reactRootContainer=null,t[$r]=null}))})),!0)},e.unstable_batchedUpdates=gu,e.unstable_createPortal=function(t,e){return ic(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nc(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return rc(t,e,n,!1,r)},e.version="17.0.1"},function(t,e,n){"use strict";t.exports=n(682)},function(t,e,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,h=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(t,0),r}};r=function(t){null!==l?setTimeout(r,0,t):(l=t,setTimeout(h,0))},i=function(t,e){f=setTimeout(t,e)},o=function(){clearTimeout(f)},e.unstable_shouldYield=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var y=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,m=-1,b=5,_=0;e.unstable_shouldYield=function(){return e.unstable_now()>=_},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();_=t+b;try{g(!0,t)?w.postMessage(null):(v=!1,g=null)}catch(n){throw w.postMessage(null),n}}else v=!1},r=function(t){g=t,v||(v=!0,w.postMessage(null))},i=function(t,n){m=p((function(){t(e.unstable_now())}),n)},o=function(){d(m),m=-1}}function E(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<O(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function k(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>O(a,n))void 0!==u&&0>O(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>O(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function O(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var C=[],P=[],T=1,M=null,A=3,I=!1,j=!1,R=!1;function D(t){for(var e=S(P);null!==e;){if(null===e.callback)k(P);else{if(!(e.startTime<=t))break;k(P),e.sortIndex=e.expirationTime,E(C,e)}e=S(P)}}function N(t){if(R=!1,D(t),!j)if(null!==S(C))j=!0,r(L);else{var e=S(P);null!==e&&i(N,e.startTime-t)}}function L(t,n){j=!1,R&&(R=!1,o()),I=!0;var r=A;try{for(D(n),M=S(C);null!==M&&(!(M.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=M.callback;if("function"===typeof a){M.callback=null,A=M.priorityLevel;var s=a(M.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?M.callback=s:M===S(C)&&k(C),D(n)}else k(C);M=S(C)}if(null!==M)var u=!0;else{var c=S(P);null!==c&&i(N,c.startTime-n),u=!1}return u}finally{M=null,A=r,I=!1}}var z=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){j||I||(j=!0,r(L))},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return S(C)},e.unstable_next=function(t){switch(A){case 1:case 2:case 3:var e=3;break;default:e=A}var n=A;A=e;try{return t()}finally{A=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=z,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=A;A=t;try{return e()}finally{A=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:T++,callback:n,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,E(P,t),null===S(C)&&t===S(P)&&(R?o():R=!0,i(N,a-s))):(t.sortIndex=u,E(C,t),j||I||(j=!0,r(L))),t},e.unstable_wrapCallback=function(t){var e=A;return function(){var n=A;A=e;try{return t.apply(this,arguments)}finally{A=n}}}},function(t,e,n){"use strict";var r=n(684);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";t.exports=n(687)},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case g:case v:case c:return t;default:return e}}case o:return e}}}function E(t){return w(t)===h}e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=g,e.Memo=v,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return E(t)||w(t)===f},e.isConcurrentMode=E,e.isContextConsumer=function(t){return w(t)===l},e.isContextProvider=function(t){return w(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===p},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===v},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===u},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===h||t===u||t===s||t===d||t===y||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===v||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===b||t.$$typeof===_||t.$$typeof===x||t.$$typeof===m)},e.typeOf=w},function(t,e,n){"use strict";t.exports=n(689)},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case g:case v:case c:return t;default:return e}}case o:return e}}}function E(t){return w(t)===h}e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=g,e.Memo=v,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return E(t)||w(t)===f},e.isConcurrentMode=E,e.isContextConsumer=function(t){return w(t)===l},e.isContextProvider=function(t){return w(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===p},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===v},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===u},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===h||t===u||t===s||t===d||t===y||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===v||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===b||t.$$typeof===_||t.$$typeof===x||t.$$typeof===m)},e.typeOf=w},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(A){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",y={};function v(){}function g(){}function m(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf,x=_&&_(_(T([])));x&&x!==n&&r.call(x,o)&&(b=x);var w=m.prototype=v.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return g.prototype=w.constructor=m,m.constructor=g,g.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),u(w,s,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case g:case v:case c:return t;default:return e}}case o:return e}}}function E(t){return w(t)===h}e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=g,e.Memo=v,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return E(t)||w(t)===f},e.isConcurrentMode=E,e.isContextConsumer=function(t){return w(t)===l},e.isContextProvider=function(t){return w(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===p},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===v},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===u},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===h||t===u||t===s||t===d||t===y||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===v||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===b||t.$$typeof===_||t.$$typeof===x||t.$$typeof===m)},e.typeOf=w},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(464),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"===typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"===typeof window[t])try{f(window[t])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(t){var e=null!==t&&"object"===typeof t,n="[object Function]"===o.call(t),r=a(t),s=e&&"[object String]"===o.call(t),h=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=c&&n;if(s&&t.length>0&&!i.call(t,0))for(var y=0;y<t.length;++y)h.push(String(y));if(r&&t.length>0)for(var v=0;v<t.length;++v)h.push(String(v));else for(var g in t)d&&"prototype"===g||!i.call(t,g)||h.push(String(g));if(u)for(var m=function(t){if("undefined"===typeof window||!p)return f(t);try{return f(t)}catch(e){return!1}}(t),b=0;b<l.length;++b)m&&"constructor"===l[b]||!i.call(t,l[b])||h.push(l[b]);return h}}t.exports=r},function(t,e,n){"use strict";var r=n(119),i=n(695),o=n(465),a=n(466),s=n(698),u=i(a(),Object);r(u,{getPolyfill:a,implementation:o,shim:s}),t.exports=u},function(t,e,n){"use strict";var r=n(98),i=n(697),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.defineProperty%",!0);if(u)try{u({},"a",{value:1})}catch(l){u=null}t.exports=function(){return s(r,a,arguments)};var c=function(){return s(r,o,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,a="[object Function]";t.exports=function(t){var e=this;if("function"!==typeof e||o.call(e)!==a)throw new TypeError(r+e);for(var n,s=i.call(arguments,1),u=function(){if(this instanceof n){var r=e.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return e.apply(t,s.concat(i.call(arguments)))},c=Math.max(0,e.length-s.length),l=[],f=0;f<c;f++)l.push("$"+f);if(n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),e.prototype){var h=function(){};h.prototype=e.prototype,n.prototype=new h,h.prototype=null}return n}},function(t,e,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(P){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=n(99)(),h=Object.getPrototypeOf||function(t){return t.__proto__},p=s("async function* () {}"),d=p?p.prototype:r,y=d?d.prototype:r,v="undefined"===typeof Uint8Array?r:h(Uint8Array),g={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":s("async function () {}"),"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":y?h(y):r,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":s("function* () {}"),"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":v,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(98),_=n(216),x=b.call(Function.call,Array.prototype.concat),w=b.call(Function.apply,Array.prototype.splice),E=b.call(Function.call,String.prototype.replace),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,O=function(t){var e=[];return E(t,S,(function(t,n,r,i){e[e.length]=r?E(i,k,"$1"):n||t})),e},C=function(t,e){var n,r=t;if(_(m,r)&&(r="%"+(n=m[r])[0]+"%"),_(g,r)){var o=g[r];if("undefined"===typeof o&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new a('"allowMissing" argument must be a boolean');var n=O(t),r=n.length>0?n[0]:"",i=C("%"+r+"%",e),o=i.name,s=i.value,c=!1,l=i.alias;l&&(r=l[0],w(n,x([0,1],l)));for(var f=1,h=!0;f<n.length;f+=1){var p=n[f];if("constructor"!==p&&h||(c=!0),_(g,o="%"+(r+="."+p)+"%"))s=g[o];else if(null!=s){if(u&&f+1>=n.length){var d=u(s,p);if(h=!!d,!e&&!(p in s))throw new a("base intrinsic for "+t+" exists, but the property is not available.");s=h&&"get"in d&&!("originalValue"in d.get)?d.get:s[p]}else h=_(s,p),s=s[p];h&&!c&&(g[o]=s)}}return s}},function(t,e,n){"use strict";var r=n(466),i=n(119);t.exports=function(){var t=r();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},function(t,e,n){"use strict";var r=n(98),i=n(700),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.defineProperty%",!0);if(u)try{u({},"a",{value:1})}catch(l){u=null}t.exports=function(){return s(r,a,arguments)};var c=function(){return s(r,o,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c},function(t,e,n){"use strict";var r,i=TypeError,o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch(x){o=null}var a=function(){throw new i},s=o?function(){try{return a}catch(t){try{return o(arguments,"callee").get}catch(e){return a}}}():a,u=n(99)(),c=Object.getPrototypeOf||function(t){return t.__proto__},l=r,f=r,h=r,p=r,d="undefined"===typeof Uint8Array?r:c(Uint8Array),y={"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":u?c([][Symbol.iterator]()):r,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncFunctionPrototype%":r,"%AsyncGenerator%":r,"%AsyncGeneratorFunction%":h,"%AsyncGeneratorPrototype%":r,"%AsyncIteratorPrototype%":p&&u&&Symbol.asyncIterator?p[Symbol.asyncIterator]():r,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"===typeof DataView?r:DataView,"%DataViewPrototype%":"undefined"===typeof DataView?r:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float32ArrayPrototype%":"undefined"===typeof Float32Array?r:Float32Array.prototype,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%Float64ArrayPrototype%":"undefined"===typeof Float64Array?r:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":r,"%GeneratorFunction%":l,"%GeneratorPrototype%":r,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int8ArrayPrototype%":"undefined"===typeof Int8Array?r:Int8Array.prototype,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int16ArrayPrototype%":"undefined"===typeof Int16Array?r:Int8Array.prototype,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%Int32ArrayPrototype%":"undefined"===typeof Int32Array?r:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?c(c([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%JSONParse%":"object"===typeof JSON?JSON.parse:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&u?c((new Map)[Symbol.iterator]()):r,"%MapPrototype%":"undefined"===typeof Map?r:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%PromisePrototype%":"undefined"===typeof Promise?r:Promise.prototype,"%PromiseProto_then%":"undefined"===typeof Promise?r:Promise.prototype.then,"%Promise_all%":"undefined"===typeof Promise?r:Promise.all,"%Promise_reject%":"undefined"===typeof Promise?r:Promise.reject,"%Promise_resolve%":"undefined"===typeof Promise?r:Promise.resolve,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&u?c((new Set)[Symbol.iterator]()):r,"%SetPrototype%":"undefined"===typeof Set?r:Set.prototype,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":u?c(""[Symbol.iterator]()):r,"%StringPrototype%":String.prototype,"%Symbol%":u?Symbol:r,"%SymbolPrototype%":u?Symbol.prototype:r,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":s,"%TypedArray%":d,"%TypedArrayPrototype%":d?d.prototype:r,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?r:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?r:Uint16Array.prototype,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?r:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakMapPrototype%":"undefined"===typeof WeakMap?r:WeakMap.prototype,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet,"%WeakSetPrototype%":"undefined"===typeof WeakSet?r:WeakSet.prototype},v=n(98).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,m=/\\(\\)?/g,b=function(t){var e=[];return v(t,g,(function(t,n,r,i){e[e.length]=r?v(i,m,"$1"):n||t})),e},_=function(t,e){if(!(t in y))throw new SyntaxError("intrinsic "+t+" does not exist!");if("undefined"===typeof y[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return y[t]};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=b(t),r=_("%"+(n.length>0?n[0]:"")+"%",e),a=1;a<n.length;a+=1)if(null!=r)if(o&&a+1>=n.length){var s=o(r,n[a]);if(!e&&!(n[a]in r))throw new i("base intrinsic for "+t+" exists, but the property is not available.");r=s&&"get"in s&&!("originalValue"in s.get)?s.get:r[n[a]]}else r=r[n[a]];return r}},function(t,e,n){"use strict";var r=n(119).supportsDescriptors,i=n(470),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!r||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=i(),e=u(c),n=o(e,"flags");return n&&n.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),i=(a(r),a(n(2))),o=a(n(703));a(n(234));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=1073741823;function f(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}e.default=function(t,e){var n,a,h="__create-react-context-"+(0,o.default)()+"__",p=function(t){function n(){var e,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.emitter=f(r.props.value),u(r,e)}return c(n,t),n.prototype.getChildContext=function(){var t;return(t={})[h]=this.emitter,t},n.prototype.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n=this.props.value,r=t.value,i=void 0;((o=n)===(a=r)?0!==o||1/o===1/a:o!==o&&a!==a)?i=0:(i="function"===typeof e?e(n,r):l,0!==(i|=0)&&this.emitter.set(t.value,i))}var o,a},n.prototype.render=function(){return this.props.children},n}(r.Component);p.childContextTypes=((n={})[h]=i.default.object.isRequired,n);var d=function(e){function n(){var t,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(t,e){0!==((0|r.observedBits)&e)&&r.setState({value:r.getValue()})},u(r,t)}return c(n,e),n.prototype.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?l:e},n.prototype.componentDidMount=function(){this.context[h]&&this.context[h].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?l:t},n.prototype.componentWillUnmount=function(){this.context[h]&&this.context[h].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[h]?this.context[h].get():t},n.prototype.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return d.contextTypes=((a={})[h]=i.default.object,a),{Provider:p,Consumer:d}},t.exports=e.default},function(t,e,n){"use strict";(function(e){var n="__global_unique_id__";t.exports=function(){return e[n]=(e[n]||0)+1}}).call(this,n(53))},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSVLink=e.CSVDownload=void 0;var r=o(n(706)),i=o(n(707));function o(t){return t&&t.__esModule?t:{default:t}}e.CSVDownload=r.default,e.CSVLink=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r},s=n(472),u=n(473);var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"buildURI",value:function(){return s.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.data,n=t.headers,r=t.separator,i=t.enclosingCharacter,o=t.uFEFF,a=t.target,s=t.specs,u=t.replace;this.state.page=window.open(this.buildURI(e,o,n,r,i),a,s,u)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),e}(a.default.Component);c.defaultProps=Object.assign(u.defaultProps,{target:"_blank"}),c.propTypes=u.propTypes,e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),s=(r=a)&&r.__esModule?r:{default:r},u=n(472),c=n(473);var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.buildURI=n.buildURI.bind(n),n.state={href:""},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.data,n=t.headers,r=t.separator,i=t.uFEFF,o=t.enclosingCharacter;this.setState({href:this.buildURI(e,i,n,r,o)})}},{key:"componentDidUpdate",value:function(t){if(this.props!==t){var e=this.props,n=e.data,r=e.headers,i=e.separator,o=e.uFEFF;this.setState({href:this.buildURI(n,o,r,i)})}}},{key:"buildURI",value:function(){return u.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(t){if(window.navigator.msSaveOrOpenBlob){t.preventDefault();var e=this.props,n=e.data,r=e.headers,i=e.separator,o=e.filename,a=e.enclosingCharacter,s=e.uFEFF,c=new Blob([s?"\ufeff":"",(0,u.toCSV)(n,r,i,a)]);return window.navigator.msSaveBlob(c,o),!1}}},{key:"handleAsyncClick",value:function(t){var e=this;this.props.onClick(t,(function(n){!1!==n?e.handleLegacy(t):t.preventDefault()}))}},{key:"handleSyncClick",value:function(t){!1===this.props.onClick(t)?t.preventDefault():this.handleLegacy(t)}},{key:"handleClick",value:function(){var t=this;return function(e){if("function"===typeof t.props.onClick)return t.props.asyncOnClick?t.handleAsyncClick(e):t.handleSyncClick(e);t.handleLegacy(e)}}},{key:"render",value:function(){var t=this,e=this.props,n=(e.data,e.headers,e.separator,e.filename),r=(e.uFEFF,e.children),o=(e.onClick,e.asyncOnClick,e.enclosingCharacter,function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]));return s.default.createElement("a",i({download:n},o,{ref:function(e){return t.link=e},target:"_self",href:this.state.href,onClick:this.handleClick()}),r)}}]),e}(s.default.Component);l.defaultProps=c.defaultProps,l.propTypes=c.propTypes,e.default=l},function(t,e,n){!function(t){"use strict";function e(t){if(0===t.length)return 0;for(var e,n=t[0],r=0,i=1;i<t.length;i++)e=n+t[i],Math.abs(n)>=Math.abs(t[i])?r+=n-e+t[i]:r+=t[i]-e+n,n=e;return n+r}function n(t){if(0===t.length)throw new Error("mean requires at least one data point");return e(t)/t.length}function r(t,e){var r,i,o=n(t),a=0;if(2===e)for(i=0;i<t.length;i++)a+=(r=t[i]-o)*r;else for(i=0;i<t.length;i++)a+=Math.pow(t[i]-o,e);return a}function i(t){if(0===t.length)throw new Error("variance requires at least one data point");return r(t,2)/t.length}function o(t){if(1===t.length)return 0;var e=i(t);return Math.sqrt(e)}function a(t){if(0===t.length)throw new Error("mode requires at least one data point");if(1===t.length)return t[0];for(var e=t[0],n=NaN,r=0,i=1,o=1;o<t.length+1;o++)t[o]!==e?(i>r&&(r=i,n=e),i=1,e=t[o]):i++;return n}function s(t){return t.slice().sort((function(t,e){return t-e}))}function u(t){if(0===t.length)throw new Error("min requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]<e&&(e=t[n]);return e}function c(t){if(0===t.length)throw new Error("max requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]>e&&(e=t[n]);return e}function l(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function f(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function h(t,e,n,r){for(n=n||0,r=r||t.length-1;r>n;){if(r-n>600){var i=r-n+1,o=e-n+1,a=Math.log(i),s=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*s*(i-s)/i);o-i/2<0&&(u*=-1),h(t,e,Math.max(n,Math.floor(e-o*s/i+u)),Math.min(r,Math.floor(e+(i-o)*s/i+u)))}var c=t[e],l=n,f=r;for(p(t,n,e),t[r]>c&&p(t,n,r);l<f;){for(p(t,l,f),l++,f--;t[l]<c;)l++;for(;t[f]>c;)f--}t[n]===c?p(t,n,f):p(t,++f,r),f<=e&&(n=f+1),e<=f&&(r=f-1)}}function p(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function d(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],r=0;r<e.length;r++)n.push(g(t.length,e[r]));n.push(t.length-1),n.sort(v);for(var i=[0,n.length-1];i.length;){var o=Math.ceil(i.pop()),a=Math.floor(i.pop());if(!(o-a<=1)){var s=Math.floor((a+o)/2);y(t,n[s],Math.floor(n[a]),Math.ceil(n[o])),i.push(a,s,s,o)}}}(n,e);for(var r=[],i=0;i<e.length;i++)r[i]=f(n,e[i]);return r}return y(n,g(n.length,e),0,n.length-1),f(n,e)}function y(t,e,n,r){e%1==0?h(t,e,n,r):(h(t,e=Math.floor(e),n,r),h(t,e+1,e+1,r))}function v(t,e){return t-e}function g(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!=0?Math.ceil(n)-1:t%2==0?n-.5:n}function m(t,e){if(e<t[0])return 0;if(e>t[t.length-1])return 1;var n=function(t,e){for(var n=0,r=0,i=t.length;r<i;)e<=t[n=r+i>>>1]?i=n:r=-~n;return r}(t,e);if(t[n]!==e)return n/t.length;n++;var r=function(t,e){for(var n=0,r=0,i=t.length;r<i;)e>=t[n=r+i>>>1]?r=-~n:i=n;return r}(t,e);if(r===n)return n/t.length;var i=r-n+1;return i*(r+n)/2/i/t.length}function b(t){var e=d(t,.75),n=d(t,.25);if("number"==typeof e&&"number"==typeof n)return e-n}function _(t){return+d(t,.5)}function x(t){for(var e=_(t),n=[],r=0;r<t.length;r++)n.push(Math.abs(t[r]-e));return _(n)}function w(t,e){e=e||Math.random;for(var n,r,i=t.length;i>0;)r=Math.floor(e()*i--),n=t[i],t[i]=t[r],t[r]=n;return t}function E(t,e){return w(t.slice(),e)}function S(t,e,n){return E(t,n).slice(0,e)}function k(t,e){for(var n=[],r=0;r<t;r++){for(var i=[],o=0;o<e;o++)i.push(0);n.push(i)}return n}function O(t){for(var e,n=0,r=0;r<t.length;r++)0!==r&&t[r]===e||(e=t[r],n++);return n}function C(t,e,n,r){var i;if(t>0){var o=(n[e]-n[t-1])/(e-t+1);i=r[e]-r[t-1]-(e-t+1)*o*o}else i=r[e]-n[e]*n[e]/(e+1);return i<0?0:i}function P(t,e,n,r,i,o,a){if(!(t>e)){var s=Math.floor((t+e)/2);r[n][s]=r[n-1][s-1],i[n][s]=s;var u=n;t>n&&(u=Math.max(u,i[n][t-1]||0)),u=Math.max(u,i[n-1][s]||0);var c,l,f,h=s-1;e<r[0].length-1&&(h=Math.min(h,i[n][e+1]||0));for(var p=h;p>=u&&!((c=C(p,s,o,a))+r[n-1][u-1]>=r[n][s]);--p)(l=C(u,s,o,a)+r[n-1][u-1])<r[n][s]&&(r[n][s]=l,i[n][s]=u),u++,(f=c+r[n-1][p-1])<r[n][s]&&(r[n][s]=f,i[n][s]=p);P(t,s-1,n,r,i,o,a),P(s+1,e,n,r,i,o,a)}}function T(t,e){if(t.length!==e.length)throw new Error("sampleCovariance requires samples with equal lengths");if(t.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var r=n(t),i=n(e),o=0,a=0;a<t.length;a++)o+=(t[a]-r)*(e[a]-i);return o/(t.length-1)}function M(t){if(t.length<2)throw new Error("sampleVariance requires at least two data points");return r(t,2)/(t.length-1)}function A(t){var e=M(t);return Math.sqrt(e)}function I(t,e,n,r){return(t*e+n*r)/(e+r)}function j(t){if(0===t.length)throw new Error("meanSimple requires at least one data point");return l(t)/t.length}function R(t){if(0===t.length)throw new Error("rootMeanSquare requires at least one data point");for(var e=0,n=0;n<t.length;n++)e+=Math.pow(t[n],2);return Math.sqrt(e/t.length)}var D=function(){this.totalCount=0,this.data={}};D.prototype.train=function(t,e){for(var n in this.data[e]||(this.data[e]={}),t){var r=t[n];void 0===this.data[e][n]&&(this.data[e][n]={}),void 0===this.data[e][n][r]&&(this.data[e][n][r]=0),this.data[e][n][r]++}this.totalCount++},D.prototype.score=function(t){var e,n={};for(var r in t){var i=t[r];for(e in this.data)n[e]={},this.data[e][r]?n[e][r+"_"+i]=(this.data[e][r][i]||0)/this.totalCount:n[e][r+"_"+i]=0}var o={};for(e in n)for(var a in o[e]=0,n[e])o[e]+=n[e][a];return o};var N=function(){this.weights=[],this.bias=0};N.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var e=0,n=0;n<this.weights.length;n++)e+=this.weights[n]*t[n];return(e+=this.bias)>0?1:0},N.prototype.train=function(t,e){if(0!==e&&1!==e)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var n=this.predict(t);if("number"==typeof n&&n!==e){for(var r=e-n,i=0;i<this.weights.length;i++)this.weights[i]+=r*t[i];this.bias+=r}return this};var L=1e-4;function z(t){if(t<0)throw new Error("factorial requires a non-negative value");if(Math.floor(t)!==t)throw new Error("factorial requires an integer input");for(var e=1,n=2;n<=t;n++)e*=n;return e}var F=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],B=Math.log(Math.sqrt(2*Math.PI)),U={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},q=Math.sqrt(2*Math.PI),V={gaussian:function(t){return Math.exp(-.5*t*t)/q}},G={nrd:function(t){var e=A(t),n=b(t);return"number"==typeof n&&(e=Math.min(e,n/1.34)),1.06*e*Math.pow(t.length,-.2)}};function W(t,e,n){var r,i;if(void 0===e)r=V.gaussian;else if("string"==typeof e){if(!V[e])throw new Error('Unknown kernel "'+e+'"');r=V[e]}else r=e;if(void 0===n)i=G.nrd(t);else if("string"==typeof n){if(!G[n])throw new Error('Unknown bandwidth method "'+n+'"');i=G[n](t)}else i=n;return function(e){var n=0,o=0;for(n=0;n<t.length;n++)o+=r((e-t[n])/i);return o/i/t.length}}var H=Math.sqrt(2*Math.PI);function K(t){for(var e=t,n=t,r=1;r<15;r++)e+=n*=t*t/(2*r+1);return Math.round(1e4*(.5+e/H*Math.exp(-t*t/2)))/1e4}for(var X=[],Y=0;Y<=3.09;Y+=.01)X.push(K(Y));function Z(t){var e=1/(1+.5*Math.abs(t)),n=e*Math.exp(-t*t+((((((((.17087277*e-.82215223)*e+1.48851587)*e-1.13520398)*e+.27886807)*e-.18628806)*e+.09678418)*e+.37409196)*e+1.00002368)*e-1.26551223);return t>=0?1-n:n-1}function $(t){var e=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),n=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*e)+Math.log(1-t*t)/2,2)-Math.log(1-t*t)/e)-(2/(Math.PI*e)+Math.log(1-t*t)/2));return t>=0?n:-n}function J(t){if("number"==typeof t)return t<0?-1:0===t?0:1;throw new TypeError("not a number")}function Q(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)}function tt(t,e){return t.map((function(t){for(var n=Number.MAX_VALUE,r=-1,i=0;i<e.length;i++){var o=Q(t,e[i]);o<n&&(n=o,r=i)}return r}))}function et(t,e,n){for(var r=t[0].length,i=k(n,r),o=Array(n).fill(0),a=t.length,s=0;s<a;s++){for(var u=t[s],c=e[s],l=i[c],f=0;f<r;f++)l[f]+=u[f];o[c]+=1}for(var h=0;h<n;h++){if(0===o[h])throw new Error("Centroid "+h+" has no friends");for(var p=i[h],d=0;d<r;d++)p[d]/=o[h]}return i}function nt(t,e){for(var n=0,r=0;r<t.length;r++)n+=Q(t[r],e[r]);return n}function rt(t,e){if(t.length!==e.length)throw new Error("must have exactly as many labels as points");for(var n=function(t){for(var e=1+c(t),n=Array(e),r=0;r<t.length;r++){var i=t[r];void 0===n[i]&&(n[i]=[]),n[i].push(r)}return n}(e),r=function(t){for(var e=t.length,n=k(e,e),r=0;r<e;r++)for(var i=0;i<r;i++)n[r][i]=Q(t[r],t[i]),n[i][r]=n[r][i];return n}(t),i=[],o=0;o<t.length;o++){var a=0;if(n[e[o]].length>1){var s=ot(o,n[e[o]],r),u=it(o,e,n,r);a=(u-s)/Math.max(s,u)}i.push(a)}return i}function it(t,e,n,r){for(var i=e[t],o=Number.MAX_VALUE,a=0;a<n.length;a++)if(a!==i){var s=ot(t,n[a],r);s<o&&(o=s)}return o}function ot(t,e,n){for(var r=0,i=0;i<e.length;i++)r+=n[t][e[i]];return r/e.length}function at(t,e){return 0===t&&0===e?0:Math.abs((t-e)/e)}t.BayesianClassifier=D,t.PerceptronModel=N,t.addToMean=function(t,e,n){return t+(n-t)/(e+1)},t.approxEqual=function(t,e,n){return void 0===n&&(n=L),at(t,e)<=n},t.average=n,t.averageSimple=j,t.bayesian=D,t.bernoulliDistribution=function(t){if(t<0||t>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-t,t]},t.binomialDistribution=function(t,e){if(!(e<0||e>1||t<=0||t%1!=0)){var n=0,r=0,i=[],o=1;do{i[n]=o*Math.pow(e,n)*Math.pow(1-e,t-n),r+=i[n],o=o*(t-++n+1)/n}while(r<.9999);return i}},t.bisect=function(t,e,n,r,i){if("function"!=typeof t)throw new TypeError("func must be a function");for(var o=0;o<r;o++){var a=(e+n)/2;if(0===t(a)||Math.abs((n-e)/2)<i)return a;J(t(a))===J(t(e))?e=a:n=a}throw new Error("maximum number of iterations exceeded")},t.chiSquaredDistributionTable=U,t.chiSquaredGoodnessOfFit=function(t,e,r){for(var i=0,o=e(n(t)),a=[],s=[],u=0;u<t.length;u++)void 0===a[t[u]]&&(a[t[u]]=0),a[t[u]]++;for(var c=0;c<a.length;c++)void 0===a[c]&&(a[c]=0);for(var l in o)l in a&&(s[+l]=o[l]*t.length);for(var f=s.length-1;f>=0;f--)s[f]<3&&(s[f-1]+=s[f],s.pop(),a[f-1]+=a[f],a.pop());for(var h=0;h<a.length;h++)i+=Math.pow(a[h]-s[h],2)/s[h];var p=a.length-1-1;return U[p][r]<i},t.chunk=function(t,e){var n=[];if(e<1)throw new Error("chunk size must be a positive number");if(Math.floor(e)!==e)throw new Error("chunk size must be an integer");for(var r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},t.ckmeans=function(t,e){if(e>t.length)throw new Error("cannot generate more classes than there are data values");var n=s(t);if(1===O(n))return[n];var r=k(e,n.length),i=k(e,n.length);!function(t,e,n){for(var r=e[0].length,i=t[Math.floor(r/2)],o=[],a=[],s=0,u=void 0;s<r;++s)u=t[s]-i,0===s?(o.push(u),a.push(u*u)):(o.push(o[s-1]+u),a.push(a[s-1]+u*u)),e[0][s]=C(0,s,o,a),n[0][s]=0;for(var c=1;c<e.length;++c)P(c<e.length-1?c:r-1,r-1,c,e,n,o,a)}(n,r,i);for(var o=[],a=i[0].length-1,u=i.length-1;u>=0;u--){var c=i[u][a];o[u]=n.slice(c,a+1),u>0&&(a=c-1)}return o},t.coefficientOfVariation=function(t){return A(t)/n(t)},t.combinations=function t(e,n){var r,i,o,a,s=[];for(r=0;r<e.length;r++)if(1===n)s.push([e[r]]);else for(o=t(e.slice(r+1,e.length),n-1),i=0;i<o.length;i++)(a=o[i]).unshift(e[r]),s.push(a);return s},t.combinationsReplacement=function t(e,n){for(var r=[],i=0;i<e.length;i++)if(1===n)r.push([e[i]]);else for(var o=t(e.slice(i,e.length),n-1),a=0;a<o.length;a++)r.push([e[i]].concat(o[a]));return r},t.combineMeans=I,t.combineVariances=function(t,e,n,r,i,o){var a=I(e,n,i,o);return(n*(t+Math.pow(e-a,2))+o*(r+Math.pow(i-a,2)))/(n+o)},t.cumulativeStdNormalProbability=function(t){var e=Math.abs(t),n=Math.min(Math.round(100*e),X.length-1);return t>=0?X[n]:+(1-X[n]).toFixed(4)},t.epsilon=L,t.equalIntervalBreaks=function(t,e){if(t.length<2)return t;for(var n=u(t),r=c(t),i=[n],o=(r-n)/e,a=1;a<e;a++)i.push(i[0]+o*a);return i.push(r),i},t.erf=Z,t.errorFunction=Z,t.extent=function(t){if(0===t.length)throw new Error("extent requires at least one data point");for(var e=t[0],n=t[0],r=1;r<t.length;r++)t[r]>n&&(n=t[r]),t[r]<e&&(e=t[r]);return[e,n]},t.extentSorted=function(t){return[t[0],t[t.length-1]]},t.factorial=z,t.gamma=function t(e){if(Number.isInteger(e))return e<=0?NaN:z(e-1);if(--e<0)return Math.PI/(Math.sin(Math.PI*-e)*t(-e));var n=e+1/4;return Math.pow(e/Math.E,e)*Math.sqrt(2*Math.PI*(e+1/6))*(1+1/144/Math.pow(n,2)-1/12960/Math.pow(n,3)-257/207360/Math.pow(n,4)-52/2612736/Math.pow(n,5)+5741173/9405849600/Math.pow(n,6)+37529/18811699200/Math.pow(n,7))},t.gammaln=function(t){if(t<=0)return 1/0;t--;for(var e=F[0],n=1;n<15;n++)e+=F[n]/(t+n);var r=5.2421875+t;return B+Math.log(e)-r+(t+.5)*Math.log(r)},t.geometricMean=function(t){if(0===t.length)throw new Error("geometricMean requires at least one data point");for(var e=1,n=0;n<t.length;n++){if(t[n]<=0)throw new Error("geometricMean requires only positive numbers as input");e*=t[n]}return Math.pow(e,1/t.length)},t.harmonicMean=function(t){if(0===t.length)throw new Error("harmonicMean requires at least one data point");for(var e=0,n=0;n<t.length;n++){if(t[n]<=0)throw new Error("harmonicMean requires only positive numbers as input");e+=1/t[n]}return t.length/e},t.interquartileRange=b,t.inverseErrorFunction=$,t.iqr=b,t.kMeansCluster=function(t,e,n){void 0===n&&(n=Math.random);for(var r=null,i=S(t,e,n),o=null,a=Number.MAX_VALUE;0!==a;)r=i,a=nt(i=et(t,o=tt(t,i),e),r);return{labels:o,centroids:i}},t.kde=W,t.kernelDensityEstimation=W,t.linearRegression=function(t){var e,n,r=t.length;if(1===r)e=0,n=t[0][1];else{for(var i,o,a,s=0,u=0,c=0,l=0,f=0;f<r;f++)s+=o=(i=t[f])[0],u+=a=i[1],c+=o*o,l+=o*a;n=u/r-(e=(r*l-s*u)/(r*c-s*s))*s/r}return{m:e,b:n}},t.linearRegressionLine=function(t){return function(e){return t.b+t.m*e}},t.mad=x,t.max=c,t.maxSorted=function(t){return t[t.length-1]},t.mean=n,t.meanSimple=j,t.median=_,t.medianAbsoluteDeviation=x,t.medianSorted=function(t){return f(t,.5)},t.min=u,t.minSorted=function(t){return t[0]},t.mode=function(t){return a(s(t))},t.modeFast=function(t){for(var e,n=new Map,r=0,i=0;i<t.length;i++){var o=n.get(t[i]);void 0===o?o=1:o++,o>r&&(e=t[i],r=o),n.set(t[i],o)}if(0===r)throw new Error("mode requires at last one data point");return e},t.modeSorted=a,t.numericSort=s,t.perceptron=N,t.permutationTest=function(t,e,r,i,o){if(void 0===i&&(i=1e4),void 0===r&&(r="two_side"),"two_side"!==r&&"greater"!==r&&"less"!==r)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var a=n(t)-n(e),s=new Array(i),u=t.concat(e),c=Math.floor(u.length/2),l=0;l<i;l++){w(u,o);var f=u.slice(0,c),h=u.slice(c,u.length),p=n(f)-n(h);s[l]=p}var d=0;if("two_side"===r)for(var y=0;y<=i;y++)Math.abs(s[y])>=Math.abs(a)&&(d+=1);else if("greater"===r)for(var v=0;v<=i;v++)s[v]>=a&&(d+=1);else for(var g=0;g<=i;g++)s[g]<=a&&(d+=1);return d/i},t.permutationsHeap=function(t){for(var e=new Array(t.length),n=[t.slice()],r=0;r<t.length;r++)e[r]=0;for(var i=0;i<t.length;)if(e[i]<i){var o=0;i%2!=0&&(o=e[i]);var a=t[o];t[o]=t[i],t[i]=a,n.push(t.slice()),e[i]++,i=0}else e[i]=0,i++;return n},t.poissonDistribution=function(t){if(!(t<=0)){var e=0,n=0,r=[],i=1;do{r[e]=Math.exp(-t)*Math.pow(t,e)/i,n+=r[e],i*=++e}while(n<.9999);return r}},t.probit=function(t){return 0===t?t=L:t>=1&&(t=.9999),Math.sqrt(2)*$(2*t-1)},t.product=function(t){for(var e=1,n=0;n<t.length;n++)e*=t[n];return e},t.quantile=d,t.quantileRank=function(t,e){return m(s(t),e)},t.quantileRankSorted=m,t.quantileSorted=f,t.quickselect=h,t.rSquared=function(t,e){if(t.length<2)return 1;for(var n=0,r=0;r<t.length;r++)n+=t[r][1];for(var i=n/t.length,o=0,a=0;a<t.length;a++)o+=Math.pow(i-t[a][1],2);for(var s=0,u=0;u<t.length;u++)s+=Math.pow(t[u][1]-e(t[u][0]),2);return 1-s/o},t.relativeError=at,t.rms=R,t.rootMeanSquare=R,t.sample=S,t.sampleCorrelation=function(t,e){return T(t,e)/A(t)/A(e)},t.sampleCovariance=T,t.sampleKurtosis=function(t){var e=t.length;if(e<4)throw new Error("sampleKurtosis requires at least four data points");for(var r,i=n(t),o=0,a=0,s=0;s<e;s++)o+=(r=t[s]-i)*r,a+=r*r*r*r;return(e-1)/((e-2)*(e-3))*(e*(e+1)*a/(o*o)-3*(e-1))},t.sampleSkewness=function(t){if(t.length<3)throw new Error("sampleSkewness requires at least three data points");for(var e,r=n(t),i=0,o=0,a=0;a<t.length;a++)i+=(e=t[a]-r)*e,o+=e*e*e;var s=t.length-1,u=Math.sqrt(i/s),c=t.length;return c*o/((c-1)*(c-2)*Math.pow(u,3))},t.sampleStandardDeviation=A,t.sampleVariance=M,t.sampleWithReplacement=function(t,e,n){if(0===t.length)return[];n=n||Math.random;for(var r=t.length,i=[],o=0;o<e;o++){var a=Math.floor(n()*r);i.push(t[a])}return i},t.shuffle=E,t.shuffleInPlace=w,t.sign=J,t.silhouette=rt,t.silhouetteMetric=function(t,e){return c(rt(t,e))},t.standardDeviation=o,t.standardNormalTable=X,t.subtractFromMean=function(t,e,n){return(t*e-n)/(e-1)},t.sum=e,t.sumNthPowerDeviations=r,t.sumSimple=l,t.tTest=function(t,e){return(n(t)-e)/(o(t)/Math.sqrt(t.length))},t.tTestTwoSample=function(t,e,r){var i=t.length,o=e.length;if(!i||!o)return null;r||(r=0);var a=n(t),s=n(e),u=M(t),c=M(e);if("number"==typeof a&&"number"==typeof s&&"number"==typeof u&&"number"==typeof c){var l=((i-1)*u+(o-1)*c)/(i+o-2);return(a-s-r)/Math.sqrt(l*(1/i+1/o))}},t.uniqueCountSorted=O,t.variance=i,t.zScore=function(t,e,n){return(t-e)/n},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t){return t&&t.__esModule?t:{default:t}}var a=o(n(342)),s=o(n(250)),u=o(n(343)),c=o(n(344)),l=o(n(345)),f=o(n(346)),h=o(n(1)),p=o(n(2)),d=1e3/60,y=function(t){function e(n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(t){var e=!1,n=i.state,o=n.currentStyle,a=n.currentVelocity,s=n.lastIdealStyle,u=n.lastIdealVelocity;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var l=t[c];"number"===typeof l&&(e||(e=!0,o=r({},o),a=r({},a),s=r({},s),u=r({},u)),o[c]=l,a[c]=0,s[c]=l,u[c]=0)}e&&i.setState({currentStyle:o,currentVelocity:a,lastIdealStyle:s,lastIdealVelocity:u})},this.startAnimationIfNecessary=function(){i.animationID=l.default((function(t){var e=i.props.style;if(f.default(i.state.currentStyle,e,i.state.currentVelocity))return i.wasAnimating&&i.props.onRest&&i.props.onRest(),i.animationID=null,i.wasAnimating=!1,void(i.accumulatedTime=0);i.wasAnimating=!0;var n=t||c.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*d&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/d)*d)/d,a=Math.floor(i.accumulatedTime/d),s={},l={},h={},p={};for(var y in e)if(Object.prototype.hasOwnProperty.call(e,y)){var v=e[y];if("number"===typeof v)h[y]=v,p[y]=0,s[y]=v,l[y]=0;else{for(var g=i.state.lastIdealStyle[y],m=i.state.lastIdealVelocity[y],b=0;b<a;b++){var _=u.default(d/1e3,g,m,v.val,v.stiffness,v.damping,v.precision);g=_[0],m=_[1]}var x=u.default(d/1e3,g,m,v.val,v.stiffness,v.damping,v.precision),w=x[0],E=x[1];h[y]=g+(w-g)*o,p[y]=m+(E-m)*o,s[y]=g,l[y]=m}}i.animationID=null,i.accumulatedTime-=a*d,i.setState({currentStyle:h,currentVelocity:p,lastIdealStyle:s,lastIdealVelocity:l}),i.unreadPropStyle=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"propTypes",value:{defaultStyle:p.default.objectOf(p.default.number),style:p.default.objectOf(p.default.oneOfType([p.default.number,p.default.object])).isRequired,children:p.default.func.isRequired,onRest:p.default.func},enumerable:!0}]),e.prototype.defaultState=function(){var t=this.props,e=t.defaultStyle,n=t.style,r=e||s.default(n),i=a.default(r);return{currentStyle:r,currentVelocity:i,lastIdealStyle:r,lastIdealVelocity:i}},e.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},e.prototype.componentWillReceiveProps=function(t){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=t.style,null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},e.prototype.componentWillUnmount=function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},e.prototype.render=function(){var t=this.props.children(this.state.currentStyle);return t&&h.default.Children.only(t)},e}(h.default.Component);e.default=y,t.exports=e.default},function(t,e,n){(function(e){(function(){var n,r,i,o,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,o=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})(),s=1e9*e.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(153))},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t){return t&&t.__esModule?t:{default:t}}var a=o(n(342)),s=o(n(250)),u=o(n(343)),c=o(n(344)),l=o(n(345)),f=o(n(346)),h=o(n(1)),p=o(n(2)),d=1e3/60;var y=function(t){function e(n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(t){for(var e=i.state,n=e.currentStyles,o=e.currentVelocities,a=e.lastIdealStyles,s=e.lastIdealVelocities,u=!1,c=0;c<t.length;c++){var l=t[c],f=!1;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=l[h];"number"===typeof p&&(f||(f=!0,u=!0,n[c]=r({},n[c]),o[c]=r({},o[c]),a[c]=r({},a[c]),s[c]=r({},s[c])),n[c][h]=p,o[c][h]=0,a[c][h]=p,s[c][h]=0)}}u&&i.setState({currentStyles:n,currentVelocities:o,lastIdealStyles:a,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){i.animationID=l.default((function(t){var e=i.props.styles(i.state.lastIdealStyles);if(function(t,e,n){for(var r=0;r<t.length;r++)if(!f.default(t[r],e[r],n[r]))return!1;return!0}(i.state.currentStyles,e,i.state.currentVelocities))return i.animationID=null,void(i.accumulatedTime=0);var n=t||c.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*d&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/d)*d)/d,a=Math.floor(i.accumulatedTime/d),s=[],l=[],h=[],p=[],y=0;y<e.length;y++){var v=e[y],g={},m={},b={},_={};for(var x in v)if(Object.prototype.hasOwnProperty.call(v,x)){var w=v[x];if("number"===typeof w)g[x]=w,m[x]=0,b[x]=w,_[x]=0;else{for(var E=i.state.lastIdealStyles[y][x],S=i.state.lastIdealVelocities[y][x],k=0;k<a;k++){var O=u.default(d/1e3,E,S,w.val,w.stiffness,w.damping,w.precision);E=O[0],S=O[1]}var C=u.default(d/1e3,E,S,w.val,w.stiffness,w.damping,w.precision),P=C[0],T=C[1];g[x]=E+(P-E)*o,m[x]=S+(T-S)*o,b[x]=E,_[x]=S}}h[y]=g,p[y]=m,s[y]=b,l[y]=_}i.animationID=null,i.accumulatedTime-=a*d,i.setState({currentStyles:h,currentVelocities:p,lastIdealStyles:s,lastIdealVelocities:l}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"propTypes",value:{defaultStyles:p.default.arrayOf(p.default.objectOf(p.default.number)),styles:p.default.func.isRequired,children:p.default.func.isRequired},enumerable:!0}]),e.prototype.defaultState=function(){var t=this.props,e=t.defaultStyles,n=t.styles,r=e||n().map(s.default),i=r.map((function(t){return a.default(t)}));return{currentStyles:r,currentVelocities:i,lastIdealStyles:r,lastIdealVelocities:i}},e.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},e.prototype.componentWillReceiveProps=function(t){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=t.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},e.prototype.componentWillUnmount=function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},e.prototype.render=function(){var t=this.props.children(this.state.currentStyles);return t&&h.default.Children.only(t)},e}(h.default.Component);e.default=y,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t){return t&&t.__esModule?t:{default:t}}var a=o(n(342)),s=o(n(250)),u=o(n(343)),c=o(n(713)),l=o(n(344)),f=o(n(345)),h=o(n(346)),p=o(n(1)),d=o(n(2)),y=1e3/60;function v(t,e,n){var r=e;return null==r?t.map((function(t,e){return{key:t.key,data:t.data,style:n[e]}})):t.map((function(t,e){for(var i=0;i<r.length;i++)if(r[i].key===t.key)return{key:r[i].key,data:r[i].data,style:n[e]};return{key:t.key,data:t.data,style:n[e]}}))}function g(t,e,n,r,i,o,s,u,l){for(var f=c.default(r,i,(function(t,r){var i=e(r);return null==i||h.default(o[t],i,s[t])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:i}})),p=[],d=[],y=[],v=[],g=0;g<f.length;g++){for(var m=f[g],b=null,_=0;_<r.length;_++)if(r[_].key===m.key){b=_;break}if(null==b){var x=t(m);p[g]=x,y[g]=x;var w=a.default(m.style);d[g]=w,v[g]=w}else p[g]=o[b],y[g]=u[b],d[g]=s[b],v[g]=l[b]}return[f,p,d,y,v]}var m=function(t){function e(n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(t){for(var e=g(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,t,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),n=e[0],o=e[1],a=e[2],s=e[3],u=e[4],c=0;c<t.length;c++){var l=t[c].style,f=!1;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=l[h];"number"===typeof p&&(f||(f=!0,o[c]=r({},o[c]),a[c]=r({},a[c]),s[c]=r({},s[c]),u[c]=r({},u[c]),n[c]={key:n[c].key,data:n[c].data,style:r({},n[c].style)}),o[c][h]=p,a[c][h]=0,s[c][h]=p,u[c][h]=0,n[c].style[h]=p)}}i.setState({currentStyles:o,currentVelocities:a,mergedPropsStyles:n,lastIdealStyles:s,lastIdealVelocities:u})},this.startAnimationIfNecessary=function(){i.unmounting||(i.animationID=f.default((function(t){if(!i.unmounting){var e=i.props.styles,n="function"===typeof e?e(v(i.state.mergedPropsStyles,i.unreadPropStyles,i.state.lastIdealStyles)):e;if(function(t,e,n,r){if(r.length!==e.length)return!1;for(var i=0;i<r.length;i++)if(r[i].key!==e[i].key)return!1;for(i=0;i<r.length;i++)if(!h.default(t[i],e[i].style,n[i]))return!1;return!0}(i.state.currentStyles,n,i.state.currentVelocities,i.state.mergedPropsStyles))return i.animationID=null,void(i.accumulatedTime=0);var r=t||l.default(),o=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+o,i.accumulatedTime>10*y&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var a=(i.accumulatedTime-Math.floor(i.accumulatedTime/y)*y)/y,s=Math.floor(i.accumulatedTime/y),c=g(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,n,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),f=c[0],p=c[1],d=c[2],m=c[3],b=c[4],_=0;_<f.length;_++){var x=f[_].style,w={},E={},S={},k={};for(var O in x)if(Object.prototype.hasOwnProperty.call(x,O)){var C=x[O];if("number"===typeof C)w[O]=C,E[O]=0,S[O]=C,k[O]=0;else{for(var P=m[_][O],T=b[_][O],M=0;M<s;M++){var A=u.default(y/1e3,P,T,C.val,C.stiffness,C.damping,C.precision);P=A[0],T=A[1]}var I=u.default(y/1e3,P,T,C.val,C.stiffness,C.damping,C.precision),j=I[0],R=I[1];w[O]=P+(j-P)*a,E[O]=T+(R-T)*a,S[O]=P,k[O]=T}}m[_]=S,b[_]=k,p[_]=w,d[_]=E}i.animationID=null,i.accumulatedTime-=s*y,i.setState({currentStyles:p,currentVelocities:d,lastIdealStyles:m,lastIdealVelocities:b,mergedPropsStyles:f}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"propTypes",value:{defaultStyles:d.default.arrayOf(d.default.shape({key:d.default.string.isRequired,data:d.default.any,style:d.default.objectOf(d.default.number).isRequired})),styles:d.default.oneOfType([d.default.func,d.default.arrayOf(d.default.shape({key:d.default.string.isRequired,data:d.default.any,style:d.default.objectOf(d.default.oneOfType([d.default.number,d.default.object])).isRequired}))]).isRequired,children:d.default.func.isRequired,willEnter:d.default.func,willLeave:d.default.func,didLeave:d.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(t){return s.default(t.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),e.prototype.defaultState=function(){var t=this.props,e=t.defaultStyles,n=t.styles,r=t.willEnter,i=t.willLeave,o=t.didLeave,u="function"===typeof n?n(e):n,c=void 0;c=null==e?u:e.map((function(t){for(var e=0;e<u.length;e++)if(u[e].key===t.key)return u[e];return t}));var l=null==e?u.map((function(t){return s.default(t.style)})):e.map((function(t){return s.default(t.style)})),f=null==e?u.map((function(t){return a.default(t.style)})):e.map((function(t){return a.default(t.style)})),h=g(r,i,o,c,u,l,f,l,f),p=h[0];return{currentStyles:h[1],currentVelocities:h[2],lastIdealStyles:h[3],lastIdealVelocities:h[4],mergedPropsStyles:p}},e.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},e.prototype.componentWillReceiveProps=function(t){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var e=t.styles;this.unreadPropStyles="function"===typeof e?e(v(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):e,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},e.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(f.default.cancel(this.animationID),this.animationID=null)},e.prototype.render=function(){var t=v(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),e=this.props.children(t);return e&&p.default.Children.only(e)},e}(p.default.Component);e.default=m,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){for(var r={},i=0;i<t.length;i++)r[t[i].key]=i;var o={};for(i=0;i<e.length;i++)o[e[i].key]=i;var a=[];for(i=0;i<e.length;i++)a[i]=e[i];for(i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(o,t[i].key)){var s=n(i,t[i]);null!=s&&a.push(s)}return a.sort((function(t,n){var i=o[t.key],a=o[n.key],s=r[t.key],u=r[n.key];if(null!=i&&null!=a)return o[t.key]-o[n.key];if(null!=s&&null!=u)return r[t.key]-r[n.key];if(null!=i){for(var c=0;c<e.length;c++){var l=e[c].key;if(Object.prototype.hasOwnProperty.call(r,l)){if(i<o[l]&&u>r[l])return-1;if(i>o[l]&&u<r[l])return 1}}return 1}for(c=0;c<e.length;c++){l=e[c].key;if(Object.prototype.hasOwnProperty.call(r,l)){if(a<o[l]&&s>r[l])return 1;if(a>o[l]&&s<r[l])return-1}}return-1}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(t,e){return r({},s,e,{val:t})};var i,o=n(476),a=(i=o)&&i.__esModule?i:{default:i},s=r({},a.default.noWobble,{precision:.01});t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){0};t.exports=e.default},function(t,e,n){var r=n(251),i=n(479),o=n(481),a=n(746),s=n(107),u=n(218),c=n(489);t.exports=function t(e,n,l,f,h){e!==n&&o(n,(function(o,u){if(h||(h=new r),s(o))a(e,n,u,l,t,f,h);else{var p=f?f(c(e,u),o,u+"",e,n,h):void 0;void 0===p&&(p=o),i(e,u,p)}}),u)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(253),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(253);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(253);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(253);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(252);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(252),i=n(347),o=n(348);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(83),i=n(730),o=n(107),a=n(478),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r=n(184),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(731),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(106)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(734),i=n(252),o=n(347);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(735),i=n(736),o=n(737),a=n(738),s=n(739);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(254);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(254),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(254),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(254);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(255);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(255);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(255);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(255);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(479),i=n(482),o=n(483),a=n(485),s=n(486),u=n(256),c=n(66),l=n(488),f=n(257),h=n(83),p=n(107),d=n(92),y=n(354),v=n(489),g=n(751);t.exports=function(t,e,n,m,b,_,x){var w=v(t,n),E=v(e,n),S=x.get(E);if(S)r(t,n,S);else{var k=_?_(w,E,n+"",t,e,x):void 0,O=void 0===k;if(O){var C=c(E),P=!C&&f(E),T=!C&&!P&&y(E);k=E,C||P||T?c(w)?k=w:l(w)?k=a(w):P?(O=!1,k=i(E,!0)):T?(O=!1,k=o(E,!0)):k=[]:d(E)||u(E)?(k=w,u(w)?k=g(w):p(w)&&!h(w)||(k=s(E))):O=!1}O&&(x.set(E,k),b(k,E,m,_,x),x.delete(E)),r(t,n,k)}}},function(t,e,n){var r=n(107),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(120),i=n(88);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(120),i=n(353),o=n(88),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(187),i=n(218);t.exports=function(t){return r(t,i(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(107),i=n(352),o=n(754),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(356),i=n(493);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e}))}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(758),i=n(480),o=n(260),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(761),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(762);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(348);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(764);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(184),i=n(262),o=n(66),a=n(261),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},function(t,e,n){var r=n(358),i=n(495),o=n(496),a=n(262),s=n(186),u=n(359);t.exports=function(t,e,n,c){var l=-1,f=i,h=!0,p=t.length,d=[],y=e.length;if(!p)return d;n&&(e=a(e,s(n))),c?(f=o,h=!1):e.length>=200&&(f=u,h=!1,e=new r(e));t:for(;++l<p;){var v=t[l],g=null==n?v:n(v);if(v=c||0!==v?v:0,h&&g===g){for(var m=y;m--;)if(e[m]===g)continue t;d.push(v)}else f(e,g,c)||d.push(v)}return d}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(769),i=n(770),o=n(771);t.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e){t.exports=function(t){return t!==t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){return"string"===typeof t?t:t?t.displayName||t.name||"Component":void 0};e.default=r},function(t,e,n){"use strict";var r=n(108);e.__esModule=!0,e.default=void 0;var i=n(1),o=(r(n(124)),r(n(190)),function(t){return function(e){var n=(0,i.createFactory)(e);return function(e){return n(t(e))}}});e.default=o},function(t,e,n){var r=n(251),i=n(498),o=n(776),a=n(778),s=n(263),u=n(66),c=n(257),l=n(354),f="[object Arguments]",h="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,y,v,g){var m=u(t),b=u(e),_=m?h:s(t),x=b?h:s(e),w=(_=_==f?p:_)==p,E=(x=x==f?p:x)==p,S=_==x;if(S&&c(t)){if(!c(e))return!1;m=!0,w=!1}if(S&&!w)return g||(g=new r),m||l(t)?i(t,e,n,y,v,g):o(t,e,_,n,y,v,g);if(!(1&n)){var k=w&&d.call(t,"__wrapped__"),O=E&&d.call(e,"__wrapped__");if(k||O){var C=k?t.value():t,P=O?e.value():e;return g||(g=new r),v(C,P,n,y,g)}}return!!S&&(g||(g=new r),a(t,e,n,y,v,g))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(184),i=n(484),o=n(217),a=n(498),s=n(777),u=n(361),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,f,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var d=1&r;if(p||(p=u),t.size!=e.size&&!d)return!1;var y=h.get(t);if(y)return y==e;r|=2,h.set(t,e);var v=a(p(t),p(e),r,c,f,h);return h.delete(t),v;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(499),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var u=1&n,c=r(t),l=c.length;if(l!=r(e).length&&!u)return!1;for(var f=l;f--;){var h=c[f];if(!(u?h in e:i.call(e,h)))return!1}var p=s.get(t),d=s.get(e);if(p&&d)return p==e&&d==t;var y=!0;s.set(t,e),s.set(e,t);for(var v=u;++f<l;){var g=t[h=c[f]],m=e[h];if(o)var b=u?o(m,g,h,e,t,s):o(g,m,h,t,e,s);if(!(void 0===b?g===m||a(g,m,n,o,s):b)){y=!1;break}v||(v="constructor"==h)}if(y&&!v){var _=t.constructor,x=e.constructor;_==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(y=!1)}return s.delete(t),s.delete(e),y}},function(t,e,n){var r=n(352),i=n(780),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(487)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(154)(n(106),"DataView");t.exports=r},function(t,e,n){var r=n(154)(n(106),"Promise");t.exports=r},function(t,e,n){var r=n(154)(n(106),"WeakMap");t.exports=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n};e.default=r},function(t,e,n){var r=n(786),i=n(505);t.exports=function(t,e){return r(t,e,(function(e,n){return i(t,n)}))}},function(t,e,n){var r=n(219),i=n(494),o=n(188);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=r(t,c);n(l,c)&&i(u,o(c,t),l)}return u}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(188),i=n(256),o=n(66),a=n(259),s=n(353),u=n(189);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var h=u(e[c]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(h,l)&&(o(t)||i(t))}},function(t,e,n){var r=n(507);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(184),i=n(256),o=n(66),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e,n){var r=n(503),i=n(792),o=n(361),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(794),i=n(795),o=n(510);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(251),i=n(360);t.exports=function(t,e,n,o){var a=n.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var l=(c=n[a])[0],f=t[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in t))return!1}else{var p=new r;if(o)var d=o(f,h,l,t,e,p);if(!(void 0===d?i(h,f,3,o,p):d))return!1}}return!0}},function(t,e,n){var r=n(509),i=n(220);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(360),i=n(71),o=n(505),a=n(357),s=n(509),u=n(510),c=n(189);t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},function(t,e,n){var r=n(798),i=n(799),o=n(357),a=n(189);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(219);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(262),i=n(219),o=n(364),a=n(801),s=n(804),u=n(186),c=n(805),l=n(260),f=n(66);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return f(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[l];var h=-1;e=r(e,u(o));var p=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++h,value:t}}));return s(p,(function(t,e){return c(t,e,n)}))}},function(t,e,n){var r=n(511),i=n(185);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},function(t,e,n){var r=n(481),i=n(220);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(185);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(806);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,u=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(261);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t===t,a=r(t),s=void 0!==e,u=null===e,c=e===e,l=r(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!l&&t<e||l&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}},function(t,e,n){var r=n(120),i=n(88);t.exports=function(t){return i(t)&&"[object Date]"==r(t)}},function(t,e,n){"use strict";var r=n(108);e.__esModule=!0,e.default=void 0;var i=r(n(62)),o=n(1),a=(r(n(124)),r(n(190)),function(t){return function(e){var n=(0,o.createFactory)(e);return function(e){function r(){return e.apply(this,arguments)||this}(0,i.default)(r,e);var o=r.prototype;return o.shouldComponentUpdate=function(e){return t(this.props,e)},o.render=function(){return n(this.props)},r}(o.Component)}});e.default=a},function(t,e,n){var r=n(511);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},function(t,e,n){var r=n(251),i=n(811),o=n(355),a=n(812),s=n(813),u=n(482),c=n(485),l=n(814),f=n(815),h=n(499),p=n(513),d=n(263),y=n(816),v=n(817),g=n(486),m=n(66),b=n(257),_=n(821),x=n(107),w=n(823),E=n(220),S=n(218),k="[object Arguments]",O="[object Function]",C="[object Object]",P={};P[k]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[C]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[O]=P["[object WeakMap]"]=!1,t.exports=function t(e,n,T,M,A,I){var j,R=1&n,D=2&n,N=4&n;if(T&&(j=A?T(e,M,A,I):T(e)),void 0!==j)return j;if(!x(e))return e;var L=m(e);if(L){if(j=y(e),!R)return c(e,j)}else{var z=d(e),F=z==O||"[object GeneratorFunction]"==z;if(b(e))return u(e,R);if(z==C||z==k||F&&!A){if(j=D||F?{}:g(e),!R)return D?f(e,s(j,e)):l(e,a(j,e))}else{if(!P[z])return A?e:{};j=v(e,z,R)}}I||(I=new r);var B=I.get(e);if(B)return B;I.set(e,j),w(e)?e.forEach((function(r){j.add(t(r,n,T,r,e,I))})):_(e)&&e.forEach((function(r,i){j.set(i,t(r,n,T,i,e,I))}));var U=L?void 0:(N?D?p:h:D?S:E)(e);return i(U||e,(function(r,i){U&&(r=e[i=r]),o(j,i,t(r,n,T,i,e,I))})),j}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(187),i=n(220);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(187),i=n(218);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(187),i=n(363);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(187),i=n(512);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(350),i=n(818),o=n(819),a=n(820),s=n(483);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Set]":return new u;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(350);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(184),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(822),i=n(186),o=n(258),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(263),i=n(88);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(824),i=n(186),o=n(258),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(263),i=n(88);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},function(t,e,n){var r=n(188),i=n(27),o=n(826),a=n(189);t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[a(i(e))]}},function(t,e,n){var r=n(219),i=n(827);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},function(t,e,n){var r=n(92);t.exports=function(t){return r(t)?void 0:t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(31);e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.mapStateToProps,i=e.mapDispatchToProps;return(0,r.connect)(n,i)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(31),i=n(297);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.mapStateToProps,o=void 0===n?function(){return{}}:n,s=e.mapDispatchToProps,u=void 0===s?null:s,c=function(t,e){return a(a({},o(t,e)),{},{falcorCache:t.falcorCache})};return(0,r.connect)(c,u)((0,i.reduxFalcor)(t))}},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.falcorCache=e.updateCache=void 0;var a="redux-falcor::UPDATE";e.updateCache=function(t){return function(e){return Promise.resolve(e({type:a,falcorCache:t}))}};e.falcorCache=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===a?i({},e.falcorCache):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(47);e.default=function(t){return(0,r.withRouter)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(367);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.position,r=void 0===n?"fixed":n;return i.default.forwardRef((function(n,o){var c=n.children,l=s(n,["children"]);return i.default.createElement(i.default.Fragment,null,i.default.createElement(t,a({},l,{ref:o}),c,l.loading&&"absolute"===r?i.default.createElement(u,e):null),l.loading&&"fixed"===r?i.default.createElement(u,e):null)}))};var u=i.default.memo((function(t){var e=t.color,n=t.position,r=void 0===n?"fixed":n,a=t.className,s=void 0===a?"":a,u=t.scale,c=void 0===u?1:u;return i.default.createElement("div",{className:"\n    ".concat(r," left-0 top-0 right-0 bottom-0\n    flex justify-center items-center z-50 bg-black opacity-50\n    ").concat(s,"\n  ")},i.default.createElement(o.ScalableLoading,{scale:c,color:e}))}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(155),a=n(61);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f=function(t){var e=t.comp,n=void 0===e?null:e,r=t.type,i=void 0===r?"button":r,a=l(t,["comp","type"]);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({Comp:n||("link"===i?o.LinkButton:o.Button),type:i},a)},h=function(t){var e=t.title,n=t.breadcrumbs,r=t.subtitle,o=t.actions,u=void 0===o?[]:o,c=(0,a.useTheme)();return i.default.createElement("header",{className:"".concat(c.headerBg," ").concat(c.ySpace," ").concat(c.headerShadow," px-4 sm:px-6 lg:px-8")},n?i.default.createElement("div",null,i.default.createElement("nav",{className:"sm:hidden"}),i.default.createElement("nav",{className:"hidden sm:flex items-center text-sm leading-5 font-medium"})):null,i.default.createElement("div",{className:"".concat(c.contentWidth," md:flex md:items-center md:justify-between")},i.default.createElement("div",{className:"flex-1 min-w-0"},i.default.createElement("h2",{className:"text-2xl font-bold leading-7 ".concat(c.text," sm:text-3xl sm:leading-9 sm:truncate")},e),r?i.default.createElement("div",{className:"mt-1 flex flex-col sm:mt-0 sm:flex-row sm:flex-wrap"}):null),i.default.createElement("div",{className:"mt-4 flex-shrink-0 flex md:mt-0 md:ml-4"},u.map(f).map((function(t,e){var n=t.Comp,r=l(t,["Comp"]);return i.default.createElement(n,s({className:"ml-2",key:e},r))})))))};e.default=h},function(t,e,n){"use strict";var r=60103,i=60106,o=60107,a=60108,s=60114,u=60109,c=60110,l=60112,f=60113,h=60120,p=60115,d=60116,y=60121,v=60122,g=60117,m=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var _=Symbol.for;r=_("react.element"),i=_("react.portal"),o=_("react.fragment"),a=_("react.strict_mode"),s=_("react.profiler"),u=_("react.provider"),c=_("react.context"),l=_("react.forward_ref"),f=_("react.suspense"),h=_("react.suspense_list"),p=_("react.memo"),d=_("react.lazy"),y=_("react.block"),v=_("react.server.block"),g=_("react.fundamental"),m=_("react.debug_trace_mode"),b=_("react.legacy_hidden")}function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case o:case s:case a:case f:case h:return t;default:switch(t=t&&t.$$typeof){case c:case l:case d:case p:case u:return t;default:return e}}case i:return e}}}var w=u,E=r,S=l,k=o,O=d,C=p,P=i,T=s,M=a,A=f;e.ContextConsumer=c,e.ContextProvider=w,e.Element=E,e.ForwardRef=S,e.Fragment=k,e.Lazy=O,e.Memo=C,e.Portal=P,e.Profiler=T,e.StrictMode=M,e.Suspense=A,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return x(t)===c},e.isContextProvider=function(t){return x(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return x(t)===l},e.isFragment=function(t){return x(t)===o},e.isLazy=function(t){return x(t)===d},e.isMemo=function(t){return x(t)===p},e.isPortal=function(t){return x(t)===i},e.isProfiler=function(t){return x(t)===s},e.isStrictMode=function(t){return x(t)===a},e.isSuspense=function(t){return x(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===s||t===m||t===a||t===f||t===h||t===b||"object"===typeof t&&null!==t&&(t.$$typeof===d||t.$$typeof===p||t.$$typeof===u||t.$$typeof===c||t.$$typeof===l||t.$$typeof===g||t.$$typeof===y||t[0]===v)},e.typeOf=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Content=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(61);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}e.Content=function(t){var e=t.children,n=s(t,["children"]),r=(0,o.useTheme)();return i.default.createElement("div",a({},n,{className:"mx-auto ".concat(r.contentWidth," ").concat(r.contentPadding)}),e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormSection=e.InputContainer=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};e.InputContainer=function(t){var e=t.classes,n=void 0===e?"col-span-6":e,r=t.label,o=t.children;return i.default.createElement("div",{className:n},i.default.createElement("label",{htmlFor:"first_name",className:"block text-sm font-medium leading-5 text-gray-700"},r),o)};e.FormSection=function(t){t.title,t.info,t.inputs,t.state,t.onChange;var e=t.children;return i.default.createElement("div",{className:"max-w-7xl mx-auto pt-6"},i.default.createElement("div",{className:"bg-white shadow-md px-4 pt-3 pb-5 sm:rounded-sm sm:p-6"},i.default.createElement("div",{className:"md:grid md:grid-cols-3 md:gap-6"},i.default.createElement("div",{className:"md:mt-0 md:col-span-3 border border-red-600"},i.default.createElement("div",{className:"grid grid-cols-6 gap-6"},e)))))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.ListItemAction=e.ListItemRemovable=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};var o=function(){};e.ListItemRemovable=function(t){var e=t.item,n=t.remove,r=void 0===n?o:n;return i.default.createElement("li",null,i.default.createElement("div",{className:"block hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition duration-150 ease-in-out"},i.default.createElement("div",{className:"flex items-center px-4 py-4 sm:px-6"},i.default.createElement("div",{className:"min-w-0 flex-1 flex items-center"},i.default.createElement("div",{className:"min-w-0 flex-1 px-4 md:grid md:grid-cols-1 md:gap-4"},i.default.createElement("div",null,i.default.createElement("div",{className:"text-lg leading-5 font-dark text-gray-600 truncate"},e)))),i.default.createElement("div",null,i.default.createElement("svg",{className:"h-5 w-5 text-gray-400 hover:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",onClick:r},i.default.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))))))};e.ListItemAction=function(t){var e=t.item,n=t.action;t.remove;return i.default.createElement("li",null,i.default.createElement("div",{className:"block hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition duration-150 ease-in-out"},i.default.createElement("div",{className:"flex items-center px-4 py-4 sm:px-6"},i.default.createElement("div",{className:"min-w-0 flex-1 flex items-center"},i.default.createElement("div",{className:"min-w-0 flex-1 px-4 md:grid md:grid-cols-1 md:gap-4"},i.default.createElement("div",null,i.default.createElement("div",{className:"text-lg leading-5 font-dark text-gray-600 truncate"},e)))),i.default.createElement("div",{className:"flex"},n))))};e.List=function(t){var e=t.children,n=t.className;return i.default.createElement("div",{className:"bg-white overflow-hidden sm:rounded-md ".concat(n)},i.default.createElement("ul",null,e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NavMenuSeparator=e.NavMenuItem=e.NavMenu=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(46),a=n(134),s=n(61);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.NavMenu=function(t){var e=t.control,n=t.children,r=u(i.default.useState(!1),2),o=r[0],c=r[1],l=i.default.useCallback((function(){return c(!1)}),[]),f=u((0,a.useClickOutside)(l),1)[0],h=(0,s.useTheme)();return i.default.createElement("div",{className:"".concat(h.navMenu," ").concat(o?h.navMenuOpen:""),onMouseEnter:function(t){return c(!0)},onMouseLeave:function(t){return c(!1)},ref:f},i.default.createElement("div",{className:"h-full ".concat(o?" text-right border-b border-blue-100":"text-right")},e),o?i.default.createElement("div",{className:"".concat(h.navMenuBg," p-4 ")},n):null)};e.NavMenuItem=function(t){var e=t.to,n=void 0===e?"#":e,r=t.children,a=(0,s.useTheme)();return i.default.createElement(o.Link,{to:n},i.default.createElement("div",{className:"".concat(a.transition," ").concat(a.navMenuItem)},r))};e.NavMenuSeparator=function(){return i.default.createElement("div",{className:"border-b-2 my-1"})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};var o={Blank:i.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:""}),HomeOutline:i.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),UsergroupOutline:i.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}),PlusCircleOutline:i.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}),SearchOutline:i.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}),Folder:i.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"}),Calendar:i.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),Envelope:i.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"}),Graph:i.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}),User:i.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"}),Bell:i.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})};e.default=function(t){var e=t.icon,n=t.className;t.showBlank;return o[e]?i.default.createElement("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:n},o[e]||null):i.default.createElement("div",{className:"".concat(n," flex justify-center items-center")},i.default.createElement("span",{className:e}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(842),a=n(155),s=n(221),u=n(61);function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f=function(t){var e=t.column,n=e.filterValue,r=void 0===n?"":n,o=e.setFilter,a=(0,u.useTheme)();return i.default.createElement("div",{className:"w-3/4"},i.default.createElement("input",{className:a.inputSmall,value:r,onChange:function(t){return o(t.target.value)},onClick:function(t){return t.stopPropagation()},placeholder:"Search..."}))};function h(t,e,n){return(0,s.matchSorter)(t,n,{keys:[function(t){return t.values[e]}]})}var p=function(t){var e=t.values;return i.default.createElement("div",{className:"flex"},e.map((function(t,e){var n=t.key,r=t.value;return i.default.createElement("div",{key:n||"key-".concat(e),className:"flex-1"},n?i.default.createElement("b",null,n,":"):null,i.default.createElement("span",{className:"ml-1"},r))})))};e.default=function(t){var e=t.columns,n=void 0===e?[]:e,r=t.sortBy,s=t.sortOrder,d=t.initialPageSize,y=void 0===d?10:d,v=t.data,g=void 0===v?[]:v,m=t.onRowClick,b=t.ExpandRow,_=void 0===b?p:b,x=l(t,["columns","sortBy","sortOrder","initialPageSize","data","onRowClick","ExpandRow"]),w=(0,u.useTheme)(),E=i.default.useMemo((function(){return{fuzzyText:h}}),[]),S=i.default.useMemo((function(){return{Filter:f}}),[]),k=(0,o.useTable)({columns:n,data:g,defaultColumn:S,filterTypes:E,initialState:{pageSize:y,sortBy:[{id:r,desc:"desc"===s}]}},o.useFilters,o.useGlobalFilter,o.useSortBy,o.useExpanded,o.usePagination),O=k.getTableProps,C=k.getTableBodyProps,P=k.headerGroups,T=k.page,M=k.rows,A=k.preFilteredRows,I=k.prepareRow,j=k.canPreviousPage,R=k.canNextPage,D=k.gotoPage,N=k.previousPage,L=k.nextPage,z=k.pageCount,F=k.visibleColumns,B=k.toggleRowExpanded,U=k.state,q=U.pageSize,V=U.pageIndex,G=U.expanded;return A.length?i.default.createElement("div",{className:"overflow-auto scrollbar-sm"},i.default.createElement("table",c({},O(),{className:"w-full"}),i.default.createElement("thead",null,P.map((function(t){return i.default.createElement("tr",t.getHeaderGroupProps(),t.headers.map((function(t){return i.default.createElement("th",c({},t.getHeaderProps(t.getSortByToggleProps()),{className:w.tableHeader}),i.default.createElement("div",{className:"flex"},i.default.createElement("div",{className:"flex-1"},t.render("Header")),t.isSorted?i.default.createElement("div",{className:"flex-0 mr-8"},t.isSortedDesc?i.default.createElement("i",{className:"ml-2 pt-1 fas fa-chevron-down"}):i.default.createElement("i",{className:"ml-2 pt-1 fas fa-chevron-up"})):null),t.canFilter?i.default.createElement("div",null,t.render("Filter")):null)})))})),z<=1?null:i.default.createElement("tr",{className:w.tableInfoBar},i.default.createElement("td",{colSpan:n.length,className:"px-2"},i.default.createElement("div",{className:"flex items-center ".concat(w.textInfo)},i.default.createElement("div",{className:"flex-0"},"Page ",V+1," of ",z,i.default.createElement("span",{className:"font-extrabold"},"\xa0 | \xa0"),"Rows ",V*q+1,"-",Math.min(M.length,V*q+q)," of ",M.length),i.default.createElement("div",{className:"flex-1 flex justify-end items-center"},i.default.createElement(a.Button,{disabled:0===V,buttonTheme:"textbuttonInfoSmall",onClick:function(t){return D(0)}},"<<"),i.default.createElement(a.Button,{disabled:!j,buttonTheme:"textbuttonInfoSmall",onClick:function(t){return N()}},"<"),function(t,e){var n=t-2,r=t+2;n<0&&(r+=-n,n=0),r>e&&(n-=r-e,r=e);for(var i=[],o=Math.max(0,n);o<=Math.min(e,r);++o)i.push(o);return i}(V,z-1).map((function(t){var e=t===V;return i.default.createElement(a.Button,{key:t,buttonTheme:"textbuttonInfo",active:e,large:e,small:!e,onClick:e?null:function(e){return D(t)}},t+1)})),i.default.createElement(a.Button,{disabled:!R,buttonTheme:"textbuttonInfoSmall",onClick:function(t){return L(0)}},">"),i.default.createElement(a.Button,{disabled:V===z-1,buttonTheme:"textbuttonInfoSmall",onClick:function(t){return D(z-1)}},">>")))))),i.default.createElement("tbody",C(),T.map((function(t){var e=t.original,n=e.onClick,r=e.expand,o=void 0===r?[]:r;return I(t),i.default.createElement(i.default.Fragment,{key:t.getRowProps().key},i.default.createElement("tr",c({},t.getRowProps(),{className:"\n                        ".concat(x.striped?w.tableRowStriped:w.tableRow,"\n                        ").concat(n||m?"cursor-pointer":"","\n                      "),onClick:function(e){"function"===typeof m&&m(e,t),"function"===typeof n&&n(e,t)}}),t.cells.map((function(e,n){return i.default.createElement("td",c({},e.getCellProps(),{className:w.tableCell}),n>0||0===t.subRows.length&&0===o.length?e.render("Cell"):i.default.createElement("div",{className:"flex"},i.default.createElement("div",{className:"flex-0"},e.render("Cell")),i.default.createElement("div",{className:"flex-1 flex justify-end"},i.default.createElement("div",{onClick:function(e){e.stopPropagation(),Object.keys(G).filter((function(e){return e!==t.id})).forEach(B),t.toggleRowExpanded(!t.isExpanded)},className:"\n                                          flex item-center justify-center py-1 px-2 rounded\n                                          hover:".concat(w.accent3," ").concat(w.transition,"\n                                        ")},t.isExpanded?i.default.createElement("i",{className:"fas fa-chevron-up"}):i.default.createElement("i",{className:"fas fa-chevron-down"})))))}))),t.isExpanded&&o.length?i.default.createElement("tr",{className:w.tableRow},i.default.createElement("td",{colSpan:F.length,className:w.tableCell},i.default.createElement(_,{values:o}))):null)}))))):null}},function(t,e,n){t.exports=n(843)},function(t,e,n){var r=n(24);!function(t,e){"use strict";function n(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,u,"next",t)}function u(t){n(a,i,o,s,u,"throw",t)}s(void 0)}))}}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function s(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var u={init:"init"},c=function(t){var e=t.value;return void 0===e?"":e},l=function(){return e.createElement(e.Fragment,null,"\xa0")},f={Cell:c,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function h(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){var n=e.style,r=e.className;return t=o({},t,{},a(e,["style","className"])),n&&(t.style=t.style?o({},t.style||{},{},n||{}):n),r&&(t.className=t.className?t.className+" "+r:r),""===t.className&&delete t.className,t}),{})}var p=function(t,e){return void 0===e&&(e={}),function(n){return void 0===n&&(n={}),[].concat(t,[n]).reduce((function(t,r){return function t(e,n,r){return"function"==typeof n?t({},n(e,r)):Array.isArray(n)?h.apply(void 0,[e].concat(n)):h(e,n)}(t,r,o({},e,{userProps:n}))}),{})}},d=function(t,e,n,r){return void 0===n&&(n={}),t.reduce((function(t,e){return e(t,n)}),e)},y=function(t,e,n){return void 0===n&&(n={}),t.forEach((function(t){t(e,n)}))};function v(t,e,n,r){t.findIndex((function(t){return t.pluginName===n})),e.forEach((function(e){t.findIndex((function(t){return t.pluginName===e}))}))}function g(t,e){return"function"==typeof t?t(e):t}function m(t){var n=e.useRef();return n.current=t,e.useCallback((function(){return n.current}),[])}var b="undefined"!=typeof document?e.useLayoutEffect:e.useEffect;function _(t,n){var r=e.useRef(!1);b((function(){r.current&&t(),r.current=!0}),n)}function x(t,e,n){return void 0===n&&(n={}),function(r,i){void 0===i&&(i={});var a="string"==typeof r?e[r]:r;if(void 0===a)throw console.info(e),new Error("Renderer Error \u261d\ufe0f");return w(a,o({},t,{column:e},n,{},i))}}function w(t,n){return function(t){return"function"==typeof t&&(e=Object.getPrototypeOf(t)).prototype&&e.prototype.isReactComponent;var e}(r=t)||"function"==typeof r||function(t){return"object"==typeof t&&"symbol"==typeof t.$$typeof&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}(r)?e.createElement(t,n):t;var r}function E(t,e,n){return void 0===n&&(n=0),t.map((function(t){return k(t=o({},t,{parent:e,depth:n})),t.columns&&(t.columns=E(t.columns,t,n+1)),t}))}function S(t){return A(t,"columns")}function k(t){var e=t.id,n=t.accessor,r=t.Header;if("string"==typeof n){e=e||n;var i=n.split(".");n=function(t){return function(t,e,n){if(!e)return t;var r,i="function"==typeof e?e:JSON.stringify(e),o=P.get(i)||function(){var t=function(t){return function t(e,n){if(void 0===n&&(n=[]),Array.isArray(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n}(t).map((function(t){return String(t).replace(".","_")})).join(".").replace(L,".").replace(z,"").split(".")}(e);return P.set(i,t),t}();try{r=o.reduce((function(t,e){return t[e]}),t)}catch(t){}return void 0!==r?r:n}(t,i)}}if(!e&&"string"==typeof r&&r&&(e=r),!e&&t.columns)throw console.error(t),new Error('A column ID (or unique "Header" value) is required!');if(!e)throw console.error(t),new Error("A column ID (or string accessor) is required!");return Object.assign(t,{id:e,accessor:n}),t}function O(t,e){if(!e)throw new Error;return Object.assign(t,o({Header:l,Footer:l},f,{},e,{},t)),Object.assign(t,{originalWidth:t.width}),t}function C(t,e,n){void 0===n&&(n=function(){return{}});for(var r=[],i=t,a=0,s=function(){return a++},u=function(){var t={headers:[]},a=[],u=i.some((function(t){return t.parent}));i.forEach((function(r){var i,c=[].concat(a).reverse()[0];u&&(i=r.parent?o({},r.parent,{originalId:r.parent.id,id:r.parent.id+"_"+s(),headers:[r]},n(r)):O(o({originalId:r.id+"_placeholder",id:r.id+"_placeholder_"+s(),placeholderOf:r,headers:[r]},n(r)),e),c&&c.originalId===i.originalId?c.headers.push(r):a.push(i)),t.headers.push(r)})),r.push(t),i=a};i.length;)u();return r.reverse()}var P=new Map;function T(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<e.length;r+=1)if(void 0!==e[r])return e[r]}function M(t){if("function"==typeof t)return t}function A(t,e){var n=[];return function t(r){r.forEach((function(r){r[e]?t(r[e]):n.push(r)}))}(t),n}function I(t,e){var n=e.manualExpandedKey,r=e.expanded,i=e.expandSubRows,o=void 0===i||i,a=[];return t.forEach((function(t){return function t(e,i){void 0===i&&(i=!0),e.isExpanded=e.original&&e.original[n]||r[e.id],e.canExpand=e.subRows&&!!e.subRows.length,i&&a.push(e),e.subRows&&e.subRows.length&&e.isExpanded&&e.subRows.forEach((function(e){return t(e,o)}))}(t)})),a}function j(t,e,n){return M(t)||e[t]||n[t]||n.text}function R(t,e,n){return t?t(e,n):void 0===e}function D(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var N=null,L=/\[/g,z=/\]/g,F=function(t){return o({role:"table"},t)},B=function(t){return o({role:"rowgroup"},t)},U=function(t,e){var n=e.column;return o({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},t)},q=function(t,e){var n=e.column;return o({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},t)},V=function(t,e){return o({key:"headerGroup_"+e.index,role:"row"},t)},G=function(t,e){return o({key:"footerGroup_"+e.index},t)},W=function(t,e){return o({key:"row_"+e.row.id,role:"row"},t)},H=function(t,e){var n=e.cell;return o({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},t)};function K(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[F],getTableBodyProps:[B],getHeaderGroupProps:[V],getFooterGroupProps:[G],getHeaderProps:[U],getFooterProps:[q],getRowProps:[W],getCellProps:[H],useFinalInstance:[]}}u.resetHiddenColumns="resetHiddenColumns",u.toggleHideColumn="toggleHideColumn",u.setHiddenColumns="setHiddenColumns",u.toggleHideAllColumns="toggleHideAllColumns";var X=function(t){t.getToggleHiddenProps=[Y],t.getToggleHideAllColumnsProps=[Z],t.stateReducers.push($),t.useInstanceBeforeDimensions.push(J),t.headerGroupsDeps.push((function(t,e){var n=e.instance;return[].concat(t,[n.state.hiddenColumns])})),t.useInstance.push(Q)};X.pluginName="useColumnVisibility";var Y=function(t,e){var n=e.column;return[t,{onChange:function(t){n.toggleHidden(!t.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},Z=function(t,e){var n=e.instance;return[t,{onChange:function(t){n.toggleHideAllColumns(!t.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function $(t,e,n,r){if(e.type===u.init)return o({hiddenColumns:[]},t);if(e.type===u.resetHiddenColumns)return o({},t,{hiddenColumns:r.initialState.hiddenColumns||[]});if(e.type===u.toggleHideColumn){var i=(void 0!==e.value?e.value:!t.hiddenColumns.includes(e.columnId))?[].concat(t.hiddenColumns,[e.columnId]):t.hiddenColumns.filter((function(t){return t!==e.columnId}));return o({},t,{hiddenColumns:i})}return e.type===u.setHiddenColumns?o({},t,{hiddenColumns:g(e.value,t.hiddenColumns)}):e.type===u.toggleHideAllColumns?o({},t,{hiddenColumns:(void 0!==e.value?e.value:!t.hiddenColumns.length)?r.allColumns.map((function(t){return t.id})):[]}):void 0}function J(t){var n=t.headers,r=t.state.hiddenColumns;e.useRef(!1).current;var i=0;n.forEach((function(t){return i+=function t(e,n){e.isVisible=n&&!r.includes(e.id);var i=0;return e.headers&&e.headers.length?e.headers.forEach((function(n){return i+=t(n,e.isVisible)})):i=e.isVisible?1:0,e.totalVisibleHeaderCount=i,i}(t,!0)}))}function Q(t){var n=t.columns,r=t.flatHeaders,i=t.dispatch,o=t.allColumns,a=t.getHooks,s=t.state.hiddenColumns,c=t.autoResetHiddenColumns,l=void 0===c||c,f=m(t),h=o.length===s.length,d=e.useCallback((function(t,e){return i({type:u.toggleHideColumn,columnId:t,value:e})}),[i]),y=e.useCallback((function(t){return i({type:u.setHiddenColumns,value:t})}),[i]),v=e.useCallback((function(t){return i({type:u.toggleHideAllColumns,value:t})}),[i]),g=p(a().getToggleHideAllColumnsProps,{instance:f()});r.forEach((function(t){t.toggleHidden=function(e){i({type:u.toggleHideColumn,columnId:t.id,value:e})},t.getToggleHiddenProps=p(a().getToggleHiddenProps,{instance:f(),column:t})}));var b=m(l);_((function(){b()&&i({type:u.resetHiddenColumns})}),[i,n]),Object.assign(t,{allColumnsHidden:h,toggleHideColumn:d,setHiddenColumns:y,toggleHideAllColumns:v,getToggleHideAllColumnsProps:g})}var tt={},et={},nt=function(t,e,n){return t},rt=function(t,e){return t.subRows||[]},it=function(t,e,n){return""+(n?[n.id,e].join("."):e)},ot=function(t){return t};function at(t){var e=t.initialState,n=void 0===e?tt:e,r=t.defaultColumn,i=void 0===r?et:r,s=t.getSubRows,u=void 0===s?rt:s,c=t.getRowId,l=void 0===c?it:c,f=t.stateReducer,h=void 0===f?nt:f,p=t.useControlledState,d=void 0===p?ot:p;return o({},a(t,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:i,getSubRows:u,getRowId:l,stateReducer:h,useControlledState:d})}function st(t,e){void 0===e&&(e=0);var n=0,r=0,i=0,o=0;return t.forEach((function(t){var a=t.headers;if(t.totalLeft=e,a&&a.length){var s=st(a,e),u=s[0],c=s[1],l=s[2],f=s[3];t.totalMinWidth=u,t.totalWidth=c,t.totalMaxWidth=l,t.totalFlexWidth=f}else t.totalMinWidth=t.minWidth,t.totalWidth=Math.min(Math.max(t.minWidth,t.width),t.maxWidth),t.totalMaxWidth=t.maxWidth,t.totalFlexWidth=t.canResize?t.totalWidth:0;t.isVisible&&(e+=t.totalWidth,n+=t.totalMinWidth,r+=t.totalWidth,i+=t.totalMaxWidth,o+=t.totalFlexWidth)})),[n,r,i,o]}function ut(t){var e=t.data,n=t.rows,r=t.flatRows,i=t.rowsById,o=t.column,a=t.getRowId,s=t.getSubRows,u=t.accessValueHooks,c=t.getInstance;e.forEach((function(t,l){return function t(n,l,f,h,p){void 0===f&&(f=0);var y=n,v=a(n,l,h),g=i[v];if(g)g.subRows&&g.originalSubRows.forEach((function(e,n){return t(e,n,f+1,g)}));else if((g={id:v,original:y,index:l,depth:f,cells:[{}]}).cells.map=D,g.cells.filter=D,g.cells.forEach=D,g.cells[0].getCellProps=D,g.values={},p.push(g),r.push(g),i[v]=g,g.originalSubRows=s(n,l),g.originalSubRows){var m=[];g.originalSubRows.forEach((function(e,n){return t(e,n,f+1,g,m)})),g.subRows=m}o.accessor&&(g.values[o.id]=o.accessor(n,l,g,p,e)),g.values[o.id]=d(u,g.values[o.id],{row:g,column:o,instance:c()})}(t,l,0,void 0,n)}))}u.resetExpanded="resetExpanded",u.toggleRowExpanded="toggleRowExpanded",u.toggleAllRowsExpanded="toggleAllRowsExpanded";var ct=function(t){t.getToggleAllRowsExpandedProps=[lt],t.getToggleRowExpandedProps=[ft],t.stateReducers.push(ht),t.useInstance.push(pt),t.prepareRow.push(dt)};ct.pluginName="useExpanded";var lt=function(t,e){var n=e.instance;return[t,{onClick:function(t){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},ft=function(t,e){var n=e.row;return[t,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function ht(t,e,n,r){if(e.type===u.init)return o({expanded:{}},t);if(e.type===u.resetExpanded)return o({},t,{expanded:r.initialState.expanded||{}});if(e.type===u.toggleAllRowsExpanded){var i=e.value,c=r.isAllRowsExpanded,l=r.rowsById;if(void 0!==i?i:!c){var f={};return Object.keys(l).forEach((function(t){f[t]=!0})),o({},t,{expanded:f})}return o({},t,{expanded:{}})}if(e.type===u.toggleRowExpanded){var h,p=e.id,d=e.value,y=t.expanded[p],v=void 0!==d?d:!y;if(!y&&v)return o({},t,{expanded:o({},t.expanded,(h={},h[p]=!0,h))});if(y&&!v){var g=t.expanded;return g[p],o({},t,{expanded:a(g,[p].map(s))})}return t}}function pt(t){var n=t.data,r=t.rows,i=t.rowsById,o=t.manualExpandedKey,a=void 0===o?"expanded":o,s=t.paginateExpandedRows,c=void 0===s||s,l=t.expandSubRows,f=void 0===l||l,h=t.autoResetExpanded,d=void 0===h||h,y=t.getHooks,g=t.plugins,b=t.state.expanded,x=t.dispatch;v(g,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var w=m(d),E=Boolean(Object.keys(i).length&&Object.keys(b).length);E&&Object.keys(i).some((function(t){return!b[t]}))&&(E=!1),_((function(){w()&&x({type:u.resetExpanded})}),[x,n]);var S=e.useCallback((function(t,e){x({type:u.toggleRowExpanded,id:t,value:e})}),[x]),k=e.useCallback((function(t){return x({type:u.toggleAllRowsExpanded,value:t})}),[x]),O=e.useMemo((function(){return c?I(r,{manualExpandedKey:a,expanded:b,expandSubRows:f}):r}),[c,r,a,b,f]),C=e.useMemo((function(){return function(t){var e=0;return Object.keys(t).forEach((function(t){var n=t.split(".");e=Math.max(e,n.length)})),e}(b)}),[b]),P=m(t),T=p(y().getToggleAllRowsExpandedProps,{instance:P()});Object.assign(t,{preExpandedRows:r,expandedRows:O,rows:O,expandedDepth:C,isAllRowsExpanded:E,toggleRowExpanded:S,toggleAllRowsExpanded:k,getToggleAllRowsExpandedProps:T})}function dt(t,e){var n=e.instance.getHooks,r=e.instance;t.toggleRowExpanded=function(e){return r.toggleRowExpanded(t.id,e)},t.getToggleRowExpandedProps=p(n().getToggleRowExpandedProps,{instance:r,row:t})}var yt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return String(r).toLowerCase().includes(String(n).toLowerCase())}))}))};yt.autoRemove=function(t){return!t};var vt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return void 0===r||String(r).toLowerCase()===String(n).toLowerCase()}))}))};vt.autoRemove=function(t){return!t};var gt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return void 0===r||String(r)===String(n)}))}))};gt.autoRemove=function(t){return!t};var mt=function(t,e,n){return t.filter((function(t){return e.some((function(e){return t.values[e].includes(n)}))}))};mt.autoRemove=function(t){return!t||!t.length};var bt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return r&&r.length&&n.every((function(t){return r.includes(t)}))}))}))};bt.autoRemove=function(t){return!t||!t.length};var _t=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return r&&r.length&&n.some((function(t){return r.includes(t)}))}))}))};_t.autoRemove=function(t){return!t||!t.length};var xt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return n.includes(r)}))}))};xt.autoRemove=function(t){return!t||!t.length};var wt=function(t,e,n){return t.filter((function(t){return e.some((function(e){return t.values[e]===n}))}))};wt.autoRemove=function(t){return void 0===t};var Et=function(t,e,n){return t.filter((function(t){return e.some((function(e){return t.values[e]==n}))}))};Et.autoRemove=function(t){return null==t};var St=function(t,e,n){var r=n||[],i=r[0],o=r[1];if((i="number"==typeof i?i:-1/0)>(o="number"==typeof o?o:1/0)){var a=i;i=o,o=a}return t.filter((function(t){return e.some((function(e){var n=t.values[e];return n>=i&&n<=o}))}))};St.autoRemove=function(t){return!t||"number"!=typeof t[0]&&"number"!=typeof t[1]};var kt=Object.freeze({__proto__:null,text:yt,exactText:vt,exactTextCase:gt,includes:mt,includesAll:bt,includesSome:_t,includesValue:xt,exact:wt,equals:Et,between:St});u.resetFilters="resetFilters",u.setFilter="setFilter",u.setAllFilters="setAllFilters";var Ot=function(t){t.stateReducers.push(Ct),t.useInstance.push(Pt)};function Ct(t,e,n,r){if(e.type===u.init)return o({filters:[]},t);if(e.type===u.resetFilters)return o({},t,{filters:r.initialState.filters||[]});if(e.type===u.setFilter){var i=e.columnId,a=e.filterValue,s=r.allColumns,c=r.filterTypes,l=s.find((function(t){return t.id===i}));if(!l)throw new Error("React-Table: Could not find a column with id: "+i);var f=j(l.filter,c||{},kt),h=t.filters.find((function(t){return t.id===i})),p=g(a,h&&h.value);return R(f.autoRemove,p,l)?o({},t,{filters:t.filters.filter((function(t){return t.id!==i}))}):o({},t,h?{filters:t.filters.map((function(t){return t.id===i?{id:i,value:p}:t}))}:{filters:[].concat(t.filters,[{id:i,value:p}])})}if(e.type===u.setAllFilters){var d=e.filters,y=r.allColumns,v=r.filterTypes;return o({},t,{filters:g(d,t.filters).filter((function(t){var e=y.find((function(e){return e.id===t.id}));return!R(j(e.filter,v||{},kt).autoRemove,t.value,e)}))})}}function Pt(t){var n=t.data,r=t.rows,i=t.flatRows,o=t.rowsById,a=t.allColumns,s=t.filterTypes,c=t.manualFilters,l=t.defaultCanFilter,f=void 0!==l&&l,h=t.disableFilters,p=t.state.filters,d=t.dispatch,y=t.autoResetFilters,v=void 0===y||y,g=e.useCallback((function(t,e){d({type:u.setFilter,columnId:t,filterValue:e})}),[d]),b=e.useCallback((function(t){d({type:u.setAllFilters,filters:t})}),[d]);a.forEach((function(t){var e=t.id,n=t.accessor,r=t.defaultCanFilter,i=t.disableFilters;t.canFilter=n?T(!0!==i&&void 0,!0!==h&&void 0,!0):T(r,f,!1),t.setFilter=function(e){return g(t.id,e)};var o=p.find((function(t){return t.id===e}));t.filterValue=o&&o.value}));var x=e.useMemo((function(){if(c||!p.length)return[r,i,o];var t=[],e={};return[function n(r,i){void 0===i&&(i=0);var o=r;return(o=p.reduce((function(t,e){var n=e.id,r=e.value,o=a.find((function(t){return t.id===n}));if(!o)return t;0===i&&(o.preFilteredRows=t);var u=j(o.filter,s||{},kt);return u?(o.filteredRows=u(t,[n],r),o.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+o.id+"."),t)}),r)).forEach((function(r){t.push(r),e[r.id]=r,r.subRows&&(r.subRows=r.subRows&&r.subRows.length>0?n(r.subRows,i+1):r.subRows)})),o}(r),t,e]}),[c,p,r,i,o,a,s]),w=x[0],E=x[1],S=x[2];e.useMemo((function(){a.filter((function(t){return!p.find((function(e){return e.id===t.id}))})).forEach((function(t){t.preFilteredRows=w,t.filteredRows=w}))}),[w,p,a]);var k=m(v);_((function(){k()&&d({type:u.resetFilters})}),[d,c?null:n]),Object.assign(t,{preFilteredRows:r,preFilteredFlatRows:i,preFilteredRowsById:o,filteredRows:w,filteredFlatRows:E,filteredRowsById:S,rows:w,flatRows:E,rowsById:S,setFilter:g,setAllFilters:b})}Ot.pluginName="useFilters",u.resetGlobalFilter="resetGlobalFilter",u.setGlobalFilter="setGlobalFilter";var Tt=function(t){t.stateReducers.push(Mt),t.useInstance.push(At)};function Mt(t,e,n,r){if(e.type===u.resetGlobalFilter)return o({},t,{globalFilter:r.initialState.globalFilter||void 0});if(e.type===u.setGlobalFilter){var i=e.filterValue,s=r.userFilterTypes,c=j(r.globalFilter,s||{},kt),l=g(i,t.globalFilter);return R(c.autoRemove,l)?(t.globalFilter,a(t,["globalFilter"])):o({},t,{globalFilter:l})}}function At(t){var n=t.data,r=t.rows,i=t.flatRows,o=t.rowsById,a=t.allColumns,s=t.filterTypes,c=t.globalFilter,l=t.manualGlobalFilter,f=t.state.globalFilter,h=t.dispatch,p=t.autoResetGlobalFilter,d=void 0===p||p,y=t.disableGlobalFilter,v=e.useCallback((function(t){h({type:u.setGlobalFilter,filterValue:t})}),[h]),g=e.useMemo((function(){if(l||void 0===f)return[r,i,o];var t=[],e={},n=j(c,s||{},kt);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),r;a.forEach((function(t){var e=t.disableGlobalFilter;t.canFilter=T(!0!==e&&void 0,!0!==y&&void 0,!0)}));var u=a.filter((function(t){return!0===t.canFilter}));return[function r(i){return(i=n(i,u.map((function(t){return t.id})),f)).forEach((function(n){t.push(n),e[n.id]=n,n.subRows=n.subRows&&n.subRows.length?r(n.subRows):n.subRows})),i}(r),t,e]}),[l,f,c,s,a,r,i,o,y]),b=g[0],x=g[1],w=g[2],E=m(d);_((function(){E()&&h({type:u.resetGlobalFilter})}),[h,l?null:n]),Object.assign(t,{preGlobalFilteredRows:r,preGlobalFilteredFlatRows:i,preGlobalFilteredRowsById:o,globalFilteredRows:b,globalFilteredFlatRows:x,globalFilteredRowsById:w,rows:b,flatRows:x,rowsById:w,setGlobalFilter:v,disableGlobalFilter:y})}function It(t,e){return e.reduce((function(t,e){return t+("number"==typeof e?e:0)}),0)}Tt.pluginName="useGlobalFilter";var jt=Object.freeze({__proto__:null,sum:It,min:function(t){var e=t[0]||0;return t.forEach((function(t){"number"==typeof t&&(e=Math.min(e,t))})),e},max:function(t){var e=t[0]||0;return t.forEach((function(t){"number"==typeof t&&(e=Math.max(e,t))})),e},minMax:function(t){var e=t[0]||0,n=t[0]||0;return t.forEach((function(t){"number"==typeof t&&(e=Math.min(e,t),n=Math.max(n,t))})),e+".."+n},average:function(t){return It(0,t)/t.length},median:function(t){if(!t.length)return null;var e=Math.floor(t.length/2),n=[].concat(t).sort((function(t,e){return t-e}));return t.length%2!=0?n[e]:(n[e-1]+n[e])/2},unique:function(t){return Array.from(new Set(t).values())},uniqueCount:function(t){return new Set(t).size},count:function(t){return t.length}}),Rt=[],Dt={};u.resetGroupBy="resetGroupBy",u.setGroupBy="setGroupBy",u.toggleGroupBy="toggleGroupBy";var Nt=function(t){t.getGroupByToggleProps=[Lt],t.stateReducers.push(zt),t.visibleColumnsDeps.push((function(t,e){var n=e.instance;return[].concat(t,[n.state.groupBy])})),t.visibleColumns.push(Ft),t.useInstance.push(Ut),t.prepareRow.push(qt)};Nt.pluginName="useGroupBy";var Lt=function(t,e){var n=e.header;return[t,{onClick:n.canGroupBy?function(t){t.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function zt(t,e,n,r){if(e.type===u.init)return o({groupBy:[]},t);if(e.type===u.resetGroupBy)return o({},t,{groupBy:r.initialState.groupBy||[]});if(e.type===u.setGroupBy)return o({},t,{groupBy:e.value});if(e.type===u.toggleGroupBy){var i=e.columnId,a=e.value,s=void 0!==a?a:!t.groupBy.includes(i);return o({},t,s?{groupBy:[].concat(t.groupBy,[i])}:{groupBy:t.groupBy.filter((function(t){return t!==i}))})}}function Ft(t,e){var n=e.instance.state.groupBy,r=n.map((function(e){return t.find((function(t){return t.id===e}))})).filter(Boolean),i=t.filter((function(t){return!n.includes(t.id)}));return(t=[].concat(r,i)).forEach((function(t){t.isGrouped=n.includes(t.id),t.groupedIndex=n.indexOf(t.id)})),t}var Bt={};function Ut(t){var n=t.data,r=t.rows,i=t.flatRows,o=t.rowsById,a=t.allColumns,s=t.flatHeaders,c=t.groupByFn,l=void 0===c?Vt:c,f=t.manualGroupBy,h=t.aggregations,d=void 0===h?Bt:h,y=t.plugins,g=t.state.groupBy,b=t.dispatch,x=t.autoResetGroupBy,w=void 0===x||x,E=t.disableGroupBy,S=t.defaultCanGroupBy,k=t.getHooks;v(y,["useColumnOrder","useFilters"],"useGroupBy");var O=m(t);a.forEach((function(e){var n=e.accessor,r=e.defaultGroupBy,i=e.disableGroupBy;e.canGroupBy=n?T(e.canGroupBy,!0!==i&&void 0,!0!==E&&void 0,!0):T(e.canGroupBy,r,S,!1),e.canGroupBy&&(e.toggleGroupBy=function(){return t.toggleGroupBy(e.id)}),e.Aggregated=e.Aggregated||e.Cell}));var C=e.useCallback((function(t,e){b({type:u.toggleGroupBy,columnId:t,value:e})}),[b]),P=e.useCallback((function(t){b({type:u.setGroupBy,value:t})}),[b]);s.forEach((function(t){t.getGroupByToggleProps=p(k().getGroupByToggleProps,{instance:O(),header:t})}));var M=e.useMemo((function(){if(f||!g.length)return[r,i,o,Rt,Dt,i,o];var t=g.filter((function(t){return a.find((function(e){return e.id===t}))})),e=[],n={},s=[],u={},c=[],h={},p=function r(i,o,f){if(void 0===o&&(o=0),o===t.length)return i;var p=t[o],y=l(i,p);return Object.entries(y).map((function(i,l){var y=i[0],v=i[1],g=p+":"+y,m=r(v,o+1,g=f?f+">"+g:g),b=o?A(v,"leafRows"):v,_=function(e,n,r){var i={};return a.forEach((function(o){if(t.includes(o.id))i[o.id]=n[0]?n[0].values[o.id]:null;else{var a="function"==typeof o.aggregate?o.aggregate:d[o.aggregate]||jt[o.aggregate];if(a){var s=n.map((function(t){return t.values[o.id]})),u=e.map((function(t){var e=t.values[o.id];if(!r&&o.aggregateValue){var n="function"==typeof o.aggregateValue?o.aggregateValue:d[o.aggregateValue]||jt[o.aggregateValue];if(!n)throw console.info({column:o}),new Error("React Table: Invalid column.aggregateValue option for column listed above");e=n(e,t,o)}return e}));i[o.id]=a(u,s)}else{if(o.aggregate)throw console.info({column:o}),new Error("React Table: Invalid column.aggregate option for column listed above");i[o.id]=null}}})),i}(b,v,o),x={id:g,isGrouped:!0,groupByID:p,groupByVal:y,values:_,subRows:m,leafRows:b,depth:o,index:l};return m.forEach((function(t){e.push(t),n[t.id]=t,t.isGrouped?(s.push(t),u[t.id]=t):(c.push(t),h[t.id]=t)})),x}))}(r);return p.forEach((function(t){e.push(t),n[t.id]=t,t.isGrouped?(s.push(t),u[t.id]=t):(c.push(t),h[t.id]=t)})),[p,e,n,s,u,c,h]}),[f,g,r,i,o,a,d,l]),I=M[0],j=M[1],R=M[2],D=M[3],N=M[4],L=M[5],z=M[6],F=m(w);_((function(){F()&&b({type:u.resetGroupBy})}),[b,f?null:n]),Object.assign(t,{preGroupedRows:r,preGroupedFlatRow:i,preGroupedRowsById:o,groupedRows:I,groupedFlatRows:j,groupedRowsById:R,onlyGroupedFlatRows:D,onlyGroupedRowsById:N,nonGroupedFlatRows:L,nonGroupedRowsById:z,rows:I,flatRows:j,rowsById:R,toggleGroupBy:C,setGroupBy:P})}function qt(t){t.allCells.forEach((function(e){var n;e.isGrouped=e.column.isGrouped&&e.column.id===t.groupByID,e.isPlaceholder=!e.isGrouped&&e.column.isGrouped,e.isAggregated=!e.isGrouped&&!e.isPlaceholder&&(null==(n=t.subRows)?void 0:n.length)}))}function Vt(t,e){return t.reduce((function(t,n,r){var i=""+n.values[e];return t[i]=Array.isArray(t[i])?t[i]:[],t[i].push(n),t}),{})}var Gt=/([0-9]+)/gm;function Wt(t,e){return t===e?0:t>e?1:-1}function Ht(t,e){return t.values[e]}function Kt(t){return"number"==typeof t?isNaN(t)||t===1/0||t===-1/0?"":String(t):"string"==typeof t?t:""}var Xt=Object.freeze({__proto__:null,alphanumeric:function(t,e,n){var r=Ht(t,n),i=Ht(e,n);for(r=Kt(r),i=Kt(i),r=r.split(Gt).filter(Boolean),i=i.split(Gt).filter(Boolean);r.length&&i.length;){var o=r.shift(),a=i.shift(),s=parseInt(o,10),u=parseInt(a,10),c=[s,u].sort();if(isNaN(c[0])){if(o>a)return 1;if(a>o)return-1}else{if(isNaN(c[1]))return isNaN(s)?-1:1;if(s>u)return 1;if(u>s)return-1}}return r.length-i.length},datetime:function(t,e,n){var r=Ht(t,n),i=Ht(e,n);return Wt(r=r.getTime(),i=i.getTime())},basic:function(t,e,n){return Wt(Ht(t,n),Ht(e,n))}});u.resetSortBy="resetSortBy",u.setSortBy="setSortBy",u.toggleSortBy="toggleSortBy",u.clearSortBy="clearSortBy",f.sortType="alphanumeric",f.sortDescFirst=!1;var Yt=function(t){t.getSortByToggleProps=[Zt],t.stateReducers.push($t),t.useInstance.push(Jt)};Yt.pluginName="useSortBy";var Zt=function(t,e){var n=e.instance,r=e.column,i=n.isMultiSortEvent,o=void 0===i?function(t){return t.shiftKey}:i;return[t,{onClick:r.canSort?function(t){t.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&o(t))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function $t(t,e,n,r){if(e.type===u.init)return o({sortBy:[]},t);if(e.type===u.resetSortBy)return o({},t,{sortBy:r.initialState.sortBy||[]});if(e.type===u.clearSortBy)return o({},t,{sortBy:t.sortBy.filter((function(t){return t.id!==e.columnId}))});if(e.type===u.setSortBy)return o({},t,{sortBy:e.sortBy});if(e.type===u.toggleSortBy){var i,a=e.columnId,s=e.desc,c=e.multi,l=r.allColumns,f=r.disableMultiSort,h=r.disableSortRemove,p=r.disableMultiRemove,d=r.maxMultiSortColCount,y=void 0===d?Number.MAX_SAFE_INTEGER:d,v=t.sortBy,g=l.find((function(t){return t.id===a})).sortDescFirst,m=v.find((function(t){return t.id===a})),b=v.findIndex((function(t){return t.id===a})),_=null!=s,x=[];return"toggle"!==(i=!f&&c?m?"toggle":"add":b!==v.length-1||1!==v.length?"replace":m?"toggle":"replace")||h||_||c&&p||!(m&&m.desc&&!g||!m.desc&&g)||(i="remove"),"replace"===i?x=[{id:a,desc:_?s:g}]:"add"===i?(x=[].concat(v,[{id:a,desc:_?s:g}])).splice(0,x.length-y):"toggle"===i?x=v.map((function(t){return t.id===a?o({},t,{desc:_?s:!m.desc}):t})):"remove"===i&&(x=v.filter((function(t){return t.id!==a}))),o({},t,{sortBy:x})}}function Jt(t){var n=t.data,r=t.rows,i=t.flatRows,o=t.allColumns,a=t.orderByFn,s=void 0===a?Qt:a,c=t.sortTypes,l=t.manualSortBy,f=t.defaultCanSort,h=t.disableSortBy,d=t.flatHeaders,y=t.state.sortBy,g=t.dispatch,b=t.plugins,x=t.getHooks,w=t.autoResetSortBy,E=void 0===w||w;v(b,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var S=e.useCallback((function(t){g({type:u.setSortBy,sortBy:t})}),[g]),k=e.useCallback((function(t,e,n){g({type:u.toggleSortBy,columnId:t,desc:e,multi:n})}),[g]),O=m(t);d.forEach((function(t){var e=t.accessor,n=t.canSort,r=t.disableSortBy,i=t.id,o=e?T(!0!==r&&void 0,!0!==h&&void 0,!0):T(f,n,!1);t.canSort=o,t.canSort&&(t.toggleSortBy=function(e,n){return k(t.id,e,n)},t.clearSortBy=function(){g({type:u.clearSortBy,columnId:t.id})}),t.getSortByToggleProps=p(x().getSortByToggleProps,{instance:O(),column:t});var a=y.find((function(t){return t.id===i}));t.isSorted=!!a,t.sortedIndex=y.findIndex((function(t){return t.id===i})),t.isSortedDesc=t.isSorted?a.desc:void 0}));var C=e.useMemo((function(){if(l||!y.length)return[r,i];var t=[],e=y.filter((function(t){return o.find((function(e){return e.id===t.id}))}));return[function n(r){var i=s(r,e.map((function(t){var e=o.find((function(e){return e.id===t.id}));if(!e)throw new Error("React-Table: Could not find a column with id: "+t.id+" while sorting");var n=e.sortType,r=M(n)||(c||{})[n]||Xt[n];if(!r)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+t.id+"'.");return function(e,n){return r(e,n,t.id,t.desc)}})),e.map((function(t){var e=o.find((function(e){return e.id===t.id}));return e&&e.sortInverted?t.desc:!t.desc})));return i.forEach((function(e){t.push(e),e.subRows&&0!==e.subRows.length&&(e.subRows=n(e.subRows))})),i}(r),t]}),[l,y,r,i,o,s,c]),P=C[0],A=C[1],I=m(E);_((function(){I()&&g({type:u.resetSortBy})}),[l?null:n]),Object.assign(t,{preSortedRows:r,preSortedFlatRows:i,sortedRows:P,sortedFlatRows:A,rows:P,flatRows:A,setSortBy:S,toggleSortBy:k})}function Qt(t,e,n){return[].concat(t).sort((function(t,r){for(var i=0;i<e.length;i+=1){var o=e[i],a=!1===n[i]||"desc"===n[i],s=o(t,r);if(0!==s)return a?-s:s}return n[0]?t.index-r.index:r.index-t.index}))}u.resetPage="resetPage",u.gotoPage="gotoPage",u.setPageSize="setPageSize";var te=function(t){t.stateReducers.push(ee),t.useInstance.push(ne)};function ee(t,e,n,r){if(e.type===u.init)return o({pageSize:10,pageIndex:0},t);if(e.type===u.resetPage)return o({},t,{pageIndex:r.initialState.pageIndex||0});if(e.type===u.gotoPage){var i=r.pageCount,a=r.page,s=g(e.pageIndex,t.pageIndex),c=!1;return s>t.pageIndex?c=-1===i?a.length>=t.pageSize:s<i:s<t.pageIndex&&(c=s>-1),c?o({},t,{pageIndex:s}):t}if(e.type===u.setPageSize){var l=e.pageSize,f=t.pageSize*t.pageIndex;return o({},t,{pageIndex:Math.floor(f/l),pageSize:l})}}function ne(t){var n=t.rows,r=t.autoResetPage,i=void 0===r||r,o=t.manualExpandedKey,a=void 0===o?"expanded":o,s=t.plugins,c=t.pageCount,l=t.paginateExpandedRows,f=void 0===l||l,h=t.expandSubRows,p=void 0===h||h,d=t.state,y=d.pageSize,g=d.pageIndex,b=d.expanded,x=d.globalFilter,w=d.filters,E=d.groupBy,S=d.sortBy,k=t.dispatch,O=t.data,C=t.manualPagination;v(s,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var P=m(i);_((function(){P()&&k({type:u.resetPage})}),[k,C?null:O,x,w,E,S]);var T=C?c:Math.ceil(n.length/y),M=e.useMemo((function(){return T>0?[].concat(new Array(T)).fill(null).map((function(t,e){return e})):[]}),[T]),A=e.useMemo((function(){var t;if(C)t=n;else{var e=y*g,r=e+y;t=n.slice(e,r)}return f?t:I(t,{manualExpandedKey:a,expanded:b,expandSubRows:p})}),[p,b,a,C,g,y,f,n]),j=g>0,R=-1===T?A.length>=y:g<T-1,D=e.useCallback((function(t){k({type:u.gotoPage,pageIndex:t})}),[k]),N=e.useCallback((function(){return D((function(t){return t-1}))}),[D]),L=e.useCallback((function(){return D((function(t){return t+1}))}),[D]),z=e.useCallback((function(t){k({type:u.setPageSize,pageSize:t})}),[k]);Object.assign(t,{pageOptions:M,pageCount:T,page:A,canPreviousPage:j,canNextPage:R,gotoPage:D,previousPage:N,nextPage:L,setPageSize:z})}te.pluginName="usePagination",u.resetPivot="resetPivot",u.togglePivot="togglePivot";var re=function(t){t.getPivotToggleProps=[oe],t.stateReducers.push(ae),t.useInstanceAfterData.push(se),t.allColumns.push(ue),t.accessValue.push(ce),t.materializedColumns.push(le),t.materializedColumnsDeps.push(fe),t.visibleColumns.push(he),t.visibleColumnsDeps.push(pe),t.useInstance.push(de),t.prepareRow.push(ye)};re.pluginName="usePivotColumns";var ie=[],oe=function(t,e){var n=e.header;return[t,{onClick:n.canPivot?function(t){t.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function ae(t,e,n,r){if(e.type===u.init)return o({pivotColumns:ie},t);if(e.type===u.resetPivot)return o({},t,{pivotColumns:r.initialState.pivotColumns||ie});if(e.type===u.togglePivot){var i=e.columnId,a=e.value,s=void 0!==a?a:!t.pivotColumns.includes(i);return o({},t,s?{pivotColumns:[].concat(t.pivotColumns,[i])}:{pivotColumns:t.pivotColumns.filter((function(t){return t!==i}))})}}function se(t){t.allColumns.forEach((function(e){e.isPivotSource=t.state.pivotColumns.includes(e.id)}))}function ue(t,e){var n=e.instance;return t.forEach((function(t){t.isPivotSource=n.state.pivotColumns.includes(t.id),t.uniqueValues=new Set})),t}function ce(t,e){var n=e.column;return n.uniqueValues&&void 0!==t&&n.uniqueValues.add(t),t}function le(t,e){var n=e.instance,r=n.allColumns,i=n.state;if(!i.pivotColumns.length||!i.groupBy||!i.groupBy.length)return t;var a=i.pivotColumns.map((function(t){return r.find((function(e){return e.id===t}))})).filter(Boolean),s=r.filter((function(t){return!t.isPivotSource&&!i.groupBy.includes(t.id)&&!i.pivotColumns.includes(t.id)})),u=S(function t(e,n,r){void 0===e&&(e=0),void 0===r&&(r=[]);var i=a[e];return i?Array.from(i.uniqueValues).sort().map((function(a){var s=o({},i,{Header:i.PivotHeader||"string"==typeof i.header?i.Header+": "+a:a,isPivotGroup:!0,parent:n,depth:e,id:n?n.id+"."+i.id+"."+a:i.id+"."+a,pivotValue:a});return s.columns=t(e+1,s,[].concat(r,[function(t){return t.values[i.id]===a}])),s})):s.map((function(t){return o({},t,{canPivot:!1,isPivoted:!0,parent:n,depth:e,id:""+(n?n.id+"."+t.id:t.id),accessor:function(e,n,i){if(r.every((function(t){return t(i)})))return i.values[t.id]}})}))}());return[].concat(t,u)}function fe(t,e){var n=e.instance.state,r=n.pivotColumns,i=n.groupBy;return[].concat(t,[r,i])}function he(t,e){var n=e.instance.state;return t=t.filter((function(t){return!t.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(t=t.filter((function(t){return t.isGrouped||t.isPivoted}))),t}function pe(t,e){var n=e.instance;return[].concat(t,[n.state.pivotColumns,n.state.groupBy])}function de(t){var e=t.columns,n=t.allColumns,r=t.flatHeaders,i=t.getHooks,o=t.plugins,a=t.dispatch,s=t.autoResetPivot,c=void 0===s||s,l=t.manaulPivot,f=t.disablePivot,h=t.defaultCanPivot;v(o,["useGroupBy"],"usePivotColumns");var d=m(t);n.forEach((function(e){var n=e.accessor,r=e.defaultPivot,i=e.disablePivot;e.canPivot=n?T(e.canPivot,!0!==i&&void 0,!0!==f&&void 0,!0):T(e.canPivot,r,h,!1),e.canPivot&&(e.togglePivot=function(){return t.togglePivot(e.id)}),e.Aggregated=e.Aggregated||e.Cell})),r.forEach((function(t){t.getPivotToggleProps=p(i().getPivotToggleProps,{instance:d(),header:t})}));var y=m(c);_((function(){y()&&a({type:u.resetPivot})}),[a,l?null:e]),Object.assign(t,{togglePivot:function(t,e){a({type:u.togglePivot,columnId:t,value:e})}})}function ye(t){t.allCells.forEach((function(t){t.isPivoted=t.column.isPivoted}))}u.resetSelectedRows="resetSelectedRows",u.toggleAllRowsSelected="toggleAllRowsSelected",u.toggleRowSelected="toggleRowSelected",u.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var ve=function(t){t.getToggleRowSelectedProps=[ge],t.getToggleAllRowsSelectedProps=[me],t.getToggleAllPageRowsSelectedProps=[be],t.stateReducers.push(_e),t.useInstance.push(xe),t.prepareRow.push(we)};ve.pluginName="useRowSelect";var ge=function(t,e){var n=e.instance,r=e.row,i=n.manualRowSelectedKey,o=void 0===i?"isSelected":i;return[t,{onChange:function(t){r.toggleRowSelected(t.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[o])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},me=function(t,e){var n=e.instance;return[t,{onChange:function(t){n.toggleAllRowsSelected(t.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},be=function(t,e){var n=e.instance;return[t,{onChange:function(t){n.toggleAllPageRowsSelected(t.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(t){var e=t.id;return n.state.selectedRowIds[e]})))}]};function _e(t,e,n,r){if(e.type===u.init)return o({selectedRowIds:{}},t);if(e.type===u.resetSelectedRows)return o({},t,{selectedRowIds:r.initialState.selectedRowIds||{}});if(e.type===u.toggleAllRowsSelected){var i=e.value,a=r.isAllRowsSelected,s=r.rowsById,c=r.nonGroupedRowsById,l=void 0===c?s:c,f=void 0!==i?i:!a,h=Object.assign({},t.selectedRowIds);return f?Object.keys(l).forEach((function(t){h[t]=!0})):Object.keys(l).forEach((function(t){delete h[t]})),o({},t,{selectedRowIds:h})}if(e.type===u.toggleRowSelected){var p=e.id,d=e.value,y=r.rowsById,v=r.selectSubRows,g=void 0===v||v,m=r.getSubRows,b=t.selectedRowIds[p],_=void 0!==d?d:!b;if(b===_)return t;var x=o({},t.selectedRowIds);return function t(e){var n=y[e];if(n.isGrouped||(_?x[e]=!0:delete x[e]),g&&m(n))return m(n).forEach((function(e){return t(e.id)}))}(p),o({},t,{selectedRowIds:x})}if(e.type===u.toggleAllPageRowsSelected){var w=e.value,E=r.page,S=r.rowsById,k=r.selectSubRows,O=void 0===k||k,C=r.isAllPageRowsSelected,P=r.getSubRows,T=void 0!==w?w:!C,M=o({},t.selectedRowIds);return E.forEach((function(t){return function t(e){var n=S[e];if(n.isGrouped||(T?M[e]=!0:delete M[e]),O&&P(n))return P(n).forEach((function(e){return t(e.id)}))}(t.id)})),o({},t,{selectedRowIds:M})}return t}function xe(t){var n=t.data,r=t.rows,i=t.getHooks,o=t.plugins,a=t.rowsById,s=t.nonGroupedRowsById,c=void 0===s?a:s,l=t.autoResetSelectedRows,f=void 0===l||l,h=t.state.selectedRowIds,d=t.selectSubRows,y=void 0===d||d,g=t.dispatch,b=t.page,x=t.getSubRows;v(o,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var w=e.useMemo((function(){var t=[];return r.forEach((function(e){var n=y?function t(e,n,r){if(n[e.id])return!0;var i=r(e);if(i&&i.length){var o=!0,a=!1;return i.forEach((function(e){a&&!o||(t(e,n,r)?a=!0:o=!1)})),!!o||!!a&&null}return!1}(e,h,x):!!h[e.id];e.isSelected=!!n,e.isSomeSelected=null===n,n&&t.push(e)})),t}),[r,y,h,x]),E=Boolean(Object.keys(c).length&&Object.keys(h).length),S=E;E&&Object.keys(c).some((function(t){return!h[t]}))&&(E=!1),E||b&&b.length&&b.some((function(t){var e=t.id;return!h[e]}))&&(S=!1);var k=m(f);_((function(){k()&&g({type:u.resetSelectedRows})}),[g,n]);var O=e.useCallback((function(t){return g({type:u.toggleAllRowsSelected,value:t})}),[g]),C=e.useCallback((function(t){return g({type:u.toggleAllPageRowsSelected,value:t})}),[g]),P=e.useCallback((function(t,e){return g({type:u.toggleRowSelected,id:t,value:e})}),[g]),T=m(t),M=p(i().getToggleAllRowsSelectedProps,{instance:T()}),A=p(i().getToggleAllPageRowsSelectedProps,{instance:T()});Object.assign(t,{selectedFlatRows:w,isAllRowsSelected:E,isAllPageRowsSelected:S,toggleRowSelected:P,toggleAllRowsSelected:O,getToggleAllRowsSelectedProps:M,getToggleAllPageRowsSelectedProps:A,toggleAllPageRowsSelected:C})}function we(t,e){var n=e.instance;t.toggleRowSelected=function(e){return n.toggleRowSelected(t.id,e)},t.getToggleRowSelectedProps=p(n.getHooks().getToggleRowSelectedProps,{instance:n,row:t})}var Ee=function(t){return{}},Se=function(t){return{}};u.setRowState="setRowState",u.setCellState="setCellState",u.resetRowState="resetRowState";var ke=function(t){t.stateReducers.push(Oe),t.useInstance.push(Ce),t.prepareRow.push(Pe)};function Oe(t,e,n,r){var i=r.initialRowStateAccessor,a=void 0===i?Ee:i,s=r.initialCellStateAccessor,c=void 0===s?Se:s,l=r.rowsById;if(e.type===u.init)return o({rowState:{}},t);if(e.type===u.resetRowState)return o({},t,{rowState:r.initialState.rowState||{}});if(e.type===u.setRowState){var f,h=e.rowId,p=e.value,d=void 0!==t.rowState[h]?t.rowState[h]:a(l[h]);return o({},t,{rowState:o({},t.rowState,(f={},f[h]=g(p,d),f))})}if(e.type===u.setCellState){var y,v,m,b,_,x=e.rowId,w=e.columnId,E=e.value,S=void 0!==t.rowState[x]?t.rowState[x]:a(l[x]),k=void 0!==(null==S||null==(y=S.cellState)?void 0:y[w])?S.cellState[w]:c(null==(v=l[x])||null==(m=v.cells)?void 0:m.find((function(t){return t.column.id===w})));return o({},t,{rowState:o({},t.rowState,(_={},_[x]=o({},S,{cellState:o({},S.cellState||{},(b={},b[w]=g(E,k),b))}),_))})}}function Ce(t){var n=t.autoResetRowState,r=void 0===n||n,i=t.data,o=t.dispatch,a=e.useCallback((function(t,e){return o({type:u.setRowState,rowId:t,value:e})}),[o]),s=e.useCallback((function(t,e,n){return o({type:u.setCellState,rowId:t,columnId:e,value:n})}),[o]),c=m(r);_((function(){c()&&o({type:u.resetRowState})}),[i]),Object.assign(t,{setRowState:a,setCellState:s})}function Pe(t,e){var n=e.instance,r=n.initialRowStateAccessor,i=void 0===r?Ee:r,o=n.initialCellStateAccessor,a=void 0===o?Se:o,s=n.state.rowState;t&&(t.state=void 0!==s[t.id]?s[t.id]:i(t),t.setState=function(e){return n.setRowState(t.id,e)},t.cells.forEach((function(e){t.state.cellState||(t.state.cellState={}),e.state=void 0!==t.state.cellState[e.column.id]?t.state.cellState[e.column.id]:a(e),e.setState=function(r){return n.setCellState(t.id,e.column.id,r)}})))}ke.pluginName="useRowState",u.resetColumnOrder="resetColumnOrder",u.setColumnOrder="setColumnOrder";var Te=function(t){t.stateReducers.push(Me),t.visibleColumnsDeps.push((function(t,e){var n=e.instance;return[].concat(t,[n.state.columnOrder])})),t.visibleColumns.push(Ae),t.useInstance.push(Ie)};function Me(t,e,n,r){return e.type===u.init?o({columnOrder:[]},t):e.type===u.resetColumnOrder?o({},t,{columnOrder:r.initialState.columnOrder||[]}):e.type===u.setColumnOrder?o({},t,{columnOrder:g(e.columnOrder,t.columnOrder)}):void 0}function Ae(t,e){var n=e.instance.state.columnOrder;if(!n||!n.length)return t;for(var r=[].concat(n),i=[].concat(t),o=[],a=function(){var t=r.shift(),e=i.findIndex((function(e){return e.id===t}));e>-1&&o.push(i.splice(e,1)[0])};i.length&&r.length;)a();return[].concat(o,i)}function Ie(t){var n=t.dispatch;t.setColumnOrder=e.useCallback((function(t){return n({type:u.setColumnOrder,columnOrder:t})}),[n])}Te.pluginName="useColumnOrder",f.canResize=!0,u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize";var je=function(t){t.getResizerProps=[Re],t.getHeaderProps.push({style:{position:"relative"}}),t.stateReducers.push(De),t.useInstance.push(Le),t.useInstanceBeforeDimensions.push(Ne)},Re=function(t,e){var n=e.instance,r=e.header,i=n.dispatch,o=function(t,e){var n=!1;if("touchstart"===t.type){if(t.touches&&t.touches.length>1)return;n=!0}var r=function(t){var e=[];return function t(n){n.columns&&n.columns.length&&n.columns.map(t),e.push(n)}(t),e}(e).map((function(t){return[t.id,t.totalWidth]})),o=n?Math.round(t.touches[0].clientX):t.clientX,a=function(t){i({type:u.columnResizing,clientX:t})},s=function(){return i({type:u.columnDoneResizing})},c={mouse:{moveEvent:"mousemove",moveHandler:function(t){return a(t.clientX)},upEvent:"mouseup",upHandler:function(t){document.removeEventListener("mousemove",c.mouse.moveHandler),document.removeEventListener("mouseup",c.mouse.upHandler),s()}},touch:{moveEvent:"touchmove",moveHandler:function(t){return t.cancelable&&(t.preventDefault(),t.stopPropagation()),a(t.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(t){document.removeEventListener(c.touch.moveEvent,c.touch.moveHandler),document.removeEventListener(c.touch.upEvent,c.touch.moveHandler),s()}}},l=n?c.touch:c.mouse,f=!!function(){if("boolean"==typeof N)return N;var t=!1;try{var e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return N=t}()&&{passive:!1};document.addEventListener(l.moveEvent,l.moveHandler,f),document.addEventListener(l.upEvent,l.upHandler,f),i({type:u.columnStartResizing,columnId:e.id,columnWidth:e.totalWidth,headerIdWidths:r,clientX:o})};return[t,{onMouseDown:function(t){return t.persist()||o(t,r)},onTouchStart:function(t){return t.persist()||o(t,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function De(t,e){if(e.type===u.init)return o({columnResizing:{columnWidths:{}}},t);if(e.type===u.resetResize)return o({},t,{columnResizing:{columnWidths:{}}});if(e.type===u.columnStartResizing){var n=e.clientX,r=e.columnId,i=e.columnWidth,a=e.headerIdWidths;return o({},t,{columnResizing:o({},t.columnResizing,{startX:n,headerIdWidths:a,columnWidth:i,isResizingColumn:r})})}if(e.type===u.columnResizing){var s=e.clientX,c=t.columnResizing,l=c.startX,f=c.columnWidth,h=c.headerIdWidths,p=(s-l)/f,d={};return(void 0===h?[]:h).forEach((function(t){var e=t[0],n=t[1];d[e]=Math.max(n+n*p,0)})),o({},t,{columnResizing:o({},t.columnResizing,{columnWidths:o({},t.columnResizing.columnWidths,{},d)})})}return e.type===u.columnDoneResizing?o({},t,{columnResizing:o({},t.columnResizing,{startX:null,isResizingColumn:null})}):void 0}je.pluginName="useResizeColumns";var Ne=function(t){var e=t.flatHeaders,n=t.disableResizing,r=t.getHooks,i=t.state.columnResizing,o=m(t);e.forEach((function(t){var e=T(!0!==t.disableResizing&&void 0,!0!==n&&void 0,!0);t.canResize=e,t.width=i.columnWidths[t.id]||t.originalWidth||t.width,t.isResizing=i.isResizingColumn===t.id,e&&(t.getResizerProps=p(r().getResizerProps,{instance:o(),header:t}))}))};function Le(t){var n=t.plugins,r=t.dispatch,i=t.autoResetResize,o=void 0===i||i,a=t.columns;v(n,["useAbsoluteLayout"],"useResizeColumns");var s=m(o);_((function(){s()&&r({type:u.resetResize})}),[a]);var c=e.useCallback((function(){return r({type:u.resetResize})}),[r]);Object.assign(t,{resetResizing:c})}var ze={position:"absolute",top:0},Fe=function(t){t.getTableBodyProps.push(Be),t.getRowProps.push(Be),t.getHeaderGroupProps.push(Be),t.getFooterGroupProps.push(Be),t.getHeaderProps.push((function(t,e){var n=e.column;return[t,{style:o({},ze,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),t.getCellProps.push((function(t,e){var n=e.cell;return[t,{style:o({},ze,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),t.getFooterProps.push((function(t,e){var n=e.column;return[t,{style:o({},ze,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};Fe.pluginName="useAbsoluteLayout";var Be=function(t,e){return[t,{style:{position:"relative",width:e.instance.totalColumnsWidth+"px"}}]},Ue={display:"inline-block",boxSizing:"border-box"},qe=function(t,e){return[t,{style:{display:"flex",width:e.instance.totalColumnsWidth+"px"}}]},Ve=function(t){t.getRowProps.push(qe),t.getHeaderGroupProps.push(qe),t.getFooterGroupProps.push(qe),t.getHeaderProps.push((function(t,e){var n=e.column;return[t,{style:o({},Ue,{width:n.totalWidth+"px"})}]})),t.getCellProps.push((function(t,e){var n=e.cell;return[t,{style:o({},Ue,{width:n.column.totalWidth+"px"})}]})),t.getFooterProps.push((function(t,e){var n=e.column;return[t,{style:o({},Ue,{width:n.totalWidth+"px"})}]}))};function Ge(t){t.getTableProps.push(We),t.getRowProps.push(He),t.getHeaderGroupProps.push(He),t.getFooterGroupProps.push(He),t.getHeaderProps.push(Ke),t.getCellProps.push(Xe),t.getFooterProps.push(Ye)}Ve.pluginName="useBlockLayout",Ge.pluginName="useFlexLayout";var We=function(t,e){return[t,{style:{minWidth:e.instance.totalColumnsMinWidth+"px"}}]},He=function(t,e){return[t,{style:{display:"flex",flex:"1 0 auto",minWidth:e.instance.totalColumnsMinWidth+"px"}}]},Ke=function(t,e){var n=e.column;return[t,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},Xe=function(t,e){var n=e.cell;return[t,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Ye=function(t,e){var n=e.column;return[t,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Ze(t){t.stateReducers.push(Qe),t.getTableProps.push($e),t.getHeaderProps.push(Je)}Ze.pluginName="useGridLayout";var $e=function(t,e){return[t,{style:{display:"grid",gridTemplateColumns:e.instance.state.gridLayout.columnWidths.map((function(t){return t})).join(" ")}}]},Je=function(t,e){return[t,{id:"header-cell-"+e.column.id,style:{position:"sticky"}}]};function Qe(t,e,n,r){if("init"===e.type)return o({gridLayout:{columnWidths:r.columns.map((function(){return"auto"}))}},t);if("columnStartResizing"===e.type){var i=e.columnId,a=r.visibleColumns.findIndex((function(t){return t.id===i})),s=function(t){var e,n=null==(e=document.getElementById("header-cell-"+t))?void 0:e.offsetWidth;if(void 0!==n)return n}(i);return void 0!==s?o({},t,{gridLayout:o({},t.gridLayout,{columnId:i,columnIndex:a,startingWidth:s})}):t}if("columnResizing"===e.type){var u=t.gridLayout,c=u.columnIndex,l=u.startingWidth,f=u.columnWidths,h=l-(t.columnResizing.startX-e.clientX),p=[].concat(f);return p[c]=h+"px",o({},t,{gridLayout:o({},t.gridLayout,{columnWidths:p})})}}t._UNSTABLE_usePivotColumns=re,t.actions=u,t.defaultColumn=f,t.defaultGroupByFn=Vt,t.defaultOrderByFn=Qt,t.defaultRenderer=c,t.emptyRenderer=l,t.ensurePluginOrder=v,t.flexRender=w,t.functionalUpdate=g,t.loopHooks=y,t.makePropGetter=p,t.makeRenderer=x,t.reduceHooks=d,t.safeUseLayoutEffect=b,t.useAbsoluteLayout=Fe,t.useAsyncDebounce=function(t,n){void 0===n&&(n=0);var o=e.useRef({}),a=m(t),s=m(n);return e.useCallback(function(){var t=i(r.mark((function t(){var e,n,u,c=arguments;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=c.length,n=new Array(e),u=0;u<e;u++)n[u]=c[u];return o.current.promise||(o.current.promise=new Promise((function(t,e){o.current.resolve=t,o.current.reject=e}))),o.current.timeout&&clearTimeout(o.current.timeout),o.current.timeout=setTimeout(i(r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete o.current.timeout,t.prev=1,t.t0=o.current,t.next=5,a().apply(void 0,n);case 5:t.t1=t.sent,t.t0.resolve.call(t.t0,t.t1),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(1),o.current.reject(t.t2);case 12:return t.prev=12,delete o.current.promise,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])}))),s()),t.abrupt("return",o.current.promise);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),[a,s])},t.useBlockLayout=Ve,t.useColumnOrder=Te,t.useExpanded=ct,t.useFilters=Ot,t.useFlexLayout=Ge,t.useGetLatest=m,t.useGlobalFilter=Tt,t.useGridLayout=Ze,t.useGroupBy=Nt,t.useMountedLayoutEffect=_,t.usePagination=te,t.useResizeColumns=je,t.useRowSelect=ve,t.useRowState=ke,t.useSortBy=Yt,t.useTable=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t=at(t),r=[X].concat(r);var a=m(e.useRef({}).current);Object.assign(a(),o({},t,{plugins:r,hooks:K()})),r.filter(Boolean).forEach((function(t){t(a().hooks)}));var s=m(a().hooks);a().getHooks=s,delete a().hooks,Object.assign(a(),d(s().useOptions,at(t)));var c=a(),l=c.data,f=c.columns,h=c.initialState,v=c.defaultColumn,g=c.getSubRows,b=c.getRowId,_=c.stateReducer,w=c.useControlledState,P=m(_),T=e.useCallback((function(t,e){if(!e.type)throw console.info({action:e}),new Error("Unknown Action \ud83d\udc46");return[].concat(s().stateReducers,Array.isArray(P())?P():[P()]).reduce((function(n,r){return r(n,e,t,a())||n}),t)}),[s,P,a]),M=e.useReducer(T,void 0,(function(){return T(h,{type:u.init})})),A=M[0],I=M[1],j=d([].concat(s().useControlledState,[w]),A,{instance:a()});Object.assign(a(),{state:j,dispatch:I});var R=e.useMemo((function(){return E(d(s().columns,f,{instance:a()}))}),[s,a,f].concat(d(s().columnsDeps,[],{instance:a()})));a().columns=R;var D=e.useMemo((function(){return d(s().allColumns,S(R),{instance:a()}).map(k)}),[R,s,a].concat(d(s().allColumnsDeps,[],{instance:a()})));a().allColumns=D;var N=e.useMemo((function(){for(var t=[],e=[],n={},r=[].concat(D);r.length;){var i=r.shift();ut({data:l,rows:t,flatRows:e,rowsById:n,column:i,getRowId:b,getSubRows:g,accessValueHooks:s().accessValue,getInstance:a})}return[t,e,n]}),[D,l,b,g,s,a]),L=N[0],z=N[1],F=N[2];Object.assign(a(),{rows:L,initialRows:[].concat(L),flatRows:z,rowsById:F}),y(s().useInstanceAfterData,a());var B=e.useMemo((function(){return d(s().visibleColumns,D,{instance:a()}).map((function(t){return O(t,v)}))}),[s,D,a,v].concat(d(s().visibleColumnsDeps,[],{instance:a()})));D=e.useMemo((function(){var t=[].concat(B);return D.forEach((function(e){t.find((function(t){return t.id===e.id}))||t.push(e)})),t}),[D,B]),a().allColumns=D;var U=e.useMemo((function(){return d(s().headerGroups,C(B,v),a())}),[s,B,v,a].concat(d(s().headerGroupsDeps,[],{instance:a()})));a().headerGroups=U;var q=e.useMemo((function(){return U.length?U[0].headers:[]}),[U]);a().headers=q,a().flatHeaders=U.reduce((function(t,e){return[].concat(t,e.headers)}),[]),y(s().useInstanceBeforeDimensions,a());var V=B.filter((function(t){return t.isVisible})).map((function(t){return t.id})).sort().join("_");B=e.useMemo((function(){return B.filter((function(t){return t.isVisible}))}),[B,V]),a().visibleColumns=B;var G=st(q),W=G[0],H=G[1],Y=G[2];return a().totalColumnsMinWidth=W,a().totalColumnsWidth=H,a().totalColumnsMaxWidth=Y,y(s().useInstance,a()),[].concat(a().flatHeaders,a().allColumns).forEach((function(t){t.render=x(a(),t),t.getHeaderProps=p(s().getHeaderProps,{instance:a(),column:t}),t.getFooterProps=p(s().getFooterProps,{instance:a(),column:t})})),a().headerGroups=e.useMemo((function(){return U.filter((function(t,e){return t.headers=t.headers.filter((function(t){return t.headers?function t(e){return e.filter((function(e){return e.headers?t(e.headers):e.isVisible})).length}(t.headers):t.isVisible})),!!t.headers.length&&(t.getHeaderGroupProps=p(s().getHeaderGroupProps,{instance:a(),headerGroup:t,index:e}),t.getFooterGroupProps=p(s().getFooterGroupProps,{instance:a(),headerGroup:t,index:e}),!0)}))}),[U,a,s]),a().footerGroups=[].concat(a().headerGroups).reverse(),a().prepareRow=e.useCallback((function(t){t.getRowProps=p(s().getRowProps,{instance:a(),row:t}),t.allCells=D.map((function(e){var n=t.values[e.id],r={column:e,row:t,value:n};return r.getCellProps=p(s().getCellProps,{instance:a(),cell:r}),r.render=x(a(),e,{row:t,cell:r,value:n}),r})),t.cells=B.map((function(e){return t.allCells.find((function(t){return t.column.id===e.id}))})),y(s().prepareRow,t,{instance:a()})}),[s,a,D,B]),a().getTableProps=p(s().getTableProps,{instance:a()}),a().getTableBodyProps=p(s().getTableBodyProps,{instance:a()}),y(s().useFinalInstance,a()),a()},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(1178),a=n(61);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var u=function(t){var e=t.id,n=t.index,r=t.children;return i.default.createElement(o.Draggable,{draggableId:"draggable-".concat(e),index:n},(function(t){return i.default.createElement("div",s({ref:t.innerRef,className:"flex"},t.draggableProps,t.dragHandleProps),i.default.createElement("div",{className:"flex-1"},r))}))},c=function(t){var e=t.onDrop,n=t.children,r=i.default.useCallback((function(t){if(t.destination){var n=t.source.index,r=t.destination.index;n!==r&&e(n,r)}}),[e]),c=(0,a.useTheme)();return i.default.createElement(o.DragDropContext,{onDragEnd:r},i.default.createElement(o.Droppable,{droppableId:"my-list",className:"box-content"},(function(t,e){return i.default.createElement("div",s({ref:t.innerRef},t.droppableProps,{className:"flex flex-col\n                ".concat(e.isDraggingOver?c.listDragging:c.list,"\n              ")}),i.default.createElement("div",null,i.default.Children.toArray(n).map((function(t,e){return i.default.createElement(u,{key:t.key,id:t.key,index:e},t)}))),t.placeholder)})))};c.defaultProps={items:[],idAccessor:function(t){return t.id},indexAccessor:function(t){return t.index},onDrop:function(t,e){}};var l=c;e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==l(t)&&"function"!==typeof t)return{default:t};var e=c();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(1)),i=u(n(519)),o=u(n(520)),a=u(n(517)),s=u(n(5));function u(t){return t&&t.__esModule?t:{default:t}}function c(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(l,t);var e,n,u,c=d(l);function l(){var t;f(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(v(t=c.call.apply(c,[this].concat(n))),"state",{menuOpen:!1}),m(v(t),"toggleMenu",(function(){t.setState({menuOpen:!t.state.menuOpen})})),t}return e=l,(n=[{key:"render",value:function(){var t=this.props.theme,e=this.props.nav||this.props.navBar;return r.default.createElement("div",{className:"\n          ".concat(t.bg," ").concat(t.text,"\n          min-h-screen w-full flex flex-col\n        ")},"top"===e?r.default.createElement("div",{className:this.props.fixed?"fixed left-0 top-0 w-full z-10":"w-full"},r.default.createElement(o.default,{logo:this.props.logo,open:this.state.menuOpen,toggle:this.toggleMenu,menuItems:this.props.menus,fixed:this.props.fixed,width:this.props.maxWidth})):null,this.props.headerBar?r.default.createElement("div",{className:"".concat(this.props.fixed?"fixed left-0 top-0 w-full z-10 ".concat(""):"")},r.default.createElement("div",{className:"".concat(this.props.maxWidth," mx-auto")},r.default.createElement("div",{className:"\n                  fixed left-0 right-0 top-0\n                  ".concat("side"===e?"md:ml-".concat(t.sidebarW):"","\n                ")},r.default.createElement(a.default,{navBar:e,title:(0,s.default)(this.props,["headerBar","title"],null)},(0,s.default)(this.props,["headerBar","children"],[]).map((function(t,e){return"function"===typeof t?r.default.createElement(t,{key:e}):"string"===typeof t?t:r.default.cloneElement(t,{key:e})})))))):null,r.default.createElement("div",{className:"\n          flex-1 flex items-stretch flex-col\n          ".concat(this.props.maxWidth?this.props.maxWidth:"w-full","\n        ")},"side"!==e?null:r.default.createElement(i.default,{open:this.state.menuOpen,toggle:this.toggleMenu,menuItems:this.props.menus,fixed:this.props.fixed}),r.default.createElement("div",{className:"\n                h-full flex-1 flex flex-col\n                ".concat(this.props.headerBar||"top"===e?"mt-16":"","\n                ").concat(this.props.fixed&&"side"===e?"md:ml-".concat(t.sidebarW):"","\n              ")},this.props.children)))}}])&&h(e.prototype,n),u&&h(e,u),l}(r.Component);m(b,"defaultProps",{fixed:!1,maxWidth:"",headerBar:!0,navBar:"side",nav:null});var _=b;e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=r?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}n.default=t,e&&e.set(t,n);return n}(n(1));function i(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h,p,d,y=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(l,t);var e,n,i,o=c(l);function l(){return a(this,l),o.apply(this,arguments)}return e=l,(n=[{key:"render",value:function(){var t=this.props.theme;return r.default.createElement("div",{className:"".concat(t.bg)},r.default.createElement("main",null,this.props.children))}}])&&s(e.prototype,n),i&&s(e,i),l}(r.Component);d={fixed:!1,maxWidth:"",nav:"side",theme:"light"},(p="defaultProps")in(h=y)?Object.defineProperty(h,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):h[p]=d;var v=y;e.default=v},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var i={Input:!0,TextArea:!0,ArrayInput:!0,Select:!0,ObjectInput:!0,BooleanInput:!0,MarkdownInput:!0,MarkdownViewer:!0,verifyValue:!0,hasValue:!0};Object.defineProperty(e,"Input",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"TextArea",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"ArrayInput",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Select",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"ObjectInput",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"BooleanInput",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"MarkdownInput",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"MarkdownViewer",{enumerable:!0,get:function(){return f.MarkdownViewer}}),Object.defineProperty(e,"verifyValue",{enumerable:!0,get:function(){return h.verifyValue}}),Object.defineProperty(e,"hasValue",{enumerable:!0,get:function(){return h.hasValue}});var o=y(n(265)),a=y(n(848)),s=y(n(849)),u=y(n(850)),c=y(n(879)),l=y(n(880)),f=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=d();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(881)),h=n(266),p=n(267);function d(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return d=function(){return t},t}function y(t){return t&&t.__esModule?t:{default:t}}Object.keys(p).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||t in e&&e[t]===p[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}}))}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(134),a=n(61);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var c=i.default.forwardRef((function(t,e){var n=t.large,r=t.small,c=t.className,l=void 0===c?"":c,f=t.children,h=t.onChange,p=t.value,d=u(t,["large","small","className","children","onChange","value"]),y=(0,a.useTheme)()["input".concat((0,o.composeOptions)({large:n,small:r}))];return i.default.createElement("textarea",s({},d,{onChange:function(t){return h(t.target.value)},value:p||"",className:"".concat(y," ").concat(l),ref:e,rows:6}),f)}));e.default=c},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(1)),a=n(155),s=(i=n(265))&&i.__esModule?i:{default:i},u=n(267),c=n(266);function l(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"===typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}e.default=function(t){var e=t.verify,n=t.id,r=t.autoFocus,i=v(t,["verify","id","autoFocus"]),l=p((0,o.useState)(""),2),d=l[0],y=l[1],g=p((0,o.useState)(!1),2),m=g[0],b=g[1],_=i.value,x=i.type,w=i.disabled,E=v(i,["value","type","disabled"]),S=null,k=function(){var t=_||[];i.onChange([].concat(h(t),[d])),y(""),S&&S.focus()},O=function(t){var e=Array.isArray(i.value)?i.value:[];e.includes(t)&&(e=e.filter((function(e){return e!==t}))),0===e.length&&(e=null),i.onChange(e)};(0,o.useEffect)((function(){b(w||!(0,c.hasValue)(d)||(_||[]).includes(d)||!(0,c.verifyValue)(d,x,e)||"number"===x&&!(_||[]).reduce((function(t,e){return t&&+e!==+d}),!0))}),[_,d,e,w,x]);return o.default.createElement("div",{className:"w-full"},o.default.createElement("div",{className:"flex"},o.default.createElement(s.default,f({},E,{type:x,className:"mr-1",onKeyDown:function(t){d&&13===t.keyCode&&(t.stopPropagation(),t.preventDefault(),k())},value:d,id:n,onChange:function(t){return y(t)},disabled:w,autoFocus:r,placeholder:"Type a value...",ref:function(t){S=t}})),o.default.createElement(a.Button,{onClick:function(t){return k()},buttonTheme:"buttonInfo",disabled:m},"add")),_?o.default.createElement("div",{className:"mt-1 ml-10"},o.default.createElement(u.ValueContainer,{className:"cursor-default"},_.map((function(t,e){return o.default.createElement(u.ValueItem,{key:t,edit:function(e){return function(t){y(t),O(t),S&&S.focus()}(t)},remove:function(e){return O(t)}},t)})))):null)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(n(1)),i=l(n(265)),o=n(266),a=n(267),s=n(61),u=l(n(851)),c=n(221);function l(t){return t&&t.__esModule?t:{default:t}}function f(t){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==f(e)&&"function"!==typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(){return(w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function E(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var S=r.default.forwardRef((function(t,e){var n=t.children,i=t.searchable,o=t.opened,a=t.direction,u=(0,s.useTheme)();return r.default.createElement("div",{className:"\n      absolute left-0 z-40 overflow-hidden w-full\n      ".concat(o?"block":"hidden","\n    "),style:"down"===a?{top:"100%"}:{bottom:"100%"},ref:e},r.default.createElement("div",{className:"".concat(u.accent1," my-1 ").concat(i?"pt-1":"")},n))})),k=function(t){var e=t.children,n=E(t,["children"]),i=(0,s.useTheme)();return r.default.createElement("div",w({},n,{className:"cursor-pointer hover:".concat(i.accent2," px-2 whitespace-no-wrap")}),e)},O=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(f,t);var e,n,s,l=g(f);function f(){var t;d(this,f);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return x(b(t=l.call.apply(l,[this].concat(n))),"node",null),x(b(t),"dropdown",null),t.state={opened:!1,direction:"down",hasFocus:!1,search:""},t}return e=f,(n=[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focus()}},{key:"focus",value:function(){this.node&&this.node.focus()}},{key:"componentDidUpdate",value:function(){if(this.dropdown&&this.state.opened&&"down"===this.state.direction){var t=this.dropdown.getBoundingClientRect();t.top+t.height>window.innerHeight&&this.setState({direction:"up"})}}},{key:"getValues",value:function(){return(0,o.hasValue)(this.props.value)&&(0,o.hasValue)(this.props.accessor(this.props.value))?Array.isArray(this.props.value)?this.props.value:[this.props.value]:[]}},{key:"openDropdown",value:function(t){t.stopPropagation(),this.setState({opened:!0,hasFocus:!0})}},{key:"closeDropdown",value:function(){this.state.opened&&this.node&&this.node.focus(),this.setState({opened:!1,direction:"down",search:""})}},{key:"addItem",value:function(t,e){t.stopPropagation(),this.closeDropdown(),this.props.multi?(0,o.hasValue)(this.props.value)?this.props.value.reduce((function(t,n){return t&&!(0,u.default)(n,e)}),!0)&&this.props.onChange([].concat(h(this.props.value),[e])):this.props.onChange([e]):this.props.onChange(e)}},{key:"removeItem",value:function(t,e){if(t.stopPropagation(),this.props.multi){var n=this.props.value.filter((function(t){return t!==e}));this.props.onChange(n.length?n:null)}else this.props.onChange(null)}},{key:"setSearch",value:function(t){this.setState({search:t})}},{key:"getOptions",value:function(){return this.props.options.length?this.props.options:this.props.domain}},{key:"render",value:function(){var t=this,e=this.props,n=e.disabled,o=e.accessor,s=e.searchable,l=this.getValues(),f=this.state.search,h=this.getOptions().filter((function(t){return l.reduce((function(e,n){return e&&!(0,u.default)(n,t)}),!0)})),p=this.props.listAccessor||o,d=f?(0,c.matchSorter)(h,f,{keys:[p]}):h;return r.default.createElement("div",{className:"relative",onMouseLeave:function(e){return t.closeDropdown()}},r.default.createElement("div",{className:"cursor-pointer"},r.default.createElement(a.ValueContainer,{id:this.props.id,ref:function(e){return t.node=e},onBlur:function(e){return t.setState({hasFocus:!1})},onFocus:function(e){return t.setState({hasFocus:!0})},hasFocus:this.state.opened||this.state.hasFocus,disabled:n,tabIndex:n?-1:0,onClick:function(e){return t.openDropdown(e)}},l.length?l.map((function(e,i){return r.default.createElement(a.ValueItem,{key:i,disabled:n,remove:t.props.removable?function(n){return t.removeItem(n,e)}:null},o(e))})):r.default.createElement(a.ValueItem,{key:"placeholder",isPlaceholder:!0},this.props.placeholder))),n||!this.state.opened?null:r.default.createElement(S,{opened:this.state.opened,direction:this.state.direction,searchable:s,ref:function(e){return t.dropdown=e}},s?r.default.createElement("div",{className:"p-2 pt-1"},r.default.createElement(i.default,{type:"text",autoFocus:!0,placeholder:"search...",value:this.state.search,onChange:function(e){return t.setSearch(e)}})):null,d.length?r.default.createElement("div",{className:"scrollbar overflow-y-auto",style:{maxHeight:"15rem"}},d.map((function(e){return r.default.createElement(k,{key:o(e),onClick:function(n){return t.addItem(n,e)}},p(e))}))):r.default.createElement("div",{className:"p-1 text-center"},"No Selections")))}}])&&y(e.prototype,n),s&&y(e,s),f}(r.default.Component);x(O,"defaultProps",{multi:!0,searchable:!0,domain:[],options:[],value:null,placeholder:"Select a value...",accessor:function(t){return t},displayAccessor:null,listAccessor:null,id:"avl-select",autoFocus:!1,disabled:!1,removable:!0});var C=O;e.default=C},function(t,e,n){"use strict";var r=n(249),i=n(340),o=n(852),a=n(467),s=n(468),u=n(854),c=n(471),l=n(855),f=n(268),h=n(191),p=n(860),d=n(863),y=n(865),v=n(870),g=n(877),m=h("Date.prototype.getTime"),b=Object.getPrototypeOf,_=h("Object.prototype.toString"),x=f("%Set%",!0),w=h("Map.prototype.has",!0),E=h("Map.prototype.get",!0),S=h("Map.prototype.size",!0),k=h("Set.prototype.add",!0),O=h("Set.prototype.delete",!0),C=h("Set.prototype.has",!0),P=h("Set.prototype.size",!0);function T(t,e,n,r){for(var i,o=d(t);(i=o.next())&&!i.done;)if(R(e,i.value,n,r))return O(t,i.value),!0;return!1}function M(t){return"undefined"===typeof t?null:"object"!==typeof t?"symbol"!==typeof t&&("string"!==typeof t&&"number"!==typeof t||+t===+t):void 0}function A(t,e,n,r,i,o){var a=M(n);if(null!=a)return a;var s=E(e,a),u=g({},i,{strict:!1});return!("undefined"===typeof s&&!w(e,a)||!R(r,s,u,o))&&(!w(t,a)&&R(r,s,u,o))}function I(t,e,n){var r=M(n);return null!=r?r:C(e,r)&&!C(t,r)}function j(t,e,n,r,i,o){for(var a,s,u=d(t);(a=u.next())&&!a.done;)if(R(n,s=a.value,i,o)&&R(r,E(e,s),i,o))return O(t,s),!0;return!1}function R(t,e,n,f){var h=n||{};if(h.strict?o(t,e):t===e)return!0;if(l(t)!==l(e))return!1;if(!t||!e||"object"!==typeof t&&"object"!==typeof e)return h.strict?o(t,e):t==e;var y,O=f.has(t),M=f.has(e);if(O&&M){if(f.get(t)===f.get(e))return!0}else y={};return O||f.set(t,y),M||f.set(e,y),function(t,e,n,o){var l,f;if(typeof t!==typeof e)return!1;if(null==t||null==e)return!1;if(_(t)!==_(e))return!1;if(i(t)!==i(e))return!1;var h=u(t),y=u(e);if(h!==y)return!1;var O=t instanceof Error,M=e instanceof Error;if(O!==M)return!1;if((O||M)&&(t.name!==e.name||t.message!==e.message))return!1;var N=a(t),L=a(e);if(N!==L)return!1;if((N||L)&&(t.source!==e.source||s(t)!==s(e)))return!1;var z=c(t),F=c(e);if(z!==F)return!1;if((z||F)&&m(t)!==m(e))return!1;if(n.strict&&b&&b(t)!==b(e))return!1;if(v(t)!==v(e))return!1;var B=D(t),U=D(e);if(B!==U)return!1;if(B||U){if(t.length!==e.length)return!1;for(l=0;l<t.length;l++)if(t[l]!==e[l])return!1;return!0}if(typeof t!==typeof e)return!1;var q=r(t),V=r(e);if(q.length!==V.length)return!1;for(q.sort(),V.sort(),l=q.length-1;l>=0;l--)if(q[l]!=V[l])return!1;for(l=q.length-1;l>=0;l--)if(!R(t[f=q[l]],e[f],n,o))return!1;var G=p(t),W=p(e);if(G!==W)return!1;if("Set"===G||"Set"===W)return function(t,e,n,r){if(P(t)!==P(e))return!1;var i,o,a,s=d(t),u=d(e);for(;(i=s.next())&&!i.done;)if(i.value&&"object"===typeof i.value)a||(a=new x),k(a,i.value);else if(!C(e,i.value)){if(n.strict)return!1;if(!I(t,e,i.value))return!1;a||(a=new x),k(a,i.value)}if(a){for(;(o=u.next())&&!o.done;)if(o.value&&"object"===typeof o.value){if(!T(a,o.value,n.strict,r))return!1}else if(!n.strict&&!C(t,o.value)&&!T(a,o.value,n.strict,r))return!1;return 0===P(a)}return!0}(t,e,n,o);if("Map"===G)return function(t,e,n,r){if(S(t)!==S(e))return!1;var i,o,a,s,u,c,l=d(t),f=d(e);for(;(i=l.next())&&!i.done;)if(s=i.value[0],u=i.value[1],s&&"object"===typeof s)a||(a=new x),k(a,s);else if("undefined"===typeof(c=E(e,s))&&!w(e,s)||!R(u,c,n,r)){if(n.strict)return!1;if(!A(t,e,s,u,n,r))return!1;a||(a=new x),k(a,s)}if(a){for(;(o=f.next())&&!o.done;)if(s=o.value[0],c=o.value[1],s&&"object"===typeof s){if(!j(a,t,s,c,n,r))return!1}else if(!n.strict&&(!t.has(s)||!R(E(t,s),c,n,r))&&!j(a,t,s,c,g({},n,{strict:!1}),r))return!1;return 0===P(a)}return!0}(t,e,n,o);return!0}(t,e,h,f)}function D(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&(!(t.length>0&&"number"!==typeof t[0])&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))))}t.exports=function(t,e,n){return R(t,e,n,y())}},function(t,e,n){"use strict";var r=n(119),i=n(370),o=n(522),a=n(523),s=n(853),u=i(a(),Object);r(u,{getPolyfill:a,implementation:o,shim:s}),t.exports=u},function(t,e,n){"use strict";var r=n(523),i=n(119);t.exports=function(){var t=r();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var r=n(524),i=n(856),o=n(857),a=n(858),s=n(859);t.exports=function(t){return null==t||"object"!==typeof t&&"function"!==typeof t?null:r(t)?"String":i(t)?"Number":o(t)?"Boolean":a(t)?"Symbol":s(t)?"BigInt":void 0}},function(t,e,n){"use strict";var r=Number.prototype.toString,i=Object.prototype.toString,o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;t.exports=function(t){return"number"===typeof t||"object"===typeof t&&(o?function(t){try{return r.call(t),!0}catch(e){return!1}}(t):"[object Number]"===i.call(t))}},function(t,e,n){"use strict";var r=n(191),i=r("Boolean.prototype.toString"),o=r("Object.prototype.toString"),a="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;t.exports=function(t){return"boolean"===typeof t||null!==t&&"object"===typeof t&&(a&&Symbol.toStringTag in t?function(t){try{return i(t),!0}catch(e){return!1}}(t):"[object Boolean]"===o(t))}},function(t,e,n){"use strict";var r=Object.prototype.toString;if(n(99)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;t.exports=function(t){if("symbol"===typeof t)return!0;if("[object Symbol]"!==r.call(t))return!1;try{return function(t){return"symbol"===typeof t.valueOf()&&o.test(i.call(t))}(t)}catch(e){return!1}}}else t.exports=function(t){return!1}},function(t,e,n){"use strict";if("function"===typeof BigInt){var r=BigInt.prototype.valueOf;t.exports=function(t){return null!==t&&"undefined"!==typeof t&&"boolean"!==typeof t&&"string"!==typeof t&&"number"!==typeof t&&"symbol"!==typeof t&&"function"!==typeof t&&("bigint"===typeof t||function(t){try{return r.call(t),!0}catch(e){}return!1}(t))}}else t.exports=function(t){return!1}},function(t,e,n){"use strict";var r=n(525),i=n(526),o=n(861),a=n(862);t.exports=function(t){if(t&&"object"===typeof t){if(r(t))return"Map";if(i(t))return"Set";if(o(t))return"WeakMap";if(a(t))return"WeakSet"}return!1}},function(t,e,n){"use strict";var r,i="function"===typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"===typeof WeakSet&&WeakSet.prototype?WeakSet:null;i||(r=function(t){return!1});var a=i?i.prototype.has:null,s=o?o.prototype.has:null;r||a||(r=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!==typeof t)return!1;try{if(a.call(t,a),s)try{s.call(t,s)}catch(e){return!0}return t instanceof i}catch(e){}return!1}},function(t,e,n){"use strict";var r,i="function"===typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"===typeof WeakSet&&WeakSet.prototype?WeakSet:null;i||(r=function(t){return!1});var a=i?i.prototype.has:null,s=o?o.prototype.has:null;r||s||(t.exports=function(t){return!1}),t.exports=r||function(t){if(!t||"object"!==typeof t)return!1;try{if(s.call(t,s),a)try{a.call(t,a)}catch(e){return!0}return t instanceof o}catch(e){}return!1}},function(t,e,n){"use strict";(function(e){var r=n(340);if(n(99)()||n(341)()){var i=Symbol.iterator;t.exports=function(t){return null!=t&&"undefined"!==typeof t[i]?t[i]():r(t)?Array.prototype[i].call(t):void 0}}else{var o=n(864),a=n(524),s=n(268),u=s("%Map%",!0),c=s("%Set%",!0),l=n(191),f=l("Array.prototype.push"),h=l("String.prototype.charCodeAt"),p=l("String.prototype.slice"),d=function(t){var e=0;return{next:function(){var n,r=e>=t.length;return r||(n=t[e],e+=1),{done:r,value:n}}}},y=function(t,e){if(o(t)||r(t))return d(t);if(a(t)){var n=0;return{next:function(){var e=function(t,e){if(e+1>=t.length)return e+1;var n=h(t,e);if(n<55296||n>56319)return e+1;var r=h(t,e+1);return r<56320||r>57343?e+1:e+2}(t,n),r=p(t,n,e);return n=e,{done:e>t.length,value:r}}}}return e&&"undefined"!==typeof t["_es6-shim iterator_"]?t["_es6-shim iterator_"]():void 0};if(u||c){var v=n(525),g=n(526),m=l("Map.prototype.forEach",!0),b=l("Set.prototype.forEach",!0);if("undefined"===typeof e||!e.versions||!e.versions.node)var _=l("Map.prototype.iterator",!0),x=l("Set.prototype.iterator",!0),w=function(t){var e=!1;return{next:function(){try{return{done:e,value:e?void 0:t.next()}}catch(n){return e=!0,{done:!0,value:void 0}}}}};var E=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),S=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0);t.exports=function(t){return function(t){if(v(t)){if(_)return w(_(t));if(E)return E(t);if(m){var e=[];return m(t,(function(t,n){f(e,[n,t])})),d(e)}}if(g(t)){if(x)return w(x(t));if(S)return S(t);if(b){var n=[];return b(t,(function(t){f(n,t)})),d(n)}}}(t)||y(t)}}else t.exports=function(t){if(null!=t)return y(t,!0)}}}).call(this,n(153))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var r=n(371),i=n(866),o=n(868),a=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),c=i("Array.prototype.push"),l=i("WeakMap.prototype.get",!0),f=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),p=i("Map.prototype.get",!0),d=i("Map.prototype.set",!0),y=i("Map.prototype.has",!0);t.exports=function(){var t,e,n,r={assert:function(t){if(!r.has(t))throw new a("Side channel does not contain "+o(t))},get:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(t)return l(t,r)}else if(u){if(e)return p(e,r)}else if(n)return function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].key===e)return t[n].value}(n,r)},has:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(t)return h(t,r)}else if(u){if(e)return y(e,r)}else if(n)return function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].key===e)return!0;return!1}(n,r);return!1},set:function(r,i){s&&r&&("object"===typeof r||"function"===typeof r)?(t||(t=new s),f(t,r,i)):u?(e||(e=new u),d(e,r,i)):(n||(n=[]),function(t,e,n){for(var r=0;r<t.length;r+=1)if(t[r].key===e)return void(t[r].value=n);c(t,{key:e,value:n})}(n,r,i))}};return r}},function(t,e,n){"use strict";var r=n(371),i=n(867),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"===typeof n&&o(t,".prototype.")?i(n):n}},function(t,e,n){"use strict";var r=n(98),i=n(371),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.defineProperty%",!0);if(u)try{u({},"a",{value:1})}catch(l){u=null}t.exports=function(){return s(r,a,arguments)};var c=function(){return s(r,o,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c},function(t,e,n){var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"===typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"===typeof u.get?u.get:null,l=s&&Set.prototype.forEach,f="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p=Boolean.prototype.valueOf,d=Object.prototype.toString,y=Function.prototype.toString,v=String.prototype.match,g="function"===typeof BigInt?BigInt.prototype.valueOf:null,m=n(869).custom,b=m&&E(m)?m:null;function _(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function x(t){return String(t).replace(/"/g,"&quot;")}function w(t){return"[object Array]"===O(t)}function E(t){return"[object Symbol]"===O(t)}t.exports=function t(e,n,r,i){var s=n||{};if(k(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(k(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!k(s,"customInspect")||s.customInspect;if("boolean"!==typeof u)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(k(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if("undefined"===typeof e)return"undefined";if(null===e)return"null";if("boolean"===typeof e)return e?"true":"false";if("string"===typeof e)return P(e,s);if("number"===typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"===typeof e)return String(e)+"n";var d="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof r&&(r=0),r>=d&&d>0&&"object"===typeof e)return w(e)?"[Array]":"[Object]";var m=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"===typeof t.indent&&t.indent>0))return null;n=Array(t.indent+1).join(" ")}return{base:n,prev:Array(e+1).join(n)}}(s,r);if("undefined"===typeof i)i=[];else if(C(i,e)>=0)return"[Circular]";function S(e,n,o){if(n&&(i=i.slice()).push(n),o){var a={depth:s.depth};return k(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),t(e,a,r+1,i)}return t(e,s,r+1,i)}if("function"===typeof e){var T=function(t){if(t.name)return t.name;var e=v.call(y.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e);return"[Function"+(T?": "+T:" (anonymous)")+"]"}if(E(e)){var D=Symbol.prototype.toString.call(e);return"object"===typeof e?M(D):D}if(function(t){if(!t||"object"!==typeof t)return!1;if("undefined"!==typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"===typeof t.nodeName&&"function"===typeof t.getAttribute}(e)){for(var N="<"+String(e.nodeName).toLowerCase(),L=e.attributes||[],z=0;z<L.length;z++)N+=" "+L[z].name+"="+_(x(L[z].value),"double",s);return N+=">",e.childNodes&&e.childNodes.length&&(N+="..."),N+="</"+String(e.nodeName).toLowerCase()+">"}if(w(e)){if(0===e.length)return"[]";var F=R(e,S);return m&&!function(t){for(var e=0;e<t.length;e++)if(C(t[e],"\n")>=0)return!1;return!0}(F)?"["+j(F,m)+"]":"[ "+F.join(", ")+" ]"}if(function(t){return"[object Error]"===O(t)}(e)){var B=R(e,S);return 0===B.length?"["+String(e)+"]":"{ ["+String(e)+"] "+B.join(", ")+" }"}if("object"===typeof e&&u){if(b&&"function"===typeof e[b])return e[b]();if("function"===typeof e.inspect)return e.inspect()}if(function(t){if(!o||!t||"object"!==typeof t)return!1;try{o.call(t);try{c.call(t)}catch(N){return!0}return t instanceof Map}catch(e){}return!1}(e)){var U=[];return a.call(e,(function(t,n){U.push(S(n,e,!0)+" => "+S(t,e))})),I("Map",o.call(e),U,m)}if(function(t){if(!c||!t||"object"!==typeof t)return!1;try{c.call(t);try{o.call(t)}catch(e){return!0}return t instanceof Set}catch(n){}return!1}(e)){var q=[];return l.call(e,(function(t){q.push(S(t,e))})),I("Set",c.call(e),q,m)}if(function(t){if(!f||!t||"object"!==typeof t)return!1;try{f.call(t,f);try{h.call(t,h)}catch(N){return!0}return t instanceof WeakMap}catch(e){}return!1}(e))return A("WeakMap");if(function(t){if(!h||!t||"object"!==typeof t)return!1;try{h.call(t,h);try{f.call(t,f)}catch(N){return!0}return t instanceof WeakSet}catch(e){}return!1}(e))return A("WeakSet");if(function(t){return"[object Number]"===O(t)}(e))return M(S(Number(e)));if(function(t){return"[object BigInt]"===O(t)}(e))return M(S(g.call(e)));if(function(t){return"[object Boolean]"===O(t)}(e))return M(p.call(e));if(function(t){return"[object String]"===O(t)}(e))return M(S(String(e)));if(!function(t){return"[object Date]"===O(t)}(e)&&!function(t){return"[object RegExp]"===O(t)}(e)){var V=R(e,S);return 0===V.length?"{}":m?"{"+j(V,m)+"}":"{ "+V.join(", ")+" }"}return String(e)};var S=Object.prototype.hasOwnProperty||function(t){return t in this};function k(t,e){return S.call(t,e)}function O(t){return d.call(t)}function C(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function P(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return P(t.slice(0,e.maxStringLength),e)+r}return _(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,T),"single",e)}function T(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+e.toString(16)}function M(t){return"Object("+t+")"}function A(t){return t+" { ? }"}function I(t,e,n,r){return t+" ("+e+") {"+(r?j(n,r):n.join(", "))+"}"}function j(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+t.join(","+n)+"\n"+e.prev}function R(t,e){var n=w(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=k(t,i)?e(t[i],t):""}for(var o in t)k(t,o)&&(n&&String(Number(o))===o&&o<t.length||(/[^\w$]/.test(o)?r.push(e(o,t)+": "+e(t[o],t)):r.push(o+": "+e(t[o],t))));return r}},,function(t,e,n){"use strict";(function(e){var r=n(527),i=n(528),o=n(191),a=o("Object.prototype.toString"),s=n(99)()&&"symbol"===typeof Symbol.toStringTag,u=i(),c=o("String.prototype.slice"),l={},f=n(872),h=Object.getPrototypeOf;s&&f&&h&&r(u,(function(t){if("function"===typeof e[t]){var n=new e[t];if(!(Symbol.toStringTag in n))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=h(n),i=f(r,Symbol.toStringTag);if(!i){var o=h(r);i=f(o,Symbol.toStringTag)}l[t]=i.get}}));var p=n(874);t.exports=function(t){return!!p(t)&&(s?function(t){var e=!1;return r(l,(function(n,r){if(!e)try{var i=n.call(t);i===r&&(e=i)}catch(o){}})),e}(t):c(a(t),8,-1))}}).call(this,n(53))},function(t,e){t.exports=function(t,e,r){if(t.filter)return t.filter(e,r);if(void 0===t||null===t)throw new TypeError;if("function"!=typeof e)throw new TypeError;for(var i=[],o=0;o<t.length;o++)if(n.call(t,o)){var a=t[o];e.call(r,a,o,t)&&i.push(a)}return i};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";var r=n(873)("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(i){r=null}t.exports=r},function(t,e,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(P){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=n(99)(),h=Object.getPrototypeOf||function(t){return t.__proto__},p=s("async function* () {}"),d=p?p.prototype:r,y=d?d.prototype:r,v="undefined"===typeof Uint8Array?r:h(Uint8Array),g={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":s("async function () {}"),"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":y?h(y):r,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":s("function* () {}"),"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":v,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(98),_=n(216),x=b.call(Function.call,Array.prototype.concat),w=b.call(Function.apply,Array.prototype.splice),E=b.call(Function.call,String.prototype.replace),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,O=function(t){var e=[];return E(t,S,(function(t,n,r,i){e[e.length]=r?E(i,k,"$1"):n||t})),e},C=function(t,e){var n,r=t;if(_(m,r)&&(r="%"+(n=m[r])[0]+"%"),_(g,r)){var o=g[r];if("undefined"===typeof o&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new a('"allowMissing" argument must be a boolean');var n=O(t),r=n.length>0?n[0]:"",i=C("%"+r+"%",e),o=i.name,s=i.value,c=!1,l=i.alias;l&&(r=l[0],w(n,x([0,1],l)));for(var f=1,h=!0;f<n.length;f+=1){var p=n[f];if("constructor"!==p&&h||(c=!0),_(g,o="%"+(r+="."+p)+"%"))s=g[o];else if(null!=s){if(u&&f+1>=n.length){var d=u(s,p);if(h=!!d,!e&&!(p in s))throw new a("base intrinsic for "+t+" exists, but the property is not available.");s=h&&"get"in d&&!("originalValue"in d.get)?d.get:s[p]}else h=_(s,p),s=s[p];h&&!c&&(g[o]=s)}}return s}},function(t,e,n){"use strict";(function(e){var r=n(527),i=n(528),o=n(191),a=o("Object.prototype.toString"),s=n(99)()&&"symbol"===typeof Symbol.toStringTag,u=i(),c=o("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},l=o("String.prototype.slice"),f={},h=n(875),p=Object.getPrototypeOf;s&&h&&p&&r(u,(function(t){var n=new e[t];if(!(Symbol.toStringTag in n))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=p(n),i=h(r,Symbol.toStringTag);if(!i){var o=p(r);i=h(o,Symbol.toStringTag)}f[t]=i.get}));t.exports=function(t){if(!t||"object"!==typeof t)return!1;if(!s){var e=l(a(t),8,-1);return c(u,e)>-1}return!!h&&function(t){var e=!1;return r(f,(function(n,r){if(!e)try{e=n.call(t)===r}catch(i){}})),e}(t)}}).call(this,n(53))},function(t,e,n){"use strict";var r=n(876)("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(i){r=null}t.exports=r},function(t,e,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(t){try{return Function('"use strict"; return ('+t+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(P){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=n(99)(),h=Object.getPrototypeOf||function(t){return t.__proto__},p=s("async function* () {}"),d=p?p.prototype:r,y=d?d.prototype:r,v="undefined"===typeof Uint8Array?r:h(Uint8Array),g={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":s("async function () {}"),"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":y?h(y):r,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":s("function* () {}"),"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":v,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(98),_=n(216),x=b.call(Function.call,Array.prototype.concat),w=b.call(Function.apply,Array.prototype.splice),E=b.call(Function.call,String.prototype.replace),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,O=function(t){var e=[];return E(t,S,(function(t,n,r,i){e[e.length]=r?E(i,k,"$1"):n||t})),e},C=function(t,e){var n,r=t;if(_(m,r)&&(r="%"+(n=m[r])[0]+"%"),_(g,r)){var o=g[r];if("undefined"===typeof o&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new a('"allowMissing" argument must be a boolean');var n=O(t),r=n.length>0?n[0]:"",i=C("%"+r+"%",e),o=i.name,s=i.value,c=!1,l=i.alias;l&&(r=l[0],w(n,x([0,1],l)));for(var f=1,h=!0;f<n.length;f+=1){var p=n[f];if("constructor"!==p&&h||(c=!0),_(g,o="%"+(r+="."+p)+"%"))s=g[o];else if(null!=s){if(u&&f+1>=n.length){var d=u(s,p);if(h=!!d,!e&&!(p in s))throw new a("base intrinsic for "+t+" exists, but the property is not available.");s=h&&"get"in d&&!("originalValue"in d.get)?d.get:s[p]}else h=_(s,p),s=s[p];h&&!c&&(g[o]=s)}}return s}},function(t,e,n){"use strict";var r=n(119),i=n(370),o=n(529),a=n(530),s=n(878),u=i.apply(a()),c=function(t,e){return u(Object,arguments)};r(c,{getPolyfill:a,implementation:o,shim:s}),t.exports=c},function(t,e,n){"use strict";var r=n(119),i=n(530);t.exports=function(){var t=i();return r(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(1)),i=s(n(265)),o=n(155),a=n(267);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}e.default=function(t){var e=t.value,n=void 0===e?{}:e,s=t.id,u=t.onChange,h=t.disabled,d=t.autoFocus,y=t.large,v=t.small,g=(p(t,["value","id","onChange","disabled","autoFocus","large","small"]),f(r.default.useState(""),2)),m=g[0],b=g[1],_=f(r.default.useState(""),2),x=_[0],w=_[1],E=null,S=function(){u(c(c({},n),{},l({},m,x))),b(""),w(""),E&&E.focus()},k=function(t){m&&x&&13===t.keyCode&&(t.stopPropagation(),t.preventDefault(),S())},O=function(t){delete n[t],u(c({},n))},C=Object.keys(n).length;return r.default.createElement("div",null,r.default.createElement("div",{className:"flex"},r.default.createElement(i.default,{className:"flex-1",value:m,onChange:b,id:s,autoFocus:d,ref:function(t){return E=t},disabled:h,onKeyDown:k,large:y,small:v}),r.default.createElement(i.default,{className:"flex-1 ml-1",value:x,onKeyDown:k,onChange:w,disabled:h,large:y,small:v}),r.default.createElement(o.Button,{className:"flex-0 ml-1",onClick:S,disabled:h||!m||!x||m in n,large:y,small:v},"Add to Object")),C?r.default.createElement("div",{className:"mt-1 ml-10"},r.default.createElement(a.ValueContainer,{className:"cursor-default"},r.default.createElement(a.ValueItem,null,"{"),Object.keys(n).map((function(t,e){return r.default.createElement(a.ValueItem,{key:t,edit:function(e){return function(t){b(t),w(n[t]),O(t),E&&E.focus()}(t)},remove:function(e){return O(t)}},t,": ",n[t])})),r.default.createElement(a.ValueItem,null,"}"))):null)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(134),a=n(61);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f=i.default.forwardRef((function(t,e){var n=t.large,r=t.small,c=t.className,f=void 0===c?"":c,p=t.labels,d=void 0===p?["False","True"]:p,y=t.value,v=t.onChange,g=t.disabled,m=void 0!==g&&g,b=t.autoFocus,_=void 0!==b&&b,x=l(t,["large","small","className","labels","value","onChange","disabled","autoFocus"]),w=u(i.default.useState(!1),2),E=w[0],S=w[1],k=u(i.default.useState(null),2),O=k[0],C=k[1];i.default.useEffect((function(){Boolean(O)&&_&&O.focus()}),[_,O]);var P=(0,a.useTheme)();return i.default.createElement("div",s({},x,{onClick:m?null:function(t){return v(!y)},onFocus:function(t){return S(!m)},onBlur:function(t){return S(!1)},className:"\n        ".concat(n?"".concat(P.paddingLarge," ").concat(P.textLarge):r?"".concat(P.paddingSmall," ").concat(P.textSmall):"".concat(P.paddingBase," ").concat(P.textBase),"\n        ").concat(m?"".concat(P.inputBgDisabled," ").concat(P.inputBorderDisabled):E?"".concat(P.inputBgFocus," ").concat(P.inputBorderFocus):"".concat(P.inputBg," ").concat(P.inputBorder),"\n        ").concat(f,"\n      "),ref:(0,o.useSetRefs)(e,C),tabIndex:m?"-1":"0"}),i.default.createElement("div",{className:"flex"},i.default.createElement("div",{className:"flex-0"},i.default.createElement(h,{value:y})),i.default.createElement("div",{className:"flex-1 ml-4"},d[+Boolean(y)])))}));e.default=f;var h=function(t){var e=t.value,n=(0,a.useTheme)();return i.default.createElement("div",{className:"px-1 h-full flex justify-center items-center"},i.default.createElement("div",{className:"relative h-3"},i.default.createElement("div",{className:"relative w-10 h-3 rounded-lg overflow-hidden"},i.default.createElement("div",{className:"absolute top-0 w-20 h-full ".concat(n.accent4),style:{left:e?"100%":"0",transition:"left 0.25s"}}),i.default.createElement("div",{className:"absolute top-0 w-20 h-full ".concat(n.bgInfo),style:{right:e?"0":"100%",transition:"right 0.25s"}})),i.default.createElement("div",{className:"absolute h-4 w-4 rounded-lg ".concat(n.accent2),style:{top:"50%",left:e?"calc(100% - 0.625rem)":"-0.125rem",transform:"translateY(-50%)",transition:"left 0.25s"}})))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MarkdownViewer=void 0;var r=u(n(1)),i=n(155),o=n(134),a=n(61),s=u(n(882));function u(t){return t&&t.__esModule?t:{default:t}}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function p(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n  h1 {\n    font-size: 1.875rem;\n    font-weight: 800;\n  }\n  h2 {\n    font-size: 1.5rem;\n    font-weight: 700;\n  }\n  h3 {\n    font-size: 1.25rem;\n    font-weight: 600;\n  }\n"]);return p=function(){return t},t}var d=u(n(14)).default.div(p());e.MarkdownViewer=function(t){var e=t.markdown;return r.default.createElement(d,{className:"markdown-renderer"},r.default.createElement(s.default,{markdown:e}))};var y=r.default.forwardRef((function(t,e){var n=t.large,u=t.small,f=t.className,p=void 0===f?"":f,y=(t.children,t.onChange),v=t.value,g=t.autoFocus,m=h(t,["large","small","className","children","onChange","value","autoFocus"]),b=l(r.default.useState(!1),2),_=b[0],x=b[1],w=r.default.useRef(!1),E=(0,a.useTheme)()["input".concat((0,o.composeOptions)({large:n,small:u}))],S=l(r.default.useState({}),2),k=S[0],O=S[1],C=l(r.default.useState("10rem"),2),P=C[0],T=C[1];r.default.useEffect((function(){g&&k.focus&&(k.focus(),x(!0))}),[g,k]),r.default.useEffect((function(){k.scrollHeight>k.clientHeight&&T("calc(".concat(k.scrollHeight,"px + 0.25rem)")),w.current!==_&&(_&&k.focus(),w.current=_)}),[v,_,k]);var M=r.default.useCallback((function(t){x(!1)}),[]),A=l((0,o.useClickOutside)(M),1)[0];return r.default.createElement("div",{ref:A,tabIndex:0,onFocus:function(t){return x(!0)},onBlur:function(t){return x(!1)}},r.default.createElement("div",{style:{display:_?"block":"none"},className:"relative"},r.default.createElement("div",{className:"absolute ml-2",style:{left:"100%"}},r.default.createElement(i.Button,{onClick:function(t){return x(!1)}},"preview")),r.default.createElement("div",null,r.default.createElement("textarea",c({},m,{style:{height:P},onChange:function(t){return y(t.target.value)},value:v||"",className:"".concat(E," ").concat(p),ref:(0,o.useSetRefs)(e,O),rows:6})))),r.default.createElement(d,{className:"markdown-renderer",style:{display:_?"none":"block"},onClick:function(t){return x(!0)}},r.default.createElement(s.default,{markdown:v||"",className:"".concat(E," ").concat(p),style:{minHeight:"2rem"},options:{html:!0}})))}));e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=a(n(1)),o=a(n(883));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var u=function(t){var e=t.markdown,n=t.options,a=(n=void 0===n?{}:n).preset,u=s(n,["preset"]),c=s(t,["markdown","options"]),l=new o.default(a||"default",u).render(e);return i.default.createElement("div",r({},c,{dangerouslySetInnerHTML:{__html:l}}))};u.propTypes={markdown:n(2).string.isRequired,options:n(2).shape({preset:n(2).oneOf(["default","commonmark","full"]),html:n(2).bool,xhtmlOut:n(2).bool,breaks:n(2).bool,langPrefix:n(2).string,linkify:n(2).bool,typographer:n(2).bool,quotes:n(2).string,highlight:n(2).func})},e.default=u},function(t,e,n){"use strict";t.exports=n(884)},function(t,e,n){"use strict";var r=n(74).assign,i=n(885),o=n(887),a=n(898),s=n(913),u=n(269),c={default:n(932),full:n(933),commonmark:n(934)};function l(t,e,n){this.src=e,this.env=n,this.options=t.options,this.tokens=[],this.inlineMode=!1,this.inline=t.inline,this.block=t.block,this.renderer=t.renderer,this.typographer=t.typographer}function f(t,e){"string"!==typeof t&&(e=t,t="default"),this.inline=new s,this.block=new a,this.core=new o,this.renderer=new i,this.ruler=new u,this.options={},this.configure(c[t]),this.set(e||{})}f.prototype.set=function(t){r(this.options,t)},f.prototype.configure=function(t){var e=this;if(!t)throw new Error("Wrong `remarkable` preset, check name/content");t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach((function(n){t.components[n].rules&&e[n].ruler.enable(t.components[n].rules,!0)}))},f.prototype.use=function(t,e){return t(this,e),this},f.prototype.parse=function(t,e){var n=new l(this,t,e);return this.core.process(n),n.tokens},f.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},f.prototype.parseInline=function(t,e){var n=new l(this,t,e);return n.inlineMode=!0,this.core.process(n),n.tokens},f.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)},t.exports=f,t.exports.utils=n(74)},function(t,e,n){"use strict";var r=n(74),i=n(886);function o(){this.rules=r.assign({},i),this.getBreak=i.getBreak}t.exports=o,o.prototype.renderInline=function(t,e,n){for(var r=this.rules,i=t.length,o=0,a="";i--;)a+=r[t[o].type](t,o++,e,n,this);return a},o.prototype.render=function(t,e,n){for(var r=this.rules,i=t.length,o=-1,a="";++o<i;)"inline"===t[o].type?a+=this.renderInline(t[o].children,e,n):a+=r[t[o].type](t,o,e,n,this);return a}},function(t,e,n){"use strict";var r=n(74).has,i=n(74).unescapeMd,o=n(74).replaceEntities,a=n(74).escapeHtml,s={};function u(t,e){return++e>=t.length-2?e:"paragraph_open"===t[e].type&&t[e].tight&&"inline"===t[e+1].type&&0===t[e+1].content.length&&"paragraph_close"===t[e+2].type&&t[e+2].tight?u(t,e+2):e}s.blockquote_open=function(){return"<blockquote>\n"},s.blockquote_close=function(t,e){return"</blockquote>"+c(t,e)},s.code=function(t,e){return t[e].block?"<pre><code>"+a(t[e].content)+"</code></pre>"+c(t,e):"<code>"+a(t[e].content)+"</code>"},s.fence=function(t,e,n,s,u){var l,f,h=t[e],p="",d=n.langPrefix;if(h.params){if(f=(l=h.params.split(/\s+/g)).join(" "),r(u.rules.fence_custom,l[0]))return u.rules.fence_custom[l[0]](t,e,n,s,u);p=' class="'+d+a(o(i(f)))+'"'}return"<pre><code"+p+">"+(n.highlight&&n.highlight.apply(n.highlight,[h.content].concat(l))||a(h.content))+"</code></pre>"+c(t,e)},s.fence_custom={},s.heading_open=function(t,e){return"<h"+t[e].hLevel+">"},s.heading_close=function(t,e){return"</h"+t[e].hLevel+">\n"},s.hr=function(t,e,n){return(n.xhtmlOut?"<hr />":"<hr>")+c(t,e)},s.bullet_list_open=function(){return"<ul>\n"},s.bullet_list_close=function(t,e){return"</ul>"+c(t,e)},s.list_item_open=function(){return"<li>"},s.list_item_close=function(){return"</li>\n"},s.ordered_list_open=function(t,e){var n=t[e];return"<ol"+(n.order>1?' start="'+n.order+'"':"")+">\n"},s.ordered_list_close=function(t,e){return"</ol>"+c(t,e)},s.paragraph_open=function(t,e){return t[e].tight?"":"<p>"},s.paragraph_close=function(t,e){var n=!(t[e].tight&&e&&"inline"===t[e-1].type&&!t[e-1].content);return(t[e].tight?"":"</p>")+(n?c(t,e):"")},s.link_open=function(t,e,n){var r=t[e].title?' title="'+a(o(t[e].title))+'"':"",i=n.linkTarget?' target="'+n.linkTarget+'"':"";return'<a href="'+a(t[e].href)+'"'+r+i+">"},s.link_close=function(){return"</a>"},s.image=function(t,e,n){var r=' src="'+a(t[e].src)+'"',s=t[e].title?' title="'+a(o(t[e].title))+'"':"";return"<img"+r+(' alt="'+(t[e].alt?a(o(i(t[e].alt))):"")+'"')+s+(n.xhtmlOut?" /":"")+">"},s.table_open=function(){return"<table>\n"},s.table_close=function(){return"</table>\n"},s.thead_open=function(){return"<thead>\n"},s.thead_close=function(){return"</thead>\n"},s.tbody_open=function(){return"<tbody>\n"},s.tbody_close=function(){return"</tbody>\n"},s.tr_open=function(){return"<tr>"},s.tr_close=function(){return"</tr>\n"},s.th_open=function(t,e){var n=t[e];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"},s.th_close=function(){return"</th>"},s.td_open=function(t,e){var n=t[e];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"},s.td_close=function(){return"</td>"},s.strong_open=function(){return"<strong>"},s.strong_close=function(){return"</strong>"},s.em_open=function(){return"<em>"},s.em_close=function(){return"</em>"},s.del_open=function(){return"<del>"},s.del_close=function(){return"</del>"},s.ins_open=function(){return"<ins>"},s.ins_close=function(){return"</ins>"},s.mark_open=function(){return"<mark>"},s.mark_close=function(){return"</mark>"},s.sub=function(t,e){return"<sub>"+a(t[e].content)+"</sub>"},s.sup=function(t,e){return"<sup>"+a(t[e].content)+"</sup>"},s.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(t,e){return a(t[e].content)},s.htmlblock=function(t,e){return t[e].content},s.htmltag=function(t,e){return t[e].content},s.abbr_open=function(t,e){return'<abbr title="'+a(o(t[e].title))+'">'},s.abbr_close=function(){return"</abbr>"},s.footnote_ref=function(t,e){var n=Number(t[e].id+1).toString(),r="fnref"+n;return t[e].subId>0&&(r+=":"+t[e].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+r+'">['+n+"]</a></sup>"},s.footnote_block_open=function(t,e,n){return(n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n'},s.footnote_block_close=function(){return"</ol>\n</section>\n"},s.footnote_open=function(t,e){return'<li id="fn'+Number(t[e].id+1).toString()+'"  class="footnote-item">'},s.footnote_close=function(){return"</li>\n"},s.footnote_anchor=function(t,e){var n="fnref"+Number(t[e].id+1).toString();return t[e].subId>0&&(n+=":"+t[e].subId),' <a href="#'+n+'" class="footnote-backref">\u21a9</a>'},s.dl_open=function(){return"<dl>\n"},s.dt_open=function(){return"<dt>"},s.dd_open=function(){return"<dd>"},s.dl_close=function(){return"</dl>\n"},s.dt_close=function(){return"</dt>\n"},s.dd_close=function(){return"</dd>\n"};var c=s.getBreak=function(t,e){return(e=u(t,e))<t.length&&"list_item_close"===t[e].type?"":"\n"};t.exports=s},function(t,e,n){"use strict";var r=n(269),i=[["block",n(888)],["abbr",n(889)],["references",n(890)],["inline",n(891)],["footnote_tail",n(892)],["abbr2",n(893)],["replacements",n(894)],["smartquotes",n(895)],["linkify",n(896)]];function o(){this.options={},this.ruler=new r;for(var t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1])}o.prototype.process=function(t){var e,n,r;for(e=0,n=(r=this.ruler.getRules("")).length;e<n;e++)r[e](t)},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){t.inlineMode?t.tokens.push({type:"inline",content:t.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):t.block.parse(t.src,t.options,t.env,t.tokens)}},function(t,e,n){"use strict";var r=n(372),i=n(270);function o(t,e,n,o){var a,s,u,c,l,f;if(42!==t.charCodeAt(0))return-1;if(91!==t.charCodeAt(1))return-1;if(-1===t.indexOf("]:"))return-1;if(a=new r(t,e,n,o,[]),(s=i(a,1))<0||58!==t.charCodeAt(s+1))return-1;for(c=a.posMax,u=s+2;u<c&&10!==a.src.charCodeAt(u);u++);return l=t.slice(2,s),0===(f=t.slice(s+2,u).trim()).length?-1:(o.abbreviations||(o.abbreviations={}),"undefined"===typeof o.abbreviations[":"+l]&&(o.abbreviations[":"+l]=f),u)}t.exports=function(t){var e,n,r,i,a=t.tokens;if(!t.inlineMode)for(e=1,n=a.length-1;e<n;e++)if("paragraph_open"===a[e-1].type&&"inline"===a[e].type&&"paragraph_close"===a[e+1].type){for(r=a[e].content;r.length&&!((i=o(r,t.inline,t.options,t.env))<0);)r=r.slice(i).trim();a[e].content=r,r.length||(a[e-1].tight=!0,a[e+1].tight=!0)}}},function(t,e,n){"use strict";var r=n(372),i=n(270),o=n(532),a=n(534),s=n(535);function u(t,e,n,u){var c,l,f,h,p,d,y,v,g;if(91!==t.charCodeAt(0))return-1;if(-1===t.indexOf("]:"))return-1;if(c=new r(t,e,n,u,[]),(l=i(c,0))<0||58!==t.charCodeAt(l+1))return-1;for(h=c.posMax,f=l+2;f<h&&(32===(p=c.src.charCodeAt(f))||10===p);f++);if(!o(c,f))return-1;for(y=c.linkContent,d=f=c.pos,f+=1;f<h&&(32===(p=c.src.charCodeAt(f))||10===p);f++);for(f<h&&d!==f&&a(c,f)?(v=c.linkContent,f=c.pos):(v="",f=d);f<h&&32===c.src.charCodeAt(f);)f++;return f<h&&10!==c.src.charCodeAt(f)?-1:(g=s(t.slice(1,l)),"undefined"===typeof u.references[g]&&(u.references[g]={title:v,href:y}),f)}t.exports=function(t){var e,n,r,i,o=t.tokens;if(t.env.references=t.env.references||{},!t.inlineMode)for(e=1,n=o.length-1;e<n;e++)if("inline"===o[e].type&&"paragraph_open"===o[e-1].type&&"paragraph_close"===o[e+1].type){for(r=o[e].content;r.length&&!((i=u(r,t.inline,t.options,t.env))<0);)r=r.slice(i).trim();o[e].content=r,r.length||(o[e-1].tight=!0,o[e+1].tight=!0)}}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r,i=t.tokens;for(n=0,r=i.length;n<r;n++)"inline"===(e=i[n]).type&&t.inline.parse(e.content,t.options,t.env,e.children)}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r,i,o,a,s,u,c,l=0,f=!1,h={};if(t.env.footnotes&&(t.tokens=t.tokens.filter((function(t){return"footnote_reference_open"===t.type?(f=!0,u=[],c=t.label,!1):"footnote_reference_close"===t.type?(f=!1,h[":"+c]=u,!1):(f&&u.push(t),!f)})),t.env.footnotes.list)){for(a=t.env.footnotes.list,t.tokens.push({type:"footnote_block_open",level:l++}),e=0,n=a.length;e<n;e++){for(t.tokens.push({type:"footnote_open",id:e,level:l++}),a[e].tokens?((s=[]).push({type:"paragraph_open",tight:!1,level:l++}),s.push({type:"inline",content:"",level:l,children:a[e].tokens}),s.push({type:"paragraph_close",tight:!1,level:--l})):a[e].label&&(s=h[":"+a[e].label]),t.tokens=t.tokens.concat(s),o="paragraph_close"===t.tokens[t.tokens.length-1].type?t.tokens.pop():null,i=a[e].count>0?a[e].count:1,r=0;r<i;r++)t.tokens.push({type:"footnote_anchor",id:e,subId:r,level:l});o&&t.tokens.push(o),t.tokens.push({type:"footnote_close",level:--l})}t.tokens.push({type:"footnote_block_close",level:--l})}}},function(t,e,n){"use strict";var r=" \n()[]'\".,!?-";function i(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}t.exports=function(t){var e,n,o,a,s,u,c,l,f,h,p,d,y=t.tokens;if(t.env.abbreviations)for(t.env.abbrRegExp||(d="(^|["+r.split("").map(i).join("")+"])("+Object.keys(t.env.abbreviations).map((function(t){return t.substr(1)})).sort((function(t,e){return e.length-t.length})).map(i).join("|")+")($|["+r.split("").map(i).join("")+"])",t.env.abbrRegExp=new RegExp(d,"g")),h=t.env.abbrRegExp,n=0,o=y.length;n<o;n++)if("inline"===y[n].type)for(e=(a=y[n].children).length-1;e>=0;e--)if("text"===(s=a[e]).type){for(l=0,u=s.content,h.lastIndex=0,f=s.level,c=[];p=h.exec(u);)h.lastIndex>l&&c.push({type:"text",content:u.slice(l,p.index+p[1].length),level:f}),c.push({type:"abbr_open",title:t.env.abbreviations[":"+p[2]],level:f++}),c.push({type:"text",content:p[2],level:f}),c.push({type:"abbr_close",level:--f}),l=h.lastIndex-p[3].length;c.length&&(l<u.length&&c.push({type:"text",content:u.slice(l),level:f}),y[n].children=a=[].concat(a.slice(0,e),c,a.slice(e+1)))}}},function(t,e,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,i=/\((c|tm|r|p)\)/gi,o={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};t.exports=function(t){var e,n,a,s,u,c;if(t.options.typographer)for(u=t.tokens.length-1;u>=0;u--)if("inline"===t.tokens[u].type)for(e=(s=t.tokens[u].children).length-1;e>=0;e--)"text"===(n=s[e]).type&&(a=n.content,a=(c=a).indexOf("(")<0?c:c.replace(i,(function(t,e){return o[e.toLowerCase()]})),r.test(a)&&(a=a.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),n.content=a)}},function(t,e,n){"use strict";var r=/['"]/,i=/['"]/g,o=/[-\s()\[\]]/;function a(t,e){return!(e<0||e>=t.length)&&!o.test(t[e])}function s(t,e,n){return t.substr(0,e)+n+t.substr(e+1)}t.exports=function(t){var e,n,o,u,c,l,f,h,p,d,y,v,g,m,b,_,x;if(t.options.typographer)for(x=[],b=t.tokens.length-1;b>=0;b--)if("inline"===t.tokens[b].type)for(_=t.tokens[b].children,x.length=0,e=0;e<_.length;e++)if("text"===(n=_[e]).type&&!r.test(n.text)){for(f=_[e].level,g=x.length-1;g>=0&&!(x[g].level<=f);g--);x.length=g+1,c=0,l=(o=n.content).length;t:for(;c<l&&(i.lastIndex=c,u=i.exec(o));)if(h=!a(o,u.index-1),c=u.index+1,m="'"===u[0],(p=!a(o,c))||h){if(y=!p,v=!h)for(g=x.length-1;g>=0&&(d=x[g],!(x[g].level<f));g--)if(d.single===m&&x[g].level===f){d=x[g],m?(_[d.token].content=s(_[d.token].content,d.pos,t.options.quotes[2]),n.content=s(n.content,u.index,t.options.quotes[3])):(_[d.token].content=s(_[d.token].content,d.pos,t.options.quotes[0]),n.content=s(n.content,u.index,t.options.quotes[1])),x.length=g;continue t}y?x.push({token:e,pos:u.index,single:m,level:f}):v&&m&&(n.content=s(n.content,u.index,"\u2019"))}else m&&(n.content=s(n.content,u.index,"\u2019"))}}},function(t,e,n){"use strict";var r=n(897),i=/www|@|\:\/\//;function o(t){return/^<\/a\s*>/i.test(t)}function a(){var t=[],e=new r({stripPrefix:!1,url:!0,email:!0,twitter:!1,replaceFn:function(e,n){switch(n.getType()){case"url":t.push({text:n.matchedText,url:n.getUrl()});break;case"email":t.push({text:n.matchedText,url:"mailto:"+n.getEmail().replace(/^mailto:/i,"")})}return!1}});return{links:t,autolinker:e}}t.exports=function(t){var e,n,r,s,u,c,l,f,h,p,d,y,v,g,m=t.tokens,b=null;if(t.options.linkify)for(n=0,r=m.length;n<r;n++)if("inline"===m[n].type)for(d=0,e=(s=m[n].children).length-1;e>=0;e--)if("link_close"!==(u=s[e]).type){if("htmltag"===u.type&&(g=u.content,/^<a[>\s]/i.test(g)&&d>0&&d--,o(u.content)&&d++),!(d>0)&&"text"===u.type&&i.test(u.content)){if(b||(y=(b=a()).links,v=b.autolinker),c=u.content,y.length=0,v.link(c),!y.length)continue;for(l=[],p=u.level,f=0;f<y.length;f++)t.inline.validateLink(y[f].url)&&((h=c.indexOf(y[f].text))&&(p=p,l.push({type:"text",content:c.slice(0,h),level:p})),l.push({type:"link_open",href:y[f].url,title:"",level:p++}),l.push({type:"text",content:y[f].text,level:p}),l.push({type:"link_close",level:--p}),c=c.slice(h+y[f].text.length));c.length&&l.push({type:"text",content:c,level:p}),m[n].children=s=[].concat(s.slice(0,e),l,s.slice(e+1))}}else for(e--;s[e].level!==u.level&&"link_open"!==s[e].type;)e--}},function(t,e,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){var t=function t(e){e=e||{},this.version=t.version,this.urls=this.normalizeUrlsCfg(e.urls),this.email="boolean"!==typeof e.email||e.email,this.twitter="boolean"!==typeof e.twitter||e.twitter,this.phone="boolean"!==typeof e.phone||e.phone,this.hashtag=e.hashtag||!1,this.newWindow="boolean"!==typeof e.newWindow||e.newWindow,this.stripPrefix="boolean"!==typeof e.stripPrefix||e.stripPrefix;var n=this.hashtag;if(!1!==n&&"twitter"!==n&&"facebook"!==n&&"instagram"!==n)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(e.truncate),this.className=e.className||"",this.replaceFn=e.replaceFn||null,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return t.link=function(e,n){return new t(n).link(e)},t.version="0.28.1",t.prototype={constructor:t,normalizeUrlsCfg:function(t){return null==t&&(t=!0),"boolean"===typeof t?{schemeMatches:t,wwwMatches:t,tldMatches:t}:{schemeMatches:"boolean"!==typeof t.schemeMatches||t.schemeMatches,wwwMatches:"boolean"!==typeof t.wwwMatches||t.wwwMatches,tldMatches:"boolean"!==typeof t.tldMatches||t.tldMatches}},normalizeTruncateCfg:function(e){return"number"===typeof e?{length:e,location:"end"}:t.Util.defaults(e||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(t){for(var e=this.getHtmlParser().parse(t),n=0,r=[],i=0,o=e.length;i<o;i++){var a=e[i],s=a.getType();if("element"===s&&"a"===a.getTagName())a.isClosing()?n=Math.max(n-1,0):n++;else if("text"===s&&0===n){var u=this.parseText(a.getText(),a.getOffset());r.push.apply(r,u)}}return r=this.compactMatches(r),r=this.removeUnwantedMatches(r)},compactMatches:function(t){t.sort((function(t,e){return t.getOffset()-e.getOffset()}));for(var e=0;e<t.length-1;e++)for(var n=t[e],r=n.getOffset()+n.getMatchedText().length;e+1<t.length&&t[e+1].getOffset()<=r;)t.splice(e+1,1);return t},removeUnwantedMatches:function(e){var n=t.Util.remove;return this.hashtag||n(e,(function(t){return"hashtag"===t.getType()})),this.email||n(e,(function(t){return"email"===t.getType()})),this.phone||n(e,(function(t){return"phone"===t.getType()})),this.twitter||n(e,(function(t){return"twitter"===t.getType()})),this.urls.schemeMatches||n(e,(function(t){return"url"===t.getType()&&"scheme"===t.getUrlMatchType()})),this.urls.wwwMatches||n(e,(function(t){return"url"===t.getType()&&"www"===t.getUrlMatchType()})),this.urls.tldMatches||n(e,(function(t){return"url"===t.getType()&&"tld"===t.getUrlMatchType()})),e},parseText:function(t,e){e=e||0;for(var n=this.getMatchers(),r=[],i=0,o=n.length;i<o;i++){for(var a=n[i].parseMatches(t),s=0,u=a.length;s<u;s++)a[s].setOffset(e+a[s].getOffset());r.push.apply(r,a)}return r},link:function(t){if(!t)return"";for(var e=this.parse(t),n=[],r=0,i=0,o=e.length;i<o;i++){var a=e[i];n.push(t.substring(r,a.getOffset())),n.push(this.createMatchReturnVal(a)),r=a.getOffset()+a.getMatchedText().length}return n.push(t.substring(r)),n.join("")},createMatchReturnVal:function(e){var n;return this.replaceFn&&(n=this.replaceFn.call(this,this,e)),"string"===typeof n?n:!1===n?e.getMatchedText():n instanceof t.HtmlTag?n.toAnchorString():e.buildTag().toAnchorString()},getHtmlParser:function(){var e=this.htmlParser;return e||(e=this.htmlParser=new t.htmlParser.HtmlParser),e},getMatchers:function(){if(this.matchers)return this.matchers;var e=t.matcher,n=this.getTagBuilder(),r=[new e.Hashtag({tagBuilder:n,serviceName:this.hashtag}),new e.Email({tagBuilder:n}),new e.Phone({tagBuilder:n}),new e.Twitter({tagBuilder:n}),new e.Url({tagBuilder:n,stripPrefix:this.stripPrefix})];return this.matchers=r},getTagBuilder:function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new t.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e}},t.match={},t.matcher={},t.htmlParser={},t.truncate={},t.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaults:function(t,e){for(var n in e)e.hasOwnProperty(n)&&void 0===t[n]&&(t[n]=e[n]);return t},extend:function(e,n){var r,i=e.prototype,o=function(){};o.prototype=i;var a=(r=n.hasOwnProperty("constructor")?n.constructor:function(){i.constructor.apply(this,arguments)}).prototype=new o;return a.constructor=r,a.superclass=i,delete n.constructor,t.Util.assign(a,n),r},ellipsis:function(t,e,n){return t.length>e&&(n=null==n?"..":n,t=t.substring(0,e-n.length)+n),t},indexOf:function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},remove:function(t,e){for(var n=t.length-1;n>=0;n--)!0===e(t[n])&&t.splice(n,1)},splitAndCapture:function(t,e){if(!e.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,r=[],i=0;n=e.exec(t);)r.push(t.substring(i,n.index)),r.push(n[0]),i=n.index+n[0].length;return r.push(t.substring(i)),r},trim:function(t){return t.replace(this.trimRegex,"")}},t.HtmlTag=t.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(e){t.Util.assign(this,e),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(t){return this.tagName=t,this},getTagName:function(){return this.tagName||""},setAttr:function(t,e){return this.getAttrs()[t]=e,this},getAttr:function(t){return this.getAttrs()[t]},setAttrs:function(e){var n=this.getAttrs();return t.Util.assign(n,e),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(t){return this.setAttr("class",t)},addClass:function(e){for(var n,r=this.getClass(),i=this.whitespaceRegex,o=t.Util.indexOf,a=r?r.split(i):[],s=e.split(i);n=s.shift();)-1===o(a,n)&&a.push(n);return this.getAttrs().class=a.join(" "),this},removeClass:function(e){for(var n,r=this.getClass(),i=this.whitespaceRegex,o=t.Util.indexOf,a=r?r.split(i):[],s=e.split(i);a.length&&(n=s.shift());){var u=o(a,n);-1!==u&&a.splice(u,1)}return this.getAttrs().class=a.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(t){return-1!==(" "+this.getClass()+" ").indexOf(" "+t+" ")},setInnerHtml:function(t){return this.innerHtml=t,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var t=this.getTagName(),e=this.buildAttrsStr();return["<",t,e=e?" "+e:"",">",this.getInnerHtml(),"</",t,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var t=this.getAttrs(),e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+'="'+t[n]+'"');return e.join(" ")}}),t.RegexLib=function(){var t="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b4\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fd5\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ad\ua7b0-\ua7b7\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19";return{alphaNumericCharsStr:t,domainNameRegex:new RegExp("["+t+".\\-]*["+t+"\\-]"),tldRegex:/(?:travelersinsurance|sandvikcoromant|kerryproperties|cancerresearch|weatherchannel|kerrylogistics|spreadbetting|international|wolterskluwer|lifeinsurance|construction|pamperedchef|scholarships|versicherung|bridgestone|creditunion|kerryhotels|investments|productions|blackfriday|enterprises|lamborghini|photography|motorcycles|williamhill|playstation|contractors|barclaycard|accountants|redumbrella|engineering|management|telefonica|protection|consulting|tatamotors|creditcard|vlaanderen|schaeffler|associates|properties|foundation|republican|bnpparibas|boehringer|eurovision|extraspace|industries|immobilien|university|technology|volkswagen|healthcare|restaurant|cuisinella|vistaprint|apartments|accountant|travelers|homedepot|institute|vacations|furniture|fresenius|insurance|christmas|bloomberg|solutions|barcelona|firestone|financial|kuokgroup|fairwinds|community|passagens|goldpoint|equipment|lifestyle|yodobashi|aquarelle|marketing|analytics|education|amsterdam|statefarm|melbourne|allfinanz|directory|microsoft|stockholm|montblanc|accenture|lancaster|landrover|everbank|istanbul|graphics|grainger|ipiranga|softbank|attorney|pharmacy|saarland|catering|airforce|yokohama|mortgage|frontier|mutuelle|stcgroup|memorial|pictures|football|symantec|cipriani|ventures|telecity|cityeats|verisign|flsmidth|boutique|cleaning|firmdale|clinique|clothing|redstone|infiniti|deloitte|feedback|services|broadway|plumbing|commbank|training|barclays|exchange|computer|brussels|software|delivery|barefoot|builders|business|bargains|engineer|holdings|download|security|helsinki|lighting|movistar|discount|hdfcbank|supplies|marriott|property|diamonds|capetown|partners|democrat|jpmorgan|bradesco|budapest|rexroth|zuerich|shriram|academy|science|support|youtube|singles|surgery|alibaba|statoil|dentist|schwarz|android|cruises|cricket|digital|markets|starhub|systems|courses|coupons|netbank|country|domains|corsica|network|neustar|realtor|lincoln|limited|schmidt|yamaxun|cooking|contact|auction|spiegel|liaison|leclerc|latrobe|lasalle|abogado|compare|lanxess|exposed|express|company|cologne|college|avianca|lacaixa|fashion|recipes|ferrero|komatsu|storage|wanggou|clubmed|sandvik|fishing|fitness|bauhaus|kitchen|flights|florist|flowers|watches|weather|temasek|samsung|bentley|forsale|channel|theater|frogans|theatre|okinawa|website|tickets|jewelry|gallery|tiffany|iselect|shiksha|brother|organic|wedding|genting|toshiba|origins|philips|hyundai|hotmail|hoteles|hosting|rentals|windows|cartier|bugatti|holiday|careers|whoswho|hitachi|panerai|caravan|reviews|guitars|capital|trading|hamburg|hangout|finance|stream|family|abbott|health|review|travel|report|hermes|hiphop|gratis|career|toyota|hockey|dating|repair|google|social|soccer|reisen|global|otsuka|giving|unicom|casino|photos|center|broker|rocher|orange|bostik|garden|insure|ryukyu|bharti|safety|physio|sakura|oracle|online|jaguar|gallup|piaget|tienda|futbol|pictet|joburg|webcam|berlin|office|juegos|kaufen|chanel|chrome|xihuan|church|tennis|circle|kinder|flickr|bayern|claims|clinic|viajes|nowruz|xperia|norton|yachts|studio|coffee|camera|sanofi|nissan|author|expert|events|comsec|lawyer|tattoo|viking|estate|villas|condos|realty|yandex|energy|emerck|virgin|vision|durban|living|school|coupon|london|taobao|natura|taipei|nagoya|luxury|walter|aramco|sydney|madrid|credit|maison|makeup|schule|market|anquan|direct|design|swatch|suzuki|alsace|vuelos|dental|alipay|voyage|shouji|voting|airtel|mutual|degree|supply|agency|museum|mobily|dealer|monash|select|mormon|active|moscow|racing|datsun|quebec|nissay|rodeo|email|gifts|works|photo|chloe|edeka|cheap|earth|vista|tushu|koeln|glass|shoes|globo|tunes|gmail|nokia|space|kyoto|black|ricoh|seven|lamer|sener|epson|cisco|praxi|trust|citic|crown|shell|lease|green|legal|lexus|ninja|tatar|gripe|nikon|group|video|wales|autos|gucci|party|nexus|guide|linde|adult|parts|amica|lixil|boats|azure|loans|locus|cymru|lotte|lotto|stada|click|poker|quest|dabur|lupin|nadex|paris|faith|dance|canon|place|gives|trade|skype|rocks|mango|cloud|boots|smile|final|swiss|homes|honda|media|horse|cards|deals|watch|bosch|house|pizza|miami|osaka|tours|total|xerox|coach|sucks|style|delta|toray|iinet|tools|money|codes|beats|tokyo|salon|archi|movie|baidu|study|actor|yahoo|store|apple|world|forex|today|bible|tmall|tirol|irish|tires|forum|reise|vegas|vodka|sharp|omega|weber|jetzt|audio|promo|build|bingo|chase|gallo|drive|dubai|rehab|press|solar|sale|beer|bbva|bank|band|auto|sapo|sarl|saxo|audi|asia|arte|arpa|army|yoga|ally|zara|scor|scot|sexy|seat|zero|seek|aero|adac|zone|aarp|maif|meet|meme|menu|surf|mini|mobi|mtpc|porn|desi|star|ltda|name|talk|navy|love|loan|live|link|news|limo|like|spot|life|nico|lidl|lgbt|land|taxi|team|tech|kred|kpmg|sony|song|kiwi|kddi|jprs|jobs|sohu|java|itau|tips|info|immo|icbc|hsbc|town|host|page|toys|here|help|pars|haus|guru|guge|tube|goog|golf|gold|sncf|gmbh|gift|ggee|gent|gbiz|game|vana|pics|fund|ford|ping|pink|fish|film|fast|farm|play|fans|fail|plus|skin|pohl|fage|moda|post|erni|dvag|prod|doha|prof|docs|viva|diet|luxe|site|dell|sina|dclk|show|qpon|date|vote|cyou|voto|read|coop|cool|wang|club|city|chat|cern|cash|reit|rent|casa|cars|care|camp|rest|call|cafe|weir|wien|rich|wiki|buzz|wine|book|bond|room|work|rsvp|shia|ruhr|blue|bing|shaw|bike|safe|xbox|best|pwc|mtn|lds|aig|boo|fyi|nra|nrw|ntt|car|gal|obi|zip|aeg|vin|how|one|ong|onl|dad|ooo|bet|esq|org|htc|bar|uol|ibm|ovh|gdn|ice|icu|uno|gea|ifm|bot|top|wtf|lol|day|pet|eus|wtc|ubs|tvs|aco|ing|ltd|ink|tab|abb|afl|cat|int|pid|pin|bid|cba|gle|com|cbn|ads|man|wed|ceb|gmo|sky|ist|gmx|tui|mba|fan|ski|iwc|app|pro|med|ceo|jcb|jcp|goo|dev|men|aaa|meo|pub|jlc|bom|jll|gop|jmp|mil|got|gov|win|jot|mma|joy|trv|red|cfa|cfd|bio|moe|moi|mom|ren|biz|aws|xin|bbc|dnp|buy|kfh|mov|thd|xyz|fit|kia|rio|rip|kim|dog|vet|nyc|bcg|mtr|bcn|bms|bmw|run|bzh|rwe|tel|stc|axa|kpn|fly|krd|cab|bnl|foo|crs|eat|tci|sap|srl|nec|sas|net|cal|sbs|sfr|sca|scb|csc|edu|new|xxx|hiv|fox|wme|ngo|nhk|vip|sex|frl|lat|yun|law|you|tax|soy|sew|om|ac|hu|se|sc|sg|sh|sb|sa|rw|ru|rs|ro|re|qa|py|si|pw|pt|ps|sj|sk|pr|pn|pm|pl|sl|sm|pk|sn|ph|so|pg|pf|pe|pa|zw|nz|nu|nr|np|no|nl|ni|ng|nf|sr|ne|st|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|su|mn|mm|ml|mk|mh|mg|me|sv|md|mc|sx|sy|ma|ly|lv|sz|lu|lt|ls|lr|lk|li|lc|lb|la|tc|kz|td|ky|kw|kr|kp|kn|km|ki|kh|tf|tg|th|kg|ke|jp|jo|jm|je|it|is|ir|tj|tk|tl|tm|iq|tn|to|io|in|im|il|ie|ad|sd|ht|hr|hn|hm|tr|hk|gy|gw|gu|gt|gs|gr|gq|tt|gp|gn|gm|gl|tv|gi|tw|tz|ua|gh|ug|uk|gg|gf|ge|gd|us|uy|uz|va|gb|ga|vc|ve|fr|fo|fm|fk|fj|vg|vi|fi|eu|et|es|er|eg|ee|ec|dz|do|dm|dk|vn|dj|de|cz|cy|cx|cw|vu|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|wf|bz|by|bw|bv|bt|bs|br|bo|bn|bm|bj|bi|ws|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ye|ar|aq|ao|am|al|yt|ai|za|ag|af|ae|zm|id)\b/}}(),t.AnchorTagBuilder=t.Util.extend(Object,{constructor:function(e){t.Util.assign(this,e)},build:function(e){return new t.HtmlTag({tagName:"a",attrs:this.createAttrs(e.getType(),e.getAnchorHref()),innerHtml:this.processAnchorText(e.getAnchorText())})},createAttrs:function(t,e){var n={href:e},r=this.createCssClass(t);return r&&(n.class=r),this.newWindow&&(n.target="_blank",n.rel="noopener noreferrer"),n},createCssClass:function(t){var e=this.className;return e?e+" "+e+"-"+t:""},processAnchorText:function(t){return t=this.doTruncate(t)},doTruncate:function(e){var n=this.truncate;if(!n||!n.length)return e;var r=n.length,i=n.location;return"smart"===i?t.truncate.TruncateSmart(e,r,".."):"middle"===i?t.truncate.TruncateMiddle(e,r,".."):t.truncate.TruncateEnd(e,r,"..")}}),t.htmlParser.HtmlParser=t.Util.extend(Object,{htmlRegex:function(){var t=/!--([\s\S]+?)--/,e=/[0-9a-zA-Z][0-9a-zA-Z:]*/,n=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,r=/[^\s"'>\/=\x00-\x1F\x7F]+/.source+"(?:\\s*=\\s*"+n.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",r,"|",n.source+")",")*",">",")","|","(?:","<(/)?","(?:",t.source,"|","(?:","("+e.source+")","(?:","(?:\\s+|\\b)",r,")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(t){for(var e,n,r=this.htmlRegex,i=0,o=[];null!==(e=r.exec(t));){var a=e[0],s=e[3],u=e[1]||e[4],c=!!e[2],l=e.index,f=t.substring(i,l);f&&(n=this.parseTextAndEntityNodes(i,f),o.push.apply(o,n)),s?o.push(this.createCommentNode(l,a,s)):o.push(this.createElementNode(l,a,u,c)),i=l+a.length}if(i<t.length){var h=t.substring(i);h&&(n=this.parseTextAndEntityNodes(i,h),o.push.apply(o,n))}return o},parseTextAndEntityNodes:function(e,n){for(var r=[],i=t.Util.splitAndCapture(n,this.htmlCharacterEntitiesRegex),o=0,a=i.length;o<a;o+=2){var s=i[o],u=i[o+1];s&&(r.push(this.createTextNode(e,s)),e+=s.length),u&&(r.push(this.createEntityNode(e,u)),e+=u.length)}return r},createCommentNode:function(e,n,r){return new t.htmlParser.CommentNode({offset:e,text:n,comment:t.Util.trim(r)})},createElementNode:function(e,n,r,i){return new t.htmlParser.ElementNode({offset:e,text:n,tagName:r.toLowerCase(),closing:i})},createEntityNode:function(e,n){return new t.htmlParser.EntityNode({offset:e,text:n})},createTextNode:function(e,n){return new t.htmlParser.TextNode({offset:e,text:n})}}),t.htmlParser.HtmlNode=t.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(e){if(t.Util.assign(this,e),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:t.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),t.htmlParser.CommentNode=t.Util.extend(t.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),t.htmlParser.ElementNode=t.Util.extend(t.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),t.htmlParser.EntityNode=t.Util.extend(t.htmlParser.HtmlNode,{getType:function(){return"entity"}}),t.htmlParser.TextNode=t.Util.extend(t.htmlParser.HtmlNode,{getType:function(){return"text"}}),t.match.Match=t.Util.extend(Object,{constructor:function(t){if(null==t.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==t.matchedText)throw new Error("`matchedText` cfg required");if(null==t.offset)throw new Error("`offset` cfg required");this.tagBuilder=t.tagBuilder,this.matchedText=t.matchedText,this.offset=t.offset},getType:t.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(t){this.offset=t},getOffset:function(){return this.offset},getAnchorHref:t.Util.abstractMethod,getAnchorText:t.Util.abstractMethod,buildTag:function(){return this.tagBuilder.build(this)}}),t.match.Email=t.Util.extend(t.match.Match,{constructor:function(e){if(t.match.Match.prototype.constructor.call(this,e),!e.email)throw new Error("`email` cfg required");this.email=e.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),t.match.Hashtag=t.Util.extend(t.match.Match,{constructor:function(e){if(t.match.Match.prototype.constructor.call(this,e),!e.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=e.serviceName,this.hashtag=e.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var t=this.serviceName,e=this.hashtag;switch(t){case"twitter":return"https://twitter.com/hashtag/"+e;case"facebook":return"https://www.facebook.com/hashtag/"+e;case"instagram":return"https://instagram.com/explore/tags/"+e;default:throw new Error("Unknown service name to point hashtag to: ",t)}},getAnchorText:function(){return"#"+this.hashtag}}),t.match.Phone=t.Util.extend(t.match.Match,{constructor:function(e){if(t.match.Match.prototype.constructor.call(this,e),!e.number)throw new Error("`number` cfg required");if(null==e.plusSign)throw new Error("`plusSign` cfg required");this.number=e.number,this.plusSign=e.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),t.match.Twitter=t.Util.extend(t.match.Match,{constructor:function(e){if(t.match.Match.prototype.constructor.call(this,e),!e.twitterHandle)throw new Error("`twitterHandle` cfg required");this.twitterHandle=e.twitterHandle},getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),t.match.Url=t.Util.extend(t.match.Match,{constructor:function(e){if(t.match.Match.prototype.constructor.call(this,e),"scheme"!==e.urlMatchType&&"www"!==e.urlMatchType&&"tld"!==e.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!e.url)throw new Error("`url` cfg required");if(null==e.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==e.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==e.stripPrefix)throw new Error("`stripPrefix` cfg required");this.urlMatchType=e.urlMatchType,this.url=e.url,this.protocolUrlMatch=e.protocolUrlMatch,this.protocolRelativeMatch=e.protocolRelativeMatch,this.stripPrefix=e.stripPrefix},urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var t=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(t=this.url="http://"+t,this.protocolPrepended=!0),t},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var t=this.getMatchedText();return this.protocolRelativeMatch&&(t=this.stripProtocolRelativePrefix(t)),this.stripPrefix&&(t=this.stripUrlPrefix(t)),t=this.removeTrailingSlash(t)},stripUrlPrefix:function(t){return t.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(t){return t.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(t){return"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t}}),t.matcher.Matcher=t.Util.extend(Object,{constructor:function(t){if(!t.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=t.tagBuilder},parseMatches:t.Util.abstractMethod}),t.matcher.Email=t.Util.extend(t.matcher.Matcher,{matcherRegex:function(){var e=t.RegexLib.alphaNumericCharsStr,n=new RegExp("["+e+"\\-_';:&=+$.,]+@"),r=t.RegexLib.domainNameRegex,i=t.RegexLib.tldRegex;return new RegExp([n.source,r.source,"\\.",i.source].join(""),"gi")}(),parseMatches:function(e){for(var n,r=this.matcherRegex,i=this.tagBuilder,o=[];null!==(n=r.exec(e));){var a=n[0];o.push(new t.match.Email({tagBuilder:i,matchedText:a,offset:n.index,email:a}))}return o}}),t.matcher.Hashtag=t.Util.extend(t.matcher.Matcher,{matcherRegex:new RegExp("#[_"+t.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+t.RegexLib.alphaNumericCharsStr+"]"),constructor:function(e){t.matcher.Matcher.prototype.constructor.call(this,e),this.serviceName=e.serviceName},parseMatches:function(e){for(var n,r=this.matcherRegex,i=this.nonWordCharRegex,o=this.serviceName,a=this.tagBuilder,s=[];null!==(n=r.exec(e));){var u=n.index,c=e.charAt(u-1);if(0===u||i.test(c)){var l=n[0],f=n[0].slice(1);s.push(new t.match.Hashtag({tagBuilder:a,matchedText:l,offset:u,serviceName:o,hashtag:f}))}}return s}}),t.matcher.Phone=t.Util.extend(t.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.])?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]\d{4}/g,parseMatches:function(e){for(var n,r=this.matcherRegex,i=this.tagBuilder,o=[];null!==(n=r.exec(e));){var a=n[0],s=a.replace(/\D/g,""),u=!!n[1];o.push(new t.match.Phone({tagBuilder:i,matchedText:a,offset:n.index,number:s,plusSign:u}))}return o}}),t.matcher.Twitter=t.Util.extend(t.matcher.Matcher,{matcherRegex:new RegExp("@[_"+t.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),nonWordCharRegex:new RegExp("[^"+t.RegexLib.alphaNumericCharsStr+"]"),parseMatches:function(e){for(var n,r=this.matcherRegex,i=this.nonWordCharRegex,o=this.tagBuilder,a=[];null!==(n=r.exec(e));){var s=n.index,u=e.charAt(s-1);if(0===s||i.test(u)){var c=n[0],l=n[0].slice(1);a.push(new t.match.Twitter({tagBuilder:o,matchedText:c,offset:s,twitterHandle:l}))}}return a}}),t.matcher.Url=t.Util.extend(t.matcher.Matcher,{matcherRegex:function(){var e=/(?:[A-Za-z][-.+A-Za-z0-9]*:(?![A-Za-z][-.+A-Za-z0-9]*:\/\/)(?!\d+\/?)(?:\/\/)?)/,n=/(?:www\.)/,r=t.RegexLib.domainNameRegex,i=t.RegexLib.tldRegex,o=t.RegexLib.alphaNumericCharsStr,a=new RegExp("["+o+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;]*["+o+"\\-+&@#/%=~_()|'$*\\[\\]]");return new RegExp(["(?:","(",e.source,r.source,")","|","(","(//)?",n.source,r.source,")","|","(","(//)?",r.source+"\\.",i.source,")",")","(?:"+a.source+")?"].join(""),"gi")}(),wordCharRegExp:/\w/,openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(e){if(t.matcher.Matcher.prototype.constructor.call(this,e),this.stripPrefix=e.stripPrefix,null==this.stripPrefix)throw new Error("`stripPrefix` cfg required")},parseMatches:function(e){for(var n,r=this.matcherRegex,i=this.stripPrefix,o=this.tagBuilder,a=[];null!==(n=r.exec(e));){var s=n[0],u=n[1],c=n[2],l=n[3],f=n[5],h=n.index,p=l||f,d=e.charAt(h-1);if(t.matcher.UrlMatchValidator.isValid(s,u)&&!(h>0&&"@"===d)&&!(h>0&&p&&this.wordCharRegExp.test(d))){if(this.matchHasUnbalancedClosingParen(s))s=s.substr(0,s.length-1);else{var y=this.matchHasInvalidCharAfterTld(s,u);y>-1&&(s=s.substr(0,y))}var v=u?"scheme":c?"www":"tld",g=!!u;a.push(new t.match.Url({tagBuilder:o,matchedText:s,offset:h,urlMatchType:v,url:s,protocolUrlMatch:g,protocolRelativeMatch:!!p,stripPrefix:i}))}}return a},matchHasUnbalancedClosingParen:function(t){if(")"===t.charAt(t.length-1)){var e=t.match(this.openParensRe),n=t.match(this.closeParensRe);if((e&&e.length||0)<(n&&n.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(t,e){if(!t)return-1;var n=0;e&&(n=t.indexOf(":"),t=t.slice(n));var r=/^((.?\/\/)?[A-Za-z0-9\u00C0-\u017F\.\-]*[A-Za-z0-9\u00C0-\u017F\-]\.[A-Za-z]+)/.exec(t);return null===r?-1:(n+=r[1].length,t=t.slice(r[1].length),/^[^.A-Za-z:\/?#]/.test(t)?n:-1)}}),t.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z\u00C0-\u017F]/,ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(t,e){return!(e&&!this.isValidUriScheme(e)||this.urlMatchDoesNotHaveProtocolOrDot(t,e)||this.urlMatchDoesNotHaveAtLeastOneWordChar(t,e)&&!this.isValidIpAddress(t))},isValidIpAddress:function(t){var e=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==t.match(e)},isValidUriScheme:function(t){var e=t.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==e&&"vbscript:"!==e},urlMatchDoesNotHaveProtocolOrDot:function(t,e){return!!t&&(!e||!this.hasFullProtocolRegex.test(e))&&-1===t.indexOf(".")},urlMatchDoesNotHaveAtLeastOneWordChar:function(t,e){return!(!t||!e)&&!this.hasWordCharAfterProtocolRegex.test(t)}},t.truncate.TruncateEnd=function(e,n,r){return t.Util.ellipsis(e,n,r)},t.truncate.TruncateMiddle=function(t,e,n){if(t.length<=e)return t;var r=e-n.length,i="";return r>0&&(i=t.substr(-1*Math.floor(r/2))),(t.substr(0,Math.ceil(r/2))+n+i).substr(0,e)},t.truncate.TruncateSmart=function(t,e,n){var r=function(t){var e={},n=t,r=n.match(/^([a-z]+):\/\//i);return r&&(e.scheme=r[1],n=n.substr(r[0].length)),(r=n.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(e.host=r[1],n=n.substr(r[0].length)),(r=n.match(/^\/(.*?)(?=(\?|#|$))/i))&&(e.path=r[1],n=n.substr(r[0].length)),(r=n.match(/^\?(.*?)(?=(#|$))/i))&&(e.query=r[1],n=n.substr(r[0].length)),(r=n.match(/^#(.*?)$/i))&&(e.fragment=r[1]),e},i=function(t){var e="";return t.scheme&&t.host&&(e+=t.scheme+"://"),t.host&&(e+=t.host),t.path&&(e+="/"+t.path),t.query&&(e+="?"+t.query),t.fragment&&(e+="#"+t.fragment),e},o=function(t,e){var r=e/2,i=Math.ceil(r),o=-1*Math.floor(r),a="";return o<0&&(a=t.substr(o)),t.substr(0,i)+n+a};if(t.length<=e)return t;var a=e-n.length,s=r(t);if(s.query){var u=s.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);u&&(s.query=s.query.substr(0,u[1].length),t=i(s))}if(t.length<=e)return t;if(s.host&&(s.host=s.host.replace(/^www\./,""),t=i(s)),t.length<=e)return t;var c="";if(s.host&&(c+=s.host),c.length>=a)return s.host.length==e?(s.host.substr(0,e-n.length)+n).substr(0,e):o(c,a).substr(0,e);var l="";if(s.path&&(l+="/"+s.path),s.query&&(l+="?"+s.query),l){if((c+l).length>=a)return(c+l).length==e?(c+l).substr(0,e):(c+o(l,a-c.length)).substr(0,e);c+=l}if(s.fragment){var f="#"+s.fragment;if((c+f).length>=a)return(c+f).length==e?(c+f).substr(0,e):(c+o(f,a-c.length)).substr(0,e);c+=f}if(s.scheme&&s.host){var h=s.scheme+"://";if((c+h).length<a)return(h+c).substr(0,e)}if(c.length<=e)return c;var p="";return a>0&&(p=c.substr(-1*Math.floor(a/2))),(c.substr(0,Math.ceil(a/2))+n+p).substr(0,e)},t})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";var r=n(269),i=n(899),o=[["code",n(900)],["fences",n(901),["paragraph","blockquote","list"]],["blockquote",n(902),["paragraph","blockquote","list"]],["hr",n(903),["paragraph","blockquote","list"]],["list",n(904),["paragraph","blockquote"]],["footnote",n(905),["paragraph"]],["heading",n(906),["paragraph","blockquote"]],["lheading",n(907)],["htmlblock",n(908),["paragraph","blockquote"]],["table",n(910),["paragraph"]],["deflist",n(911),["paragraph"]],["paragraph",n(912)]];function a(){this.ruler=new r;for(var t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1],{alt:(o[t][2]||[]).slice()})}a.prototype.tokenize=function(t,e,n){for(var r,i=this.ruler.getRules(""),o=i.length,a=e,s=!1;a<n&&(t.line=a=t.skipEmptyLines(a),!(a>=n))&&!(t.tShift[a]<t.blkIndent);){for(r=0;r<o&&!i[r](t,a,n,!1);r++);if(t.tight=!s,t.isEmpty(t.line-1)&&(s=!0),(a=t.line)<n&&t.isEmpty(a)){if(s=!0,++a<n&&"list"===t.parentType&&t.isEmpty(a))break;t.line=a}}};var s=/[\n\t]/g,u=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,c=/\u00a0/g;a.prototype.parse=function(t,e,n,r){var o,a=0,l=0;if(!t)return[];(t=(t=t.replace(c," ")).replace(u,"\n")).indexOf("\t")>=0&&(t=t.replace(s,(function(e,n){var r;return 10===t.charCodeAt(n)?(a=n+1,l=0,e):(r="    ".slice((n-a-l)%4),l=n-a+1,r)}))),o=new i(t,this,e,n,r),this.tokenize(o,o.line,o.lineMax)},t.exports=a},function(t,e,n){"use strict";function r(t,e,n,r,i){var o,a,s,u,c,l,f;for(this.src=t,this.parser=e,this.options=n,this.env=r,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",l=0,f=!1,s=u=l=0,c=(a=this.src).length;u<c;u++){if(o=a.charCodeAt(u),!f){if(32===o){l++;continue}f=!0}10!==o&&u!==c-1||(10!==o&&u++,this.bMarks.push(s),this.eMarks.push(u),this.tShift.push(l),f=!1,l=0,s=u+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}r.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},r.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},r.prototype.skipSpaces=function(t){for(var e=this.src.length;t<e&&32===this.src.charCodeAt(t);t++);return t},r.prototype.skipChars=function(t,e){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},r.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},r.prototype.getLines=function(t,e,n,r){var i,o,a,s,u,c=t;if(t>=e)return"";if(c+1===e)return o=this.bMarks[c]+Math.min(this.tShift[c],n),a=r?this.eMarks[c]+1:this.eMarks[c],this.src.slice(o,a);for(s=new Array(e-t),i=0;c<e;c++,i++)(u=this.tShift[c])>n&&(u=n),u<0&&(u=0),o=this.bMarks[c]+u,a=c+1<e||r?this.eMarks[c]+1:this.eMarks[c],s[i]=this.src.slice(o,a);return s.join("")},t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i;if(t.tShift[e]-t.blkIndent<4)return!1;for(i=r=e+1;r<n;)if(t.isEmpty(r))r++;else{if(!(t.tShift[r]-t.blkIndent>=4))break;i=++r}return t.line=r,t.tokens.push({type:"code",content:t.getLines(e,i,4+t.blkIndent,!0),block:!0,lines:[e,t.line],level:t.level}),!0}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i,o,a,s,u,c=!1,l=t.bMarks[e]+t.tShift[e],f=t.eMarks[e];if(l+3>f)return!1;if(126!==(i=t.src.charCodeAt(l))&&96!==i)return!1;if(u=l,(o=(l=t.skipChars(l,i))-u)<3)return!1;if((a=t.src.slice(l,f).trim()).indexOf("`")>=0)return!1;if(r)return!0;for(s=e;!(++s>=n)&&!((l=u=t.bMarks[s]+t.tShift[s])<(f=t.eMarks[s])&&t.tShift[s]<t.blkIndent);)if(t.src.charCodeAt(l)===i&&!(t.tShift[s]-t.blkIndent>=4)&&!((l=t.skipChars(l,i))-u<o)&&!((l=t.skipSpaces(l))<f)){c=!0;break}return o=t.tShift[e],t.line=s+(c?1:0),t.tokens.push({type:"fence",params:a,content:t.getLines(e+1,s,o,!0),lines:[e,t.line],level:t.level}),!0}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i,o,a,s,u,c,l,f,h,p,d,y=t.bMarks[e]+t.tShift[e],v=t.eMarks[e];if(y>v)return!1;if(62!==t.src.charCodeAt(y++))return!1;if(t.level>=t.options.maxNesting)return!1;if(r)return!0;for(32===t.src.charCodeAt(y)&&y++,u=t.blkIndent,t.blkIndent=0,s=[t.bMarks[e]],t.bMarks[e]=y,o=(y=y<v?t.skipSpaces(y):y)>=v,a=[t.tShift[e]],t.tShift[e]=y-t.bMarks[e],f=t.parser.ruler.getRules("blockquote"),i=e+1;i<n&&!((y=t.bMarks[i]+t.tShift[i])>=(v=t.eMarks[i]));i++)if(62!==t.src.charCodeAt(y++)){if(o)break;for(d=!1,h=0,p=f.length;h<p;h++)if(f[h](t,i,n,!0)){d=!0;break}if(d)break;s.push(t.bMarks[i]),a.push(t.tShift[i]),t.tShift[i]=-1337}else 32===t.src.charCodeAt(y)&&y++,s.push(t.bMarks[i]),t.bMarks[i]=y,o=(y=y<v?t.skipSpaces(y):y)>=v,a.push(t.tShift[i]),t.tShift[i]=y-t.bMarks[i];for(c=t.parentType,t.parentType="blockquote",t.tokens.push({type:"blockquote_open",lines:l=[e,0],level:t.level++}),t.parser.tokenize(t,e,i),t.tokens.push({type:"blockquote_close",level:--t.level}),t.parentType=c,l[1]=t.line,h=0;h<a.length;h++)t.bMarks[h+e]=s[h],t.tShift[h+e]=a[h];return t.blkIndent=u,!0}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i,o,a,s=t.bMarks[e],u=t.eMarks[e];if((s+=t.tShift[e])>u)return!1;if(42!==(i=t.src.charCodeAt(s++))&&45!==i&&95!==i)return!1;for(o=1;s<u;){if((a=t.src.charCodeAt(s++))!==i&&32!==a)return!1;a===i&&o++}return!(o<3)&&(r||(t.line=e+1,t.tokens.push({type:"hr",lines:[e,t.line],level:t.level})),!0)}},function(t,e,n){"use strict";function r(t,e){var n,r,i;return(r=t.bMarks[e]+t.tShift[e])>=(i=t.eMarks[e])||42!==(n=t.src.charCodeAt(r++))&&45!==n&&43!==n||r<i&&32!==t.src.charCodeAt(r)?-1:r}function i(t,e){var n,r=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];if(r+1>=i)return-1;if((n=t.src.charCodeAt(r++))<48||n>57)return-1;for(;;){if(r>=i)return-1;if(!((n=t.src.charCodeAt(r++))>=48&&n<=57)){if(41===n||46===n)break;return-1}}return r<i&&32!==t.src.charCodeAt(r)?-1:r}t.exports=function(t,e,n,o){var a,s,u,c,l,f,h,p,d,y,v,g,m,b,_,x,w,E,S,k,O,C=!0;if((p=i(t,e))>=0)g=!0;else{if(!((p=r(t,e))>=0))return!1;g=!1}if(t.level>=t.options.maxNesting)return!1;if(v=t.src.charCodeAt(p-1),o)return!0;for(b=t.tokens.length,g?(h=t.bMarks[e]+t.tShift[e],y=Number(t.src.substr(h,p-h-1)),t.tokens.push({type:"ordered_list_open",order:y,lines:x=[e,0],level:t.level++})):t.tokens.push({type:"bullet_list_open",lines:x=[e,0],level:t.level++}),a=e,_=!1,E=t.parser.ruler.getRules("list");a<n&&((d=(m=t.skipSpaces(p))>=t.eMarks[a]?1:m-p)>4&&(d=1),d<1&&(d=1),s=p-t.bMarks[a]+d,t.tokens.push({type:"list_item_open",lines:w=[e,0],level:t.level++}),c=t.blkIndent,l=t.tight,u=t.tShift[e],f=t.parentType,t.tShift[e]=m-t.bMarks[e],t.blkIndent=s,t.tight=!0,t.parentType="list",t.parser.tokenize(t,e,n,!0),t.tight&&!_||(C=!1),_=t.line-e>1&&t.isEmpty(t.line-1),t.blkIndent=c,t.tShift[e]=u,t.tight=l,t.parentType=f,t.tokens.push({type:"list_item_close",level:--t.level}),a=e=t.line,w[1]=a,m=t.bMarks[e],!(a>=n))&&!t.isEmpty(a)&&!(t.tShift[a]<t.blkIndent);){for(O=!1,S=0,k=E.length;S<k;S++)if(E[S](t,a,n,!0)){O=!0;break}if(O)break;if(g){if((p=i(t,a))<0)break}else if((p=r(t,a))<0)break;if(v!==t.src.charCodeAt(p-1))break}return t.tokens.push({type:g?"ordered_list_close":"bullet_list_close",level:--t.level}),x[1]=a,t.line=a,C&&function(t,e){var n,r,i=t.level+2;for(n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===i&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].tight=!0,t.tokens[n].tight=!0,n+=2)}(t,b),!0}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i,o,a,s,u,c=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(c+4>l)return!1;if(91!==t.src.charCodeAt(c))return!1;if(94!==t.src.charCodeAt(c+1))return!1;if(t.level>=t.options.maxNesting)return!1;for(s=c+2;s<l;s++){if(32===t.src.charCodeAt(s))return!1;if(93===t.src.charCodeAt(s))break}return s!==c+2&&(!(s+1>=l||58!==t.src.charCodeAt(++s))&&(r||(s++,t.env.footnotes||(t.env.footnotes={}),t.env.footnotes.refs||(t.env.footnotes.refs={}),u=t.src.slice(c+2,s-2),t.env.footnotes.refs[":"+u]=-1,t.tokens.push({type:"footnote_reference_open",label:u,level:t.level++}),i=t.bMarks[e],o=t.tShift[e],a=t.parentType,t.tShift[e]=t.skipSpaces(s)-s,t.bMarks[e]=s,t.blkIndent+=4,t.parentType="footnote",t.tShift[e]<t.blkIndent&&(t.tShift[e]+=t.blkIndent,t.bMarks[e]-=t.blkIndent),t.parser.tokenize(t,e,n,!0),t.parentType=a,t.blkIndent-=4,t.tShift[e]=o,t.bMarks[e]=i,t.tokens.push({type:"footnote_reference_close",level:--t.level})),!0))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i,o,a,s=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(s>=u)return!1;if(35!==(i=t.src.charCodeAt(s))||s>=u)return!1;for(o=1,i=t.src.charCodeAt(++s);35===i&&s<u&&o<=6;)o++,i=t.src.charCodeAt(++s);return!(o>6||s<u&&32!==i)&&(r||(u=t.skipCharsBack(u,32,s),(a=t.skipCharsBack(u,35,s))>s&&32===t.src.charCodeAt(a-1)&&(u=a),t.line=e+1,t.tokens.push({type:"heading_open",hLevel:o,lines:[e,t.line],level:t.level}),s<u&&t.tokens.push({type:"inline",content:t.src.slice(s,u).trim(),level:t.level+1,lines:[e,t.line],children:[]}),t.tokens.push({type:"heading_close",hLevel:o,level:t.level})),!0)}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,o,a=e+1;return!(a>=n)&&(!(t.tShift[a]<t.blkIndent)&&(!(t.tShift[a]-t.blkIndent>3)&&(!((i=t.bMarks[a]+t.tShift[a])>=(o=t.eMarks[a]))&&((45===(r=t.src.charCodeAt(i))||61===r)&&(i=t.skipChars(i,r),!((i=t.skipSpaces(i))<o)&&(i=t.bMarks[e]+t.tShift[e],t.line=a+1,t.tokens.push({type:"heading_open",hLevel:61===r?1:2,lines:[e,t.line],level:t.level}),t.tokens.push({type:"inline",content:t.src.slice(i,t.eMarks[e]).trim(),level:t.level+1,lines:[e,t.line-1],children:[]}),t.tokens.push({type:"heading_close",hLevel:61===r?1:2,level:t.level}),!0))))))}},function(t,e,n){"use strict";var r=n(909),i=/^<([a-zA-Z]{1,15})[\s\/>]/,o=/^<\/([a-zA-Z]{1,15})[\s>]/;t.exports=function(t,e,n,a){var s,u,c,l=t.bMarks[e],f=t.eMarks[e],h=t.tShift[e];if(l+=h,!t.options.html)return!1;if(h>3||l+2>=f)return!1;if(60!==t.src.charCodeAt(l))return!1;if(33===(s=t.src.charCodeAt(l+1))||63===s){if(a)return!0}else{if(47!==s&&!function(t){var e=32|t;return e>=97&&e<=122}(s))return!1;if(47===s){if(!(u=t.src.slice(l,f).match(o)))return!1}else if(!(u=t.src.slice(l,f).match(i)))return!1;if(!0!==r[u[1].toLowerCase()])return!1;if(a)return!0}for(c=e+1;c<t.lineMax&&!t.isEmpty(c);)c++;return t.line=c,t.tokens.push({type:"htmlblock",level:t.level,lines:[e,t.line],content:t.getLines(e,c,0,!0)}),!0}},function(t,e,n){"use strict";var r={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach((function(t){r[t]=!0})),t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=t.bMarks[e]+t.blkIndent,r=t.eMarks[e];return t.src.substr(n,r-n)}t.exports=function(t,e,n,i){var o,a,s,u,c,l,f,h,p,d,y;if(e+2>n)return!1;if(c=e+1,t.tShift[c]<t.blkIndent)return!1;if((s=t.bMarks[c]+t.tShift[c])>=t.eMarks[c])return!1;if(124!==(o=t.src.charCodeAt(s))&&45!==o&&58!==o)return!1;if(a=r(t,e+1),!/^[-:| ]+$/.test(a))return!1;if((l=a.split("|"))<=2)return!1;for(h=[],u=0;u<l.length;u++){if(!(p=l[u].trim())){if(0===u||u===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(p))return!1;58===p.charCodeAt(p.length-1)?h.push(58===p.charCodeAt(0)?"center":"right"):58===p.charCodeAt(0)?h.push("left"):h.push("")}if(-1===(a=r(t,e).trim()).indexOf("|"))return!1;if(l=a.replace(/^\||\|$/g,"").split("|"),h.length!==l.length)return!1;if(i)return!0;for(t.tokens.push({type:"table_open",lines:d=[e,0],level:t.level++}),t.tokens.push({type:"thead_open",lines:[e,e+1],level:t.level++}),t.tokens.push({type:"tr_open",lines:[e,e+1],level:t.level++}),u=0;u<l.length;u++)t.tokens.push({type:"th_open",align:h[u],lines:[e,e+1],level:t.level++}),t.tokens.push({type:"inline",content:l[u].trim(),lines:[e,e+1],level:t.level,children:[]}),t.tokens.push({type:"th_close",level:--t.level});for(t.tokens.push({type:"tr_close",level:--t.level}),t.tokens.push({type:"thead_close",level:--t.level}),t.tokens.push({type:"tbody_open",lines:y=[e+2,0],level:t.level++}),c=e+2;c<n&&!(t.tShift[c]<t.blkIndent)&&-1!==(a=r(t,c).trim()).indexOf("|");c++){for(l=a.replace(/^\||\|$/g,"").split("|"),t.tokens.push({type:"tr_open",level:t.level++}),u=0;u<l.length;u++)t.tokens.push({type:"td_open",align:h[u],level:t.level++}),f=l[u].substring(124===l[u].charCodeAt(0)?1:0,124===l[u].charCodeAt(l[u].length-1)?l[u].length-1:l[u].length).trim(),t.tokens.push({type:"inline",content:f,level:t.level,children:[]}),t.tokens.push({type:"td_close",level:--t.level});t.tokens.push({type:"tr_close",level:--t.level})}return t.tokens.push({type:"tbody_close",level:--t.level}),t.tokens.push({type:"table_close",level:--t.level}),d[1]=y[1]=c,t.line=c,!0}},function(t,e,n){"use strict";function r(t,e){var n,r,i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return i>=o||126!==(r=t.src.charCodeAt(i++))&&58!==r||i===(n=t.skipSpaces(i))||n>=o?-1:n}t.exports=function(t,e,n,i){var o,a,s,u,c,l,f,h,p,d,y,v,g,m;if(i)return!(t.ddIndent<0)&&r(t,e)>=0;if(f=e+1,t.isEmpty(f)&&++f>n)return!1;if(t.tShift[f]<t.blkIndent)return!1;if((o=r(t,f))<0)return!1;if(t.level>=t.options.maxNesting)return!1;l=t.tokens.length,t.tokens.push({type:"dl_open",lines:c=[e,0],level:t.level++}),s=e,a=f;t:for(;;){for(m=!0,g=!1,t.tokens.push({type:"dt_open",lines:[s,s],level:t.level++}),t.tokens.push({type:"inline",content:t.getLines(s,s+1,t.blkIndent,!1).trim(),level:t.level+1,lines:[s,s],children:[]}),t.tokens.push({type:"dt_close",level:--t.level});;){if(t.tokens.push({type:"dd_open",lines:u=[f,0],level:t.level++}),v=t.tight,p=t.ddIndent,h=t.blkIndent,y=t.tShift[a],d=t.parentType,t.blkIndent=t.ddIndent=t.tShift[a]+2,t.tShift[a]=o-t.bMarks[a],t.tight=!0,t.parentType="deflist",t.parser.tokenize(t,a,n,!0),t.tight&&!g||(m=!1),g=t.line-a>1&&t.isEmpty(t.line-1),t.tShift[a]=y,t.tight=v,t.parentType=d,t.blkIndent=h,t.ddIndent=p,t.tokens.push({type:"dd_close",level:--t.level}),u[1]=f=t.line,f>=n)break t;if(t.tShift[f]<t.blkIndent)break t;if((o=r(t,f))<0)break;a=f}if(f>=n)break;if(s=f,t.isEmpty(s))break;if(t.tShift[s]<t.blkIndent)break;if((a=s+1)>=n)break;if(t.isEmpty(a)&&a++,a>=n)break;if(t.tShift[a]<t.blkIndent)break;if((o=r(t,a))<0)break}return t.tokens.push({type:"dl_close",level:--t.level}),c[1]=f,t.line=f,m&&function(t,e){var n,r,i=t.level+2;for(n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===i&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].tight=!0,t.tokens[n].tight=!0,n+=2)}(t,l),!0}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s,u=e+1;if(u<(n=t.lineMax)&&!t.isEmpty(u))for(s=t.parser.ruler.getRules("paragraph");u<n&&!t.isEmpty(u);u++)if(!(t.tShift[u]-t.blkIndent>3)){for(i=!1,o=0,a=s.length;o<a;o++)if(s[o](t,u,n,!0)){i=!0;break}if(i)break}return r=t.getLines(e,u,t.blkIndent,!1).trim(),t.line=u,r.length&&(t.tokens.push({type:"paragraph_open",tight:!1,lines:[e,t.line],level:t.level}),t.tokens.push({type:"inline",content:r,level:t.level+1,lines:[e,t.line],children:[]}),t.tokens.push({type:"paragraph_close",tight:!1,level:t.level})),!0}},function(t,e,n){"use strict";var r=n(269),i=n(372),o=n(74),a=[["text",n(914)],["newline",n(915)],["escape",n(916)],["backticks",n(917)],["del",n(918)],["ins",n(919)],["mark",n(920)],["emphasis",n(921)],["sub",n(922)],["sup",n(923)],["links",n(924)],["footnote_inline",n(925)],["footnote_ref",n(926)],["autolink",n(927)],["htmltag",n(929)],["entity",n(931)]];function s(){this.ruler=new r;for(var t=0;t<a.length;t++)this.ruler.push(a[t][0],a[t][1]);this.validateLink=u}function u(t){var e=t.trim().toLowerCase();return-1===(e=o.replaceEntities(e)).indexOf(":")||-1===["vbscript","javascript","file","data"].indexOf(e.split(":")[0])}s.prototype.skipToken=function(t){var e,n,r=this.ruler.getRules(""),i=r.length,o=t.pos;if((n=t.cacheGet(o))>0)t.pos=n;else{for(e=0;e<i;e++)if(r[e](t,!0))return void t.cacheSet(o,t.pos);t.pos++,t.cacheSet(o,t.pos)}},s.prototype.tokenize=function(t){for(var e,n,r=this.ruler.getRules(""),i=r.length,o=t.posMax;t.pos<o;){for(n=0;n<i&&!(e=r[n](t,!1));n++);if(e){if(t.pos>=o)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},s.prototype.parse=function(t,e,n,r){var o=new i(t,this,e,n,r);this.tokenize(o)},t.exports=s},function(t,e,n){"use strict";function r(t){switch(t){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}t.exports=function(t,e){for(var n=t.pos;n<t.posMax&&!r(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i=t.pos;if(10!==t.src.charCodeAt(i))return!1;if(n=t.pending.length-1,r=t.posMax,!e)if(n>=0&&32===t.pending.charCodeAt(n))if(n>=1&&32===t.pending.charCodeAt(n-1)){for(var o=n-2;o>=0;o--)if(32!==t.pending.charCodeAt(o)){t.pending=t.pending.substring(0,o+1);break}t.push({type:"hardbreak",level:t.level})}else t.pending=t.pending.slice(0,-1),t.push({type:"softbreak",level:t.level});else t.push({type:"softbreak",level:t.level});for(i++;i<r&&32===t.src.charCodeAt(i);)i++;return t.pos=i,!0}},function(t,e,n){"use strict";for(var r=[],i=0;i<256;i++)r.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){r[t.charCodeAt(0)]=1})),t.exports=function(t,e){var n,i=t.pos,o=t.posMax;if(92!==t.src.charCodeAt(i))return!1;if(++i<o){if((n=t.src.charCodeAt(i))<256&&0!==r[n])return e||(t.pending+=t.src[i]),t.pos+=2,!0;if(10===n){for(e||t.push({type:"hardbreak",level:t.level}),i++;i<o&&32===t.src.charCodeAt(i);)i++;return t.pos=i,!0}}return e||(t.pending+="\\"),t.pos++,!0}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s=t.pos;if(96!==t.src.charCodeAt(s))return!1;for(n=s,s++,r=t.posMax;s<r&&96===t.src.charCodeAt(s);)s++;for(i=t.src.slice(n,s),o=a=s;-1!==(o=t.src.indexOf("`",a));){for(a=o+1;a<r&&96===t.src.charCodeAt(a);)a++;if(a-o===i.length)return e||t.push({type:"code",content:t.src.slice(s,o).replace(/[ \n]+/g," ").trim(),block:!1,level:t.level}),t.pos=a,!0}return e||(t.pending+=i),t.pos+=i.length,!0}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s=t.posMax,u=t.pos;if(126!==t.src.charCodeAt(u))return!1;if(e)return!1;if(u+4>=s)return!1;if(126!==t.src.charCodeAt(u+1))return!1;if(t.level>=t.options.maxNesting)return!1;if(o=u>0?t.src.charCodeAt(u-1):-1,a=t.src.charCodeAt(u+2),126===o)return!1;if(126===a)return!1;if(32===a||10===a)return!1;for(r=u+2;r<s&&126===t.src.charCodeAt(r);)r++;if(r>u+3)return t.pos+=r-u,e||(t.pending+=t.src.slice(u,r)),!0;for(t.pos=u+2,i=1;t.pos+1<s;){if(126===t.src.charCodeAt(t.pos)&&126===t.src.charCodeAt(t.pos+1)&&(o=t.src.charCodeAt(t.pos-1),126!==(a=t.pos+2<s?t.src.charCodeAt(t.pos+2):-1)&&126!==o&&(32!==o&&10!==o?i--:32!==a&&10!==a&&i++,i<=0))){n=!0;break}t.parser.skipToken(t)}return n?(t.posMax=t.pos,t.pos=u+2,e||(t.push({type:"del_open",level:t.level++}),t.parser.tokenize(t),t.push({type:"del_close",level:--t.level})),t.pos=t.posMax+2,t.posMax=s,!0):(t.pos=u,!1)}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s=t.posMax,u=t.pos;if(43!==t.src.charCodeAt(u))return!1;if(e)return!1;if(u+4>=s)return!1;if(43!==t.src.charCodeAt(u+1))return!1;if(t.level>=t.options.maxNesting)return!1;if(o=u>0?t.src.charCodeAt(u-1):-1,a=t.src.charCodeAt(u+2),43===o)return!1;if(43===a)return!1;if(32===a||10===a)return!1;for(r=u+2;r<s&&43===t.src.charCodeAt(r);)r++;if(r!==u+2)return t.pos+=r-u,e||(t.pending+=t.src.slice(u,r)),!0;for(t.pos=u+2,i=1;t.pos+1<s;){if(43===t.src.charCodeAt(t.pos)&&43===t.src.charCodeAt(t.pos+1)&&(o=t.src.charCodeAt(t.pos-1),43!==(a=t.pos+2<s?t.src.charCodeAt(t.pos+2):-1)&&43!==o&&(32!==o&&10!==o?i--:32!==a&&10!==a&&i++,i<=0))){n=!0;break}t.parser.skipToken(t)}return n?(t.posMax=t.pos,t.pos=u+2,e||(t.push({type:"ins_open",level:t.level++}),t.parser.tokenize(t),t.push({type:"ins_close",level:--t.level})),t.pos=t.posMax+2,t.posMax=s,!0):(t.pos=u,!1)}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s=t.posMax,u=t.pos;if(61!==t.src.charCodeAt(u))return!1;if(e)return!1;if(u+4>=s)return!1;if(61!==t.src.charCodeAt(u+1))return!1;if(t.level>=t.options.maxNesting)return!1;if(o=u>0?t.src.charCodeAt(u-1):-1,a=t.src.charCodeAt(u+2),61===o)return!1;if(61===a)return!1;if(32===a||10===a)return!1;for(r=u+2;r<s&&61===t.src.charCodeAt(r);)r++;if(r!==u+2)return t.pos+=r-u,e||(t.pending+=t.src.slice(u,r)),!0;for(t.pos=u+2,i=1;t.pos+1<s;){if(61===t.src.charCodeAt(t.pos)&&61===t.src.charCodeAt(t.pos+1)&&(o=t.src.charCodeAt(t.pos-1),61!==(a=t.pos+2<s?t.src.charCodeAt(t.pos+2):-1)&&61!==o&&(32!==o&&10!==o?i--:32!==a&&10!==a&&i++,i<=0))){n=!0;break}t.parser.skipToken(t)}return n?(t.posMax=t.pos,t.pos=u+2,e||(t.push({type:"mark_open",level:t.level++}),t.parser.tokenize(t),t.push({type:"mark_close",level:--t.level})),t.pos=t.posMax+2,t.posMax=s,!0):(t.pos=u,!1)}},function(t,e,n){"use strict";function r(t){return t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122}function i(t,e){var n,i,o,a=e,s=!0,u=!0,c=t.posMax,l=t.src.charCodeAt(e);for(n=e>0?t.src.charCodeAt(e-1):-1;a<c&&t.src.charCodeAt(a)===l;)a++;return a>=c&&(s=!1),(o=a-e)>=4?s=u=!1:(32!==(i=a<c?t.src.charCodeAt(a):-1)&&10!==i||(s=!1),32!==n&&10!==n||(u=!1),95===l&&(r(n)&&(s=!1),r(i)&&(u=!1))),{can_open:s,can_close:u,delims:o}}t.exports=function(t,e){var n,r,o,a,s,u,c,l=t.posMax,f=t.pos,h=t.src.charCodeAt(f);if(95!==h&&42!==h)return!1;if(e)return!1;if(n=(c=i(t,f)).delims,!c.can_open)return t.pos+=n,e||(t.pending+=t.src.slice(f,t.pos)),!0;if(t.level>=t.options.maxNesting)return!1;for(t.pos=f+n,u=[n];t.pos<l;)if(t.src.charCodeAt(t.pos)!==h)t.parser.skipToken(t);else{if(r=(c=i(t,t.pos)).delims,c.can_close){for(a=u.pop(),s=r;a!==s;){if(s<a){u.push(a-s);break}if(s-=a,0===u.length)break;t.pos+=a,a=u.pop()}if(0===u.length){n=a,o=!0;break}t.pos+=r;continue}c.can_open&&u.push(r),t.pos+=r}return o?(t.posMax=t.pos,t.pos=f+n,e||(2!==n&&3!==n||t.push({type:"strong_open",level:t.level++}),1!==n&&3!==n||t.push({type:"em_open",level:t.level++}),t.parser.tokenize(t),1!==n&&3!==n||t.push({type:"em_close",level:--t.level}),2!==n&&3!==n||t.push({type:"strong_close",level:--t.level})),t.pos=t.posMax+n,t.posMax=l,!0):(t.pos=f,!1)}},function(t,e,n){"use strict";var r=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;t.exports=function(t,e){var n,i,o=t.posMax,a=t.pos;if(126!==t.src.charCodeAt(a))return!1;if(e)return!1;if(a+2>=o)return!1;if(t.level>=t.options.maxNesting)return!1;for(t.pos=a+1;t.pos<o;){if(126===t.src.charCodeAt(t.pos)){n=!0;break}t.parser.skipToken(t)}return n&&a+1!==t.pos?(i=t.src.slice(a+1,t.pos)).match(/(^|[^\\])(\\\\)*\s/)?(t.pos=a,!1):(t.posMax=t.pos,t.pos=a+1,e||t.push({type:"sub",level:t.level,content:i.replace(r,"$1")}),t.pos=t.posMax+1,t.posMax=o,!0):(t.pos=a,!1)}},function(t,e,n){"use strict";var r=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;t.exports=function(t,e){var n,i,o=t.posMax,a=t.pos;if(94!==t.src.charCodeAt(a))return!1;if(e)return!1;if(a+2>=o)return!1;if(t.level>=t.options.maxNesting)return!1;for(t.pos=a+1;t.pos<o;){if(94===t.src.charCodeAt(t.pos)){n=!0;break}t.parser.skipToken(t)}return n&&a+1!==t.pos?(i=t.src.slice(a+1,t.pos)).match(/(^|[^\\])(\\\\)*\s/)?(t.pos=a,!1):(t.posMax=t.pos,t.pos=a+1,e||t.push({type:"sup",level:t.level,content:i.replace(r,"$1")}),t.pos=t.posMax+1,t.posMax=o,!0):(t.pos=a,!1)}},function(t,e,n){"use strict";var r=n(270),i=n(532),o=n(534),a=n(535);t.exports=function(t,e){var n,s,u,c,l,f,h,p,d=!1,y=t.pos,v=t.posMax,g=t.pos,m=t.src.charCodeAt(g);if(33===m&&(d=!0,m=t.src.charCodeAt(++g)),91!==m)return!1;if(t.level>=t.options.maxNesting)return!1;if(n=g+1,(s=r(t,g))<0)return!1;if((f=s+1)<v&&40===t.src.charCodeAt(f)){for(f++;f<v&&(32===(p=t.src.charCodeAt(f))||10===p);f++);if(f>=v)return!1;for(g=f,i(t,f)?(c=t.linkContent,f=t.pos):c="",g=f;f<v&&(32===(p=t.src.charCodeAt(f))||10===p);f++);if(f<v&&g!==f&&o(t,f))for(l=t.linkContent,f=t.pos;f<v&&(32===(p=t.src.charCodeAt(f))||10===p);f++);else l="";if(f>=v||41!==t.src.charCodeAt(f))return t.pos=y,!1;f++}else{if(t.linkLevel>0)return!1;for(;f<v&&(32===(p=t.src.charCodeAt(f))||10===p);f++);if(f<v&&91===t.src.charCodeAt(f)&&(g=f+1,(f=r(t,f))>=0?u=t.src.slice(g,f++):f=g-1),u||("undefined"===typeof u&&(f=s+1),u=t.src.slice(n,s)),!(h=t.env.references[a(u)]))return t.pos=y,!1;c=h.href,l=h.title}return e||(t.pos=n,t.posMax=s,d?t.push({type:"image",src:c,title:l,alt:t.src.substr(n,s-n),level:t.level}):(t.push({type:"link_open",href:c,title:l,level:t.level++}),t.linkLevel++,t.parser.tokenize(t),t.linkLevel--,t.push({type:"link_close",level:--t.level}))),t.pos=f,t.posMax=v,!0}},function(t,e,n){"use strict";var r=n(270);t.exports=function(t,e){var n,i,o,a,s=t.posMax,u=t.pos;return!(u+2>=s)&&(94===t.src.charCodeAt(u)&&(91===t.src.charCodeAt(u+1)&&(!(t.level>=t.options.maxNesting)&&(n=u+2,!((i=r(t,u+1))<0)&&(e||(t.env.footnotes||(t.env.footnotes={}),t.env.footnotes.list||(t.env.footnotes.list=[]),o=t.env.footnotes.list.length,t.pos=n,t.posMax=i,t.push({type:"footnote_ref",id:o,level:t.level}),t.linkLevel++,a=t.tokens.length,t.parser.tokenize(t),t.env.footnotes.list[o]={tokens:t.tokens.splice(a)},t.linkLevel--),t.pos=i+1,t.posMax=s,!0)))))}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a=t.posMax,s=t.pos;if(s+3>a)return!1;if(!t.env.footnotes||!t.env.footnotes.refs)return!1;if(91!==t.src.charCodeAt(s))return!1;if(94!==t.src.charCodeAt(s+1))return!1;if(t.level>=t.options.maxNesting)return!1;for(r=s+2;r<a;r++){if(32===t.src.charCodeAt(r))return!1;if(10===t.src.charCodeAt(r))return!1;if(93===t.src.charCodeAt(r))break}return r!==s+2&&(!(r>=a)&&(r++,n=t.src.slice(s+2,r-1),"undefined"!==typeof t.env.footnotes.refs[":"+n]&&(e||(t.env.footnotes.list||(t.env.footnotes.list=[]),t.env.footnotes.refs[":"+n]<0?(i=t.env.footnotes.list.length,t.env.footnotes.list[i]={label:n,count:0},t.env.footnotes.refs[":"+n]=i):i=t.env.footnotes.refs[":"+n],o=t.env.footnotes.list[i].count,t.env.footnotes.list[i].count++,t.push({type:"footnote_ref",id:i,subId:o,level:t.level})),t.pos=r,t.posMax=a,!0)))}},function(t,e,n){"use strict";var r=n(928),i=n(533),o=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,a=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;t.exports=function(t,e){var n,s,u,c,l,f=t.pos;return 60===t.src.charCodeAt(f)&&(!((n=t.src.slice(f)).indexOf(">")<0)&&((s=n.match(a))?!(r.indexOf(s[1].toLowerCase())<0)&&(c=s[0].slice(1,-1),l=i(c),!!t.parser.validateLink(c)&&(e||(t.push({type:"link_open",href:l,level:t.level}),t.push({type:"text",content:c,level:t.level+1}),t.push({type:"link_close",level:t.level})),t.pos+=s[0].length,!0)):!!(u=n.match(o))&&(c=u[0].slice(1,-1),l=i("mailto:"+c),!!t.parser.validateLink(l)&&(e||(t.push({type:"link_open",href:l,level:t.level}),t.push({type:"text",content:c,level:t.level+1}),t.push({type:"link_close",level:t.level})),t.pos+=u[0].length,!0))))}},function(t,e,n){"use strict";t.exports=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"]},function(t,e,n){"use strict";var r=n(930).HTML_TAG_RE;t.exports=function(t,e){var n,i,o,a=t.pos;return!!t.options.html&&(o=t.posMax,!(60!==t.src.charCodeAt(a)||a+2>=o)&&(!(33!==(n=t.src.charCodeAt(a+1))&&63!==n&&47!==n&&!function(t){var e=32|t;return e>=97&&e<=122}(n))&&(!!(i=t.src.slice(a).match(r))&&(e||t.push({type:"htmltag",content:t.src.slice(a,a+i[0].length),level:t.level}),t.pos+=i[0].length,!0))))}},function(t,e,n){"use strict";function r(t,e){return t=t.source,e=e||"",function n(r,i){return r?(i=i.source||i,t=t.replace(r,i),n):new RegExp(t,e)}}var i=r(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",/[^"'=<>`\x00-\x20]+/)("single_quoted",/'[^']*'/)("double_quoted",/"[^"]*"/)(),o=r(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",/[a-zA-Z_:][a-zA-Z0-9:._-]*/)("attr_value",i)(),a=r(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",o)(),s=r(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",a)("close_tag",/<\/[A-Za-z][A-Za-z0-9]*\s*>/)("comment",/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/)("processing",/<[?].*?[?]>/)("declaration",/<![A-Z]+\s+[^>]*>/)("cdata",/<!\[CDATA\[[\s\S]*?\]\]>/)();t.exports.HTML_TAG_RE=s},function(t,e,n){"use strict";var r=n(531),i=n(74).has,o=n(74).isValidEntityCode,a=n(74).fromCodePoint,s=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,u=/^&([a-z][a-z0-9]{1,31});/i;t.exports=function(t,e){var n,c,l=t.pos,f=t.posMax;if(38!==t.src.charCodeAt(l))return!1;if(l+1<f)if(35===t.src.charCodeAt(l+1)){if(c=t.src.slice(l).match(s))return e||(n="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),t.pending+=o(n)?a(n):a(65533)),t.pos+=c[0].length,!0}else if((c=t.src.slice(l).match(u))&&i(r,c[1]))return e||(t.pending+=r[c[1]]),t.pos+=c[0].length,!0;return e||(t.pending+="&"),t.pos++,!0}},function(t,e,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,linkTarget:"",typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","linkify","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}}},function(t,e,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,linkTarget:"",typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}}},function(t,e,n){"use strict";t.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,linkTarget:"",typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n(1)),i=n(155),o=u(n(14)),a=n(369),s=n(264);function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(){var t=E(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index: 100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-image: radial-gradient(rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0));\n"]);return b=function(){return t},t}function _(){var t=E(["\n  padding 0px 50px;\n"]);return _=function(){return t},t}function x(){var t=E(["\n  width: 100%;\n"]);return x=function(){return t},t}function w(){var t=E(["\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  height: 100%;\n  z-index: 100000;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n  transition: 1s;\n  &.show {\n    pointer-events: auto;\n    opacity: 1;\n    overflow-x: hidden;\n    overflow-y: visible !important;\n  }\n  &.hide {\n    opacity: 0;\n  }\n  div.body {\n    position: relative;\n    transition: 1s;\n  }\n  &.show div.body {\n    bottom: 0%;\n  }\n  &.hide div.body {\n    bottom: 100%;\n  }\n"]);return w=function(){return t},t}function E(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var S=o.default.div(w()),k=(0,o.default)(S)(x()),O=(0,o.default)(S)(_()),C=o.default.div(b()),P=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(u,t);var e,n,o,s=d(u);function u(){var t;f(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return m(v(t=s.call.apply(s,[this].concat(n))),"state",{onResolve:null,onReject:null,loading:!1}),t}return e=u,(n=[{key:"componentDidUpdate",value:function(t){this.props.show&&!t.show&&this.setState({onResolve:null,onReject:null})}},{key:"onHide",value:function(){this.props.onHide()}},{key:"onAction",value:function(t,e){var n=this,r=e.action,i=e.onResolve,o=e.onReject;this.setState({loading:!0}),Promise.resolve(r(t)).then((function(t){n.setState({loading:!1}),i?n.onResolve(t,i):n.props.hideOnAction&&n.onHide()})).catch((function(t){console.log("<AvlModal.onAction> ERROR:",t),n.setState({loading:!1}),Boolean(o)&&n.onReject(t,o)}))}},{key:"onResolve",value:function(t,e){this.setState({onResolve:{res:t,comp:e}})}},{key:"onReject",value:function(t,e){this.setState({onReject:{error:t,comp:e}})}},{key:"render",value:function(){var t=this,e=this.props,n=e.show,o=e.actions,s=this.state,u=s.onResolve,c=s.onReject,f=o.filter((function(t){return!1!==t.show})),h=this.props.usePositioned?O:k;return r.default.createElement(h,{className:"".concat(n?"show":"hide")},this.state.loading?r.default.createElement(C,null,r.default.createElement(a.ScalableLoading,null)):null,r.default.createElement(M,null,r.default.createElement(A,{className:"rounded py-2 px-3"},u?r.default.createElement(u.comp,{res:u.res}):c?r.default.createElement(c.comp,{error:c.error}):this.props.children),r.default.createElement(A,{className:"flex rounded mt-3 p-2"},this.props.showCloseButton?r.default.createElement("div",{className:"flex-0"},r.default.createElement(i.Button,{buttonTheme:"buttonDanger",tabIndex:-1,onClick:function(e){return t.onHide()}},this.props.closeLabel)):null,!f.length||Boolean(u)||Boolean(c)?null:r.default.createElement("div",{className:"flex-1 flex justify-end"},f.map((function(e,n){var o=e.label,a=e.buttonTheme,s=void 0===a?"button":a,u=e.disabled,c=void 0!==u&&u,f=e.url,h=l(e,["label","buttonTheme","disabled","url"]);return void 0===f?r.default.createElement(i.Button,{onClick:function(e){return t.onAction(e,h)},key:n,tabIndex:-1,disabled:c,buttonTheme:s,className:"ml-1"},o):r.default.createElement(i.LinkButton,{to:f||"#",key:n,className:"ml-1",tabIndex:-1},o)}))))))}}])&&h(e.prototype,n),o&&h(e,o),u}(r.default.Component);m(P,"defaultProps",{onHide:function(){},show:!1,actions:[],hideOnAction:!0,closeLabel:"Close",usePositioned:!1,showCloseButton:!0});var T=P;e.default=T;var M=function(t){var e=t.children,n=(0,s.useTheme)();return r.default.createElement("div",{className:"\n        body inline-block rounded p-3 ".concat(n.accent2,"\n      ")},e)},A=function(t){var e=t.className,n=void 0===e?"":e,i=t.children,o=(0,s.useTheme)();return r.default.createElement("div",{className:"\n      ".concat(o.bg," ").concat(n,"\n    ")},i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(1)),i=o(n(5));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.propsToShare,o=void 0===n?{}:n;return function(e){var n=e.children,s=a(e,["children"]),u={};if("string"===typeof o){var c=o.split(".");u[c.pop()]=(0,i.default)(s,o,o)}else if(Array.isArray(o))o.forEach((function(t){var e=t.split(".");u[e.pop()]=(0,i.default)(s,t,t)}));else for(var l in o)u[l]=(0,i.default)(s,o[l],o[l]);return r.default.createElement(t,s,r.default.Children.map(n,(function(t){return r.default.cloneElement(t,u)})))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(1)),i=o(n(2));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e=function(e){h(i,e);var n=d(i);function i(){var t;c(this,i);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return m(v(t=n.call.apply(n,[this].concat(r))),"state",{loading:!1,message:""}),t}return f(i,[{key:"uploadImage",value:function(t){var e=this;if(!t)return Promise.resolve(null);if(!/^image[/]/.test(t.type))return this.setState({message:"File was not an image."}),Promise.resolve(null);var n=t.name.replace(/\s+/g,"_");this.setState({message:"",loading:!0});var r=new FileReader;return r.readAsArrayBuffer(t),new Promise((function(t){r.addEventListener("load",(function(){fetch("".concat(e.props.imgUploadUrl,"/upload/").concat(n),{method:"POST",body:r.result,headers:{"Content-Type":"application/octet-stream",Authorization:window.localStorage.getItem("userToken")}}).then((function(e){return e.ok||t({url:null}),e.json()})).then(t)}))})).then((function(t){var r=t.url;return e.setState({loading:!1}),{url:r,filename:n}}))}},{key:"editImage",value:function(t,e,n,r){var i=this;return this.setState({loading:!0}),new Promise((function(o){fetch("".concat(i.props.imgUploadUrl,"/edit/").concat(e,"/").concat(n,"/").concat(r),{method:"POST",body:JSON.stringify({src:encodeURI(t)}),headers:{"Content-Type":"application/json",Authorization:window.localStorage.getItem("userToken")}}).then((function(t){return t.ok||o({url:null}),t.json()})).then(o)})).then((function(t){var e=t.url;return i.setState({loading:!1}),e}))}},{key:"saveImage",value:function(t,e,n){var r=this;return this.setState({loading:!0}),new Promise((function(i){fetch("".concat(r.props.imgUploadUrl,"/save/").concat(e),{method:"POST",body:JSON.stringify({src:t,history:n}),headers:{"Content-Type":"application/json",Authorization:window.localStorage.getItem("userToken")}}).then((function(t){return t.ok||i({url:null}),t.json()})).then(i)})).then((function(t){var e=t.url;return r.setState({loading:!1}),e}))}},{key:"render",value:function(){var e=this,n=this.props,i=n.forwardRef,o=u(n,["forwardRef"]);return r.default.createElement(t,s({},o,this.state,{ref:i,uploadImage:function(){return e.uploadImage.apply(e,arguments)},editImage:function(){return e.editImage.apply(e,arguments)},saveImage:function(){return e.saveImage.apply(e,arguments)}}))}}]),i}(r.default.Component);return m(e,"propTypes",{imgUploadUrl:i.default.string.isRequired}),r.default.forwardRef((function(t,n){return r.default.createElement(e,s({},t,{forwardRef:n}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(536),i=function(t){return(0,r.avlFalcor)(t)};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.falcorGraph=void 0;var r=n(403),i=o(n(302));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e,n){return(s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function y(t){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=S(t);if(e){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(t,e){return!e||"object"!==y(e)&&"function"!==typeof e?E(t):e}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k=function(t){b(n,t);var e=x(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"onBeforeRequest",value:function(t){if(window.localStorage){var e=window.localStorage.getItem("userToken");e&&(t.headers.Authorization=e)}}}]),n}(o(n(404)).default);var O=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.placeholder,i=void 0===r?"replace_me":r,o=n.chunkSize,a=void 0===o?50:o,s=[],u=function(n){s.push(e.map((function(e){return e===i?t.slice(n,n+a):e})))},c=0;c<t.length;c+=a)u(c);return s.length?s:[e]},C=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.falcor,i=d(n,["falcor"]);return O(t,e,i).reduce((function(t,e){return t.then((function(){return r.get(e)}))}),Promise.resolve())},P=function(t){return t.reduce((function(t,e){return Array.isArray(e)?t[0].push(e):t[1]=e,t}),[[],{}])},T=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=P(e),i=f(r,2),o=i[0],a=i[1],s=a.index,u=void 0===s?null:s,l=a.placeholder,h=void 0===l?"replace_me":l,p=d(a,["index","placeholder"]);return o.reduce((function(t,e){return t.then((function(){var t=[],n=!1,r=e.map((function(e,r){return!Array.isArray(e)||!e.length||n||null!==u&&u!==r?e:(n=!0,t=e,h)}));return C(t,r,c(c({},p),{},{placeholder:h}))}))}),Promise.resolve())},M=function(t){b(n,t);var e=x(n);function n(){var t;v(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).listeners=[],t.onChange=t.onChange.bind(E(t)),t.listen=t.listen.bind(E(t)),t.unlisten=t.unlisten.bind(E(t)),t}return m(n,[{key:"onChange",value:function(){this.listeners.forEach((function(t){return t()}))}},{key:"listen",value:function(t){this.listeners.includes(t)||this.listeners.push(t)}},{key:"unlisten",value:function(t){this.listeners=this.listeners.filter((function(e){return e!==t}))}}]),n}(i.default),A=function(t){b(n,t);var e=x(n);function n(){var t;v(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).onChange=t.onChange.bind(E(t)),t.remove=t.remove.bind(E(t)),t.chunk=t.chunk.bind(E(t)),t}return m(n,[{key:"onChange",value:function(t,e){this._root.listen(t,e)}},{key:"remove",value:function(t){this._root.unlisten(t)}},{key:"get",value:function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(t=s(S(n.prototype),"get",this)).call.apply(t,[this].concat(r)).then((function(t){return t}))}},{key:"chunk",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=P(e),i=f(r,2),o=i[0],s=i[1];return T.apply(void 0,a(o).concat([c({falcor:this},s)]))}}]),n}(r.Model);e.falcorGraph=function(t){return new A({_root:new M,source:new k(t+"/graph",{crossDomain:!0,withCredentials:!1,timeout:12e4}),errorSelector:function(t,e){return console.log("errorSelector",t,e),e},cache:{}}).batch()}},function(t,e,n){var r=n(302),i=n(941),o=n(942),a=n(121),s=n(969),u=n(975),c=n(976),l=n(977),f=n(384),h=n(109),p=n(137),d=n(68),y=n(156),v=n(279),g=n(385),m=n(386),b=n(271),_=n(553),x=0,w=n(387),E=function(){},S=n(978),k=n(388),O=n(555);function C(t){var e=t||{};this._root=e._root||new r(e),this._path=e.path||e._path||[],this._source=e.source||e._source,this._request=e.request||e._request||new o(this,e.scheduler||new l),this._ID=x++,"number"===typeof e.maxSize?this._maxSize=e.maxSize:this._maxSize=e._maxSize||C.prototype._maxSize,"number"===typeof e.maxRetries?this._maxRetries=e.maxRetries:this._maxRetries=e._maxRetries||C.prototype._maxRetries,"number"===typeof e.collectRatio?this._collectRatio=e.collectRatio:this._collectRatio=e._collectRatio||C.prototype._collectRatio,(e.boxed||e.hasOwnProperty("_boxed"))&&(this._boxed=e.boxed||e._boxed),(e.materialized||e.hasOwnProperty("_materialized"))&&(this._materialized=e.materialized||e._materialized),"boolean"===typeof e.treatErrorsAsValues?this._treatErrorsAsValues=e.treatErrorsAsValues:e.hasOwnProperty("_treatErrorsAsValues")?this._treatErrorsAsValues=e._treatErrorsAsValues:this._treatErrorsAsValues=!1,"boolean"===typeof e.disablePathCollapse?this._enablePathCollapse=!e.disablePathCollapse:e.hasOwnProperty("_enablePathCollapse")?this._enablePathCollapse=e._enablePathCollapse:this._enablePathCollapse=!0,"boolean"===typeof e.disableRequestDeduplication?this._enableRequestDeduplication=!e.disableRequestDeduplication:e.hasOwnProperty("_enableRequestDeduplication")?this._enableRequestDeduplication=e._enableRequestDeduplication:this._enableRequestDeduplication=!0,this._useServerPaths=e._useServerPaths||!1,this._allowFromWhenceYouCame=e.allowFromWhenceYouCame||e._allowFromWhenceYouCame||!1,this._treatDataSourceErrorsAsJSONGraphErrors=e._treatDataSourceErrorsAsJSONGraphErrors||!1,e.cache&&this.setCache(e.cache)}t.exports=C,C.ref=_.ref,C.atom=_.atom,C.error=_.error,C.pathValue=_.pathValue,C.prototype.constructor=C,C.prototype._materialized=!1,C.prototype._boxed=!1,C.prototype._progressive=!1,C.prototype._treatErrorsAsValues=!1,C.prototype._maxSize=Math.pow(2,53)-1,C.prototype._maxRetries=3,C.prototype._collectRatio=.75,C.prototype._enablePathCollapse=!0,C.prototype._enableRequestDeduplication=!0,C.prototype.get=n(987),C.prototype._getOptimizedBoundPath=function(){return this._path?this._path.slice():this._path},C.prototype._getWithPaths=n(989),C.prototype.set=n(990),C.prototype.preload=function(){var t=w(arguments,O,"preload");if(!0!==t)return new a((function(e){e.onError(t)}));var e=Array.prototype.slice.call(arguments),n=this;return new a((function(t){return n.get.apply(n,e).subscribe((function(){}),(function(e){t.onError(e)}),(function(){t.onCompleted()}))}))},C.prototype.call=function(){var t,e=-1,n=arguments.length;for(t=new Array(n);++e<n;){var r=arguments[e];t[e]=r;var i=typeof r;if(e>1&&!Array.isArray(r)||0===e&&!Array.isArray(r)&&"string"!==i||1===e&&!Array.isArray(r)&&!y(r))return new a((function(t){t.onError(new Error("Invalid argument"))}))}return new s(this,t[0],t[1],t[2],t[3])},C.prototype.invalidate=function(){var t,e=-1,n=arguments.length;for(t=[];++e<n;)if(t[e]=h.fromPath(arguments[e]),!Array.isArray(t[e])||!t[e].length)throw new Error("Invalid argument");new u(this,t).subscribe(E,(function(t){throw t}))},C.prototype.deref=n(996),C.prototype._hasValidParentReference=n(998),C.prototype.getValue=n(999),C.prototype.setValue=n(1e3),C.prototype._getValueSync=n(1001),C.prototype._setValueSync=n(1002),C.prototype._derefSync=n(1003),C.prototype.setCache=function(t){var e=this._root.cache;if(t!==e){var n,r=this._root,i=this._path;this._path=[],this._root.cache={},"undefined"!==typeof e&&f(r,r.expired,p(e),0),g(t)?n=b(this,[t])[0]:v(t)?n=m(this,[t])[0]:d(t)&&(n=m(this,[{json:t}])[0]),n&&k.getWithPathsAsPathMap(this,n,[]),this._path=i}else"undefined"===typeof e&&(this._root.cache={});return this},C.prototype.getCache=function(){var t=Array.prototype.slice.call(arguments);if(0===t.length)return S(this._root.cache);var e=[{}],n=this._path;return k.getWithPathsAsJSONGraph(this,t,e),this._path=n,e[0].jsonGraph},C.prototype._setMaxSize=function(t){var e=this._maxSize;if(this._maxSize=t,t<e){var n=this._root,r=n.cache,i=r.$_version;f(n,n.expired,p(r),this._maxSize,this._collectRatio,i)}},C.prototype.getVersion=function(t){var e=t&&h.fromPath(t)||[];if(!1===Array.isArray(e))throw new Error("Model#getVersion must be called with an Array path.");return this._path.length&&(e=this._path.concat(e)),this._getVersion(this,e)},C.prototype._syncCheck=function(t){if(Boolean(this._source)&&this._root.syncRefCount<=0&&!1===this._root.unsafeMode)throw new Error("Model#"+t+" may only be called within the context of a request selector.");return!0},C.prototype._clone=function(t){var e=new this.constructor(this);for(var n in t){var r=t[n];"delete"===r?delete e[n]:e[n]=r}return e.setCache=void 0,e},C.prototype.batch=function(t){var e;e="number"===typeof t?new c(Math.round(Math.abs(t))):t&&t.schedule?t:new c(1);var n=this._clone();return n._request=new o(n,e),n},C.prototype.unbatch=function(){var t=this._clone();return t._request=new o(t,new l),t},C.prototype.treatErrorsAsValues=function(){return this._clone({_treatErrorsAsValues:!0})},C.prototype.asDataSource=function(){return new i(this)},C.prototype._materialize=function(){return this._clone({_materialized:!0})},C.prototype._dematerialize=function(){return this._clone({_materialized:"delete"})},C.prototype.boxValues=function(){return this._clone({_boxed:!0})},C.prototype.unboxValues=function(){return this._clone({_boxed:"delete"})},C.prototype.withoutDataSource=function(){return this._clone({_source:"delete"})},C.prototype.toJSON=function(){return{$type:"ref",value:this._path}},C.prototype.getPath=function(){return this._path?this._path.slice():this._path},C.prototype._fromWhenceYouCame=function(t){return this._clone({_allowFromWhenceYouCame:void 0===t||t})},C.prototype._getBoundValue=n(159),C.prototype._getVersion=n(1004),C.prototype._getPathValuesAsPathMap=k.getWithPathsAsPathMap,C.prototype._getPathValuesAsJSONG=k.getWithPathsAsJSONGraph,C.prototype._setPathValues=n(276),C.prototype._setPathMaps=n(386),C.prototype._setJSONGs=n(271),C.prototype._setCache=n(386),C.prototype._invalidatePathValues=n(1005),C.prototype._invalidatePathMaps=n(1006)},function(t,e){function n(t){this._model=t._materialize().treatErrorsAsValues()}n.prototype.get=function(t){return this._model.get.apply(this._model,t)._toJSONG()},n.prototype.set=function(t){return this._model.set(t)._toJSONG()},n.prototype.call=function(t,e,n,r){var i=[t,e,n];return Array.prototype.push.apply(i,r),this._model.call.apply(this._model,i)._toJSONG()},t.exports=n},function(t,e,n){var r=n(537),i=n(943),o=n(963),a=n(157);function s(t,e){this.model=t,this.scheduler=e,this.requests=this._requests=[]}s.prototype={setScheduler:function(t){this.scheduler=t},set:function(t,e,n){return this.model._enablePathCollapse&&(t.paths=a.collapse(t.paths)),void 0===n&&(n=e,e=void 0),i(t,this.model,e,n)},get:function(t,e,n,i){var a,s,u,c=this,l=[],f=0,h=c._requests,p=e,d=t,y=!1;for(void 0===i&&(i=n,n=void 0),a=0,s=h.length;a<s;++a)if((u=h[a]).type===r.GetRequest){if(!u.sent){u.batch(d,p,m),p=null,d=null,++f;break}if(this.model._enableRequestDeduplication){var v=u.add(d,p,m);if(v[0]&&(d=v[1],p=v[2],l[l.length]=v[3],++f,!p.length))break}}if(p&&p.length){u=new o(c.scheduler,c,n),h[h.length]=u,++f;var g=u.batch(d,p,m);l[l.length]=g}function m(t,e,n){y||0===--f&&i(t,e,n)}return function(){if(!y&&0!==f){y=!0;for(var t=l.length,e=0;e<t;++e)l[e]()}}},removeRequest:function(t){for(var e=this._requests,n=e.length;--n>=0;)if(e[n].id===t.id){e.splice(n,1);break}}},t.exports=s},function(t,e,n){var r=n(271),i=n(276),o=n(196),a=[],s={dispose:function(){}};t.exports=function(t,e,n,u){var c,l,f=t.paths,h=e._root,p=h.errorSelector,d=h.comparator,y=e._path;try{l=e._source.set(t,n)}catch(g){return u(new o),s}var v=l.subscribe((function(t){if(!v||!v.disposed){e._path=a;var n=r(e,[{paths:f,jsonGraph:t.jsonGraph}],null,p,d);t.paths=n[1],e._path=y,c=t}}),(function(t){v&&v.disposed||(e._path=a,i(e,f.map((function(e){return{path:e,value:t}})),null,p,d),e._path=y,u(t))}),(function(){u(null,c)}));return v}},function(t,e,n){var r=n(373),i=n(374),o=n(375);t.exports=function(t){var e=t.$expires;return null!=e&&e!==o&&e!==i&&e<r()}},function(t,e,n){var r=n(376);t.exports=function(t,e){for(var n=[],i=-1,o=0,a=t.length;o<a;++o)r(e,t[o],0)||(n[++i]=t[o]);return n}},function(t,e,n){var r=n(376);t.exports=function(t,e){for(var n=[],i=-1,o=0,a=t.length;o<a;++o){var s=t[o];r(e[s.length],s,0)||(n[++i]=s)}return n}},function(t,e,n){var r=n(540),i=n(539);t.exports=function(t){var e=t.reduce((function(t,e){var n=e.length;return t[n]||(t[n]=[]),t[n].push(e),t}),{});return Object.keys(e).forEach((function(t){e[t]=i(e[t])})),r(e)}},function(t,e){t.exports={innerReferences:"References with inner references are not allowed.",circularReference:"There appears to be a circular reference, maximum reference following exceeded."}},function(t,e,n){var r=n(224),i=n(950),o=n(951),a=n(541);function s(t,e,n,u,c,l,f){if(void 0!==t){if(!(null===t||t.$type&&"ref"!==t.$type||"object"!==typeof t)&&("ref"!==t.$type||u!==n.length)){var h,p,d=n[u],y=u+1,v=!1,g=d;"object"===typeof d&&null!==d&&(g=r(d,v={}));do{h=t[g];var m=l.length;if(l[m]=g,h&&"ref"===h.$type&&y<n.length){var b=a(e,h.value,f);if(b.error)return b.error;h=b.node,p=i(b.refPath)}else p=l;var _=s(h,e,n,y,c,p,f);if(_)return _;l.length=m,v&&!v.done&&(g=r(d,v))}while(v&&!v.done)}}else c[c.length]=o(l,n,u)}t.exports=function(t,e,n){"undefined"===typeof n&&(n=5);for(var r=[],i=0,o=e.length;i<o;++i){var a=s(t,t,e[i],0,r,[],n);if(a)return{error:a}}return{paths:r}}},function(t,e){t.exports=function(t,e){for(var n=[],r=t.length,i=e||0;i<r;i++)n[i]=t[i];return n}},function(t,e){t.exports=function(t,e,n){var r,i,o,a=[];for(r=0,o=t.length;r<o;++r)a[r]=t[r];for(i=n||0,o=e.length;i<o;++i,++r)a[r]=e[i];return a}},function(t,e,n){"use strict";function r(t){if(null==t)return 1;if(Array.isArray(t))throw new Error("Unexpected Array found in keySet: "+JSON.stringify(t));return"object"===typeof t?function(t){var e=t.to,n=t.length;if(null!=e){if(isNaN(e)||parseInt(e,10)!==e)throw new Error("Invalid range, 'to' is not an integer: "+JSON.stringify(t));var r=t.from||0;if(isNaN(r)||parseInt(r,10)!==r)throw new Error("Invalid range, 'from' is not an integer: "+JSON.stringify(t));return r<=e?e-r+1:0}if(null!=n){if(isNaN(n)||parseInt(n,10)!==n)throw new Error("Invalid range, 'length' is not an integer: "+JSON.stringify(t));return n}throw new Error("Invalid range, expected 'to' or 'length': "+JSON.stringify(t))}(t):1}t.exports=function(t){if(0===t.length)throw new Error("All paths must have length larger than zero.");for(var e=1,n=0;n<t.length;n++){var i=t[n];if(Array.isArray(i)){for(var o=0,a=0;a<i.length;a++){o+=r(i[a])}e*=o}else e*=r(i)}return e}},function(t,e){t.exports=function(t){return"_"+t}},function(t,e){t.exports=function(t){if("_"===t.slice(0,1))return t.slice(1);throw SyntaxError('Expected "_".')}},function(t,e,n){"use strict";var r=n(224);t.exports=function(t,e){return t.reduceRight((function(t,e){var n={};if("object"!==typeof e||null===e)return n[e]=t,n;for(var i={},o=r(e,i);!i.done;)n[o]=t,o=r(e,i);return n}),e)}},function(t,e,n){var r=n(81),i=n(194),o=n(137),a=n(542),s=n(68),u=n(158),c=n(135),l=n(543),f=n(544),h=n(136),p=n(545),d=n(225),y=n(547);t.exports=function(t,e,n,v,g,m,b,_,x,w,E,S){var k,O,C,P,T,M,A,I=e&&void 0!==e.value?e.value:e;if(I===n){if(null===n)return e=l(n,void 0,n),t=d(t,-e.$size,x,b),e=f(e,t,v,void 0,m);if(void 0===n)return n;if((P=s(e))&&null==(O=e.$type))return null==e.$_parent&&f(e,t,v,b,m),e}else(P=s(e))&&(O=e.$type);if(O!==r){if((T=s(n))&&(C=n.$type),P&&!O&&(null==n||T&&!C))return e}else{if(null==n)return u(e)?void h(e,_,x):e;if((T=s(n))&&(C=n.$type)===r)if(e===n){if(null!=e.$_parent)return e}else if(M=e.$timestamp,A=n.$timestamp,!u(e)&&!u(n)&&A<M)return}if(O&&T&&!C)return f(p(e,n,t,v,x,S),t,v,void 0,m);if(C||!T){if(C===i&&c(E)&&(C=(n=E(y(g,v),n)).$type||C),C&&e===n)null==e.$_parent&&(e=l(e,C,e.value),t=d(t,-e.$size,x,b),e=f(e,t,v,b,m));else{var j=!0;(O&&!u(e)||!P)&&(j=a(n)<a(e)===!1)&&(O||C)&&c(w)&&(j=!w(I,n,m.slice(0,m.index))),j&&(n=l(n,C,C?n.value:n),k=o(e)-o(n),e=p(e,n,t,v,x,S),t=d(t,k,x,b),e=f(e,t,v,b,m))}u(e)&&h(e,_,x)}else null==e&&(e=f({},t,v,void 0,m));return e}},function(t,e,n){var r=n(272),i=n(222),o=Array.isArray,a=n(68);t.exports=function(t){var e=t;if(a(e)){e=o(t)?[]:{};var n=t;for(var s in n)0!==s.lastIndexOf(r,0)&&i(n,s)&&(e[s]=n[s])}return e}},function(t,e,n){var r=n(68);t.exports=function(t){return r(t)&&t.$expires||void 0}},function(t,e,n){var r=n(192);t.exports=function(t,e){for(var n=t.$_refsLength||0,i=e.$_refsLength||0,o=-1;++o<n;){var a=t[r+o];void 0!==a&&(a.$_context=e,e[r+(i+o)]=a,t[r+o]=void 0)}return e.$_refsLength=n+i,t.$_refsLength=void 0,e}},function(t,e,n){var r=n(192);t.exports=function(t){for(var e=-1,n=t.$_refsLength||0;++e<n;){var i=t[r+e];null!=i&&(i.$_context=i.$_refIndex=t[r+e]=void 0)}return t.$_refsLength=void 0,t}},function(t,e,n){var r=n(192);t.exports=function(t){var e=t.$_context;if(e){for(var n=(t.$_refIndex||0)-1,i=(e.$_refsLength||0)-1;++n<=i;)e[r+n]=e[r+(n+1)];e.$_refsLength=i,t.$_refIndex=t.$_context=e=void 0}return t}},function(t,e,n){var r=n(68);t.exports=function(t,e){var n=r(t)&&t.$type||void 0;return e&&n?"branch":n}},function(t,e,n){var r=n(964),i=n(965),o=n(193),a=n(550),s=0,u=n(537).GetRequest,c=n(271),l=n(276),f=n(194),h=[],p=n(196),d=function(t,e,n){this.sent=!1,this.scheduled=!1,this.requestQueue=e,this.id=++s,this.type=u,this._scheduler=t,this._attemptCount=n,this._pathMap={},this._optimizedPaths=[],this._requestedPaths=[],this._callbacks=[],this._count=0,this._disposable=null,this._collapsed=null,this._disposed=!1};function y(t,e){var n=!1;return function(){if(!n&&!t._disposed){n=!0,t._callbacks[e]=null,t._optimizedPaths[e]=[],t._requestedPaths[e]=[];var r=--t._count,i=t._disposable;0===r&&(i.unsubscribe?i.unsubscribe():i.dispose(),t.requestQueue.removeRequest(t))}}}d.prototype={batch:function(t,e,n){var r=this,s=r._optimizedPaths,u=r._requestedPaths,c=r._callbacks,l=s.length;if(s[l]=e,u[l]=t,c[l]=n,++r._count,!r.scheduled){var f;r.scheduled=!0;var h=r._scheduler.schedule((function(){f=i(r,s,(function(t,e){var n,i,s,l=r.requestQueue.model;if(r.requestQueue.removeRequest(r),r._disposed=!0,l._treatDataSourceErrorsAsJSONGraphErrors?t instanceof p:t)for(n=0,s=c.length;n<s;++n)(i=c[n])&&i(t);else if(r._count){var f=o.getCurrentVersion();a.setVersion(f);var h={hasInvalidatedResult:!1},d=l._useServerPaths&&e&&void 0===e.paths?new Error("Server responses must include a 'paths' field when Model._useServerPaths === true"):void 0;for(d||r._merge(u,t,e,h),n=0,s=c.length;n<s;++n)(i=c[n])&&i(d||t,e,h.hasInvalidatedResult);a.setVersion(null)}})),r._disposable=f}));r._disposable=f||h}return y(r,l)},add:function(t,e,n){var i=this,o=r(t,e,i._pathMap),a=!1,s=!1;if(o.intersection.length){a=!0;var u=i._callbacks.length;i._callbacks[u]=n,i._requestedPaths[u]=o.intersection,i._optimizedPaths[u]=[],++i._count,s=y(i,u)}return[a,o.requestedComplement,o.optimizedComplement,s]},_merge:function(t,e,n,r){var i=this.requestQueue.model,o=i._root,a=o.errorSelector,s=o.comparator,u=i._path;i._path=h;var p=i._useServerPaths?n.paths:function(t){for(var e=[],n=-1,r=0,i=t.length;r<i;++r)for(var o=t[r],a=0,s=o.length;a<s;++a)e[++n]=o[a];return e}(t);if(e&&i._treatDataSourceErrorsAsJSONGraphErrors){var d=e;d instanceof Error&&(d={message:d.message}),d.$type||(d={$type:f,value:d});var y=p.map((function(t){return{path:t,value:d}}));l(i,y,null,a,s,r)}else c(i,[{paths:p,jsonGraph:n.jsonGraph}],null,a,s,r);i._path=u}},t.exports=d},function(t,e,n){var r=n(157).iterateKeySet;function i(t,e,n){var r,i=t.length-e.length;for(r=0;n&&r<-i;r++)n=n[e[r]];return n?0===i?o(t,e,n,0,[],[]):i>0?o(t,e,n,0,t.slice(0,i),[]):o(t,e,n,-i,[],e.slice(0,-i)):[[],[e],[t]]}function o(t,e,n,i,c,l){for(var f=t.length-e.length,h=[],p=[],d=[],y=e.length;i<y;++i){var v=e[i];if(v&&"object"===typeof v){for(var g={},m=r(v,g);!g.done;){var b=n[m];if(void 0===b)d[d.length]=s(l,m,e,i+1),p[p.length]=s(c,m,t,i+1+f);else if(i===y-1)h[h.length]=u(c,m);else{var _=o(t,e,b,i+1,u(c,m),u(l,m));Array.prototype.push.apply(h,_[0]),Array.prototype.push.apply(d,_[1]),Array.prototype.push.apply(p,_[2])}m=r(v,g)}break}if(n=n[v],l[l.length]=e[i],c[c.length]=t[i+f],void 0===n){d[d.length]=a(l,e,i+1),p[p.length]=a(c,t,i+f+1);break}i===y-1&&(h[h.length]=c)}return[h,d,p]}function a(t,e,n){var r=t.slice(),i=r.length,o=e.length-n;r.length=i+o;for(var a=0;a<o;++a)r[i+a]=e[n+a];return r}function s(t,e,n,r){var i=t.concat(e),o=i.length,a=n.length-r;i.length=o+a;for(var s=0;s<a;++s)i[o+s]=n[r+s];return i}function u(t,e){var n=t.slice();return n.push(e),n}t.exports=function(t,e,n){var r,o,a=[],s=[],u=[];for(r=0,o=e.length;r<o;++r){var c=e[r],l=i(t[r],c,n[c.length]);Array.prototype.push.apply(u,l[0]),Array.prototype.push.apply(a,l[1]),Array.prototype.push.apply(s,l[2])}return{intersection:u,optimizedComplement:a,requestedComplement:s}},t.exports.__test={findPartialIntersections:i}},function(t,e,n){var r=n(157),i=r.toTree,o=r.toPaths,a=n(196);t.exports=function(t,e,n){if(0===t._count)return t.requestQueue.removeRequest(t),null;var r;t.sent=!0,t.scheduled=!1;var s,u,c=t.requestQueue.model;if(c._enablePathCollapse||c._enableRequestDeduplication){for(var l=t._pathMap,f=0,h=e.length;f<h;++f)for(var p=e[f],d=0,y=p.length;d<y;++d){var v=p[d],g=v.length;if(l[g]){var m=l[g];m[m.length]=v}else l[g]=[v]}for(var b=Object.keys(l),_=0,x=b.length;_<x;++_){var w=b[_];l[w]=i(l[w])}}r=c._enablePathCollapse?o(t._pathMap):1===e.length?e[0]:Array.prototype.concat.apply([],e);try{s=c._source.get(r,t._attemptCount)}catch(E){return n(new a),null}return s.subscribe((function(t){u=t}),(function(t){n(t,u)}),(function(){n(null,u)}))}},function(t,e,n){var r=n(967);function i(t,e,n){this._observer=t&&"object"===typeof t?{onNext:"function"===typeof t.onNext?function(e){t.onNext(e)}:r,onError:"function"===typeof t.onError?function(e){t.onError(e)}:r,onCompleted:"function"===typeof t.onCompleted?function(){t.onCompleted()}:r}:{onNext:"function"===typeof t?t:r,onError:"function"===typeof e?e:r,onCompleted:"function"===typeof n?n:r}}i.prototype={onNext:function(t){this._closed||this._observer.onNext(t)},onError:function(t){this._closed||(this._closed=!0,this._observer.onError(t))},onCompleted:function(){this._closed||(this._closed=!0,this._observer.onCompleted())}},t.exports=i},function(t,e){t.exports=function(){}},function(t,e){function n(t){this.esObserver=t}function r(t){this.subscription=t}n.prototype={onNext:function(t){"function"===typeof this.esObserver.next&&this.esObserver.next(t)},onError:function(t){"function"===typeof this.esObserver.error&&this.esObserver.error(t)},onCompleted:function(){"function"===typeof this.esObserver.complete&&this.esObserver.complete()}},r.prototype.unsubscribe=function(){this.subscription.dispose()},t.exports=function(t){return{subscribe:function(e){return new r(t.subscribe(new n(e)))}}}},function(t,e,n){var r=n(121),i=n(196),o=n(109);function a(t,e,n,r,i){this.callPath=o.fromPath(e),this.args=n,i&&(this.paths=i.map(o.fromPath)),r&&(this.suffix=r.map(o.fromPath)),this.model=t}a.prototype=Object.create(r.prototype),a.prototype._subscribe=function(t){var e=this.callPath,n=this.args,r=this.suffix,o=this.paths,a=this.model,s=a._clone({_path:[]}),u=a._path.concat(e);if(a._source){var c,l;try{l=a._source.call(u,n,r,o)}catch(f){return void t.onError(new i(f))}return l.subscribe((function(t){c=t}),(function(e){t.onError(e)}),(function(){var e=c.invalidated;e&&e.length&&s.invalidate.apply(s,e),s.withoutDataSource().set(c).subscribe((function(e){t.onNext(e)}),(function(e){t.onError(e)}),(function(){t.onCompleted()}))}))}t.onError(new Error("function does not exist"))},t.exports=a},function(t,e,n){var r=n(197),i=n(226),o=n(971);t.exports=function(t){for(var e=t.next(),n={},a=[];!e.done;){switch(e.type){case r.token:var s=+e.token[0];isNaN(s)||i.throwError(i.invalidIdentifier,t),a[a.length]=e.token;break;case r.dotSeparator:0===a.length&&i.throwError(i.unexpectedToken,t);break;case r.space:break;case r.openingBracket:o(t,e,n,a);break;default:i.throwError(i.unexpectedToken,t)}e=t.next()}return 0===a.length&&i.throwError(i.invalidPath,t),a}},function(t,e,n){var r=n(197),i=n(226),o=i.indexer,a=n(972),s=n(973),u=n(974);t.exports=function(t,e,n,c){var l=t.next(),f=!1,h=1,p=!1;for(n.indexer=[];!l.done;){switch(l.type){case r.token:case r.quote:n.indexer.length===h&&i.throwError(o.requiresComma,t)}switch(l.type){case r.openingBrace:p=!0,u(t,l,n,c);break;case r.token:var d=+l.token;isNaN(d)&&i.throwError(o.needQuotes,t),n.indexer[n.indexer.length]=d;break;case r.dotSeparator:n.indexer.length||i.throwError(o.leadingDot,t),a(t,l,n,c);break;case r.space:break;case r.closingBracket:f=!0;break;case r.quote:s(t,l,n,c);break;case r.openingBracket:i.throwError(o.nested,t);break;case r.commaSeparator:++h;break;default:i.throwError(i.unexpectedToken,t)}if(f)break;l=t.next()}0===n.indexer.length&&i.throwError(o.empty,t),n.indexer.length>1&&p&&i.throwError(o.routedTokens,t),1===n.indexer.length&&(n.indexer=n.indexer[0]),c[c.length]=n.indexer,n.indexer=void 0}},function(t,e,n){var r=n(551),i=n(197),o=n(226);t.exports=function(t,e,n,a){var s,u=t.peek(),c=1,l=!1,f=!0,h=n.indexer.length-1,p=r.toNumber(n.indexer[h]);for(isNaN(p)&&o.throwError(o.range.precedingNaN,t);!l&&!u.done;){switch(u.type){case i.dotSeparator:3===c&&o.throwError(o.unexpectedToken,t),3===++c&&(f=!1);break;case i.token:s=r.toNumber(t.next().token),isNaN(s)&&o.throwError(o.range.suceedingNaN,t),l=!0;break;default:l=!0}if(l)break;t.next(),u=t.peek()}n.indexer[h]={from:p,to:f?s:s-1}}},function(t,e,n){var r=n(197),i=n(226),o=i.quote;t.exports=function(t,e,n,a){for(var s=t.next(),u="",c=e.token,l=!1,f=!1;!s.done;){switch(s.type){case r.token:case r.space:case r.dotSeparator:case r.commaSeparator:case r.openingBracket:case r.closingBracket:case r.openingBrace:case r.closingBrace:l&&i.throwError(o.illegalEscape,t),u+=s.token;break;case r.quote:l?(u+=s.token,l=!1):s.token!==c?u+=s.token:f=!0;break;case r.escape:l=!0;break;default:i.throwError(i.unexpectedToken,t)}if(f)break;s=t.next()}0===u.length&&i.throwError(o.empty,t),n.indexer[n.indexer.length]=u}},function(t,e,n){var r=n(197),i=n(552),o=n(226),a=o.routed;t.exports=function(t,e,n,s){var u=t.next(),c=!1,l="";switch(u.token){case i.integers:case i.ranges:case i.keys:break;default:o.throwError(a.invalid,t)}var f=t.next();if(f.type===r.colon&&(c=!0,(f=t.next()).type!==r.token&&o.throwError(a.invalid,t),l=f.token,f=t.next()),f.type===r.closingBrace){var h={type:u.token,named:c,name:l};n.indexer[n.indexer.length]=h}else o.throwError(a.invalid,t)}},function(t,e,n){var r=Array.isArray,i=n(121),o=n(227),a=n(279),s={dispose:function(){}};function u(t,e){this._model=t;for(var n,i,s=[],u=-1,c=e.length;++u<c;){var l,f=e[u];if(r(f))l="PathValues";else if(o(f))l="PathValues";else{if(!a(f))throw new Error("Invalid Input");l="PathMaps"}i!==l&&(i=l,n={inputType:l,arguments:[]},s.push(n)),n.arguments.push(f)}this._groups=s}u.prototype=Object.create(i.prototype),u.prototype.progressively=function(){return this},u.prototype._toJSONG=function(){return this},u.prototype._subscribe=function(t){var e=this._model;return this._groups.forEach((function(t){var n=t.inputType,r=t.arguments;(0,e["_invalidate"+n])(e,r)})),t.onCompleted(),s},t.exports=u},function(t,e){function n(t){this.delay=t}var r=function(t){this.id=t,this.disposed=!1};n.prototype.schedule=function(t){var e=setTimeout(t,this.delay);return new r(e)},n.prototype.scheduleWithState=function(t,e){var n=this,i=setTimeout((function(){e(n,t)}),this.delay);return new r(i)},r.prototype.dispose=function(){this.disposed||(clearTimeout(this.id),this.disposed=!0)},t.exports=n},function(t,e){var n={dispose:function(){}};function r(){}r.prototype.schedule=function(t){return t(),n},r.prototype.scheduleWithState=function(t,e){return e(this,t),n},t.exports=r},function(t,e,n){var r=n(979);function i(t,e,n){Object.keys(t).filter((function(e){return!r(e)&&void 0!==t[e]})).forEach((function(n){var o=t[n],a=e[n];if(a||(a=e[n]={}),o.$type){var s,u=o.value&&"object"===typeof o.value,c=!o.$_modelCreated;return s=u||c?function(t){var e,n,i,o={},a=Object.keys(t);for(n=0,i=a.length;n<i;n++)e=a[n],r(e)||(o[e]=t[e]);return o}(o):o.value,void(e[n]=s)}i(o,a,n)}))}t.exports=function(t){var e={};return i(t,e),e}},function(t,e,n){var r=n(272);t.exports=function(t){return"$size"===t||0===t.lastIndexOf(r,0)}},function(t,e,n){var r=n(554),i=n(383),o=n(981);function a(t,e){if(t!==e&&null!==t&&"object"===typeof t&&!t.$type&&null!==e&&"object"===typeof e&&!e.$type)for(var n in e)if("$__path"!==n){var r=t[n];void 0===r?t[n]=e[n]:a(r,e[n])}}t.exports=function(t,e){return function(n,s,u){var c,l,f,h,p,d=e?u:[{}],y=d[0],v={values:d,optimizedPaths:[]},g=n._root.cache,m=n._path,b=g,_=[],x=[];if(m.length){if(e)return{criticalError:new o};if(l=(c=n._getOptimizedBoundPath()).length,(b=r(n,c))&&b.$type)return{criticalError:new i(m,c)};p=n._referenceContainer}else c=[],l=0;for(f=0,h=s.length;f<h;f++)t(n,g,b,s[f],0,y,v,x,_,c,l,e,!1,p);return a(y,s.length?u[0]:function(t){return t?{jsonGraph:{},paths:[]}:{json:{}}}(e)),v}}},function(t,e,n){function r(){var t=new Error("It is not legal to use the JSON Graph format from a bound Model. JSON Graph format can only be used from a root model.");return t.name="BoundJSONGraphModelError",Object.setPrototypeOf&&Object.setPrototypeOf(t,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(t,r),t}n(195)(r),t.exports=r},function(t,e,n){var r=n(548),i=n(983),o=n(381),a=n(278),s=n(157).iterateKeySet,u=n(81),c=n(275),l=n(160);t.exports=function t(e,n,f,h,p,d,y,v,g,m,b,_,x,w){var E=x,S=m,k=w;if(f&&!f.$type&&p!==h.length){var O=h[p],C=null!==O&&"object"===typeof O,P=!1,T=O;if(C&&(T=s(O,P={})),C&&P.done)i(e,f,h,p,d,y,v,g,S,b,_,E);else{var M,A=e._allowFromWhenceYouCame,I=b+1,j=p+1;do{if(null==T)throw new c;E=!1,S[b]=T,g[p]=T;var R=f[T],D=S,N=I;if(R){var L,z=R.$type,F=z&&R.value||R;if(j<h.length&&z&&z===u&&!a(R)){l(e._root,R),_&&o(e,R,d,j,y,null,null,S,N,_);var B=r(e,n,n,R,F,d,_);E=!0,R=B[0],M=B[1],k=B[2],D=M.slice(),N=M.length}if(R)L=k&&A?{$__path:R.$_absolutePath,$__refPath:k.value,$__toReference:k.$_absolutePath}:{$__path:R.$_absolutePath},v[p]=L}t(e,n,R,h,j,d,y,v,g,D,N,_,E,k),P&&!P.done&&(T=s(O,P))}while(P&&!P.done)}}else i(e,f,h,p,d,y,v,g,S,b,_,E)}},function(t,e,n){var r=n(278),i=n(194),o=n(984),a=n(381),s=n(985),u=n(986),c=n(136),l=n(550);t.exports=function(t,e,n,f,h,p,d,y,v,g,m,b){var _=e&&e.$type;if(!e||!_){var x=u(t);return!x&&m||a(t,e,h,f,p,d,y,v,g,m),void(x||s(t,n,f,p,y,v,g))}!r(e)||e.$_version===l.getVersion()&&0===e.$expires?_===i?(b&&(y[f]=null,f+=1),m||t._treatErrorsAsValues?a(t,e,h,f,p,d,y,v,g,m):(a(t,void 0,h,f,p,d,y,v,g,m),o(t,e,f,y,p))):(b&&(y[f]=null,f+=1),a(t,e,h,f,p,d,y,v,g,m)):(e.$_invalidated||c(e,t._root.expired,t._root),s(t,n,f,p,y,v,g))}},function(t,e,n){var r=n(160),i=n(382);t.exports=function(t,e,n,o,a){var s=e.value;a.errors||(a.errors=[]),t._boxed&&(s=i(e)),a.errors.push({path:o.slice(0,n),value:s}),r(t._root,e)}},function(t,e){function n(t){if(null===t||"object"!==typeof t)return!1;var e=Array.isArray(t);if(e&&t.length)return!1;if(e)return!0;var n=t.from,r=t.to;return!(void 0===n||n<=r)}t.exports=function(t,e,r,i,o,a,s){var u;if(i.requestedMissingPaths||(i.requestedMissingPaths=[],i.optimizedMissingPaths=[]),r<e.length){for(var c=r;c<e.length;++c)if(n(e[c]))return;u=e.slice(r)}else u=[];!function(t,e,n,r,i,o,a){var s=r.slice(0,n);Array.prototype.push.apply(s,e),a.requestedMissingPaths[a.requestedMissingPaths.length]=s;var u=i.slice(0,o);Array.prototype.push.apply(u,e),a.optimizedMissingPaths[a.optimizedMissingPaths.length]=u}(0,u,r,o,a,s,i)}},function(t,e){t.exports=function(t){return t._materialized&&!t._source}},function(t,e,n){var r=n(109),i=n(121),o=n(555),a=n(387),s=n(389);t.exports=function(){var t=a(arguments,o,"get");if(!0!==t)return new i((function(e){e.onError(t)}));var e=r.fromPathsOrPathValues(arguments);return new s(this,e)}},function(t,e,n){var r=n(556),i=n(557),o=n(384),a=n(137),s=n(558),u=n(196);t.exports=function t(e,n,c,l,f,h){if(h>n._maxRetries)return l.onError(new i(c.optimizedMissingPaths)),{dispose:function(){}};var p=n._request,d=c.requestedMissingPaths,y=c.optimizedMissingPaths,v=new s,g=[],m=n._path;if(m.length)for(var b=0,_=d.length;b<_;++b)g[b]=m.concat(d[b]);else g=d;var x=p.get(g,y,h,(function(i,s,p){if(n._treatDataSourceErrorsAsJSONGraphErrors?i instanceof u:i)return c.hasValues&&l.onNext(c.values&&c.values[0]),void l.onError(i);var y,g;p?(y=e.currentRemainingPaths,g=[{}]):(y=d,g=c.values);var m=r(n,y,l,e.isProgressive,e.isJSONGraph,g,f);if(m)v.currentDisposable=t(e,n,m,l,f,h+1);else{var b=n._root,_=b.cache,x=_.$_version;o(b,b.expired,a(_),n._maxSize,n._collectRatio,x)}}));return v.currentDisposable=x,v}},function(t,e,n){var r=n(389);t.exports=function(t){return new r(this,t)}},function(t,e,n){var r=n(991),i=n(387),o=n(992),a=n(121);t.exports=function(){var t=i(arguments,r,"set");if(!0!==t)return new a((function(e){e.onError(t)}));for(var e=-1,n=arguments.length,s=[];++e<n;)s[e]=arguments[e];return new o(this,s)}},function(t,e){t.exports={pathValue:!0,pathSyntax:!0,json:!0,jsonGraph:!0}},function(t,e,n){var r=n(121),i=n(109),o=Array.isArray,a=n(227),s=n(385),u=n(279),c=n(993),l=function(t,e,n,r){this._model=t,this._isJSONGraph=n||!1,this._isProgressive=r||!1,this._initialArgs=e,this._value=[{}];for(var c,l,f=[],h=-1,p=e.length;++h<p;){var d,y=e[h];o(y)||"string"===typeof y?(y=i.fromPath(y),d="PathValues"):a(y)?(y.path=i.fromPath(y.path),d="PathValues"):s(y)?d="JSONGs":u(y)&&(d="PathMaps"),l!==d&&(l=d,c={inputType:d,arguments:[]},f.push(c)),c.arguments.push(y)}this._groups=f};(l.prototype=Object.create(r.prototype))._subscribe=function(t){var e=this._groups,n=this._model,r=this._isJSONGraph,i=this._isProgressive;return c(n,t,e,r,i,1)},l.prototype._toJSONG=function(){return new l(this._model,this._initialArgs,!0,this._isProgressive)},l.prototype.progressively=function(){return new l(this._model,this._initialArgs,this._isJSONGraph,!0)},t.exports=l},function(t,e,n){var r=[],i=n(558),o=n(389),a=n(994),s=n(388).getWithPathsAsPathMap,u=n(196),c=n(557);function l(t,e,n,r,i){return new o(t,n,r,i,!0).subscribe(e)}t.exports=function t(e,n,o,f,h,p){var d,y=a(e,o),v=y.optimizedPaths,g=y.requestedPaths;if(p>e._maxRetries)return n.onError(new c(v)),{dispose:function(){}};if(void 0===e._source)return l(e,n,g,f,h);if(h){var m=s(e,g,[{}]);if(m.criticalError)return n.onError(m.criticalError),null;n.onNext(m.values[0]),d=e._root.cache.$_version}var b=function(t,e){var n=t._path,i={};return t._path=r,t._getPathValuesAsJSONG(t._materialize().withoutDataSource(),e,[i]),t._path=n,i}(e,v),_=new i,x=e._request.set(b,p,(function(r,i){if(r instanceof u)n.onError(r);else{var a=!1;if((r||v.length===i.paths.length)&&(a=!0),h)if(!(e._root.cache.$_version!==d))return void n.onCompleted();a?_.currentDisposable=l(e,n,g,f,h):t(e,n,o,f,h,p+1)}}));return _.currentDisposable=x,_}},function(t,e,n){var r=n(995);function i(t){return t.path}function o(t){return t.paths}t.exports=function(t,e){for(var n=t._root.errorSelector,a=-1,s=e.length,u=[],c=[],l={requestedPaths:u,optimizedPaths:c};++a<s;){var f=e[a],h=f.inputType,p=f.arguments;if(p.length>0){var d=(0,t["_set"+h])(t,p,null,n);c.push.apply(c,d[1]),"PathValues"===h?u.push.apply(u,p.map(i)):"JSONGs"===h?u.push.apply(u,r(p,o)):u.push.apply(u,d[0])}}return l}},function(t,e){t.exports=function(t,e){for(var n=-1,r=-1,i=t.length,o=[];++r<i;)for(var a=e(t[r],r,t),s=-1,u=a.length;++s<u;)o[++n]=a[s];return o}},function(t,e,n){var r=n(997),i=n(554),o=n(81);t.exports=function(t){var e,n=t&&t.$__path,a=t&&t.$__refPath,s=t&&t.$__toReference;if(n){var u="e";if(s&&(u=!1,e=i(this,s),a&&e&&e.$type===o)){var c=e.value,l=0,f=a.length;for(u=!0;u&&l<f;++l)c[l]!==a[l]&&(u=!1)}return u?"e"===u&&(e=!0):e=!1,this._clone({_path:n,_referenceContainer:e})}throw new r}},function(t,e,n){function r(){var t=new Error("Deref can only be used with a non-primitive object from get, set, or call.");return t.name="InvalidDerefInputError",Object.setPrototypeOf&&Object.setPrototypeOf(t,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(t,r),t}n(195)(r),t.exports=r},function(t,e){t.exports=function(){var t=this._referenceContainer;return!this._allowFromWhenceYouCame||(!0===t||!1!==t&&((!t||void 0!==t.$_parent)&&(!t||!t.$_invalidated)))}},function(t,e,n){var r=n(121),i=n(109);t.exports=function(t){for(var e=i.fromPath(t),n=0,o=e.length;++n<o;)if("object"===typeof e[n])return new r((function(t){t.onError(new Error("Paths must be simple paths"))}));var a=this;return new r((function(t){return a.get(e).subscribe((function(n){for(var r=n.json,i=-1,o=e.length;r&&++i<o;)r=r[e[i]];t.onNext(r)}),(function(e){t.onError(e)}),(function(){t.onCompleted()}))}))}},function(t,e,n){var r=n(553),i=n(121),o=n(227);t.exports=function(t,e){for(var n=o(t)?t:r.pathValue(t,e),a=0,s=n.path,u=s.length;++a<u;)if("object"===typeof s[a])return new i((function(t){t.onError(new Error("Paths must be simple paths"))}));var c=this;return new i((function(t){return c.set(n).subscribe((function(e){for(var n=e.json,r=-1,i=s.length;n&&++r<i;)n=n[s[r]];t.onNext(n)}),(function(e){t.onError(e)}),(function(){t.onCompleted()}))}))}},function(t,e,n){var r=n(109),i=n(277);t.exports=function(t){var e=r.fromPath(t);if(!1===Array.isArray(e))throw new Error("Model#_getValueSync must be called with an Array path.");return this._path.length&&(e=this._path.concat(e)),this._syncCheck("getValueSync"),i(this,e).value}},function(t,e,n){var r=n(109),i=n(227),o=n(276);t.exports=function(t,e,n,a){var s=r.fromPath(t),u=e,c=n,l=a;if(i(s)?(l=c,c=u,u=s):u={path:s,value:u},!1===i(u))throw new Error("Model#setValueSync must be called with an Array path.");return"function"!==typeof c&&(c=this._root._errorSelector),"function"!==typeof l&&(l=this._root._comparator),this._syncCheck("setValueSync"),o(this,[u]),this._getValueSync(u.path)}},function(t,e,n){var r=n(109),i=n(159),o=n(383);t.exports=function(t){var e=r.fromPath(t);if(!Array.isArray(e))throw new Error("Model#derefSync must be called with an Array path.");var n=i(this,this._path.concat(e),!1),a=n.path,s=n.value;if(n.found&&void 0!==s){if(s.$type)throw new o(a,a);return this._clone({_path:a})}}},function(t,e,n){var r=n(277);t.exports=function(t,e){var n=r({_boxed:!0,_root:t._root,_treatErrorsAsValues:t._treatErrorsAsValues},e,!0).value,i=n&&n.$_version;return null==i?-1:i}},function(t,e,n){var r=n(192),i=n(81),o=n(159),a=n(160),s=n(137),u=n(158),c=n(135),l=n(156),f=n(136),h=n(157).iterateKeySet,p=n(193),d=n(225),y=n(379);function v(t,e,n,r,i,o,a,u){var c={},l=e<t.length-1,f=t[e],p=h(f,c);do{var g=m(n,r,i,p,l,a,u),b=g[0],_=g[1];b&&(l?v(t,e+1,n,_,b,o,a,u):y(b,_,p,u,void 0)&&d(_,s(b),u,o)),p=h(f,c)}while(!c.done)}function g(t,e,n,i){if(u(e))return f(e,n,i),[void 0,t];a(i,e);var o=e,s=e.value,c=t;if(null!=(e=e.$_context))c=e.$_parent||t;else{var h=0,p=s.length-1;c=e=t;do{var d=m(t,c,e,s[h],h<p,n,i);if(e=d[0],l(e))return d;c=d[1]}while(h++<p);if(o.$_context!==e){var y=e.$_refsLength||0;e.$_refsLength=y+1,e[r+y]=o,o.$_context=e,o.$_refIndex=y}}return[e,c]}function m(t,e,n,r,o,a,s){for(var u=n.$type;u===i;){var c=g(t,n,a,s);if(n=c[0],l(n))return c;e=c[1],u=n.$type}if(void 0!==u)return[n,e];if(null==r){if(o)throw new Error("`null` is not allowed in branch key positions.");n&&(r=n.$_key)}else n=(e=n)[r];return[n,e]}t.exports=function(t,e){for(var n=t._root,r=n,i=n.expired,a=p(),s=t._path,u=n.cache,l=s.length?o(t,s).value:u,f=l.$_parent||u,h=u.$_version,d=-1,y=e.length;++d<y;){v(e[d],0,u,f,l,a,i,r)}var g=u.$_version,m=n.onChange;c(m)&&h!==g&&m()}},function(t,e,n){var r=n(223),i=n(273),o=n(81),a=n(159),s=n(160),u=n(137),c=n(222),l=n(68),f=n(158),h=n(135),p=n(156),d=n(136),y=n(193),v=n(225),g=n(379);function m(t,e,n,r,o,a,s){if(!p(t)&&!t.$type)for(var f in t)if(f[0]!==i&&c(t,f)){var h=t[f],d=l(h)&&!h.$type,y=_(e,n,r,f,d,a,s),b=y[0],x=y[1];b&&(d?m(h,e,x,b,o,a,s):g(b,x,f,s)&&v(x,u(b),s,o))}}function b(t,e,n,i){if(f(e))return d(e,n,i),[void 0,t];s(i,e);var o=e,a=e.value,u=t;if(null!=(e=e.$_context))u=e.$_parent||t;else{var c=0,l=a.length-1;u=e=t;do{var h=_(t,u,e,a[c],c<l,n,i);if(e=h[0],p(e))return h;u=h[1]}while(c++<l);o.$_context!==e&&r(o,e)}return[e,u]}function _(t,e,n,r,i,a,s){for(var u=n.$type;u===o;){var c=b(t,n,a,s);if(n=c[0],p(n))return c;e=c[1],u=n&&n.$type}if(void 0!==u)return[n,e];if(null==r){if(i)throw new Error("`null` is not allowed in branch key positions.");n&&(r=n.$_key)}else n=(e=n)[r];return[n,e]}t.exports=function(t,e){for(var n=t._root,r=n,i=n.expired,o=y(),s=t._path,u=n.cache,c=s.length?a(t,s).value:u,l=c.$_parent||u,f=u.$_version,p=-1,d=e.length;++p<d;){m(e[p].json,u,l,c,o,i,r)}var v=u.$_version,g=n.onChange;h(g)&&f!==v&&g()}},function(t,e,n){"use strict";var r=n(1008),i=n(1009),o=Object.prototype.hasOwnProperty,a=function(){};function s(){}function u(t,e,n){n||(n=new Error(e)),t.onError(n)}s.create=function(t){var e=new s;return e.subscribe=function(e,n,r){var i;return"function"===typeof(i=t("function"===typeof e?{onNext:e,onError:n||a,onCompleted:r||a}:e))?{dispose:i}:i},e},t.exports=function(t,e,n){return s.create((function(a){var s,c,l,f,h,p={method:t||"GET",crossDomain:!1,async:!0,headers:{},responseType:"json"};for(h in e)o.call(e,h)&&(p[h]=e[h]);p.crossDomain||p.headers["X-Requested-With"]||(p.headers["X-Requested-With"]="XMLHttpRequest"),null!=n.onBeforeRequest&&n.onBeforeRequest(p);try{s=p.crossDomain?i():r()}catch(d){a.onError(d)}try{for(f in p.user?s.open(p.method,p.url,p.async,p.user,p.password):s.open(p.method,p.url,p.async),s.timeout=p.timeout,s.withCredentials=!1!==p.withCredentials,l=p.headers)o.call(l,f)&&s.setRequestHeader(f,l[f]);if(p.responseType)try{s.responseType=p.responseType}catch(y){if("json"!==p.responseType)throw y}s.onreadystatechange=function(t){4===s.readyState&&(c||(c=!0,function(t,e,n){var r,i;if(e&&t){i=e.responseType,r="response"in e?e.response:e.responseText;var o=1223===e.status?204:e.status;if(o>=200&&o<=399){try{"json"!==i&&(r=JSON.parse(r||"")),"string"===typeof r&&(r=JSON.parse(r||""))}catch(n){u(t,"invalid json",n)}return t.onNext(r),void t.onCompleted()}u(t,401===o||403===o||407===o||410===o||408===o||504===o?r:r||"Response code "+o)}}(a,s,t)))},s.ontimeout=function(t){c||(c=!0,function(t,e,n,r){u(t,n||e.statusText||"request error",r)}(a,s,"timeout error",t))},s.send(p.data)}catch(y){a.onError(y)}return function(){c||4===s.readyState||(c=!0,s.abort())}}))}},function(t,e,n){"use strict";(function(e){t.exports=function(){var t,n,r;if(e.XMLHttpRequest)return new e.XMLHttpRequest;try{for(n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(t=n[r],new e.ActiveXObject(t))break}catch(i){}return new e.ActiveXObject(t)}catch(i){throw new Error("XMLHttpRequest is not supported by your browser")}}}).call(this,n(53))},function(t,e,n){"use strict";(function(e){t.exports=function(){var t=new e.XMLHttpRequest;if("withCredentials"in t)return t;if(e.XDomainRequest)return new XDomainRequest;throw new Error("CORS is not supported by your browser")}}).call(this,n(53))},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=[],i={url:t},o=-1!==t.indexOf("?")?"&":"?";return"string"===typeof n?r.push(n):Object.keys(n).forEach((function(t){var e="object"===typeof n[t]?JSON.stringify(n[t]):n[t];r.push(t+"="+encodeURIComponent(e))})),"GET"===e?i.url+=o+r.join("&"):i.data=r.join("&"),i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(n(1)),i=n(46),o=l(n(521)),a=l(n(369)),s=l(n(61)),u=n(514),c=l(n(5));function l(t){return t&&t.__esModule?t:{default:t}}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var p=(0,s.default)((function(t){var e=t.theme,n=t.component,s=t.path,l=t.exact,p=t.layoutSettings,y=t.isAuthenticating,v=h(t,["theme","component","path","exact","layoutSettings","isAuthenticating"]),g=(0,i.useLocation)(),m=(0,c.default)(o.default,v.layout,o.default.Sidebar);return y?r.default.createElement(m,f({},p,v,{theme:e}),r.default.createElement(i.Route,{path:s,exact:l},r.default.createElement("div",{className:"fixed top-0 left-0 w-screen h-screen z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},r.default.createElement(a.default,null)))):function(t){return d(t)>-1&&!(0,c.default)(t,["user","authed"],!1)}(v)?r.default.createElement(i.Redirect,{to:{pathname:"/auth/login",state:{from:(0,c.default)(g,"pathname")}}}):function(t){return(0,c.default)(t,["user","authLevel"],-1)<d(t)}(v)?r.default.createElement(i.Redirect,{to:"/"}):r.default.createElement(m,f({},p,v,{theme:e}),r.default.createElement(i.Route,{path:s,exact:l},r.default.createElement(u.ComponentFactory,{config:n})))})),d=function(t){return t.auth?0:(0,c.default)(t,"authLevel",-1)};var y=p;e.default=y},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i},a=n(31),s=n(559),u=n(1013),c=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(14));function l(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(){var t=y(["\n\tposition: fixed;\n\tz-index: 950;\n\tright: 50px;\n\ttop: 50px;\n\n\t.system-message {\n\t\tposition: absolute;\n\t\twhite-space: nowrap;\n\t}\n\t.system-message.show {\n\t\topacity: 1;\n\t\tright: 0px;\n\t\tanimation: "," 0.75s ease-out;\n\t}\n\t.system-message.hide {\n\t\tanimation: "," 0.75s ease-in;\n\t}\n"]);return h=function(){return t},t}function p(){var t=y(["\n\tfrom {\n\t\topacity: 1;\n\t\tright: 0px;\n\t}\n\tto {\n\t\topacity: 0;\n\t\tright: -200px;\n\t}\n"]);return p=function(){return t},t}function d(){var t=y(["\n\tfrom {\n\t\topacity: 0;\n\t\tright: 200px;\n\t}\n\tto {\n\t\topacity: 1;\n\t\tright: 0px;\n\t}\n"]);return d=function(){return t},t}function y(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var v=(0,c.keyframes)(d()),g=(0,c.keyframes)(p()),m=c.default.div(h(),v,g),b=(0,a.connect)((function(t){return{messages:t.messages}}),{dismissSystemMessage:s.dismissSystemMessage})((function(t){var e=t.messages,n=t.dismissSystemMessage;return e.length?o.default.createElement(m,null,e.map((function(t,e){return t.onConfirm?o.default.createElement(u.ConfirmMessage,f({key:t.id,top:3*e},t,{dismissSystemMessage:n})):o.default.createElement(u.SystemMessage,f({key:t.id,top:3*e},t,{dismissSystemMessage:n}))}))):null}));e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmMessage=e.SystemMessage=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(367),a=n(264);function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){var e=t.message,n=t.top,r=t.type,s=t.show,u=t.dismiss,c=t.confirm,l=void 0===c?null:c,f=(0,a.useTheme)();return i.default.createElement("div",{className:"bg-white system-message rounded ".concat(s),style:{top:"".concat(n,"rem")}},i.default.createElement("div",{className:"\n          bg-opacity-25 ".concat(f["bg".concat(r)],"\n          rounded px-6 py-2 text-large\n        ")},i.default.createElement("div",{className:"flex justify-center"},i.default.createElement("span",{className:"mr-4"},e),i.default.createElement(o.Button,{onClick:u,buttonTheme:"buttonSmallPrimary"},"dismiss"),l?i.default.createElement("span",{className:"ml-2"},i.default.createElement(o.Button,{onClick:l,buttonTheme:"buttonSmallSuccess"},"confirm")):null)))},_=function(t){h(n,t);var e=d(n);function n(){var t;c(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return m(v(t=e.call.apply(e,[this].concat(i))),"state",{show:"show"}),m(v(t),"timeout",null),t}return f(n,[{key:"componentDidMount",value:function(){this.props.duration&&(this.timeout=setTimeout(this.dismiss.bind(this),this.props.duration))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),this.props.dismissSystemMessage(this.props.id)}},{key:"dismiss",value:function(){this.setState({show:"hide"}),clearTimeout(this.timeout),this.timeout=setTimeout(this.props.dismissSystemMessage,750,this.props.id),this.props.onDismiss()}},{key:"render",value:function(){var t=this;return i.default.createElement(b,u({},this.props,this.state,{dismiss:function(e){return t.dismiss(e)}}))}}]),n}(i.default.Component);e.SystemMessage=_;var x=function(t){h(n,t);var e=d(n);function n(){return c(this,n),e.apply(this,arguments)}return f(n,[{key:"confirm",value:function(){this.setState({show:"hide"}),clearTimeout(this.timeout),this.timeout=setTimeout(this.props.dismissSystemMessage,750,this.props.id),this.props.onConfirm()}},{key:"render",value:function(){var t=this;return i.default.createElement(b,u({},this.props,this.state,{dismiss:function(e){return t.dismiss(e)},confirm:function(e){return t.confirm(e)}}))}}]),n}(_);e.ConfirmMessage=x},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(1016);function i(e,n,o){return"undefined"!==typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(t,e,n){var i=r(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},i(e,n,o||e)}t.exports=i},function(t,e,n){var r=n(280);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){var r=n(564),i=n(565),o=n(281),a=n(567);t.exports=function(t){return r(t)||i(t)||o(t)||a()}},function(t,e,n){var r=n(1020),i=n(565),o=n(281),a=n(1021);t.exports=function(t){return r(t)||i(t)||o(t)||a()}},function(t,e,n){var r=n(566);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(564),i=n(1023),o=n(281),a=n(567);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()}},function(t,e){t.exports=function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(t,e,n){var r=n(281);t.exports=function(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},function(t,e,n){var r=n(280),i=n(390),o=n(1026),a=n(561);function s(e){var n="function"===typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!o(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return a(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},s(e)}t.exports=s},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,e,n){var r=n(390);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(280),i=n(562),o=n(563);t.exports=function(t){var e=i();return function(){var n,i=r(t);if(e){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(1032),i=n(1033),o=n(1034);t.exports=function(t){if(!t)return[];var e=i(r(t)),n=[];return e.features.forEach((function(t){t.geometry&&(n=n.concat(o(t.geometry.coordinates)))})),n}},function(t,e){t.exports=function(t){if(!t||!t.type)return null;var e=n[t.type];if(!e)return null;if("geometry"===e)return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if("feature"===e)return{type:"FeatureCollection",features:[t]};if("featurecollection"===e)return t};var n={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},function(t,e){t.exports=function t(e){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.reduce((function(e,n){return e.concat(t(n))}),[]),e;case"Feature":return e.geometry?t(e.geometry).map((function(t){var n={type:"Feature",properties:JSON.parse(JSON.stringify(e.properties)),geometry:t};return void 0!==e.id&&(n.id=e.id),n})):e;case"MultiPoint":return e.coordinates.map((function(t){return{type:"Point",coordinates:t}}));case"MultiPolygon":return e.coordinates.map((function(t){return{type:"Polygon",coordinates:t}}));case"MultiLineString":return e.coordinates.map((function(t){return{type:"LineString",coordinates:t}}));case"GeometryCollection":return e.geometries.map(t).reduce((function(t,e){return t.concat(e)}),[]);case"Point":case"Polygon":case"LineString":return[e]}}},function(t,e){t.exports=function(t){return function t(e){if(Array.isArray(e)&&e.length&&"number"===typeof e[0])return[e];return e.reduce((function(e,n){return Array.isArray(n)&&Array.isArray(n[0])?e.concat(t(n)):(e.push(n),e)}),[])}(t)}},function(t,e){var n=t.exports=function(t){return new r(t)};function r(t){this.value=t}function i(t,e,n){var r=[],i=[],s=!0;return function t(f){var h=n?o(f):f,p={},d=!0,y={node:h,node_:f,path:[].concat(r),parent:i[i.length-1],parents:i,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(t,e){y.isRoot||(y.parent.node[y.key]=t),y.node=t,e&&(d=!1)},delete:function(t){delete y.parent.node[y.key],t&&(d=!1)},remove:function(t){u(y.parent.node)?y.parent.node.splice(y.key,1):delete y.parent.node[y.key],t&&(d=!1)},keys:null,before:function(t){p.before=t},after:function(t){p.after=t},pre:function(t){p.pre=t},post:function(t){p.post=t},stop:function(){s=!1},block:function(){d=!1}};if(!s)return y;function v(){if("object"===typeof y.node&&null!==y.node){y.keys&&y.node_===y.node||(y.keys=a(y.node)),y.isLeaf=0==y.keys.length;for(var t=0;t<i.length;t++)if(i[t].node_===f){y.circular=i[t];break}}else y.isLeaf=!0,y.keys=null;y.notLeaf=!y.isLeaf,y.notRoot=!y.isRoot}v();var g=e.call(y,y.node);return void 0!==g&&y.update&&y.update(g),p.before&&p.before.call(y,y.node),d?("object"!=typeof y.node||null===y.node||y.circular||(i.push(y),v(),c(y.keys,(function(e,i){r.push(e),p.pre&&p.pre.call(y,y.node[e],e);var o=t(y.node[e]);n&&l.call(y.node,e)&&(y.node[e]=o.node),o.isLast=i==y.keys.length-1,o.isFirst=0==i,p.post&&p.post.call(y,o),r.pop()})),i.pop()),p.after&&p.after.call(y,y.node),y):y}(t).node}function o(t){if("object"===typeof t&&null!==t){var e;if(u(t))e=[];else if("[object Date]"===s(t))e=new Date(t.getTime?t.getTime():t);else if(function(t){return"[object RegExp]"===s(t)}(t))e=new RegExp(t);else if(function(t){return"[object Error]"===s(t)}(t))e={message:t.message};else if(function(t){return"[object Boolean]"===s(t)}(t))e=new Boolean(t);else if(function(t){return"[object Number]"===s(t)}(t))e=new Number(t);else if(function(t){return"[object String]"===s(t)}(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var n=t.constructor&&t.constructor.prototype||t.__proto__||{},r=function(){};r.prototype=n,e=new r}return c(a(t),(function(n){e[n]=t[n]})),e}return t}r.prototype.get=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!l.call(e,r)){e=void 0;break}e=e[r]}return e},r.prototype.has=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!l.call(e,r))return!1;e=e[r]}return!0},r.prototype.set=function(t,e){for(var n=this.value,r=0;r<t.length-1;r++){var i=t[r];l.call(n,i)||(n[i]={}),n=n[i]}return n[t[r]]=e,e},r.prototype.map=function(t){return i(this.value,t,!0)},r.prototype.forEach=function(t){return this.value=i(this.value,t,!1),this.value},r.prototype.reduce=function(t,e){var n=1===arguments.length,r=n?this.value:e;return this.forEach((function(e){this.isRoot&&n||(r=t.call(this,r,e))})),r},r.prototype.paths=function(){var t=[];return this.forEach((function(e){t.push(this.path)})),t},r.prototype.nodes=function(){var t=[];return this.forEach((function(e){t.push(this.node)})),t},r.prototype.clone=function(){var t=[],e=[];return function n(r){for(var i=0;i<t.length;i++)if(t[i]===r)return e[i];if("object"===typeof r&&null!==r){var s=o(r);return t.push(r),e.push(s),c(a(r),(function(t){s[t]=n(r[t])})),t.pop(),e.pop(),s}return r}(this.value)};var a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function s(t){return Object.prototype.toString.call(t)}var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)};c(a(r.prototype),(function(t){n[t]=function(e){var n=[].slice.call(arguments,1),i=new r(e);return i[t].apply(i,n)}}));var l=Object.hasOwnProperty||function(t,e){return e in t}},function(t,e){function n(t){if(!(this instanceof n))return new n(t);this._bbox=t||[1/0,1/0,-1/0,-1/0],this._valid=!!t}t.exports=n,n.prototype.include=function(t){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[0]),this._bbox[3]=Math.max(this._bbox[3],t[1]),this},n.prototype.equals=function(t){var e;return e=t instanceof n?t.bbox():t,this._bbox[0]==e[0]&&this._bbox[1]==e[1]&&this._bbox[2]==e[2]&&this._bbox[3]==e[3]},n.prototype.center=function(t){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},n.prototype.union=function(t){var e;return this._valid=!0,e=t instanceof n?t.bbox():t,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[2]),this._bbox[3]=Math.max(this._bbox[3],e[3]),this},n.prototype.bbox=function(){return this._valid?this._bbox:null},n.prototype.contains=function(t){if(!t)return this._fastContains();if(!this._valid)return null;var e=t[0],n=t[1];return this._bbox[0]<=e&&this._bbox[1]<=n&&this._bbox[2]>=e&&this._bbox[3]>=n},n.prototype.intersect=function(t){return this._valid?(e=t instanceof n?t.bbox():t,!(this._bbox[0]>e[2]||this._bbox[2]<e[0]||this._bbox[3]<e[1]||this._bbox[1]>e[3])):null;var e},n.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var t="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",t)},n.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null}},,function(t,e,n){"use strict";function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(228),a=n(89),s=n(161),u=n(90),c=n(75),l=n(55),f=n(110),h=n(138),p=n(44),d=n(1053),y=h("draft_tree_data_support"),v=y?u:s,g=p.List,m=p.Repeat,b={insertAtomicBlock:function(t,e,n){var i=t.getCurrentContent(),s=t.getSelection(),u=c.removeRange(i,s,"backward"),h=u.getSelectionAfter(),p=c.splitBlock(u,h),d=p.getSelectionAfter(),b=c.setBlockType(p,d,"atomic"),_=a.create({entity:e}),x={key:f(),type:"atomic",text:n,characterList:g(m(_,n.length))},w={key:f(),type:"unstyled"};y&&(x=r({},x,{nextSibling:w.key}),w=r({},w,{prevSibling:x.key}));var E=[new v(x),new v(w)],S=o.createFromArray(E),k=c.replaceWithFragment(b,d,S),O=k.merge({selectionBefore:s,selectionAfter:k.getSelectionAfter().set("hasFocus",!0)});return l.push(t,O,"insert-fragment")},moveAtomicBlock:function(t,e,n,r){var i,o=t.getCurrentContent(),a=t.getSelection();if("before"===r||"after"===r){var s=o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());i=d(o,e,s,r)}else{var u=c.removeRange(o,n,"backward"),f=u.getSelectionAfter(),h=u.getBlockForKey(f.getFocusKey());if(0===f.getStartOffset())i=d(u,e,h,"before");else if(f.getEndOffset()===h.getLength())i=d(u,e,h,"after");else{var p=c.splitBlock(u,f),y=p.getSelectionAfter(),v=p.getBlockForKey(y.getFocusKey());i=d(p,e,v,"before")}}var g=i.merge({selectionBefore:a,selectionAfter:i.getSelectionAfter().set("hasFocus",!0)});return l.push(t,g,"move-block")}};t.exports=b},function(t,e,n){"use strict";var r=n(89),i=n(44).Map,o={add:function(t,e,n){return a(t,e,n,!0)},remove:function(t,e,n){return a(t,e,n,!1)}};function a(t,e,n,o){var a=t.getBlockMap(),s=e.getStartKey(),u=e.getStartOffset(),c=e.getEndKey(),l=e.getEndOffset(),f=a.skipUntil((function(t,e){return e===s})).takeUntil((function(t,e){return e===c})).concat(i([[c,a.get(c)]])).map((function(t,e){var i,a;s===c?(i=u,a=l):(i=e===s?u:0,a=e===c?l:t.getLength());for(var f,h=t.getCharacterList();i<a;)f=h.get(i),h=h.set(i,o?r.applyStyle(f,n):r.removeStyle(f,n)),i++;return t.set("characterList",h)}));return t.merge({blockMap:a.merge(f),selectionBefore:e,selectionAfter:e})}t.exports=o},function(t,e,n){"use strict";var r=n(1041),i=n(44);t.exports=function(t,e,n){var o=t.getBlockMap(),a=e.getStartKey(),s=e.getStartOffset(),u=e.getEndKey(),c=e.getEndOffset(),l=o.skipUntil((function(t,e){return e===a})).takeUntil((function(t,e){return e===u})).toOrderedMap().merge(i.OrderedMap([[u,o.get(u)]])).map((function(t,e){var i=e===a?s:0,o=e===u?c:t.getLength();return r(t,i,o,n)}));return t.merge({blockMap:o.merge(l),selectionBefore:e,selectionAfter:e})}},function(t,e,n){"use strict";var r=n(89);t.exports=function(t,e,n,i){for(var o=e,a=t.getCharacterList();o<n;)a=a.set(o,r.applyEntity(a.get(o),i)),o++;return t.set("characterList",a)}},function(t,e,n){"use strict";var r=n(1043),i=n(1044),o=n(45);function a(t,e,n,a,s,u,c){var l=n.getStartOffset(),f=n.getEndOffset(),h=t.__get(s).getMutability(),p=c?l:f;if("MUTABLE"===h)return n;var d=i(e,s).filter((function(t){return p<=t.end&&p>=t.start}));1!=d.length&&o(!1);var y=d[0];if("IMMUTABLE"===h)return n.merge({anchorOffset:y.start,focusOffset:y.end,isBackward:!1});u||(c?f=y.end:l=y.start);var v=r.getRemovalRange(l,f,e.getText().slice(y.start,y.end),y.start,a);return n.merge({anchorOffset:v.start,focusOffset:v.end,isBackward:!1})}t.exports=function(t,e,n,r,i){var o=r.getStartOffset(),s=r.getEndOffset(),u=e.getEntityAt(o),c=n.getEntityAt(s-1);if(!u&&!c)return r;var l=r;if(u&&u===c)l=a(t,e,l,i,u,!0,!0);else if(u&&c){var f=a(t,e,l,i,u,!1,!0),h=a(t,n,l,i,c,!1,!1);l=l.merge({anchorOffset:f.getAnchorOffset(),focusOffset:h.getFocusOffset(),isBackward:!1})}else if(u){var p=a(t,e,l,i,u,!1,!0);l=l.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(c){var d=a(t,n,l,i,c,!1,!1);l=l.merge({focusOffset:d.getEndOffset(),isBackward:!1})}return l}},function(t,e,n){"use strict";t.exports={getRemovalRange:function(t,e,n,r,i){var o=n.split(" ");o=o.map((function(t,e){if("forward"===i){if(e>0)return" "+t}else if(e<o.length-1)return t+" ";return t}));for(var a,s=r,u=null,c=null,l=0;l<o.length;l++){if(t<(a=s+o[l].length)&&s<e)null!==u||(u=s),c=a;else if(null!==u)break;s=a}var f=r+n.length,h=u===r,p=c===f;return(!h&&p||h&&!p)&&("forward"===i?c!==f&&c++:u!==r&&u--),{start:u,end:c}}}},function(t,e,n){"use strict";var r=n(45);t.exports=function(t,e){var n=[];return t.findEntityRanges((function(t){return t.getEntity()===e}),(function(t,e){n.push({start:t,end:e})})),n.length||r(!1),n}},function(t,e,n){"use strict";var r=n(228),i=n(90),o=n(44),a=n(570),s=n(45),u=n(568),c=o.List,l=function(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",u=n.get(i),c=u.getText(),l=u.getCharacterList(),f=i,h=o+r.getText().length,p=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":p=r.getData().merge(u.getData());break;case"REPLACE_WITH_NEW_DATA":p=r.getData()}var d=u.getType();c&&"unstyled"===d&&(d=r.getType());var y=u.merge({text:c.slice(0,o)+r.getText()+c.slice(o),characterList:a(l,r.getCharacterList(),o),type:d,data:p});return t.merge({blockMap:n.set(i,y),selectionBefore:e,selectionAfter:e.merge({anchorKey:f,anchorOffset:h,focusKey:f,focusOffset:h,isBackward:!1})})},f=function(t,e,n,o,a,s){var u=n.first()instanceof i,l=[],f=o.size,h=n.get(a),p=o.first(),d=o.last(),y=d.getLength(),v=d.getKey(),g=u&&(!h.getChildKeys().isEmpty()||!p.getChildKeys().isEmpty());n.forEach((function(t,e){e===a?(g?l.push(t):l.push(function(t,e,n){var r=t.getText(),i=t.getCharacterList(),o=r.slice(0,e),a=i.slice(0,e),s=n.first();return t.merge({text:o+s.getText(),characterList:a.concat(s.getCharacterList()),type:o?t.getType():s.getType(),data:s.getData()})}(t,s,o)),o.slice(g?0:1,f-1).forEach((function(t){return l.push(t)})),l.push(function(t,e,n){var r=t.getText(),i=t.getCharacterList(),o=r.length,a=r.slice(e,o),s=i.slice(e,o),u=n.last();return u.merge({text:u.getText()+a,characterList:u.getCharacterList().concat(s),data:u.getData()})}(t,s,o))):l.push(t)}));var m=r.createFromArray(l);return u&&(m=function(t,e,n,r){return t.withMutations((function(e){var i=n.getKey(),o=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),u=function(t,e){var n=t.getKey(),r=t,i=[];for(e.get(n)&&i.push(n);r&&r.getNextSiblingKey();){var o=r.getNextSiblingKey();if(!o)break;i.push(o),r=e.get(o)}return i}(r,t),l=u[u.length-1];if(e.get(o)?(e.setIn([i,"nextSibling"],o),e.setIn([o,"prevSibling"],i)):(e.setIn([i,"nextSibling"],r.getNextSiblingKey()),e.setIn([r.getNextSiblingKey(),"prevSibling"],i)),e.setIn([l,"nextSibling"],a),a&&e.setIn([a,"prevSibling"],l),u.forEach((function(t){return e.setIn([t,"parent"],s)})),s){var f=t.get(s).getChildKeys(),h=f.indexOf(i)+1,p=f.toArray();p.splice.apply(p,[h,0].concat(u)),e.setIn([s,"children"],c(p))}}))}(m,0,h,p)),t.merge({blockMap:m,selectionBefore:e,selectionAfter:e.merge({anchorKey:v,anchorOffset:y,focusKey:v,focusOffset:y,isBackward:!1})})};t.exports=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";e.isCollapsed()||s(!1);var o=t.getBlockMap(),a=u(n),c=e.getStartKey(),h=e.getStartOffset(),p=o.get(c);return p instanceof i&&(p.getChildKeys().isEmpty()||s(!1)),1===a.size?l(t,e,o,a.first(),c,h,r):f(t,e,o,a,c,h)}},function(t,e,n){"use strict";var r=n(44),i=n(570),o=n(45),a=r.Repeat;t.exports=function(t,e,n,r){e.isCollapsed()||o(!1);var s=null;if(null!=n&&(s=n.length),null==s||0===s)return t;var u=t.getBlockMap(),c=e.getStartKey(),l=e.getStartOffset(),f=u.get(c),h=f.getText(),p=f.merge({text:h.slice(0,l)+n+h.slice(l,f.getLength()),characterList:i(f.getCharacterList(),a(r,s).toList(),l)}),d=l+s;return t.merge({blockMap:u.set(c,p),selectionAfter:e.merge({anchorOffset:d,focusOffset:d})})}},function(t,e,n){"use strict";var r=n(90),i=n(572),o=n(44),a=(o.List,o.Map),s=function(t,e,n){if(t){var r=e.get(t);r&&e.set(t,n(r))}},u=function(t,e){var n=[];if(!t)return n;for(var r=e.get(t);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?e.get(i):null}return n},c=function(t,e,n){if(!t)return null;for(var r=n.get(t.getKey()).getNextSiblingKey();r&&!e.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},l=function(t,e,n){if(!t)return null;for(var r=n.get(t.getKey()).getPrevSiblingKey();r&&!e.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},f=function(t,e,n,r){return t.withMutations((function(o){if(s(e.getKey(),o,(function(t){return t.merge({nextSibling:c(t,o,r),prevSibling:l(t,o,r)})})),s(n.getKey(),o,(function(t){return t.merge({nextSibling:c(t,o,r),prevSibling:l(t,o,r)})})),u(e.getKey(),r).forEach((function(t){return s(t,o,(function(t){return t.merge({children:t.getChildKeys().filter((function(t){return o.get(t)})),nextSibling:c(t,o,r),prevSibling:l(t,o,r)})}))})),s(e.getNextSiblingKey(),o,(function(t){return t.merge({prevSibling:e.getPrevSiblingKey()})})),s(e.getPrevSiblingKey(),o,(function(t){return t.merge({nextSibling:c(t,o,r)})})),s(n.getNextSiblingKey(),o,(function(t){return t.merge({prevSibling:l(t,o,r)})})),s(n.getPrevSiblingKey(),o,(function(t){return t.merge({nextSibling:n.getNextSiblingKey()})})),u(n.getKey(),r).forEach((function(t){s(t,o,(function(t){return t.merge({children:t.getChildKeys().filter((function(t){return o.get(t)})),nextSibling:c(t,o,r),prevSibling:l(t,o,r)})}))})),function(t,e){var n=[];if(!t)return n;for(var r=i(t,e);r&&e.get(r);){var o=e.get(r);n.push(r),r=o.getParentKey()?i(o,e):null}return n}(n,r).forEach((function(t){return s(t,o,(function(t){return t.merge({nextSibling:c(t,o,r),prevSibling:l(t,o,r)})}))})),null==t.get(e.getKey())&&null!=t.get(n.getKey())&&n.getParentKey()===e.getKey()&&null==n.getPrevSiblingKey()){var a=e.getPrevSiblingKey();s(n.getKey(),o,(function(t){return t.merge({prevSibling:a})})),s(a,o,(function(t){return t.merge({nextSibling:n.getKey()})}));var f=a?t.get(a):null,h=f?f.getParentKey():null;if(e.getChildKeys().forEach((function(t){s(t,o,(function(t){return t.merge({parent:h})}))})),null!=h){var p=t.get(h);s(h,o,(function(t){return t.merge({children:p.getChildKeys().concat(e.getChildKeys())})}))}s(e.getChildKeys().find((function(e){return null===t.get(e).getNextSiblingKey()})),o,(function(t){return t.merge({nextSibling:e.getNextSiblingKey()})}))}}))},h=function(t,e,n){if(0===e)for(;e<n;)t=t.shift(),e++;else if(n===t.count())for(;n>e;)t=t.pop(),n--;else{var r=t.slice(0,e),i=t.slice(n);t=r.concat(i).toList()}return t};t.exports=function(t,e){if(e.isCollapsed())return t;var n,o=t.getBlockMap(),s=e.getStartKey(),c=e.getStartOffset(),l=e.getEndKey(),p=e.getEndOffset(),d=o.get(s),y=o.get(l),v=d instanceof r,g=[];if(v){var m=y.getChildKeys(),b=u(l,o);y.getNextSiblingKey()&&(g=g.concat(b)),m.isEmpty()||(g=g.concat(b.concat([l]))),g=g.concat(u(i(y,o),o))}n=d===y?h(d.getCharacterList(),c,p):d.getCharacterList().slice(0,c).concat(y.getCharacterList().slice(p));var _=d.merge({text:d.getText().slice(0,c)+y.getText().slice(p),characterList:n}),x=v&&0===c&&0===p&&y.getParentKey()===s&&null==y.getPrevSiblingKey()?a([[s,null]]):o.toSeq().skipUntil((function(t,e){return e===s})).takeUntil((function(t,e){return e===l})).filter((function(t,e){return-1===g.indexOf(e)})).concat(a([[l,null]])).map((function(t,e){return e===s?_:null})),w=o.merge(x).filter((function(t){return!!t}));return v&&d!==y&&(w=f(w,d,y,o)),t.merge({blockMap:w,selectionBefore:e,selectionAfter:e.merge({anchorKey:s,anchorOffset:c,focusKey:s,focusOffset:c,isBackward:!1})})}},function(t,e,n){"use strict";var r=n(90),i=n(110),o=n(44),a=n(45),s=n(571),u=o.List,c=o.Map,l=function(t,e,n){if(t){var r=e.get(t);r&&e.set(t,n(r))}};t.exports=function(t,e){e.isCollapsed()||a(!1);var n=e.getAnchorKey(),o=t.getBlockMap(),f=o.get(n),h=f.getText();if(!h){var p=f.getType();if("unordered-list-item"===p||"ordered-list-item"===p)return s(t,e,(function(t){return t.merge({type:"unstyled",depth:0})}))}var d=e.getAnchorOffset(),y=f.getCharacterList(),v=i(),g=f instanceof r,m=f.merge({text:h.slice(0,d),characterList:y.slice(0,d)}),b=m.merge({key:v,text:h.slice(d),characterList:y.slice(d),data:c()}),_=o.toSeq().takeUntil((function(t){return t===f})),x=o.toSeq().skipUntil((function(t){return t===f})).rest(),w=_.concat([[n,m],[v,b]],x).toOrderedMap();return g&&(f.getChildKeys().isEmpty()||a(!1),w=function(t,e,n){return t.withMutations((function(t){var r=e.getKey(),i=n.getKey();l(e.getParentKey(),t,(function(t){var e=t.getChildKeys(),n=e.indexOf(r)+1,o=e.toArray();return o.splice(n,0,i),t.merge({children:u(o)})})),l(e.getNextSiblingKey(),t,(function(t){return t.merge({prevSibling:i})})),l(r,t,(function(t){return t.merge({nextSibling:i})})),l(i,t,(function(t){return t.merge({prevSibling:r})}))}))}(w,m,b)),t.merge({blockMap:w,selectionBefore:e,selectionAfter:e.merge({anchorKey:v,anchorOffset:0,focusKey:v,focusOffset:0,isBackward:!1})})}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(229),o=n(573),a=n(44),s=a.List,u=a.Repeat,c=a.Record,l=function(){return!0},f=c({start:null,end:null}),h=c({start:null,end:null,decoratorKey:null,leaves:null}),p={generate:function(t,e,n){var r=e.getLength();if(!r)return s.of(new h({start:0,end:0,decoratorKey:null,leaves:s.of(new f({start:0,end:0}))}));var o=[],a=n?n.getDecorations(e,t):s(u(null,r)),c=e.getCharacterList();return i(a,y,l,(function(t,e){o.push(new h({start:t,end:e,decoratorKey:a.get(t),leaves:d(c.slice(t,e).toList(),t)}))})),s(o)},fromJS:function(t){var e=t.leaves,n=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["leaves"]);return new h(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}({},n,{leaves:null!=e?s(Array.isArray(e)?e:o(e)).map((function(t){return f(t)})):null}))}};function d(t,e){var n=[],r=t.map((function(t){return t.getStyle()})).toList();return i(r,y,l,(function(t,r){n.push(new f({start:t+e,end:r+e}))})),s(n)}function y(t,e){return t===e}t.exports=p},function(t,e,n){"use strict";t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}},function(t,e,n){"use strict";var r,i=n(1052),o=n(44),a=n(76),s=o.OrderedMap,u={getDirectionMap:function(t,e){r?r.reset():r=new i;var n=t.getBlockMap(),u=n.valueSeq().map((function(t){return a(r).getDirection(t.getText())})),c=s(n.keySeq().zip(u));return null!=e&&o.is(e,c)?e:c}};t.exports=u},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(392),o=n(285),a=n(45),s=function(){function t(t){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),t?o.isStrong(t)||a(!1):t=o.getGlobalDir(),this._defaultDir=t,this.reset()}var e=t.prototype;return e.reset=function(){this._lastDir=this._defaultDir},e.getDirection=function(t){return this._lastDir=i.getDirection(t,this._lastDir),this._lastDir},t}();t.exports=s},function(t,e,n){"use strict";var r=n(90),i=n(572),o=n(44),a=n(45),s=o.OrderedMap,u=o.List,c=function(t,e,n){if(t){var r=e.get(t);r&&e.set(t,n(r))}},l=function(t,e,n,r,i){if(!i)return t;var o="after"===r,a=e.getKey(),s=n.getKey(),l=e.getParentKey(),f=e.getNextSiblingKey(),h=e.getPrevSiblingKey(),p=n.getParentKey(),d=o?n.getNextSiblingKey():s,y=o?s:n.getPrevSiblingKey();return t.withMutations((function(t){c(l,t,(function(t){var e=t.getChildKeys();return t.merge({children:e.delete(e.indexOf(a))})})),c(h,t,(function(t){return t.merge({nextSibling:f})})),c(f,t,(function(t){return t.merge({prevSibling:h})})),c(d,t,(function(t){return t.merge({prevSibling:a})})),c(y,t,(function(t){return t.merge({nextSibling:a})})),c(p,t,(function(t){var e=t.getChildKeys(),n=e.indexOf(s),r=o?n+1:0!==n?n-1:0,i=e.toArray();return i.splice(r,0,a),t.merge({children:u(i)})})),c(a,t,(function(t){return t.merge({nextSibling:d,prevSibling:y,parent:p})}))}))};t.exports=function(t,e,n,o){"replace"===o&&a(!1);var u=n.getKey(),c=e.getKey();c===u&&a(!1);var f=t.getBlockMap(),h=e instanceof r,p=[e],d=f.delete(c);h&&(p=[],d=f.withMutations((function(t){var n=e.getNextSiblingKey(),r=i(e,t);t.toSeq().skipUntil((function(t){return t.getKey()===c})).takeWhile((function(t){var e=t.getKey(),i=e===c,o=n&&e!==n,a=!n&&t.getParentKey()&&(!r||e!==r);return!!(i||o||a)})).forEach((function(e){p.push(e),t.delete(e.getKey())}))})));var y=d.toSeq().takeUntil((function(t){return t===n})),v=d.toSeq().skipUntil((function(t){return t===n})).skip(1),g=p.map((function(t){return[t.getKey(),t]})),m=s();if("before"===o){var b=t.getBlockBefore(u);b&&b.getKey()===e.getKey()&&a(!1),m=y.concat([].concat(g,[[u,n]]),v).toOrderedMap()}else if("after"===o){var _=t.getBlockAfter(u);_&&_.getKey()===c&&a(!1),m=y.concat([[u,n]].concat(g),v).toOrderedMap()}return t.merge({blockMap:l(m,e,n,o,h),selectionBefore:t.getSelectionAfter(),selectionAfter:t.getSelectionAfter().merge({anchorKey:c,focusKey:c})})}},function(t,e,n){"use strict";var r=n(44).List,i=function(){function t(t){var e,n,r;r=void 0,(n="_decorators")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this._decorators=t.slice()}var e=t.prototype;return e.getDecorations=function(t,e){var n=Array(t.getText().length).fill(null);return this._decorators.forEach((function(r,i){var o=0;(0,r.strategy)(t,(function(t,e){(function(t,e,n){for(var r=e;r<n;r++)if(null!=t[r])return!1;return!0})(n,t,e)&&(!function(t,e,n,r){for(var i=e;i<n;i++)t[i]=r}(n,t,e,i+"."+o),o++)}),e)})),r(n)},e.getComponentForKey=function(t){var e=parseInt(t.split(".")[0],10);return this._decorators[e].component},e.getPropsForKey=function(t){var e=parseInt(t.split(".")[0],10);return this._decorators[e].props},t}();t.exports=i},function(t,e,n){"use strict";(function(e){var r=n(105);function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){s(t,e,n[e])}))}return t}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var c=n(393),l=n(576),f=n(1056),h=n(1063),p=n(1080),d=n(1083),y=n(1118),v=n(1119),g=n(588),m=n(55),b=n(1),_=n(396),x=n(289),w=n(77),E=n(162),S=n(110),k=n(604),O=n(290),C=n(138),P=n(45),T=n(230),M=n(76),A=w.isBrowser("IE"),I=!A,j={edit:d,composite:f,drag:p,cut:null,render:null},R=!1,D=function(t){function e(){return t.apply(this,arguments)||this}u(e,t);var n=e.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var t=this.props.editor;t._latestEditorState=this.props.editorState,t._blockSelectEvents=!0},e}(b.Component),N=function(t){function n(e){var n;return s(a(n=t.call(this,e)||this),"_blockSelectEvents",void 0),s(a(n),"_clipboard",void 0),s(a(n),"_handler",void 0),s(a(n),"_dragCount",void 0),s(a(n),"_internalDrag",void 0),s(a(n),"_editorKey",void 0),s(a(n),"_placeholderAccessibilityID",void 0),s(a(n),"_latestEditorState",void 0),s(a(n),"_latestCommittedEditorState",void 0),s(a(n),"_pendingStateFromBeforeInput",void 0),s(a(n),"_onBeforeInput",void 0),s(a(n),"_onBlur",void 0),s(a(n),"_onCharacterData",void 0),s(a(n),"_onCompositionEnd",void 0),s(a(n),"_onCompositionStart",void 0),s(a(n),"_onCopy",void 0),s(a(n),"_onCut",void 0),s(a(n),"_onDragEnd",void 0),s(a(n),"_onDragOver",void 0),s(a(n),"_onDragStart",void 0),s(a(n),"_onDrop",void 0),s(a(n),"_onInput",void 0),s(a(n),"_onFocus",void 0),s(a(n),"_onKeyDown",void 0),s(a(n),"_onKeyPress",void 0),s(a(n),"_onKeyUp",void 0),s(a(n),"_onMouseDown",void 0),s(a(n),"_onMouseUp",void 0),s(a(n),"_onPaste",void 0),s(a(n),"_onSelect",void 0),s(a(n),"editor",void 0),s(a(n),"editorContainer",void 0),s(a(n),"focus",void 0),s(a(n),"blur",void 0),s(a(n),"setMode",void 0),s(a(n),"exitCurrentMode",void 0),s(a(n),"restoreEditorDOM",void 0),s(a(n),"setClipboard",void 0),s(a(n),"getClipboard",void 0),s(a(n),"getEditorKey",void 0),s(a(n),"update",void 0),s(a(n),"onDragEnter",void 0),s(a(n),"onDragLeave",void 0),s(a(n),"_handleEditorContainerRef",(function(t){n.editorContainer=t,n.editor=null!==t?t.firstChild:null})),s(a(n),"focus",(function(t){var e=n.props.editorState,r=e.getSelection().getHasFocus(),i=n.editor;if(i){var o=x.getScrollParent(i),a=t||O(o),s=a.x,u=a.y;T(i)||P(!1),i.focus(),o===window?window.scrollTo(s,u):_.setTop(o,u),r||n.update(m.forceSelection(e,e.getSelection()))}})),s(a(n),"blur",(function(){var t=n.editor;t&&(T(t)||P(!1),t.blur())})),s(a(n),"setMode",(function(t){var e=n.props,r=e.onPaste,i=e.onCut,a=e.onCopy,s=o({},j.edit);r&&(s.onPaste=r),i&&(s.onCut=i),a&&(s.onCopy=a);var u=o({},j,{edit:s});n._handler=u[t]})),s(a(n),"exitCurrentMode",(function(){n.setMode("edit")})),s(a(n),"restoreEditorDOM",(function(t){n.setState({contentsKey:n.state.contentsKey+1},(function(){n.focus(t)}))})),s(a(n),"setClipboard",(function(t){n._clipboard=t})),s(a(n),"getClipboard",(function(){return n._clipboard})),s(a(n),"update",(function(t){n._latestEditorState=t,n.props.onChange(t)})),s(a(n),"onDragEnter",(function(){n._dragCount++})),s(a(n),"onDragLeave",(function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()})),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=e.editorKey||S(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=e.editorState,n._latestCommittedEditorState=e.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}u(n,t);var r=n.prototype;return r._buildHandler=function(t){var e=this;return function(n){if(!e.props.readOnly){var r=e._handler&&e._handler[t];r&&(y?y((function(){return r(e,n)})):r(e,n))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var t={text:M(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return b.createElement(v,t)}return null},r._renderARIADescribedBy=function(){var t=this.props.ariaDescribedBy||"",e=this._showPlaceholder()?this._placeholderAccessibilityID:"";return t.replace("{{editor_id_placeholder}}",e)||void 0},r.render=function(){var t=this.props,e=t.blockRenderMap,n=t.blockRendererFn,r=t.blockStyleFn,a=t.customStyleFn,s=t.customStyleMap,u=t.editorState,c=t.preventScroll,f=t.readOnly,p=t.textAlignment,d=t.textDirectionality,y=E({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===p,"DraftEditor/alignRight":"right"===p,"DraftEditor/alignCenter":"center"===p}),v=this.props.role||"textbox",g="combobox"===v?!!this.props.ariaExpanded:null,m={blockRenderMap:e,blockRendererFn:n,blockStyleFn:r,customStyleMap:o({},l,s),customStyleFn:a,editorKey:this._editorKey,editorState:u,preventScroll:c,textDirectionality:d};return b.createElement("div",{className:y},this._renderPlaceholder(),b.createElement("div",{className:E("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},b.createElement("div",{"aria-activedescendant":f?null:this.props.ariaActiveDescendantID,"aria-autocomplete":f?null:this.props.ariaAutoComplete,"aria-controls":f?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":f?null:g,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":f?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:E({notranslate:!f,"public/DraftEditor/content":!0}),contentEditable:!f,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:f?null:v,spellCheck:I&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},b.createElement(D,{editor:this,editorState:u}),b.createElement(h,i({},m,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!R&&C("draft_ods_enabled")&&(R=!0,g.initODS()),this.setMode("edit"),A&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):e.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(b.Component);s(N,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:c,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:k,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),t.exports=N}).call(this,n(53))},function(t,e,n){"use strict";var r=n(1057),i=n(75),o=n(122),a=n(55),s=n(288),u=n(77),c=n(579),l=n(581),f=n(582),h=n(394),p=n(76),d=u.isBrowser("IE"),y=!1,v=!1,g=null;var m={onCompositionStart:function(t){v=!0,function(t){g||(g=new r(l(t))).start()}(t)},onCompositionEnd:function(t){y=!1,v=!1,setTimeout((function(){y||m.resolveComposition(t)}),20)},onSelect:c,onKeyDown:function(t,e){if(!v)return m.resolveComposition(t),void t._onKeyDown(e);e.which!==s.RIGHT&&e.which!==s.LEFT||e.preventDefault()},onKeyPress:function(t,e){e.which===s.RETURN&&e.preventDefault()},resolveComposition:function(t){if(!v){var e=p(g).stopAndFlushMutations();g=null,y=!0;var n=a.set(t._latestEditorState,{inCompositionMode:!1});if(t.exitCurrentMode(),e.size){var r=n.getCurrentContent();e.forEach((function(t,e){var s=o.decode(e),u=s.blockKey,c=s.decoratorKey,l=s.leafKey,f=n.getBlockTree(u).getIn([c,"leaves",l]),p=f.start,d=f.end,y=n.getSelection().merge({anchorKey:u,focusKey:u,anchorOffset:p,focusOffset:d,isBackward:!1}),v=h(r,y),g=r.getBlockForKey(u).getInlineStyleAt(p);r=i.replaceText(r,y,t,g,v),n=a.set(n,{currentContent:r})}));var s=f(n,l(t)).selectionState;t.restoreEditorDOM();var u=d?a.forceSelection(n,s):a.acceptSelection(n,s);t.update(a.push(u,r,"insert-characters"))}else t.update(n)}}};t.exports=m},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(77),o=n(286),a=n(578),s=n(44),u=n(45),c=n(76),l=s.Map,f={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},h=i.isBrowser("IE <= 11"),p=function(){function t(t){var e=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=t,this.mutations=l();var n=a(t);n.MutationObserver&&!h?this.observer=new n.MutationObserver((function(t){return e.registerMutations(t)})):this.onCharData=function(t){t.target instanceof Node||u(!1),e.registerMutation({type:"characterData",target:t.target})}}var e=t.prototype;return e.start=function(){this.observer?this.observer.observe(this.container,f):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},e.stopAndFlushMutations=function(){var t=this.observer;t?(this.registerMutations(t.takeRecords()),t.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var e=this.mutations;return this.mutations=l(),e},e.registerMutations=function(t){for(var e=0;e<t.length;e++)this.registerMutation(t[e])},e.getMutationTextContent=function(t){var e=t.type,n=t.target,r=t.removedNodes;if("characterData"===e){if(""!==n.textContent)return h?n.textContent.replace("\n",""):n.textContent}else if("childList"===e){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},e.registerMutation=function(t){var e=this.getMutationTextContent(t);if(null!=e){var n=c(o(t.target));this.mutations=this.mutations.set(n,e)}},t}();t.exports=p},function(t,e,n){"use strict";var r=n(1059),i="Unknown",o={"Mac OS":"Mac OS X"};var a,s=(new r).getResult(),u=function(t){if(!t)return{major:"",minor:""};var e=t.split(".");return{major:e[0],minor:e[1]}}(s.browser.version),c={browserArchitecture:s.cpu.architecture||i,browserFullVersion:s.browser.version||i,browserMinorVersion:u.minor||i,browserName:s.browser.name||i,browserVersion:s.browser.major||i,deviceName:s.device.model||i,engineName:s.engine.name||i,engineVersion:s.engine.version||i,platformArchitecture:s.cpu.architecture||i,platformName:(a=s.os.name,o[a]||a||i),platformVersion:s.os.version||i,platformFullVersion:s.os.version||i};t.exports=c},function(t,e,n){var r;!function(i,o){"use strict";var a="function",s="undefined",u="object",c="model",l="name",f="type",h="vendor",p="version",d="architecture",y="console",v="mobile",g="tablet",m="smarttv",b="wearable",_={extend:function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2===0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},has:function(t,e){return"string"===typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"===typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},x={rgx:function(t,e){for(var n,r,i,s,c,l,f=0;f<e.length&&!c;){var h=e[f],p=e[f+1];for(n=r=0;n<h.length&&!c;)if(c=h[n++].exec(t))for(i=0;i<p.length;i++)l=c[++r],typeof(s=p[i])===u&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4==s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;f+=2}},str:function(t,e){for(var n in e)if(typeof e[n]===u&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(_.has(e[n][r],t))return"?"===n?o:n}else if(_.has(e[n],t))return"?"===n?o:n;return t}},w={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},E={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[l,p],[/(opios)[\/\s]+([\w\.]+)/i],[[l,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[l,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[l,p],[/(konqueror)\/([\w\.]+)/i],[[l,"Konqueror"],p],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[l,"IE"],p],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[l,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[l,"Yandex"],p],[/(Avast)\/([\w\.]+)/i],[[l,"Avast Secure Browser"],p],[/(AVG)\/([\w\.]+)/i],[[l,"AVG Secure Browser"],p],[/(puffin)\/([\w\.]+)/i],[[l,"Puffin"],p],[/(focus)\/([\w\.]+)/i],[[l,"Firefox Focus"],p],[/(opt)\/([\w\.]+)/i],[[l,"Opera Touch"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[l,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],p],[/(windowswechat qbcore)\/([\w\.]+)/i],[[l,"WeChat(Win) Desktop"],p],[/(micromessenger)\/([\w\.]+)/i],[[l,"WeChat"],p],[/(brave)\/([\w\.]+)/i],[[l,"Brave"],p],[/(whale)\/([\w\.]+)/i],[[l,"Whale"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[l,p],[/(QQ)\/([\d\.]+)/i],[l,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[l,p],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[l,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[l,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[l],[/(LBBROWSER)/i],[l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[l,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[l,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[l,p],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[l,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[l,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[l,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[l,"Sailfish Browser"],p],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[l,p],[/(dolfin)\/([\w\.]+)/i],[[l,"Dolphin"],p],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[l,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[l,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[l,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[l,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,l],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[l,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[p,x.str,w.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[d,"amd64"]],[/(ia32(?=;))/i],[[d,_.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[d,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[d,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[d,/ower/,"",_.lowerize]],[/(sun4\w)[;\)]/i],[[d,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[d,_.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[c,h,[f,g]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[h,"Apple"],[f,g]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[h,"Apple"],[f,m]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,c,[f,g]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[c,[h,"Amazon"],[f,g]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[c,x.str,w.device.amazon.model],[h,"Amazon"],[f,v]],[/android.+aft([bms])\sbuild/i],[c,[h,"Amazon"],[f,m]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,h,[f,v]],[/\((ip[honed|\s\w*]+);/i],[c,[h,"Apple"],[f,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,c,[f,v]],[/\(bb10;\s(\w+)/i],[c,[h,"BlackBerry"],[f,v]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[c,[h,"Asus"],[f,g]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[h,"Sony"],[c,"Xperia Tablet"],[f,g]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[h,"Sony"],[f,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[h,c,[f,y]],[/android.+;\s(shield)\sbuild/i],[c,[h,"Nvidia"],[f,y]],[/(playstation\s[34portablevi]+)/i],[c,[h,"Sony"],[f,y]],[/(sprint\s(\w+))/i],[[h,x.str,w.device.sprint.vendor],[c,x.str,w.device.sprint.model],[f,v]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[c,/_/g," "],[f,v]],[/(nexus\s9)/i],[c,[h,"HTC"],[f,g]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[c,[h,"Huawei"],[f,v]],[/android.+(bah2?-a?[lw]\d{2})/i],[c,[h,"Huawei"],[f,g]],[/(microsoft);\s(lumia[\s\w]+)/i],[h,c,[f,v]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[h,"Microsoft"],[f,y]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,"Microsoft"],[f,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[h,"Motorola"],[f,v]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[h,"Motorola"],[f,g]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,_.trim],[c,_.trim],[f,m]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,"Samsung"],[f,m]],[/\(dtv[\);].+(aquos)/i],[c,[h,"Sharp"],[f,m]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],c,[f,g]],[/smart-tv.+(samsung)/i],[h,[f,m],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[h,"Samsung"],c,[f,v]],[/sie-(\w*)/i],[c,[h,"Siemens"],[f,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[h,"Nokia"],c,[f,v]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[h,"Acer"],[f,g]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[h,"LG"],[f,g]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],c,[f,g]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[h,"LG"],c,[f,m]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[h,"LG"],[f,v]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[h,c,[f,g]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[h,"Lenovo"],[f,g]],[/(lenovo)[_\s-]?([\w-]+)/i],[h,c,[f,v]],[/linux;.+((jolla));/i],[h,c,[f,v]],[/((pebble))app\/[\d\.]+\s/i],[h,c,[f,b]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,c,[f,v]],[/crkey/i],[[c,"Chromecast"],[h,"Google"],[f,m]],[/android.+;\s(glass)\s\d/i],[c,[h,"Google"],[f,b]],[/android.+;\s(pixel c)[\s)]/i],[c,[h,"Google"],[f,g]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[c,[h,"Google"],[f,v]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[c,/_/g," "],[h,"Xiaomi"],[f,v]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[c,/_/g," "],[h,"Xiaomi"],[f,g]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[h,"Meizu"],[f,v]],[/(mz)-([\w-]{2,})/i],[[h,"Meizu"],c,[f,v]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[c,[h,"OnePlus"],[f,v]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[h,"RCA"],[f,g]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[c,[h,"Dell"],[f,g]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[h,"Verizon"],[f,g]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[h,"Barnes & Noble"],c,[f,g]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[h,"NuVision"],[f,g]],[/android.+;\s(k88)\sbuild/i],[c,[h,"ZTE"],[f,g]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[h,"Swiss"],[f,v]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[h,"Swiss"],[f,g]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[h,"Zeki"],[f,g]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[h,"Dragon Touch"],c,[f,g]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[h,"Insignia"],[f,g]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[h,"NextBook"],[f,g]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[h,"Voice"],c,[f,v]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[h,"LvTel"],c,[f,v]],[/android.+;\s(PH-1)\s/i],[c,[h,"Essential"],[f,v]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[h,"Envizen"],[f,g]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[h,c,[f,g]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[c,[h,"MachSpeed"],[f,g]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[h,c,[f,g]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[h,"Rotor"],[f,g]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[h,c,[f,g]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[c,[f,v]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[c,[f,g]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[f,_.lowerize],h,c],[/[\s\/\(](smart-?tv)[;\)]/i],[[f,m]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[h,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[p,x.str,w.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[p,x.str,w.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[l,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[l,"Symbian"],p],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],p],[/crkey\/([\d\.]+)/i],[p,[l,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[l,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[l,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[l,p],[/(haiku)\s(\w+)/i],[l,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[l,p]]},S=function t(e,n){if("object"===typeof e&&(n=e,e=o),!(this instanceof t))return new t(e,n).getResult();var r=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),a=n?_.extend(E,n):E;return this.getBrowser=function(){var t={name:o,version:o};return x.rgx.call(t,r,a.browser),t.major=_.major(t.version),t},this.getCPU=function(){var t={architecture:o};return x.rgx.call(t,r,a.cpu),t},this.getDevice=function(){var t={vendor:o,model:o,type:o};return x.rgx.call(t,r,a.device),t},this.getEngine=function(){var t={name:o,version:o};return x.rgx.call(t,r,a.engine),t},this.getOS=function(){var t={name:o,version:o};return x.rgx.call(t,r,a.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(t){return r=t,this},this};S.VERSION="0.7.23",S.BROWSER={NAME:l,MAJOR:"major",VERSION:p},S.CPU={ARCHITECTURE:d},S.DEVICE={MODEL:c,VENDOR:h,TYPE:f,CONSOLE:y,MOBILE:v,SMARTTV:m,TABLET:g,WEARABLE:b,EMBEDDED:"embedded"},S.ENGINE={NAME:l,VERSION:p},S.OS={NAME:l,VERSION:p},typeof e!==s?(typeof t!==s&&t.exports&&(e=t.exports=S),e.UAParser=S):(r=function(){return S}.call(e,n,e,t))===o||(t.exports=r);var k=i&&(i.jQuery||i.Zepto);if(k&&!k.ua){var O=new S;k.ua=O.getResult(),k.ua.get=function(){return O.getUA()},k.ua.set=function(t){O.setUA(t);var e=O.getResult();for(var n in e)k.ua[n]=e[n]}}}("object"===typeof window?window:this)},function(t,e,n){"use strict";var r=n(45),i=/\./,o=/\|\|/,a=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,u=/^(\d*)(.*)/;function c(t,e){var n=t.split(o);return n.length>1?n.some((function(t){return _.contains(t,e)})):function(t,e){var n=t.split(a);if(n.length>0&&n.length<=2||r(!1),1===n.length)return l(n[0],e);var i=n[0],o=n[1];return y(i)&&y(o)||r(!1),l(">="+i,e)&&l("<="+o,e)}(t=n[0].trim(),e)}function l(t,e){if(""===(t=t.trim()))return!0;var n=e.split(i),r=p(t),o=r.modifier,a=r.rangeComponents;switch(o){case"<":return f(n,a);case"<=":return function(t,e){var n=b(t,e);return-1===n||0===n}(n,a);case">=":return h(n,a);case">":return 1===b(n,a);case"~":case"~>":return function(t,e){var n=e.slice(),r=e.slice();r.length>1&&r.pop();var i=r.length-1,o=parseInt(r[i],10);d(o)&&(r[i]=o+1+"");return h(t,n)&&f(t,r)}(n,a);default:return function(t,e){return 0===b(t,e)}(n,a)}}function f(t,e){return-1===b(t,e)}function h(t,e){var n=b(t,e);return 1===n||0===n}function p(t){var e=t.split(i),n=e[0].match(s);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(e.slice(1))}}function d(t){return!isNaN(t)&&isFinite(t)}function y(t){return!p(t).modifier}function v(t,e){for(var n=t.length;n<e;n++)t[n]="0"}function g(t,e){var n=t.match(u)[1],r=e.match(u)[1],i=parseInt(n,10),o=parseInt(r,10);return d(i)&&d(o)&&i!==o?m(i,o):m(t,e)}function m(t,e){return typeof t!==typeof e&&r(!1),t>e?1:t<e?-1:0}function b(t,e){for(var n=function(t,e){v(t=t.slice(),(e=e.slice()).length);for(var n=0;n<e.length;n++){var r=e[n].match(/^[x*]$/i);if(r&&(e[n]=t[n]="0","*"===r[0]&&n===e.length-1))for(var i=n;i<t.length;i++)t[i]="0"}return v(e,t.length),[t,e]}(t,e),r=n[0],i=n[1],o=0;o<i.length;o++){var a=g(r[o],i[o]);if(a)return a}return 0}var _={contains:function(t,e){return c(t.trim(),e.trim())}};t.exports=_},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!t)return null;var i={};for(var o in t)r.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}},function(t,e,n){"use strict";t.exports=function(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}},function(t,e,n){"use strict";var r=n(138)("draft_tree_data_support");t.exports=n(r?1064:1078)},function(t,e,n){"use strict";var r=n(105);function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o=n(1065),a=n(122),s=n(1),u=n(76),c=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=r.prototype;return c.shouldComponentUpdate=function(t){var e=this.props.editorState,n=t.editorState;if(e.getDirectionMap()!==n.getDirectionMap())return!0;if(e.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=e.isInCompositionMode(),o=n.isInCompositionMode();if(e===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=e.getCurrentContent(),s=n.getCurrentContent(),u=e.getDecorator(),c=n.getDecorator();return i!==o||a!==s||u!==c||n.mustForceSelection()},c.render=function(){for(var t=this.props,e=t.blockRenderMap,n=t.blockRendererFn,r=t.blockStyleFn,c=t.customStyleMap,l=t.customStyleFn,f=t.editorState,h=t.editorKey,p=t.textDirectionality,d=f.getCurrentContent(),y=f.getSelection(),v=f.mustForceSelection(),g=f.getDecorator(),m=u(f.getDirectionMap()),b=[],_=d.getBlocksAsArray()[0];_;){var x=_.getKey(),w={blockRenderMap:e,blockRendererFn:n,blockStyleFn:r,contentState:d,customStyleFn:l,customStyleMap:c,decorator:g,editorKey:h,editorState:f,forceSelection:v,selection:y,block:_,direction:p||m.get(x),tree:f.getBlockTree(x)},E=(e.get(_.getType())||e.get("unstyled")).wrapper;b.push({block:s.createElement(o,i({key:x},w)),wrapperTemplate:E,key:x,offsetKey:a.encode(x,0,0)});var S=_.getNextSiblingKey();_=S?d.getBlockForKey(S):null}for(var k=[],O=0;O<b.length;){var C=b[O];if(C.wrapperTemplate){var P=[];do{P.push(b[O].block),O++}while(O<b.length&&b[O].wrapperTemplate===C.wrapperTemplate);var T=s.cloneElement(C.wrapperTemplate,{key:C.key+"-wrap","data-offset-key":C.offsetKey},P);k.push(T)}else k.push(C.block),O++}return s.createElement("div",{"data-contents":"true"},k)},r}(s.Component);t.exports=c},function(t,e,n){"use strict";var r=n(105);function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){s(t,e,n[e])}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=n(1066),c=n(122),l=n(1),f=n(396),h=n(289),p=n(590),d=n(290),y=n(591),v=n(44),g=n(45),m=n(230),b=(v.List,function(t,e){return t.getAnchorKey()===e||t.getFocusKey()===e}),_=function(t,e){var n=e.get(t.getType())||e.get("unstyled"),r=n.wrapper;return{Element:n.element||e.get("unstyled").element,wrapperTemplate:r}},x=function(t,e){var n=e(t);return n?{CustomComponent:n.component,customProps:n.props,customEditable:n.editable}:{}},w=function(t,e,n,r,i,o){var s={"data-block":!0,"data-editor":e,"data-offset-key":n,key:t.getKey(),ref:o},u=r(t);return u&&(s.className=u),void 0!==i.customEditable&&(s=a({},s,{contentEditable:i.customEditable,suppressContentEditableWarning:!0})),s},E=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return s(o(e=t.call.apply(t,[this].concat(r))||this),"wrapperRef",l.createRef()),e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var v=r.prototype;return v.shouldComponentUpdate=function(t){var e=this.props,n=e.block,r=e.direction,i=e.tree,o=!n.getChildKeys().isEmpty(),a=n!==t.block||i!==t.tree||r!==t.direction||b(t.selection,t.block.getKey())&&t.forceSelection;return o||a},v.componentDidMount=function(){var t=this.props.selection,e=t.getEndKey();if(t.getHasFocus()&&e===this.props.block.getKey()){var n=this.wrapperRef.current;if(n){var r,i=h.getScrollParent(n),o=d(i);if(i===window){var a=p(n);(r=a.y+a.height-y().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{m(n)||g(!1);var s=n;(r=s.offsetHeight+s.offsetTop-(i.offsetHeight+o.y))>0&&f.setTop(i,f.getTop(i)+r+10)}}}},v.render=function(){var t=this,e=this.props,n=e.block,o=e.blockRenderMap,s=e.blockRendererFn,f=e.blockStyleFn,h=e.contentState,p=e.decorator,d=e.editorKey,y=e.editorState,v=e.customStyleFn,g=e.customStyleMap,m=e.direction,E=e.forceSelection,S=e.selection,k=e.tree,O=null;n.children.size&&(O=n.children.reduce((function(e,n){var i=c.encode(n,0,0),u=h.getBlockForKey(n),p=x(u,s),v=p.CustomComponent||r,g=_(u,o),m=g.Element,b=g.wrapperTemplate,E=w(u,d,i,f,p,null),S=a({},t.props,{tree:y.getBlockTree(n),blockProps:p.customProps,offsetKey:i,block:u});return e.push(l.createElement(m,E,l.createElement(v,S))),!b||function(t,e){var n=t.getNextSiblingKey();return!!n&&e.getBlockForKey(n).getType()===t.getType()}(u,h)||function(t,e,n){var r=[],i=!0,o=!1,a=void 0;try{for(var s,u=n.reverse()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var f=s.value;if(f.type!==e)break;r.push(f)}}catch(d){o=!0,a=d}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}n.splice(n.indexOf(r[0]),r.length+1);var h=r.reverse(),p=h[0].key;n.push(l.cloneElement(t,{key:"".concat(p,"-wrap"),"data-offset-key":c.encode(p,0,0)},h))}(b,m,e),e}),[]));var C=n.getKey(),P=c.encode(C,0,0),T=x(n,s),M=T.CustomComponent,A=null!=M?l.createElement(M,i({},this.props,{tree:y.getBlockTree(C),blockProps:T.customProps,offsetKey:P,block:n})):l.createElement(u,{block:n,children:O,contentState:h,customStyleFn:v,customStyleMap:g,decorator:p,direction:m,forceSelection:E,hasSelection:b(S,C),selection:S,tree:k});if(n.getParentKey())return A;var I=_(n,o).Element,j=w(n,d,P,f,T,this.wrapperRef);return l.createElement(I,j,A)},r}(l.Component);t.exports=E},function(t,e,n){"use strict";var r=n(1067),i=n(586),o=n(122),a=n(44),s=n(1),u=n(162),c=(a.List,function(t){var e,n;function a(){return t.apply(this,arguments)||this}return n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,a.prototype.render=function(){var t=this.props,e=t.block,n=t.contentState,a=t.customStyleFn,c=t.customStyleMap,l=t.decorator,f=t.direction,h=t.forceSelection,p=t.hasSelection,d=t.selection,y=t.tree,v=e.getKey(),g=e.getText(),m=y.size-1,b=this.props.children||y.map((function(t,u){var y=t.get("decoratorKey"),b=t.get("leaves"),_=b.size-1,x=b.map((function(t,n){var r=o.encode(v,u,n),l=t.get("start"),f=t.get("end");return s.createElement(i,{key:r,offsetKey:r,block:e,start:l,selection:p?d:null,forceSelection:h,text:g.slice(l,f),styleSet:e.getInlineStyleAt(l),customStyleMap:c,customStyleFn:a,isLast:y===m&&n===_})})).toArray();return y&&l?s.createElement(r,{block:e,children:x,contentState:n,decorator:l,decoratorKey:y,direction:f,leafSet:t,text:g,key:u}):x})).toArray();return s.createElement("div",{"data-offset-key":o.encode(v,0,0),className:u({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===f,"public/DraftStyleDefault/rtl":"RTL"===f})},b)},a}(s.Component));t.exports=c},function(t,e,n){"use strict";var r=n(105);function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o=n(122),a=n(1),s=n(392),u=n(285),c=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.render=function(){var t=this.props,e=t.block,n=t.children,r=t.contentState,c=t.decorator,l=t.decoratorKey,f=t.direction,h=t.leafSet,p=t.text,d=e.getKey(),y=h.get("leaves"),v=c.getComponentForKey(l),g=c.getPropsForKey(l),m=o.encode(d,parseInt(l,10),0),b=p.slice(y.first().get("start"),y.last().get("end")),_=u.getHTMLDirIfDifferent(s.getDirection(b),f);return a.createElement(v,i({},g,{contentState:r,decoratedText:b,dir:_,key:m,entityKey:e.getEntityAt(h.get("start")),offsetKey:m}),n)},r}(a.Component);t.exports=c},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(1),a=n(77),s=n(45),u=n(163),c=a.isBrowser("IE <= 11");var l=function(t){var e,n;function a(e){var n;return i(r(n=t.call(this,e)||this),"_forceFlag",void 0),i(r(n),"_node",void 0),n._forceFlag=!1,n}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l=a.prototype;return l.shouldComponentUpdate=function(t){var e=this._node,n=""===t.children;u(e)||s(!1);var r=e;return n?!function(t){return c?"\n"===t.textContent:"BR"===t.tagName}(r):r.textContent!==t.children},l.componentDidMount=function(){this._forceFlag=!this._forceFlag},l.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},l.render=function(){var t,e=this;return""===this.props.children?this._forceFlag?(t=function(t){return e._node=t},c?o.createElement("span",{key:"A","data-text":"true",ref:t},"\n"):o.createElement("br",{key:"A","data-text":"true",ref:t})):function(t){return c?o.createElement("span",{key:"B","data-text":"true",ref:t},"\n"):o.createElement("br",{key:"B","data-text":"true",ref:t})}((function(t){return e._node=t})):o.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(t){return e._node=t}},this.props.children)},a}(o.Component);t.exports=l},function(t,e,n){"use strict";var r=n(588),i=n(580),o=n(77),a=n(395),s=n(589),u=n(287),c=n(45),l=n(163),f=o.isBrowser("IE");function h(t,e){if(!t)return"[empty]";var n=p(t,e);return n.nodeType===Node.TEXT_NODE?n.textContent:(l(n)||c(!1),n.outerHTML)}function p(t,e){var n=void 0!==e?e(t):[];if(t.nodeType===Node.TEXT_NODE){var r=t.textContent.length;return u(t).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=t.cloneNode();1===i.nodeType&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var o=t.childNodes,a=0;a<o.length;a++)i.appendChild(p(o[a],e));return i}function d(t,e){for(var n=t,r=n;n;){if(l(n)&&r.hasAttribute("contenteditable"))return h(n,e);r=n=n.parentNode}return"Could not find contentEditable parent of node"}function y(t){return null===t.nodeValue?t.childNodes.length:t.nodeValue.length}function v(t,e,n,r){var o=s();if(t.extend&&null!=e&&a(o,e)){n>y(e)&&i.logSelectionStateFailure({anonymizedDom:d(e),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var u=e===t.focusNode;try{t.rangeCount>0&&t.extend&&t.extend(e,n)}catch(l){throw i.logSelectionStateFailure({anonymizedDom:d(e,(function(e){var n=[];return e===o&&n.push("active element"),e===t.anchorNode&&n.push("selection anchor node"),e===t.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:e===t.focusNode,nodeWasFocus:u,selectionRangeCount:t.rangeCount,selectionAnchorNodeName:t.anchorNode?t.anchorNode.nodeName:null,selectionAnchorOffset:t.anchorOffset,selectionFocusNodeName:t.focusNode?t.focusNode.nodeName:null,selectionFocusOffset:t.focusOffset,message:l?""+l:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),l}}else if(e&&t.rangeCount>0){var c=t.getRangeAt(0);c.setEnd(e,n),t.addRange(c.cloneRange())}}function g(t,e,n,o){var a=u(e).createRange();if(n>y(e)&&(i.logSelectionStateFailure({anonymizedDom:d(e),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),r.handleExtensionCausedError()),a.setStart(e,n),f)try{t.addRange(a)}catch(s){0}else t.addRange(a)}t.exports={setDraftEditorSelection:function(t,e,n,r,i){var o=u(e);if(a(o.documentElement,e)){var s=o.defaultView.getSelection(),c=t.getAnchorKey(),l=t.getAnchorOffset(),f=t.getFocusKey(),h=t.getFocusOffset(),p=t.getIsBackward();if(!s.extend&&p){var d=c,y=l;c=f,l=h,f=d,h=y,p=!1}var m=c===n&&r<=l&&i>=l,b=f===n&&r<=h&&i>=h;if(m&&b)return s.removeAllRanges(),g(s,e,l-r,t),void v(s,e,h-r,t);if(p){if(b&&(s.removeAllRanges(),g(s,e,h-r,t)),m){var _=s.focusNode,x=s.focusOffset;s.removeAllRanges(),g(s,e,l-r,t),v(s,_,x,t)}}else m&&(s.removeAllRanges(),g(s,e,l-r,t)),b&&v(s,e,h-r,t)}},addFocusToSelection:v}},function(t,e,n){"use strict";var r=n(1071);t.exports=function(t){return r(t)&&3==t.nodeType}},function(t,e,n){"use strict";t.exports=function(t){var e=(t?t.ownerDocument||t:document).defaultView||window;return!(!t||!("function"===typeof e.Node?t instanceof e.Node:"object"===typeof t&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName))}},function(t,e,n){"use strict";var r=n(1073),i=n(1074);function o(t){return null==t?t:String(t)}t.exports=function(t,e){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(t,null)))return o(n.getPropertyValue(i(e)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(t,null))return o(n.getPropertyValue(i(e)));if("display"===e)return"none"}return t.currentStyle?o("float"===e?t.currentStyle.cssFloat||t.currentStyle.styleFloat:t.currentStyle[r(e)]):o(t.style&&t.style[r(e)])}},function(t,e,n){"use strict";var r=/-(.)/g;t.exports=function(t){return t.replace(r,(function(t,e){return e.toUpperCase()}))}},function(t,e,n){"use strict";var r=/([A-Z])/g;t.exports=function(t){return t.replace(r,"-$1").toLowerCase()}},function(t,e,n){"use strict";var r=n(395);t.exports=function(t){var e=t.ownerDocument.documentElement;if(!("getBoundingClientRect"in t)||!r(e,t))return{left:0,right:0,top:0,bottom:0};var n=t.getBoundingClientRect();return{left:Math.round(n.left)-e.clientLeft,right:Math.round(n.right)-e.clientLeft,top:Math.round(n.top)-e.clientTop,bottom:Math.round(n.bottom)-e.clientTop}}},function(t,e,n){"use strict";var r="undefined"!==typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;t.exports=function(t){return(t=t||document).scrollingElement?t.scrollingElement:r||"CSS1Compat"!==t.compatMode?t.body:t.documentElement}},function(t,e,n){"use strict";t.exports=function(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}},function(t,e,n){"use strict";var r=n(105);function i(){return(i=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){a(t,e,n[e])}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n(592),u=n(122),c=n(1),l=n(162),f=n(1079),h=n(76),p=function(t,e,n,r){return l({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===t,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===t,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===e,"public/DraftStyleDefault/depth1":1===e,"public/DraftStyleDefault/depth2":2===e,"public/DraftStyleDefault/depth3":3===e,"public/DraftStyleDefault/depth4":e>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},d=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.shouldComponentUpdate=function(t){var e=this.props.editorState,n=t.editorState;if(e.getDirectionMap()!==n.getDirectionMap())return!0;if(e.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=e.isInCompositionMode(),o=n.isInCompositionMode();if(e===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=e.getCurrentContent(),s=n.getCurrentContent(),u=e.getDecorator(),c=n.getDecorator();return i!==o||a!==s||u!==c||n.mustForceSelection()},a.render=function(){for(var t=this.props,e=t.blockRenderMap,n=t.blockRendererFn,r=t.blockStyleFn,a=t.customStyleMap,l=t.customStyleFn,d=t.editorState,y=t.editorKey,v=t.preventScroll,g=t.textDirectionality,m=d.getCurrentContent(),b=d.getSelection(),_=d.mustForceSelection(),x=d.getDecorator(),w=h(d.getDirectionMap()),E=m.getBlocksAsArray(),S=[],k=null,O=null,C=0;C<E.length;C++){var P=E[C],T=P.getKey(),M=P.getType(),A=n(P),I=void 0,j=void 0,R=void 0;A&&(I=A.component,j=A.props,R=A.editable);var D=g||w.get(T),N=u.encode(T,0,0),L={contentState:m,block:P,blockProps:j,blockStyleFn:r,customStyleMap:a,customStyleFn:l,decorator:x,direction:D,forceSelection:_,offsetKey:N,preventScroll:v,selection:b,tree:d.getBlockTree(T)},z=e.get(M)||e.get("unstyled"),F=z.wrapper,B=z.element||e.get("unstyled").element,U=P.getDepth(),q="";if(r&&(q=r(P)),"li"===B)q=f(q,p(M,U,O!==F||null===k||U>k,D));var V=I||s,G={className:q,"data-block":!0,"data-editor":y,"data-offset-key":N,key:T};void 0!==R&&(G=o({},G,{contentEditable:R,suppressContentEditableWarning:!0}));var W=c.createElement(B,G,c.createElement(V,i({},L,{key:T})));S.push({block:W,wrapperTemplate:F,key:T,offsetKey:N}),k=F?P.getDepth():null,O=F}for(var H=[],K=0;K<S.length;){var X=S[K];if(X.wrapperTemplate){var Y=[];do{Y.push(S[K].block),K++}while(K<S.length&&S[K].wrapperTemplate===X.wrapperTemplate);var Z=c.cloneElement(X.wrapperTemplate,{key:X.key+"-wrap","data-offset-key":X.offsetKey},Y);H.push(Z)}else H.push(X.block),K++}return c.createElement("div",{"data-contents":"true"},H)},r}(c.Component);t.exports=d},function(t,e,n){"use strict";t.exports=function(t){var e=t||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var i=arguments[r];i&&(e=(e?e+" ":"")+i)}return e}},function(t,e,n){"use strict";var r=n(593),i=n(75),o=n(55),a=n(286),s=n(287),u=n(595),c=n(584),l=n(578),f=n(291),h=n(76);var p={onDragEnd:function(t){t.exitCurrentMode(),d(t)},onDrop:function(t,e){var n=new r(e.nativeEvent.dataTransfer),l=t._latestEditorState,p=function(t,e){var n=null,r=null,i=s(t.currentTarget);if("function"===typeof i.caretRangeFromPoint){var o=i.caretRangeFromPoint(t.x,t.y);n=o.startContainer,r=o.startOffset}else{if(!t.rangeParent)return null;n=t.rangeParent,r=t.rangeOffset}n=h(n),r=h(r);var u=h(a(n));return c(e,u,r,u,r)}(e.nativeEvent,l);if(e.preventDefault(),t._dragCount=0,t.exitCurrentMode(),null!=p){var v=n.getFiles();if(v.length>0){if(t.props.handleDroppedFiles&&f(t.props.handleDroppedFiles(p,v)))return;u(v,(function(e){e&&t.update(y(l,p,e))}))}else{var g=t._internalDrag?"internal":"external";t.props.handleDrop&&f(t.props.handleDrop(p,n,g))||(t._internalDrag?t.update(function(t,e){var n=i.moveText(t.getCurrentContent(),t.getSelection(),e);return o.push(t,n,"insert-fragment")}(l,p)):t.update(y(l,p,n.getText()))),d(t)}}}};function d(t){t._internalDrag=!1;var e=t.editorContainer;if(e){var n=new MouseEvent("mouseup",{view:l(e),bubbles:!0,cancelable:!0});e.dispatchEvent(n)}}function y(t,e,n){var r=i.insertText(t.getCurrentContent(),e,n,t.getCurrentInlineStyle());return o.push(t,r,"insert-fragment")}t.exports=p},function(t,e,n){"use strict";var r={isImage:function(t){return"image"===i(t)[0]},isJpeg:function(t){var e=i(t);return r.isImage(t)&&("jpeg"===e[1]||"pjpeg"===e[1])}};function i(t){return t.split("/")}t.exports=r},function(t,e,n){"use strict";var r=n(45);t.exports=function(t){return function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}(t)?Array.isArray(t)?t.slice():function(t){var e=t.length;if((Array.isArray(t)||"object"!==typeof t&&"function"!==typeof t)&&r(!1),"number"!==typeof e&&r(!1),0===e||e-1 in t||r(!1),"function"===typeof t.callee&&r(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(o){}for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}(t):[t]}},function(t,e,n){"use strict";var r=n(77),i=n(1084),o=n(1088),a=n(1089),s=n(1090),u=n(1091),c=n(1093),l=n(1094),f=n(1095),h=n(1096),p=n(1097),d=n(1111),y=n(579),v=r.isBrowser("Chrome"),g=r.isBrowser("Firefox"),m=v||g?y:function(t){},b={onBeforeInput:i,onBlur:o,onCompositionStart:a,onCopy:s,onCut:u,onDragOver:c,onDragStart:l,onFocus:f,onInput:h,onKeyDown:p,onPaste:d,onSelect:y,onMouseUp:m,onKeyUp:m};t.exports=b},function(t,e,n){"use strict";var r=n(75),i=n(55),o=n(77),a=n(394),s=n(291),u=n(1085),c=n(76),l=n(1086),f=o.isBrowser("Firefox");function h(t,e,n,o,a){var s=r.replaceText(t.getCurrentContent(),t.getSelection(),e,n,o);return i.push(t,s,"insert-characters",a)}t.exports=function(t,e){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0);var n=t._latestEditorState,r=e.data;if(r)if(t.props.handleBeforeInput&&s(t.props.handleBeforeInput(r,n,e.timeStamp)))e.preventDefault();else{var o=n.getSelection(),p=o.getStartOffset(),d=o.getAnchorKey();if(!o.isCollapsed())return e.preventDefault(),void t.update(h(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!0));var y,v=h(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!1),g=!1;if(g||(g=u(t._latestCommittedEditorState)),!g){var m=n.getBlockTree(d),b=v.getBlockTree(d);g=m.size!==b.size||m.zip(b).some((function(t){var e=t[0],n=t[1],i=e.get("start"),o=i+(i>=p?r.length:0),a=e.get("end"),s=a+(a>=p?r.length:0),u=n.get("start"),c=n.get("end"),l=n.get("decoratorKey");return e.get("decoratorKey")!==l||e.get("leaves").size!==n.get("leaves").size||o!==u||s!==c||null!=l&&c-u!==a-i}))}if(g||(y=r,g=f&&("'"==y||"/"==y)),g||(g=c(v.getDirectionMap()).get(d)!==c(n.getDirectionMap()).get(d)),g)return e.preventDefault(),v=i.set(v,{forceSelection:!0}),void t.update(v);v=i.set(v,{nativelyRenderedContent:v.getCurrentContent()}),t._pendingStateFromBeforeInput=v,l((function(){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0)}))}}},function(t,e,n){"use strict";t.exports=function(t){var e=t.getSelection(),n=e.getAnchorKey(),r=t.getBlockTree(n),i=e.getStartOffset(),o=!1;return r.some((function(t){return i===t.get("start")?(o=!0,!0):i<t.get("end")&&t.get("leaves").some((function(t){var e=t.get("start");return i===e&&(o=!0,!0)}))})),o}},function(t,e,n){"use strict";(function(e){n(1087),t.exports=e.setImmediate}).call(this,n(53))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){l(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&l(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(l,0,t)},u.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(t){delete o[t]}function l(t){if(a)setTimeout(l,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{c(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(53),n(153))},function(t,e,n){"use strict";var r=n(55),i=n(395),o=n(589);t.exports=function(t,e){var n=e.currentTarget.ownerDocument;if(!Boolean(t.props.preserveSelectionOnBlur)&&o(n)===n.body){var a=n.defaultView.getSelection(),s=t.editor;1===a.rangeCount&&i(s,a.anchorNode)&&i(s,a.focusNode)&&a.removeAllRanges()}var u=t._latestEditorState,c=u.getSelection();if(c.getHasFocus()){var l=c.set("hasFocus",!1);t.props.onBlur&&t.props.onBlur(e),t.update(r.acceptSelection(u,l))}}},function(t,e,n){"use strict";var r=n(55);t.exports=function(t,e){t.setMode("composite"),t.update(r.set(t._latestEditorState,{inCompositionMode:!0})),t._onCompositionStart(e)}},function(t,e,n){"use strict";var r=n(596);t.exports=function(t,e){t._latestEditorState.getSelection().isCollapsed()?e.preventDefault():t.setClipboard(r(t._latestEditorState))}},function(t,e,n){"use strict";var r=n(75),i=n(55),o=n(289),a=n(596),s=n(290),u=n(1092);t.exports=function(t,e){var n,c=t._latestEditorState,l=c.getSelection(),f=e.target;if(l.isCollapsed())e.preventDefault();else{if(u(f)){var h=f;n=s(o.getScrollParent(h))}var p=a(c);t.setClipboard(p),t.setMode("cut"),setTimeout((function(){t.restoreEditorDOM(n),t.exitCurrentMode(),t.update(function(t){var e=r.removeRange(t.getCurrentContent(),t.getSelection(),"forward");return i.push(t,e,"remove-range")}(c))}),0)}}},function(t,e,n){"use strict";t.exports=function(t){if(!t||!("ownerDocument"in t))return!1;if("ownerDocument"in t){var e=t;if(!e.ownerDocument.defaultView)return e instanceof Node;if(e instanceof e.ownerDocument.defaultView.Node)return!0}return!1}},function(t,e,n){"use strict";t.exports=function(t,e){t.setMode("drag"),e.preventDefault()}},function(t,e,n){"use strict";t.exports=function(t){t._internalDrag=!0,t.setMode("drag")}},function(t,e,n){"use strict";var r=n(55),i=n(77);t.exports=function(t,e){var n=t._latestEditorState,o=n.getSelection();if(!o.getHasFocus()){var a=o.set("hasFocus",!0);t.props.onFocus&&t.props.onFocus(e),i.isBrowser("Chrome < 60.0.3081.0")?t.update(r.forceSelection(n,a)):t.update(r.acceptSelection(n,a))}}},function(t,e,n){"use strict";var r=n(75),i=n(122),o=n(55),a=n(77),s=n(585).notEmptyKey,u=n(286),c=n(597),l=n(76),f=a.isEngine("Gecko");t.exports=function(t,e){void 0!==t._pendingStateFromBeforeInput&&(t.update(t._pendingStateFromBeforeInput),t._pendingStateFromBeforeInput=void 0);var n=t.editor.ownerDocument.defaultView.getSelection(),a=n.anchorNode,h=n.isCollapsed,p=(null===a||void 0===a?void 0:a.nodeType)!==Node.TEXT_NODE&&(null===a||void 0===a?void 0:a.nodeType)!==Node.ELEMENT_NODE;if(null!=a&&!p){if(a.nodeType===Node.TEXT_NODE&&(null!==a.previousSibling||null!==a.nextSibling)){var d=a.parentNode;if(null==d)return;a.nodeValue=d.textContent;for(var y=d.firstChild;null!=y;y=y.nextSibling)y!==a&&d.removeChild(y)}var v=a.textContent,g=t._latestEditorState,m=l(u(a)),b=i.decode(m),_=b.blockKey,x=b.decoratorKey,w=b.leafKey,E=g.getBlockTree(_).getIn([x,"leaves",w]),S=E.start,k=E.end,O=g.getCurrentContent(),C=O.getBlockForKey(_),P=C.getText().slice(S,k);if(v.endsWith("\n\n")&&(v=v.slice(0,-1)),v!==P){var T,M,A,I,j=g.getSelection(),R=j.merge({anchorOffset:S,focusOffset:k,isBackward:!1}),D=C.getEntityAt(S),N=s(D)?O.getEntity(D):null,L="MUTABLE"===(null!=N?N.getMutability():null),z=L?"spellcheck-change":"apply-entity",F=r.replaceText(O,R,v,C.getInlineStyleAt(S),L?C.getEntityAt(S):null);if(f)T=n.anchorOffset,M=n.focusOffset,I=(A=S+Math.min(T,M))+Math.abs(T-M),T=A,M=I;else{var B=v.length-P.length;A=j.getStartOffset(),I=j.getEndOffset(),T=h?I+B:A,M=I+B}var U=F.merge({selectionBefore:O.getSelectionAfter(),selectionAfter:j.merge({anchorOffset:T,focusOffset:M})});t.update(o.push(g,U,z))}else{var q=e.nativeEvent.inputType;if(q){var V=function(t,e){switch(t){case"deleteContentBackward":return c(e)}return e}(q,g);if(V!==g)return t.restoreEditorDOM(),void t.update(V)}}}}},function(t,e,n){"use strict";var r=n(75),i=n(55),o=n(399),a=n(288),s=n(1099),u=n(77),c=n(291),l=n(1100),f=n(1102),h=n(1104),p=n(1105),d=n(1106),y=n(1107),v=n(597),g=n(1108),m=n(1109),b=n(1110),_=o.isOptionKeyCommand,x=u.isBrowser("Chrome");t.exports=function(t,e){var n=e.which,o=t._latestEditorState;function u(n){var r=t.props[n];return!!r&&(r(e),!0)}switch(n){case a.RETURN:if(e.preventDefault(),t.props.handleReturn&&c(t.props.handleReturn(e,o)))return;break;case a.ESC:if(e.preventDefault(),u("onEscape"))return;break;case a.TAB:if(u("onTab"))return;break;case a.UP:if(u("onUpArrow"))return;break;case a.RIGHT:if(u("onRightArrow"))return;break;case a.DOWN:if(u("onDownArrow"))return;break;case a.LEFT:if(u("onLeftArrow"))return;break;case a.SPACE:x&&_(e)&&e.preventDefault()}var w=t.props.keyBindingFn(e);if(null!=w&&""!==w)if("undo"!==w){if(e.preventDefault(),!t.props.handleKeyCommand||!c(t.props.handleKeyCommand(w,o,e.timeStamp))){var E=function(t,e,n){switch(t){case"redo":return i.redo(e);case"delete":return g(e);case"delete-word":return h(e);case"backspace":return v(e);case"backspace-word":return f(e);case"backspace-to-start-of-line":return l(e,n);case"split-block":return p(e);case"transpose-characters":return m(e);case"move-selection-to-start-of-block":return y(e);case"move-selection-to-end-of-block":return d(e);case"secondary-cut":return s.cut(e);case"secondary-paste":return s.paste(e);default:return e}}(w,o,e);E!==o&&t.update(E)}}else b(e,o,t.update);else if(n===a.SPACE&&x&&_(e)){var S=r.replaceText(o.getCurrentContent(),o.getSelection(),"\xa0");t.update(i.push(o,S,"insert-characters"))}}},function(t,e,n){"use strict";var r=n(288);t.exports=function(t){return t.which===r.RETURN&&(t.getModifierState("Shift")||t.getModifierState("Alt")||t.getModifierState("Control"))}},function(t,e,n){"use strict";var r=n(75),i=n(55),o=n(282),a=n(76),s=null,u={cut:function(t){var e=t.getCurrentContent(),n=t.getSelection(),u=null;if(n.isCollapsed()){var c=n.getAnchorKey(),l=e.getBlockForKey(c).getLength();if(l===n.getAnchorOffset()){var f=e.getKeyAfter(c);if(null==f)return t;u=n.set("focusKey",f).set("focusOffset",0)}else u=n.set("focusOffset",l)}else u=n;u=a(u),s=o(e,u);var h=r.removeRange(e,u,"forward");return h===e?t:i.push(t,h,"remove-range")},paste:function(t){if(!s)return t;var e=r.replaceWithFragment(t.getCurrentContent(),t.getSelection(),s);return i.push(t,e,"insert-fragment")}};t.exports=u},function(t,e,n){"use strict";var r=n(55),i=n(1101),o=n(583),a=n(397),s=n(231);t.exports=function(t,e){var n=s(t,(function(t){var n=t.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return a(t,1);var r=e.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=i(r),o(t,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return n===t.getCurrentContent()?t:r.push(t,n,"remove-range")}},function(t,e,n){"use strict";var r=n(164),i=n(287),o=n(598),a=n(45);function s(t,e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<t.length;a++){var s=t[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),i=Math.max(i,s.top),o=Math.max(o,s.bottom))}return i<=r&&i-n<e&&o-r<e}function u(t){switch(t.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return t.length;default:return t.childNodes.length}}t.exports=function(t){t.collapsed||a(!1);var e=(t=t.cloneRange()).startContainer;1!==e.nodeType&&(e=e.parentNode);var n=function(t){var e=getComputedStyle(t),n=i(t),r=n.createElement("div");r.style.fontFamily=e.fontFamily,r.style.fontSize=e.fontSize,r.style.fontStyle=e.fontStyle,r.style.fontWeight=e.fontWeight,r.style.lineHeight=e.lineHeight,r.style.position="absolute",r.textContent="M";var o=n.body;o||a(!1),o.appendChild(r);var s=r.getBoundingClientRect();return o.removeChild(r),s.height}(e),c=t.endContainer,l=t.endOffset;for(t.setStart(t.startContainer,0);s(o(t),n)&&(c=t.startContainer,l=t.startOffset,c.parentNode||a(!1),t.setStartBefore(c),1!==c.nodeType||"inline"===getComputedStyle(c).display););for(var f=c,h=l-1;;){for(var p=f.nodeValue,d=h;d>=0;d--)if(!(null!=p&&d>0&&r.isSurrogatePair(p,d-1))){if(t.setStart(f,d),!s(o(t),n))break;c=f,l=d}if(-1===d||0===f.childNodes.length)break;h=u(f=f.childNodes[d])}return t.setStart(c,l),t}},function(t,e,n){"use strict";var r=n(599),i=n(55),o=n(397),a=n(231);t.exports=function(t){var e=a(t,(function(t){var e=t.getSelection(),n=e.getStartOffset();if(0===n)return o(t,1);var i=e.getStartKey(),a=t.getCurrentContent().getBlockForKey(i).getText().slice(0,n),s=r.getBackward(a);return o(t,s.length||1)}),"backward");return e===t.getCurrentContent()?t:i.push(t,e,"remove-range")}},function(t,e,n){"use strict";t.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf]"}}},function(t,e,n){"use strict";var r=n(599),i=n(55),o=n(600),a=n(231);t.exports=function(t){var e=a(t,(function(t){var e=t.getSelection(),n=e.getStartOffset(),i=e.getStartKey(),a=t.getCurrentContent().getBlockForKey(i).getText().slice(n),s=r.getForward(a);return o(t,s.length||1)}),"forward");return e===t.getCurrentContent()?t:i.push(t,e,"remove-range")}},function(t,e,n){"use strict";var r=n(75),i=n(55);t.exports=function(t){var e=r.splitBlock(t.getCurrentContent(),t.getSelection());return i.push(t,e,"split-block")}},function(t,e,n){"use strict";var r=n(55);t.exports=function(t){var e=t.getSelection(),n=e.getEndKey(),i=t.getCurrentContent().getBlockForKey(n).getLength();return r.set(t,{selection:e.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}},function(t,e,n){"use strict";var r=n(55);t.exports=function(t){var e=t.getSelection(),n=e.getStartKey();return r.set(t,{selection:e.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},function(t,e,n){"use strict";var r=n(55),i=n(164),o=n(600),a=n(231);t.exports=function(t){var e=a(t,(function(t){var e=t.getSelection(),n=t.getCurrentContent(),r=e.getAnchorKey(),a=e.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a];return o(t,s?i.getUTF16Length(s,0):1)}),"forward");if(e===t.getCurrentContent())return t;var n=t.getSelection();return r.push(t,e.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},function(t,e,n){"use strict";var r=n(75),i=n(55),o=n(282);t.exports=function(t){var e=t.getSelection();if(!e.isCollapsed())return t;var n=e.getAnchorOffset();if(0===n)return t;var a,s,u=e.getAnchorKey(),c=t.getCurrentContent(),l=c.getBlockForKey(u).getLength();if(l<=1)return t;n===l?(a=e.set("anchorOffset",n-1),s=e):s=(a=e.set("focusOffset",n+1)).set("anchorOffset",n+1);var f=o(c,a),h=r.removeRange(c,a,"backward"),p=h.getSelectionAfter(),d=p.getAnchorOffset()-1,y=p.merge({anchorOffset:d,focusOffset:d}),v=r.replaceWithFragment(h,y,f),g=i.push(t,v,"insert-fragment");return i.acceptSelection(g,s)}},function(t,e,n){"use strict";var r=n(55);t.exports=function(t,e,n){var i=r.undo(e);if("spellcheck-change"!==e.getLastChangeType())t.preventDefault(),e.getNativelyRenderedContent()?(n(r.set(e,{nativelyRenderedContent:null})),setTimeout((function(){n(i)}),0)):n(i);else{var o=i.getCurrentContent();n(r.set(i,{nativelyRenderedContent:o}))}}},function(t,e,n){"use strict";var r=n(228),i=n(89),o=n(593),a=n(75),s=n(1112),u=n(55),c=n(603),l=n(394),f=n(595),h=n(291),p=n(1117);function d(t,e,n){var r=a.replaceWithFragment(t.getCurrentContent(),t.getSelection(),e);return u.push(t,r.set("entityMap",n),"insert-fragment")}t.exports=function(t,e){e.preventDefault();var n=new o(e.clipboardData);if(!n.isRichText()){var y=n.getFiles(),v=n.getText();if(y.length>0){if(t.props.handlePastedFiles&&h(t.props.handlePastedFiles(y)))return;return void f(y,(function(e){if(e=e||v){var n=t._latestEditorState,o=p(e),f=i.create({style:n.getCurrentInlineStyle(),entity:l(n.getCurrentContent(),n.getSelection())}),h=c.getCurrentBlockType(n),d=s.processText(o,f,h),y=r.createFromArray(d),g=a.replaceWithFragment(n.getCurrentContent(),n.getSelection(),y);t.update(u.push(n,g,"insert-fragment"))}}))}}var g=[],m=n.getText(),b=n.getHTML(),_=t._latestEditorState;if(t.props.formatPastedText){var x=t.props.formatPastedText(m,b);m=x.text,b=x.html}if(!t.props.handlePastedText||!h(t.props.handlePastedText(m,b,_))){if(m&&(g=p(m)),!t.props.stripPastedStyles){var w,E=t.getClipboard();if(!t.props.formatPastedText&&n.isRichText()&&E){if(-1!==(null===(w=b)||void 0===w?void 0:w.indexOf(t.getEditorKey()))||1===g.length&&1===E.size&&E.first().getText()===m)return void t.update(d(t._latestEditorState,E))}else if(E&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(t,e){return t.length===e.size&&e.valueSeq().every((function(e,n){return e.getText()===t[n]}))}(g,E))return void t.update(d(t._latestEditorState,E));if(b){var S=s.processHTML(b,t.props.blockRenderMap);if(S){var k=S.contentBlocks,O=S.entityMap;if(k){var C=r.createFromArray(k);return void t.update(d(t._latestEditorState,C,O))}}}t.setClipboard(null)}if(g.length){var P=i.create({style:_.getCurrentInlineStyle(),entity:l(_.getCurrentContent(),_.getSelection())}),T=c.getCurrentBlockType(_),M=s.processText(g,P,T),A=r.createFromArray(M);t.update(d(t._latestEditorState,A))}}}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(161),o=n(90),a=n(601),s=n(110),u=n(602),c=n(138),l=n(44),f=n(575),h=l.List,p=l.Repeat,d=c("draft_tree_data_support"),y=d?o:i,v={processHTML:function(t,e){return a(t,u,e)},processText:function(t,e,n){return t.reduce((function(t,i,o){i=f(i);var a=s(),u={key:a,type:n,text:i,characterList:h(p(e,i.length))};if(d&&0!==o){var c=o-1;u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}({},u,{prevSibling:(t[c]=t[c].merge({nextSibling:a})).getKey()})}return t.push(new y(u)),t}),[])}};t.exports=v},function(t,e,n){"use strict";var r=function(){function t(t){var e,n,r;r=void 0,(n="_uri")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this._uri=t}return t.prototype.toString=function(){return this._uri},t}();t.exports=r},function(t,e,n){"use strict";var r=n(163);t.exports=function(t){return!(!t||!t.ownerDocument)&&(r(t)&&"A"===t.nodeName)}},function(t,e,n){"use strict";var r=n(163);t.exports=function(t){return!(!t||!t.ownerDocument)&&(r(t)&&"IMG"===t.nodeName)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i=e.getStartKey(),o=e.getEndKey(),a=t.getBlockMap(),s=a.toSeq().skipUntil((function(t,e){return e===i})).takeUntil((function(t,e){return e===o})).concat([[o,a.get(o)]]).map((function(t){var e=t.getDepth()+n;return e=Math.max(0,Math.min(e,r)),t.set("depth",e)}));return a=a.merge(s),t.merge({blockMap:a,selectionBefore:e,selectionAfter:e})}},function(t,e,n){"use strict";var r=/\r\n?|\n/g;t.exports=function(t){return t.split(r)}},function(t,e,n){"use strict";var r=n(82).unstable_flushControlled;t.exports=r},function(t,e,n){"use strict";var r=n(1),i=n(162),o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=o.prototype;return a.shouldComponentUpdate=function(t){return this.props.text!==t.text||this.props.editorState.getSelection().getHasFocus()!==t.editorState.getSelection().getHasFocus()},a.render=function(){var t=this.props.editorState.getSelection().getHasFocus(),e=i({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":t});return r.createElement("div",{className:e},r.createElement("div",{className:i("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},o}(r.Component);t.exports=o},function(t,e,n){},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(161),o=n(90),a=n(605),s=n(1122),u=n(1123),c=n(45),l=function(t,e){return{key:t.getKey(),text:t.getText(),type:t.getType(),depth:t.getDepth(),inlineStyleRanges:u(t),entityRanges:s(t,e),data:t.getData().toObject()}},f=function(t,e,n,a){if(t instanceof i)n.push(l(t,e));else{t instanceof o||c(!1);var s=t.getParentKey(),u=a[t.getKey()]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}({},l(t,e),{children:[]});s?a[s].children.push(u):n.push(u)}};t.exports=function(t){var e={entityMap:{},blocks:[]};return e=function(t,e){var n=e.entityMap,r=[],i={},o={},s=0;return t.getBlockMap().forEach((function(t){t.findEntityRanges((function(t){return null!==t.getEntity()}),(function(e){var r=t.getEntityAt(e),i=a.stringify(r);o[i]||(o[i]=r,n[i]="".concat(s),s++)})),f(t,n,r,i)})),{blocks:r,entityMap:n}}(t,e),e=function(t,e){var n=e.blocks,r=e.entityMap,i={};return Object.keys(r).forEach((function(e,n){var r=t.getEntity(a.unstringify(e));i[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}})),{blocks:n,entityMap:i}}(t,e)}},function(t,e,n){"use strict";var r=n(605),i=n(164).strlen;t.exports=function(t,e){var n=[];return t.findEntityRanges((function(t){return!!t.getEntity()}),(function(o,a){var s=t.getText(),u=t.getEntityAt(o);n.push({offset:i(s.slice(0,o)),length:i(s.slice(o,a)),key:Number(e[r.stringify(u)])})})),n}},function(t,e,n){"use strict";var r=n(164),i=n(229),o=function(t,e){return t===e},a=function(t){return!!t},s=[];t.exports=function(t){var e=t.getCharacterList().map((function(t){return t.getStyle()})).toList(),n=e.flatten().toSet().map((function(n){return function(t,e,n){var s=[],u=e.map((function(t){return t.has(n)})).toList();return i(u,o,a,(function(e,i){var o=t.getText();s.push({offset:r.strlen(o.slice(0,e)),length:r.strlen(o.slice(e,i)),style:n})})),s}(t,e,n)}));return Array.prototype.concat.apply(s,n.toJS())}},function(t,e,n){"use strict";function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(161),a=n(90),s=n(391),u=n(283),c=n(1125),l=(n(1126),n(284)),f=n(1127),h=n(1128),p=n(1129),d=n(110),y=n(138),v=n(44),g=n(45),m=y("draft_tree_data_support"),b=v.List,_=v.Map,x=v.OrderedMap,w=function(t,e){var n=t.key,r=t.type,i=t.data;return{text:t.text,depth:t.depth||0,type:r||"unstyled",key:n||d(),data:_(i),characterList:E(t,e)}},E=function(t,e){var n=t.text,i=t.entityRanges,o=t.inlineStyleRanges,a=i||[];return f(p(n,o||[]),h(n,a.filter((function(t){return e.hasOwnProperty(t.key)})).map((function(t){return r({},t,{key:e[t.key]})}))))},S=function(t){return r({},t,{key:t.key||d()})},k=function(t,e,n){var i=e.map((function(t){return r({},t,{parentRef:n})}));return t.concat(i.reverse())},O=function(t,e){var n=t.blocks.find((function(t){return Array.isArray(t.children)&&t.children.length>0})),i=m&&!n?c.fromRawStateToRawTreeState(t).blocks:t.blocks;return m?function(t,e){return t.map(S).reduce((function(n,i,o){Array.isArray(i.children)||g(!1);var s=i.children.map(S),u=new a(r({},w(i,e),{prevSibling:0===o?null:t[o-1].key,nextSibling:o===t.length-1?null:t[o+1].key,children:b(s.map((function(t){return t.key})))}));n=n.set(u.getKey(),u);for(var c=k([],s,u);c.length>0;){var l=c.pop(),f=l.parentRef,h=f.getChildKeys(),p=h.indexOf(l.key),d=Array.isArray(l.children);if(!d){d||g(!1);break}var y=l.children.map(S),v=new a(r({},w(l,e),{parent:f.getKey(),children:b(y.map((function(t){return t.key}))),prevSibling:0===p?null:h.get(p-1),nextSibling:p===h.size-1?null:h.get(p+1)}));n=n.set(v.getKey(),v),c=k(c,y,v)}return n}),x())}(i,e):function(t,e){return x(t.map((function(t){var n=new o(w(t,e));return[n.getKey(),n]})))}(n?c.fromRawTreeStateToRawState(t).blocks:i,e)};t.exports=function(t){Array.isArray(t.blocks)||g(!1);var e=function(t){var e=t.entityMap,n={};return Object.keys(e).forEach((function(t){var r=e[t],i=r.type,o=r.mutability,a=r.data;n[t]=u.__create(i,o,a||{})})),n}(t),n=O(t,e),r=n.isEmpty()?new l:l.createEmpty(n.first().getKey());return new s({blockMap:n,entityMap:e,selectionBefore:r,selectionAfter:r})}},function(t,e,n){"use strict";function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=n(110),a=n(45),s=function(t){if(!t||!t.type)return!1;var e=t.type;return"unordered-list-item"===e||"ordered-list-item"===e},u={fromRawTreeStateToRawState:function(t){var e=t.blocks,n=[];return Array.isArray(e)||a(!1),Array.isArray(e)&&e.length?(function(t,e){for(var n=[].concat(t).reverse();n.length;){var r=n.pop();e(r);var i=r.children;Array.isArray(i)||a(!1),n=n.concat([].concat(i.reverse()))}}(e,(function(t){var e=r({},t);s(t)&&(e.depth=e.depth||0,function(t){Array.isArray(t.children)&&(t.children=t.children.map((function(e){return e.type===t.type?r({},e,{depth:(t.depth||0)+1}):e})))}(t),null!=t.children&&t.children.length>0)||(delete e.children,n.push(e))})),t.blocks=n,r({},t,{blocks:n})):t},fromRawStateToRawTreeState:function(t){var e=[],n=[];return t.blocks.forEach((function(t){var i=s(t),a=t.depth||0,u=r({},t,{children:[]});if(i){var c=n[0];if(null==c&&0===a)e.push(u);else if(null==c||c.depth<a-1){var l={key:o(),text:"",depth:a-1,type:t.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(l),1===a?e.push(l):null!=c&&c.children.push(l),l.children.push(u)}else if(c.depth===a-1)c.children.push(u);else{for(;null!=c&&c.depth>=a;)n.shift(),c=n[0];a>0?c.children.push(u):e.push(u)}}else e.push(u)})),r({},t,{blocks:e})}};t.exports=u},function(t,e,n){"use strict";n(398);var r={isValidBlock:function(t,e){var n=t.getKey(),r=t.getParentKey();if(null!=r&&!e.get(r).getChildKeys().includes(n))return!1;if(!t.getChildKeys().map((function(t){return e.get(t)})).every((function(t){return t.getParentKey()===n})))return!1;var i=t.getPrevSiblingKey();if(null!=i&&e.get(i).getNextSiblingKey()!==n)return!1;var o=t.getNextSiblingKey();if(null!=o&&e.get(o).getPrevSiblingKey()!==n)return!1;return(null===o||null===i||i!==o)&&!(""!=t.text&&t.getChildKeys().size>0)},isConnectedTree:function(t){var e=t.toArray().filter((function(t){return null==t.getParentKey()&&null==t.getPrevSiblingKey()}));if(1!==e.length)return!1;for(var n=0,r=e.shift().getKey(),i=[];null!=r;){var o=t.get(r),a=o.getChildKeys(),s=o.getNextSiblingKey();if(a.size>0){null!=s&&i.unshift(s);var u=a.map((function(e){return t.get(e)})).find((function(t){return null==t.getPrevSiblingKey()}));if(null==u)return!1;r=u.getKey()}else r=null!=o.getNextSiblingKey()?o.getNextSiblingKey():i.shift();n++}return n===t.size},isValidTree:function(t){var e=this;return!!t.toArray().every((function(n){return e.isValidBlock(n,t)}))&&this.isConnectedTree(t)}};t.exports=r},function(t,e,n){"use strict";var r=n(89),i=n(44).List;t.exports=function(t,e){var n=t.map((function(t,n){var i=e[n];return r.create({style:t,entity:i})}));return i(n)}},function(t,e,n){"use strict";var r=n(164).substr;t.exports=function(t,e){var n=Array(t.length).fill(null);return e&&e.forEach((function(e){for(var i=r(t,0,e.offset).length,o=i+r(t,e.offset,e.length).length,a=i;a<o;a++)n[a]=e.key})),n}},function(t,e,n){"use strict";var r=n(164),i=n(44).OrderedSet,o=r.substr,a=i();t.exports=function(t,e){var n=Array(t.length).fill(a);return e&&e.forEach((function(e){for(var r=o(t,0,e.offset).length,i=r+o(t,e.offset,e.length).length;r<i;)n[r]=n[r].add(e.style),r++})),n}},function(t,e,n){"use strict";var r=n(1131);t.exports=function(t){var e=t.getSelection();if(!e.rangeCount)return null;var n=e.getRangeAt(0),i=r(n),o=i.top,a=i.right,s=i.bottom,u=i.left;return 0===o&&0===a&&0===s&&0===u?null:i}},function(t,e,n){"use strict";var r=n(598);t.exports=function(t){var e=r(t),n=0,i=0,o=0,a=0;if(e.length){if(e.length>1&&0===e[0].width){var s=e[1];n=s.top,i=s.right,o=s.bottom,a=s.left}else{var u=e[0];n=u.top,i=u.right,o=u.bottom,a=u.left}for(var c=1;c<e.length;c++){var l=e[c];0!==l.height&&0!==l.width&&(n=Math.min(n,l.top),i=Math.max(i,l.right),o=Math.max(o,l.bottom),a=Math.min(a,l.left))}}return{top:n,right:i,bottom:o,left:a,width:i-a,height:o-n}}},function(t,e,n){"use strict";t.exports=function(t){var e={};e.src_Any=n(1133).source,e.src_Cc=n(1134).source,e.src_Z=n(1135).source,e.src_P=n(1136).source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");return e.src_pseudo_letter="(?:(?![><\uff5c]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><\uff5c]|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+"[><\uff5c]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!+(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+e.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+e.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},function(t,e){t.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(t,e){t.exports=/[\0-\x1F\x7F-\x9F]/},function(t,e){t.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(t,e){t.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=x(n(1138)),i=x(n(1139)),o=x(n(1140)),a=x(n(1141)),s=x(n(1142)),u=x(n(1143)),c=x(n(1144)),l=x(n(1145)),f=x(n(1146)),h=x(n(1147)),p=x(n(1148)),d=x(n(1149)),y=x(n(1150)),v=x(n(1151)),g=x(n(1152)),m=x(n(1154)),b=x(n(1155)),_=x(n(1156));function x(t){return t&&t.__esModule?t:{default:t}}var w={"ams-login":r.default,"ams-logout":i.default,"ams-project-management":o.default,"ams-signup":a.default,"ams-reset-password":s.default,"ams-verify-request":u.default,"ams-profile":c.default,"ams-verify-email":l.default,"ams-set-password":f.default,"ams-accept-invite":h.default,"ams-directory":p.default,"ams-update-password":d.default,"ams-requests":y.default,"ams-send-invite":v.default,"ams-user-search":g.default,"ams-assign-to-project":m.default,"ams-create-group":b.default,"ams-groups-in-project":_.default};e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(1)),i=n(46),o=n(11),a=s(n(123));function s(t){return t&&t.__esModule?t:{default:t}}var u=(0,s(n(608)).default)((function(t){var e=t.email,n=t.password,s=t.update,u=t.canSubmit,c=t.handleSubmit;return r.default.createElement("div",{className:"h-full flex-1 flex items-center justify-center"},r.default.createElement(a.default,{title:"Login"},r.default.createElement("form",{onSubmit:c},r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"email",className:"block font-bold"},"Email"),r.default.createElement(o.Input,{type:"email",id:"email",required:!0,autoFocus:!0,value:e,onChange:function(t){return s({email:t})},placeholder:"Enter email..."})),r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"password",className:"block font-bold"},"Password"),r.default.createElement(o.Input,{type:"password",id:"password",required:!0,value:n,onChange:function(t){return s({password:t})},placeholder:"Enter password..."})),r.default.createElement("div",{className:"my-2"},r.default.createElement(o.Button,{disabled:!u,type:"submit",buttonTheme:"buttonPrimaryLargeBlock"},"login"))),r.default.createElement("div",{className:"text-sm flex"},r.default.createElement("div",{className:"flex-1"},r.default.createElement(i.Link,{to:"/auth/signup"},"signup!")),r.default.createElement("div",{className:"flex-0"},r.default.createElement(i.Link,{to:"/auth/reset-password"},"forgot password?")))))}));e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(1)),i=n(46);function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,o(n(609)).default)((function(t){var e=t.logout,n=t.redirectTo;return r.default.useEffect((function(){e()}),[e]),r.default.createElement(i.Redirect,{to:n})}));e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};var o={type:function(t){var e=t.children,n=t.className,r=void 0===n?"mt-16":n;return i.default.createElement("div",{className:r},i.default.createElement("div",{className:"py-20"},e))},wrappers:["ams-project-management"],children:[{type:"ams-requests"},{type:"ams-send-invite"},{type:"ams-user-search"},{type:"ams-assign-to-project"},{type:"ams-create-group"},{type:"ams-groups-in-project"}]};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(1)),i=n(46),o=n(11),a=s(n(123));function s(t){return t&&t.__esModule?t:{default:t}}var u=(0,s(n(610)).default)((function(t){var e=t.email,n=t.verify,s=t.update,u=t.canSubmit,c=t.handleSubmit;return r.default.createElement("div",{className:"h-full flex-1 flex items-center justify-center"},r.default.createElement(a.default,{title:"Signup"},r.default.createElement("form",{onSubmit:c},r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"email",className:"block font-bold"},"Email"),r.default.createElement(o.Input,{type:"email",id:"email",required:!0,autoFocus:!0,value:e,onChange:function(t){return s({email:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"verify",className:"block font-bold"},"Verify Email"),r.default.createElement(o.Input,{type:"email",id:"verify",required:!0,value:n,onChange:function(t){return s({verify:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement(o.Button,{disabled:!u,type:"submit",buttonTheme:"buttonPrimaryLargeBlock"},"signup"))),r.default.createElement("div",{className:"text-sm flex"},r.default.createElement("div",{className:"flex-1"},r.default.createElement(i.Link,{to:"/auth/login"},"login")))))}));e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(1)),i=n(46),o=n(11),a=s(n(123));function s(t){return t&&t.__esModule?t:{default:t}}var u=(0,s(n(611)).default)((function(t){var e=t.email,n=t.verify,s=t.update,u=t.canSubmit,c=t.handleSubmit;return r.default.createElement("div",{className:"h-full flex-1 flex items-center justify-center"},r.default.createElement(a.default,{title:"Reset Password"},r.default.createElement("form",{onSubmit:c},r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"email",className:"block font-bold"},"Email"),r.default.createElement(o.Input,{type:"email",id:"email",required:!0,autoFocus:!0,value:e,onChange:function(t){return s({email:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"verify",className:"block font-bold"},"Verify Email"),r.default.createElement(o.Input,{type:"email",id:"verify",required:!0,value:n,onChange:function(t){return s({verify:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement(o.Button,{disabled:!u,type:"submit",buttonTheme:"buttonPrimaryLargeBlock"},"submit"))),r.default.createElement("div",{className:"text-sm flex"},r.default.createElement("div",{className:"flex-1"},r.default.createElement(i.Link,{to:"/auth/login"},"login")))))}));e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(1)),i=n(11),o=a(n(123));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var u=(0,a(n(612)).default)((function(t){var e=t.password,n=t.verify,a=t.update,u=t.canSubmit,c=t.handleSubmit;s(t,["password","verify","update","canSubmit","handleSubmit"]);return r.default.createElement("div",{className:"h-full flex-1 flex items-center justify-center"},r.default.createElement(o.default,{title:"Verify Request"},r.default.createElement("form",{onSubmit:c},r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"password",className:"block font-bold"},"Password"),r.default.createElement(i.Input,{type:"password",id:"password",required:!0,autoFocus:!0,value:e,onChange:function(t){return a({password:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"verify",className:"block font-bold"},"Verify Password"),r.default.createElement(i.Input,{type:"password",id:"verify",required:!0,value:n,onChange:function(t){return a({verify:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement(i.Button,{disabled:!u,type:"submit",buttonTheme:"buttonPrimaryLargeBlock"},"verify")))))}));e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var a={type:function(t){var e=t.user,n=t.className,r=void 0===n?"mt-16":n,a=t.children;o(t,["user","className","children"]);return i.default.createElement("div",{className:r},i.default.createElement("div",{className:"p-20"},i.default.createElement("div",{className:"font-bold text-xl text-center"},"Welcome: ",e.email),i.default.createElement("div",{className:"mt-4"},a)))},wrappers:["ams-profile"],children:[{type:"ams-update-password"}]};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(1)),i=o(n(123));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var s=(0,o(n(613)).default)((function(t){var e=t.verified;a(t,["verified"]);return r.default.createElement("div",{className:"h-full flex-1 flex items-center justify-center"},r.default.createElement(i.default,null,"waiting"===e?"Verifying Email...":"failed"===e?"Email verification failed.":"Email verification succeeded."))}));e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(1)),i=n(11),o=a(n(123));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,a(n(614)).default)((function(t){var e=t.password,n=t.verify,a=t.update,s=t.canSubmit,u=t.handleSubmit;return r.default.createElement("div",{className:"h-full flex-1 flex items-center justify-center"},r.default.createElement(o.default,{title:"Set Password"},r.default.createElement("form",{onSubmit:u},r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"password",className:"block font-bold"},"New Password"),r.default.createElement(i.Input,{type:"password",id:"password",value:e,autoFocus:!0,onChange:function(t){return a({password:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"verify",className:"block font-bold"},"Verify Password"),r.default.createElement(i.Input,{type:"password",id:"verify",value:n,onChange:function(t){return a({verify:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement(i.Button,{type:"submit",buttonTheme:"buttonLargePrimaryBlock",disabled:!s},"update")))))}));e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(1)),i=n(11),o=a(n(123));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,a(n(615)).default)((function(t){var e=t.password,n=t.verify,a=t.update,s=t.canSubmit,u=t.handleSubmit;return r.default.createElement("div",{className:"h-full flex-1 flex items-center justify-center"},r.default.createElement(o.default,{title:"Accept Invite"},r.default.createElement("form",{onSubmit:u},r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"password",className:"block font-bold"},"Password"),r.default.createElement(i.Input,{type:"password",id:"password",value:e,autoFocus:!0,onChange:function(t){return a({password:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"verify",className:"block font-bold"},"Verify Password"),r.default.createElement(i.Input,{type:"password",id:"verify",value:n,onChange:function(t){return a({verify:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement(i.Button,{type:"submit",buttonTheme:"buttonLargePrimaryBlock",disabled:!s},"accept")))))}));e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n(1)),i=n(46),o=n(11),a=u(n(616)),s=u(n(5));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var l=(0,a.default)((function(t){var e=t.path,n=t.children,a=t.user,u=t.className,l=void 0===u?"mt-16":u,f=(c(t,["path","children","user","className"]),(0,o.useTheme)());return r.default.createElement("div",{className:l},r.default.createElement("div",{className:"py-20"},r.default.createElement("div",{className:"inline-block"},r.default.Children.toArray(n).reduce((function(t,n){var o=(0,s.default)(n,["props","showInDirectory"],!0),u=(0,s.default)(n,["props","showIfLoggedIn"],!0),c=(0,s.default)(n,["props","amsAction"]);if(c){var l=(0,s.default)(n,["props","authLevel"],-1);a.authLevel>=l&&o&&(!a.authed||a.authed&&u)?t.push(r.default.createElement(i.Link,{key:n.props.amsAction,to:"".concat(e,"/").concat(n.props.amsAction)},r.default.createElement("div",{className:"py-1 px-2 rounded hover:".concat(f.accent1)},n.props.amsAction))):t.push(r.default.createElement("div",{key:n.props.amsAction,className:"py-1 px-2 cursor-not-allowed line-through rounded hover:".concat(f.accent1)},n.props.amsAction))}else c||t.push(n);return t}),[]))))}));e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(1)),i=n(11),o=a(n(123));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,a(n(617)).default)((function(t){var e=t.current,n=t.password,a=t.verify,s=t.update,u=t.canSubmit,c=t.handleSubmit;return r.default.createElement(o.default,{title:"Update Password"},r.default.createElement("form",{onSubmit:c},r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"current",className:"block font-bold"},"Current Password"),r.default.createElement(i.Input,{type:"password",id:"current",value:e,autoFocus:!0,onChange:function(t){return s({current:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"password",className:"block font-bold"},"New Password"),r.default.createElement(i.Input,{type:"password",id:"password",value:n,onChange:function(t){return s({password:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement("label",{htmlFor:"verify",className:"block font-bold"},"Verify Password"),r.default.createElement(i.Input,{type:"password",id:"verify",value:a,onChange:function(t){return s({verify:t})}})),r.default.createElement("div",{className:"my-2"},r.default.createElement(i.Button,{type:"submit",buttonTheme:"buttonLargePrimaryBlock",disabled:!u},"update"))))}));e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(1)),i=n(11),o=a(n(618));function a(t){return t&&t.__esModule?t:{default:t}}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f=function(){return r.default.createElement("div",{className:"grid grid-cols-12 gap-3 font-bold"},r.default.createElement("div",{className:"col-span-3 border-b-2"},"Pending Requests"),r.default.createElement("div",{className:"col-span-2 border-b-2 text-center"},"Age"),r.default.createElement("div",{className:"col-span-5 border-b-2 text-center"},"Accept Request"),r.default.createElement("div",{className:"col-span-2 border-b-2 text-center"},"Reject Request"))},h=function(t){var e=t.request,n=t.groups,o=t.signupAccept,a=t.signupReject,s=(l(t,["request","groups","signupAccept","signupReject"]),((Date.now()-new Date(e.created_at).valueOf())/36e5).toFixed(1)),c=u(r.default.useState(null),2),f=c[0],h=c[1],p=f&&"pending"===e.state,d=r.default.useCallback((function(t){t.preventDefault(),o(e.user_email,f.name),h(null)}),[o,e,f]);return r.default.createElement("div",{className:"grid grid-cols-12 gap-3 my-1 flex items-center"},r.default.createElement("div",{className:"col-span-3"},e.user_email),r.default.createElement("div",{className:"col-span-2 text-center"},s," hrs"),r.default.createElement("div",{className:"col-span-5"},r.default.createElement("form",{onSubmit:d},r.default.createElement("div",{className:"grid grid-cols-5 gap-1"},r.default.createElement("div",{className:"col-span-3"},r.default.createElement(i.Select,{multi:!1,domain:n,accessor:function(t){return t.name},value:f,onChange:h,placeholder:"Select a group..."})),r.default.createElement("div",{className:"col-span-2"},r.default.createElement(i.Button,{type:"submit",block:!0,disabled:!p},"accept"))))),r.default.createElement("div",{className:"col-span-2 text-center"},r.default.createElement(i.Button,{buttonTheme:"buttonDanger",showConfirm:!0,onClick:function(t){return a(e)}},"reject")))},p=function(t){var e=t.requests,n=l(t,["requests"]);return e.length?r.default.createElement("div",{className:"py-1"},r.default.createElement(f,null),e.map((function(t){return r.default.createElement(h,s({key:t.user_email,request:t},n))}))):null},d=function(){return r.default.createElement("div",{className:"grid grid-cols-12 gap-3 font-bold"},r.default.createElement("div",{className:"col-span-3 border-b-2"},"Awaiting Requests"),r.default.createElement("div",{className:"col-span-2 border-b-2 text-center"},"Age"),r.default.createElement("div",{className:"col-span-2 border-b-2 text-center"},"Reject Request"))},y=function(t){var e=t.request,n=t.signupReject,o=(l(t,["request","signupReject"]),((Date.now()-new Date(e.created_at).valueOf())/36e5).toFixed(1));return r.default.createElement("div",{className:"grid grid-cols-12 gap-3 my-1 flex items-center"},r.default.createElement("div",{className:"col-span-3"},e.user_email),r.default.createElement("div",{className:"col-span-2 text-center"},o," hrs"),r.default.createElement("div",{className:"col-span-2 text-center"},r.default.createElement(i.Button,{buttonTheme:"buttonDanger",showConfirm:!0,onClick:function(t){return n(e)}},"reject")))},v=function(t){var e=t.requests,n=l(t,["requests"]);return e.length?r.default.createElement("div",{className:"py-1"},r.default.createElement(d,null),e.map((function(t){return r.default.createElement(y,s({key:t.user_email,request:t},n))}))):null},g=function(){return r.default.createElement("div",{className:"grid grid-cols-12 gap-3 font-bold"},r.default.createElement("div",{className:"col-span-3 border-b-2"},"Rejected Requests"),r.default.createElement("div",{className:"col-span-5 border-b-2 text-center"},"Accept Request"),r.default.createElement("div",{className:"col-span-2 border-b-2 text-center"},"Delete Request"))},m=function(t){var e=t.request,n=t.groups,o=t.signupAccept,a=t.deleteRequest,s=(l(t,["request","groups","signupAccept","deleteRequest"]),u(r.default.useState(null),2)),c=s[0],f=s[1],h=c&&"rejected"===e.state,p=r.default.useCallback((function(t){t.preventDefault(),o(e.user_email,c.name),f(null)}),[o,e,c]);return r.default.createElement("div",{className:"grid grid-cols-12 gap-3 my-1 flex items-center"},r.default.createElement("div",{className:"col-span-3"},e.user_email),r.default.createElement("div",{className:"col-span-5"},r.default.createElement("form",{onSubmit:p},r.default.createElement("div",{className:"grid grid-cols-5 gap-1"},r.default.createElement("div",{className:"col-span-3"},r.default.createElement(i.Select,{multi:!1,domain:n,accessor:function(t){return t.name},value:c,onChange:f,placeholder:"Select a group..."})),r.default.createElement("div",{className:"col-span-2"},r.default.createElement(i.Button,{type:"submit",block:!0,disabled:!h},"accept"))))),r.default.createElement("div",{className:"col-span-2 text-center"},r.default.createElement(i.Button,{buttonTheme:"buttonDanger",showConfirm:!0,onClick:function(t){return a(e)}},"delete")))},b=function(t){var e=t.requests,n=l(t,["requests"]);return e.length?r.default.createElement("div",{className:"py-1"},r.default.createElement(g,null),e.map((function(t){return r.default.createElement(m,s({key:t.user_email,request:t},n))}))):null},_=(0,o.default)((function(t){var e=t.pending,n=t.awaiting,o=t.rejected,a=l(t,["pending","awaiting","rejected"]),c=u(r.default.useState(!1),2),f=c[0],h=c[1],d=r.default.useCallback((function(t){return t.stopPropagation()}),[]),y=(0,i.useTheme)();return r.default.createElement("div",{className:"\n        mb-5 py-2 px-4 border-2 rounded\n        ".concat(f?y.accent1:"cursor-pointer","\n      "),style:{borderColor:"currentColor"},onClick:function(t){d(t),h(!0)}},r.default.createElement("div",{onClick:function(t){d(t),h(!f)},className:"\n          border-b-2 cursor-pointer\n          ".concat(f?"border-current":"border-transparent","\n        ")},r.default.createElement("span",{className:"fa fa-".concat(f?"minus":"plus")}),r.default.createElement("span",{className:"font-bold text-xl ml-2"},"Requests")),f?r.default.createElement(r.default.Fragment,null,r.default.createElement(p,s({requests:e},a)),r.default.createElement(v,s({requests:n},a)),r.default.createElement(b,s({requests:o},a))):null)}));e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(1)),i=n(11),o=a(n(232));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,a(n(619)).default)((function(t){var e=t.email,n=t.verify,a=t.group,s=t.update,u=t.canSubmit,c=t.handleSubmit,l=t.groups;return r.default.createElement(o.default,null,r.default.createElement("div",{className:"grid grid-cols-10 gap-1 font-bold border-b-2 mb-1"},r.default.createElement("div",{className:"col-span-3 text-xl"},"Send Invite"),r.default.createElement("div",{className:"col-span-3 flex items-end"},"Verify Email"),r.default.createElement("div",{className:"col-span-3 flex items-end"},"Assign to Group"),r.default.createElement("div",{className:"col-span-1 flex items-end"})),r.default.createElement("form",{onSubmit:c},r.default.createElement("div",{className:"grid grid-cols-10 gap-1 mb-2"},r.default.createElement("div",{className:"col-span-3"},r.default.createElement(i.Input,{placeholder:"Enter user email...",type:"email",onChange:function(t){return s({email:t})},value:e})),r.default.createElement("div",{className:"col-span-3"},r.default.createElement(i.Input,{placeholder:"Verify user email...",type:"email",onChange:function(t){return s({verify:t})},value:n})),r.default.createElement("div",{className:"col-span-3"},r.default.createElement(i.Select,{domain:l,multi:!1,accessor:function(t){return t.name},placeholder:"Select a group...",listAccessor:function(t){return"".concat(t.name," (auth level ").concat(t.authLevel,")")},onChange:function(t){return s({group:t})},value:a})),r.default.createElement("div",{className:"col-span-1"},r.default.createElement(i.Button,{block:!0,type:"submit",disabled:!u},"send")))))}));e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(1)),i=n(11),o=s(n(232)),a=s(n(1153));function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var h=function(){return r.default.createElement("div",{className:"grid grid-cols-15 py-1 gap-3 font-bold"},r.default.createElement("div",{className:"col-span-5 border-b-2"},"User Email"),r.default.createElement("div",{className:"col-span-4 text-center border-b-2"},"Add to Group"),r.default.createElement("div",{className:"col-span-4 text-center border-b-2"},"Remove from Group"),r.default.createElement("div",{className:"col-span-2 text-center border-b-2"},"Delete User"))},p=function(t){var e=t.user,n=t.groups,o=t.assignToGroup,a=t.removeFromGroup,s=t.deleteUser,u=(f(t,["user","groups","assignToGroup","removeFromGroup","deleteUser"]),c(r.default.useState(""),2)),l=u[0],h=u[1],p=c(r.default.useState(""),2),d=p[0],y=p[1];n.sort((function(t,e){return t.authLevel===e.authLevel?t.name<e.name?-1:t.name>e.name?1:0:t.authLevel-e.authLevel}));var v=n.reduce((function(t,n){var r=c(t,2),i=r[0],o=r[1];return e.groups.includes(n.name)?i.push(n):o.push(n),[i,o]}),[[],[]]),g=c(v,2),m=g[0],b=g[1],_=r.default.useCallback((function(t){o(e.email,l.name),h("")}),[o,e,l]),x=r.default.useCallback((function(t){a(e.email,d.name),y("")}),[a,e,d]);return r.default.createElement("div",{className:"grid grid-cols-15 py-1 gap-3"},r.default.createElement("div",{className:"col-span-5 whitespace-nowrap overflow-hidden flex items-center"},e.email),r.default.createElement("div",{className:"col-span-4"},r.default.createElement("div",{className:"grid grid-cols-12 gap-1"},r.default.createElement("div",{className:"col-span-8"},r.default.createElement(i.Select,{multi:!1,placeholder:"Select a group...",options:b,accessor:function(t){return t.name},listAccessor:function(t){return"".concat(t.name," (auth level ").concat(t.authLevel,")")},value:l,onChange:h})),r.default.createElement("div",{className:"col-span-4"},r.default.createElement(i.Button,{block:!0,disabled:!l,onClick:_},"add")))),r.default.createElement("div",{className:"col-span-4"},r.default.createElement("div",{className:"grid grid-cols-12 gap-1"},r.default.createElement("div",{className:"col-span-8"},r.default.createElement(i.Select,{multi:!1,placeholder:"Select a group...",options:m,accessor:function(t){return t.name},value:d,onChange:y})),r.default.createElement("div",{className:"col-span-4"},r.default.createElement(i.Button,{block:!0,disabled:!d,onClick:x},"remove")))),r.default.createElement("div",{className:"col-span-2 flex justify-center"},r.default.createElement(i.Button,{buttonTheme:"buttonDanger",showConfirm:!0,onClick:function(t){return s(e.email)}},"delete")))},d=(0,a.default)((function(t){var e=t.search,n=t.setSearch,a=t.adjustAmount,s=t.matches,c=t.remaining,l=f(t,["search","setSearch","adjustAmount","matches","remaining"]);return r.default.createElement(o.default,null,r.default.createElement("div",{className:"grid grid-cols-2 gap-x-3 gap-y-2"},r.default.createElement("div",{className:"col-span-1"},r.default.createElement(i.Input,{placeholder:"Search for a user...",showClear:!0,value:e,onChange:n})),r.default.createElement("div",{className:"col-span-1"},e?r.default.createElement("div",{className:"flex justify-center"},r.default.createElement(i.Button,{className:"mx-1",disabled:s.length<=5,onClick:function(t){return a(-5)}},"Show Less"),r.default.createElement(i.Button,{className:"mx-1",disabled:!c,onClick:function(t){return a(5)}},"Show More")):null),e?r.default.createElement("div",{className:"col-span-2"},r.default.createElement(h,null),s.map((function(t){return r.default.createElement(p,u({key:t.email},l,{user:t}))}))):null),e&&c?r.default.createElement("div",{className:"py-1"},"Plus ",c," others..."):null)}));e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(221);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(d,e);var n,r,a,h=f(d);function d(){var t;u(this,d);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return y(p(t=h.call.apply(h,[this].concat(n))),"state",{search:"",amount:5}),t}return n=d,(r=[{key:"adjustAmount",value:function(t,e){var n=this.state.amount;(t<0&&n>5||t>0&&n<e)&&this.setState({amount:n+t})}},{key:"render",value:function(){var e=this,n=(0,o.matchSorter)(this.props.users,this.state.search,{keys:["email"]}),r=Math.max(0,n.length-this.state.amount);return i.default.createElement(t,s({},this.props,this.state,{setSearch:function(t){return e.setState({search:t})},adjustAmount:function(t){return e.adjustAmount(t,n.length)},matches:this.state.search?n.slice(0,this.state.amount):[],remaining:r}))}}])&&c(n.prototype,r),a&&c(n,a),d}(i.default.Component),y(e,"defaultProps",{amsAction:"user-search",authLevel:5}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(1)),i=n(11),o=a(n(232));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,a(n(620)).default)((function(t){var e=t.groups,n=t.user,a=t.group,s=t.authLevel,u=t.update,c=t.canSubmit,l=t.handleSubmit;return r.default.createElement(o.default,{className:"max-w-2xl pb-4"},r.default.createElement("div",{className:"border-b-2 mb-1"},r.default.createElement("div",{className:"grid grid-cols-4 gap-1"},r.default.createElement("div",{className:"col-span-2 font-bold"},"Assign to Project"),r.default.createElement("div",{className:"col-span-1"},"Authority Level"))),r.default.createElement("form",{onSubmit:l},r.default.createElement("div",{className:"grid grid-cols-4 gap-1"},r.default.createElement("div",{className:"col-span-2"},r.default.createElement(i.Select,{domain:e,accessor:function(t){return t.name},multi:!1,value:a,onChange:function(t){return u({group:t})},placeholder:"Select a group..."})),r.default.createElement("div",{className:"col-span-1"},r.default.createElement(i.Input,{type:"number",min:"0",max:n.authLevel,required:!0,value:s,onChange:function(t){return u({authLevel:t})}})),r.default.createElement("div",{className:"col-span-1 flex justify-center"},r.default.createElement(i.Button,{type:"submit",block:!0,disabled:!c},"assign")))))}));e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(1)),i=n(11),o=a(n(232));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,a(n(621)).default)((function(t){var e=t.user,n=t.group,a=t.authLevel,s=t.update,u=t.canSubmit,c=t.handleSubmit;return r.default.createElement(o.default,{className:"max-w-2xl pb-4"},r.default.createElement("div",{className:"border-b-2 mb-1"},r.default.createElement("div",{className:"grid grid-cols-4 gap-1"},r.default.createElement("div",{className:"col-span-2 font-bold"},"Create Group"),r.default.createElement("div",{className:"col-span-1"},"Authority Level"))),r.default.createElement("form",{onSubmit:c},r.default.createElement("div",{className:"grid grid-cols-4 gap-1"},r.default.createElement("div",{className:"col-span-2"},r.default.createElement(i.Input,{placeholder:"Enter group name...",required:!0,showClear:!0,value:n,onChange:function(t){return s({group:t})}})),r.default.createElement("div",{className:"col-span-1"},r.default.createElement(i.Input,{type:"number",min:"0",max:e.authLevel,required:!0,value:a,onChange:function(t){return s({authLevel:t})}})),r.default.createElement("div",{className:"col-span-1 flex justify-center"},r.default.createElement(i.Button,{type:"submit",block:!0,disabled:!u},"create")))))}));e.default=s},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=u(n(1)),o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(1157)),a=u(n(232));function s(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function u(t){return t&&t.__esModule?t:{default:t}}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f=(0,u(n(1159)).default)((function(t){var e=t.groups,n=t.groupSearch,r=t.setGroupSearch,s=l(t,["groups","groupSearch","setGroupSearch"]);return i.default.createElement(a.default,null,i.default.createElement(o.GroupHeader,{value:n,onChange:r}),e.map((function(t){return i.default.createElement(o.default,c({key:t.name},s,{group:t}))})))}));e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GroupHeader=void 0;var r=s(n(1)),i=n(11),o=s(n(1158)),a=s(n(5));function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}e.GroupHeader=function(t){var e=t.onChange,n=t.value;return r.default.createElement("div",{className:"grid grid-cols-12 gap-3 text-center font-bold mb-1"},r.default.createElement("div",{className:"col-span-4 text-left border-b-2 text-xl"},r.default.createElement("div",null,"Groups in Project"),r.default.createElement("div",{className:"mb-1"},r.default.createElement(i.Input,{small:!0,showClear:!0,placeholder:"Search groups...",value:n,onChange:e}))),r.default.createElement("div",{className:"col-span-3 border-b-2 flex justify-center items-end"},"Adjust Project Authority"),r.default.createElement("div",{className:"col-span-3 border-b-2 flex justify-center items-end"},"Remove from Project"),r.default.createElement("div",{className:"col-span-2 border-b-2 flex justify-center items-end"},"Delete Group"))};e.default=function(t){var e,n,s=t.group,l=t.project,h=t.adjustAuthLevel,p=t.deleteGroup,d=t.removeFromProject,y=f(t,["group","project","adjustAuthLevel","deleteGroup","removeFromProject"]),v=c(r.default.useState(!1),2),g=v[0],m=v[1],b=r.default.useCallback((function(){return m(!g)}),[g]),_=s.projects.reduce((function(t,e){return e.project_name===l?e:t}),{}),x=c(r.default.useState((0,a.default)(_,"auth_level",-1)),2),w=x[0],E=x[1],S=r.default.useCallback((function(t){t.preventDefault(),h(s.name,w)}),[h,s.name,w]),k=(0,i.useTheme)();return r.default.createElement("div",{className:"\n        mb-1 py-1 px-2 rounded ".concat(g?k.accent1:"")},r.default.createElement("div",{className:"grid grid-cols-12 gap-3"},r.default.createElement("div",{className:"col-span-4 flex items-center"},r.default.createElement("div",{className:"\n              px-2 py-1 mr-1 cursor-pointer rounded flex justify-center\n              hover:".concat(k.accent2," ").concat(k.transition,"\n            "),onClick:b},g?r.default.createElement("span",{className:"fa fa-minus"}):r.default.createElement("span",{className:"fa fa-plus"})),r.default.createElement("div",{className:"flex-1"},s.name)),r.default.createElement("div",{className:"col-span-3"},r.default.createElement("form",{onSubmit:S},r.default.createElement("div",{className:"grid grid-cols-12 gap-1 flex items-center"},r.default.createElement("div",{className:"col-span-6"},r.default.createElement(i.Input,{type:"number",min:"0",max:"10",required:!0,value:w,onChange:E})),r.default.createElement("div",{className:"col-span-6"},r.default.createElement(i.Button,{buttonTheme:"buttonBlock",type:"submit",disabled:(e=+_.auth_level,n=+w,!(!isNaN(n)&&e!==n&&n>=0&&n<=10))},"adjust"))))),r.default.createElement("div",{className:"col-span-3 flex justify-center"},r.default.createElement(i.Button,{showConfirm:!0,onClick:function(t){return d(s.name)}},"remove")),r.default.createElement("div",{className:"col-span-2 flex justify-center"},r.default.createElement(i.Button,{buttonTheme:"buttonDanger",showConfirm:!0,onClick:function(t){return p(s.name)}},"delete"))),g?r.default.createElement("div",{className:"mx-10 mt-2"},r.default.createElement(o.default,u({group:s},y))):null)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(11),a=n(221);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f=function(t){var e=t.value,n=t.onChange;l(t,["value","onChange"]);return i.default.createElement("div",{className:"grid grid-cols-9 font-bold gap-3"},i.default.createElement("div",{className:"col-span-4 border-b-2"},i.default.createElement("div",null,"User Email"),i.default.createElement("div",{className:"mb-1"},i.default.createElement(o.Input,{small:!0,showClear:!0,placeholder:"Searh users...",value:e,onChange:n}))),i.default.createElement("div",{className:"col-span-3 border-b-2 flex justify-center items-end"},"Remove from Group"),i.default.createElement("div",{className:"col-span-2 border-b-2 flex justify-center items-end"},"Delete User"))},h=function(t){var e=t.group,n=t.user,r=t.removeFromGroup,a=t.deleteUser;l(t,["group","user","removeFromGroup","deleteUser"]);return i.default.createElement("div",{className:"grid grid-cols-9 my-1"},i.default.createElement("div",{className:"col-span-4"},n.email),i.default.createElement("div",{className:"col-span-3 flex justify-center"},i.default.createElement(o.Button,{showConfirm:!0,onClick:function(t){return r(n.email,e.name)}},"remove")),i.default.createElement("div",{className:"col-span-2 flex justify-center"},i.default.createElement(o.Button,{showConfirm:!0,buttonTheme:"buttonDanger",onClick:function(t){return a(n.email)}},"delete")))},p=function(t){var e=t.group,n=t.user,r=t.assignToGroup;l(t,["group","user","assignToGroup"]);return i.default.createElement("div",{className:"grid grid-cols-12 mb-1 flex items-center"},i.default.createElement("div",{className:"col-span-8"},n.email),i.default.createElement("div",{className:"col-span-4"},i.default.createElement(o.Button,{onClick:function(t){return r(n.email,e.name)}},"add to group")))};e.default=function(t){var e=t.group,n=t.users,r=l(t,["group","users"]),c=u(i.default.useState(5),2),d=c[0],y=c[1],v=u(i.default.useState(""),2),g=v[0],m=v[1],b=u(i.default.useState(""),2),_=b[0],x=b[1],w=n.reduce((function(t,n){var r=u(t,2),i=r[0],o=r[1];return n.groups.includes(e.name)?i.push(n):o.push(n),[i,o]}),[[],[]]),E=u(w,2),S=E[0],k=E[1];S.sort((function(t,e){return t.email<e.email?-1:t.email>e.email?1:0}));var O=(0,a.matchSorter)(k,_,{keys:["email"]});return i.default.createElement("div",null,i.default.createElement("div",{className:"mb-5 grid grid-cols-3 gap-2"},i.default.createElement("div",{className:"col-span-1 relative"},i.default.createElement(o.Input,{value:_,onChange:x,placeholder:"Search for another user...",showClear:!0}),_&&O.length?i.default.createElement("div",{className:"absolute left-0 bottom-0 right-0"},O.length<=5?null:i.default.createElement("div",{className:"flex justify-center"},i.default.createElement(o.Button,{onClick:function(t){return y(d-5)},disabled:5===d,className:"mx-1"},"Show Less"),i.default.createElement(o.Button,{onClick:function(t){return y(d+5)},disabled:d>O.length,className:"mx-1"},"Show More"))):null),i.default.createElement("div",{className:"col-span-2"},_?i.default.createElement("div",null,O.length?null:i.default.createElement("div",{className:"pt-1"},"No users found..."),O.slice(0,d).map((function(t){return i.default.createElement(p,s({key:t.email,group:e,user:t},r))})),O.length<d?null:i.default.createElement("div",null,"Plus ",O.length-d," others...")):null)),i.default.createElement(f,{onChange:m,value:g}),(0,a.matchSorter)(S,g,{keys:["email"]}).map((function(t){return i.default.createElement(h,s({key:t.email,user:t,group:e},r),t.email)})))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(221);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(y,e);var n,r,a,p=h(y);function y(){var t;c(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(d(t=p.call.apply(p,[this].concat(n))),"state",{groupSearch:""}),t}return n=y,(r=[{key:"render",value:function(){var e=this,n=this.props,r=n.groups,a=u(n,["groups"]),c=this.state.groupSearch;return i.default.createElement(t,s({},a,this.state,{setGroupSearch:function(t){return e.setState({groupSearch:t})},groups:(0,o.matchSorter)(r,c,{keys:["name"]})}))}}])&&l(n.prototype,r),a&&l(n,a),y}(i.default.Component),v(e,"defaultProps",{amsAction:"groups-in-project",authLevel:5}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"amsManager",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"enableAuth",{enumerable:!0,get:function(){return E.enableAuth}}),Object.defineProperty(e,"useAuth",{enumerable:!0,get:function(){return E.useAuth}}),e.default=void 0;var r=S(n(1161)),i=S(n(622)),o=S(n(1163)),a=S(n(608)),s=S(n(609)),u=S(n(610)),c=S(n(1164)),l=S(n(611)),f=S(n(612)),h=S(n(1165)),p=S(n(614)),d=S(n(613)),y=S(n(615)),v=S(n(616)),g=S(n(617)),m=S(n(618)),b=S(n(619)),_=S(n(620)),x=S(n(621)),w=S(n(1166)),E=n(1167);function S(t){return t&&t.__esModule?t:{default:t}}var k={"ams-manager":r.default,"ams-redux":i.default,"ams-router":o.default,"ams-login":a.default,"ams-logout":s.default,"ams-signup":u.default,"ams-project-management":c.default,"ams-reset-password":l.default,"ams-verify-request":f.default,"ams-profile":h.default,"ams-set-password":p.default,"ams-verify-email":d.default,"ams-accept-invite":y.default,"ams-directory":v.default,"ams-update-password":g.default,"ams-requests":m.default,"ams-send-invite":b.default,"ams-assign-to-project":_.default,"ams-create-group":x.default,"with-ams-api":w.default};e.default=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n(1)),i=n(165),o=n(46),a=u(n(123)),s=u(n(5));function u(t){return t&&t.__esModule?t:{default:t}}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var v=function(){return r.default.createElement("div",{className:"h-screen flex items-center justify-center"},r.default.createElement(a.default,null,r.default.createElement("div",{className:"text-lg font-bold"},"OOPS!!! Something went awry!"),r.default.createElement("div",{className:"text-right"},r.default.createElement(o.Link,{to:"/auth"},"to directory"))))},g=function(){return r.default.createElement("div",{className:"h-screen flex items-center justify-center"},r.default.createElement(a.default,null,r.default.createElement("div",{className:"text-lg font-bold"},"OOPS!!! You do not have the authority!"),r.default.createElement("div",{className:"text-right"},r.default.createElement(o.Link,{to:"/auth"},"to directory"))))};e.default=function(t){return function(e){var n=e.params,a=void 0===n?{}:n,u=e.children,f=e.showHeaders,h=void 0===f||f,d=e.className,m=y(e,["params","children","showHeaders","className"]),b=a.action,_=(0,o.useLocation)(),x=-1,w=r.default.Children.toArray(u).filter((function(t){var e=t.props;return!("amsAction"in e)||e.amsAction===b})).map((function(t){return x=Math.max(x,(0,s.default)(t,["props","authLevel"],-1)),r.default.cloneElement(t,p(p(p({},m),a),{},{location:_,showHeaders:(0,s.default)(t,["props","showHeaders"],h),project:i.Config.PROJECT_NAME}))}));return b&&"directory"!==b?!m.user.authed&&x>-1?w=r.default.Children.toArray(u).filter((function(t){var e=t.props;return!("amsAction"in e)||"login"===e.amsAction})).map((function(t){return r.default.cloneElement(t,p(p(p({},m),a),{},{location:_,showHeaders:(0,s.default)(t,["props","showHeaders"],h),project:i.Config.PROJECT_NAME}))})):m.user.authed&&m.user.authLevel<x&&(w=[].concat(l(r.default.Children.toArray(u).filter((function(t){return!("amsAction"in t.props)})).map((function(t){return r.default.cloneElement(t,p(p(p({},m),a),{},{location:_,showHeaders:(0,s.default)(t,["props","showHeaders"],h),project:i.Config.PROJECT_NAME}))}))),[r.default.createElement(g,{key:"no-auth"})])):w=r.default.Children.toArray(u).filter((function(t){var e=t.props;return!("amsAction"in e)||"directory"===e.amsAction})).map((function(t){return r.default.cloneElement(t,p(p(p({},m),a),{},{location:_,showHeaders:(0,s.default)(t,["props","showHeaders"],h),children:u,project:i.Config.PROJECT_NAME}))})),w.length||(w=r.default.createElement(v,null)),r.default.createElement(t,c({},m,a,{className:d,showHeaders:h,project:i.Config.PROJECT_NAME}),w)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"login",{enumerable:!0,get:function(){return r.login}}),Object.defineProperty(e,"logout",{enumerable:!0,get:function(){return r.logout}}),Object.defineProperty(e,"auth",{enumerable:!0,get:function(){return r.auth}}),Object.defineProperty(e,"updatePassword",{enumerable:!0,get:function(){return r.updatePassword}}),Object.defineProperty(e,"setPassword",{enumerable:!0,get:function(){return r.setPassword}}),Object.defineProperty(e,"resetPassword",{enumerable:!0,get:function(){return r.resetPassword}}),Object.defineProperty(e,"getGroups",{enumerable:!0,get:function(){return i.getGroups}}),Object.defineProperty(e,"createGroup",{enumerable:!0,get:function(){return i.createGroup}}),Object.defineProperty(e,"deleteGroup",{enumerable:!0,get:function(){return i.deleteGroup}}),Object.defineProperty(e,"createAndAssign",{enumerable:!0,get:function(){return i.createAndAssign}}),Object.defineProperty(e,"assignToProject",{enumerable:!0,get:function(){return i.assignToProject}}),Object.defineProperty(e,"removeFromProject",{enumerable:!0,get:function(){return i.removeFromProject}}),Object.defineProperty(e,"adjustAuthLevel",{enumerable:!0,get:function(){return i.adjustAuthLevel}}),Object.defineProperty(e,"getUsers",{enumerable:!0,get:function(){return o.getUsers}}),Object.defineProperty(e,"usersForGroup",{enumerable:!0,get:function(){return o.usersForGroup}}),Object.defineProperty(e,"assignToGroup",{enumerable:!0,get:function(){return o.assignToGroup}}),Object.defineProperty(e,"removeFromGroup",{enumerable:!0,get:function(){return o.removeFromGroup}}),Object.defineProperty(e,"deleteUser",{enumerable:!0,get:function(){return o.deleteUser}}),Object.defineProperty(e,"getRequests",{enumerable:!0,get:function(){return a.getRequests}}),Object.defineProperty(e,"signup",{enumerable:!0,get:function(){return a.signup}}),Object.defineProperty(e,"signupAccept",{enumerable:!0,get:function(){return a.signupAccept}}),Object.defineProperty(e,"signupReject",{enumerable:!0,get:function(){return a.signupReject}}),Object.defineProperty(e,"verifyEmail",{enumerable:!0,get:function(){return a.verifyEmail}}),Object.defineProperty(e,"deleteRequest",{enumerable:!0,get:function(){return a.deleteRequest}}),Object.defineProperty(e,"sendInvite",{enumerable:!0,get:function(){return a.sendInvite}}),Object.defineProperty(e,"verifyRequest",{enumerable:!0,get:function(){return a.verifyRequest}}),Object.defineProperty(e,"acceptInvite",{enumerable:!0,get:function(){return a.acceptInvite}});var r=n(198),i=n(623),o=n(292),a=n(624)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(46);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var f=i.default.createContext({}),h=function(t){var e=t.Component,n=l(t,["Component"]);return i.default.createElement(e,a({},n,{params:u({},(0,o.useParams)())}))};e.default=function(t){return function(e){var n=a({},e),r=(0,o.useRouteMatch)().path,s="".concat(r,"/:action"),u="".concat(r,"/:action/:urlArg"),c=(0,o.useLocation)(),l=(0,o.useHistory)(),p=i.default.useMemo((function(){return{basePath:r,useRouter:!0,location:c,history:l}}),[r,c,l]);return i.default.createElement(f.Provider,{value:p},i.default.createElement(o.Switch,null,i.default.createElement(o.Route,{exact:!0,path:r},i.default.createElement(t,a({},n,p,{path:r}))),i.default.createElement(o.Route,{exact:!0,path:[s,u]},i.default.createElement(h,a({},n,p,{path:r,Component:t})))))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(l,e);var n,r,o,s=y(l);function l(){return h(this,l),s.apply(this,arguments)}return n=l,(r=[{key:"componentDidMount",value:function(){this.props.getGroups(),this.props.getUsers(),this.props.getRequests()}},{key:"render",value:function(){var e=this.props,n=e.groups,r=e.project,o=e.users,s=e.children,l=f(e,["groups","project","users","children"]),h=c(n.reduce((function(t,e){var n=e.projects.reduce((function(t,e){return e.project_name===r?+e.auth_level:t}),-1);return n>-1?(e.authLevel=n,t[0].push(e)):t[1].push(e),t}),[[],[]]),2),p=h[0],d=h[1],y=function(t,e){return t.name.toLowerCase()<e.name.toLowerCase()?-1:t.name.toLowerCase()>e.name.toLowerCase()?1:0};p.sort(y),d.sort(y);var v=c(o.reduce((function(t,e){return e.projects.reduce((function(t,e){return t||e.project_name===r}),!1)?t[0].push(e):t[1].push(e),t}),[[],[]]),2),g=v[0],m=v[1];return i.default.createElement(t,a({},l,{project:r,users:g,otherUsers:m,groups:p,otherGroups:d}),i.default.Children.toArray(s).map((function(t){return i.default.cloneElement(t,u(u({},l),{},{project:r,users:g,otherUsers:m,groups:p,otherGroups:d}))})))}}])&&p(n.prototype,r),o&&p(n,o),l}(i.default.Component),m(e,"defaultProps",{amsAction:"project-management",authLevel:5}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}e.default=function(t){var e,n;return n=e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(h,e);var n,r,o,f=l(h);function h(){return s(this,h),f.apply(this,arguments)}return n=h,(r=[{key:"render",value:function(){var e=this.props,n=e.children,r=a(e,["children"]);return i.default.createElement(t,r,i.default.Children.toArray(n).map((function(t){return i.default.cloneElement(t,r)})))}}])&&u(n.prototype,r),o&&u(n,o),h}(i.default.Component),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(e,"defaultProps",{amsAction:"profile",authLevel:0}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(1))&&r.__esModule?r:{default:r},o=n(622);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}e.default=function(t){return function(e){return i.default.createElement(t,a({},e,(0,o.useAmsApi)()))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enableAuth=e.useAuth=void 0;var r=c(n(1)),i=n(31),o=n(198),a=n(165),s=c(n(5)),u=n(625);function c(t){return t&&t.__esModule?t:{default:t}}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function f(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var h=r.default.createContext((0,u.defaultUserState)());e.useAuth=function(){return r.default.useContext(h)};e.enableAuth=function(t,e){(0,a.Config)(e);return(0,i.connect)((function(t){return{user:t.user}}),{auth:o.auth})((function(e){var n=e.auth,i=f(e,["auth"]);return r.default.useEffect((function(){n()}),[n]),r.default.createElement(h.Provider,{value:i.user},r.default.createElement(t,l({},i,{isAuthenticating:(0,s.default)(i,["user","isAuthenticating"],!1)})))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n(625)),i=u(n(1169)),o=u(n(1170)),a=u(n(1171)),s=u(n(1173));function u(t){return t&&t.__esModule?t:{default:t}}var c={user:r.default,groups:i.default,users:o.default,projects:a.default,requests:s.default};e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(623),i=[];e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.GET_GROUPS:return e.groups;default:return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(292),i=[];e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.GET_USERS:return e.users;default:return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(1172),i=[];e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.GET_PROJECTS:return e.projects;default:return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteProject=e.createProject=e.getProjects=e.GET_PROJECTS=void 0;var r=n(11),i=n(165);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s="AMS::GET_PROJECTS";e.GET_PROJECTS=s;var u=function(){return function(t,e){var n=e().user.token;if(!n)return Promise.resolve();(0,i.postJson)("".concat(i.Config.AUTH_HOST,"/projects"),{token:n}).then((function(e){e.error?t((0,r.sendSystemMessage)(e.error)):t(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:s},e))}))}};e.getProjects=u;e.createProject=function(t){return function(e,n){var o=n().user.token;if(!o)return Promise.resolve();(0,i.postJson)("".concat(i.Config.AUTH_HOST,"/project/create"),{token:o,name:t}).then((function(t){t.error?e((0,r.sendSystemMessage)(t.error)):(e((0,r.sendSystemMessage)(t.message)),e(u()))}))}};e.deleteProject=function(t){return function(e,n){var o=n().user.token;if(!o)return Promise.resolve();(0,i.postJson)("".concat(i.Config.AUTH_HOST,"/project/delete"),{token:o,name:t}).then((function(t){t.error?e((0,r.sendSystemMessage)(t.error)):(e((0,r.sendSystemMessage)(t.message)),e(u()))}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(624),i=[];e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.GET_REQUESTS:return e.requests;default:return t}}},,,function(t,e,n){"use strict";n.r(e),n.d(e,"brush",(function(){return An})),n.d(e,"brushX",(function(){return Tn})),n.d(e,"brushY",(function(){return Mn})),n.d(e,"brushSelection",(function(){return Pn}));var r=n(37),i={value:function(){}};function o(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new a(r)}function a(t){this._=t}function s(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function u(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function c(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=i,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}a.prototype=o.prototype={constructor:a,on:function(t,e){var n,r=this._,i=s(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=c(r[n],t.name,e);else if(null==e)for(n in r)r[n]=c(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=u(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new a(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var l=o,f=n(25);function h(){}var p=function(t){return null==t?h:function(){return this.querySelector(t)}},d=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)};function y(){return[]}function v(t){return function(e){return e.matches(t)}}var g=Array.prototype.find;function m(){return this.firstElementChild}var b=Array.prototype.filter;function _(){return this.children}var x=function(t){return new Array(t.length)};function w(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}w.prototype={constructor:w,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var E=function(t){return function(){return t}};function S(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new w(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function k(t,e,n,r,i,o,a){var s,u,c,l=new Map,f=e.length,h=o.length,p=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(p[s]=c=a.call(u,u.__data__,s,e)+"",l.has(c)?i[s]=u:l.set(c,u));for(s=0;s<h;++s)c=a.call(t,o[s],s,o)+"",(u=l.get(c))?(r[s]=u,u.__data__=o[s],l.delete(c)):n[s]=new w(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l.get(p[s])===u&&(i[s]=u)}function O(t){return t.__data__}function C(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var P="http://www.w3.org/1999/xhtml",T={svg:"http://www.w3.org/2000/svg",xhtml:P,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},M=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),T.hasOwnProperty(e)?{space:T[e],local:t}:t};function A(t){return function(){this.removeAttribute(t)}}function I(t){return function(){this.removeAttributeNS(t.space,t.local)}}function j(t,e){return function(){this.setAttribute(t,e)}}function R(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function D(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function N(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var L=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function z(t){return function(){this.style.removeProperty(t)}}function F(t,e,n){return function(){this.style.setProperty(t,e,n)}}function B(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function U(t,e){return t.style.getPropertyValue(e)||L(t).getComputedStyle(t,null).getPropertyValue(e)}function q(t){return function(){delete this[t]}}function V(t,e){return function(){this[t]=e}}function G(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function W(t){return t.trim().split(/^|\s+/)}function H(t){return t.classList||new K(t)}function K(t){this._node=t,this._names=W(t.getAttribute("class")||"")}function X(t,e){for(var n=H(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Y(t,e){for(var n=H(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Z(t){return function(){X(this,t)}}function $(t){return function(){Y(this,t)}}function J(t,e){return function(){(e.apply(this,arguments)?X:Y)(this,t)}}K.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Q(){this.textContent=""}function tt(t){return function(){this.textContent=t}}function et(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function nt(){this.innerHTML=""}function rt(t){return function(){this.innerHTML=t}}function it(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ot(){this.nextSibling&&this.parentNode.appendChild(this)}function at(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function st(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===P&&e.documentElement.namespaceURI===P?e.createElement(t):e.createElementNS(n,t)}}function ut(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ct=function(t){var e=M(t);return(e.local?ut:st)(e)};function lt(){return null}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function ht(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function yt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function vt(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function gt(t,e,n){var r=L(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function mt(t,e){return function(){return gt(this,t,e)}}function bt(t,e){return function(){return gt(this,t,e.apply(this,arguments))}}var _t=n(24),xt=n.n(_t),wt=xt.a.mark(Et);function Et(){var t,e,n,r,i,o,a;return xt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=this._groups,e=0,n=t.length;case 1:if(!(e<n)){s.next=13;break}r=t[e],i=0,o=r.length;case 3:if(!(i<o)){s.next=10;break}if(!(a=r[i])){s.next=7;break}return s.next=7,a;case 7:++i,s.next=3;break;case 10:++e,s.next=1;break;case 13:case"end":return s.stop()}}),wt,this)}var St=[null];function kt(t,e){this._groups=t,this._parents=e}function Ot(){return new kt([[document.documentElement]],St)}kt.prototype=Ot.prototype=Object(f.a)({constructor:kt,select:function(t){"function"!==typeof t&&(t=p(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new kt(r,this._parents)},selectAll:function(t){var e;"function"===typeof t?t=function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:d(e)}}(t):t=null==(e=t)?y:function(){return this.querySelectorAll(e)};for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,u=n[a],c=u.length,l=0;l<c;++l)(s=u[l])&&(i.push(t.call(s,s.__data__,l,u)),o.push(s));return new kt(i,o)},selectChild:function(t){return this.select(null==t?m:function(t){return function(){return g.call(this.children,t)}}("function"===typeof t?t:v(t)))},selectChildren:function(t){return this.selectAll(null==t?_:function(t){return function(){return b.call(this.children,t)}}("function"===typeof t?t:v(t)))},filter:function(t){var e;"function"!==typeof t&&(e=t,t=function(){return this.matches(e)});for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a,s=n[o],u=s.length,c=i[o]=[],l=0;l<u;++l)(a=s[l])&&t.call(a,a.__data__,l,s)&&c.push(a);return new kt(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,O);var n=e?k:S,r=this._parents,i=this._groups;"function"!==typeof t&&(t=E(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,p=d(t.call(l,l&&l.__data__,c,r)),y=p.length,v=s[c]=new Array(y),g=a[c]=new Array(y),m=u[c]=new Array(h);n(l,f,v,g,m,p,e);for(var b,_,x=0,w=0;x<y;++x)if(b=v[x]){for(x>=w&&(w=x+1);!(_=g[w])&&++w<y;);b._next=_||null}}return(a=new kt(a,r))._enter=s,a._exit=u,a},enter:function(){return new kt(this._enter||this._groups.map(x),this._parents)},exit:function(){return new kt(this._exit||this._groups.map(x),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof kt))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new kt(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=C);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new kt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,e=0,n=Object(r.a)(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(i){n.e(i)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=M(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?I:A:"function"===typeof e?n.local?N:D:n.local?R:j)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?z:"function"===typeof e?B:F)(t,e,null==n?"":n)):U(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?q:"function"===typeof e?G:V)(t,e)):this.node()[t]},classed:function(t,e){var n=W(t+"");if(arguments.length<2){for(var r=H(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?J:e?Z:$)(n,e))},text:function(t){return arguments.length?this.each(null==t?Q:("function"===typeof t?et:tt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?nt:("function"===typeof t?it:rt)(t)):this.node().innerHTML},raise:function(){return this.each(ot)},lower:function(){return this.each(at)},append:function(t){var e="function"===typeof t?t:ct(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:ct(t),r=null==e?lt:"function"===typeof e?e:p(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ft)},clone:function(t){return this.select(t?pt:ht)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=dt(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?vt:yt,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"===typeof e?bt:mt)(t,e))}},Symbol.iterator,Et);var Ct=function(t){return"string"===typeof t?new kt([[document.querySelector(t)]],[document.documentElement]):new kt([[t]],St)};var Pt=function(t){t.preventDefault(),t.stopImmediatePropagation()},Tt=function(t){var e=t.document.documentElement,n=Ct(t).on("dragstart.drag",Pt,!0);"onselectstart"in e?n.on("selectstart.drag",Pt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Mt(t,e){var n=t.document.documentElement,r=Ct(t).on("dragstart.drag",null);e&&(r.on("click.drag",Pt,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var At,It,jt=n(426),Rt=n(298),Dt=n(301),Nt=n(330),Lt=0,zt=0,Ft=0,Bt=0,Ut=0,qt=0,Vt="object"===typeof performance&&performance.now?performance:Date,Gt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wt(){return Ut||(Gt(Ht),Ut=Vt.now()+qt)}function Ht(){Ut=0}function Kt(){this._call=this._time=this._next=null}function Xt(t,e,n){var r=new Kt;return r.restart(t,e,n),r}function Yt(){Ut=(Bt=Vt.now())+qt,Lt=zt=0;try{!function(){Wt(),++Lt;for(var t,e=At;e;)(t=Ut-e._time)>=0&&e._call.call(null,t),e=e._next;--Lt}()}finally{Lt=0,function(){var t,e,n=At,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:At=e);It=t,$t(r)}(),Ut=0}}function Zt(){var t=Vt.now(),e=t-Bt;e>1e3&&(qt-=e,Bt=t)}function $t(t){Lt||(zt&&(zt=clearTimeout(zt)),t-Ut>24?(t<1/0&&(zt=setTimeout(Yt,t-Vt.now()-qt)),Ft&&(Ft=clearInterval(Ft))):(Ft||(Bt=Vt.now(),Ft=setInterval(Zt,1e3)),Lt=1,Gt(Yt)))}Kt.prototype=Xt.prototype={constructor:Kt,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Wt():+n)+(null==e?0:+e),this._next||It===this||(It?It._next=this:At=this,It=this),this._call=t,this._time=n,$t()},stop:function(){this._call&&(this._call=null,this._time=1/0,$t())}};var Jt=function(t,e,n){var r=new Kt;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},Qt=l("start","end","cancel","interrupt"),te=[],ee=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,l,f,h;if(1!==n.state)return u();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return Jt(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Jt((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Xt(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Qt,tween:te,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function ne(t,e){var n=ie(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function re(t,e){var n=ie(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ie(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var oe,ae=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},se=n(95),ue=180/Math.PI,ce={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},le=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ue,skewX:Math.atan(u)*ue,scaleX:a,scaleY:s}};function fe(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Object(se.a)(t,i)},{i:u-2,x:Object(se.a)(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Object(se.a)(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Object(se.a)(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Object(se.a)(t,n)},{i:s-2,x:Object(se.a)(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var he=fe((function(t){var e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ce:le(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),pe=fe((function(t){return null==t?ce:(oe||(oe=document.createElementNS("http://www.w3.org/2000/svg","g")),oe.setAttribute("transform",t),(t=oe.transform.baseVal.consolidate())?(t=t.matrix,le(t.a,t.b,t.c,t.d,t.e,t.f)):ce)}),", ",")",")"),de=n(314);function ye(t,e){var n,r;return function(){var i=re(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function ve(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=re(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function ge(t,e,n){var r=t._id;return t.each((function(){var t=re(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ie(t,r).value[e]}}var me=n(116),be=n(331),_e=n(410),xe=function(t,e){var n;return("number"===typeof e?se.a:e instanceof me.e?be.a:(n=Object(me.e)(e))?(e=n,be.a):_e.a)(t,e)};function we(t){return function(){this.removeAttribute(t)}}function Ee(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Se(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function ke(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Oe(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function Ce(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Pe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Te(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Me(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Te(t,i)),n}return i._value=e,i}function Ae(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Pe(t,i)),n}return i._value=e,i}function Ie(t,e){return function(){ne(this,t).delay=+e.apply(this,arguments)}}function je(t,e){return e=+e,function(){ne(this,t).delay=e}}function Re(t,e){return function(){re(this,t).duration=+e.apply(this,arguments)}}function De(t,e){return e=+e,function(){re(this,t).duration=e}}function Ne(t,e){if("function"!==typeof e)throw new Error;return function(){re(this,t).ease=e}}var Le=n(641);function ze(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ne:re;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Fe=n(315),Be=n(642),Ue=Nt.b.prototype.constructor,qe=n(643);function Ve(t){return function(){this.style.removeProperty(t)}}function Ge(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function We(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Ge(t,o,n)),r}return o._value=e,o}function He(t){return function(e){this.textContent=t.call(this,e)}}function Ke(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&He(r)),e}return r._value=t,r}var Xe=0;function Ye(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ze(){return++Xe}var $e=Nt.b.prototype;Ye.prototype=function(t){return Object(Nt.b)().transition(t)}.prototype=Object(f.a)({constructor:Ye,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Object(Fe.a)(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,ee(f[h],e,n,h,f,ie(s,n)));return new Ye(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Object(Be.a)(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,p=t.call(u,u.__data__,f,c),d=ie(u,n),y=0,v=p.length;y<v;++y)(h=p[y])&&ee(h,e,n,y,p,d);o.push(p),a.push(u)}return new Ye(o,a,e,n)},filter:function(t){"function"!==typeof t&&(t=Object(Le.a)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Ye(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new Ye(a,this._parents,this._name,this._id)},selection:function(){return new Ue(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Ze(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=ie(a,e);ee(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ye(r,this._parents,t,n)},call:$e.call,nodes:$e.nodes,node:$e.node,size:$e.size,empty:$e.empty,each:$e.each,on:function(t,e){var n=this._id;return arguments.length<2?ie(this.node(),n).on.on(t):this.each(ze(n,t,e))},attr:function(t,e){var n=Object(de.a)(t),r="transform"===n?pe:xe;return this.attrTween(t,"function"===typeof e?(n.local?Ce:Oe)(n,r,ge(this,"attr."+t,e)):null==e?(n.local?Ee:we)(n):(n.local?ke:Se)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=Object(de.a)(t);return this.tween(n,(r.local?Me:Ae)(r,e))},style:function(t,e,n){var r="transform"===(t+="")?he:xe;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Object(qe.b)(this,t),a=(this.style.removeProperty(t),Object(qe.b)(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Ve(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Object(qe.b)(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=Object(qe.b)(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,ge(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=re(this,t),c=u.on,l=null==u.value[a]?o||(o=Ve(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Object(qe.b)(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,We(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(ge(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,Ke(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ie(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?ye:ve)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Ie:je)(e,t)):ie(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Re:De)(e,t)):ie(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ne(e,t)):ie(this.node(),e).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;re(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};n.each((function(){var n=re(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&o()}))}},Symbol.iterator,$e[Symbol.iterator]);var Je={time:null,delay:0,duration:250,ease:n(1240).a};function Qe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}Nt.b.prototype.interrupt=function(t){return this.each((function(){ae(this,t)}))},Nt.b.prototype.transition=function(t){var e,n;t instanceof Ye?(e=t._id,t=t._name):(e=Ze(),(n=Je).time=Wt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&ee(a,t,e,c,s,n||Qe(a,e));return new Ye(r,this._parents,t,e)};var tn=function(t){return function(){return t}};function en(t,e){var n=e.sourceEvent,r=e.target,i=e.selection,o=e.mode,a=e.dispatch;Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function nn(t){t.stopImmediatePropagation()}var rn=function(t){t.preventDefault(),t.stopImmediatePropagation()},on={name:"drag"},an={name:"space"},sn={name:"handle"},un={name:"center"},cn=Math.abs,ln=Math.max,fn=Math.min;function hn(t){return[+t[0],+t[1]]}function pn(t){return[hn(t[0]),hn(t[1])]}var dn={name:"x",handles:["w","e"].map(wn),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},yn={name:"y",handles:["n","s"].map(wn),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},vn={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(wn),input:function(t){return null==t?null:pn(t)},output:function(t){return t}},gn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mn={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},bn={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},_n={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},xn={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function wn(t){return{type:t}}function En(t){return!t.ctrlKey&&!t.button}function Sn(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function kn(){return navigator.maxTouchPoints||"ontouchstart"in this}function On(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Cn(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Pn(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Tn(){return In(dn)}function Mn(){return In(yn)}var An=function(){return In(vn)};function In(t){var e,n=Sn,i=En,o=kn,a=!0,s=l("start","brush","end"),u=6;function c(e){var n=e.property("__brush",g).selectAll(".overlay").data([wn("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",gn.overlay).merge(n).each((function(){var t=On(this).extent;Object(Rt.a)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([wn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",gn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return gn[t.type]})),e.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(o).on("touchstart.brush",d).on("touchmove.brush",y).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){var t=Object(Rt.a)(this),e=On(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-u/2:e[0][0]-u/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-u/2:e[0][1]-u/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+u:u})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+u:u}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new p(t,e,n):r}function p(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function d(n){if((!e||n.touches)&&i.apply(this,arguments)){var o,s,u,c,l,p,d,y,v,g,m,b=this,_=n.target.__data__.type,x="selection"===(a&&n.metaKey?_="overlay":_)?on:a&&n.altKey?un:sn,w=t===yn?null:_n[_],E=t===dn?null:xn[_],S=On(b),k=S.extent,O=S.selection,C=k[0][0],P=k[0][1],T=k[1][0],M=k[1][1],A=0,I=0,j=w&&E&&a&&n.shiftKey,R=Array.from(n.touches||[n],(function(t){var e=t.identifier;return(t=Object(Dt.a)(t,b)).point0=t.slice(),t.identifier=e,t}));if("overlay"===_){O&&(v=!0);var D=[R[0],R[1]||R[0]];S.selection=O=[[o=t===yn?C:fn(D[0][0],D[1][0]),u=t===dn?P:fn(D[0][1],D[1][1])],[l=t===yn?T:ln(D[0][0],D[1][0]),d=t===dn?M:ln(D[0][1],D[1][1])]],R.length>1&&U()}else o=O[0][0],u=O[0][1],l=O[1][0],d=O[1][1];s=o,c=u,p=l,y=d;var N=Object(Rt.a)(b).attr("pointer-events","none"),L=N.selectAll(".overlay").attr("cursor",gn[_]);ae(b);var z=h(b,arguments,!0).beforestart();if(n.touches)z.moved=B,z.ended=q;else{var F=Object(Rt.a)(n.view).on("mousemove.brush",B,!0).on("mouseup.brush",q,!0);a&&F.on("keydown.brush",V,!0).on("keyup.brush",G,!0),Tt(n.view)}f.call(b),z.start(n,x.name)}function B(t){var e,n=Object(r.a)(t.changedTouches||[t]);try{for(n.s();!(e=n.n()).done;){var i,o=e.value,a=Object(r.a)(R);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.identifier===o.identifier&&(s.cur=Object(Dt.a)(o,b))}}catch(h){a.e(h)}finally{a.f()}}}catch(h){n.e(h)}finally{n.f()}if(j&&!g&&!m&&1===R.length){var u=R[0];cn(u.cur[0]-u[0])>cn(u.cur[1]-u[1])?m=!0:g=!0}var c,l=Object(r.a)(R);try{for(l.s();!(c=l.n()).done;){var f=c.value;f.cur&&(f[0]=f.cur[0],f[1]=f.cur[1])}}catch(h){l.e(h)}finally{l.f()}v=!0,rn(t),U(t)}function U(t){var e,n=R[0],r=n.point0;switch(A=n[0]-r[0],I=n[1]-r[1],x){case an:case on:w&&(A=ln(C-o,fn(T-l,A)),s=o+A,p=l+A),E&&(I=ln(P-u,fn(M-d,I)),c=u+I,y=d+I);break;case sn:R[1]?(w&&(s=ln(C,fn(T,R[0][0])),p=ln(C,fn(T,R[1][0])),w=1),E&&(c=ln(P,fn(M,R[0][1])),y=ln(P,fn(M,R[1][1])),E=1)):(w<0?(A=ln(C-o,fn(T-o,A)),s=o+A,p=l):w>0&&(A=ln(C-l,fn(T-l,A)),s=o,p=l+A),E<0?(I=ln(P-u,fn(M-u,I)),c=u+I,y=d):E>0&&(I=ln(P-d,fn(M-d,I)),c=u,y=d+I));break;case un:w&&(s=ln(C,fn(T,o-A*w)),p=ln(C,fn(T,l+A*w))),E&&(c=ln(P,fn(M,u-I*E)),y=ln(P,fn(M,d+I*E)))}p<s&&(w*=-1,e=o,o=l,l=e,e=s,s=p,p=e,_ in mn&&L.attr("cursor",gn[_=mn[_]])),y<c&&(E*=-1,e=u,u=d,d=e,e=c,c=y,y=e,_ in bn&&L.attr("cursor",gn[_=bn[_]])),S.selection&&(O=S.selection),g&&(s=O[0][0],p=O[1][0]),m&&(c=O[0][1],y=O[1][1]),O[0][0]===s&&O[0][1]===c&&O[1][0]===p&&O[1][1]===y||(S.selection=[[s,c],[p,y]],f.call(b),z.brush(t,x.name))}function q(t){if(nn(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Mt(t.view,v),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);N.attr("pointer-events","all"),L.attr("cursor",gn.overlay),S.selection&&(O=S.selection),Cn(O)&&(S.selection=null,f.call(b)),z.end(t,x.name)}function V(t){switch(t.keyCode){case 16:j=w&&E;break;case 18:x===sn&&(w&&(l=p-A*w,o=s+A*w),E&&(d=y-I*E,u=c+I*E),x=un,U());break;case 32:x!==sn&&x!==un||(w<0?l=p-A:w>0&&(o=s-A),E<0?d=y-I:E>0&&(u=c-I),x=an,L.attr("cursor",gn.selection),U());break;default:return}rn(t)}function G(t){switch(t.keyCode){case 16:j&&(g=m=j=!1,U());break;case 18:x===un&&(w<0?l=p:w>0&&(o=s),E<0?d=y:E>0&&(u=c),x=sn,U());break;case 32:x===an&&(t.altKey?(w&&(l=p-A*w,o=s+A*w),E&&(d=y-I*E,u=c+I*E),x=un):(w<0?l=p:w>0&&(o=s),E<0?d=y:E>0&&(u=c),x=sn),L.attr("cursor",gn[_]),U());break;default:return}rn(t)}}function y(t){h(this,arguments).moved(t)}function v(t){h(this,arguments).ended(t)}function g(){var e=this.__brush||{selection:null};return e.extent=pn(n.apply(this,arguments)),e.dim=t,e}return c.move=function(e,n){e.tween?e.on("start.brush",(function(t){h(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){h(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,i=h(e,arguments),o=r.selection,a=t.input("function"===typeof n?n.apply(this,arguments):n,r.extent),s=Object(jt.a)(o,a);function u(t){r.selection=1===t&&null===a?null:s(t),f.call(e),i.brush()}return null!==o&&null!==a?u:u(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,o=t.input("function"===typeof n?n.apply(e,r):n,i.extent),a=h(e,r).beforestart();ae(e),i.selection=null===o?null:o,f.call(e),a.start().brush().end()}))},c.clear=function(t){c.move(t,null)},p.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0===--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var i=Object(Rt.a)(this.that).datum();s.call(e,this.that,new en(e,{sourceEvent:n,target:c,selection:t.output(this.state.selection),mode:r,dispatch:s}),i)}},c.extent=function(t){return arguments.length?(n="function"===typeof t?t:tn(pn(t)),c):n},c.filter=function(t){return arguments.length?(i="function"===typeof t?t:tn(!!t),c):i},c.touchable=function(t){return arguments.length?(o="function"===typeof t?t:tn(!!t),c):o},c.handleSize=function(t){return arguments.length?(u=+t,c):u},c.keyModifiers=function(t){return arguments.length?(a=!!t,c):a},c.on=function(){var t=s.on.apply(s,arguments);return t===s?c:t},c}},function(t,e,n){"use strict";n.r(e),n.d(e,"bbox",(function(){return o})),n.d(e,"feature",(function(){return a})),n.d(e,"mesh",(function(){return l})),n.d(e,"meshArcs",(function(){return f})),n.d(e,"merge",(function(){return p})),n.d(e,"mergeArcs",(function(){return d})),n.d(e,"neighbors",(function(){return v})),n.d(e,"quantize",(function(){return m})),n.d(e,"transform",(function(){return i})),n.d(e,"untransform",(function(){return g})),n.d(e,"topology",(function(){return I})),n.d(e,"filter",(function(){return D})),n.d(e,"filterAttached",(function(){return F})),n.d(e,"filterAttachedWeight",(function(){return V})),n.d(e,"filterWeight",(function(){return q})),n.d(e,"planarRingArea",(function(){return U})),n.d(e,"planarTriangleArea",(function(){return B})),n.d(e,"presimplify",(function(){return H})),n.d(e,"quantile",(function(){return K})),n.d(e,"simplify",(function(){return Y})),n.d(e,"sphericalRingArea",(function(){return ot})),n.d(e,"sphericalTriangleArea",(function(){return at}));var r=function(t){return t},i=function(t){if(null==t)return r;var e,n,i=t.scale[0],o=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,r){r||(e=n=0);var u=2,c=t.length,l=new Array(c);for(l[0]=(e+=t[0])*i+a,l[1]=(n+=t[1])*o+s;u<c;)l[u]=t[u],++u;return l}},o=function(t){var e,n=i(t.transform),r=1/0,o=r,a=-r,s=-r;function u(t){(t=n(t))[0]<r&&(r=t[0]),t[0]>a&&(a=t[0]),t[1]<o&&(o=t[1]),t[1]>s&&(s=t[1])}function c(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(c);break;case"Point":u(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(u)}}for(e in t.arcs.forEach((function(t){for(var e,i=-1,u=t.length;++i<u;)(e=n(t[i],i))[0]<r&&(r=e[0]),e[0]>a&&(a=e[0]),e[1]<o&&(o=e[1]),e[1]>s&&(s=e[1])})),t.objects)c(t.objects[e]);return[r,o,a,s]},a=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return s(t,e)}))}:s(t,e)};function s(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=u(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function u(t,e){var n=i(t.transform),r=t.arcs;function o(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n(i[o],o));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,a)}function a(t){return n(t)}function s(t){for(var e=[],n=0,r=t.length;n<r;++n)o(t[n],e);return e.length<2&&e.push(e[0]),e}function u(t){for(var e=s(t);e.length<4;)e.push(e[0]);return e}function c(t){return t.map(u)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=a(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(a);break;case"LineString":n=s(e.arcs);break;case"MultiLineString":n=e.arcs.map(s);break;case"Polygon":n=c(e.arcs);break;case"MultiPolygon":n=e.arcs.map(c);break;default:return null}return{type:r,coordinates:n}}(e)}var c=function(t,e){var n={},r={},i={},o=[],a=-1;function s(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)})),e.forEach((function(e){var n,o,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1];return e<0?[n,i]:[i,n]}(e),s=a[0],u=a[1];if(n=i[s])if(delete i[n.end],n.push(e),n.end=u,o=r[u]){delete r[o.start];var c=o===n?n:n.concat(o);r[c.start=n.start]=i[c.end=o.end]=c}else r[n.start]=i[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(e),n.start=s,o=i[s]){delete i[o.end];var l=o===n?n:o.concat(n);r[l.start=o.start]=i[l.end=n.end]=l}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=s]=i[n.end=u]=n})),s(i,r),s(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o},l=function(t){return u(t,f.apply(this,arguments))};function f(t,e,n){var r,i,o;if(arguments.length>1)r=h(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:c(t,r)}}function h(t,e,n){var r,i=[],o=[];function a(t){var e=t<0?~t:t;(o[e]||(o[e]=[])).push({i:t,g:r})}function s(t){t.forEach(a)}function u(t){t.forEach(s)}return function t(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":s(e.arcs);break;case"MultiLineString":case"Polygon":u(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(u)}(e.arcs)}}(e),o.forEach(null==n?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}var p=function(t){return u(t,d.apply(this,arguments))};function d(t,e){var n={},r=[],i=[];function o(t){t.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)}))})),r.push(t)}function a(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(u(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":o(e.arcs);break;case"MultiPolygon":e.arcs.forEach(o)}})),r.forEach((function(t){if(!t._){var e=[],r=[t];for(t._=1,i.push(e);t=r.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(t){t._||(t._=1,r.push(t))}))}))}))}})),r.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:i.map((function(e){var r,i=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].length<2&&i.push(t)}))}))})),(r=(i=c(t,i)).length)>1)for(var o,s,u=1,l=a(i[0]);u<r;++u)(o=a(i[u]))>l&&(s=i[0],i[0]=i[u],i[u]=s,l=o);return i}))}}var y=function(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n},v=function(t){var e={},n=t.map((function(){return[]}));function r(t,n){t.forEach((function(t){t<0&&(t=~t);var r=e[t];r?r.push(n):e[t]=[n]}))}function i(t,e){t.forEach((function(t){r(t,e)}))}var o={LineString:r,MultiLineString:i,Polygon:i,MultiPolygon:function(t,e){t.forEach((function(t){i(t,e)}))}};for(var a in t.forEach((function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach((function(e){t(e,n)})):e.type in o&&o[e.type](e.arcs,n)})),e)for(var s=e[a],u=s.length,c=0;c<u;++c)for(var l=c+1;l<u;++l){var f,h=s[c],p=s[l];(f=n[h])[a=y(f,p)]!==p&&f.splice(a,0,p),(f=n[p])[a=y(f,h)]!==h&&f.splice(a,0,h)}return n},g=function(t){if(null==t)return r;var e,n,i=t.scale[0],o=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,r){r||(e=n=0);var u=2,c=t.length,l=new Array(c),f=Math.round((t[0]-a)/i),h=Math.round((t[1]-s)/o);for(l[0]=f-e,e=f,l[1]=h-n,n=h;u<c;)l[u]=t[u],++u;return l}},m=function(t,e){if(t.transform)throw new Error("already quantized");if(e&&e.scale)u=t.bbox;else{if(!((n=Math.floor(e))>=2))throw new Error("n must be \u22652");var n,r=(u=t.bbox||o(t))[0],i=u[1],a=u[2],s=u[3];e={scale:[a-r?(a-r)/(n-1):1,s-i?(s-i)/(n-1):1],translate:[r,i]}}var u,c,l=g(e),f=t.objects,h={};function p(t){return l(t)}function d(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(d)};break;case"Point":e={type:"Point",coordinates:p(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(p)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}for(c in f)h[c]=d(f[c]);return{type:"Topology",bbox:u,transform:e,objects:h,arcs:t.arcs.map((function(t){var e,n=0,r=1,i=t.length,o=new Array(i);for(o[0]=l(t[0],0);++n<i;)((e=l(t[n],n))[0]||e[1])&&(o[r++]=e);return 1===r&&(o[r++]=[0,0]),o.length=r,o}))}},b=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new o(t),u=t-1,c=0;c<t;++c)a[c]=i;function l(r,o){for(var c=e(r)&u,l=a[c],f=0;l!=i;){if(n(l,r))return s[c]=o;if(++f>=t)throw new Error("full hashmap");l=a[c=c+1&u]}return a[c]=r,s[c]=o,o}function f(r,o){for(var c=e(r)&u,l=a[c],f=0;l!=i;){if(n(l,r))return s[c];if(++f>=t)throw new Error("full hashmap");l=a[c=c+1&u]}return a[c]=r,s[c]=o,o}function h(r,o){for(var c=e(r)&u,l=a[c],f=0;l!=i;){if(n(l,r))return s[c];if(++f>=t)break;l=a[c=c+1&u]}return o}function p(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=i&&t.push(r)}return t}return{set:l,maybeSet:f,get:h,keys:p}},_=function(t,e){return t[0]===e[0]&&t[1]===e[1]},x=new ArrayBuffer(16),w=new Float64Array(x),E=new Uint32Array(x),S=function(t){w[0]=t[0],w[1]=t[1];var e=E[0]^E[1];return 2147483647&(e=e<<5^e>>7^E[2]^E[3])},k=function(t){var e,n,r,i,o=t.coordinates,a=t.lines,s=t.rings,u=function(){for(var t=b(1.4*o.length,E,k,Int32Array,-1,Int32Array),e=new Int32Array(o.length),n=0,r=o.length;n<r;++n)e[n]=t.maybeSet(n,n);return e}(),c=new Int32Array(o.length),l=new Int32Array(o.length),f=new Int32Array(o.length),h=new Int8Array(o.length),p=0;for(e=0,n=o.length;e<n;++e)c[e]=l[e]=f[e]=-1;for(e=0,n=a.length;e<n;++e){var d=a[e],y=d[0],v=d[1];for(r=u[y],i=u[++y],++p,h[r]=1;++y<=v;)w(e,r,r=i,i=u[y]);++p,h[i]=1}for(e=0,n=o.length;e<n;++e)c[e]=-1;for(e=0,n=s.length;e<n;++e){var g=s[e],m=g[0]+1,x=g[1];for(w(e,u[x-1],r=u[m-1],i=u[m]);++m<=x;)w(e,r,r=i,i=u[m])}function w(t,e,n,r){if(c[n]!==t){c[n]=t;var i=l[n];if(i>=0){var o=f[n];i===e&&o===r||i===r&&o===e||(++p,h[n]=1)}else l[n]=e,f[n]=r}}function E(t){return S(o[t])}function k(t,e){return _(o[t],o[e])}c=l=f=null;var O,C=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)o[s]=i;function u(r){for(var s=e(r)&a,u=o[s],c=0;u!=i;){if(n(u,r))return!0;if(++c>=t)throw new Error("full hashset");u=o[s=s+1&a]}return o[s]=r,!0}function c(r){for(var s=e(r)&a,u=o[s],c=0;u!=i;){if(n(u,r))return!0;if(++c>=t)break;u=o[s=s+1&a]}return!1}function l(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}return{add:u,has:c,values:l}}(1.4*p,S,_);for(e=0,n=o.length;e<n;++e)h[O=u[e]]&&C.add(o[O]);return C};function O(t,e,n,r){C(t,e,n),C(t,e,e+r),C(t,e+r,n)}function C(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}var P=function(t){var e,n,r={};for(e in t)r[e]=null==(n=t[e])?{type:null}:("FeatureCollection"===n.type?T:"Feature"===n.type?M:A)(n);return r};function T(t){var e={type:"GeometryCollection",geometries:t.features.map(M)};return null!=t.bbox&&(e.bbox=t.bbox),e}function M(t){var e,n=A(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function A(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(A)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}var I=function(t,e){var n=function(t){var e=1/0,n=1/0,r=-1/0,i=-1/0;function o(t){null!=t&&a.hasOwnProperty(t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(o)},Point:function(t){s(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(s)},LineString:function(t){u(t.arcs)},MultiLineString:function(t){t.arcs.forEach(u)},Polygon:function(t){t.arcs.forEach(u)},MultiPolygon:function(t){t.arcs.forEach(c)}};function s(t){var o=t[0],a=t[1];o<e&&(e=o),o>r&&(r=o),a<n&&(n=a),a>i&&(i=a)}function u(t){t.forEach(s)}function c(t){t.forEach(u)}for(var l in t)o(t[l]);return r>=e&&i>=n?[e,n,r,i]:void 0}(t=P(t)),r=e>0&&n&&function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=o-r?(n-1)/(o-r):1,u=a-i?(n-1)/(a-i):1;function c(t){return[Math.round((t[0]-r)*s),Math.round((t[1]-i)*u)]}function l(t,e){for(var n,o,a,c,l,f=-1,h=0,p=t.length,d=new Array(p);++f<p;)n=t[f],c=Math.round((n[0]-r)*s),l=Math.round((n[1]-i)*u),c===o&&l===a||(d[h++]=[o=c,a=l]);for(d.length=h;h<e;)h=d.push([d[0][0],d[0][1]]);return d}function f(t){return l(t,2)}function h(t){return l(t,4)}function p(t){return t.map(h)}function d(t){null!=t&&y.hasOwnProperty(t.type)&&y[t.type](t)}var y={GeometryCollection:function(t){t.geometries.forEach(d)},Point:function(t){t.coordinates=c(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(c)},LineString:function(t){t.arcs=f(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(f)},Polygon:function(t){t.arcs=p(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(p)}};for(var v in t)d(t[v]);return{scale:[1/s,1/u],translate:[r,i]}}(t,n,e),i=function(t){var e,n,r,i,o=t.coordinates,a=t.lines,s=t.rings,u=a.length+s.length;for(delete t.lines,delete t.rings,r=0,i=a.length;r<i;++r)for(e=a[r];e=e.next;)++u;for(r=0,i=s.length;r<i;++r)for(n=s[r];n=n.next;)++u;var c=b(2*u*1.4,S,_),l=t.arcs=[];for(r=0,i=a.length;r<i;++r){e=a[r];do{f(e)}while(e=e.next)}for(r=0,i=s.length;r<i;++r)if((n=s[r]).next)do{f(n)}while(n=n.next);else h(n);function f(t){var e,n,r,i,a,s,u,f;if(r=c.get(e=o[t[0]]))for(u=0,f=r.length;u<f;++u)if(p(i=r[u],t))return t[0]=i[0],void(t[1]=i[1]);if(a=c.get(n=o[t[1]]))for(u=0,f=a.length;u<f;++u)if(d(s=a[u],t))return t[1]=s[0],void(t[0]=s[1]);r?r.push(t):c.set(e,[t]),a?a.push(t):c.set(n,[t]),l.push(t)}function h(t){var e,n,r,i,a;if(n=c.get(o[t[0]]))for(i=0,a=n.length;i<a;++i){if(y(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(v(r,t))return t[0]=r[1],void(t[1]=r[0])}if(n=c.get(e=o[t[0]+g(t)]))for(i=0,a=n.length;i<a;++i){if(y(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(v(r,t))return t[0]=r[1],void(t[1]=r[0])}n?n.push(t):c.set(e,[t]),l.push(t)}function p(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!==r-e[1])return!1;for(;n<=i;++n,++r)if(!_(o[n],o[r]))return!1;return!0}function d(t,e){var n=t[0],r=e[0],i=t[1],a=e[1];if(n-i!==r-a)return!1;for(;n<=i;++n,--a)if(!_(o[n],o[a]))return!1;return!0}function y(t,e){var n=t[0],r=e[0],i=t[1]-n;if(i!==e[1]-r)return!1;for(var a=g(t),s=g(e),u=0;u<i;++u)if(!_(o[n+(u+a)%i],o[r+(u+s)%i]))return!1;return!0}function v(t,e){var n=t[0],r=e[0],i=t[1],a=e[1],s=i-n;if(s!==a-r)return!1;for(var u=g(t),c=s-g(e),l=0;l<s;++l)if(!_(o[n+(l+u)%s],o[a-(l+c)%s]))return!1;return!0}function g(t){for(var e=t[0],n=t[1],r=e,i=r,a=o[r];++r<n;){var s=o[r];(s[0]<a[0]||s[0]===a[0]&&s[1]<a[1])&&(i=r,a=s)}return i-e}return t}(function(t){var e,n,r,i=k(t),o=t.coordinates,a=t.lines,s=t.rings;for(n=0,r=a.length;n<r;++n)for(var u=a[n],c=u[0],l=u[1];++c<l;)i.has(o[c])&&(e={0:c,1:u[1]},u[1]=c,u=u.next=e);for(n=0,r=s.length;n<r;++n)for(var f=s[n],h=f[0],p=h,d=f[1],y=i.has(o[h]);++p<d;)i.has(o[p])&&(y?(e={0:p,1:f[1]},f[1]=p,f=f.next=e):(O(o,h,d,d-p),o[d]=o[h],y=!0,p=h));return t}(function(t){var e=-1,n=[],r=[],i=[];function o(t){t&&a.hasOwnProperty(t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(o)},LineString:function(t){t.arcs=s(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(s)},Polygon:function(t){t.arcs=t.arcs.map(u)},MultiPolygon:function(t){t.arcs=t.arcs.map(c)}};function s(t){for(var r=0,o=t.length;r<o;++r)i[++e]=t[r];var a={0:e-o+1,1:e};return n.push(a),a}function u(t){for(var n=0,o=t.length;n<o;++n)i[++e]=t[n];var a={0:e-o+1,1:e};return r.push(a),a}function c(t){return t.map(u)}for(var l in t)o(t[l]);return{type:"Topology",coordinates:i,lines:n,rings:r,objects:t}}(t))),o=i.coordinates,a=b(1.4*i.arcs.length,j,R);function s(t){t&&u.hasOwnProperty(t.type)&&u[t.type](t)}t=i.objects,i.bbox=n,i.arcs=i.arcs.map((function(t,e){return a.set(t,e),o.slice(t[0],t[1]+1)})),delete i.coordinates,o=null;var u={GeometryCollection:function(t){t.geometries.forEach(s)},LineString:function(t){t.arcs=c(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(c)},Polygon:function(t){t.arcs=t.arcs.map(c)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};function c(t){var e=[];do{var n=a.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function l(t){return t.map(c)}for(var f in t)s(t[f]);return r&&(i.transform=r,i.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],a=0,s=1,u=o.length,c=o[0],l=c[0],f=c[1];++a<u;)r=(c=o[a])[0],i=c[1],r===l&&i===f||(o[s++]=[r-l,i-f],l=r,f=i);1===s&&(o[s++]=[0,0]),o.length=s}return t}(i.arcs)),i};function j(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function R(t,e){var n,r=t[0],i=t[1],o=e[0],a=e[1];return i<r&&(n=r,r=i,i=n),a<o&&(n=o,o=a,a=n),r===o&&i===a}var D=function(t,e){var n,r=t.objects,i={};function o(t){var e,n;switch(t.type){case"Polygon":e=(n=a(t.arcs))?{type:"Polygon",arcs:n}:{type:null};break;case"MultiPolygon":e=(n=t.arcs.map(a).filter(L)).length?{type:"MultiPolygon",arcs:n}:{type:null};break;case"GeometryCollection":e=(n=t.geometries.map(o).filter(z)).length?{type:"GeometryCollection",geometries:n}:{type:null};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function a(t){return t.length&&(n=t[0],e(n,!1))?[t[0]].concat(t.slice(1).filter(s)):null;var n}function s(t){return e(t,!0)}for(n in null==e&&(e=N),r)i[n]=o(r[n]);return function(t){var e,n,r=t.objects,i={},o=t.arcs,a=o.length,s=-1,u=new Array(a),c=0,l=-1;function f(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(f);break;case"LineString":p(t.arcs);break;case"MultiLineString":case"Polygon":t.arcs.forEach(p);break;case"MultiPolygon":t.arcs.forEach(d)}}function h(t){t<0&&(t=~t),u[t]||(u[t]=1,++c)}function p(t){t.forEach(h)}function d(t){t.forEach(p)}function y(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(y)};break;case"LineString":e={type:"LineString",arcs:g(t.arcs)};break;case"MultiLineString":e={type:"MultiLineString",arcs:t.arcs.map(g)};break;case"Polygon":e={type:"Polygon",arcs:t.arcs.map(g)};break;case"MultiPolygon":e={type:"MultiPolygon",arcs:t.arcs.map(m)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function v(t){return t<0?~u[~t]:u[t]}function g(t){return t.map(v)}function m(t){return t.map(g)}for(n in r)f(r[n]);for(e=new Array(c);++s<a;)u[s]&&(u[s]=++l,e[l]=o[s]);for(n in r)i[n]=y(r[n]);return{type:"Topology",bbox:t.bbox,transform:t.transform,objects:i,arcs:e}}({type:"Topology",bbox:t.bbox,transform:t.transform,objects:i,arcs:t.arcs})};function N(){return!0}function L(t){return t}function z(t){return null!=t.type}var F=function(t){var e,n=new Array(t.arcs.length),r=0;function i(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(i);break;case"Polygon":o(t.arcs);break;case"MultiPolygon":t.arcs.forEach(o)}}function o(t){for(var e=0,i=t.length;e<i;++e,++r)for(var o=t[e],a=0,s=o.length;a<s;++a){var u=o[a];u<0&&(u=~u);var c=n[u];null==c?n[u]=r:c!==r&&(n[u]=-1)}}for(e in t.objects)i(t.objects[e]);return function(t){for(var e,r=0,i=t.length;r<i;++r)if(-1===n[(e=t[r])<0?~e:e])return!0;return!1}};function B(t){var e=t[0],n=t[1],r=t[2];return Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))/2}function U(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)/2}var q=function(t,e,n){return e=null==e?Number.MIN_VALUE:+e,null==n&&(n=U),function(r,i){return n(a(t,{type:"Polygon",arcs:[r]}).geometry.coordinates[0],i)>=e}},V=function(t,e,n){var r=F(t),i=q(t,e,n);return function(t,e){return r(t,e)||i(t,e)}};function G(t,e){return t[1][2]-e[1][2]}function W(t){return[t[0],t[1],0]}var H=function(t,e){var n=t.transform?i(t.transform):W,r=function(){var t={},e=[],n=0;function r(t,n){for(;n>0;){var r=(n+1>>1)-1,i=e[r];if(G(t,i)>=0)break;e[i._=n]=i,e[t._=n=r]=t}}function i(t,r){for(;;){var i=r+1<<1,o=i-1,a=r,s=e[a];if(o<n&&G(e[o],s)<0&&(s=e[a=o]),i<n&&G(e[i],s)<0&&(s=e[a=i]),a===r)break;e[s._=r]=s,e[t._=r=a]=t}}return t.push=function(t){return r(e[t._=n]=t,n++),n},t.pop=function(){if(!(n<=0)){var t,r=e[0];return--n>0&&(t=e[n],i(e[t._=0]=t,0)),r}},t.remove=function(t){var o,a=t._;if(e[a]===t)return a!==--n&&(G(o=e[n],t)<0?r:i)(e[o._=a]=o,a),a},t}();null==e&&(e=B);var o=t.arcs.map((function(t){var i,o,s,u=[],c=0;for(o=1,s=(t=t.map(n)).length-1;o<s;++o)(i=[t[o-1],t[o],t[o+1]])[1][2]=e(i),u.push(i),r.push(i);for(t[0][2]=t[s][2]=1/0,o=0,s=u.length;o<s;++o)(i=u[o]).previous=u[o-1],i.next=u[o+1];for(;i=r.pop();){var l=i.previous,f=i.next;i[1][2]<c?i[1][2]=c:c=i[1][2],l&&(l.next=f,l[2]=i[2],a(l)),f&&(f.previous=l,f[0]=i[0],a(f))}return t}));function a(t){r.remove(t),t[1][2]=e(t),r.push(t)}return{type:"Topology",bbox:t.bbox,objects:t.objects,arcs:o}},K=function(t,e){var n=[];return t.arcs.forEach((function(t){t.forEach((function(t){isFinite(t[2])&&n.push(t[2])}))})),n.length&&function(t,e){if(!(n=t.length))return;if((e=+e)<=0||n<2)return t[0];if(e>=1)return t[n-1];var n,r=(n-1)*e,i=Math.floor(r),o=t[i],a=t[i+1];return o+(a-o)*(r-i)}(n.sort(X),e)};function X(t,e){return e-t}var Y=function(t,e){e=null==e?Number.MIN_VALUE:+e;var n=t.arcs.map((function(t){for(var n,r=-1,i=0,o=t.length,a=new Array(o);++r<o;)(n=t[r])[2]>=e&&(a[i++]=[n[0],n[1]]);return a.length=i,a}));return{type:"Topology",transform:t.transform,bbox:t.bbox,objects:t.objects,arcs:n}},Z=Math.PI,$=2*Z,J=Z/4,Q=Z/180,tt=Math.abs,et=Math.atan2,nt=Math.cos,rt=Math.sin;function it(t,e){for(var n,r,i=0,o=t.length,a=0,s=t[e?i++:o-1],u=s[0]*Q,c=s[1]*Q/2+J,l=nt(c),f=rt(c);i<o;++i){n=u,u=(s=t[i])[0]*Q,c=s[1]*Q/2+J,r=l,l=nt(c);var h=u-n,p=h>=0?1:-1,d=p*h,y=f*(f=rt(c)),v=r*l+y*nt(d),g=y*p*rt(d);a+=et(g,v)}return a}function ot(t,e){var n=it(t,!0);return e&&(n*=-1),2*(n<0?$+n:n)}function at(t){return 2*tt(it(t,!1))}},function(t,e,n){"use strict";n.r(e),n.d(e,"DragDropContext",(function(){return jr})),n.d(e,"Draggable",(function(){return vi})),n.d(e,"Droppable",(function(){return xi})),n.d(e,"resetServerContext",(function(){return Ir}));var r=n(1),i=n.n(r),o=n(51),a=n(17),s=n(94),u=n(31),c=n(18),l=n(70),f=function(t){var e=t.top,n=t.right,r=t.bottom,i=t.left;return{top:e,right:n,bottom:r,left:i,width:n-i,height:r-e,x:i,y:e,center:{x:(n+i)/2,y:(r+e)/2}}},h=function(t,e){return{top:t.top-e.top,left:t.left-e.left,bottom:t.bottom+e.bottom,right:t.right+e.right}},p=function(t,e){return{top:t.top+e.top,left:t.left+e.left,bottom:t.bottom-e.bottom,right:t.right-e.right}},d={top:0,right:0,bottom:0,left:0},y=function(t){var e=t.borderBox,n=t.margin,r=void 0===n?d:n,i=t.border,o=void 0===i?d:i,a=t.padding,s=void 0===a?d:a,u=f(h(e,r)),c=f(p(e,o)),l=f(p(c,s));return{marginBox:u,borderBox:f(e),paddingBox:c,contentBox:l,margin:r,border:o,padding:s}},v=function(t){var e=t.slice(0,-2);if("px"!==t.slice(-2))return 0;var n=Number(e);return isNaN(n)&&Object(l.a)(!1),n},g=function(t,e){var n,r,i=t.borderBox,o=t.border,a=t.margin,s=t.padding,u=(r=e,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return y({borderBox:u,border:o,margin:a,padding:s})},m=function(t,e){return void 0===e&&(e={x:window.pageXOffset,y:window.pageYOffset}),g(t,e)},b=function(t,e){var n={top:v(e.marginTop),right:v(e.marginRight),bottom:v(e.marginBottom),left:v(e.marginLeft)},r={top:v(e.paddingTop),right:v(e.paddingRight),bottom:v(e.paddingBottom),left:v(e.paddingLeft)},i={top:v(e.borderTopWidth),right:v(e.borderRightWidth),bottom:v(e.borderBottomWidth),left:v(e.borderLeftWidth)};return y({borderBox:t,margin:n,padding:r,border:i})},_=function(t){var e=t.getBoundingClientRect(),n=window.getComputedStyle(t);return b(e,n)};function x(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var w=function(t,e){var n;void 0===e&&(e=x);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&e(a,i)||(r=t.apply(this,a),o=!0,n=this,i=a),r}},E=function(t){var e=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e=i,n||(n=requestAnimationFrame((function(){n=null,t.apply(void 0,e)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r},S=n(82),k=n.n(S);function O(t,e){}O.bind(null,"warn"),O.bind(null,"error");function C(){}function P(t,e,n){var r=e.map((function(e){var r,i,o=(r=n,i=e.options,Object(a.a)({},r,{},i));return t.addEventListener(e.eventName,e.fn,o),function(){t.removeEventListener(e.eventName,e.fn,o)}}));return function(){r.forEach((function(t){t()}))}}var T="Invariant failed";function M(t){this.message=t}function A(t,e){if(!t)throw new M(T)}M.prototype.toString=function(){return this.message};var I=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).callbacks=null,e.unbind=C,e.onWindowError=function(t){var n=e.getCallbacks();n.isDragging()&&n.tryAbort(),t.error instanceof M&&t.preventDefault()},e.getCallbacks=function(){if(!e.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return e.callbacks},e.setCallbacks=function(t){e.callbacks=t},e}Object(o.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.unbind=P(window,[{eventName:"error",fn:this.onWindowError}])},n.componentWillUnmount=function(){this.unbind()},n.componentDidCatch=function(t){if(!(t instanceof M))throw t;this.setState({})},n.render=function(){return this.props.children(this.setCallbacks)},e}(i.a.Component),j=function(t){return t+1},R=function(t,e){var n=t.droppableId===e.droppableId,r=j(t.index),i=j(e.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+t.droppableId+"\n    to list "+e.droppableId+"\n    in position "+i+"\n  "},D=function(t,e,n){return e.droppableId===n.droppableId?"\n      The item "+t+"\n      has been combined with "+n.draggableId:"\n      The item "+t+"\n      in list "+e.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},N=function(t){return"\n  The item has returned to its starting position\n  of "+j(t.index)+"\n"},L="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",z=function(t){return"\n  You have lifted an item in position "+j(t.source.index)+"\n"},F=function(t){var e=t.destination;if(e)return R(t.source,e);var n=t.combine;return n?D(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},B=function(t){if("CANCEL"===t.reason)return"\n      Movement cancelled.\n      "+N(t.source)+"\n    ";var e=t.destination,n=t.combine;return e?"\n      You have dropped the item.\n      "+R(t.source,e)+"\n    ":n?"\n      You have dropped the item.\n      "+D(t.draggableId,t.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+N(t.source)+"\n  "},U={x:0,y:0},q=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},V=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},G=function(t,e){return t.x===e.x&&t.y===e.y},W=function(t){return{x:0!==t.x?-t.x:0,y:0!==t.y?-t.y:0}},H=function(t,e,n){var r;return void 0===n&&(n=0),(r={})[t]=e,r["x"===t?"y":"x"]=n,r},K=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},X=function(t,e){return Math.min.apply(Math,e.map((function(e){return K(t,e)})))},Y=function(t){return function(e){return{x:t(e.x),y:t(e.y)}}},Z=function(t,e){return{top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}},$=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},J=function(t,e){return e&&e.shouldClipSubject?function(t,e){var n=f({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n}(e.pageMarginBox,t):f(t)},Q=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,o=function(t,e,n){var r;return n&&n.increasedBy?Object(a.a)({},t,((r={})[e.end]=t[e.end]+n.increasedBy[e.line],r)):t}(function(t,e){return e?Z(t,e.scroll.diff.displacement):t}(e.marginBox,i),r,n);return{page:e,withPlaceholder:n,active:J(o,i)}},tt=function(t,e){t.frame||A(!1);var n=t.frame,r=V(e,n.scroll.initial),i=W(r),o=Object(a.a)({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),s=Q({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o});return Object(a.a)({},t,{frame:o,subject:s})};function et(t){return Object.values?Object.values(t):Object.keys(t).map((function(e){return t[e]}))}function nt(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function rt(t,e){if(t.find)return t.find(e);var n=nt(t,e);return-1!==n?t[n]:void 0}function it(t){return Array.prototype.slice.call(t)}var ot=w((function(t){return t.reduce((function(t,e){return t[e.descriptor.id]=e,t}),{})})),at=w((function(t){return t.reduce((function(t,e){return t[e.descriptor.id]=e,t}),{})})),st=w((function(t){return et(t)})),ut=w((function(t){return et(t)})),ct=w((function(t,e){return ut(e).filter((function(e){return t===e.descriptor.droppableId})).sort((function(t,e){return t.descriptor.index-e.descriptor.index}))}));function lt(t){return t.at&&"REORDER"===t.at.type?t.at.destination:null}function ft(t){return t.at&&"COMBINE"===t.at.type?t.at.combine:null}var ht=w((function(t,e){return e.filter((function(e){return e.descriptor.id!==t.descriptor.id}))})),pt=function(t,e){return t.descriptor.droppableId===e.descriptor.id},dt={point:U,value:0},yt={invisible:{},visible:{},all:[]},vt={displaced:yt,displacedBy:dt,at:null},gt=function(t,e){return function(n){return t<=n&&n<=e}},mt=function(t){var e=gt(t.top,t.bottom),n=gt(t.left,t.right);return function(r){if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var a=r.top<t.top&&r.bottom>t.bottom,s=r.left<t.left&&r.right>t.right;return!(!a||!s)||(a&&o||s&&i)}},bt=function(t){var e=gt(t.top,t.bottom),n=gt(t.left,t.right);return function(t){return e(t.top)&&e(t.bottom)&&n(t.left)&&n(t.right)}},_t={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xt={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},wt=function(t){var e=t.target,n=t.destination,r=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,a=i?function(t,e){var n=e.frame?e.frame.scroll.diff.displacement:U;return Z(t,n)}(e,n):e;return function(t,e,n){return!!e.subject.active&&n(e.subject.active)(t)}(a,n,o)&&function(t,e,n){return n(e)(t)}(a,r,o)},Et=function(t){return wt(Object(a.a)({},t,{isVisibleThroughFrameFn:mt}))},St=function(t){return wt(Object(a.a)({},t,{isVisibleThroughFrameFn:bt}))};function kt(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,o=t.forceShouldAnimate,a=t.last;return e.reduce((function(t,e){var s=function(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return f(h(n,r))}(e,r),u=e.descriptor.id;if(t.all.push(u),!Et({target:s,destination:n,viewport:i,withDroppableDisplacement:!0}))return t.invisible[e.descriptor.id]=!0,t;var c={draggableId:u,shouldAnimate:function(t,e,n){if("boolean"===typeof n)return n;if(!e)return!0;var r=e.invisible,i=e.visible;if(r[t])return!1;var o=i[t];return!o||o.shouldAnimate}(u,a,o)};return t.visible[u]=c,t}),{all:[],visible:{},invisible:{}})}function Ot(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,o=function(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}(e,{inHomeList:n});return{displaced:yt,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Ct(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,o=t.displacedBy,a=t.last,s=t.index,u=t.forceShouldAnimate,c=pt(e,r);if(null==s)return Ot({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var l=rt(n,(function(t){return t.descriptor.index===s}));if(!l)return Ot({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var f=ht(e,n),h=n.indexOf(l);return{displaced:kt({afterDragging:f.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:u}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Pt(t,e){return Boolean(e.effected[t])}var Tt=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,o=t.destination,a=t.insideDestination,s=t.previousImpact,u=t.viewport,c=t.afterCritical,l=s.at;if(l||A(!1),"REORDER"===l.type){var f=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var o=i.index,a=e?o+1:o-1,s=r[0].descriptor.index,u=r[r.length-1].descriptor.index;return a<s||a>(n?u:u+1)?null:a}({isMovingForward:e,isInHomeList:n,location:l.destination,insideDestination:a});return null==f?null:Ct({draggable:r,insideDestination:a,destination:o,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:f})}var h=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,s=r[a].descriptor.index;return Pt(a,o)?e?s:s-1:e?s+1:s}({isMovingForward:e,destination:o,displaced:s.displaced,draggables:i,combine:l.combine,afterCritical:c});return null==h?null:Ct({draggable:r,insideDestination:a,destination:o,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:h})},Mt=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=ft(n);i||A(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,o=Boolean(e.visible[r]||e.invisible[r]);return Pt(r,n)?o?U:W(i.point):o?i.point:U}({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return q(a,s)},At=function(t,e){return e.margin[t.start]+e.borderBox[t.size]/2},It=function(t,e,n){return e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},jt=function(t){var e=t.axis,n=t.moveRelativeTo,r=t.isMoving;return H(e.line,n.marginBox[e.end]+At(e,r),It(e,n.marginBox,r))},Rt=function(t){var e=t.axis,n=t.moveRelativeTo,r=t.isMoving;return H(e.line,n.marginBox[e.start]-function(t,e){return e.margin[t.end]+e.borderBox[t.size]/2}(e,r),It(e,n.marginBox,r))},Dt=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,o=t.afterCritical,a=ct(i.descriptor.id,r),s=n.page,u=i.axis;if(!a.length)return function(t){var e=t.axis,n=t.moveInto,r=t.isMoving;return H(e.line,n.contentBox[e.start]+At(e,r),It(e,n.contentBox,r))}({axis:u,moveInto:i.page,isMoving:s});var c=e.displaced,l=e.displacedBy,f=c.all[0];if(f){var h=r[f];if(Pt(f,o))return Rt({axis:u,moveRelativeTo:h.page,isMoving:s});var p=g(h.page,l.point);return Rt({axis:u,moveRelativeTo:p,isMoving:s})}var d=a[a.length-1];if(d.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Pt(d.descriptor.id,o)){var y=g(d.page,W(o.displacedBy.point));return jt({axis:u,moveRelativeTo:y,isMoving:s})}return jt({axis:u,moveRelativeTo:d.page,isMoving:s})},Nt=function(t,e){var n=t.frame;return n?q(e,n.scroll.diff.displacement):e},Lt=function(t){var e=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.afterCritical,a=n.page.borderBox.center,s=e.at;return r&&s?"REORDER"===s.type?Dt({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:o}):Mt({impact:e,draggables:i,afterCritical:o}):a}(t),n=t.droppable;return n?Nt(n,e):e},zt=function(t,e){var n=V(e,t.scroll.initial),r=W(n);return{frame:f({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function Ft(t,e){return t.map((function(t){return e[t]}))}var Bt=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=function(t,e){return q(t.scroll.diff.displacement,e)}(t.viewport,e),i=V(r,n.page.borderBox.center);return q(n.client.borderBox.center,i)},Ut=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,o=t.withDroppableDisplacement,s=t.onlyOnMainAxis,u=void 0!==s&&s,c=V(r,e.page.borderBox.center),l={target:Z(e.page.borderBox,c),destination:n,withDroppableDisplacement:o,viewport:i};return u?function(t){return wt(Object(a.a)({},t,{isVisibleThroughFrameFn:(e=t.destination.axis,function(t){var n=gt(t.top,t.bottom),r=gt(t.left,t.right);return function(t){return e===_t?n(t.top)&&n(t.bottom):r(t.left)&&r(t.right)}})}));var e}(l):St(l)},qt=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,o=t.previousImpact,s=t.viewport,u=t.previousPageBorderBoxCenter,c=t.previousClientSelection,l=t.afterCritical;if(!r.isEnabled)return null;var f=ct(r.descriptor.id,i),h=pt(n,r),p=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.previousImpact;if(!r.isCombineEnabled)return null;if(!lt(o))return null;function s(t){var e={type:"COMBINE",combine:{draggableId:t,droppableId:r.descriptor.id}};return Object(a.a)({},o,{at:e})}var u=o.displaced.all,c=u.length?u[0]:null;if(e)return c?s(c):null;var l=ht(n,i);if(!c)return l.length?s(l[l.length-1].descriptor.id):null;var f=nt(l,(function(t){return t.descriptor.id===c}));-1===f&&A(!1);var h=f-1;return h<0?null:s(l[h].descriptor.id)}({isMovingForward:e,draggable:n,destination:r,insideDestination:f,previousImpact:o})||Tt({isMovingForward:e,isInHomeList:h,draggable:n,draggables:i,destination:r,insideDestination:f,previousImpact:o,viewport:s,afterCritical:l});if(!p)return null;var d=Lt({impact:p,draggable:n,droppable:r,draggables:i,afterCritical:l});if(Ut({draggable:n,destination:r,newPageBorderBoxCenter:d,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Bt({pageBorderBoxCenter:d,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null};var y=V(d,u);return{clientSelection:c,impact:function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,o=t.maxScrollChange,s=zt(n,q(n.scroll.current,o)),u=r.frame?tt(r,q(r.frame.scroll.current,o)):r,c=e.displaced,l=kt({afterDragging:Ft(c.all,i),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:c,forceShouldAnimate:!1}),f=kt({afterDragging:Ft(c.all,i),destination:u,displacedBy:e.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),h={},p={},d=[c,l,f];return c.all.forEach((function(t){var e=function(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}(t,d);e?p[t]=e:h[t]=!0})),Object(a.a)({},e,{displaced:{all:c.all,invisible:h,visible:p}})}({impact:p,viewport:s,destination:r,draggables:i,maxScrollChange:y}),scrollJumpRequest:y}},Vt=function(t){var e=t.subject.active;return e||A(!1),e},Gt=function(t,e){var n=t.page.borderBox.center;return Pt(t.descriptor.id,e)?V(n,e.displacedBy.point):n},Wt=function(t,e){var n=t.page.borderBox;return Pt(t.descriptor.id,e)?Z(n,W(e.displacedBy.point)):n},Ht=w((function(t,e){var n=e[t.line];return{value:n,point:H(t.line,n)}})),Kt=function(t,e){return Object(a.a)({},t,{scroll:Object(a.a)({},t.scroll,{max:e})})},Xt=function(t,e,n){var r=t.frame;pt(e,t)&&A(!1),t.subject.withPlaceholder&&A(!1);var i=Ht(t.axis,e.displaceBy).point,o=function(t,e,n){var r=t.axis;if("virtual"===t.descriptor.mode)return H(r.line,e[r.line]);var i=t.subject.page.contentBox[r.size],o=ct(t.descriptor.id,n).reduce((function(t,e){return t+e.client.marginBox[r.size]}),0)+e[r.line]-i;return o<=0?null:H(r.line,o)}(t,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){var u=Q({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return Object(a.a)({},t,{subject:u})}var c=o?q(r.scroll.max,o):r.scroll.max,l=Kt(r,c),f=Q({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:l});return Object(a.a)({},t,{subject:f,frame:l})},Yt=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,o=t.draggables,a=t.droppables,s=t.viewport,u=t.afterCritical,c=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,o=t.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,u=gt(a[s.start],a[s.end]),c=st(i).filter((function(t){return t!==r})).filter((function(t){return t.isEnabled})).filter((function(t){return Boolean(t.subject.active)})).filter((function(t){return mt(o.frame)(Vt(t))})).filter((function(t){var n=Vt(t);return e?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(t){var e=Vt(t),n=gt(e[s.start],e[s.end]);return u(e[s.start])||u(e[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(t,n){var r=Vt(t)[s.crossAxisStart],i=Vt(n)[s.crossAxisStart];return e?r-i:i-r})).filter((function(t,e,n){return Vt(t)[s.crossAxisStart]===Vt(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var l=c.filter((function(t){return gt(Vt(t)[s.start],Vt(t)[s.end])(n[s.line])}));return 1===l.length?l[0]:l.length>1?l.sort((function(t,e){return Vt(t)[s.start]-Vt(e)[s.start]}))[0]:c.sort((function(t,e){var r=X(n,$(Vt(t))),i=X(n,$(Vt(e)));return r!==i?r-i:Vt(t)[s.start]-Vt(e)[s.start]}))[0]}({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;var l=ct(c.descriptor.id,o),f=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,o=t.draggables,a=t.destination,s=t.viewport,u=t.afterCritical;if(!n){if(r.length)return null;var c={displaced:yt,displacedBy:dt,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},l=Lt({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:u}),f=pt(i,a)?a:Xt(a,i,o);return Ut({draggable:i,destination:f,newPageBorderBoxCenter:l,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var h=Boolean(e[a.axis.line]<=n.page.borderBox.center[a.axis.line]),p=function(){var t=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?t:t+1}(),d=Ht(a.axis,i.displaceBy);return Ct({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:d,last:yt,index:p})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,o=t.afterCritical;return i.filter((function(t){return St({target:Wt(t,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(t,n){var i=K(e,Nt(r,Gt(t,o))),a=K(e,Nt(r,Gt(n,o)));return i<a?-1:a<i?1:t.descriptor.index-n.descriptor.index}))[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:l,afterCritical:u}),insideDestination:l,viewport:s,afterCritical:u});if(!f)return null;var h=Lt({impact:f,draggable:r,droppable:c,draggables:o,afterCritical:u});return{clientSelection:Bt({pageBorderBoxCenter:h,draggable:r,viewport:s}),impact:f,scrollJumpRequest:null}},Zt=function(t){var e=t.at;return e?"REORDER"===e.type?e.destination.droppableId:e.combine.droppableId:null},$t=function(t){var e=t.state,n=t.type,r=function(t,e){var n=Zt(t);return n?e[n]:null}(e.impact,e.dimensions.droppables),i=Boolean(r),o=e.dimensions.droppables[e.critical.droppable.id],a=r||o,s=a.axis.direction,u="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(u&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,l=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,h=e.dimensions,p=h.draggables,d=h.droppables;return u?qt({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:l,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Yt({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:l,isOver:a,draggables:p,droppables:d,viewport:e.viewport,afterCritical:e.afterCritical})};function Jt(t){return"DRAGGING"===t.phase||"COLLECTING"===t.phase}function Qt(t){var e=gt(t.top,t.bottom),n=gt(t.left,t.right);return function(t){return e(t.y)&&n(t.x)}}function te(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=st(r).filter((function(t){if(!t.isEnabled)return!1;var n,r,i=t.subject.active;if(!i)return!1;if(r=i,!((n=e).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Qt(i)(e.center))return!0;var o=t.axis,a=i.center[o.crossAxisLine],s=e[o.crossAxisStart],u=e[o.crossAxisEnd],c=gt(i[o.crossAxisStart],i[o.crossAxisEnd]),l=c(s),f=c(u);return!l&&!f||(l?s<a:u>a)}));return i.length?1===i.length?i[0].descriptor.id:function(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,o=r.map((function(t){var n=t.axis,r=H(t.axis.line,e.center[n.line],t.page.borderBox.center[n.crossAxisLine]);return{id:t.descriptor.id,distance:K(i,r)}})).sort((function(t,e){return e.distance-t.distance}));return o[0]?o[0].id:null}({pageBorderBox:e,draggable:n,candidates:i}):null}var ee=function(t,e){return f(Z(t,e))};function ne(t){var e=t.displaced,n=t.id;return Boolean(e.visible[n]||e.invisible[n])}var re=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,o=t.previousImpact,a=t.viewport,s=t.afterCritical,u=ee(n.page.borderBox,e),c=te({pageBorderBox:u,draggable:n,droppables:i});if(!c)return vt;var l=i[c],f=ct(l.descriptor.id,r),h=function(t,e){var n=t.frame;return n?ee(e,n.scroll.diff.value):e}(l,u);return function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,o=t.insideDestination,a=t.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,u=Ht(i.axis,e.displaceBy),c=u.value,l=n[s.start],f=n[s.end],h=rt(ht(e,o),(function(t){var e=t.descriptor.id,n=t.page.borderBox,i=n[s.size]/4,o=Pt(e,a),u=ne({displaced:r.displaced,id:e});return o?u?f>n[s.start]+i&&f<n[s.end]-i:l>n[s.start]-c+i&&l<n[s.end]-c-i:u?f>n[s.start]+c+i&&f<n[s.end]+c-i:l>n[s.start]+i&&l<n[s.end]-i}));return h?{displacedBy:u,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:l,insideDestination:f,afterCritical:s})||function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.last,a=t.viewport,s=t.afterCritical,u=r.axis,c=Ht(r.axis,n.displaceBy),l=c.value,f=e[u.start],h=e[u.end],p=function(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:rt(ht(n,i),(function(t){var e=t.descriptor.id,n=t.page.borderBox.center[u.line],r=Pt(e,s),i=ne({displaced:o,id:e});return r?i?h<=n:f<n-l:i?h<=n+l:f<n})),inHomeList:pt(n,r)});return Ct({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:l,insideDestination:f,last:o.displaced,viewport:a,afterCritical:s})},ie=function(t,e){var n;return Object(a.a)({},t,((n={})[e.descriptor.id]=e,n))},oe=function(t){var e=t.previousImpact,n=t.impact,r=t.droppables,i=Zt(e),o=Zt(n);if(!i)return r;if(i===o)return r;var s=r[i];if(!s.subject.withPlaceholder)return r;var u=function(t){var e=t.subject.withPlaceholder;e||A(!1);var n=t.frame;if(!n){var r=Q({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Object(a.a)({},t,{subject:r})}var i=e.oldFrameMaxScroll;i||A(!1);var o=Kt(n,i),s=Q({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return Object(a.a)({},t,{subject:s,frame:o})}(s);return ie(r,u)},ae=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,o=t.impact,s=t.scrollJumpRequest,u=i||e.viewport,c=r||e.dimensions,l=n||e.current.client.selection,f=V(l,e.initial.client.selection),h={offset:f,selection:l,borderBoxCenter:q(e.initial.client.borderBoxCenter,f)},p={selection:q(h.selection,u.scroll.current),borderBoxCenter:q(h.borderBoxCenter,u.scroll.current),offset:q(h.offset,u.scroll.diff.value)},d={client:h,page:p};if("COLLECTING"===e.phase)return Object(a.a)({phase:"COLLECTING"},e,{dimensions:c,viewport:u,current:d});var y=c.draggables[e.critical.draggable.id],v=o||re({pageOffset:p.offset,draggable:y,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:u,afterCritical:e.afterCritical}),g=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,o=t.impact,a=oe({previousImpact:i,impact:o,droppables:r}),s=Zt(o);if(!s)return a;var u=r[s];if(pt(e,u))return a;if(u.subject.withPlaceholder)return a;var c=Xt(u,e,n);return ie(a,c)}({draggable:y,impact:v,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return Object(a.a)({},e,{current:d,dimensions:{draggables:c.draggables,droppables:g},impact:v,viewport:u,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null})};var se=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,o=t.forceShouldAnimate,s=e.displaced,u=kt({afterDragging:function(t,e){return t.map((function(t){return e[t]}))}(s.all,r),destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return Object(a.a)({},e,{displaced:u})},ue=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.viewport,a=t.afterCritical,s=Lt({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:a});return Bt({pageBorderBoxCenter:s,draggable:n,viewport:o})},ce=function(t){var e=t.state,n=t.dimensions,r=t.viewport;"SNAP"!==e.movementMode&&A(!1);var i=e.impact,o=r||e.viewport,a=n||e.dimensions,s=a.draggables,u=a.droppables,c=s[e.critical.draggable.id],l=Zt(i);l||A(!1);var f=u[l],h=se({impact:i,viewport:o,destination:f,draggables:s}),p=ue({impact:h,draggable:c,droppable:f,draggables:s,viewport:o,afterCritical:e.afterCritical});return ae({impact:h,clientSelection:p,state:e,dimensions:a,viewport:o})},le=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,o=Ht(n.axis,e.displaceBy),a=ct(n.descriptor.id,r),s=a.indexOf(e);-1===s&&A(!1);var u,c=a.slice(s+1),l=c.reduce((function(t,e){return t[e.descriptor.id]=!0,t}),{}),f={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:l};return{impact:{displaced:kt({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(u=e.descriptor,{index:u.index,droppableId:u.droppableId})}},afterCritical:f}},fe=function(t){0},he=function(t){0},pe=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map((function(t){var e=t.descriptor.droppableId,o=function(t){var e=t.frame;return e||A(!1),e}(n[e]).scroll.diff.value;return function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=g(e.client,n),o=m(i,r);return Object(a.a)({},e,{placeholder:Object(a.a)({},e.placeholder,{client:i}),client:i,page:o})}({draggable:t,offset:q(i,o),initialWindowScroll:r.scroll.initial})}))},de=function(t){return"SNAP"===t.movementMode},ye=function(t,e,n){var r=function(t,e){return{draggables:t.draggables,droppables:ie(t.droppables,e)}}(t.dimensions,e);return!de(t)||n?ae({state:t,dimensions:r}):ce({state:t,dimensions:r})};function ve(t){return t.isDragging&&"SNAP"===t.movementMode?Object(a.a)({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var ge={phase:"IDLE",completed:null,shouldFlush:!1},me=function(t,e){if(void 0===t&&(t=ge),"FLUSH"===e.type)return Object(a.a)({},ge,{shouldFlush:!0});if("INITIAL_PUBLISH"===e.type){"IDLE"!==t.phase&&A(!1);var n=e.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,u=n.movementMode,c=s.draggables[r.draggable.id],l=s.droppables[r.droppable.id],f={selection:i,borderBoxCenter:c.client.borderBox.center,offset:U},h={client:f,page:{selection:q(f.selection,o.scroll.initial),borderBoxCenter:q(f.selection,o.scroll.initial),offset:q(f.selection,o.scroll.diff.value)}},p=st(s.droppables).every((function(t){return!t.isFixedOnPage})),d=le({draggable:c,home:l,draggables:s.draggables,viewport:o}),y=d.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:u,dimensions:s,initial:h,current:h,isWindowScrollAllowed:p,impact:y,afterCritical:d.afterCritical,onLiftImpact:y,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===e.type)return"COLLECTING"===t.phase||"DROP_PENDING"===t.phase?t:("DRAGGING"!==t.phase&&A(!1),Object(a.a)({phase:"COLLECTING"},t,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===e.type)return"COLLECTING"!==t.phase&&"DROP_PENDING"!==t.phase&&A(!1),function(t){var e=t.state,n=t.published;fe();var r=n.modified.map((function(t){var n=e.dimensions.droppables[t.droppableId];return tt(n,t.scroll)})),i=Object(a.a)({},e.dimensions.droppables,{},ot(r)),o=at(pe({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),s=Object(a.a)({},e.dimensions.draggables,{},o);n.removals.forEach((function(t){delete s[t]}));var u={droppables:i,draggables:s},c=Zt(e.impact),l=c?u.droppables[c]:null,f=u.draggables[e.critical.draggable.id],h=u.droppables[e.critical.droppable.id],p=le({draggable:f,home:h,draggables:s,viewport:e.viewport}),d=p.impact,y=p.afterCritical,v=l&&l.isCombineEnabled?e.impact:d,g=re({pageOffset:e.current.page.offset,draggable:u.draggables[e.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:v,viewport:e.viewport,afterCritical:y});he();var m=Object(a.a)({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:g,onLiftImpact:d,dimensions:u,afterCritical:y,forceShouldAnimate:!1});return"COLLECTING"===e.phase?m:Object(a.a)({phase:"DROP_PENDING"},m,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1})}({state:t,published:e.payload});if("MOVE"===e.type){if("DROP_PENDING"===t.phase)return t;Jt(t)||A(!1);var v=e.payload.client;return G(v,t.current.client.selection)?t:ae({state:t,clientSelection:v,impact:de(t)?t.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===e.type){if("DROP_PENDING"===t.phase)return ve(t);if("COLLECTING"===t.phase)return ve(t);Jt(t)||A(!1);var g=e.payload,m=g.id,b=g.newScroll,_=t.dimensions.droppables[m];if(!_)return t;var x=tt(_,b);return ye(t,x,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===e.type){if("DROP_PENDING"===t.phase)return t;Jt(t)||A(!1);var w=e.payload,E=w.id,S=w.isEnabled,k=t.dimensions.droppables[E];k||A(!1),k.isEnabled===S&&A(!1);var O=Object(a.a)({},k,{isEnabled:S});return ye(t,O,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===e.type){if("DROP_PENDING"===t.phase)return t;Jt(t)||A(!1);var C=e.payload,P=C.id,T=C.isCombineEnabled,M=t.dimensions.droppables[P];M||A(!1),M.isCombineEnabled===T&&A(!1);var I=Object(a.a)({},M,{isCombineEnabled:T});return ye(t,I,!0)}if("MOVE_BY_WINDOW_SCROLL"===e.type){if("DROP_PENDING"===t.phase||"DROP_ANIMATING"===t.phase)return t;Jt(t)||A(!1),t.isWindowScrollAllowed||A(!1);var j=e.payload.newScroll;if(G(t.viewport.scroll.current,j))return ve(t);var R=zt(t.viewport,j);return de(t)?ce({state:t,viewport:R}):ae({state:t,viewport:R})}if("UPDATE_VIEWPORT_MAX_SCROLL"===e.type){if(!Jt(t))return t;var D=e.payload.maxScroll;if(G(D,t.viewport.scroll.max))return t;var N=Object(a.a)({},t.viewport,{scroll:Object(a.a)({},t.viewport.scroll,{max:D})});return Object(a.a)({phase:"DRAGGING"},t,{viewport:N})}if("MOVE_UP"===e.type||"MOVE_DOWN"===e.type||"MOVE_LEFT"===e.type||"MOVE_RIGHT"===e.type){if("COLLECTING"===t.phase||"DROP_PENDING"===t.phase)return t;"DRAGGING"!==t.phase&&A(!1);var L=$t({state:t,type:e.type});return L?ae({state:t,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):t}if("DROP_PENDING"===e.type){var z=e.payload.reason;return"COLLECTING"!==t.phase&&A(!1),Object(a.a)({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:z})}if("DROP_ANIMATE"===e.type){var F=e.payload,B=F.completed,V=F.dropDuration,W=F.newHomeClientOffset;return"DRAGGING"!==t.phase&&"DROP_PENDING"!==t.phase&&A(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:V,newHomeClientOffset:W,dimensions:t.dimensions}}return"DROP_COMPLETE"===e.type?{phase:"IDLE",completed:e.payload.completed,shouldFlush:!1}:t},be=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},_e=function(){return{type:"COLLECTION_STARTING",payload:null}},xe=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},we=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Ee=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Se=function(t){return{type:"MOVE",payload:t}},ke=function(){return{type:"MOVE_UP",payload:null}},Oe=function(){return{type:"MOVE_DOWN",payload:null}},Ce=function(){return{type:"MOVE_RIGHT",payload:null}},Pe=function(){return{type:"MOVE_LEFT",payload:null}},Te=function(t){return{type:"DROP_COMPLETE",payload:t}},Me=function(t){return{type:"DROP",payload:t}},Ae=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Ie="cubic-bezier(.2,1,.1,1)",je={drop:0,combining:.7},Re={drop:.75},De=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Ne={fluid:"opacity "+De,snap:"transform "+De+", opacity "+De,drop:function(t){var e=t+"s "+Ie;return"transform "+e+", opacity "+e},outOfTheWay:"transform "+De,placeholder:"height "+De+", width "+De+", margin "+De},Le=function(t){return G(t,U)?null:"translate("+t.x+"px, "+t.y+"px)"},ze=Le,Fe=function(t,e){var n=Le(t);return n?e?n+" scale("+Re.drop+")":n:null},Be=.33,Ue=.55,qe=Ue-Be,Ve=function(t){var e=t.getState,n=t.dispatch;return function(t){return function(r){if("DROP"===r.type){var i=e(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&A(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&A(!1);var s=i.critical,u=i.dimensions,c=u.draggables[i.critical.draggable.id],l=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,o=t.viewport,s=t.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:Object(a.a)({},r,{displaced:yt}),didDropInsideDroppable:!0}:{impact:se({draggables:e,impact:s,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=l.impact,h=l.didDropInsideDroppable,p=h?lt(f):null,d=h?ft(f):null,y={index:s.draggable.index,droppableId:s.droppable.id},v={draggableId:c.descriptor.id,type:c.descriptor.type,source:y,reason:o,mode:i.movementMode,destination:p,combine:d},g=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,o=t.afterCritical,a=r.draggables,s=r.droppables,u=Zt(e),c=u?s[u]:null,l=s[n.descriptor.droppableId],f=ue({impact:e,draggable:n,draggables:a,afterCritical:o,droppable:c||l,viewport:i});return V(f,n.client.borderBox.center)}({impact:f,draggable:c,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),m={critical:i.critical,afterCritical:i.afterCritical,result:v,impact:f};if(!G(i.current.client.offset,g)||Boolean(v.combine)){var b=function(t){var e=t.current,n=t.destination,r=t.reason,i=K(e,n);if(i<=0)return Be;if(i>=1500)return Ue;var o=Be+qe*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:i.current.client.offset,destination:g,reason:o});n(function(t){return{type:"DROP_ANIMATE",payload:t}}({newHomeClientOffset:g,dropDuration:b,completed:m}))}else n(Te({completed:m}))}}else n(function(t){return{type:"DROP_PENDING",payload:t}}({reason:o}))}else t(r)}}},Ge=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function We(t){var e=t.onWindowScroll;var n,r=E((function(){e(Ge())})),i=(n=r,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||n()}}),o=C;function a(){return o!==C}return{start:function(){a()&&A(!1),o=P(window,[i])},stop:function(){a()||A(!1),r.cancel(),o(),o=C},isActive:a}}var He=function(t){var e=We({onWindowScroll:function(e){t.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:e}})}});return function(t){return function(n){e.isActive()||"INITIAL_PUBLISH"!==n.type||e.start(),e.isActive()&&function(t){return"DROP_COMPLETE"===t.type||"DROP_ANIMATE"===t.type||"FLUSH"===t.type}(n)&&e.stop(),t(n)}}},Ke=function(){var t=[];return{add:function(e){var n=setTimeout((function(){return function(e){var n=nt(t,(function(t){return t.timerId===e}));-1===n&&A(!1),t.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:e};t.push(r)},flush:function(){if(t.length){var e=[].concat(t);t.length=0,e.forEach((function(t){clearTimeout(t.timerId),t.callback()}))}}}},Xe=function(t,e){fe(),e(),he()},Ye=function(t,e){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e}},Ze=function(t,e,n,r){if(t){var i=function(t){var e=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){e||n||(e=!0,t(i),clearTimeout(r))};return i.wasCalled=function(){return e},i}(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}else n(r(e))},$e=function(t,e){var n=function(t,e){var n=Ke(),r=null,i=function(n){r||A(!1),r=null,Xe(0,(function(){return Ze(t().onDragEnd,n,e,B)}))};return{beforeCapture:function(e,n){r&&A(!1),Xe(0,(function(){var r=t().onBeforeCapture;r&&r({draggableId:e,mode:n})}))},beforeStart:function(e,n){r&&A(!1),Xe(0,(function(){var r=t().onBeforeDragStart;r&&r(Ye(e,n))}))},start:function(i,o){r&&A(!1);var a=Ye(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((function(){Xe(0,(function(){return Ze(t().onDragStart,a,e,z)}))}))},update:function(i,o){var s=lt(o),u=ft(o);r||A(!1);var c=!function(t,e){if(t===e)return!0;var n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r}(i,r.lastCritical);c&&(r.lastCritical=i);var l,f,h=(f=s,!(null==(l=r.lastLocation)&&null==f||null!=l&&null!=f&&l.droppableId===f.droppableId&&l.index===f.index));h&&(r.lastLocation=s);var p=!function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.draggableId===e.draggableId&&t.droppableId===e.droppableId}(r.lastCombine,u);if(p&&(r.lastCombine=u),c||h||p){var d=Object(a.a)({},Ye(i,r.mode),{combine:u,destination:s});n.add((function(){Xe(0,(function(){return Ze(t().onDragUpdate,d,e,F)}))}))}},flush:function(){r||A(!1),n.flush()},drop:i,abort:function(){if(r){var t=Object(a.a)({},Ye(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(t)}}}}(t,e);return function(t){return function(e){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),e(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),e(r),void n.drop(o)}if(e(r),"FLUSH"!==r.type){var a=t.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Je=function(t){return function(e){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=t.getState();"DROP_ANIMATING"!==r.phase&&A(!1),t.dispatch(Te({completed:r.completed}))}else e(n)}}},Qe=function(t){var e=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===t.getState().phase&&t.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,e=P(window,[o])}))}}}},tn=function(t){return function(e){return function(n){if(e(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=t.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||t.dispatch(Me({reason:r.reason})))}}}},en=s.d,nn=function(t){var e,n=t.dimensionMarshal,r=t.focusMarshal,i=t.styleMarshal,o=t.getResponders,a=t.announce,u=t.autoScroller;return Object(s.e)(me,en(Object(s.a)((e=i,function(){return function(t){return function(n){"INITIAL_PUBLISH"===n.type&&e.dragging(),"DROP_ANIMATE"===n.type&&e.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||e.resting(),t(n)}}}),function(t){return function(){return function(e){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||t.stopPublishing(),e(n)}}}}(n),function(t){return function(e){var n=e.getState,r=e.dispatch;return function(e){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,s=o.clientSelection,u=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(Te({completed:c.completed})),"IDLE"!==n().phase&&A(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:u}});var l={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===u}},f=t.startPublishing(l),h=f.critical,p=f.dimensions,d=f.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:h,dimensions:p,clientSelection:s,movementMode:u,viewport:d}})}else e(i)}}}}(n),Ve,Je,Qe,tn,function(t){return function(e){return function(n){return function(r){if(function(t){return"DROP_COMPLETE"===t.type||"DROP_ANIMATE"===t.type||"FLUSH"===t.type}(r))return t.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=e.getState();return"DRAGGING"!==i.phase&&A(!1),void t.start(i)}n(r),t.scroll(e.getState())}}}}(u),He,function(t){var e=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),void t.tryRestoreFocusRecorded();if(n(r),e){if("FLUSH"===r.type)return e=!1,void t.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}}(r),$e(o,a))))};var rn=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,o=V({x:n,y:e},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},on=function(){var t=document.documentElement;return t||A(!1),t},an=function(){var t=on();return rn({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},sn=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry;fe();var i=function(){var t=Ge(),e=an(),n=t.y,r=t.x,i=on(),o=i.clientWidth,a=i.clientHeight;return{frame:f({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:t,current:t,max:e,diff:{value:U,displacement:U}}}}(),o=i.scroll.current,a=e.droppable,s=r.droppable.getAllByType(a.type).map((function(t){return t.callbacks.getDimensionAndWatchScroll(o,n)})),u=r.draggable.getAllByType(e.draggable.type).map((function(t){return t.getDimension(o)})),c={draggables:at(u),droppables:ot(s)};return he(),{dimensions:c,critical:e,viewport:i}};function un(t,e,n){return n.descriptor.id!==e.id&&(n.descriptor.type===e.type&&"virtual"===t.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var cn=function(t,e){var n=null,r=function(t){var e=t.registry,n=t.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,fe();var t=r,o=t.additions,a=t.removals,s=t.modified,u=Object.keys(o).map((function(t){return e.draggable.getById(t).getDimension(U)})).sort((function(t,e){return t.descriptor.index-e.descriptor.index})),c=Object.keys(s).map((function(t){return{droppableId:t,scroll:e.droppable.getById(t).callbacks.getScrollWhileDragging()}})),l={additions:u,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},he(),n.publish(l)})))};return{add:function(t){var e=t.descriptor.id;r.additions[e]=t,r.modified[t.descriptor.droppableId]=!0,r.removals[e]&&delete r.removals[e],o()},remove:function(t){var e=t.descriptor;r.removals[e.id]=!0,r.modified[e.droppableId]=!0,r.additions[e.id]&&delete r.additions[e.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(e){n||A(!1);var i=n.critical.draggable;"ADDITION"===e.type&&un(t,i,e.value)&&r.add(e.value),"REMOVAL"===e.type&&un(t,i,e.value)&&r.remove(e.value)};return{updateDroppableIsEnabled:function(r,i){t.droppable.exists(r)||A(!1),n&&e.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(t.droppable.exists(r)||A(!1),e.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(e,r){n&&t.droppable.getById(e).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(t.droppable.exists(r)||A(!1),e.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(e){n&&A(!1);var r=t.draggable.getById(e.draggableId),o=t.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=t.subscribe(i);return n={critical:a,unsubscribe:s},sn({critical:a,registry:t,scrollOptions:e.scrollOptions})},stopPublishing:function(){if(n){r.stop();var e=n.critical.droppable;t.droppable.getAllByType(e.type).forEach((function(t){return t.callbacks.dragStopped()})),n.unsubscribe(),n=null}}}},ln=function(t,e){return"IDLE"===t.phase||"DROP_ANIMATING"===t.phase&&(t.completed.result.draggableId!==e&&"DROP"===t.completed.result.reason)},fn=function(t){window.scrollBy(t.x,t.y)},hn=w((function(t){return st(t).filter((function(t){return!!t.isEnabled&&!!t.frame}))})),pn=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}return function(t,e){return rt(hn(e),(function(e){return e.frame||A(!1),Qt(e.frame.pageMarginBox)(t)}))}(e,r)},dn=.25,yn=.05,vn=28,gn=function(t){return Math.pow(t,2)},mn={stopDampeningAt:1200,accelerateAt:360},bn=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;return 0===i?0:(r-e)/i},_n=mn.accelerateAt,xn=mn.stopDampeningAt,wn=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,o=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return vn;if(t===e.startScrollingFrom)return 1;var n=bn({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=vn*gn(1-n);return Math.ceil(r)}(e,n);return 0===o?0:i?Math.max(function(t,e){var n=e,r=xn,i=Date.now()-n;if(i>=xn)return t;if(i<_n)return 1;var o=bn({startOfRange:_n,endOfRange:r,current:i}),a=t*gn(o);return Math.ceil(a)}(o,r),1):o},En=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,o=t.shouldUseTimeDampening,a=function(t,e){return{startScrollingFrom:t[e.size]*dn,maxScrollValueAt:t[e.size]*yn}}(e,i);return n[i.end]<n[i.start]?wn({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*wn({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},Sn=Y((function(t){return 0===t?0:t})),kn=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,o=t.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=En({container:n,distanceToEdges:a,dragStartTime:e,axis:_t,shouldUseTimeDampening:o}),u=En({container:n,distanceToEdges:a,dragStartTime:e,axis:xt,shouldUseTimeDampening:o}),c=Sn({x:u,y:s});if(G(c,U))return null;var l=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,o=n.width>e.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return l?G(l,U)?null:l:null},On=Y((function(t){return 0===t?0:t>0?1:-1})),Cn=function(){var t=function(t,e){return t<0?t:t>e?t-e:0};return function(e){var n=e.current,r=e.max,i=e.change,o=q(n,i),a={x:t(o.x,r.x),y:t(o.y,r.y)};return G(a,U)?null:a}}(),Pn=function(t){var e=t.max,n=t.current,r=t.change,i={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},o=On(r),a=Cn({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},Tn=function(t,e){return Pn({current:t.scroll.current,max:t.scroll.max,change:e})},Mn=function(t,e){var n=t.frame;return!!n&&Pn({current:n.scroll.current,max:n.scroll.max,change:e})},An=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,o=t.scrollDroppable,a=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){var u=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,a=kn({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&Tn(e,a)?a:null}({dragStartTime:n,viewport:e.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(u)return void i(u)}var c=pn({center:a,destination:Zt(e.impact),droppables:e.dimensions.droppables});if(c){var l=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,a=e.frame;if(!a)return null;var s=kn({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&Mn(e,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});l&&o(c.descriptor.id,l)}},In=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(t,e){if(!Mn(t,e))return e;var r=function(t,e){var n=t.frame;return n&&Mn(t,e)?Cn({current:n.scroll.current,max:n.scroll.max,change:e}):null}(t,e);if(!r)return n(t.descriptor.id,e),null;var i=V(e,r);return n(t.descriptor.id,i),V(e,i)},o=function(t,e,n){if(!t)return n;if(!Tn(e,n))return n;var i=function(t,e){if(!Tn(t,e))return null;var n=t.scroll.max,r=t.scroll.current;return Cn({current:r,max:n,change:e})}(e,n);if(!i)return r(n),null;var o=V(n,i);return r(o),V(n,o)};return function(t){var n=t.scrollJumpRequest;if(n){var r=Zt(t.impact);r||A(!1);var a=i(t.dimensions.droppables[r],n);if(a){var s=t.viewport,u=o(t.isWindowScrollAllowed,s,a);u&&function(t,n){var r=q(t.current.client.selection,n);e({client:r})}(t,u)}}}},jn=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=E(e),i=E(n),o=null,a=function(t){o||A(!1);var e=o,n=e.shouldUseTimeDampening,a=e.dragStartTime;An({state:t,scrollWindow:r,scrollDroppable:i,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(t){fe(),o&&A(!1);var e=Date.now(),n=!1,r=function(){n=!0};An({state:t,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:e,shouldUseTimeDampening:n},he(),n&&a(t)},stop:function(){o&&(r.cancel(),i.cancel(),o=null)},scroll:a}}({scrollWindow:n,scrollDroppable:e}),o=In({move:r,scrollWindow:n,scrollDroppable:e});return{scroll:function(t){"DRAGGING"===t.phase&&("FLUID"!==t.movementMode?t.scrollJumpRequest&&o(t):i.scroll(t))},start:i.start,stop:i.stop}},Rn=function(){var t="data-rbd-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),Dn=function(){var t="data-rbd-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),Nn=function(){var t="data-rbd-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),Ln={contextId:"data-rbd-scroll-container-context-id"},zn=function(t,e){return t.map((function(t){var n=t.styles[e];return n?t.selector+" { "+n+" }":""})).join(" ")},Fn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,Bn=function(){var t=document.querySelector("head");return t||A(!1),t},Un=function(t){var e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function qn(t,e){var n=Object(c.c)((function(){return function(t){var e,n=(e=t,function(t){return"["+t+'="'+e+'"]'}),r=function(){var t="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(Rn.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:t,dragging:"pointer-events: none;",dropAnimating:t}}}(),i=[function(){var t="\n      transition: "+Ne.outOfTheWay+";\n    ";return{selector:n(Dn.contextId),styles:{dragging:t,dropAnimating:t,userCancel:t}}}(),r,{selector:n(Nn.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:zn(i,"always"),resting:zn(i,"resting"),dragging:zn(i,"dragging"),dropAnimating:zn(i,"dropAnimating"),userCancel:zn(i,"userCancel")}}(t)}),[t]),i=Object(r.useRef)(null),o=Object(r.useRef)(null),a=Object(c.a)(w((function(t){var e=o.current;e||A(!1),e.textContent=t})),[]),s=Object(c.a)((function(t){var e=i.current;e||A(!1),e.textContent=t}),[]);Fn((function(){(i.current||o.current)&&A(!1);var r=Un(e),u=Un(e);return i.current=r,o.current=u,r.setAttribute("data-rbd-always",t),u.setAttribute("data-rbd-dynamic",t),Bn().appendChild(r),Bn().appendChild(u),s(n.always),a(n.resting),function(){var t=function(t){var e=t.current;e||A(!1),Bn().removeChild(e),t.current=null};t(i),t(o)}}),[e,s,a,n.always,n.resting,t]);var u=Object(c.a)((function(){return a(n.dragging)}),[a,n.dragging]),l=Object(c.a)((function(t){a("DROP"!==t?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),f=Object(c.a)((function(){o.current&&a(n.resting)}),[a,n.resting]);return Object(c.c)((function(){return{dragging:u,dropping:l,resting:f}}),[u,l,f])}var Vn=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function Gn(t){return t instanceof Vn(t).HTMLElement}function Wn(t,e){var n="["+Rn.contextId+'="'+t+'"]',r=it(document.querySelectorAll(n));if(!r.length)return null;var i=rt(r,(function(t){return t.getAttribute(Rn.draggableId)===e}));return i&&Gn(i)?i:null}function Hn(){var t={draggables:{},droppables:{}},e=[];function n(t){e.length&&e.forEach((function(e){return e(t)}))}function r(e){return t.draggables[e]||null}function i(e){return t.droppables[e]||null}return{draggable:{register:function(e){t.draggables[e.descriptor.id]=e,n({type:"ADDITION",value:e})},update:function(e,n){var r=t.draggables[n.descriptor.id];r&&r.uniqueId===e.uniqueId&&(delete t.draggables[n.descriptor.id],t.draggables[e.descriptor.id]=e)},unregister:function(e){var i=e.descriptor.id,o=r(i);o&&e.uniqueId===o.uniqueId&&(delete t.draggables[i],n({type:"REMOVAL",value:e}))},getById:function(t){var e=r(t);return e||A(!1),e},findById:r,exists:function(t){return Boolean(r(t))},getAllByType:function(e){return et(t.draggables).filter((function(t){return t.descriptor.type===e}))}},droppable:{register:function(e){t.droppables[e.descriptor.id]=e},unregister:function(e){var n=i(e.descriptor.id);n&&e.uniqueId===n.uniqueId&&delete t.droppables[e.descriptor.id]},getById:function(t){var e=i(t);return e||A(!1),e},findById:i,exists:function(t){return Boolean(i(t))},getAllByType:function(e){return et(t.droppables).filter((function(t){return t.descriptor.type===e}))}},subscribe:function(t){return e.push(t),function(){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},clean:function(){t.draggables={},t.droppables={},e.length=0}}}var Kn=i.a.createContext(null),Xn=function(){var t=document.body;return t||A(!1),t},Yn={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Zn=0,$n={separator:"::"};function Jn(t,e){return void 0===e&&(e=$n),Object(c.c)((function(){return""+t+e.separator+Zn++}),[e.separator,t])}var Qn=i.a.createContext(null);function tr(t){0}function er(t,e){tr()}function nr(){er()}function rr(t){var e=Object(r.useRef)(t);return Object(r.useEffect)((function(){e.current=t})),e}var ir,or=((ir={})[13]=!0,ir[9]=!0,ir),ar=function(t){or[t.keyCode]&&t.preventDefault()},sr=function(){var t="visibilitychange";return"undefined"===typeof document?t:rt([t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],(function(t){return"on"+t in document}))||t}();var ur,cr={type:"IDLE"};function lr(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(t){var e=t.button,n=t.clientX,o=t.clientY;if(0===e){var a={x:n,y:o},s=r();if("DRAGGING"===s.type)return t.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&A(!1);var u=s.point;if(c=u,l=a,Math.abs(l.x-c.x)>=5||Math.abs(l.y-c.y)>=5){var c,l;t.preventDefault();var f=s.actions.fluidLift(a);i({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(t){var i=r();"DRAGGING"===i.type?(t.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):e()}},{eventName:"mousedown",fn:function(t){"DRAGGING"===r().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:function(t){if("PENDING"!==r().type)return 27===t.keyCode?(t.preventDefault(),void e()):void ar(t);e()}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&e()}},{eventName:"webkitmouseforcedown",fn:function(t){var n=r();"IDLE"===n.type&&A(!1),n.actions.shouldRespectForcePress()?e():t.preventDefault()}},{eventName:sr,fn:e}]}function fr(){}var hr=((ur={})[34]=!0,ur[33]=!0,ur[36]=!0,ur[35]=!0,ur);function pr(t,e){function n(){e(),t.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),e(),void t.drop()):40===r.keyCode?(r.preventDefault(),void t.moveDown()):38===r.keyCode?(r.preventDefault(),void t.moveUp()):39===r.keyCode?(r.preventDefault(),void t.moveRight()):37===r.keyCode?(r.preventDefault(),void t.moveLeft()):void(hr[r.keyCode]?r.preventDefault():ar(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:sr,fn:n}]}var dr={type:"IDLE"};var yr={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function vr(t,e){if(null==e)return!1;if(Boolean(yr[e.tagName.toLowerCase()]))return!0;var n=e.getAttribute("contenteditable");return"true"===n||""===n||e!==t&&vr(t,e.parentElement)}function gr(t,e){var n=e.target;return!!Gn(n)&&vr(t,n)}var mr=function(t){return f(t.getBoundingClientRect()).center};var br=function(){var t="matches";return"undefined"===typeof document?t:rt([t,"msMatchesSelector","webkitMatchesSelector"],(function(t){return t in Element.prototype}))||t}();function _r(t,e){return null==t?null:t[br](e)?t:_r(t.parentElement,e)}function xr(t,e){return t.closest?t.closest(e):_r(t,e)}function wr(t,e){var n,r=e.target;if(!((n=r)instanceof Vn(n).Element))return null;var i=xr(r,function(t){return"["+Rn.contextId+'="'+t+'"]'}(t));return i&&Gn(i)?i:null}function Er(t){t.preventDefault()}function Sr(t){var e=t.expected,n=t.phase,r=t.isLockActive;t.shouldWarn;return!!r()&&e===n}function kr(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!ln(n.getState(),i))}function Or(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,o=t.draggableId,s=t.forceSensorStop,u=t.sourceEvent;if(!kr({lockAPI:e,store:r,registry:i,draggableId:o}))return null;var c=i.draggable.getById(o),l=function(t,e){var n="["+Dn.contextId+'="'+t+'"]',r=rt(it(document.querySelectorAll(n)),(function(t){return t.getAttribute(Dn.id)===e}));return r&&Gn(r)?r:null}(n,c.descriptor.id);if(!l)return null;if(u&&!c.options.canDragInteractiveElements&&gr(l,u))return null;var f=e.claim(s||C),h="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function d(){return e.isActive(f)}var y=function(t,e){Sr({expected:t,phase:h,isLockActive:d,shouldWarn:!0})&&r.dispatch(e())}.bind(null,"DRAGGING");function v(t){function n(){e.release(),h="COMPLETED"}function i(e,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),t.cleanup(),i.shouldBlockNextClick){var o=P(window,[{eventName:"click",fn:Er,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(Me({reason:e}))}return"PRE_DRAG"!==h&&(n(),"PRE_DRAG"!==h&&A(!1)),r.dispatch(function(t){return{type:"LIFT",payload:t}}(t.liftActionArgs)),h="DRAGGING",Object(a.a)({isActive:function(){return Sr({expected:"DRAGGING",phase:h,isLockActive:d,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(t){return i("DROP",t)},cancel:function(t){return i("CANCEL",t)}},t.actions)}return{isActive:function(){return Sr({expected:"PRE_DRAG",phase:h,isLockActive:d,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(t){var e=E((function(t){y((function(){return Se({client:t})}))})),n=v({liftActionArgs:{id:o,clientSelection:t,movementMode:"FLUID"},cleanup:function(){return e.cancel()},actions:{move:e}});return Object(a.a)({},n,{move:e})},snapLift:function(){var t={moveUp:function(){return y(ke)},moveRight:function(){return y(Ce)},moveDown:function(){return y(Oe)},moveLeft:function(){return y(Pe)}};return v({liftActionArgs:{id:o,clientSelection:mr(l),movementMode:"SNAP"},cleanup:C,actions:t})},abort:function(){Sr({expected:"PRE_DRAG",phase:h,isLockActive:d,shouldWarn:!0})&&e.release()}}}var Cr=[function(t){var e=Object(r.useRef)(cr),n=Object(r.useRef)(C),i=Object(c.c)((function(){return{eventName:"mousedown",fn:function(e){if(!e.defaultPrevented&&0===e.button&&!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){var r=t.findClosestDraggableId(e);if(r){var i=t.tryGetLock(r,s,{sourceEvent:e});if(i){e.preventDefault();var o={x:e.clientX,y:e.clientY};n.current(),f(i,o)}}}}}}),[t]),o=Object(c.c)((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(e){if(!e.defaultPrevented){var n=t.findClosestDraggableId(e);if(n){var r=t.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||t.canGetLock(n)&&e.preventDefault())}}}}}),[t]),a=Object(c.a)((function(){n.current=P(window,[o,i],{passive:!1,capture:!0})}),[o,i]),s=Object(c.a)((function(){"IDLE"!==e.current.type&&(e.current=cr,n.current(),a())}),[a]),u=Object(c.a)((function(){var t=e.current;s(),"DRAGGING"===t.type&&t.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===t.type&&t.actions.abort()}),[s]),l=Object(c.a)((function(){var t=lr({cancel:u,completed:s,getPhase:function(){return e.current},setPhase:function(t){e.current=t}});n.current=P(window,t,{capture:!0,passive:!1})}),[u,s]),f=Object(c.a)((function(t,n){"IDLE"!==e.current.type&&A(!1),e.current={type:"PENDING",point:n,actions:t},l()}),[l]);Fn((function(){return a(),function(){n.current()}}),[a])},function(t){var e=Object(r.useRef)(fr),n=Object(c.c)((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var r=t.findClosestDraggableId(n);if(r){var o=t.tryGetLock(r,u,{sourceEvent:n});if(o){n.preventDefault();var a=!0,s=o.snapLift();e.current(),e.current=P(window,pr(s,u),{capture:!0,passive:!1})}}}function u(){a||A(!1),a=!1,e.current(),i()}}}}),[t]),i=Object(c.a)((function(){e.current=P(window,[n],{passive:!1,capture:!0})}),[n]);Fn((function(){return i(),function(){e.current()}}),[i])},function(t){var e=Object(r.useRef)(dr),n=Object(r.useRef)(C),i=Object(c.a)((function(){return e.current}),[]),o=Object(c.a)((function(t){e.current=t}),[]),a=Object(c.c)((function(){return{eventName:"touchstart",fn:function(e){if(!e.defaultPrevented){var r=t.findClosestDraggableId(e);if(r){var i=t.tryGetLock(r,u,{sourceEvent:e});if(i){var o=e.touches[0],a={x:o.clientX,y:o.clientY};n.current(),p(i,a)}}}}}}),[t]),s=Object(c.a)((function(){n.current=P(window,[a],{capture:!0,passive:!1})}),[a]),u=Object(c.a)((function(){var t=e.current;"IDLE"!==t.type&&("PENDING"===t.type&&clearTimeout(t.longPressTimerId),o(dr),n.current(),s())}),[s,o]),l=Object(c.a)((function(){var t=e.current;u(),"DRAGGING"===t.type&&t.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===t.type&&t.actions.abort()}),[u]),f=Object(c.a)((function(){var t={capture:!0,passive:!1},e={cancel:l,completed:u,getPhase:i},r=P(window,function(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(t){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=t.touches[0],o={x:i.clientX,y:i.clientY};t.preventDefault(),n.actions.move(o)}else e()}},{eventName:"touchend",fn:function(t){var i=r();"DRAGGING"===i.type?(t.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):e()}},{eventName:"touchcancel",fn:function(t){"DRAGGING"===r().type?(t.preventDefault(),e()):e()}},{eventName:"touchforcechange",fn:function(t){var n=r();"IDLE"===n.type&&A(!1);var i=t.touches[0];if(i&&i.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void t.preventDefault():void e():void t.preventDefault();o&&e()}}},{eventName:sr,fn:e}]}(e),t),o=P(window,function(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(t){t.preventDefault()}},{eventName:"keydown",fn:function(t){"DRAGGING"===n().type?(27===t.keyCode&&t.preventDefault(),e()):e()}},{eventName:sr,fn:e}]}(e),t);n.current=function(){r(),o()}}),[l,i,u]),h=Object(c.a)((function(){var t=i();"PENDING"!==t.type&&A(!1);var e=t.actions.fluidLift(t.point);o({type:"DRAGGING",actions:e,hasMoved:!1})}),[i,o]),p=Object(c.a)((function(t,e){"IDLE"!==i().type&&A(!1);var n=setTimeout(h,120);o({type:"PENDING",point:e,actions:t,longPressTimerId:n}),f()}),[f,i,o,h]);Fn((function(){return s(),function(){n.current();var t=i();"PENDING"===t.type&&(clearTimeout(t.longPressTimerId),o(dr))}}),[i,s,o]),Fn((function(){return P(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Pr(t){var e=t.contextId,n=t.store,i=t.registry,o=t.customSensors,a=t.enableDefaultSensors,s=[].concat(a?Cr:[],o||[]),u=Object(r.useState)((function(){return function(){var t=null;function e(){t||A(!1),t=null}return{isClaimed:function(){return Boolean(t)},isActive:function(e){return e===t},claim:function(e){t&&A(!1);var n={abandon:e};return t=n,n},release:e,tryAbandon:function(){t&&(t.abandon(),e())}}}()}))[0],l=Object(c.a)((function(t,e){t.isDragging&&!e.isDragging&&u.tryAbandon()}),[u]);Fn((function(){var t=n.getState();return n.subscribe((function(){var e=n.getState();l(t,e),t=e}))}),[u,n,l]),Fn((function(){return u.tryAbandon}),[u.tryAbandon]);var f=Object(c.a)((function(t){return kr({lockAPI:u,registry:i,store:n,draggableId:t})}),[u,i,n]),h=Object(c.a)((function(t,r,o){return Or({lockAPI:u,registry:i,contextId:e,store:n,draggableId:t,forceSensorStop:r,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[e,u,i,n]),p=Object(c.a)((function(t){return function(t,e){var n=wr(t,e);return n?n.getAttribute(Rn.draggableId):null}(e,t)}),[e]),d=Object(c.a)((function(t){var e=i.draggable.findById(t);return e?e.options:null}),[i.draggable]),y=Object(c.a)((function(){u.isClaimed()&&(u.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[u,n]),v=Object(c.a)(u.isClaimed,[u]),g=Object(c.c)((function(){return{canGetLock:f,tryGetLock:h,findClosestDraggableId:p,findOptionsForDraggable:d,tryReleaseLock:y,isLockClaimed:v}}),[f,h,p,d,y,v]);tr();for(var m=0;m<s.length;m++)s[m](g)}function Tr(t){return t.current||A(!1),t.current}function Mr(t){var e=t.contextId,n=t.setCallbacks,o=t.sensors,l=t.nonce,f=t.dragHandleUsageInstructions,h=Object(r.useRef)(null);nr();var p=rr(t),d=Object(c.a)((function(){return function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}}(p.current)}),[p]),y=function(t){var e=Object(c.c)((function(){return function(t){return"rbd-announcement-"+t}(t)}),[t]),n=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=document.createElement("div");return n.current=t,t.id=e,t.setAttribute("aria-live","assertive"),t.setAttribute("aria-atomic","true"),Object(a.a)(t.style,Yn),Xn().appendChild(t),function(){setTimeout((function(){var e=Xn();e.contains(t)&&e.removeChild(t),t===n.current&&(n.current=null)}))}}),[e]),Object(c.a)((function(t){var e=n.current;e&&(e.textContent=t)}),[])}(e),v=function(t){var e=t.contextId,n=t.text,i=Jn("hidden-text",{separator:"-"}),o=Object(c.c)((function(){return"rbd-hidden-text-"+(t={contextId:e,uniqueId:i}).contextId+"-"+t.uniqueId;var t}),[i,e]);return Object(r.useEffect)((function(){var t=document.createElement("div");return t.id=o,t.textContent=n,t.style.display="none",Xn().appendChild(t),function(){var e=Xn();e.contains(t)&&e.removeChild(t)}}),[o,n]),o}({contextId:e,text:f}),g=qn(e,l),m=Object(c.a)((function(t){Tr(h).dispatch(t)}),[]),b=Object(c.c)((function(){return Object(s.b)({publishWhileDragging:be,updateDroppableScroll:xe,updateDroppableIsEnabled:we,updateDroppableIsCombineEnabled:Ee,collectionStarting:_e},m)}),[m]),_=function(){var t=Object(c.c)(Hn,[]);return Object(r.useEffect)((function(){return function(){requestAnimationFrame(t.clean)}}),[t]),t}(),x=Object(c.c)((function(){return cn(_,b)}),[_,b]),w=Object(c.c)((function(){return jn(Object(a.a)({scrollWindow:fn,scrollDroppable:x.scrollDroppable},Object(s.b)({move:Se},m)))}),[x.scrollDroppable,m]),E=function(t){var e=Object(r.useRef)({}),n=Object(r.useRef)(null),i=Object(r.useRef)(null),o=Object(r.useRef)(!1),a=Object(c.a)((function(t,n){var r={id:t,focus:n};return e.current[t]=r,function(){var n=e.current;n[t]!==r&&delete n[t]}}),[]),s=Object(c.a)((function(e){var n=Wn(t,e);n&&n!==document.activeElement&&n.focus()}),[t]),u=Object(c.a)((function(t,e){n.current===t&&(n.current=e)}),[]),l=Object(c.a)((function(){i.current||o.current&&(i.current=requestAnimationFrame((function(){i.current=null;var t=n.current;t&&s(t)})))}),[s]),f=Object(c.a)((function(t){n.current=null;var e=document.activeElement;e&&e.getAttribute(Rn.draggableId)===t&&(n.current=t)}),[]);return Fn((function(){return o.current=!0,function(){o.current=!1;var t=i.current;t&&cancelAnimationFrame(t)}}),[]),Object(c.c)((function(){return{register:a,tryRecordFocus:f,tryRestoreFocusRecorded:l,tryShiftRecord:u}}),[a,f,l,u])}(e),S=Object(c.c)((function(){return nn({announce:y,autoScroller:w,dimensionMarshal:x,focusMarshal:E,getResponders:d,styleMarshal:g})}),[y,w,x,E,d,g]);h.current=S;var k=Object(c.a)((function(){var t=Tr(h);"IDLE"!==t.getState().phase&&t.dispatch({type:"FLUSH",payload:null})}),[]),O=Object(c.a)((function(){var t=Tr(h).getState();return t.isDragging||"DROP_ANIMATING"===t.phase}),[]);n(Object(c.c)((function(){return{isDragging:O,tryAbort:k}}),[O,k]));var C=Object(c.a)((function(t){return ln(Tr(h).getState(),t)}),[]),P=Object(c.a)((function(){return Jt(Tr(h).getState())}),[]),T=Object(c.c)((function(){return{marshal:x,focus:E,contextId:e,canLift:C,isMovementAllowed:P,dragHandleUsageInstructionsId:v,registry:_}}),[e,x,v,E,C,P,_]);return Pr({contextId:e,store:S,registry:_,customSensors:o,enableDefaultSensors:!1!==t.enableDefaultSensors}),Object(r.useEffect)((function(){return k}),[k]),i.a.createElement(Qn.Provider,{value:T},i.a.createElement(u.Provider,{context:Kn,store:S},t.children))}var Ar=0;function Ir(){Ar=0,Zn=0}function jr(t){var e=Object(c.c)((function(){return""+Ar++}),[]),n=t.dragHandleUsageInstructions||L;return i.a.createElement(I,null,(function(r){return i.a.createElement(Mr,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)}))}var Rr=function(t){return function(e){return t===e}},Dr=Rr("scroll"),Nr=Rr("auto"),Lr=(Rr("visible"),function(t,e){return e(t.overflowX)||e(t.overflowY)}),zr=function(t){var e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return Lr(n,Dr)||Lr(n,Nr)},Fr=function t(e){return null==e||e===document.body||e===document.documentElement?null:zr(e)?e:t(e.parentElement)},Br=function(t){return{x:t.scrollLeft,y:t.scrollTop}},Ur=function t(e){return!!e&&("fixed"===window.getComputedStyle(e).position||t(e.parentElement))},qr=function(t){return{closestScrollable:Fr(t),isFixedOnPage:Ur(t)}},Vr=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,o=t.direction,a=t.isDropDisabled,s=t.isCombineEnabled,u=t.shouldClipSubject,c=r.closestScrollable,l=function(t,e){var n=_(t);if(!e)return n;if(t!==e)return n;var r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,o=r+e.scrollHeight,a=i+e.scrollWidth,s=h({top:r,right:a,bottom:o,left:i},n.border);return y({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(e,c),f=m(l,i),p=function(){if(!c)return null;var t=_(c),e={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:t,page:m(t,i),scroll:Br(c),scrollSize:e,shouldClipSubject:u}}();return function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,o=t.direction,a=t.client,s=t.page,u=t.closest,c=function(){if(!u)return null;var t=u.scrollSize,e=u.client,n=rn({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,height:e.paddingBox.height,width:e.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:e,scrollSize:t,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:n,diff:{value:U,displacement:U}}}}(),l="vertical"===o?_t:xt;return{descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:l,isEnabled:n,client:a,page:s,frame:c,subject:Q({page:s,withPlaceholder:null,axis:l,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:l,page:f,closest:p})},Gr={passive:!1},Wr={passive:!0},Hr=function(t){return t.shouldPublishImmediately?Gr:Wr};function Kr(t){var e=Object(r.useContext)(t);return e||A(!1),e}var Xr=function(t){return t&&t.env.closestScrollable||null};function Yr(){}var Zr={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},$r=function(t){var e=t.isAnimatingOpenOnMount,n=t.placeholder,r=t.animate,i=function(t){var e=t.isAnimatingOpenOnMount,n=t.placeholder,r=t.animate;return e||"close"===r?Zr:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:e,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Ne.placeholder:null}};var Jr=i.a.memo((function(t){var e=Object(r.useRef)(null),n=Object(c.a)((function(){e.current&&(clearTimeout(e.current),e.current=null)}),[]),o=t.animate,a=t.onTransitionEnd,s=t.onClose,u=t.contextId,l=Object(r.useState)("open"===t.animate),f=l[0],h=l[1];Object(r.useEffect)((function(){return f?"open"!==o?(n(),h(!1),Yr):e.current?Yr:(e.current=setTimeout((function(){e.current=null,h(!1)})),n):Yr}),[o,f,n]);var p=Object(c.a)((function(t){"height"===t.propertyName&&(a(),"close"===o&&s())}),[o,s,a]),d=$r({isAnimatingOpenOnMount:f,animate:t.animate,placeholder:t.placeholder});return i.a.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":u,onTransitionEnd:p,ref:t.innerRef})})),Qr=i.a.createContext(null);var ti=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={isVisible:Boolean(e.props.on),data:e.props.on,animate:e.props.shouldAnimate&&e.props.on?"open":"none"},e.onClose=function(){"close"===e.state.animate&&e.setState({isVisible:!1})},e}return Object(o.a)(e,t),e.getDerivedStateFromProps=function(t,e){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:e.isVisible?{isVisible:!0,data:e.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(t.on),data:t.on,animate:"none"}},e.prototype.render=function(){if(!this.state.isVisible)return null;var t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)},e}(i.a.PureComponent),ei=5e3,ni=4500,ri=function(t,e){return e?Ne.drop(e.duration):t?Ne.snap:Ne.fluid},ii=function(t,e){return t?e?je.drop:je.combining:null};function oi(t){return"DRAGGING"===t.type?function(t){var e=t.dimension.client,n=t.offset,r=t.combineWith,i=t.dropping,o=Boolean(r),a=function(t){return null!=t.forceShouldAnimate?t.forceShouldAnimate:"SNAP"===t.mode}(t),s=Boolean(i),u=s?Fe(n,o):ze(n);return{position:"fixed",top:e.marginBox.top,left:e.marginBox.left,boxSizing:"border-box",width:e.borderBox.width,height:e.borderBox.height,transition:ri(a,i),transform:u,opacity:ii(o,s),zIndex:s?ni:ei,pointerEvents:"none"}}(t):{transform:ze((e=t).offset),transition:e.shouldAnimateDisplacement?null:"none"};var e}function ai(t){var e=Jn("draggable"),n=t.descriptor,i=t.registry,o=t.getDraggableRef,a=t.canDragInteractiveElements,s=t.shouldRespectForcePress,u=t.isEnabled,l=Object(c.c)((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:u}}),[a,u,s]),f=Object(c.a)((function(t){var e=o();return e||A(!1),function(t,e,n){void 0===n&&(n=U);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=b(i,r),a=m(o,n);return{descriptor:t,placeholder:{client:o,tagName:e.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,e,t)}),[n,o]),h=Object(c.c)((function(){return{uniqueId:e,descriptor:n,options:l,getDimension:f}}),[n,f,l,e]),p=Object(r.useRef)(h),d=Object(r.useRef)(!0);Fn((function(){return i.draggable.register(p.current),function(){return i.draggable.unregister(p.current)}}),[i.draggable]),Fn((function(){if(d.current)d.current=!1;else{var t=p.current;p.current=h,i.draggable.update(h,t)}}),[h,i.draggable])}function si(t,e,n){er()}function ui(t){t.preventDefault()}var ci=function(t,e){return t===e},li=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null};function fi(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var hi={mapped:{type:"SECONDARY",offset:U,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:fi(null)}};var pi={dropAnimationFinished:Ae},di=Object(u.connect)((function(){var t=function(){var t=w((function(t,e){return{x:t,y:e}})),e=w((function(t,e,n,r,i){return{isDragging:!0,isClone:e,isDropAnimating:Boolean(i),dropAnimation:i,mode:t,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=w((function(t,n,r,i,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:t,dimension:r,forceShouldAnimate:s,snapshot:e(n,i,o,a,null)}}}));return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=Zt(r.impact),u=(l=r.impact).at&&"COMBINE"===l.at.type?l.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(t(o.x,o.y),r.movementMode,a,i.isClone,s,u,c)}var l;if("DROP_ANIMATING"===r.phase){var f=r.completed;if(f.result.draggableId!==i.draggableId)return null;var h=i.isClone,p=r.dimensions.draggables[i.draggableId],d=f.result,y=d.mode,v=li(d),g=function(t){return t.combine?t.combine.draggableId:null}(d),m={duration:r.dropDuration,curve:Ie,moveTo:r.newHomeClientOffset,opacity:g?je.drop:null,scale:g?Re.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:p,dropping:m,draggingOver:v,combineWith:g,mode:y,forceShouldAnimate:null,snapshot:e(y,h,v,g,m)}}}return null}}(),e=function(){var t=w((function(t,e){return{x:t,y:e}})),e=w(fi),n=w((function(t,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:t,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:e(n)}}})),r=function(t){return t?n(U,t,!0):null},i=function(e,i,o,a){var s=o.displaced.visible[e],u=Boolean(a.inVirtualList&&a.effected[e]),c=ft(o),l=c&&c.draggableId===e?i:null;if(!s){if(!u)return r(l);if(o.displaced.invisible[e])return null;var f=W(a.displacedBy.point),h=t(f.x,f.y);return n(h,l,!0)}if(u)return r(l);var p=o.displacedBy.point,d=t(p.x,p.y);return n(d,l,s.shouldAnimate)};return function(t,e){if(t.isDragging)return t.critical.draggable.id===e.draggableId?null:i(e.draggableId,t.critical.draggable.id,t.impact,t.afterCritical);if("DROP_ANIMATING"===t.phase){var n=t.completed;return n.result.draggableId===e.draggableId?null:i(e.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return t(n,r)||e(n,r)||hi}}),pi,null,{context:Kn,pure:!0,areStatePropsEqual:ci})((function(t){var e=Object(r.useRef)(null),n=Object(c.a)((function(t){e.current=t}),[]),i=Object(c.a)((function(){return e.current}),[]),o=Kr(Qn),a=o.contextId,s=o.dragHandleUsageInstructionsId,u=o.registry,l=Kr(Qr),f=l.type,h=l.droppableId,p=Object(c.c)((function(){return{id:t.draggableId,index:t.index,type:f,droppableId:h}}),[t.draggableId,t.index,f,h]),d=t.children,y=t.draggableId,v=t.isEnabled,g=t.shouldRespectForcePress,m=t.canDragInteractiveElements,b=t.isClone,_=t.mapped,x=t.dropAnimationFinished;si(),tr(),b||ai(Object(c.c)((function(){return{descriptor:p,registry:u,getDraggableRef:i,canDragInteractiveElements:m,shouldRespectForcePress:g,isEnabled:v}}),[p,u,i,m,g,v]));var w=Object(c.c)((function(){return v?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":y,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:ui}:null}),[a,s,y,v]),E=Object(c.a)((function(t){"DRAGGING"===_.type&&_.dropping&&"transform"===t.propertyName&&x()}),[x,_]),S=Object(c.c)((function(){var t=oi(_),e="DRAGGING"===_.type&&_.dropping?E:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":y,style:t,onTransitionEnd:e},dragHandleProps:w}}),[a,w,y,_,E,n]),k=Object(c.c)((function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}}),[p.droppableId,p.id,p.index,p.type]);return d(S,_.snapshot,k)}));function yi(t){return Kr(Qr).isUsingCloneFor!==t.draggableId||t.isClone?i.a.createElement(di,t):null}function vi(t){var e="boolean"!==typeof t.isDragDisabled||!t.isDragDisabled,n=Boolean(t.disableInteractiveElementBlocking),r=Boolean(t.shouldRespectForcePress);return i.a.createElement(yi,Object(a.a)({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var gi=function(t,e){return t===e.droppable.type},mi=function(t,e){return e.draggables[t.draggable.id]},bi={updateViewportMaxScroll:function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}}};var _i={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||A(!1),document.body}},xi=Object(u.connect)((function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e=Object(a.a)({},t,{shouldAnimatePlaceholder:!1}),n=w((function(t){return{draggableId:t.id,type:t.type,source:{index:t.index,droppableId:t.droppableId}}})),r=w((function(r,i,o,a,s,u){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var l=u?{render:u,dragging:n(s.descriptor)}:null,f={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:f,useClone:l}}if(!i)return e;if(!a)return t;var h={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}}));return function(n,i){var o=i.droppableId,a=i.type,s=!i.isDropDisabled,u=i.renderClone;if(n.isDragging){var c=n.critical;if(!gi(a,c))return e;var l=mi(c,n.dimensions),f=Zt(n.impact)===o;return r(o,s,f,f,l,u)}if("DROP_ANIMATING"===n.phase){var h=n.completed;if(!gi(a,h.critical))return e;var p=mi(h.critical,n.dimensions);return r(o,s,li(h.result)===o,Zt(h.impact)===o,p,u)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var d=n.completed;if(!gi(a,d.critical))return e;var y=Zt(d.impact)===o,v=Boolean(d.impact.at&&"COMBINE"===d.impact.at.type),g=d.critical.droppable.id===o;return y?v?t:e:g?t:e}return e}}),bi,null,{context:Kn,pure:!0,areStatePropsEqual:ci})((function(t){var e=Object(r.useContext)(Qn);e||A(!1);var n=e.contextId,o=e.isMovementAllowed,a=Object(r.useRef)(null),s=Object(r.useRef)(null),u=t.children,l=t.droppableId,f=t.type,h=t.mode,p=t.direction,d=t.ignoreContainerClipping,y=t.isDropDisabled,v=t.isCombineEnabled,g=t.snapshot,m=t.useClone,b=t.updateViewportMaxScroll,_=t.getContainerForClone,x=Object(c.a)((function(){return a.current}),[]),S=Object(c.a)((function(t){a.current=t}),[]),O=(Object(c.a)((function(){return s.current}),[]),Object(c.a)((function(t){s.current=t}),[]));er();var C=Object(c.a)((function(){o()&&b({maxScroll:an()})}),[o,b]);!function(t){var e=Object(r.useRef)(null),n=Kr(Qn),i=Jn("droppable"),o=n.registry,a=n.marshal,s=rr(t),u=Object(c.c)((function(){return{id:t.droppableId,type:t.type,mode:t.mode}}),[t.droppableId,t.mode,t.type]),l=Object(r.useRef)(u),f=Object(c.c)((function(){return w((function(t,n){e.current||A(!1);var r={x:t,y:n};a.updateDroppableScroll(u.id,r)}))}),[u.id,a]),h=Object(c.a)((function(){var t=e.current;return t&&t.env.closestScrollable?Br(t.env.closestScrollable):U}),[]),p=Object(c.a)((function(){var t=h();f(t.x,t.y)}),[h,f]),d=Object(c.c)((function(){return E(p)}),[p]),y=Object(c.a)((function(){var t=e.current,n=Xr(t);t&&n||A(!1),t.scrollOptions.shouldPublishImmediately?p():d()}),[d,p]),v=Object(c.a)((function(t,r){e.current&&A(!1);var i=s.current,o=i.getDroppableRef();o||A(!1);var a=qr(o),c={ref:o,descriptor:u,env:a,scrollOptions:r};e.current=c;var l=Vr({ref:o,descriptor:u,env:a,windowScroll:t,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),f=a.closestScrollable;return f&&(f.setAttribute(Ln.contextId,n.contextId),f.addEventListener("scroll",y,Hr(c.scrollOptions))),l}),[n.contextId,u,y,s]),g=Object(c.a)((function(){var t=e.current,n=Xr(t);return t&&n||A(!1),Br(n)}),[]),m=Object(c.a)((function(){var t=e.current;t||A(!1);var n=Xr(t);e.current=null,n&&(d.cancel(),n.removeAttribute(Ln.contextId),n.removeEventListener("scroll",y,Hr(t.scrollOptions)))}),[y,d]),b=Object(c.a)((function(t){var n=e.current;n||A(!1);var r=Xr(n);r||A(!1),r.scrollTop+=t.y,r.scrollLeft+=t.x}),[]),_=Object(c.c)((function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:g,dragStopped:m,scroll:b}}),[m,v,g,b]),x=Object(c.c)((function(){return{uniqueId:i,descriptor:u,callbacks:_}}),[_,u,i]);Fn((function(){return l.current=x.descriptor,o.droppable.register(x),function(){e.current&&m(),o.droppable.unregister(x)}}),[_,u,m,x,a,o.droppable]),Fn((function(){e.current&&a.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)}),[t.isDropDisabled,a]),Fn((function(){e.current&&a.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)}),[t.isCombineEnabled,a])}({droppableId:l,type:f,mode:h,direction:p,isDropDisabled:y,isCombineEnabled:v,ignoreContainerClipping:d,getDroppableRef:x});var P=i.a.createElement(ti,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},(function(t){var e=t.onClose,r=t.data,o=t.animate;return i.a.createElement(Jr,{placeholder:r,onClose:e,innerRef:O,animate:o,contextId:n,onTransitionEnd:C})})),T=Object(c.c)((function(){return{innerRef:S,placeholder:P,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}}),[n,l,P,S]),M=m?m.dragging.draggableId:null,I=Object(c.c)((function(){return{droppableId:l,type:f,isUsingCloneFor:M}}),[l,M,f]);return i.a.createElement(Qr.Provider,{value:I},u(T,g),function(){if(!m)return null;var t=m.dragging,e=m.render,n=i.a.createElement(yi,{draggableId:t.draggableId,index:t.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return e(n,r,t)}));return k.a.createPortal(n,_())}())}));xi.defaultProps=_i},function(t,e,n){"use strict";e.a=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}},function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}},function(t,e,n){"use strict";var r=n(20);e.a=Object(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(t,e,n){"use strict";var r=n(20);e.a=Object(r.a)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")},function(t,e,n){"use strict";var r=n(20);e.a=Object(r.a)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")},function(t,e,n){"use strict";var r=n(20);e.a=Object(r.a)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")},function(t,e,n){"use strict";var r=n(20);e.a=Object(r.a)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")},function(t,e,n){"use strict";var r=n(20);e.a=Object(r.a)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")},function(t,e,n){"use strict";var r=n(20);e.a=Object(r.a)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")},function(t,e,n){"use strict";var r=n(20);e.a=Object(r.a)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")},function(t,e,n){"use strict";var r=n(131),i=n(457);e.a=Object(i.a)(Object(r.a)(300,.5,0),Object(r.a)(-240,.5,1))},function(t,e,n){"use strict";var r=n(116),i=Object(r.f)(),o=Math.PI/3,a=2*Math.PI/3;e.a=function(t){var e;return t=(.5-t)*Math.PI,i.r=255*(e=Math.sin(t))*e,i.g=255*(e=Math.sin(t+o))*e,i.b=255*(e=Math.sin(t+a))*e,i+""}},function(t,e,n){"use strict";var r=n(93),i=n(149);function o(t){this._context=t}o.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Object(i.c)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.a=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(149);function i(t){this._context=t}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Object(r.c)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.a=function(t){return new i(t)}},function(t,e,n){"use strict";var r=n(149);function i(t,e){this._basis=new r.a(t),this._beta=e}i.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},e.a=function t(e){function n(t){return 1===e?new r.a(t):new i(t,e)}return n.beta=function(e){return t(+e)},n}(.85)},function(t,e,n){"use strict";var r=n(415),i=n(93),o=n(241);function a(t,e){this._context=t,this._alpha=e}a.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(o.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new a(t,e):new r.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";var r=n(416),i=n(241);function o(t,e){this._context=t,this._alpha=e}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(i.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new o(t,e):new r.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";function r(t){this._context=t}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";var r=n(93);function i(t){this._context=t}i.prototype={areaStart:r.a,areaEnd:r.a,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},e.a=function(t){return new i(t)}},function(t,e,n){"use strict";function r(t){this._context=t}function i(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=i(t),o=i(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],o[0][a],r[1][a],o[1][a],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";var r=n(238);e.a=function(t){return Object(r.a)(t).reverse()}},function(t,e,n){"use strict";var r=n(173);e.a=function(t){return Object(r.a)(t).reverse()}},function(t,e,n){"use strict";var r=n(174);e.a=function(t,e){if((i=t.length)>0){for(var n,i,o,a=0,s=t[0].length;a<s;++a){for(o=n=0;n<i;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<i;++n)t[n][a][1]/=o}Object(r.a)(t,e)}}},function(t,e,n){"use strict";e.a=function(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}},function(t,e,n){"use strict";var r=n(174);e.a=function(t,e){if((n=t.length)>0){for(var n,i=0,o=t[e[0]],a=o.length;i<a;++i){for(var s=0,u=0;s<n;++s)u+=t[s][i][1]||0;o[i][1]+=o[i][0]=-u/2}Object(r.a)(t,e)}}},function(t,e,n){"use strict";var r=n(174);e.a=function(t,e){if((o=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,o,a=0,s=1;s<i;++s){for(var u=0,c=0,l=0;u<o;++u){for(var f=t[e[u]],h=f[s][1]||0,p=(h-(f[s-1][1]||0))/2,d=0;d<u;++d){var y=t[e[d]];p+=(y[s][1]||0)-(y[s-1][1]||0)}c+=h,l+=p*h}n[s-1][1]+=n[s-1][0]=a,c&&(a-=l/c)}n[s-1][1]+=n[s-1][0]=a,Object(r.a)(t,e)}}},function(t,e,n){"use strict";e.a=function(t,e,n,r,i){var o,a,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var l=s[e];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=u)}var f=c[e],h=r/2+f,p=e+1,d=n-1;for(;p<d;){var y=p+d>>>1;c[y]<h?p=y+1:d=y}h-c[p-1]<c[p]-h&&e+1<p&&--p;var v=c[p]-f,g=r-v;if(a-i>u-o){var m=(i*g+a*v)/r;t(e,p,v,i,o,m,u),t(p,n,g,m,o,a,u)}else{var b=(o*g+u*v)/r;t(e,p,v,i,o,a,b),t(p,n,g,i,b,a,u)}}(0,u,t.value,e,n,r,i)}},function(t,e,n){"use strict";var r=n(175),i=n(176);e.a=function(t,e,n,o,a){(1&t.depth?i.a:r.a)(t,e,n,o,a)}},function(t,e,n){"use strict";var r=n(175),i=n(176),o=n(326);e.a=function t(e){function n(t,n,a,s,u){if((c=t._squarify)&&c.ratio===e)for(var c,l,f,h,p,d=-1,y=c.length,v=t.value;++d<y;){for(f=(l=c[d]).children,h=l.value=0,p=f.length;h<p;++h)l.value+=f[h].value;l.dice?Object(r.a)(l,n,a,s,a+=(u-a)*l.value/v):Object(i.a)(l,n,a,n+=(s-n)*l.value/v,u),v-=l.value}else t._squarify=c=Object(o.c)(e,t,n,a,s,u),c.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(o.b)},function(t,e,n){"use strict";e.a=function(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}},function(t,e,n){"use strict";function r(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}n.d(e,"a",(function(){return i}));function i(t,e){var n,r,i,a,c,l=new u(t),f=+t.value&&(l.value=t.value),h=[l];for(null==e&&(e=o);n=h.pop();)if(f&&(n.value=+n.data.value),(i=e(n.data))&&(c=i.length))for(n.children=new Array(c),a=c-1;a>=0;--a)h.push(r=n.children[a]=new u(i[a])),r.parent=n,r.depth=n.depth+1;return l.eachBefore(s)}function o(t){return t.children}function a(t){t.data=t.data.data}function s(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function u(t){this.data=t,this.depth=this.height=0,this.parent=null}u.prototype=i.prototype={constructor:u,count:function(){return this.eachAfter(r)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return i(this).eachBefore(a)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));var r=new Date,i=new Date;function o(t,e,n,a){function s(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return s.floor=function(e){return t(e=new Date(+e)),e},s.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},s.range=function(n,r,i){var o,a=[];if(n=s.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return a;do{a.push(o=new Date(+n)),e(n,i),t(n)}while(o<n&&n<r);return a},s.filter=function(n){return o((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(s.count=function(e,o){return r.setTime(+e),i.setTime(+o),t(r),t(i),Math.floor(n(r,i))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t===0}:function(e){return s.count(0,e)%t===0}):s:null}),s}var a=864e5,s=6048e5;function u(t){return o((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/s}))}var c=u(0),l=u(1),f=u(2),h=u(3),p=u(4),d=u(5),y=u(6),v=(c.range,l.range,f.range,h.range,p.range,d.range,y.range,o((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/a}),(function(t){return t.getUTCDate()-1}))),g=v;v.range;function m(t){return o((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/s}))}var b=m(0),_=m(1),x=m(2),w=m(3),E=m(4),S=m(5),k=m(6),O=(b.range,_.range,x.range,w.range,E.range,S.range,k.range,o((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/a}),(function(t){return t.getDate()-1}))),C=O,P=(O.range,o((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));P.every=function(t){return isFinite(t=Math.floor(t))&&t>0?o((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var T=P,M=(P.range,o((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));M.every=function(t){return isFinite(t=Math.floor(t))&&t>0?o((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var A=M;M.range;function I(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function j(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function R(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var D,N,L={"-":"",_:" ",0:"0"},z=/^\s*\d+/,F=/^%/,B=/[\\^$*+?|[\]().{}]/g;function U(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function q(t){return t.replace(B,"\\$&")}function V(t){return new RegExp("^(?:"+t.map(q).join("|")+")","i")}function G(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function W(t,e,n){var r=z.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function H(t,e,n){var r=z.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function K(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function X(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Y(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Z(t,e,n){var r=z.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function J(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Q(t,e,n){var r=z.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function tt(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function et(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function nt(t,e,n){var r=z.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rt(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function it(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ot(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function at(t,e,n){var r=z.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function st(t,e,n){var r=z.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ut(t,e,n){var r=F.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ct(t,e,n){var r=z.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lt(t,e,n){var r=z.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ft(t,e){return U(t.getDate(),e,2)}function ht(t,e){return U(t.getHours(),e,2)}function pt(t,e){return U(t.getHours()%12||12,e,2)}function dt(t,e){return U(1+C.count(T(t),t),e,3)}function yt(t,e){return U(t.getMilliseconds(),e,3)}function vt(t,e){return yt(t,e)+"000"}function gt(t,e){return U(t.getMonth()+1,e,2)}function mt(t,e){return U(t.getMinutes(),e,2)}function bt(t,e){return U(t.getSeconds(),e,2)}function _t(t){var e=t.getDay();return 0===e?7:e}function xt(t,e){return U(b.count(T(t)-1,t),e,2)}function wt(t){var e=t.getDay();return e>=4||0===e?E(t):E.ceil(t)}function Et(t,e){return t=wt(t),U(E.count(T(t),t)+(4===T(t).getDay()),e,2)}function St(t){return t.getDay()}function kt(t,e){return U(_.count(T(t)-1,t),e,2)}function Ot(t,e){return U(t.getFullYear()%100,e,2)}function Ct(t,e){return U((t=wt(t)).getFullYear()%100,e,2)}function Pt(t,e){return U(t.getFullYear()%1e4,e,4)}function Tt(t,e){var n=t.getDay();return U((t=n>=4||0===n?E(t):E.ceil(t)).getFullYear()%1e4,e,4)}function Mt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+U(e/60|0,"0",2)+U(e%60,"0",2)}function At(t,e){return U(t.getUTCDate(),e,2)}function It(t,e){return U(t.getUTCHours(),e,2)}function jt(t,e){return U(t.getUTCHours()%12||12,e,2)}function Rt(t,e){return U(1+g.count(A(t),t),e,3)}function Dt(t,e){return U(t.getUTCMilliseconds(),e,3)}function Nt(t,e){return Dt(t,e)+"000"}function Lt(t,e){return U(t.getUTCMonth()+1,e,2)}function zt(t,e){return U(t.getUTCMinutes(),e,2)}function Ft(t,e){return U(t.getUTCSeconds(),e,2)}function Bt(t){var e=t.getUTCDay();return 0===e?7:e}function Ut(t,e){return U(c.count(A(t)-1,t),e,2)}function qt(t){var e=t.getUTCDay();return e>=4||0===e?p(t):p.ceil(t)}function Vt(t,e){return t=qt(t),U(p.count(A(t),t)+(4===A(t).getUTCDay()),e,2)}function Gt(t){return t.getUTCDay()}function Wt(t,e){return U(l.count(A(t)-1,t),e,2)}function Ht(t,e){return U(t.getUTCFullYear()%100,e,2)}function Kt(t,e){return U((t=qt(t)).getUTCFullYear()%100,e,2)}function Xt(t,e){return U(t.getUTCFullYear()%1e4,e,4)}function Yt(t,e){var n=t.getUTCDay();return U((t=n>=4||0===n?p(t):p.ceil(t)).getUTCFullYear()%1e4,e,4)}function Zt(){return"+0000"}function $t(){return"%"}function Jt(t){return+t}function Qt(t){return Math.floor(+t/1e3)}D=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=V(i),f=G(i),h=V(o),p=G(o),d=V(a),y=G(a),v=V(s),m=G(s),b=V(u),x=G(u),w={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:ft,e:ft,f:vt,g:Ct,G:Tt,H:ht,I:pt,j:dt,L:yt,m:gt,M:mt,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Jt,s:Qt,S:bt,u:_t,U:xt,V:Et,w:St,W:kt,x:null,X:null,y:Ot,Y:Pt,Z:Mt,"%":$t},E={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:At,e:At,f:Nt,g:Kt,G:Yt,H:It,I:jt,j:Rt,L:Dt,m:Lt,M:zt,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Jt,s:Qt,S:Ft,u:Bt,U:Ut,V:Vt,w:Gt,W:Wt,x:null,X:null,y:Ht,Y:Xt,Z:Zt,"%":$t},S={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=y[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=x[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return P(t,e,n,r)},d:et,e:et,f:st,g:$,G:Z,H:rt,I:rt,j:nt,L:at,m:tt,M:it,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=f[r[0].toLowerCase()],n+r[0].length):-1},q:Q,Q:ct,s:lt,S:ot,u:H,U:K,V:X,w:W,W:Y,x:function(t,e,r){return P(t,n,e,r)},X:function(t,e,n){return P(t,r,e,n)},y:$,Y:Z,Z:J,"%":ut};function k(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=L[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function O(t,e){return function(n){var r,i,o=R(1900,void 0,1);if(P(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=j(R(o.y,0,1))).getUTCDay(),r=i>4||0===i?l.ceil(r):l(r),r=g.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=I(R(o.y,0,1))).getDay(),r=i>4||0===i?_.ceil(r):_(r),r=C.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?j(R(o.y,0,1)).getUTCDay():I(R(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,j(o)):I(o)}}function P(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=S[i in L?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return w.x=k(n,w),w.X=k(r,w),w.c=k(e,w),E.x=k(n,E),E.X=k(r,E),E.c=k(e,E),{format:function(t){var e=k(t+="",w);return e.toString=function(){return t},e},parse:function(t){var e=O(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",E);return e.toString=function(){return t},e},utcParse:function(t){var e=O(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),N=D.format,D.parse,D.utcFormat,D.utcParse},function(t,e,n){"use strict";var r=Array.prototype.slice,i=function(t){return function(){return t}},o=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},a=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function s(t,e){return t[e]}e.a=function(){var t=i([]),e=a,n=o,u=s;function c(r){var i,o,a=t.apply(this,arguments),s=r.length,c=a.length,l=new Array(c);for(i=0;i<c;++i){for(var f,h=a[i],p=l[i]=new Array(s),d=0;d<s;++d)p[d]=f=[0,+u(r[d],h,d,r)],f.data=r[d];p.key=h}for(i=0,o=e(l);i<c;++i)l[o[i]].index=i;return n(l,o),l}return c.keys=function(e){return arguments.length?(t="function"===typeof e?e:i(r.call(e)),c):t},c.value=function(t){return arguments.length?(u="function"===typeof t?t:i(+t),c):u},c.order=function(t){return arguments.length?(e=null==t?a:"function"===typeof t?t:i(r.call(t)),c):e},c.offset=function(t){return arguments.length?(n=null==t?o:t,c):n},c}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f}));var r=n(37);function i(t,e){var n;if(void 0===e){var i,o=Object(r.a)(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(f){o.e(f)}finally{o.f()}}else{var s,u=-1,c=Object(r.a)(t);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=e(l,++u,t))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(f){c.e(f)}finally{c.f()}}return n}function o(t,e){var n;if(void 0===e){var i,o=Object(r.a)(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(f){o.e(f)}finally{o.f()}}else{var s,u=-1,c=Object(r.a)(t);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=e(l,++u,t))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(f){c.e(f)}finally{c.f()}}return n}var a=n(171);function s(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.a;r>n;){if(r-n>600){var o=r-n+1,c=e-n+1,l=Math.log(o),f=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*f*(o-f)/o)*(c-o/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/o+h)),d=Math.min(r,Math.floor(e+(o-c)*f/o+h));s(t,e,p,d,i)}var y=t[e],v=n,g=r;for(u(t,n,e),i(t[r],y)>0&&u(t,n,r);v<g;){for(u(t,v,g),++v,--g;i(t[v],y)<0;)++v;for(;i(t[g],y)>0;)--g}0===i(t[n],y)?u(t,n,g):u(t,++g,r),g<=e&&(n=g+1),e<=g&&(r=g-1)}return t}function u(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}var c=n(237);function l(t,e,n){if(r=(t=Float64Array.from(Object(c.b)(t,n))).length){if((e=+e)<=0||r<2)return o(t);if(e>=1)return i(t);var r,a=(r-1)*e,u=Math.floor(a),l=i(s(t,u).subarray(0,u+1));return l+(o(t.subarray(u+1))-l)*(a-u)}}function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.a;if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}},function(t,e,n){"use strict";var r=n(173);function i(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}var o=n(238);e.a=function(t){var e,n,a=t.length,s=t.map(o.b),u=function(t){var e=t.map(i);return Object(r.a)(t).sort((function(t,n){return e[t]-e[n]}))}(t),c=0,l=0,f=[],h=[];for(e=0;e<a;++e)n=u[e],c<l?(c+=s[n],f.push(n)):(l+=s[n],h.push(n));return h.reverse().concat(f)}},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(48),i=Object(r.a)((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(r.a)((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null},e.a=i;i.range},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return l}));var r=n(48),i=n(52);function o(t){return Object(r.a)((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.c)/i.e}))}var a=o(0),s=o(1),u=o(2),c=o(3),l=o(4),f=o(5),h=o(6);a.range,s.range,u.range,c.range,l.range,f.range,h.range},function(t,e,n){"use strict";var r=n(48),i=n(52),o=Object(r.a)((function(t){return t.setHours(0,0,0,0)}),(function(t,e){return t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.c)/i.a}),(function(t){return t.getDate()-1}));e.a=o;o.range},function(t,e,n){"use strict";var r=n(48),i=n(52),o=Object(r.a)((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*i.d)}),(function(t,e){return(e-t)/i.d}),(function(t){return t.getUTCSeconds()}));e.a=o;o.range},function(t,e,n){"use strict";var r=n(48),i=Object(r.a)((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Object(r.a)((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):i:null},e.a=i;i.range},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return l}));var r=n(48),i=n(52);function o(t){return Object(r.a)((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/i.e}))}var a=o(0),s=o(1),u=o(2),c=o(3),l=o(4),f=o(5),h=o(6);a.range,s.range,u.range,c.range,l.range,f.range,h.range},function(t,e,n){"use strict";var r=n(48),i=n(52),o=Object(r.a)((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/i.a}),(function(t){return t.getUTCDate()-1}));e.a=o;o.range},function(t,e,n){"use strict";var r=n(48),i=Object(r.a)((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(r.a)((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null},e.a=i;i.range},function(t,e,n){"use strict";function r(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(330);e.a=function(t){return"string"===typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.c)}},function(t,e,n){"use strict";var r=n(37);e.a=function(t,e){var n,i;if(void 0===e){var o,a=Object(r.a)(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;null!=s&&(void 0===n?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}}catch(h){a.e(h)}finally{a.f()}}else{var u,c=-1,l=Object(r.a)(t);try{for(l.s();!(u=l.n()).done;){var f=u.value;null!=(f=e(f,++c,t))&&(void 0===n?f>=f&&(n=i=f):(n>f&&(n=f),i<f&&(i=f)))}}catch(h){l.e(h)}finally{l.f()}}return[n,i]}},function(t,e,n){"use strict";var r=n(317);e.a=function(t){var e=function(){for(var t,e=r.b;t=e.sourceEvent;)e=t;return e}();return e.changedTouches&&(e=e.changedTouches[0]),function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}(t,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return d}));var r=n(1237),i=n(1238),o=n(1233),a=n(1234),s=n(1232),u=n(1239);function c(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function l(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function f(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var h,p,d,y={"-":"",_:" ",0:"0"},v=/^\s*\d+/,g=/^%/,m=/[\\^$*+?|[\]().{}]/g;function b(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function _(t){return t.replace(m,"\\$&")}function x(t){return new RegExp("^(?:"+t.map(_).join("|")+")","i")}function w(t){return new Map(t.map((function(t,e){return[t.toLowerCase(),e]})))}function E(t,e,n){var r=v.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function S(t,e,n){var r=v.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function k(t,e,n){var r=v.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function O(t,e,n){var r=v.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function C(t,e,n){var r=v.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function P(t,e,n){var r=v.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function T(t,e,n){var r=v.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function M(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function A(t,e,n){var r=v.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function I(t,e,n){var r=v.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function j(t,e,n){var r=v.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function R(t,e,n){var r=v.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function D(t,e,n){var r=v.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function N(t,e,n){var r=v.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function L(t,e,n){var r=v.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function z(t,e,n){var r=v.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function F(t,e,n){var r=v.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function B(t,e,n){var r=g.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function U(t,e,n){var r=v.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function q(t,e,n){var r=v.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function V(t,e){return b(t.getDate(),e,2)}function G(t,e){return b(t.getHours(),e,2)}function W(t,e){return b(t.getHours()%12||12,e,2)}function H(t,e){return b(1+a.a.count(Object(s.a)(t),t),e,3)}function K(t,e){return b(t.getMilliseconds(),e,3)}function X(t,e){return K(t,e)+"000"}function Y(t,e){return b(t.getMonth()+1,e,2)}function Z(t,e){return b(t.getMinutes(),e,2)}function $(t,e){return b(t.getSeconds(),e,2)}function J(t){var e=t.getDay();return 0===e?7:e}function Q(t,e){return b(o.b.count(Object(s.a)(t)-1,t),e,2)}function tt(t){var e=t.getDay();return e>=4||0===e?Object(o.c)(t):o.c.ceil(t)}function et(t,e){return t=tt(t),b(o.c.count(Object(s.a)(t),t)+(4===Object(s.a)(t).getDay()),e,2)}function nt(t){return t.getDay()}function rt(t,e){return b(o.a.count(Object(s.a)(t)-1,t),e,2)}function it(t,e){return b(t.getFullYear()%100,e,2)}function ot(t,e){return b((t=tt(t)).getFullYear()%100,e,2)}function at(t,e){return b(t.getFullYear()%1e4,e,4)}function st(t,e){var n=t.getDay();return b((t=n>=4||0===n?Object(o.c)(t):o.c.ceil(t)).getFullYear()%1e4,e,4)}function ut(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+b(e/60|0,"0",2)+b(e%60,"0",2)}function ct(t,e){return b(t.getUTCDate(),e,2)}function lt(t,e){return b(t.getUTCHours(),e,2)}function ft(t,e){return b(t.getUTCHours()%12||12,e,2)}function ht(t,e){return b(1+i.a.count(Object(u.a)(t),t),e,3)}function pt(t,e){return b(t.getUTCMilliseconds(),e,3)}function dt(t,e){return pt(t,e)+"000"}function yt(t,e){return b(t.getUTCMonth()+1,e,2)}function vt(t,e){return b(t.getUTCMinutes(),e,2)}function gt(t,e){return b(t.getUTCSeconds(),e,2)}function mt(t){var e=t.getUTCDay();return 0===e?7:e}function bt(t,e){return b(r.b.count(Object(u.a)(t)-1,t),e,2)}function _t(t){var e=t.getUTCDay();return e>=4||0===e?Object(r.c)(t):r.c.ceil(t)}function xt(t,e){return t=_t(t),b(r.c.count(Object(u.a)(t),t)+(4===Object(u.a)(t).getUTCDay()),e,2)}function wt(t){return t.getUTCDay()}function Et(t,e){return b(r.a.count(Object(u.a)(t)-1,t),e,2)}function St(t,e){return b(t.getUTCFullYear()%100,e,2)}function kt(t,e){return b((t=_t(t)).getUTCFullYear()%100,e,2)}function Ot(t,e){return b(t.getUTCFullYear()%1e4,e,4)}function Ct(t,e){var n=t.getUTCDay();return b((t=n>=4||0===n?Object(r.c)(t):r.c.ceil(t)).getUTCFullYear()%1e4,e,4)}function Pt(){return"+0000"}function Tt(){return"%"}function Mt(t){return+t}function At(t){return Math.floor(+t/1e3)}h=function(t){var e=t.dateTime,n=t.date,s=t.time,u=t.periods,h=t.days,p=t.shortDays,d=t.months,v=t.shortMonths,g=x(u),m=w(u),b=x(h),_=w(h),tt=x(p),_t=w(p),It=x(d),jt=w(d),Rt=x(v),Dt=w(v),Nt={a:function(t){return p[t.getDay()]},A:function(t){return h[t.getDay()]},b:function(t){return v[t.getMonth()]},B:function(t){return d[t.getMonth()]},c:null,d:V,e:V,f:X,g:ot,G:st,H:G,I:W,j:H,L:K,m:Y,M:Z,p:function(t){return u[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Mt,s:At,S:$,u:J,U:Q,V:et,w:nt,W:rt,x:null,X:null,y:it,Y:at,Z:ut,"%":Tt},Lt={a:function(t){return p[t.getUTCDay()]},A:function(t){return h[t.getUTCDay()]},b:function(t){return v[t.getUTCMonth()]},B:function(t){return d[t.getUTCMonth()]},c:null,d:ct,e:ct,f:dt,g:kt,G:Ct,H:lt,I:ft,j:ht,L:pt,m:yt,M:vt,p:function(t){return u[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Mt,s:At,S:gt,u:mt,U:bt,V:xt,w:wt,W:Et,x:null,X:null,y:St,Y:Ot,Z:Pt,"%":Tt},zt={a:function(t,e,n){var r=tt.exec(e.slice(n));return r?(t.w=_t.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.w=_.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=Rt.exec(e.slice(n));return r?(t.m=Dt.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=It.exec(e.slice(n));return r?(t.m=jt.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return Ut(t,e,n,r)},d:j,e:j,f:F,g:T,G:P,H:D,I:D,j:R,L:z,m:I,M:N,p:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.p=m.get(r[0].toLowerCase()),n+r[0].length):-1},q:A,Q:U,s:q,S:L,u:S,U:k,V:O,w:E,W:C,x:function(t,e,r){return Ut(t,n,e,r)},X:function(t,e,n){return Ut(t,s,e,n)},y:T,Y:P,Z:M,"%":B};function Ft(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=y[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function Bt(t,e){return function(n){var s,u,h=f(1900,void 0,1);if(Ut(h,t,n+="",0)!=n.length)return null;if("Q"in h)return new Date(h.Q);if("s"in h)return new Date(1e3*h.s+("L"in h?h.L:0));if(e&&!("Z"in h)&&(h.Z=0),"p"in h&&(h.H=h.H%12+12*h.p),void 0===h.m&&(h.m="q"in h?h.q:0),"V"in h){if(h.V<1||h.V>53)return null;"w"in h||(h.w=1),"Z"in h?(u=(s=l(f(h.y,0,1))).getUTCDay(),s=u>4||0===u?r.a.ceil(s):Object(r.a)(s),s=i.a.offset(s,7*(h.V-1)),h.y=s.getUTCFullYear(),h.m=s.getUTCMonth(),h.d=s.getUTCDate()+(h.w+6)%7):(u=(s=c(f(h.y,0,1))).getDay(),s=u>4||0===u?o.a.ceil(s):Object(o.a)(s),s=a.a.offset(s,7*(h.V-1)),h.y=s.getFullYear(),h.m=s.getMonth(),h.d=s.getDate()+(h.w+6)%7)}else("W"in h||"U"in h)&&("w"in h||(h.w="u"in h?h.u%7:"W"in h?1:0),u="Z"in h?l(f(h.y,0,1)).getUTCDay():c(f(h.y,0,1)).getDay(),h.m=0,h.d="W"in h?(h.w+6)%7+7*h.W-(u+5)%7:h.w+7*h.U-(u+6)%7);return"Z"in h?(h.H+=h.Z/100|0,h.M+=h.Z%100,l(h)):c(h)}}function Ut(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=zt[i in y?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return Nt.x=Ft(n,Nt),Nt.X=Ft(s,Nt),Nt.c=Ft(e,Nt),Lt.x=Ft(n,Lt),Lt.X=Ft(s,Lt),Lt.c=Ft(e,Lt),{format:function(t){var e=Ft(t+="",Nt);return e.toString=function(){return t},e},parse:function(t){var e=Bt(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=Ft(t+="",Lt);return e.toString=function(){return t},e},utcParse:function(t){var e=Bt(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),p=h.format,h.parse,d=h.utcFormat,h.utcParse}]]);
//# sourceMappingURL=2.68fbef1c.chunk.js.map