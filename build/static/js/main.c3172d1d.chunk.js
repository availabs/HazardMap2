(this["webpackJsonpavl-starter"]=this["webpackJsonpavl-starter"]||[]).push([[0],{1037:function(e,t,n){},1174:function(e,t,n){},1175:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),i=n.n(r),o=n(82),s=n.n(o),c=n(3),l=n(6),u=n(9),d=n(7),p=n(8),h=n(46),f=n(47),b=function(){var e=Object(f.useLocation)().pathname;return Object(r.useEffect)((function(e){window.scrollTo(0,0)}),[e]),null},m=n(12),v={path:"/auth",mainNav:!1,layoutSettings:{fixed:!0,navBar:!1,headerBar:!1},component:{type:"ams-manager",wrappers:["ams-redux","ams-router"],children:[{type:"ams-login"},{type:"ams-reset-password"},{type:"ams-logout"}]}},j=n(24),g=n.n(j),y=n(42),x=n(36),O=n(31),_="redux-falcor/UPDATE",k=n(112),w=n.n(k),C=i.a.createContext(),S=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).debounced=Object(k.debounce)(e.updateCache,250),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.falcor.onChange(this,this.debounced)}},{key:"componentWillUnmount",value:function(){this.props.falcor.remove(this)}},{key:"updateCache",value:function(){this.props.updateCache(this.props.falcor.getCache())}},{key:"render",value:function(){return Object(a.jsx)(C.Provider,{value:this.props.falcor,children:this.props.children})}}]),n}(i.a.Component),N=Object(O.connect)(null,{updateCache:function(e){return function(t){return Promise.resolve(t({type:_,falcorCache:e}))}}})(S),L=function(){},A=function(e){var t=function(t){Object(d.a)(r,t);var n=Object(p.a)(r);function r(){var e;Object(l.a)(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).WrappedComponent=i.a.createRef(),e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.fetchFalcorDeps()}},{key:"componentDidUpdate",value:function(e){e.falcorCache!==this.props.falcorCache&&this.fetchFalcorDeps()}},{key:"fetchFalcorDeps",value:function(){var e=this.WrappedComponent.current;e&&"function"===typeof e.fetchFalcorDeps&&e.fetchFalcorDeps().then(L)}},{key:"render",value:function(){var t=this;return Object(a.jsx)(C.Consumer,{children:function(n){return Object(a.jsx)(e,Object(c.a)(Object(c.a)({ref:t.WrappedComponent},t.props),{},{falcor:n}))}})}}]),r}(i.a.Component);return Object(O.connect)((function(e){return{falcorCache:e.falcorCache}}),null)(t)},D=n(5),P=n.n(D),z=n(425),M=(n(704),n(25)),B="USER::SET_COUNTY_GEOID";var F=function(e){return function(t){t(function(e){return{type:B,id:e}}(e))}},I={activeCountyGeoid:null},T=Object(M.a)({},B,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);return t.id&&(n.activeCountyGeoid=t.id,localStorage.setItem("countyGeoid",n.activeCountyGeoid)),n}));var E=n(112),H=Object(z.b)(z.a),V=["01","02","04","05","06","08","09","10","11","12","13","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","44","45","46","47","48","49","50","51","53","54","55","56"],R=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isLoading:!1,options:[]},a.handleSearch=a.handleSearch.bind(Object(x.a)(a)),a.onChangeFilter=a.onChangeFilter.bind(Object(x.a)(a)),a}return Object(u.a)(n,[{key:"fetchFalcorDeps",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.falcor.get(["geo",V,"counties","geoid"]);case 2:if(!(t=e.sent)){e.next=12;break}return this.filtered_geographies=Object.values(t.json.geo).reduce((function(e,t){return t.counties&&(e=[].concat(Object(m.a)(e),Object(m.a)(t.counties))),e}),[]),e.next=7,this.props.falcor.get(["geo",this.filtered_geographies,["name"]]);case 7:return n=e.sent,e.next=10,this.props.falcor.get(["geo",V,["state_abbr"]]);case 10:return a=e.sent,e.abrupt("return",{geo_names:n,fips_names:a});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSearch",value:function(e){this.setState({isLoading:!0});var t=P()(this.props.falcorCache,["geo"],null),n=[];if(this.filtered_geographies&&t){this.filtered_geographies.forEach((function(e){n.push({geoid:e,name:"".concat(P()(t,[e,"name"],""),",").concat(P()(t,[e.slice(0,2),"state_abbr"],"")),fips:P()(t,[e.slice(0,2),"state_abbr"],"")})}));var a=E.filter(n,E.method("name.match",new RegExp("".concat(e,".*"),"i")));this.setState({isLoading:!1,options:a||n.filter((function(t){return t.includes(e)}))})}}},{key:"onChangeFilter",value:function(e){var t=e.reduce((function(e,t){return t.geoid}),"");"overview"===this.props.page?(this.props.setActiveCountyGeoid(t),window.history.pushState(t,"Title","".concat(t))):window.location="/overview/".concat(t)}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"max-w-3xl mx-auto py-4 lg:px-4 h-10 px-5 pr-16 text-3xl",children:Object(a.jsx)(H,{isLoading:this.state.isLoading,onSearch:this.handleSearch,minLength:2,id:"my-typeahead-id",placeholder:"Search for a County...",options:this.state.options,labelKey:function(e){return"".concat(e.name)},onChange:this.onChangeFilter.bind(this),renderMenuItemChildren:function(e,t){return Object(a.jsx)(r.Fragment,{children:Object(a.jsx)("ul",{children:Object(a.jsx)("span",{className:"text-xl tracking-wide",children:e.name})})})}})})}}]),n}(i.a.Component),G={setActiveCountyGeoid:F},U=Object(O.connect)((function(e,t){return{falcorCache:e.falcorCache,activeStateGeoid:e.user.activeStateGeoid,geoid:t.geoid,censusKey:t.censusKey,graph:e.graph,severeWeatherData:P()(e.graph,["severeWeather"])}}),G)(A(R)),W={path:"/",exact:!0,auth:!1,mainNav:!0,name:"Hazards.org",component:function(){return Object(a.jsxs)("div",{className:"bg-gray-50 overflow-x-hidden overflow-y-auto",children:[Object(a.jsxs)("div",{className:"relative",children:[Object(a.jsx)("div",{className:"block absolute inset-y-0 h-full w-full",children:Object(a.jsxs)("div",{className:"relative h-full",children:[Object(a.jsxs)("svg",{className:"absolute right-full transform translate-y-1/3 translate-x-1/4 md:translate-y-1/2 sm:translate-x-1/2 lg:translate-x-full",width:404,height:784,fill:"none",viewBox:"0 0 404 784",children:[Object(a.jsx)("defs",{children:Object(a.jsx)("pattern",{id:"e229dbec-10e9-49ee-8ec3-0286ca089edf",x:0,y:0,width:20,height:20,patternUnits:"userSpaceOnUse",children:Object(a.jsx)("rect",{x:0,y:0,width:4,height:4,className:"text-gray-200",fill:"currentColor"})})}),Object(a.jsx)("rect",{width:404,height:784,fill:"url(#ad9a0a02-b58e-4a1d-8c36-1b649889af63)"})]}),Object(a.jsxs)("svg",{className:"absolute left-full transform -translate-y-3/4 -translate-x-1/4 sm:-translate-x-1/2 md:-translate-y-1/2 lg:-translate-x-3/4",width:404,height:784,fill:"none",viewBox:"0 0 404 784",children:[Object(a.jsx)("defs",{children:Object(a.jsx)("pattern",{id:"d2a68204-c383-44b1-b99f-42ccff4e5365",x:0,y:0,width:20,height:20,patternUnits:"userSpaceOnUse",children:Object(a.jsx)("rect",{x:0,y:0,width:4,height:4,className:"text-gray-200",fill:"currentColor"})})}),Object(a.jsx)("rect",{width:404,height:784,fill:"url(#478e97d6-90df-4a89-8d63-30fdbb3c7e57)"})]})]})}),Object(a.jsxs)("div",{className:"relative pt-0 pb-12 lg:pb-20",children:[Object(a.jsx)("div",{className:"mt-10 mx-auto max-w-screen-xl px-4 sm:px-6 md:mt-16 lg:mt-20",children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsxs)("h2",{className:"text-4xl tracking-tight leading-10 font-extrabold text-gray-900 sm:text-5xl sm:leading-none md:text-6xl",children:["Historic Hazard Data",Object(a.jsx)("br",{}),Object(a.jsx)("span",{className:"text-indigo-600 text-2xl sm:text-3xl  md:text-5xl",children:"for Understanding Risk"})]}),Object(a.jsx)("p",{className:"mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:"Open Datasets for understanding losses associated with natural hazard events including datasets from National Centers for Environmental Information (NCEI), Small Business Administration Loan programs, and the Federal Emergency Management Agency's (FEMA) Public Assistance and Individual Assistance programs."})]})}),Object(a.jsx)("div",{}),Object(a.jsx)(U,{page:"home"})]}),Object(a.jsxs)("div",{className:"relative z-10",children:[Object(a.jsxs)("div",{className:"absolute inset-0 flex flex-col",children:[Object(a.jsx)("div",{className:"flex-1"}),Object(a.jsx)("div",{className:"flex-1 w-full bg-gray-800"})]}),Object(a.jsx)("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6",children:Object(a.jsx)("img",{className:"relative rounded-lg shadow-lg",src:"/img/landing_3.png",alt:"App screenshot"})})]})]}),Object(a.jsx)("div",{className:"bg-gray-800",children:Object(a.jsxs)("div",{className:"max-w-screen-xl mx-auto pt-16 pb-20 px-4 sm:px-6 md:pb-24 lg:px-8",children:[Object(a.jsx)("h3",{className:"text-center text-gray-400 text-sm font-semibold uppercase tracking-wide",children:"Created in partnershiip with"}),Object(a.jsxs)("div",{className:"mt-8 grid grid-cols-2 gap-8 md:grid-cols-6 lg:grid-cols-5",children:[Object(a.jsx)("div",{className:"col-span-1 flex justify-center md:col-span-2 lg:col-span-1",children:Object(a.jsx)("img",{className:"h-12",src:"https://availabs.org/img/logo.png",alt:"Tuple"})}),Object(a.jsx)("div",{className:"col-span-1 flex justify-center md:col-span-2 lg:col-span-1",children:Object(a.jsx)("img",{className:"h-12",src:"/img/fema_logo.svg",alt:"FEMA"})})]})]})})]})},layoutSettings:{fixed:!0,headerBar:!1,nav:"top"}},Z=n(16),$="USER::SET_STATE_GEOID";var K=function(e){return function(t){t(function(e){return{type:$,id:e}}(e))}},q={activeStateGeoid:[]},Y=Object(M.a)({},$,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);return t.id&&(n.activeStateGeoid=t.id,localStorage.setItem("stateGeoid",n.activeStateGeoid)),n}));for(var X=n(631),J=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white px-2 border border-blue-500 hover:border-transparent rounded-full",onClick:function(t){t.preventDefault(),document.getElementById("closeMe"+e.props.id).style.display="block"===document.getElementById("closeMe"+e.props.id).style.display?"none":"block"},children:"?"}),Object(a.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",id:"closeMe"+this.props.id,tabIndex:"0",style:{display:"none",margin:"0vh 0vw"},onClick:function(t){t.target.id==="closeMe"+e.props.id&&(t.target.closest("#closeMe"+e.props.id).style.display="none")},children:Object(a.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(a.jsx)("div",{className:"fixed inset-0 transition-opacity",children:Object(a.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),Object(a.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen"}),"\u200b",Object(a.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[Object(a.jsx)("div",{className:"hidden sm:block absolute top-0 right-0 pt-4 pr-4",children:Object(a.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-500 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",onClick:function(t){t.target.closest("#closeMe"+e.props.id).style.display="none"},"aria-label":"Close",children:Object(a.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(a.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})})}),Object(a.jsx)("div",{className:"sm:flex sm:items-start",children:Object(a.jsxs)("div",{class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object(a.jsx)("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-headline",children:"Geolevel"}),Object(a.jsx)("div",{class:"mt-2",children:Object(a.jsx)("p",{class:"text-sm leading-5 text-gray-500",children:this.props.prompt})})]})})]})]})})]})}}]),n}(r.Component),Q=Object(O.connect)((function(e){return{}}),{})(J),ee=n(112),te=["01","02","04","05","06","08","09","10","11","12","13","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","44","45","46","47","48","49","50","51","53","54","55","56","72","60","66","78"],ne=[{value:"wind",name:"Wind"},{value:"wildfire",name:"Wildfire"},{value:"tsunami",name:"Tsunami/Seiche"},{value:"tornado",name:"Tornado"},{value:"riverine",name:"Flooding"},{value:"lightning",name:"Lightning"},{value:"landslide",name:"Landslide"},{value:"icestorm",name:"Ice Storm"},{value:"hurricane",name:"Hurricane"},{value:"heatwave",name:"Heat Wave"},{value:"hail",name:"Hail"},{value:"earthquake",name:"Earthquake"},{value:"drought",name:"Drought"},{value:"avalanche",name:"Avalanche"},{value:"coldwave",name:"Coldwave"},{value:"winterweat",name:"Snow Storm"},{value:"volcano",name:"Volcano"},{value:"coastal",name:"Coastal Hazards"}],ae=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={dataset:"severeWeather",datasets:[{name:"Severe Weather",value:"severeWeather"},{name:"SBA",value:"sba"},{name:"FEMA Disasters",value:"fema"}],state_fips:null,county:"",geolevel:"counties",geolevels:[{name:"County",value:"counties",disabled:!1},{name:"Municipality",value:"cousubs",disabled:!0},{name:"Tracts",value:"tracts",disabled:!0}],geolevels_sba:[{name:"County",value:"counties",disabled:!1},{name:"Zip Codes",value:"zip_codes",disabled:!0}],hazard:new Map,user_hazards:[],data:[],loading:!1,changed:!1},a.onChange=a.onChange.bind(Object(x.a)(a)),a}return Object(u.a)(n,[{key:"onChange",value:function(e){var t=this;if(console.log("---",e.target.id,e.target.value,this.state),"hazard"===e.target.id){var n=e.target.checked,a=e.target.value,r=this.state;"all"===a?ne.forEach((function(e){t.setState({hazard:r.hazard.set(e.value,n)})})):this.setState({hazard:r.hazard.set(a,n)}),this.setState({user_hazards:Array.from(this.state.hazard,(function(e){var t=Object(Z.a)(e,2);return{hazard:t[0],value:t[1]}})).reduce((function(e,t){return t.value&&e.push(t.hazard),e}),[])})}else this.setState(Object(c.a)(Object(c.a)({},this.state),{},Object(M.a)({},e.target.id,e.target.value)))}},{key:"componentDidUpdate",value:function(e,t,n){var a=this;this.state.dataset===t.dataset&&this.state.state_fips===t.state_fips&&this.state.county===t.county&&ee.isEqual(this.state.user_hazards,t.user_hazards)&&this.state.geolevel===t.geolevel||(this.setState({changed:!0}),this.fetchFalcorDeps().then(function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.processData();case 2:(n=e.sent).length>0&&a.setState({loading:!1,data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),this.state.loading&&this.fetchFalcorDeps().then(function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.processData();case 2:(n=e.sent).length>0&&a.setState({loading:!1,data:n,changed:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.state.state_fips!==t.state_fips&&(this.setState({changed:!0}),this.countiesDataDropDown())}},{key:"fetchFalcorDeps",value:function(){var e=this,t="severeWeather"===this.state.dataset?["total_damage","num_episodes","property_damage","crop_damage","num_episodes","num_events"]:"fema"===this.state.dataset?["ia_ihp_amount","ia_ihp_count","pa_project_amount","pa_federal_share_obligated","hma_prop_actual_amount_paid","hma_prop_number_of_properties","hma_proj_project_amount","hma_proj_project_amount_count","hma_proj_federal_share_obligated","hma_proj_federal_share_obligated_count","total_cost","total_cost_summaries","total_disasters"]:["total_loss","loan_total","num_loans"];return this.props.falcor.get(["geo",te,"name"]).then((function(n){return e.state.state_fips&&e.props.falcor.get(["geo",e.state.state_fips,"counties","geoid"]).then((function(n){return e.counties=Object.values(n.json.geo).reduce((function(e,t){return t.counties&&(e=[].concat(Object(m.a)(e),Object(m.a)(t.counties))),e}),[]),e.props.falcor.get(["geo",""!==e.state.county?e.state.county:e.counties,e.state.geolevel]).then(function(){var n=Object(y.a)(g.a.mark((function n(a){var r,i,o,s,c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.filtered_geo=Object.values(a.json.geo).reduce((function(t,n){return n[e.state.geolevel]&&(t=[].concat(Object(m.a)(t),Object(m.a)(n[e.state.geolevel]))),t}),[]),n.next=3,e.props.falcor.get(["geo",e.filtered_geo,"name"]);case 3:if(!(e.filtered_geo.length>0&&"sba"!==e.state.dataset&&e.state.user_hazards.length&&"zip_codes"!==e.state.geolevel)){n.next=9;break}return r="fema"===e.state.dataset?["fema","disasters"]:[e.state.dataset],i=ee.chunk(e.filtered_geo,20),o=[],i.forEach((function(n){o.push([].concat(r,[n,e.state.user_hazards,[{from:1996,to:2019}],t]))})),n.abrupt("return",o.reduce((function(t,n,a){return t.then((function(){e.props.falcor.get(n).then((function(e){return e}))}))}),Promise.resolve()).then((function(e){return e})));case 9:if("sba"!==e.state.dataset||!e.state.user_hazards.length){n.next=17;break}if("zip_codes"!==e.state.geolevel||""===e.state.county){n.next=14;break}e.props.falcor.get(["geo",e.state.county,"byZip",["zip_codes"]]).then(function(){var n=Object(y.a)(g.a.mark((function n(a){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.zip_codes=Object.values(a.json.geo).reduce((function(e,t){return t.byZip&&(e=[].concat(Object(m.a)(e),Object(m.a)(t.byZip.zip_codes))),e}),[]),n.next=3,e.props.falcor.get([e.state.dataset,"all","byZip",e.zip_codes,e.state.user_hazards,[{from:1996,to:2018}],t]);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),n.next=17;break;case 14:return s=ee.chunk(e.filtered_geo,20),c=[],s.forEach((function(n){c.push([e.state.dataset,"all",n,e.state.user_hazards,[{from:1996,to:2018}],t])})),n.abrupt("return",c.reduce((function(t,n,a){return t.then((function(){e.props.falcor.get(n).then((function(e){return e}))}))}),Promise.resolve()).then((function(e){return e})));case 17:return"fema"===e.state.dataset&&"zip_codes"===e.state.geolevel&&""!==e.state.county&&e.props.falcor.get(["geo",e.state.county,"byZip",["zip_codes"]]).then(function(){var n=Object(y.a)(g.a.mark((function n(a){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.zip_codes=Object.values(a.json.geo).reduce((function(e,t){return t.byZip&&(e=[].concat(Object(m.a)(e),Object(m.a)(t.byZip.zip_codes))),e}),[]),n.next=3,e.props.falcor.get(["fema","disasters","byZip",e.zip_codes,e.state.user_hazards,[{from:1996,to:2019}],t]);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),n.abrupt("return",a);case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),n})),n}))}},{key:"statesDataDropDown",value:function(){var e=P()(this.props.falcorCache,["geo"],{}),t=[];return Object.keys(e).filter((function(e){return"$__path"!==e})).forEach((function(n){te.includes(n)&&t.push({fips:n,name:P()(e,[n,"name"],"")})})),t=t.sort((function(e,t){return e.name.localeCompare(t.name)}))}},{key:"countiesDataDropDown",value:function(){var e=this;if(this.state.state_fips){var t=[],n=P()(this.props.falcorCache,["geo"],{});return Object.keys(n).forEach((function(a){a.slice(0,2)===e.state.state_fips&&5===a.length&&t.push({value:a,name:n[a].name||""})})),t=t.sort((function(e,t){return e.name.localeCompare(t.name)}))}}},{key:"processData",value:function(){var e=this,t=[],n="zip_codes"!==this.state.geolevel?"fema"===this.state.dataset?"fema.disasters":this.state.dataset:"fema"===this.state.dataset?"fema.disasters.byZip":this.state.dataset,a=this.state.user_hazards,r=this.props.falcorCache,i=P()(r,n,null),o="severeWeather"===this.state.dataset?["total_damage","num_episodes","property_damage","crop_damage","num_episodes","num_events"]:"fema"===this.state.dataset?["ia_ihp_amount","ia_ihp_count","pa_project_amount","pa_federal_share_obligated","hma_prop_actual_amount_paid","hma_prop_number_of_properties","hma_proj_project_amount","hma_proj_project_amount_count","hma_proj_federal_share_obligated","hma_proj_federal_share_obligated_count","total_cost","total_cost_summaries","total_disasters"]:["total_loss","loan_total","num_loans"];if("sba"!==n&&ne.length&&i&&Object.keys(i).filter((function(e){return"$__path"!==e})).forEach((function(n){a.forEach((function(a){var s=P()(i[n],[a],{});Object.keys(s).filter((function(e){return"$__path"!==e})).forEach((function(s){t.push(o.reduce((function(t,o){return t[o]="fema"===e.state.dataset?P()(i[n],[a,s,o,"value"],0):P()(i[n],[a,s,o],0),t.name=P()(r,["geo",n,"name"],""),t.year=s,t.hazard=ne.reduce((function(e,t){return t.value===a&&(e=t.name),e}),""),t}),{}))}))}))})),"sba"===n&&ne.length&&i){var s="zip_codes"===this.state.geolevel?P()(r,[n,"all","byZip"],{}):P()(r,[n,"all"],{});Object.keys(s).filter((function(e){return"$__path"!==e})).forEach((function(e){a.forEach((function(n){var a=P()(s[e],[n],{});Object.keys(a).filter((function(e){return"$__path"!==e})).forEach((function(a){t.push(o.reduce((function(t,i){return t[i]=P()(s[e],[n,a,i],0),t.name=P()(r,["geo",e,"name"],e),t.year=a,t.hazard=ne.reduce((function(e,t){return t.value===n&&(e=t.name),e}),""),t}),{}))}))}))}))}return console.log("data",t),t}},{key:"downloadHandler",value:function(e){e.preventDefault(),this.setState({loading:!0})}},{key:"render",value:function(){var e,t=this,n=this.statesDataDropDown()||[],r=this.countiesDataDropDown()||[];return Object(a.jsx)("form",{children:Object(a.jsx)("div",{className:"w-full max-w-full ",children:Object(a.jsxs)("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[Object(a.jsx)("div",{children:Object(a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Data Download"})}),Object(a.jsxs)("div",{className:"mt-6 grid grid-cols-1 row-gap-6 col-gap-4 sm:grid-cols-6",children:[Object(a.jsxs)("div",{className:"sm:col-span-6",children:[Object(a.jsxs)("label",{htmlFor:"username",className:"block text-sm font-medium leading-5 text-gray-700 flex-initial",children:["Data Set ",Object(a.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(a.jsx)("div",{className:"mt-1 flex rounded-md shadow-sm",children:Object(a.jsx)("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",onChange:this.onChange.bind(this),value:this.state.dataset,id:"dataset",required:!0,children:this.state.datasets.map((function(e,t){return Object(a.jsx)("option",{value:e.value,children:e.name},t)}))})}),Object(a.jsx)("div",{className:"text-red-600 text-xs",children:""===this.state.dataset?"Please select a dataset":null})]}),Object(a.jsxs)("div",{className:"sm:col-span-6",children:[Object(a.jsxs)("label",{htmlFor:"username",className:"block text-sm font-medium leading-5 text-gray-700 flex-initial",children:["State ",Object(a.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(a.jsx)("div",{className:"mt-1 flex rounded-md shadow-sm",children:Object(a.jsxs)("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",onChange:this.onChange.bind(this),value:this.state.state_fips,id:"state_fips",children:[Object(a.jsx)("option",{value:"",children:"---Select a state---"},0),n.length>0?n.map((function(e,t){return Object(a.jsx)("option",{value:e.fips,children:e.name},t+1)})):null]})}),Object(a.jsx)("div",{className:"text-red-600 text-xs",children:this.state.state_fips?null:"Please select a State"})]}),Object(a.jsxs)("div",{className:"sm:col-span-6",children:[Object(a.jsx)("label",{htmlFor:"county",className:"block text-sm font-medium leading-5 text-gray-700",children:"County"}),Object(a.jsx)("div",{className:"mt-1 flex rounded-md shadow-sm",children:Object(a.jsxs)("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",onChange:this.onChange.bind(this),value:this.state.county,id:"county",children:[Object(a.jsx)("option",{value:"",children:"---Select all Counties---"},0),r.length>0?r.map((function(e,t){return Object(a.jsx)("option",{value:e.value,children:e.name},t+1)})):null]})})]}),Object(a.jsxs)("div",{className:"sm:col-span-6",children:[Object(a.jsxs)("label",{htmlFor:"username",className:"block text-sm font-medium leading-5 text-gray-700 flex-initial",children:["Geo Level",Object(a.jsx)("span",{className:"text-red-600",children:"*"}),Object(a.jsx)("span",{style:{float:"right"},children:Object(a.jsx)(Q,{prompt:"Please select a county in order to enable the sub geolevels",id:"geo_level"})})]}),Object(a.jsx)("div",{className:"mt-1 flex rounded-md shadow-sm",children:Object(a.jsxs)("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",onChange:this.onChange.bind(this),value:this.state.geolevel,id:"geolevel",placeholder:"Geo Level",required:!0,children:[Object(a.jsx)("option",{value:"",children:"---Select a GeoLevel---"},0),"severeWeather"===this.state.dataset?this.state.geolevels.map((function(e,n){return Object(a.jsx)("option",{value:e.value,disabled:("counties"!==e.value||""!==t.state.county)&&""===t.state.county,children:e.name},n+1)})):this.state.geolevels_sba.map((function(e,n){return Object(a.jsx)("option",{value:e.value,disabled:("counties"!==e.value||""!==t.state.county)&&""===t.state.county,children:e.name},n+1)}))]})}),Object(a.jsx)("div",{className:"text-red-600 text-xs",children:""===this.state.geolevel?"Please select a Geolevel":null})]}),Object(a.jsx)("div",{className:"sm:col-span-6",children:Object(a.jsx)("div",{className:"mt-6 ",children:Object(a.jsxs)("fieldset",{children:[Object(a.jsxs)("div",{className:"relative flex items-start",children:[Object(a.jsxs)("div",{className:"flex items-center h-5",children:[Object(a.jsxs)("legend",{className:"text-base font-medium text-gray-900 flex-initial",children:["Hazards ",Object(a.jsx)("span",{className:"text-red-600",children:"*"})]}),Object(a.jsx)("input",{id:"hazard",type:"checkbox",name:"all",value:"all",className:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out ml-2",onChange:this.onChange.bind(this),checked:(e=this.state.hazard).get.apply(e,Object(m.a)(ne.map((function(e){return!0===e.value&&e.value}))))})]}),Object(a.jsx)("div",{className:"ml-3 text-sm leading-5",children:Object(a.jsx)("label",{htmlFor:"comments",className:"font-medium text-gray-700",children:"Select All"})})]}),Object(a.jsx)("div",{className:"grid grid-cols-3 gap-4",children:ne.map((function(e,n){return Object(a.jsx)("div",{className:"mt-4",children:Object(a.jsxs)("div",{className:"relative flex items-start",children:[Object(a.jsx)("div",{className:"flex items-center h-5",children:Object(a.jsx)("input",{id:"hazard",type:"checkbox",name:e.name,value:e.value,className:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out",onChange:t.onChange.bind(t),checked:t.state.hazard.get(e.value)})}),Object(a.jsx)("div",{className:"ml-3 text-sm leading-5",children:Object(a.jsx)("label",{htmlFor:"comments",className:"font-medium text-gray-700",children:e.name})})]})},n)}))}),Object(a.jsx)("div",{className:"text-red-600 text-xs",children:0===this.state.hazard.size?"Please select at least one hazard":null})]})})}),Object(a.jsxs)("div",{className:"sm:col-span-2",children:[Object(a.jsx)("div",{className:"flex justify",children:ee.isEmpty(this.state.data)||this.state.changed?Object(a.jsxs)("button",{onClick:this.downloadHandler.bind(this),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",children:[Object(a.jsx)("svg",{className:"fill-current w-4 h-4 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(a.jsx)("path",{d:"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"})}),Object(a.jsx)("span",{children:"Export Data"})]}):Object(a.jsxs)("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",children:[Object(a.jsx)("svg",{className:"fill-current w-4 h-4 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(a.jsx)("path",{d:"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"})}),Object(a.jsx)(X.CSVLink,{style:{width:"100%"},data:this.state.data,filename:"".concat(this.state.state_fips&&""!==this.state.state_fips?this.props.geoData[this.state.state_fips].name:"","_").concat(this.state.dataset,"_").concat(""!==this.state.county?this.props.geoData[this.state.county].name:"all","_").concat(this.state.geolevel,".csv"),children:"Download CSV"})]})}),this.state.loading?"Fetching Data ...":null]})]})]})})})}}]),n}(i.a.Component),re={setActiveStateGeoid:K},ie=Object(O.connect)((function(e,t){return{falcorCache:e.falcorCache,activeStateGeoid:e.stormEvents.activeStateGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[]),geoData:P()(e.falcorCache,"geo",{})}}),re)(A(ae)),oe={path:"/downloads",exact:!0,auth:!1,name:"Download Data",mainNav:!0,component:function(){return Object(a.jsx)("div",{className:"bg-gray-50 mt-0 min-h-screen",children:Object(a.jsxs)("div",{className:"relative max-w-screen-xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[Object(a.jsxs)("svg",{className:"absolute top-0 left-full transform -translate-x-1/2 -translate-y-3/4 lg:left-auto lg:right-full lg:translate-x-2/3 lg:translate-y-1/4",width:404,height:784,fill:"none",viewBox:"0 0 404 784",children:[Object(a.jsx)("defs",{children:Object(a.jsx)("pattern",{id:"8b1b5f72-e944-4457-af67-0c6d15a99f38",x:0,y:0,width:20,height:20,patternUnits:"userSpaceOnUse",children:Object(a.jsx)("rect",{x:0,y:0,width:4,height:4,className:"text-gray-200",fill:"currentColor"})})}),Object(a.jsx)("rect",{width:404,height:784,fill:"url(#8b1b5f72-e944-4457-af67-0c6d15a99f38)"})]}),Object(a.jsxs)("div",{className:"relative lg:grid lg:grid-cols-3 lg:col-gap-8",children:[Object(a.jsxs)("div",{className:"lg:col-span-1",children:[Object(a.jsx)("h3",{className:"text-3xl leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10",children:"Download Data for Planning."}),Object(a.jsxs)("div",{className:"mt-10 sm:grid sm:grid-cols-2 sm:col-gap-8 sm:row-gap-10 lg:col-span-2 lg:mt-0",children:[Object(a.jsx)("div",{className:"mt-10 sm:mt-0 col-span-2",children:Object(a.jsxs)("div",{className:"mt-5",children:[Object(a.jsx)("h4",{className:"text-lg leading-6 font-medium text-gray-900"}),Object(a.jsx)("p",{className:"mt-2 text-base leading-6 text-gray-500",children:"This page allows users to download natural hazard loss data at a variety of geographies including the NCEI Storm Events Data, the SBA Disaster Loans, and the FEMA Public Assistance and Individual Assistance datasets. Below you can find instructions for setting specific parameters to download the data that works for you."})]})}),Object(a.jsx)("div",{className:"col-span-2",children:Object(a.jsxs)("div",{className:"mt-5",children:[Object(a.jsx)("h4",{className:"text-lg leading-6 font-medium text-gray-900",children:"National Data"}),Object(a.jsx)("p",{className:"mt-2 text-base leading-6 text-gray-500",children:"To download national data simply the select the dataset of your choice and leave all filters unselected. Click export data."})]})}),Object(a.jsx)("div",{className:"mt-10 sm:mt-0 col-span-2",children:Object(a.jsxs)("div",{className:"mt-5 col",children:[Object(a.jsx)("h4",{className:"text-lg leading-6 font-medium text-gray-900",children:"County Data"}),Object(a.jsx)("p",{className:"mt-2 text-base leading-6 text-gray-500",children:"You can pull any of the three datasets for any state or county the United States and Puerto Rico by using the State filter to select the state or county. You can also select the state first and the use the County filter to select all of the counties or a single county within that state."})]})}),Object(a.jsx)("div",{className:"mt-10 sm:mt-0 col-span-2",children:Object(a.jsxs)("div",{className:"mt-5",children:[Object(a.jsx)("h4",{className:"text-lg leading-6 font-medium text-gray-900",children:"Local Data"}),Object(a.jsx)("p",{className:"mt-2 text-base leading-6 text-gray-500",children:"To download data at the municipal or census tract level, you must first select a county, then use the Geo Level filter to select Municipality or Tracts"})]})})]})]}),Object(a.jsx)("div",{className:"mt-10 sm:grid sm:grid-cols-2 sm:col-gap-8 sm:row-gap-10 lg:col-span-2 lg:mt-0",children:Object(a.jsx)("div",{className:"w-full sm:grid sm:col-gap-8 sm:row-gap-10 lg:col-span-2 lg:mt-0",children:Object(a.jsx)(ie,{})})})]})]})})},layoutSettings:{fixed:!0,headerBar:!1,nav:"top"}},se=n(26),ce=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],le=[["#219bde","#1f78b7","#205f95","#1d4278","#17416b"],["#aec7e8","#9eb6d7","#899ebf","#7d8aa5","#747f9b","#546073"],["#ff7f0e","#d66b0e","#af3c27","#91490d","#632d08"],["#ffbb78","#d79871","#aa7b55","#896345","#6e4c37"],["#27ca27","#2dab2d","#227622","#1d631d","#164b16"],["#98df8a","#6cad5e","#6da25f","#537c49","#425d3d"],["#d62728","#b62627","#991f20","#691515","#491010"],["#ff9896","#d3716f","#9c5654","#784442","#5c3130"],["#9467bd","#6c4992","#5a3d75","#442e5d","#3e314b"],["#c5b0d5","#9a8aaa","#7f708f","#574f65","#433e4b"],["#8c564b","#703c38","#5d302e","#482424","#361b1b"],["#c49c94","#a9827a","#8d6867","#745151","#53403d"],["#e377c2","#bd5f9d","#a05283","#874473","#703853"],["#f7b6d2","#de9eb9","#bf849b","#a27584","#7a545f"],["#7f7f7f","#656565","#505050","#414141","#313131"],["#c7c7c7","#aaaaaa","#969696","#7f7f7f","#6f6f6f"],["#bcbd22","#a3a422","#88891e","#74751e","#494a13"],["#dbdb8d","#bbbb76","#a2a262","#7f7f4e","#616137"],["#17becf","#179eaf","#167a8a","#136d7c","#0e5360"],["#9edae5","#7fb6c1","#648c96","#4f6e76","#41565d"]],ue={wind:ce[4],wind_range:le[4],wildfire:ce[17],wildfire_range:le[17],tsunami:ce[9],tsunami_range:le[9],tornado:ce[3],tornado_range:le[3],riverine:ce[19],riverine_range:le[19],lightning:ce[5],lightning_range:le[5],landslide:ce[6],landslide_range:le[6],icestorm:ce[7],icestorm_range:le[7],hurricane:ce[8],hurricane_range:le[8],heatwave:ce[2],heatwave_range:le[2],hail:ce[0],hail_range:le[0],earthquake:ce[11],earthquake_range:le[11],drought:ce[12],drought_range:le[12],avalanche:ce[13],avalanche_range:le[13],coldwave:ce[14],coldwave_range:le[14],winterweat:ce[15],winterweat_range:le[15],volcano:ce[16],volcano_range:le[16],coastal:ce[1],coastal_range:le[1]},de=n(206),pe=[],he=1996;he<=2019;he++)pe.push(he);var fe=[{value:"wind",name:"Wind"},{value:"wildfire",name:"Wildfire"},{value:"tsunami",name:"Tsunami/Seiche"},{value:"tornado",name:"Tornado"},{value:"riverine",name:"Flooding"},{value:"lightning",name:"Lightning"},{value:"landslide",name:"Landslide"},{value:"icestorm",name:"Ice Storm"},{value:"hurricane",name:"Hurricane"},{value:"heatwave",name:"Heat Wave"},{value:"hail",name:"Hail"},{value:"earthquake",name:"Earthquake"},{value:"drought",name:"Drought"},{value:"avalanche",name:"Avalanche"},{value:"coldwave",name:"Coldwave"},{value:"winterweat",name:"Snow Storm"},{value:"volcano",name:"Volcano"},{value:"coastal",name:"Coastal Hazards"}],be=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{style:{width:"100%",height:this.props.height?this.props.height:"300px"},children:Object(a.jsx)(de.a,{data:this.props.data,keys:fe.map((function(e){return e.value})),indexBy:"year",margin:{top:60,right:80,bottom:70,left:80},padding:.2,colors:function(e){return ue[e.id]},groupMode:"stacked",enableLabel:!1,enableGridX:!1,enableGridY:!0,axisBottom:{tickSize:5,tickPadding:5,tickRotation:-60,legend:"year",legendPosition:"middle",legendOffset:45},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Total Damage $",legendPosition:"middle",legendOffset:-55,format:function(e){return"".concat(Object(se.fnum)(e))}},labelSkipWidth:12,labelSkipHeight:12,animate:!0,motionStiffness:90,motionDamping:15,tooltipFormat:function(e){return"".concat(Object(se.fnum)(e))}})})})}}]),n}(i.a.Component),me=n(11),ve=n(297),je=n(656),ge=n(60),ye=n(649),xe=n.n(ye),Oe=n(1240),_e={latitude:42.924,longitude:-75.54,zoom:6,maxZoom:16,pitch:0,bearing:0,width:500,height:500,altitude:1.5},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.a)(Object(c.a)({},_e),e),n=[],a=!1;function r(){return a?(t.transitionInterpolator=new je.a,t.transitionEasing=Oe.a,t.transitionDuration=2e3,a=!1):(delete t.transitionInterpolator,delete t.transitionDuration,delete t.transitionEasing),t}return r.onViewportChange=function(e){if(t=Object(c.a)(Object(c.a)({},t),e),n.length){var a={viewport:r()};n.forEach((function(e){var t=e.owner;return e.func.call(t,a)}))}return r},r.register=function(e,t){return r.unregister(e),n.push({owner:e,func:t}),r},r.unregister=function(e){return n=n.filter((function(t){return t.owner!==e})),r},r.fitBounds=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{padding:50};if(!e.length)return r;a=!0;var i=Object(c.a)({width:t.width,height:t.height,bounds:e},n);return r.onViewportChange(Object(ge.b)(i))},r.fitGeojson=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{padding:50};return r.fitBounds(we(e),t)},r},we=function(e){if(!e)return[];if(!e.type)return[];if("FeatureCollection"===e.type&&!e.features.length)return[];if(e){var t=xe()(e);return t?[t.slice(0,2),t.slice(2)]:[]}return[]},Ce=n(1177),Se=function(){function e(){Object(l.a)(this,e),this.data={}}return Object(u.a)(e,[{key:"getData",value:function(e){var t=this;return new Promise((function(n,a){t.data[e]?n(t.data[e]):fetch("".concat("/","geo/counties-10m.json"),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){var r={type:"Topology",bbox:a.bbox,transform:a.transform,objects:{counties:{type:"GeometryCollection",geometries:a.objects.counties.geometries.filter((function(t){return t.id.slice(0,2)===e}))},states:{type:"GeometryCollection",geometries:a.objects.states.geometries.filter((function(t){return t.id===e}))},nation:a.objects.nation},arcs:a.arcs};t.data[e]=r,n(r)}))}))}},{key:"getChildGeo",value:function(e,t){var n=this;return new Promise((function(a,r){n.getData(e).then((function(e){a(Ce.feature(e,e.objects[t]))}))}))}},{key:"getGeoMesh",value:function(e,t){var n=this;return new Promise((function(a,r){n.getData(e).then((function(n){a({type:"FeatureCollection",features:[{type:"Feature",properties:{geoid:e},geometry:Ce.mesh(n,n.objects[t])}]})}))}))}},{key:"getGeoMerge",value:function(e,t){var n=this;return new Promise((function(a,r){n.getData(e).then((function(n){a({type:"FeatureCollection",features:[{type:"Feature",properties:{geoid:e},geometry:Ce.merge(n,n.objects[t].geometries)}]})}))}))}}]),e}(),Ne=n(19),Le=n(403),Ae=n(302),De=n.n(Ae),Pe=n(404),ze=n.n(Pe),Me=n(146),Be=n.n(Me),Fe="https://graph.availabs.org/",Ie=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"onBeforeRequest",value:function(e){if(window.localStorage){var t=window.localStorage.getItem("userToken");t&&(e.headers.Authorization=t)}}}]),n}(ze.a);function Te(){var e={};return localStorage&&localStorage.getItem("falcorCache")&&(e=JSON.parse(localStorage.getItem("falcorCache"))),e}var Ee=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.placeholder,r=void 0===a?"replace_me":a,i=n.chunkSize,o=void 0===i?50:i,s=[],c=function(n){s.push(t.map((function(t){return t===r?e.slice(n,n+o):t})))},l=0;l<e.length;l+=o)c(l);return s.length?s:[t]},He=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.falcor,r=void 0===a?Ue:a,i=Object(Ne.a)(n,["falcor"]);return Ee(e,t,i).reduce((function(e,t){return e.then((function(){return r.get(t)}))}),Promise.resolve())},Ve=function(e){return e.reduce((function(e,t){return Array.isArray(t)?e[0].push(t):e[1]=t,e}),[[],{}])},Re=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Ve(t),r=Object(Z.a)(a,2),i=r[0],o=r[1],s=o.index,l=void 0===s?null:s,u=o.placeholder,d=void 0===u?"replace_me":u,p=Object(Ne.a)(o,["index","placeholder"]);return i.reduce((function(e,t){return e.then((function(){var e=[],n=!1,a=t.map((function(t,a){return!Array.isArray(t)||!t.length||n||null!==l&&l!==a?t:(n=!0,e=t,d)}));return He(e,a,Object(c.a)(Object(c.a)({},p),{},{placeholder:d}))}))}),Promise.resolve())},Ge=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).listeners={},e.onChange=e.onChange.bind(Object(x.a)(e)),e.listen=e.listen.bind(Object(x.a)(e)),e.unlisten=e.unlisten.bind(Object(x.a)(e)),e}return Object(u.a)(n,[{key:"onChange",value:function(){for(var e in this.listeners)this.listeners[e]()}},{key:"listen",value:function(e,t){this.listeners[e]=Be()(t.bind(e),50)}},{key:"unlisten",value:function(e){delete this.listeners[e]}}]),n}(De.a),Ue=new(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).modelRoot=e._root,e.onChange=e.onChange.bind(Object(x.a)(e)),e.remove=e.remove.bind(Object(x.a)(e)),e.chunk=e.chunk.bind(Object(x.a)(e)),e}return Object(u.a)(n,[{key:"onChange",value:function(e,t){this.modelRoot.listen(e,t)}},{key:"remove",value:function(e){this.modelRoot.unlisten(e)}},{key:"chunk",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Ve(t),r=Object(Z.a)(a,2),i=r[0],o=r[1];return Re.apply(void 0,Object(m.a)(i).concat([Object(c.a)({falcor:this},o)]))}}]),n}(Le.Model))({_root:new Ge,source:new Ie(Fe+"graph",{crossDomain:!0,withCredentials:!1,timeout:12e4}),errorSelector:function(e,t){return console.log("errorSelector",e,t),t},cache:Te()}).batch(),We={},Ze={mesh:{}},$e={merge:{}};["01","02","04","05","06","08","09","10","11","12","13","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","44","45","46","47","48","49","50","51","53","54","55","56"].forEach((function(e){We[e]={counties:{type:"FeatureCollection",features:[]},cousubs:{type:"FeatureCollection",features:[]},tracts:{type:"FeatureCollection",features:[]},zips:{type:"FeatureCollection",features:[]}},Ze.mesh[e]={counties:{type:"FeatureCollection",features:[]},cousubs:{type:"FeatureCollection",features:[]},tracts:{type:"FeatureCollection",features:[]},zips:{type:"FeatureCollection",features:[]}},$e.merge[e]={counties:{type:"FeatureCollection",features:[]},cousubs:{type:"FeatureCollection",features:[]},tracts:{type:"FeatureCollection",features:[]},zips:{type:"FeatureCollection",features:[]}}}));var Ke,qe=Object(c.a)(Object(c.a)(Object(c.a)({},We),$e),Ze),Ye=new Se,Xe="SET_CHILD_GEO",Je="GET_ALL_FIPS";function Qe(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{type:Xe,geoid:e,data:t,geoType:n,mesh:a,merge:r}}var et=qe,tt=(Ke={},Object(M.a)(Ke,Xe,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);if(t.merge){var a=Object.assign({},e.merge[t.geoid],Object(M.a)({},t.geoType,t.data));n.merge[t.geoid]=a}else if(t.mesh){var r=Object.assign({},e.mesh[t.geoid],Object(M.a)({},t.geoType,t.data));n.mesh[t.geoid]=r}else{var i=Object.assign({},e[t.geoid],Object(M.a)({},t.geoType,t.data));n[t.geoid]=i}return n})),Object(M.a)(Ke,Je,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);return n.allGeos=Object.keys(t.allGeo).filter((function(e){return"$__path"!==e})).reduce((function(e,n){return e[n]=t.allGeo[n].name,e}),{}),n.geoRelations?n.geoRelations[t.parentGeo]=Object.keys(t.allGeo).filter((function(e){return e!==t.parentGeo})):n.geoRelations=Object(M.a)({},t.parentGeo,Object.keys(t.allGeo).filter((function(e){return e!==t.parentGeo}))),n})),Ke);var nt=n(1241),at=n(317),rt=n(116),it=n(167),ot=n(626),st=0,ct=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(l.a)(this,n),a=t.call(this,e);var r=it.a();return a.state={projection:r,path:ot.a(r),viewport:a.props.viewport(),id:e.id||"svg-map-".concat(++st)},a._onViewportChange=a._onViewportChange.bind(Object(x.a)(a)),a._resize=a._resize.bind(Object(x.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this._resize),this.props.viewport.register(this,this.setState),this._resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resize),this.props.viewport.unregister(this)}},{key:"_resize",value:function(){var e=window.getComputedStyle(document.getElementById(this.state.id),null);this._onViewportChange({height:parseInt(e.getPropertyValue("height"),10),width:parseInt(e.getPropertyValue("width"),10)})}},{key:"_onViewportChange",value:function(e){this.props.viewport.onViewportChange(e)}},{key:"getPath",value:function(e,t,n){var r=t.stroked,i=void 0===r||r,o=t.lineWidthMinPixels,s=void 0===o?1:o,c=t.filled,l=void 0!==c&&c,u=t.getLineColor,d=void 0===u?[0,0,0,255]:u,p=t.getFillColor,h=void 0===p?[225,225,225,255]:p,f=t.onHover,b=void 0===f?null:f,m=(t.onClick,t.key),v=void 0===m?null:m,j=d,g=h;"function"===typeof d&&(j=d(e)),"function"===typeof h&&(g=h(e)),j=rt.e("rgba(\n\t\t\t\t".concat(j[0],",\n\t\t\t\t").concat(j[1],",\n\t\t\t\t").concat(j[2],",\n\t\t\t\t").concat(j[3]/255,"\n\t\t\t)")),g=rt.e("rgba(\n\t\t\t\t".concat(g[0],",\n\t\t\t\t").concat(g[1],",\n\t\t\t\t").concat(g[2],",\n\t\t\t\t").concat(g[3]/255,"\n\t\t\t)"));var y=null,x=null;return b&&(y=function(t){var n=t.clientX,a=t.clientY;b({object:e,x:n,y:a})},x=function(e){var t=e.clientX,n=e.clientY;b({object:null,x:t,y:n})}),Object(a.jsx)("path",{d:this.state.path(e),onMouseOver:y,onMouseOut:x,stroke:i?j.toString():"none",fill:l?g.toString():"none",strokeWidth:s},v?v(e):n)}},{key:"getLayerPaths",value:function(e){var t=this,n=e.data,a=(e.key,Object(Ne.a)(e,["data","key"]));return n&&"FeatureCollection"===n.type?n.features.map((function(e,n){return t.getPath(e,a,n)})):this.getPath(n,a)}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.projection,r=(t.path,t.viewport),i=r.width,o=r.height,s=r.longitude,l=r.latitude,u=this.props,d=u.bounds,p=u.padding,h=u.layers,f=u.controls;return!d&&h.length&&dt(h[0].data)?n.fitExtent([[p,p],[i-p,o-p]],h[0].data):d?n.fitExtent([[p,p],[i-p,o-p]],d):n.center([s,l]).translate([.5*i,.5*o]).scale(4e3),Object(a.jsx)("div",{id:this.state.id,style:{width:"100%",height:"".concat(this.props.height,"px"),position:"relative"},children:Object(a.jsxs)("div",{style:{position:"absolute",height:"fit-content"},children:[Object(a.jsxs)("span",{style:{float:"right"},children:[f.map((function(e,t){return Object(a.jsx)(ut,Object(c.a)({},e),t)})),this.props.hoverData?Object(a.jsx)(lt,Object(c.a)({},this.props.hoverData)):null]}),Object(a.jsx)("svg",{id:this.state.id+"-svg",style:{width:"".concat(i,"px"),height:"".concat(o,"px")},children:h.map((function(t){return Object(a.jsx)("g",{id:t.id,children:e.getLayerPaths(t)},t.id)}))})]})})}}]),n}(i.a.Component);ct.defaultProps={layers:[],controls:[],padding:20,height:800,viewport:ke(),hoverData:null};var lt=function(e){var t=e.rows,n=e.x,r=e.y;if(!t||0===t.length)return null;var i=1===t[0].length&&t.length>1,o=t.slice(i?1:0);return Object(a.jsx)("div",{className:"map-test-table-div",style:{position:"fixed",left:n+10,top:r+10},children:Object(a.jsxs)("table",{className:"map-test-table",children:[i?Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:Object(a.jsx)("th",{colSpan:"2",children:t[0]})})}):null,Object(a.jsx)("tbody",{children:o.map((function(e,t){return Object(a.jsx)("tr",{children:e.map((function(e,n){return Object(a.jsx)("td",{children:e},t+"-"+n)}))},t)}))})]})})},ut=function(e){var t=e.comp,n=e.pos,r=void 0===n?"top-left":n;return Object(a.jsx)("div",{className:"map-test-table-div "+r,children:t})},dt=function(e){return!!e&&("FeatureCollection"==e.type?e.features.length:"Feature"==e.type?e.geometry.coordinates.length:"coordinates"in e&&e.coordinates.length)},pt=ct,ht=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){ke().register(this,this.setState)}},{key:"componentWillMount",value:function(){var e=this.props.activeCountyGeoid?this.props.activeCountyGeoid:window.location.pathname.split("/")[2];this.props.getChildGeo(e.slice(0,2),"counties"),this.props.getGeoMesh(e.slice(0,2),"counties"),this.props.getGeoMerge(e.slice(0,2),"counties")}},{key:"componentWillUpdate",value:function(e,t,n){if(this.props.activeCountyGeoid!==e.activeCountyGeoid){var a=e.activeCountyGeoid;this.props.getChildGeo(a.slice(0,2),"counties"),this.props.getGeoMesh(a.slice(0,2),"counties"),this.props.getGeoMerge(a.slice(0,2),"counties")}}},{key:"componentWillReceiveProps",value:function(e){var t=window.location.pathname.split("/")[2],n=P()(this.props.falcorCache,["geo"],null),a=e.geoLevel,r=null,i=null,o=null;if(e.geo.merge&&e.geo.merge[t.slice(0,2)].counties.features.length>0&&n){switch(a){case"counties":r=e.geo.merge[t.slice(0,2)].counties,i=e.geo.mesh[t.slice(0,2)].counties,o=e.geo[t.slice(0,2)].counties.features.reduce((function(e,n){return n.id===t?n:e}),null)}if(!r)return;ke().fitGeojson(r),this.setState({bounds:r,countiesGeojson:i,activeCountyGeoJson:o,county_name:P()(n,[t,"name"],""),state_abbr:P()(n,[t.slice(0,2),"state_abbr"],"")})}}},{key:"componentDidUpdate",value:function(e,t,n){if(this.props.activeCountyGeoid!==e.activeCountyGeoid){var a=this.props.activeCountyGeoid,r=P()(this.props.falcorCache,["geo"],null),i=this.props.geoLevel,o=null,s=null,c=null;if(this.props.geo.merge&&this.props.geo.merge[a.slice(0,2)].counties.features.length>0&&r){switch(i){case"counties":o=this.props.geo.merge[a.slice(0,2)].counties,s=this.props.geo.mesh[a.slice(0,2)].counties,c=this.props.geo[a.slice(0,2)].counties.features.reduce((function(e,t){return t.id===a?t:e}),null)}if(!o)return;ke().fitGeojson(o),this.setState({bounds:o,countiesGeojson:s,activeCountyGeoJson:c,county_name:P()(r,[a,"name"],""),state_abbr:P()(r,[a.slice(0,2),"state_abbr"],"")})}}}},{key:"generateLayers",value:function(){return[{id:"state-layer-filled",data:this.state.bounds,filled:!0,getFillColor:[242,239,233,255]},{id:"counties-layer-stroked",data:this.state.countiesGeojson,stroked:!0},{id:"active-county-layer-filled",data:this.state.activeCountyGeoJson,filled:!0,getFillColor:[68,142,239,255]}]}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"max-w-lg h-1/2",children:Object(a.jsx)(U,{page:"overview"})}),Object(a.jsxs)("div",{style:{height:"100%",width:"100%"},className:"flex justify-center",children:[Object(a.jsx)("div",{className:"text-5xl font-bold px-6 py-14 whitespace-no-wrap",children:"".concat(this.state.county_name||"",",\n                        ").concat(this.state.state_abbr||"")}),Object(a.jsx)(pt,{layers:this.generateLayers(),height:this.props.height,viewport:ke(),padding:5,bounds:this.props.bounds})]})]})}}]),n}(i.a.Component);ht.defaultProps={yearDelta:0,height:200,dragPan:!0,scrollZoom:!0,dragRotate:!0,padding:null,mapLegendLocation:"bottom-left",mapLegendSize:"large",mapControlsLocation:"top-left",hazard:null,allTime:!1,geoLevel:"counties"};for(var ft={getChildGeo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"counties";return function(n){return Ye.getChildGeo(e,t).then((function(a){n(Qe(e,a,t))}))}},getGeoMesh:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"counties";return function(n){return Ye.getGeoMesh(e,t).then((function(a){n(Qe(e,a,t,!0))}))}},getGeoMerge:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"counties";return function(n){return Ye.getGeoMerge(e,t).then((function(a){n(Qe(e,a,t,!1,!0))}))}}},bt=Object(O.connect)((function(e,t){return{activeCountyGeoid:e.overview.activeCountyGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[]),geo:e.geo}}),ft)(Object(ve.reduxFalcor)(ht)),mt=n(112),vt=[{value:"wind",name:"Wind"},{value:"wildfire",name:"Wildfire"},{value:"tsunami",name:"Tsunami/Seiche"},{value:"tornado",name:"Tornado"},{value:"riverine",name:"Flooding"},{value:"lightning",name:"Lightning"},{value:"landslide",name:"Landslide"},{value:"icestorm",name:"Ice Storm"},{value:"hurricane",name:"Hurricane"},{value:"heatwave",name:"Heat Wave"},{value:"hail",name:"Hail"},{value:"earthquake",name:"Earthquake"},{value:"drought",name:"Drought"},{value:"avalanche",name:"Avalanche"},{value:"coldwave",name:"Coldwave"},{value:"winterweat",name:"Snow Storm"},{value:"volcano",name:"Volcano"},{value:"coastal",name:"Coastal Hazards"}],jt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.props.geoid!==e.geoid&&this.fetchFalcorDeps()}},{key:"fetchFalcorDeps",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.falcor.get(["geo",this.props.geoid,"cousubs"]);case 2:if(t=e.sent,this.cousubs=P()(t,["json","geo",this.props.geoid,"cousubs"],null),this.hazards=vt.reduce((function(e,t){return e.push(t.value),e}),[]),!this.cousubs){e.next=14;break}return this.cousubs.unshift(this.props.geoid),e.next=9,this.props.falcor.get(["geo",this.cousubs,"name"]);case 9:return n=e.sent,e.next=12,this.props.falcor.get(["severeWeather",this.cousubs,this.hazards,"allTime",["total_damage"]]);case 12:return a=e.sent,e.abrupt("return",{cousubs:t,cousub_names:n,severeWeather:a});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"processCousubData",value:function(){var e=this,t=P()(this.props.falcorCache,["geo"],null),n=P()(this.props.falcorCache,["severeWeather"],null),a=[],r=[];if(t&&n){Object.keys(n).forEach((function(r){if(e.cousubs.includes(r)){var i=vt.reduce((function(e,t){return e[t.value]=P()(n,[r,t.value,"allTime","total_damage"],0),e}),{});a.push(Object(c.a)({cousub:P()(t,[r,"name"],"")},i))}}));var i=vt.reduce((function(e,t){return e[t.value]=mt.sumBy(a,t.value),e}),{});r.push(Object(c.a)({cousub:"Total Damage"},i));var o=[].concat(a,r);return vt.forEach((function(e){o=o.sort((function(t,n){return n[e.value]-t[e.value]}))})),o}}},{key:"processTableCols",value:function(){var e=[{Header:Object(a.jsx)("div",{style:{fontSize:12},children:"Area"}),accessor:"cousub",disableFilters:!0}];return vt.forEach((function(t){e.push({Header:Object(a.jsx)("div",{style:{fontSize:12},children:t.name}),accessor:t.value,disableFilters:!0,Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"right"},children:Object(se.fnum)(P()(e,"row.values.".concat(t.value),""))})}})})),e}},{key:"render",value:function(){var e=this.processTableCols(),t=this.processCousubData()?this.processCousubData():[];return t.forEach((function(t){"Total Damage"===t.cousub&&(e=e.filter((function(e){return 0!==t[e.accessor]})))})),Object(a.jsx)("div",{children:e?Object(a.jsx)(me.Table,{defaultPageSize:50,showPagination:!0,columns:e,data:t,initialPageSize:50,minRows:t.length,sortBy:"wind",sortOrder:"desc"}):null})}}]),n}(i.a.Component),gt=Object(O.connect)((function(e){return{falcorCache:e.falcorCache,activeAmount:e.femaDisasterDeclarations.activeAmount,activeStateGeoid:e.stormEvents.activeStateGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[])}}),{})(A(jt)),yt=["geoid","name","declaration_date","disaster_number","id"],xt=[{Header:"Name",accessor:"name",disableFilters:!0},{Header:"Disaster Number",accessor:"disaster_number",disableFilters:!0},{Header:"Declaration Date",accessor:"declaration_date",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:new Date(P()(e,"row.values.declaration_date","")).toLocaleDateString("en-US")})},disableFilters:!0},{Header:"IHP TOTAL",accessor:"ihp_total",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(se.fnum)(P()(e,"row.values.ihp_total",""))})},disableFilters:!0},{Header:"PA TOTAL",accessor:"pa_total",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(se.fnum)(P()(e,"row.values.pa_total",""))})},disableFilters:!0},{Header:"HMGP TOTAL",accessor:"hmgp_total",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(se.fnum)(P()(e,"row.values.hmgp_total",""))})},disableFilters:!0},{Header:"TOTAL COST",accessor:"total_cost",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(se.fnum)(P()(e,"row.values.total_cost",""))})},disableFilters:!0}],Ot=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"fetchFalcorDeps",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a,r,i,o,s,c,l,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.falcor.get(["fema","disasters","declarations","byGeoid",this.props.geoid,"length"]);case 2:if(t=e.sent,n=P()(t,["json","fema","disasters","declarations","byGeoid",this.props.geoid,"length"],null),a={},r={},i={},!n){e.next=28;break}return o=n>1?n-1:1,e.next=9,this.props.falcor.get(["fema","disasters","declarations","byGeoid",this.props.geoid,"byIndex",[{from:0,to:o}],yt]);case 9:return s=e.sent,e.next=12,this.props.falcor.get(["geo",this.props.geoid,"name"]);case 12:if(c=e.sent,!(l=P()(s,["json","fema","disasters","declarations","byGeoid",this.props.geoid,"byIndex"],null))){e.next=25;break}return u=Object.keys(l).filter((function(e){return"$__path"!==e})).reduce((function(e,t){return e.push(l[t].disaster_number),e}),[]),e.next=18,this.props.falcor.get(["fema","disasters","declarations","byGeoid",this.props.geoid,"byId",u,"ihp_total"]);case 18:return a=e.sent,e.next=21,this.props.falcor.get(["fema","disasters","declarations","byGeoid",this.props.geoid,"byId",u,"pa_total"]);case 21:return r=e.sent,e.next=24,this.props.falcor.get(["fema","disasters","declarations","byGeoid",this.props.geoid,"byId",u,"hmgp_total"]);case 24:i=e.sent;case 25:return e.abrupt("return",{dataByIndex:s,geoName:c,ihpData:a,paData:r,hmgpData:i});case 28:return e.abrupt("return",Promise.resolve({}));case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"processData",value:function(){var e=this,t=P()(this.props.falcorCache,["fema","disasters","declarations","byGeoid","byId"],null),n=P()(this.props.falcorCache,["geo",this.props.geoid,"name"]),a=P()(this.props.falcorCache,["fema","disasters","declarations","byGeoid",this.props.geoid,"byId"],null),r=[];return t&&a&&!Object.keys(a).map((function(e){return a[e].ihp_total&&a[e].pa_total&&a[e].hmgp_total})).includes(void 0)&&(Object.keys(t).forEach((function(i){if(t[i].geoid.value===e.props.geoid){var o=yt.reduce((function(e,r){return"geoid"===r?e[r]=n:(e.ihp_total=P()(a,[t[i].disaster_number.value,"ihp_total","value"],0),e.pa_total=P()(a,[t[i].disaster_number.value,"pa_total","value"],0),e.hmgp_total=P()(a,[t[i].disaster_number.value,"hmgp_total","value"],0),e[r]=P()(t,[i,r,"value"],"")),e}),{});r.push(o)}})),r.map((function(e){return e.total_cost=e.ihp_total+e.pa_total+e.hmgp_total,e}))),r}},{key:"render",value:function(){var e=this.processData();return Object(a.jsx)("div",{children:e.length>0?Object(a.jsx)(me.Table,{defaultPageSize:10,showPagination:!0,columns:xt,data:e,initialPageSize:10,minRows:e.length,sortBy:"total_cost",sortOrder:"asc"}):Object(a.jsx)("div",{children:"Loading..."})})}}]),n}(i.a.Component),_t=Object(O.connect)((function(e){return{falcorCache:e.falcorCache,activeAmount:e.femaDisasterDeclarations.activeAmount,activeStateGeoid:e.stormEvents.activeStateGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[])}}),{})(A(Ot)),kt=["geoid","name","declaration_date","disaster_number","id"],wt=[{Header:"City,Zip",accessor:"city_zip",disableFilters:!1},{Header:"Disaster Number",accessor:"disaster_number",disableFilters:!0},{Header:"Declaration Date",accessor:"declaration_date",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:new Date(P()(e,"row.values.declaration_date","mm/dd/yyyy")).toLocaleDateString("en-US")})},disableFilters:!0},{Header:"IHP Amount",accessor:"ihp_amount",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(se.fnum)(P()(e,"row.values.ihp_amount",""))})},disableFilters:!0},{Header:"HA Amount",accessor:"ha_amount",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(se.fnum)(P()(e,"row.values.ha_amount",""))})},disableFilters:!0},{Header:"ON A Amount",accessor:"on_a_amount",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(se.fnum)(P()(e,"row.values.on_a_amount",""))})},disableFilters:!0}],Ct=[{Header:"Disaster Number",accessor:"disaster_number",disableFilters:!0},{Header:"Declaration Date",accessor:"declaration_date",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:new Date(P()(e,"row.values.declaration_date","")).toLocaleDateString("en-US")})},disableFilters:!0},{Header:"Applicant Name",accessor:"application_title",disableFilters:!0},{Header:"Federal Share Obligated",accessor:"federal_share_obligated",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(se.fnum)(P()(e,"row.values.federal_share_obligated",""))})},disableFilters:!0}],St=[{Header:"Disaster Number",accessor:"disaster_number",disableFilters:!0},{Header:"Program Area",accessor:"program_area",disableFilters:!0},{Header:"Project Title",accessor:"project_title",disableFilters:!0},{Header:"Federal Share Obligated",accessor:"federal_share_obligated",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(se.fnum)(P()(e,"row.values.federal_share_obligated",""))})},disableFilters:!0},{Header:"Project Amount",accessor:"project_amount",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(se.fnum)(P()(e,"row.values.project_amount",""))})},disableFilters:!0}],Nt=[{Header:"Disaster Number",accessor:"disaster_number",disableFilters:!0},{Header:"Property Action",accessor:"property_action",disableFilters:!0},{Header:"Structure Type",accessor:"structure_type",disableFilters:!0},{Header:"Program Area",accessor:"program_area",disableFilters:!0},{Header:"Title",accessor:"title",disableFilters:!0},{Header:"Number of Properties",accessor:"number_of_properties",disableFilters:!0},{Header:"Actual Amount Paid",accessor:"actual_amount_paid",Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:Object(se.fnum)(P()(e,"row.values.actual_amount_paid",""))})},disableFilters:!0}],Lt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"fetchFalcorDeps",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a,r,i,o,s,c,l,u,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.falcor.get(["fema","disasters","declarations","byGeoid",this.props.geoid,"length"]);case 2:if(t=e.sent,n=P()(t,["json","fema","disasters","declarations","byGeoid",this.props.geoid,"length"],null),a={},r={},i={},o={},!n){e.next=31;break}return s=n>1?n-1:1,e.next=9,this.props.falcor.get(["fema","disasters","declarations","byGeoid",this.props.geoid,"byIndex",[{from:0,to:s}],kt]);case 9:return c=e.sent,e.next=12,this.props.falcor.get(["geo",this.props.geoid,"name"]);case 12:if(l=e.sent,!(u=P()(c,["json","fema","disasters","declarations","byGeoid",this.props.geoid,"byIndex"],null))){e.next=28;break}return d=Object.keys(u).filter((function(e){return"$__path"!==e})).reduce((function(e,t){return e.push(u[t].disaster_number),e}),[]),e.next=18,this.props.falcor.get(["fema","disasters","declarations","byGeoid",this.props.geoid,"byId",d,"ia"]);case 18:return a=e.sent,e.next=21,this.props.falcor.get(["fema","disasters","declarations","byGeoid",this.props.geoid,"byId",d,"pa"]);case 21:return r=e.sent,e.next=24,this.props.falcor.get(["fema","disasters","declarations","byGeoid",this.props.geoid,"byId",d,"hmgp_projects"]);case 24:return i=e.sent,e.next=27,this.props.falcor.get(["fema","disasters","declarations","byGeoid",this.props.geoid,"byId",d,"hmgp_properties"]);case 27:o=e.sent;case 28:return e.abrupt("return",{dataByIndex:c,geoName:l,ihpData:a,paData:r,hmgpProjectsData:i,hmgpPropertiesData:o});case 31:return e.abrupt("return",Promise.resolve({}));case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"processIAData",value:function(){var e=this,t=P()(this.props.falcorCache,["fema","disasters","declarations","byGeoid","byId"],null),n=P()(this.props.falcorCache,["fema","disasters","declarations","byGeoid",this.props.geoid,"byId"],null),a=[];return t&&n&&(Object.keys(t).forEach((function(r){t[r].geoid.value===e.props.geoid&&P()(n,[t[r].disaster_number.value,"ia","value"],[]).forEach((function(e){a.push(e)}))})),0===a.length&&a.push({})),a}},{key:"processPAData",value:function(){var e=this,t=P()(this.props.falcorCache,["fema","disasters","declarations","byGeoid","byId"],null),n=P()(this.props.falcorCache,["fema","disasters","declarations","byGeoid",this.props.geoid,"byId"],null),a=[];return t&&n&&(Object.keys(t).forEach((function(r){t[r].geoid.value===e.props.geoid&&P()(n,[t[r].disaster_number.value,"pa","value"],[]).forEach((function(e){a.push(e)}))})),0===a.length&&a.push({})),a}},{key:"processHMGPProjectsData",value:function(){var e=this,t=P()(this.props.falcorCache,["fema","disasters","declarations","byGeoid","byId"],null),n=P()(this.props.falcorCache,["fema","disasters","declarations","byGeoid",this.props.geoid,"byId"],null),a=[];return t&&n&&(Object.keys(t).forEach((function(r){t[r].geoid.value===e.props.geoid&&P()(n,[t[r].disaster_number.value,"hmgp_projects","value"],[]).forEach((function(e){a.push(e)}))})),0===a.length&&a.push({})),a}},{key:"processHMGPPropertiesData",value:function(){var e=this,t=P()(this.props.falcorCache,["fema","disasters","declarations","byGeoid","byId"],null),n=P()(this.props.falcorCache,["fema","disasters","declarations","byGeoid",this.props.geoid,"byId"],null),a=[];return t&&n&&(Object.keys(t).forEach((function(r){t[r].geoid.value===e.props.geoid&&P()(n,[t[r].disaster_number.value,"hmgp_properties","value"],[]).forEach((function(e){a.push(e)}))})),0===a.length&&a.push({})),a}},{key:"render",value:function(){var e="ia"===this.props.type?this.processIAData():"pa"===this.props.type?this.processPAData():"hmgp_projects"===this.props.type?this.processHMGPProjectsData():this.processHMGPPropertiesData();return Object(a.jsx)("div",{children:e.length>0?Object(a.jsx)(me.Table,{defaultPageSize:15,showPagination:!0,columns:"ia"===this.props.type?wt:"pa"===this.props.type?Ct:"hmgp_projects"===this.props.type?St:Nt,data:e,initialPageSize:15,minRows:e.length,sortBy:"declaration_date",sortOrder:"desc"}):Object(a.jsx)("div",{children:"Loading..."})})}}]),n}(i.a.Component),At=Object(O.connect)((function(e){return{falcorCache:e.falcorCache,activeAmount:e.femaDisasterDeclarations.activeAmount,activeStateGeoid:e.stormEvents.activeStateGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[])}}),{})(A(Lt)),Dt=[],Pt=1996;Pt<=2019;Pt++)Dt.push(Pt);var zt=["ia_ihp_amount","ia_ihp_count","pa_project_amount","pa_federal_share_obligated","hma_prop_actual_amount_paid","hma_prop_number_of_properties","hma_proj_project_amount","hma_proj_project_amount_count","hma_proj_federal_share_obligated","hma_proj_federal_share_obligated_count","total_cost","total_disasters"],Mt=[{value:"wind",name:"Wind"},{value:"wildfire",name:"Wildfire"},{value:"tsunami",name:"Tsunami/Seiche"},{value:"tornado",name:"Tornado"},{value:"riverine",name:"Flooding"},{value:"lightning",name:"Lightning"},{value:"landslide",name:"Landslide"},{value:"icestorm",name:"Ice Storm"},{value:"hurricane",name:"Hurricane"},{value:"heatwave",name:"Heat Wave"},{value:"hail",name:"Hail"},{value:"earthquake",name:"Earthquake"},{value:"drought",name:"Drought"},{value:"avalanche",name:"Avalanche"},{value:"coldwave",name:"Coldwave"},{value:"winterweat",name:"Snow Storm"},{value:"volcano",name:"Volcano"},{value:"coastal",name:"Coastal Hazards"}],Bt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.fetchFalcorDeps()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.activeCountyGeoid!==e.activeCountyGeoid&&this.fetchFalcorDeps()}},{key:"fetchFalcorDeps",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a,r,i,o,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.activeCountyGeoid?this.props.activeCountyGeoid:this.props.match.params.geoid,this.hazards=Mt.reduce((function(e,t){return e.push(t.value),e}),[]),e.next=4,this.props.falcor.get(["geo",t,["name"]]);case 4:return n=e.sent,e.next=7,this.props.falcor.get(["severeWeather",t,this.hazards,Dt,["total_damage"]]);case 7:return a=e.sent,e.next=10,this.props.falcor.get(["sba","all",t,this.hazards,Dt,["total_loss"]]);case 10:return r=e.sent,e.next=13,this.props.falcor.get(["fema","disasters",t,this.hazards,Dt,zt]);case 13:return i=e.sent,e.next=16,this.props.falcor.get(["fema","disasters","length"]);case 16:if(o=e.sent,s=P()(o,["json","fema","disasters","length"]),c={},!s){e.next=23;break}return e.next=22,this.props.falcor.get(["fema","disasters","byIndex",[{from:0,to:s-1}],["name","year","geoid","total_cost","disaster_type"]]);case 22:c=e.sent;case 23:return e.abrupt("return",{name:n,severeWeather:a,sba:r,fema_disasters_combined:i,fema_disasters_by_id:c});case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"processSevereWeatherData",value:function(){var e=this.props.activeCountyGeoid?this.props.activeCountyGeoid:this.props.match.params.geoid,t=P()(this.props.falcorCache,["severeWeather",e],null),n=[];return t&&(n=Dt.reduce((function(e,t){return e.push({year:t.toString()}),e}),[]),Object.keys(t).forEach((function(e){n.forEach((function(n){n[e]=P()(t,[e,n.year,"total_damage"],0)}))}))),n}},{key:"processSbaData",value:function(){var e=this.props.activeCountyGeoid?this.props.activeCountyGeoid:this.props.match.params.geoid,t=P()(this.props.falcorCache,["sba","all",e],null),n=[];return t&&(n=Dt.reduce((function(e,t){return e.push({year:t.toString()}),e}),[]),Object.keys(t).forEach((function(e){n.forEach((function(n){n[e]=P()(t,[e,n.year,"total_loss"],0)}))}))),n}},{key:"processFemaDisasterData",value:function(){var e=this.props.activeCountyGeoid?this.props.activeCountyGeoid:this.props.match.params.geoid,t=P()(this.props.falcorCache,["fema","disasters","byId"],null),n=[];return t&&((n=Dt.reduce((function(e,t){return e.push({year:t.toString()}),e}),[])).forEach((function(e){Mt.forEach((function(t){e[t.value]=0}))})),n.forEach((function(n){Mt.forEach((function(a){Object.values(t).filter((function(e){return"$__path"!==e})).forEach((function(t){t.year&&P()(t,["year","value"],0).toString()===n.year&&P()(t,["disaster_type","value"],"")===a.value&&P()(t,["geoid","value"],"")===e&&(n[a.value]+=parseFloat(P()(t,["total_cost","value"],0)))}))}))}))),n}},{key:"processFemaDisastersCombined",value:function(){var e=this.props.activeCountyGeoid?this.props.activeCountyGeoid:this.props.match.params.geoid,t=P()(this.props.falcorCache,["fema","disasters",e],null),n=[];return t&&(n=Dt.reduce((function(e,t){return e.push({year:t.toString()}),e}),[]),Object.keys(t).forEach((function(e){n.forEach((function(n){n[e]=P()(t,[e,n.year,"total_cost","value"],0)}))}))),n}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"w-full h-full overflow-y-scroll overflow-x-hidden",children:Object(a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[Object(a.jsx)("div",{className:"flex-initial",children:Object(a.jsx)(bt,{})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(me.Header,{title:"Severe Weather Data"}),Object(a.jsx)(be,{data:this.processSevereWeatherData()})]}),Object(a.jsx)("div",{children:Object(a.jsx)(gt,{geoid:this.props.activeCountyGeoid?this.props.activeCountyGeoid:this.props.match.params.geoid})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(me.Header,{title:"SBA ALL Data"}),Object(a.jsx)(be,{data:this.processSbaData()})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(me.Header,{title:"Fema Disaster Summaries"}),Object(a.jsx)(be,{data:this.processFemaDisastersCombined()})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"text-sm",children:"Disaster Declaration Summaries V2 & Fema Web Disaster Summaries"}),Object(a.jsx)(_t,{geoid:this.props.activeCountyGeoid?this.props.activeCountyGeoid:this.props.match.params.geoid})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"text-sm",children:"Individual and Households Programs Valid Registration"}),Object(a.jsx)(At,{type:"ia",geoid:this.props.activeCountyGeoid?this.props.activeCountyGeoid:this.props.match.params.geoid})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"text-sm",children:"Public Assistance Applicants V1 & Public Assistance Funded Projects Details V1"}),Object(a.jsx)(At,{type:"pa",geoid:this.props.activeCountyGeoid?this.props.activeCountyGeoid:this.props.match.params.geoid})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"text-sm",children:"Hazard Mitigation Assistance Projects V2"}),Object(a.jsx)(At,{type:"hmgp_projects",geoid:this.props.activeCountyGeoid?this.props.activeCountyGeoid:this.props.match.params.geoid})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"text-sm",children:"Hazard Mitigation Assistance Mitigated Properties V2"}),Object(a.jsx)(At,{type:"hmgp_properties",geoid:this.props.activeCountyGeoid?this.props.activeCountyGeoid:this.props.match.params.geoid})]})]})})}}]),n}(i.a.Component),Ft={setActiveStateGeoid:K},It=Object(O.connect)((function(e,t){return{falcorCache:e.falcorCache,activeCountyGeoid:e.overview.activeCountyGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[])}}),Ft)(A(Bt)),Tt=[{path:"/overview/:geoid",mainNav:!1,exact:!0,name:"Overview",layoutSettings:{fixed:!0,maxWidth:"",headerBar:!1,nav:"top",theme:"flat"},component:Object(f.withRouter)(It)}],Et={mainNav:!1,component:function(){return Object(a.jsxs)("div",{className:"flex-1 flex items-center justify-center flex-col",children:[Object(a.jsx)("div",{className:"text-2xl font-bold",children:"404"}),Object(a.jsx)("div",{className:"text-xl",children:"Page not Found"}),Object(a.jsx)("div",{className:"text-xl",children:"Oops, Something went missing..."})]})},layoutSettings:{fixed:!0,headerBar:!0}},Ht=n(23),Vt=n.n(Ht),Rt=function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a,r,i,o,s,c,l,u,d,p,h,f,b,v,j,y=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.length>0&&void 0!==y[0]?y[0]:"",n=y.length>1&&void 0!==y[1]?y[1]:[],a=y.length>2?y[2]:void 0,r=y.length>3?y[3]:void 0,i=y.length>4?y[4]:void 0,o=y.length>5?y[5]:void 0,s=a||Vt.a.fips,c=r||"counties",l=[],u={},d={},p={},h={},f={},b={},e.next=17,Ue.get(["geo",s,c,"geoid"],["geo",Vt.a.fips,["name"]]);case 17:if(v=e.sent,j=P()(v,["json","geo"],null),l=Object.values(j).reduce((function(e,t){return t[c]&&(e=[].concat(Object(m.a)(e),Object(m.a)(t[c]))),e}),[]),"map"!==t){e.next=35;break}return e.next=23,Ue.get(["severeWeather",l,i,o,n]);case 23:return u=e.sent,e.next=26,Ue.get(["geo",l,["name"]]);case 26:if(d=e.sent,!a){e.next=34;break}return e.next=30,Ue.get(["geo",a,"boundingBox","value"]);case 30:return f=e.sent,e.next=33,Ue.get(["geo",a,["state_abbr"]]);case 33:b=e.sent;case 34:return e.abrupt("return",{severeWeather:u,geoNames:d,geoFips:b,geom:f});case 35:if(!a){e.next=42;break}return e.next=38,Ue.get(["severeWeather",s,i,o,n]);case 38:return h=e.sent,e.abrupt("return",h);case 42:return e.next=44,Ue.get(["severeWeather",[""],i,o,n]);case 44:return p=e.sent,e.abrupt("return",p);case 46:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a,r,i,o,s,c,l,u,d,p,h,f,b,v,j,y,x,O,_,k=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.length>0&&void 0!==k[0]?k[0]:"",n=k.length>1&&void 0!==k[1]?k[1]:[],a=k.length>2?k[2]:void 0,r=k.length>3?k[3]:void 0,i=k.length>4?k[4]:void 0,o=k.length>5?k[5]:void 0,s=a||Vt.a.fips,c=r||"counties",l=[],u=[],d={},p={},h={},f={},b={},v={},j={},e.next=19,Ue.get(["geo",s,"counties","geoid"],["geo",Vt.a.fips,["name"]]);case 19:if(y=e.sent,x=P()(y,["json","geo"],null),u=Object.values(x).reduce((function(e,t){return t.counties&&(e=[].concat(Object(m.a)(e),Object(m.a)(t.counties))),e}),[]),"map"!==t){e.next=47;break}if("counties"!==c){e.next=30;break}return e.next=26,Ue.get(["sba","all",u,i,o,n]);case 26:return p=e.sent,e.next=29,Ue.get(["geo",u,["name"]]);case 29:h=e.sent;case 30:if("zip_codes"!==c){e.next=39;break}return e.next=33,Ue.get(["geo",u,"byZip",["zip_codes"]]);case 33:return O=e.sent,(_=P()(O,["json","geo"],null))&&(l=Object.values(_).reduce((function(e,t){return t.byZip&&(e=[].concat(Object(m.a)(e),Object(m.a)(t.byZip.zip_codes))),e}),[])),e.next=38,Ue.get(["sba","all","byZip",l,i,o,n]);case 38:f=e.sent;case 39:if(!a){e.next=46;break}return e.next=42,Ue.get(["geo",a,"boundingBox","value"]);case 42:return v=e.sent,e.next=45,Ue.get(["geo",a,["state_abbr"]]);case 45:j=e.sent;case 46:return e.abrupt("return",{sbaData:p,sbaZipData:f,geoNames:h,geoFips:j,geom:v});case 47:if(!a){e.next=54;break}return e.next=50,Ue.get(["sba","all",s,i,o,n]);case 50:return b=e.sent,e.abrupt("return",b);case 54:return e.next=56,Ue.get(["sba","all",[""],i,o,n]);case 56:return d=e.sent,e.abrupt("return",d);case 58:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(y.a)(g.a.mark((function e(t,n,a,r,i,o){var s,c,l,u,d,p,h,f,b,v,j,y,x,O,_,k,w;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a||Vt.a.fips,e.next=3,Ue.get(["fema","disasters","length"]);case 3:return c=e.sent,l=P()(c,["json","fema","disasters","length"],null),u=[],d={},p={},h={},f={},b={},v={},j={},y={},x=[],e.next=17,Ue.get(["geo",s,"counties","geoid"],["geo",Vt.a.fips,["name"]]);case 17:if(O=e.sent,_=P()(O,["json","geo"],null),u=Object.values(_).reduce((function(e,t){return t.counties&&(e=[].concat(Object(m.a)(e),Object(m.a)(t.counties))),e}),[]),!l||"table"!==t){e.next=24;break}return e.next=23,Ue.get(["fema","disasters","byIndex",[{from:0,to:l-1}],["name","year","total_cost","disaster_type"]]);case 23:h=e.sent;case 24:if("map"!==t){e.next=50;break}if(!a){e.next=32;break}return e.next=28,Ue.get(["geo",a,"boundingBox","value"]);case 28:return d=e.sent,e.next=31,Ue.get(["geo",a,["state_abbr"]]);case 31:f=e.sent;case 32:if("counties"!==r){e.next=39;break}return e.next=35,Ue.get(["geo",u,["name"]]);case 35:return p=e.sent,e.next=38,Ue.get(["fema","disasters",u,i,o,n]);case 38:b=e.sent;case 39:if("zip_codes"!==r){e.next=49;break}return e.next=42,Ue.get(["geo",u,"byZip",["zip_codes"]]);case 42:if(k=e.sent,!(w=P()(k,["json","geo"],null))){e.next=49;break}return x=Object.values(w).reduce((function(e,t){return t.byZip&&(e=[].concat(Object(m.a)(e),Object(m.a)(t.byZip.zip_codes))),e}),[]),e.next=48,Ue.get(["fema","disasters","byZip",x,i,o,n]);case 48:j=e.sent;case 49:return e.abrupt("return",{geom:d,geoFips:f,FemaDisastersCombinedTotalCostData:b,geoNames:p,FemaDisastersCombinedTotalCostZipData:j});case 50:if(!a||"map"===t){e.next=57;break}return e.next=53,Ue.get(["fema","disasters",u,i,o,n]);case 53:return y=e.sent,e.abrupt("return",{FemaDisastersCombinedTotalCostData_fips:y,femaByIdData:h});case 57:if(a||"table"!==t&&"graph"!==t){e.next=62;break}return e.next=60,Ue.get(["fema","disasters",[""],i,o,n]);case 60:return v=e.sent,e.abrupt("return",{FemaDisastersCombinedTotalCostData_US:v,femaByIdData:h});case 62:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o){return e.apply(this,arguments)}}(),Wt=n(15),Zt=n(14),$t=n(126),Kt=n(474),qt=n(312),Yt=n(475),Xt=n(67),Jt=n(169);function Qt(){var e=Object(Wt.a)(["\n  width: 20px;\n  height: ","px;\n"]);return Qt=function(){return e},e}function en(){var e=Object(Wt.a)(["\n  color: ",";\n  display: inline-block;\n  text-align: right;\n"]);return en=function(){return e},e}function tn(){var e=Object(Wt.a)(["\n  align-items: stretch;\n  flex-grow: 1;\n  height: 8px;\n  \n"]);return tn=function(){return e},e}function nn(){var e=Object(Wt.a)(["\n  width: 100%;\n  display: flex;\n  color: ",";\n  border-radius: 4px;\n  overflow: hidden;\n"]);return nn=function(){return e},e}function an(){var e=Object(Wt.a)(["\n  color: ",";\n"]);return an=function(){return e},e}function rn(){var e=Object(Wt.a)(["\n  background-color: ",";\n  width: 100%;\n  padding: ",";\n"]);return rn=function(){return e},e}var on=Zt.default.div(rn(),(function(e){return e.theme.sidePanelHeaderBg}),(function(e){return"vertical"===e.align?"10px":"10px 10px 0px 10px"})),sn=Zt.default.h5(an(),(function(e){return e.theme.textColorHl})),cn=function(e){var t=e.Title,n=e.layer;return Object(a.jsx)(sn,{children:"function"===typeof t?Object(a.jsx)(t,{layer:n}):t})},ln=Zt.default.div(nn(),(function(e){return e.theme.textColor})),un=Zt.default.div(tn()),dn=Zt.default.div(en(),(function(e){return e.theme.textColor})),pn=Zt.default.div(Qt(),(function(e){return e.height||20})),hn=function(e){var t=e.type,n=e.format,r=e.scale,i=e.range,o=e.domain,s=e.title,l=e.layer,u={width:100/("linear"===t?r.ticks(5).length:i.length)+"%"};return Object(a.jsxs)(on,{align:"horizontal",children:[s?Object(a.jsx)(cn,{Title:s,layer:l}):null,Object(a.jsx)(ln,{className:"legend-container",children:"linear"===t?r.ticks(5).map((function(e){return Object(a.jsx)(un,{style:Object(c.a)({backgroundColor:r(e)},u)},e)})):i.map((function(e,t){return Object(a.jsx)("div",{style:{borderRight:t<i.length-1?"1px solid black":"none",paddingBottom:"10px",alignItems:"stretch",flexGrow:1,display:"flex"},children:Object(a.jsx)(un,{style:Object(c.a)({backgroundColor:e},u)},t)})}))}),Object(a.jsx)("div",{style:{width:"100%",position:"relative",right:-3},children:"ordinal"===t?o.map((function(e){return Object(a.jsx)(dn,{style:u,children:n(e)},e)})):"linear"===t?r.ticks(5).map((function(e){return Object(a.jsx)(dn,{style:u,children:n(e)},e)})):i.map((function(e,t){return Object(a.jsx)(dn,{style:u,children:"number"===typeof r.invertExtent(e)[1]?n(r.invertExtent(e)[1]):null},t)}))})]})},fn=function(e){var t=e.type,n=e.format,r=e.scale,i=e.range,o=e.domain,s=e.title,c=e.layer;return i="linear"===t?r.ticks(5).map((function(e){return r(e)})):i,Object(a.jsxs)(on,{align:"vertical",children:[s?Object(a.jsx)(cn,{Title:s,layer:c}):null,Object(a.jsx)("table",{children:Object(a.jsx)("tbody",{children:"ordinal"===t?o.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(pn,{style:{backgroundColor:r(e)}})}),Object(a.jsx)("td",{style:{paddingLeft:"5px"},children:n(e)})]},e)})):"quantile"===t?i.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(pn,{height:40,style:{backgroundColor:e}})}),Object(a.jsx)("td",{children:"number"===typeof r.invertExtent(e)[1]?n(r.invertExtent(e)[1]):null})]},e)})):null})})]})},bn=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getScale",value:function(){switch(this.props.type){case"ordinal":return $t.a();case"quantile":return Kt.a();case"quantize":return qt.a();case"threshold":return Yt.a();default:return Xt.a()}}},{key:"render",value:function(){var e=this.props,t=e.vertical,n=e.format,r=e.domain,i=e.range,o=this.getScale().domain(r).range(i);return"string"===typeof n&&(n=Jt.b(n)),t?Object(a.jsx)(fn,Object(c.a)(Object(c.a)({},this.props),{},{scale:o,format:n})):Object(a.jsx)(hn,Object(c.a)(Object(c.a)({},this.props),{},{scale:o,format:n}))}}]),n}(r.Component);bn.defaultProps={title:"",range:[],domain:[],type:"linear",format:function(e){return e},vertical:!1};var mn=bn,vn=n(5),jn=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){e.hazard!==this.props.hazard&&this.fetchFalcorDeps(),e.geoid!==this.props.geoid&&this.fetchFalcorDeps(),e.data_type!==this.props.data_type&&this.fetchFalcorDeps()}},{key:"fetchFalcorDeps",value:function(){switch(this.props.data_type){case"sba":return Gt(this.props.type,Vt.a[this.props.data_type].data_columns,this.props.geoid,"counties",this.props.hazard,Vt.a.years);case"stormevents":return Rt(this.props.type,Vt.a[this.props.data_type].data_columns,this.props.geoid,"counties",this.props.hazard,Vt.a.years);case"fema":return Ut(this.props.type,Vt.a[this.props.data_type].data_columns,this.props.geoid,"counties",this.props.hazard,Vt.a.years);default:return Promise.resolve({})}}},{key:"processData",value:function(){var e=this,t=this.props.geoid?vn(this.props.falcorCache,"".concat(Vt.a[this.props.data_type].fetch_url,".").concat(this.props.geoid),null):vn(this.props.falcorCache,"".concat(Vt.a[this.props.data_type].fetch_url,'.[""]'),null),n=[];return n=Vt.a.years.reduce((function(e,t){return e.push({year:t.toString()}),e}),[]),t&&n.forEach((function(n){n[e.props.hazard]=vn(t,[e.props.hazard,n.year,Vt.a[e.props.data_type].graph_column],0)})),n}},{key:"processFemaData",value:function(){var e=this,t=[],n=this.props.geoid?vn(this.props.falcorCache,"".concat(Vt.a[this.props.data_type].fetch_url),null):vn(this.props.falcorCache,"".concat(Vt.a[this.props.data_type].fetch_url,'.[""]'),null);return t=Vt.a.years.reduce((function(e,t){return e.push({year:t.toString()}),e}),[]),n&&(this.props.geoid?t.map((function(t){var a=0;return Object.keys(n).filter((function(e){return"$__path"!==e})).forEach((function(r){5===r.length&&(a+=vn(n[r],[e.props.hazard,t.year,"total_cost","value"],0))})),t[e.props.hazard]=a})):t.map((function(t){var a=0;return Object.keys(n).filter((function(e){return"$__path"!==e})).forEach((function(e){a+=vn(n[e],[t.year,"total_cost","value"],0)})),t[e.props.hazard]=a}))),t}},{key:"render",value:function(){var e=this;return vn(this.props.falcorCache,"".concat(Vt.a[this.props.data_type].fetch_url),!1)?Object(a.jsx)("div",{style:{width:this.props.width?this.props.width:"70%",height:this.props.height?this.props.height:"300px"},children:Object(a.jsx)(de.a,{data:"fema"!==this.props.data_type?this.processData():this.processFemaData(),keys:[this.props.hazard],indexBy:"year",margin:{top:40,right:70,bottom:30,left:10},padding:.1,colors:function(e){return ue[e.id]},enableLabel:!1,enableGridX:!1,enableGridY:!1,axisTop:null,axisRight:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Total Damage $",legendPosition:"middle",legendOffset:60,format:function(e){return"".concat(Object(se.fnum)(e))}},axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"year",legendPosition:"middle",legendOffset:32},axisLeft:null,labelSkipWidth:12,labelSkipHeight:12,labelFormat:function(e){return"".concat(Object(se.fnum)(e))},labelTextColor:{from:"color",modifiers:[["darker",1.6]]},yScale:{type:"log",base:10,max:"auto"},animate:!0,motionStiffness:90,motionDamping:15,tooltipFormat:function(e){return"".concat(Object(se.fnum)(e))},onClick:function(t){e.props.setYear(t.data.year)}})}):Object(a.jsx)("div",{style:{width:this.props.width?this.props.width:"100%",height:this.props.height?this.props.height:"300px"},children:"Loading ..."})}}]),n}(i.a.Component),gn=Object(O.connect)((function(e,t){return{falcorCache:e.falcorCache,geoid:t.geoid}}),{})(A(jn)),yn=function(e){e.toggle,e.open;var t=e.title,n=e.body;Object(Ne.a)(e,["toggle","open","title","body"]);return Object(a.jsxs)("header",{className:"space-y-1 py-4 px-4 sm:px-2 min-w-full pt-12",children:[Object(a.jsx)("div",{className:"flex items-center justify-between space-x-3",children:Object(a.jsx)("h2",{className:"text-lg leading-7 font-medium min-w-full",children:t})}),Object(a.jsx)("div",{children:n})]})},xn=function(e){var t=e.children,n=Object(Ne.a)(e,["children"]),r=i.a.useState(!0),o=Object(Z.a)(r,2),s=o[0],c=o[1];return Object(a.jsx)("div",{className:"h-full w-full sm:w-1/4",children:Object(a.jsxs)("div",{className:"h-full flex flex-col shadow-xl z-50 w-full bg-white mt-0",children:[Object(a.jsx)(yn,{open:s,toggle:c,title:n.HeaderTitle,body:n.HeaderBody}),Object(a.jsx)("div",{className:"relative flex-1 py-6 px-4 sm:px-6 z-50 hidden sm:block",children:t})]})})},On=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isLoading:!0,currentHazard:""},a}return Object(u.a)(n,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"componentDidUpdate",value:function(e){e.hazard!==this.props.hazard&&this.fetchFalcorDeps(),e.geoid!==this.props.geoid&&this.fetchFalcorDeps(),e.year!==this.props.year&&this.fetchFalcorDeps(),e.data_type!==this.props.data_type&&this.fetchFalcorDeps()}},{key:"fetchFalcorDeps",value:function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.props.data_type,e.next="sba"===e.t0?3:"stormevents"===e.t0?4:"fema"===e.t0?5:6;break;case 3:return e.abrupt("return",Gt(this.props.type,Vt.a[this.props.data_type].data_columns,this.props.geoid,"counties",Vt.a.hazards,this.props.year));case 4:return e.abrupt("return",Rt(this.props.type,Vt.a[this.props.data_type].data_columns,this.props.geoid,"counties",Vt.a.hazards,this.props.year));case 5:return e.abrupt("return",Ut(this.props.type,Vt.a[this.props.data_type].data_columns,this.props.geoid,"counties",Vt.a.hazards,this.props.year));case 6:return e.abrupt("return",Promise.resolve({}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"processData",value:function(){var e=this,t=this.props.geoid?P()(this.props.falcorCache,"".concat(Vt.a[this.props.data_type].fetch_url,".").concat(this.props.geoid),null):P()(this.props.falcorCache,"".concat(Vt.a[this.props.data_type].fetch_url,'.[""]'),null),n=["name","value"].concat(Object(m.a)(Vt.a[this.props.data_type].table_column)),a=[];return t&&(a=Object.keys(t).map((function(a){return n.reduce((function(n,r){return Vt.a.Hazards.forEach((function(i){if(i.value===a)switch(r){case"name":n[r]=i.name;break;case"value":n[r]=i.value;break;case"annualized_damage":n[r]=P()(t,[i.value,"allTime",r],0);break;default:n[r]=P()(t,[i.value,e.props.year,r],0)}})),n}),{})}))),a}},{key:"processFemaData",value:function(){var e=this,t=this.props.geoid?P()(this.props.falcorCache,"".concat(Vt.a[this.props.data_type].fetch_url),null):P()(this.props.falcorCache,"".concat(Vt.a[this.props.data_type].fetch_url,'.[""]'),null),n=P()(this.props.falcorCache,"".concat(Vt.a[this.props.data_type].fetch_url,".byId"),null),a=[],r=[],i=["name","value"].concat(Object(m.a)(Vt.a[this.props.data_type].table_column));return n&&t&&((a=Vt.a.Hazards.reduce((function(e,t){return e.push({hazard:t.value,count:0}),e}),[])).map((function(t){var a=0;return Object.keys(n).filter((function(e){return"$__path"!==e})).forEach((function(r){if("allTime"===e.props.year){if(P()(n[r],["disaster_type","value"],"").toString()===t.hazard)return a+=+P()(n[r],["total_cost","value"],0),t.total_cost_summaries=a}else if(P()(n[r],["disaster_type","value"],"").toString()===t.hazard&&P()(n[r],["year","value"],"").toString()===e.props.year.toString())return a+=+P()(n[r],["total_cost","value"],0),t.total_cost_summaries=a}))})),this.props.geoid?Vt.a.Hazards.forEach((function(n){var a=0,i=0,o=0,s=0;Object.keys(t).filter((function(e){return"$__path"!==e})).forEach((function(r){i+=P()(t[r],[n.value,e.props.year,"ia_ihp_amount","value"],0),o+=P()(t[r],[n.value,e.props.year,"pa_project_amount","value"],0),s+=P()(t[r],[n.value,e.props.year,"hma_prop_actual_amount_paid","value"],0)+P()(t[r],[n.value,e.props.year,"hma_proj_project_amount","value"],0),a+=P()(t[r],[n.value,e.props.year,"total_cost_summaries","value"],0)})),r.push({name:n.name,value:n.value,ia_ihp_amount:i,pa_project_amount:o,hma_total_amount:s,total_cost_summaries:a})})):r=Object.keys(t).filter((function(e){return"$__path"!==e})).map((function(n){return i.reduce((function(a,r){return Vt.a.Hazards.forEach((function(i){i.value===n&&(a[r]="name"===r||"value"===r?i[r]:"hma_total_amount"===r?P()(t[n],[e.props.year,"hma_prop_actual_amount_paid","value"],0)+P()(t[n],[e.props.year,"hma_proj_project_amount","value"],0):P()(t[n],[e.props.year,r,"value"],0))})),a}),{})})),a.forEach((function(e){r.map((function(t){return t.value===e.hazard&&(t.total_cost_summaries=e.total_cost_summaries||0),t}))}))),r}},{key:"render",value:function(){var e=this,t="fema"!==this.props.data_type?this.processData():this.processFemaData();return Object(a.jsx)("div",{className:"align-middle inline-block min-w-full overflow-hidden",children:Object(a.jsxs)("table",{className:"min-w-full",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"px-2 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase ",children:"Hazard"}),Vt.a[this.props.data_type].table_header.map((function(t,n){return"Damage"===t||"Total Loss"===t||"Actual Amount Paid"===t||"IHA"===t||"PA"===t||"HMGP"===t?Object(a.jsxs)("th",{className:"px-2 text-right py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase ",children:[t,"-",e.props.year]},n):Object(a.jsx)("th",{className:"px-2 text-right py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase ",children:t},n)}))]})}),Object(a.jsx)("tbody",{children:t.length?t.filter((function(e){return 0!==Object.keys(e).length})).sort((function(t,n){return n[Vt.a[e.props.data_type].sort]-t[Vt.a[e.props.data_type].sort]})).map((function(t,n){return Object(a.jsxs)("tr",{className:"bg-white  ".concat(e.props.activeHazard===t.value?"border-b-2 border-blue-500":"border-b border-gray-200"),id:t.value,children:[Object(a.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-md leading-5 font-base text-gray-900",children:Object(a.jsxs)("div",{className:"hover:text-blue-600 cursor-pointer",onClick:function(n){n.persist(),e.state.currentHazard!==t.value?(e.props.setHazard(t.value),e.setState({currentHazard:t.value})):e.props.setHazard(null)},children:[Object(a.jsx)("div",{style:{backgroundColor:ue[t.value]},className:"w-3 h-3 mr-2 inline-block"}),t.name]})},n),Vt.a[e.props.data_type].table_column.map((function(e,n){return Object(a.jsx)("td",{className:"px-1 py-2 whitespace-no-wrap text-sm leading-5 font-base text-gray-900 text-right",children:e.includes("num")&&e.includes("total")?t[e].toLocaleString():Object(se.fnum)(t[e])},n)}))]},n)})):null})]})},0)}}]),n}(i.a.Component),_n=Object(O.connect)((function(e,t){return{falcorCache:e.falcorCache,geoid:t.geoid}}),{})(A(On)),kn=n(178),wn=n(69),Cn=n.n(wn),Sn=n(37),Nn=n(1179),Ln=n(657);function An(){var e=Object(Wt.a)(["\n  .mapboxgl-map .mapboxgl-missing-css {\n    display: none;\n  }\n"]);return An=function(){return e},e}function Dn(){var e=Object(Wt.a)(["\n  background: ",";\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  font-size: 10px;\n  margin: 0 -96px;\n  padding: 30px 96px;\n  justify-content: space-between;\n"]);return Dn=function(){return e},e}function Pn(){var e=Object(Wt.a)(["\n  width: 100%;\n  border-spacing: 0;\n\n  thead {\n    tr th {\n      background: ",";\n      color: ",";\n      padding: 18px 12px;\n      text-align: start;\n    }\n  }\n\n  tbody {\n   tr td {\n     border-bottom: ",";\n     padding: 12px;\n   }\n  }\n"]);return Pn=function(){return e},e}function zn(){var e=Object(Wt.a)(["\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  background-color: rgb(",");\n  margin-right: 12px\n"]);return zn=function(){return e},e}function Mn(){var e=Object(Wt.a)(["\n  display: flex;\n  .button {\n    border-radius: 0;\n    margin-left: 2px;\n  }\n  .button:first-child {\n    border-bottom-left-radius: ",";\n    border-top-left-radius: ",";\n    margin-left: 0;\n  }\n  .button:last-child {\n    border-bottom-right-radius: ",";\n    border-top-right-radius: ",";\n  }\n"]);return Mn=function(){return e},e}function Bn(){var e=Object(Wt.a)(["\n  ","\n  background-color: ",";\n  overflow-y: auto;\n  box-shadow: ",";\n  border-radius: ",";\n  margin-top: 2px;\n  max-height: 500px;\n"]);return Bn=function(){return e},e}function Fn(){var e=Object(Wt.a)(["\n  background-color: ",";\n  border-left: 3px solid\n    rgb(\n      ","\n    );\n  padding: 0 10px 0 0;\n  height: ","px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: ",";\n"]);return Fn=function(){return e},e}function In(){var e=Object(Wt.a)(["\n  ",";\n"]);return In=function(){return e},e}function Tn(){var e=Object(Wt.a)(["\n  ","\n"]);return Tn=function(){return e},e}function En(){var e=Object(Wt.a)(["\n  ",";\n"]);return En=function(){return e},e}function Hn(){var e=Object(Wt.a)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: ",";\n  color: ",";\n  cursor: pointer;\n  display: inline-flex;\n  font-size: ",";\n  font-weight: 500;\n  justify-content: center;\n  letter-spacing: 0.3px;\n  line-height: 14px;\n  outline: 0;\n  padding: ",";\n  text-align: center;\n  transition: ",";\n  vertical-align: middle;\n  width: ",";\n  opacity: ",";\n  pointer-events: ",";\n\n  :hover,\n  :focus,\n  :active,\n  &.active {\n    background-color: ",";\n    color: ",";\n  }\n\n  svg {\n    margin-right: 8px;\n  }\n"]);return Hn=function(){return e},e}function Vn(){var e=Object(Wt.a)(["\n  &.__react_component_tooltip {\n    font-size: 9.5px;\n    font-weight: 500;\n    padding: 7px 18px;\n\n    &.type-dark {\n      background-color: ",";\n      color: ",";\n      &.place-bottom {\n        :after {\n          border-bottom-color: ",";\n        }\n      }\n\n      &.place-top {\n        :after {\n          border-top-color: ",";\n        }\n      }\n\n      &.place-right {\n        :after {\n          border-right-color: ",";\n        }\n      }\n\n      &.place-left {\n        :after {\n          border-left-color: ",";\n        }\n      }\n    }\n  }\n"]);return Vn=function(){return e},e}function Rn(){var e=Object(Wt.a)(["\n  border-bottom: 1px solid ",";\n  height: 12px;\n  margin-bottom: 12px;\n"]);return Rn=function(){return e},e}function Gn(){var e=Object(Wt.a)(["\n  margin-bottom: 12px;\n  opacity: ",";\n  pointer-events: ",";\n"]);return Gn=function(){return e},e}function Un(){var e=Object(Wt.a)(["\n  background-color: ",";\n  padding: 12px;\n"]);return Un=function(){return e},e}function Wn(){var e=Object(Wt.a)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  padding-left: 12px;\n\n  .icon {\n    color: ",";\n    display: flex;\n    align-items: center;\n    margin-right: 12px;\n  }\n"]);return Wn=function(){return e},e}function Zn(){var e=Object(Wt.a)(["\n  color: ",";\n  font-size: 13px;\n  letter-spacing: 0.43px;\n  text-transform: capitalize;\n"]);return Zn=function(){return e},e}function $n(){var e=Object(Wt.a)(["\n  font-weight: 500;\n"]);return $n=function(){return e},e}function Kn(){var e=Object(Wt.a)(["\n  display: flex;\n  align-items: self-start;\n"]);return Kn=function(){return e},e}function qn(){var e=Object(Wt.a)(["\n  color: ",";\n  display: inline-block;\n  font-size: 11px;\n  font-weight: 400;\n  margin-bottom: 4px;\n  text-transform: capitalize;\n"]);return qn=function(){return e},e}function Yn(){var e=Object(Wt.a)(["\n  display: flex;\n  align-items: center;\n"]);return Yn=function(){return e},e}function Xn(){var e=Object(Wt.a)(["\n  display: flex;\n  width: 18px;\n  height: 18px;\n  border-radius: 9px;\n  background-color: ","; // updated after checking sketch file\n  color: ",";\n  align-items: center;\n  justify-content: center;\n\n  :hover {\n    cursor: pointer;\n    background-color: ",";\n  }\n"]);return Xn=function(){return e},e}function Jn(){var e=Object(Wt.a)(["\n  color: ",";\n  font-weight: 500;\n"]);return Jn=function(){return e},e}function Qn(){var e=Object(Wt.a)(["\n  color: ",";\n  font-size: ",";\n  font-weight: 400;\n\n  i {\n    font-size: 13px;\n    margin-right: 6px;\n  }\n"]);return Qn=function(){return e},e}var ea=Zt.default.span(Qn(),(function(e){return e.theme.labelColor}),(function(e){return e.theme.selectFontSize})),ta=(Object(Zt.default)(ea)(Jn(),(function(e){return e.theme.textColor})),Zt.default.div(Xn(),(function(e){return e.theme.secondaryBtnBgdHover}),(function(e){return e.theme.secondaryBtnColor}),(function(e){return e.theme.secondaryBtnBgdHover})),Zt.default.div(Yn())),na=Zt.default.label.attrs({className:"side-panel-panel__label"})(qn(),(function(e){return e.theme.labelColor})),aa=(Zt.default.div.attrs({className:"side-panel-panel__label-wrapper"})(Kn()),Object(Zt.default)(na)($n()),Zt.default.span.attrs({className:"side-panel-panel__header__title"})(Zn(),(function(e){return e.theme.textColor})),Zt.default.div(Wn(),(function(e){return e.theme.textColor}),(function(e){return e.theme.labelColor})),Zt.default.div.attrs({className:"side-panel-panel__content"})(Un(),(function(e){return e.theme.panelBackground})),Zt.default.div.attrs({className:"side-panel-section"})(Gn(),(function(e){return e.disabled?.4:1}),(function(e){return e.disabled?"none":"all"}))),ra=(Zt.default.div.attrs({className:"side-panel-divider"})(Rn(),(function(e){return e.theme.panelBorderColor})),Object(Zt.default)(Ln.a)(Vn(),(function(e){return e.theme.tooltipBg}),(function(e){return e.theme.tooltipColor}),(function(e){return e.theme.tooltipBg}),(function(e){return e.theme.tooltipBg}),(function(e){return e.theme.tooltipBg}),(function(e){return e.theme.tooltipBg}))),ia=Zt.default.div.attrs({className:"button"})(Hn(),(function(e){return e.negative?e.theme.negativeBtnBgd:e.secondary?e.theme.secondaryBtnBgd:e.link?e.theme.linkBtnBgd:e.theme.primaryBtnBgd}),(function(e){return e.theme.primaryBtnRadius}),(function(e){return e.negative?e.theme.negativeBtnColor:e.secondary?e.theme.secondaryBtnColor:e.link?e.theme.linkBtnColor:e.theme.primaryBtnColor}),(function(e){return e.large?"14px":e.small?"10px":"11px"}),(function(e){return e.large?"14px 32px":e.small?"6px 9px":"9px 12px"}),(function(e){return e.theme.transition}),(function(e){return e.width||"auto"}),(function(e){return e.disabled?.4:1}),(function(e){return e.disabled?"none":"all"}),(function(e){return e.negative?e.theme.negativeBtnBgdHover:e.secondary?e.theme.secondaryBtnBgdHover:e.link?e.theme.linkBtnActBgdHover:e.theme.primaryBtnBgdHover}),(function(e){return e.negative?e.theme.negativeBtnActColor:e.secondary?e.theme.secondaryBtnActColor:e.link?e.theme.linkBtnActColor:e.theme.primaryBtnActColor})),oa=Zt.default.input(En(),(function(e){return e.secondary?e.theme.secondaryInput:e.theme.input})),sa=(Zt.default.input(Tn(),(function(e){return e.theme.inputLT})),Object(Zt.default)(oa)(In(),(function(e){return e.theme.inlineInput})),Zt.default.div(Fn(),(function(e){return e.active?e.theme.panelBackgroundHover:e.theme.panelBackground}),(function(e){return e.labelRCGColorValues?e.labelRCGColorValues.join(","):"transparent"}),(function(e){return e.theme.panelHeaderHeight}),(function(e){return e.theme.transition}))),ca=Zt.default.div(Bn(),(function(e){return e.theme.panelDropdownScrollBar}),(function(e){return e.theme.panelBackground}),(function(e){return e.theme.panelBoxShadow}),(function(e){return e.theme.panelBorderRadius})),la=(Zt.default.div(Mn(),(function(e){return e.theme.primaryBtnRadius}),(function(e){return e.theme.primaryBtnRadius}),(function(e){return e.theme.primaryBtnRadius}),(function(e){return e.theme.primaryBtnRadius})),Zt.default.div(zn(),(function(e){return e.color.join(",")})),Zt.default.table(Pn(),(function(e){return e.theme.panelBackgroundLT}),(function(e){return e.theme.titleColorLT}),(function(e){return e.theme.panelBorderLT})),Zt.default.div(Dn(),(function(e){return e.theme.panelBackgroundLT}),(function(e){return e.theme.textColorLT})),Zt.default.div(An()),n(35)),ua=n.n(la),da=n(650),pa=n.n(da),ha=n(209),fa={IDENTITY_FN:function(e){return e},generateAccessor:function(e){return function(t){return t[e]}},generateOptionToStringFor:function(e){return"string"===typeof e?this.generateAccessor(e):"function"===typeof e?e:"object"===typeof e?e.name:this.IDENTITY_FN},valueForOption:function(e,t){return"string"===typeof e?t[e]:"function"===typeof e?e(t):"object"===typeof prop?e.name:t}},ba=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=e.viewBox,i=e.style,o=void 0===i?{}:i,s=e.children,l=e.predefinedClassName,u=e.className,d=e.colors,p=e.totalColor,h=Object(Ne.a)(e,["height","width","viewBox","style","children","predefinedClassName","className","colors","totalColor"]),f=t,b=n||f;o.fill="currentColor";var m=Array.isArray(d)&&p&&function(e,t){return new Array(e).fill(1).reduce((function(e,n,a){return"".concat(e,".cr").concat(a+1," {fill:").concat(t[a%t.length],";}")}),"")}(p,d);return Object(a.jsxs)("svg",Object(c.a)(Object(c.a)({viewBox:r,width:b,height:f,style:o,className:"".concat(l," ").concat(u)},h),{},{children:[m?Object(a.jsx)("style",{type:"text/css",children:m}):null,s]}))}}]),n}(r.Component);ba.displayName="Base Icon",ba.defaultProps={height:null,width:null,viewBox:"0 0 64 64",predefinedClassName:"",className:""};var ma=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("g",{transform:"translate(8, 8)",children:Object(a.jsx)("path",{d:"M31.5059707,24 L47.5987718,7.90719891 C48.1337427,7.37222791 48.1337427,6.50972364 47.5987718,5.97475264 L42.0252474,0.40122825 C41.4902764,-0.13374275 40.6277721,-0.13374275 40.0928011,0.40122825 L24,16.4940293 L7.90719891,0.40122825 C7.37222791,-0.13374275 6.50972364,-0.13374275 5.97475264,0.40122825 L0.40122825,5.97475264 C-0.13374275,6.50972364 -0.13374275,7.37222791 0.40122825,7.90719891 L16.4940293,24 L0.40122825,40.0928011 C-0.13374275,40.6277721 -0.13374275,41.4902764 0.40122825,42.0252474 L5.97475264,47.5987718 C6.50972364,48.1337427 7.37222791,48.1337427 7.90719891,47.5987718 L24,31.5059707 L40.0928011,47.5987718 C40.6277721,48.1337427 41.4902764,48.1337427 42.0252474,47.5987718 L47.5987718,42.0252474 C48.1337427,41.4902764 48.1337427,40.6277721 47.5987718,40.0928011 L31.5059707,24 Z"})})}))}}]),n}(r.Component);function va(){var e=Object(Wt.a)(["\n  ","\n"]);return va=function(){return e},e}function ja(){var e=Object(Wt.a)(["\n  margin-right: 10px;\n  text-overflow: ellipsis;\n  width: 100%;\n  overflow: hidden;\n\n  :hover {\n    overflow: visible;\n  }\n"]);return ja=function(){return e},e}function ga(){var e=Object(Wt.a)(["\n  border-radius: 1px;\n  font-size: auto;\n  color: ",";\n  line-height: 20px;\n  /*margin: 3px 10px 3px 3px;*/\n  /*padding: 4px 6px;*/\n  padding-left: 6px;\n  display: flex;\n  align-items: center;\n  max-width: calc(100% - 8px);\n  :hover {\n    color: ",";\n  }\n"]);return ga=function(){return e},e}ma.defaultProps={height:"16px",predefinedClassName:"data-ex-icons-delete"};var ya=Zt.default.div(ga(),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl})),xa=Zt.default.span(ja()),Oa=function(e){var t=e.disabled,n=e.name,r=e.remove;return Object(a.jsxs)(ya,{children:[Object(a.jsx)(xa,{children:n}),Object(a.jsx)(ma,{height:"10px",onClick:t?null:r})]})},_a=Zt.default.div(va(),(function(e){return e.theme.chickletedInput})),ka=function(e){var t=e.focus,n=e.disabled,r=e.error,i=e.onClick,o=e.className,s=e.selectedItems,c=void 0===s?[]:s,l=e.placeholder,u=void 0===l?"":l,d=e.removeItem,p=e.displayOption,h=void 0===p?function(e){return e}:p;return Object(a.jsx)(_a,{className:"".concat(o," chickleted-input"),focus:t,disabled:n,error:r,onClick:i,children:c.length>0?c.map((function(e,t){return Object(a.jsx)(Oa,{disabled:n,name:h(e),remove:function(t){return d(e,t)}},"".concat(h(e),"_").concat(t))})):u})},wa=n(651),Ca=n.n(wa),Sa={};Sa.DOM_VK_UP=Sa.DOM_VK_UP||38,Sa.DOM_VK_DOWN=Sa.DOM_VK_DOWN||40,Sa.DOM_VK_BACK_SPACE=Sa.DOM_VK_BACK_SPACE||8,Sa.DOM_VK_RETURN=Sa.DOM_VK_RETURN||13,Sa.DOM_VK_ENTER=Sa.DOM_VK_ENTER||14,Sa.DOM_VK_ESCAPE=Sa.DOM_VK_ESCAPE||27,Sa.DOM_VK_TAB=Sa.DOM_VK_TAB||9;var Na=Sa;function La(){var e=Object(Wt.a)(["\n  background-color: ",";\n  border-top: 1px solid ",";\n  ",";\n"]);return La=function(){return e},e}var Aa="list-selector",Da="list__header",Pa="list__section",za="list__item",Ma="list__item__anchor",Ba=function(e){return e},Fa=function(e){var t=e.value,n=e.displayOption,r=void 0===n?Ba:n;return Object(a.jsx)("span",{className:Ma,children:r(t)})},Ia=Zt.default.div(La(),(function(e){return e.theme.dropdownListBgd}),(function(e){return e.theme.dropdownListBorderTop}),(function(e){return e.theme.dropdownList})),Ta=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"_onClick",value:function(e,t){t.preventDefault(),this.props.onOptionSelected(e,t)}},{key:"render",value:function(){var e=this,t=this.props.fixedOptions,n=this.props.displayOption;if(!this.props.options.length&&this.props.allowCustomValues<=0)return!1;var r=Array.isArray(t)?t.length:0;return Object(a.jsxs)(Ia,{className:Aa,children:[this.props.customListHeaderComponent?Object(a.jsx)("div",{className:Da,children:Object(a.jsx)(this.props.customListHeaderComponent,{})}):null,r>0?Object(a.jsx)("div",{className:Pa,children:t.map((function(t,r){return Object(a.jsx)("div",{className:ua()(za,{hover:e.props.selectionIndex===r,fixed:!0}),onMouseDown:function(n){return e._onClick(t,n)},onClick:function(n){return e._onClick(t,n)},children:Object(a.jsx)(e.props.customListItemComponent,{value:t,displayOption:n})},"".concat(n(t),"_").concat(r))}))}):null,this.props.options.map((function(t,i){return Object(a.jsx)("div",{className:ua()(za,{hover:e.props.selectionIndex===i+r}),onMouseDown:function(n){return e._onClick(t,n)},onClick:function(n){return e._onClick(t,n)},children:Object(a.jsx)(e.props.customListItemComponent,{value:t,displayOption:n})},"".concat(n(t),"_").concat(i))}))]})}}]),n}(r.Component);Ta.defaultProps={customClasses:{},customListItemComponent:Fa,customListHeaderComponent:null,allowCustomValues:0,customValues:[],displayOption:Ba,onOptionSelected:function(){},defaultClassNames:!0,selectionIndex:null},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M35.93,28.57V9.89a1,1,0,0,0-1-1h-5.9a1,1,0,0,0-1,1V28.57H9.39a1,1,0,0,0-1,1v5.9a1,1,0,0,0,1,1H28.07V55.11a1,1,0,0,0,1,1h5.9a1,1,0,0,0,1-1V36.43H54.61a1,1,0,0,0,1-1v-5.9a1,1,0,0,0-1-1Z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-add"};var Ea=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M53,26.21l-4.2-4.3a1,1,0,0,0-1.4,0L32,37.67,16.61,21.92a1,1,0,0,0-1.4,0L11,26.21a1,1,0,0,0,0,1.43L27.1,44.11l4.2,4.3a1,1,0,0,0,1.4,0l4.2-4.3L53,27.65a1,1,0,0,0,0-1.43"})}))}}]),n}(r.Component);Ea.defaultProps={height:"16px",predefinedClassName:"data-ex-icons-arrowdown"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-arrowleft"};var Ha=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M26.7,54.7l-4.5-4.4c-0.4-0.4-0.4-1,0-1.4L38.6,33L22.2,17c-0.4-0.4-0.4-1,0-1.5l4.5-4.4c0.4-0.4,1.1-0.4,1.5,0 l17.1,16.7l4.5,4.4c0.4,0.4,0.4,1,0,1.4L45.2,38L28.2,54.7C27.8,55.1,27.1,55.1,26.7,54.7"})}))}}]),n}(r.Component);Ha.defaultProps={height:"16px",predefinedClassName:"data-ex-icons-arrowright"};var Va=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("path",{d:"M41.68,41.16l-11.36-5a3,3,0,0,1-1.74-3L29.86,19h3l1.48,13.29,8.86,5.91Z"}),Object(a.jsx)("path",{d:"M32.21,11.7A20.06,20.06,0,1,1,12.15,31.77,20.09,20.09,0,0,1,32.21,11.7m0-3.65A23.71,23.71,0,1,0,55.92,31.77,23.71,23.71,0,0,0,32.21,8.06Z"})]}))}}]),n}(r.Component);Va.defaultProps={height:"16px",predefinedClassName:"data-ex-icons-clock"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsxs)("g",{transform:"translate(8,8)",children:[Object(a.jsx)("path",{d:"M16.127688,49.4434399 L0.686714703,34.0024666 C-0.228904901,33.086847 -0.228904901,31.6023343 0.686714703,30.6867147 C1.12641074,30.2470187 1.72276655,30 2.34459065,30 L17.785564,30 C19.0804456,30 20.1301546,31.049709 20.1301546,32.3445907 L20.1301546,47.785564 C20.1301546,49.0804456 19.0804456,50.1301546 17.785564,50.1301546 C17.1637399,50.1301546 16.5673841,49.883136 16.127688,49.4434399 Z"}),Object(a.jsx)("path",{d:"M45.127688,19.4434399 L29.6867147,4.0024666 C28.7710951,3.086847 28.7710951,1.60233431 29.6867147,0.686714703 C30.1264107,0.247018663 30.7227665,-8.17124146e-14 31.3445907,-8.17124146e-14 L46.785564,-7.7547585e-14 C48.0804456,-7.7547585e-14 49.1301546,1.04970899 49.1301546,2.34459065 L49.1301546,17.785564 C49.1301546,19.0804456 48.0804456,20.1301546 46.785564,20.1301546 C46.1637399,20.1301546 45.5673841,19.883136 45.127688,19.4434399 Z",transform:"translate(39.065077, 10.065077) rotate(-180.000000) translate(-39.065077, -10.065077)"})]})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-closewindow"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({viewBox:"0 0 64 64"},this.props),{},{children:Object(a.jsx)("path",{d:"M60.015 30h-4.12c-.961-11.648-10.237-20.932-21.88-21.908V4h-4v4.087C18.343 9.037 9.038 18.332 8.075 30h-4.06v4h4.06c.963 11.668 10.268 20.964 21.94 21.913V60h4v-4.092c11.643-.976 20.919-10.26 21.88-21.908h4.12v-4zm-8.131 0H39.723a8 8 0 0 0-5.708-5.73V12.103c9.42.954 16.928 8.473 17.869 17.897zm-21.87-17.9v12.155A7.999 7.999 0 0 0 24.248 30H12.086c.942-9.444 8.48-16.972 17.929-17.9zM12.087 34h12.161a7.999 7.999 0 0 0 5.768 5.745V51.9c-9.448-.928-16.987-8.456-17.93-17.9zm21.929 17.897V39.73A8 8 0 0 0 39.723 34h12.16c-.94 9.424-8.448 16.943-17.868 17.897z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-crosshairs"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("path",{d:"M29.2,29.57,9.52,40.93V20a2.81,2.81,0,0,1,1.4-2.43L29.2,7.06Z"}),Object(a.jsx)("path",{d:"M32.08,34.38l21,10.82L33.4,56.56a2.78,2.78,0,0,1-2.8,0L12.12,45.91Z"}),Object(a.jsx)("path",{d:"M54.48,20v19.6L34.8,29.49V7.06L53.09,17.61A2.81,2.81,0,0,1,54.48,20Z"})]}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-cube3d"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsxs)("g",{transform:"scale(1.2, 1.2) translate(0, 2)",children:[Object(a.jsx)("polygon",{points:"22.5,11.1 27.6,43.9 35.3,37.3 43,49 48.8,45 41,33.2 49,28.3 "}),Object(a.jsx)("path",{d:"M21.2,27.8C14.5,26.6,9.8,20.7,9.8,14c0-7.7,6.3-14,14-14s14,6.3,14,14c0,0.8-0.1,1.5-0.2,2.3l-2.5-0.4 c0.1-0.6,0.2-1.3,0.2-1.8c0-6.4-5.2-11.5-11.5-11.5S12.3,7.7,12.3,14c0,5.5,3.9,10.3,9.4,11.4L21.2,27.8z"})]})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-cursorclick"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("path",{d:"M23.62,23.41a1,1,0,0,1,.39.08,1,1,0,0,0-.78,0A1,1,0,0,1,23.62,23.41Z"}),Object(a.jsx)("path",{d:"M32,57.5A24.83,24.83,0,1,1,56.83,32.67,24.86,24.86,0,0,1,32,57.5Zm0-44.86a20,20,0,1,0,20,20A20,20,0,0,0,32,12.64Z"}),Object(a.jsx)("rect",{x:"28.8",y:"29.46",width:"6.41",height:"16.02",rx:"1.6",ry:"1.6"}),Object(a.jsx)("rect",{x:"28.8",y:"19.85",width:"6.41",height:"6.41",rx:"1.6",ry:"1.6"})]}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-docs"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("path",{d:"M53.11,56.13H10.89A3.11,3.11,0,0,1,7.79,53V31.92a1.86,1.86,0,0,1,3.72,0V52.4h41V31.92a1.86,1.86,0,0,1,3.72,0V53A3.11,3.11,0,0,1,53.11,56.13Z"}),Object(a.jsx)("path",{d:"M33.86,33l8-8a1.86,1.86,0,1,1,2.63,2.63L33.32,38.82a1.86,1.86,0,0,1-2.63,0L19.51,27.64A1.86,1.86,0,0,1,22.14,25l8,8V11.43a1.86,1.86,0,0,1,3.72,0Z"})]}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-dragndrop"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("path",{d:"M23.85,23a1,1,0,0,1,.38.08,1,1,0,0,0-.76,0A1,1,0,0,1,23.85,23Z"}),Object(a.jsx)("path",{d:"M8.35,24.41V47.18a3.37,3.37,0,0,0,3.37,3.37H52.2a3.37,3.37,0,0,0,3.37-3.37V24.41L32,37.9Z"}),Object(a.jsx)("path",{d:"M55.57,16.82a3.37,3.37,0,0,0-3.37-3.37H11.72a3.37,3.37,0,0,0-3.37,3.37L32,30.31Z"})]}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-email"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("g",{transform:"translate(6.000000, 6.000000)",children:Object(a.jsx)("path",{d:"M31.25,6.25 L36.0416667,11.0416667 L30.0208333,17.0208333 L32.9791667,19.9791667 L38.9583333,13.9583333 L43.75,18.75 L43.75,6.25 L31.25,6.25 Z M6.25,18.75 L11.0416667,13.9583333 L17.0208333,19.9791667 L19.9791667,17.0208333 L13.9583333,11.0416667 L18.75,6.25 L6.25,6.25 L6.25,18.75 Z M18.75,43.75 L13.9583333,38.9583333 L19.9791667,32.9791667 L17.0208333,30.0208333 L11.0416667,36.0416667 L6.25,31.25 L6.25,43.75 L18.75,43.75 Z M43.75,31.25 L38.9583333,36.0416667 L32.9791667,30.0208333 L30.0208333,32.9791667 L36.0416667,38.9583333 L31.25,43.75 L43.75,43.75 L43.75,31.25 Z"})})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-expand"};var Ra=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("path",{d:"M55.25,35v-.09a1.86,1.86,0,0,0-.49-1,36.15,36.15,0,0,0-5.05-5,31.92,31.92,0,0,0-13.19-7A21.09,21.09,0,0,0,28,21.8a26.07,26.07,0,0,0-7.4,2.73,40.33,40.33,0,0,0-9.88,7.63c-.54.56-1.07,1.12-1.56,1.73a1.92,1.92,0,0,0,0,2.56,36.09,36.09,0,0,0,5.05,5,31.89,31.89,0,0,0,13.19,7,21.05,21.05,0,0,0,8.51.12,26.06,26.06,0,0,0,7.41-2.73,40.37,40.37,0,0,0,9.88-7.63c.54-.56,1.07-1.12,1.56-1.73a1.84,1.84,0,0,0,.49-1v-.19s0-.06,0-.09,0-.06,0-.09,0-.08,0-.09M32,44.51a9.35,9.35,0,1,1,9.28-9.35A9.31,9.31,0,0,1,32,44.51"}),Object(a.jsx)("path",{d:"M32,32.07a3.1,3.1,0,1,1-3.07,3.1A3.08,3.08,0,0,1,32,32.07"})]}))}}]),n}(r.Component);Ra.defaultProps={height:"16px",predefinedClassName:"data-ex-icons-eyeseen"};var Ga=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("path",{d:"M17.55,44.49a42.79,42.79,0,0,1-4.18-3.08,36.09,36.09,0,0,1-5.05-5,1.92,1.92,0,0,1,0-2.56c.49-.6,1-1.17,1.56-1.73a40.33,40.33,0,0,1,9.88-7.63,26.07,26.07,0,0,1,7.4-2.73,21.09,21.09,0,0,1,8.51.12,24.12,24.12,0,0,1,3.41,1L34.34,27.7a7.49,7.49,0,0,0-9.59,9.59Z"}),Object(a.jsx)("path",{d:"M23.14,47.37l5.73-5.73a7.49,7.49,0,0,0,9.82-9.82l6-6a42.78,42.78,0,0,1,4.18,3.09,36.15,36.15,0,0,1,5.05,5,1.86,1.86,0,0,1,.49,1V35s0,0,0,.09,0,.06,0,.09,0,.06,0,.09v.19a1.84,1.84,0,0,1-.49,1c-.49.6-1,1.17-1.56,1.73a40.37,40.37,0,0,1-9.88,7.63,26.06,26.06,0,0,1-7.41,2.73,21.05,21.05,0,0,1-8.51-.12A24.09,24.09,0,0,1,23.14,47.37Z"})]}))}}]),n}(r.Component);Ga.defaultProps={height:"16px",predefinedClassName:"data-ex-icons-eyeunseen"};var Ua=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M49.61,20.51,36.56,7.46a1.36,1.36,0,0,0-.32-.24,1.6,1.6,0,0,0-.39-.14,1.53,1.53,0,0,0-.26,0H15.38A1.39,1.39,0,0,0,14,8.45v47.1a1.39,1.39,0,0,0,1.39,1.39H48.63A1.39,1.39,0,0,0,50,55.55V21.48A1.4,1.4,0,0,0,49.61,20.51Zm-1,35H15.38V8.45h19.4V20.92a1.39,1.39,0,0,0,1.39,1.39H48.63Z"})}))}}]),n}(r.Component);function Wa(){var e=Object(Wt.a)(["\n  display: inline-block;\n  position: relative;\n  color: currentColor;\n  height: ",";\n"]);return Wa=function(){return e},e}function Za(){var e=Object(Wt.a)(["\n  background-color: currentColor;\n  border-radius: 1px;\n  display: inline-block;\n  padding: 0 4px;\n  position: absolute;\n  top: 45%;\n  left: 10%;\n\n  .text {\n    color: white;\n    font-size: ",";\n  }\n"]);return Za=function(){return e},e}Ua.defaultProps={height:"16px",predefinedClassName:"data-ex-icons-file"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({viewBox:"0 0 64 64"},this.props),{},{children:Object(a.jsx)("path",{d:"M48.015 58h-32a8 8 0 0 1-8-8V26h48v24a8 8 0 0 1-8 8zm-2-44h-28a6 6 0 0 0-6 6v2h40v-2a6 6 0 0 0-6-6zm-2 26v-6h-4v4h-16v-4h-4v6a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2zm-4-34h-16a4 4 0 0 0-4 4h24a4 4 0 0 0-4-4z"})}))}}]),n}(i.a.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-minus"};Zt.default.div(Za(),(function(e){return e.fontSize})),Zt.default.div(Wa(),(function(e){return e.height}));(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M52.5,19.67l-16,20h0a6.24,6.24,0,0,0-1.37,3.9V57L30.6,54.74a3.12,3.12,0,0,1-1.73-2.79V43.58h0a6.24,6.24,0,0,0-1.37-3.9l-16-20a5,5,0,0,1-1.35-3.24c0-5.17,9.78-9.36,21.85-9.36s21.85,4.19,21.85,9.36A5,5,0,0,1,52.5,19.67Zm-20.5,3c8.62,0,15.61-2.79,15.61-6.24s-7-6.24-15.61-6.24S16.39,13,16.39,16.43,23.38,22.67,32,22.67Z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-filterfunnel"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("g",{transform:"translate(7.500000, 7.500000)",children:Object(a.jsx)("path",{d:"M5,40.593203 L16.7666161,40.593203 L16.7666161,10 L5,10 L5,40.593203 L5,40.593203 Z M33.2333839,40.593203 L45,40.593203 L45,10 L33.2333839,10 L33.2333839,40.593203 L33.2333839,40.593203 Z M30.883308,40.5892837 L30.883308,26.4693451 L19.116692,26.4693451 L19.116692,40.5892837 L30.883308,40.5892837 Z",id:"Shape"})})}))}}]),n}(i.a.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-histogram"};var $a=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M50.88,43.52a3.2,3.2,0,0,1,0,5.86L34.56,56.52a6.42,6.42,0,0,1-5.13,0L13.12,49.37a3.2,3.2,0,0,1,0-5.86l4.62-2a6,6,0,0,0,1.48,1l2.16.95-7,3.05,16.32,7.14a3.19,3.19,0,0,0,2.56,0L49.6,46.44l-7-3.05,2.16-.95a6,6,0,0,0,1.48-.95Zm0-14.39a3.2,3.2,0,0,1,0,5.86L34.56,42.13a6.42,6.42,0,0,1-5.13,0L13.12,35a3.2,3.2,0,0,1,0-5.86l4.62-2a6,6,0,0,0,1.48,1l2.16.95-7,3.05L30.72,39.2a3.19,3.19,0,0,0,2.56,0L49.6,32.06l-7-3.05,2.16-.95a6,6,0,0,0,1.48-.95ZM13.12,20.6a3.2,3.2,0,0,1,0-5.86L29.44,7.6a6.39,6.39,0,0,1,5.13,0l16.32,7.14a3.2,3.2,0,0,1,0,5.86L34.56,27.74a6.39,6.39,0,0,1-5.13,0Z"})}))}}]),n}(r.Component);$a.defaultProps={height:"16px",predefinedClassName:"data-ex-icons-layers"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({viewBox:"0 0 64 64"},this.props),{},{children:Object(a.jsx)("path",{d:"M39.425 53.21L23.16 36.947l-4.242-4.243a1 1 0 0 1 0-1.414l4.242-4.243 16.264-16.263a1 1 0 0 1 1.414 0l4.242 4.242a1 1 0 0 1 0 1.414L29.525 31.997l15.556 15.556a1 1 0 0 1 0 1.414L40.84 53.21a1 1 0 0 1-1.414 0z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-left-arrow"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M29.78,45.89v5.56H46.44V45.89Zm-11.11,0v5.56h5.56V45.89ZM29.78,34.78v5.56H46.44V34.78Zm-11.11,0v5.56h5.56V34.78ZM29.78,23.67v5.56H46.44V23.67Zm-11.11,0v5.56h5.56V23.67ZM29.78,12.56v5.56H46.44V12.56Zm-11.11,0v5.56h5.56V12.56ZM15.89,7H49.22A2.78,2.78,0,0,1,52,9.78V54.22A2.78,2.78,0,0,1,49.22,57H15.89a2.78,2.78,0,0,1-2.78-2.78V9.78A2.78,2.78,0,0,1,15.89,7Z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-legend"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M53.4647408,17.8549995L35.8387756,35.4809608L25.5911236,25.2333088L6.607347,44.2427025 l3.6122975,3.6122971l15.371479-15.3714752l10.2476521,10.2476501l21.2638779-21.2382584L53.4647408,17.8549995z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-linechart"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M55 36H9a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h46a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1z"})})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-minus"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M52 10H12a8 8 0 0 0-8 8v20a8 8 0 0 0 8 8h4v7c0 .567.455 1 .964 1 .17 0 .345-.031.512-.121L32 46h20a8 8 0 0 0 8-8V18a8 8 0 0 0-8-8zm-8 24H20v-4h24v4zm4-8H16v-4h32v4z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-messages"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M23.015 56h-9a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v44a2 2 0 0 1-2 2zm29-2V10a2 2 0 0 0-2-2h-9a2 2 0 0 0-2 2v44a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-pause"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({viewBox:"0 0 64 64"},this.props),{},{children:Object(a.jsx)("path",{d:"M55 8H9a1 1 0 0 0-1 1v46a1 1 0 0 0 1 1h46a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1zm-3 36H12V12h40v32zM40.508 25.75l8.217 11.05c.98 1.319.047 3.2-1.587 3.2H16.987c-1.863 0-2.698-2.356-1.257-3.547l6.012-4.966a1.97 1.97 0 0 1 2.513 0l3.859 3.187a1.973 1.973 0 0 0 2.843-.347l6.378-8.578a1.973 1.973 0 0 1 3.173 0zM26 21a4 4 0 1 1-8 0 4 4 0 0 1 8 0z"})}))}}]),n}(i.a.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-minus"};var Ka=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M36 35.476V59a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V35.476C21.103 33.696 16 27.453 16 20c0-8.836 7.163-16 16-16s16 7.164 16 16c0 7.453-5.103 13.697-12 15.476z"})}))}}]),n}(r.Component);Ka.defaultProps={size:"tiny",predefinedClassName:"data-ex-icons-pin"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M15.625 7.434l36.738 23.378a2 2 0 0 1 0 3.375L15.625 57.566c-1.997 1.27-4.61-.164-4.61-2.531V9.965c0-2.368 2.613-3.802 4.61-2.531z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-play"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("g",{transform:"translate(12.000000, 12.000000)",children:Object(a.jsx)("path",{d:"M36.5208333,13.9791667 L31.7291666,9.1875 L37.75,3.2083334 L34.7916666,0.25 L28.8125,6.2708334 L24.0208333,1.4791667 L24.0208333,13.9791667 L36.5208333,13.9791667 Z M13.9791667,1.4791667 L9.1875,6.2708334 L3.2083334,0.25 L0.25,3.2083334 L6.2708334,9.1875 L1.4791667,13.9791667 L13.9791667,13.9791667 L13.9791667,1.4791667 Z M1.4791667,24.0208333 L6.2708334,28.8125 L0.25,34.7916666 L3.2083334,37.75 L9.1875,31.7291666 L13.9791667,36.5208333 L13.9791667,24.0208333 L1.4791667,24.0208333 Z M24.0208333,36.5208333 L28.8125,31.7291666 L34.7916666,37.75 L37.75,34.7916666 L31.7291666,28.8125 L36.5208333,24.0208333 L24.0208333,24.0208333 L24.0208333,36.5208333 Z",id:"Shape"})})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-reduce"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M56 32.9v.001c0 12.739-9.788 23.192-22.255 24.248-1.127.095-2.083-.85-2.083-1.982v-5.256c0-.998.784-1.763 1.776-1.878 7.568-.882 13.46-7.332 13.46-15.132 0-8.402-6.834-15.235-15.234-15.235S16.43 24.499 16.429 32.9h7.313L13.463 49.865c-.773 1.278-2.63 1.269-3.393-.015L0 32.9h7.328c0-13.441 10.895-24.336 24.336-24.336S56 19.46 56 32.9z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-reset"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("path",{d:"M49.26,56.17H14.74a6.91,6.91,0,0,1-6.91-6.91V32a3.45,3.45,0,1,1,6.91,0V49.26H49.26V32a3.45,3.45,0,1,1,6.91,0V49.26A6.91,6.91,0,0,1,49.26,56.17Z"}),Object(a.jsx)("path",{d:"M44.81,24.08a3.5,3.5,0,0,1-4.9,0l-4.45-4.45V35.44a3.45,3.45,0,0,1-6.91,0V19.62l-4.45,4.45a3.5,3.5,0,0,1-4.9,0,3.44,3.44,0,0,1,0-4.87L29.55,8.85a6,6,0,0,1,.52-.45,2.61,2.61,0,0,1,.62-.31,3.45,3.45,0,0,1,2.62,0,2.61,2.61,0,0,1,.62.31,6,6,0,0,1,.52.45L44.81,19.21A3.44,3.44,0,0,1,44.81,24.08Z"})]}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-save"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M58 50c0 5.523-4.477 10-10 10s-10-4.477-10-10c0-.432.037-.854.09-1.272L22.236 39.81A9.95 9.95 0 0 1 16 42c-5.523 0-10-4.477-10-10s4.477-10 10-10a9.95 9.95 0 0 1 6.236 2.19l15.854-8.918A10.03 10.03 0 0 1 38 14c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10a9.95 9.95 0 0 1-6.236-2.19L25.91 30.728c.053.418.09.84.09 1.272s-.037.854-.09 1.272l15.854 8.918A9.95 9.95 0 0 1 48 40c5.523 0 10 4.477 10 10z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-share"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("path",{d:"M57,15.36a8.38,8.38,0,0,1-8.32,8.32,8.35,8.35,0,0,1-8.32-8.32A8.38,8.38,0,0,1,48.64,7,8.35,8.35,0,0,1,57,15.36Z"}),Object(a.jsx)("path",{d:"M57,48.64a8.31,8.31,0,0,1-16.35,2.08H23.39A8.31,8.31,0,1,1,13.27,40.61V23.39a8.3,8.3,0,0,1-6.24-8A8.38,8.38,0,0,1,15.36,7a8.3,8.3,0,0,1,8,6.24H36.16v4.16H23.39a7.88,7.88,0,0,1-2.16,3.79,7.88,7.88,0,0,1-3.79,2.16V40.61a8.29,8.29,0,0,1,6,6H40.61a8.29,8.29,0,0,1,6-6V27.84h4.16V40.61A8.3,8.3,0,0,1,57,48.64Z"})]}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-select"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("g",{transform:"translate(3, 4) scale(0.9, 0.9)",children:Object(a.jsx)("path",{d:"M32.2,52.32a6.24,6.24,0,0,0,12.09,0h9.56a1.56,1.56,0,0,0,0-3.12H44.29a6.24,6.24,0,0,0-12.09,0h-22a1.56,1.56,0,0,0,0,3.12ZM16.59,33.59a6.24,6.24,0,0,0,12.09,0H53.85a1.56,1.56,0,0,0,0-3.12H28.68a6.24,6.24,0,0,0-12.09,0H10.15a1.56,1.56,0,1,0,0,3.12ZM35.32,11.74H10.15a1.56,1.56,0,1,0,0,3.12H35.32a6.24,6.24,0,0,0,12.09,0h6.44a1.56,1.56,0,0,0,0-3.12H47.41a6.24,6.24,0,0,0-12.09,0Z"})})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-settings"};var qa=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("path",{d:"M56.74,53.21l-3.53,3.53a1.67,1.67,0,0,1-2.35,0L40.21,46.09A24.32,24.32,0,0,0,46.1,40.2L56.74,50.85A1.66,1.66,0,0,1,56.74,53.21Z"}),Object(a.jsx)("path",{d:"M26.22,6.78A19.46,19.46,0,1,0,42.6,36.7a19.18,19.18,0,0,0,3.08-10.47A19.45,19.45,0,0,0,26.22,6.78ZM11.64,26.22A14.58,14.58,0,1,1,26.22,40.81,14.6,14.6,0,0,1,11.64,26.22Z"})]}))}}]),n}(r.Component);qa.defaultProps={height:"16px",predefinedClassName:"data-ex-icons-search"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsxs)("g",{transform:"translate(7.500000, 7.500000)",children:[Object(a.jsx)("path",{d:"M19.5,47.4137931 C19.5,48.8421157 20.6192881,50 22,50 C23.3807119,50 24.5,48.8421157 24.5,47.4137931 L24.5,2.5862069 C24.5,1.15788427 23.3807119,0 22,0 C20.6192881,0 19.5,1.15788427 19.5,2.5862069 L19.5,47.4137931 Z"}),Object(a.jsx)("rect",{x:"0",y:"4",width:"44",height:"5",rx:"2.5"}),Object(a.jsx)("rect",{transform:"translate(2.500000, 24.500000) rotate(90.000000) translate(-2.500000, -24.500000) ",x:"-18",y:"22",width:"41",height:"5",rx:"2.5"}),Object(a.jsx)("rect",{transform:"translate(41.500000, 25.000000) rotate(90.000000) translate(-41.500000, -25.000000) ",x:"20.5",y:"22.5",width:"42",height:"5",rx:"2.5"}),Object(a.jsx)("rect",{x:"0",y:"41",width:"44",height:"5",rx:"2.5"})]})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-split"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M56.0384598,50.5v-8.3076935H8.9615383V50.5H56.0384598z M8.9615383,22.8076916h13.8461533V14.5H8.9615383 V22.8076916z M25.5769234,22.8076916h13.8461533V14.5H25.5769234V22.8076916z M42.1923065,22.8076916h13.8461533V14.5H42.1923065 V22.8076916z M8.9615383,36.6538467h47.0769196v-8.3076935H8.9615383V36.6538467z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-table"};var Ya=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("path",{d:"M51.4,13.9v1.6c0,0.9-0.7,1.6-1.6,1.6H13.6c-0.9,0-1.6-0.7-1.6-1.6v-1.6c0-0.9,0.7-1.6,1.6-1.6h9 c0.9,0,1.6-0.7,1.6-1.6C24.3,9.7,25.1,9,26,9h11.5c0.9,0,1.6,0.7,1.6,1.6c0,0.9,0.7,1.6,1.6,1.6h9C50.7,12.3,51.4,13,51.4,13.9z"}),Object(a.jsx)("path",{d:"M40.8,50.1l0.8-25.4h-3.3l-0.8,25.4H40.8z M30.1,50.1h3.3V24.7h-3.3V50.1z M26,50.1l-0.8-25.4h-3.3l0.8,25.4H26 z M44.9,55H18.5c-0.9,0-1.6-0.7-1.6-1.6l-1.5-31.2c0-0.9,0.7-1.7,1.6-1.7h29.4c0.9,0,1.7,0.8,1.6,1.7l-1.5,31.2 C46.5,54.3,45.8,55,44.9,55z"})]}))}}]),n}(r.Component);Ya.defaultProps={height:"16px",predefinedClassName:"data-ex-icons-trash"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("path",{d:"M52 9v6a1 1 0 0 1-1 1H13a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h38a1 1 0 0 1 1 1zm-4 31L34.426 21.336a3 3 0 0 0-4.852 0L16 40h8v16h16V40h8z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-upload"};var Xa=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(ba,Object(c.a)(Object(c.a)({},this.props),{},{children:[Object(a.jsx)("rect",{x:"35.01",y:"48.31",width:"6.44",height:"6.44"}),Object(a.jsx)("rect",{x:"35.01",y:"35.43",width:"6.44",height:"6.44"}),Object(a.jsx)("rect",{x:"35.01",y:"22.55",width:"6.44",height:"6.44"}),Object(a.jsx)("rect",{x:"35.01",y:"9.67",width:"6.44",height:"6.44"}),Object(a.jsx)("rect",{x:"22.13",y:"48.31",width:"6.44",height:"6.44"}),Object(a.jsx)("rect",{x:"22.13",y:"35.43",width:"6.44",height:"6.44"}),Object(a.jsx)("rect",{x:"22.13",y:"22.55",width:"6.44",height:"6.44"}),Object(a.jsx)("rect",{x:"22.13",y:"9.67",width:"6.44",height:"6.44"})]}))}}]),n}(r.Component);function Ja(){var e=Object(Wt.a)(["\n  position: absolute;\n  right: 15px;\n  top: 14px;\n  background-color: transparent !important;\n  color: ",";\n  * {\n    background-color: transparent !important;\n  }\n"]);return Ja=function(){return e},e}function Qa(){var e=Object(Wt.a)(["\n  ","\n  background-color: #ffffff;\n  :hover {\n    cursor: pointer;\n    background-color: ",";\n  }\n"]);return Qa=function(){return e},e}function er(){var e=Object(Wt.a)(["\n  padding: 8px;\n"]);return er=function(){return e},e}function tr(){var e=Object(Wt.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n  box-shadow: ",";\n\n  :focus {\n    outline: 0;\n  }\n"]);return tr=function(){return e},e}Xa.defaultProps={height:"16px",predefinedClassName:"data-ex-icons-vertdot"},(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)(ba,Object(c.a)(Object(c.a)({viewBox:"0 0 64 64"},this.props),{},{children:Object(a.jsx)("path",{d:"M27.768 13.97v4.803a1.2 1.2 0 0 1-1.201 1.2H22.964v8.407a3.603 3.603 0 0 1-3.602 3.603 3.603 3.603 0 0 1 3.602 3.603v8.406H26.567a1.2 1.2 0 0 1 1.2 1.201v4.804a1.2 1.2 0 0 1-1.2 1.2h-6.005a4.804 4.804 0 0 1-4.803-4.803v-7.206a3.603 3.603 0 0 0-3.603-3.602H9.754a1.196 1.196 0 0 1-1.19-1.176h-.01v-4.829c0-.663.537-1.2 1.2-1.2h2.402a3.603 3.603 0 0 0 3.603-3.604v-7.205a4.804 4.804 0 0 1 4.803-4.804h6.005a1.2 1.2 0 0 1 1.2 1.201v.002zm27.584 21.616h-2.401a3.603 3.603 0 0 0-3.603 3.602v7.206a4.804 4.804 0 0 1-4.804 4.804H38.54a1.2 1.2 0 0 1-1.201-1.201V45.193c0-.663.537-1.2 1.2-1.2H42.143v-8.407a3.603 3.603 0 0 1 3.603-3.603 3.603 3.603 0 0 1-3.603-3.603v-8.406H38.54a1.2 1.2 0 0 1-1.201-1.201v-4.804c0-.663.537-1.2 1.2-1.2h6.005a4.804 4.804 0 0 1 4.804 4.803v7.205a3.603 3.603 0 0 0 3.603 3.603h2.401c.654 0 1.175.526 1.19 1.176h.011v4.829a1.2 1.2 0 0 1-1.2 1.2z"})}))}}]),n}(r.Component)).defaultProps={height:"16px",predefinedClassName:"data-ex-icons-crosshairs"};var nr=Zt.default.div(tr(),(function(e){return e.theme.dropdownListBgd}),(function(e){return e.theme.dropdownListShadow})),ar=Zt.default.div(er()),rr=Zt.default.input(Qa(),(function(e){return e.theme.secondaryInput}),(function(e){return e.theme.secondaryInputBgd})),ir=Zt.default.div(Ja(),(function(e){return e.theme.inputPlaceholderColor})),or=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e))._onOptionSelected=function(e,t){return a.props.searchable&&a.setState({searchResults:a.getOptionsForValue("",a.props.options),selection:"",entryValue:""}),a.props.onOptionSelected(e,t)},a._onTextEntryUpdated=function(){if(a.props.searchable){var e=a.entry.value;a.setState({searchResults:a.getOptionsForValue(e,a.props.options),selection:"",entryValue:e})}},a._onEnter=function(e){var t=a.getSelection();return t?a._onOptionSelected(t,e):a.props.onKeyDown(e)},a.navDown=function(){a._nav(1)},a.navUp=function(){a._nav(-1)},a._onChange=function(e){a.props.onChange&&a.props.onChange(e),a._onTextEntryUpdated()},a._onKeyDown=function(e){if(!a._hasHint()||e.shiftKey)return a.props.onKeyDown(e);var t=a.eventMap()[e.keyCode];if(!t)return a.props.onKeyDown(e);t(e),e.preventDefault()},a._onFocus=function(e){if(a.setState({isFocused:!0}),a.props.onFocus)return a.props.onFocus(e)},a._onBlur=function(e){if(a.setState({isFocused:!1}),a.props.onBlur)return a.props.onBlur(e)},a.state={searchResults:a.getOptionsForValue(a.props.initialValue,a.props.options),entryValue:a.props.value||a.props.initialValue,selection:a.props.value,selectionIndex:null,isFocused:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.setState({searchResults:this.getOptionsForValue("",this.props.options)}),this.entry?this.entry.focus():this.root.focus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.getOptionsForValue(this.state.entryValue,e.options);this.setState({searchResults:t})}},{key:"_shouldSkipSearch",value:function(e){var t=!e||0===e.trim().length,n=this.state&&this.state.isFocused;return!(this.props.showOptionsWhenEmpty&&n)&&t}},{key:"getOptionsForValue",value:function(e,t){if(!this.props.searchable)return t;if(this._shouldSkipSearch(e))return t;var n=this.props.displayOption;return t.reduce((function(t,a){return n(a).toString().toLowerCase().includes(e.toLowerCase())?t.concat(a):t}),[])}},{key:"focus",value:function(){this.entry&&this.entry.focus()}},{key:"_hasCustomValue",value:function(){return this.props.allowCustomValues>0&&this.state.entryValue.length>=this.props.allowCustomValues&&this.state.searchResults.indexOf(this.state.entryValue)<0}},{key:"_getCustomValue",value:function(){return this._hasCustomValue()?this.state.entryValue:null}},{key:"_renderIncrementalSearchResults",value:function(){return Object(a.jsx)(this.props.customListComponent,{fixedOptions:this.props.fixedOptions,options:this.props.maxVisible?this.state.searchResults.slice(0,this.props.maxVisible):this.state.searchResults,areResultsTruncated:this.props.maxVisible&&this.state.searchResults.length>this.props.maxVisible,resultsTruncatedMessage:this.props.resultsTruncatedMessage,onOptionSelected:this._onOptionSelected,allowCustomValues:this.props.allowCustomValues,customValue:this._getCustomValue(),customClasses:this.props.customClasses,customListItemComponent:this.props.customListItemComponent,customListHeaderComponent:this.props.customListHeaderComponent,selectionIndex:this.state.selectionIndex,defaultClassNames:this.props.defaultClassNames,displayOption:this.props.displayOption,selectedItems:this.props.selectedItems})}},{key:"getSelection",value:function(){var e=this.state.selectionIndex;if(this._hasCustomValue()){if(0===e)return this.state.entryValue;e--}return this._hasFixedOptions()?e<this.props.fixedOptions.length?this.props.fixedOptions[e]:this.state.searchResults[e-this.props.fixedOptions.length]:this.state.searchResults[e]}},{key:"_onEscape",value:function(){this.setState({selectionIndex:null})}},{key:"_onTab",value:function(e){var t=this.getSelection(),n=t||(this.state.searchResults.length>0?this.state.searchResults[0]:null);if(null===n&&this._hasCustomValue()&&(n=this._getCustomValue()),null!==n)return this._onOptionSelected(n,e)}},{key:"eventMap",value:function(e){var t={};return t[Na.DOM_VK_UP]=this.navUp,t[Na.DOM_VK_DOWN]=this.navDown,t[Na.DOM_VK_RETURN]=t[Na.DOM_VK_ENTER]=this._onEnter,t[Na.DOM_VK_ESCAPE]=this._onEscape,t[Na.DOM_VK_TAB]=this._onTab,t}},{key:"_nav",value:function(e){if(this._hasHint()){var t=null===this.state.selectionIndex?1===e?0:e:this.state.selectionIndex+e,n=this.props.maxVisible?this.state.searchResults.slice(0,this.props.maxVisible).length:this.state.searchResults.length;this._hasCustomValue()&&(n+=1),t<0?t+=n:t>=n&&(t-=n),this.setState({selectionIndex:t})}}},{key:"_renderHiddenInput",value:function(){return this.props.name?Object(a.jsx)("input",{type:"hidden",name:this.props.name,value:this.state.selection}):null}},{key:"_generateSearchFunction",value:function(){var e=this.props.searchOptions,t=this.props.filterOption;if("function"===typeof e)return null!==t&&console.warn("searchOptions prop is being used, filterOption prop will be ignored"),e;if("function"===typeof t)return function(e,n){return n.filter((function(n){return t(e,n)}))};var n="string"===typeof t?fa.generateAccessor(t):fa.IDENTITY_FN;return function(e,t){return Ca.a.filter(e,t,{extract:n}).map((function(e){return t[e.HomePage]}))}}},{key:"_hasHint",value:function(){return this.state.searchResults.length>0||this._hasCustomValue()}},{key:"_hasFixedOptions",value:function(){return Array.isArray(this.props.fixedOptions)&&this.props.fixedOptions.length}},{key:"render",value:function(){var e=this,t={};t[this.props.customClasses.input]=Boolean(this.props.customClasses.input);var n=ua()(t),r=Object(M.a)({},"typeahead",this.props.defaultClassNames);r[this.props.className]=Boolean(this.props.className);var i=ua()(r);return Object(a.jsxs)(nr,{className:i,ref:function(t){e.root=t},tabIndex:"0",onKeyDown:this._onKeyDown,onKeyPress:this.props.onKeyPress,onKeyUp:this.props.onKeyUp,onFocus:this._onFocus,children:[this._renderHiddenInput(),this.props.searchable?Object(a.jsxs)(ar,{children:[Object(a.jsx)(rr,Object(c.a)(Object(c.a)({ref:function(t){e.entry=t},type:"text",disabled:this.props.disabled},this.props.inputProps),{},{placeholder:this.props.placeholder,className:n,value:this.state.entryValue,onChange:this._onChange,onBlur:this._onBlur})),Object(a.jsx)(ir,{children:Object(a.jsx)(qa,{height:"18px"})})]}):null,this._renderIncrementalSearchResults()]})}}]),n}(r.Component);function sr(){var e=Object(Wt.a)(["\n  background: ",";;\n  border: 0;\n  width: 100%;\n  left: 0;\n  z-index: 100;\n  position: absolute;\n  bottom: ",";\n  margin-top: ",";\n  margin-bottom: ",";\n* {\n  background-color: #ffffff;\n  font: Arial;\n  font-size: inherit;\n  font-weight: inherit;\n  border: 2px; /*solid #dde2ec;*/\n  border-radius: 2px;\n}\n\n.list__item:hover {\n  background-color: #037af7;\n  color: #ffffff;\n  .list__item__anchor {\n    background-color: #037af7;\n    color: #ffffff;\n   }\n}\n\n"]);return sr=function(){return e},e}function cr(){var e=Object(Wt.a)(["\n  margin-left: 6px;\n  display: flex;\n"]);return cr=function(){return e},e}function lr(){var e=Object(Wt.a)(["\n  color: ",";\n  overflow: hidden;\n"]);return lr=function(){return e},e}function ur(){var e=Object(Wt.a)(["\n  ",";\n\n  .list__item__anchor {\n    ",";\n  }\n  .list__item__anchor:hover {\n    background-color: #037af7;\n    color: #ffffff;\n  }\n"]);return ur=function(){return e},e}function dr(e){return Array.isArray(e)?e:"undefined"===typeof e||null===e?[]:[e]}or.defaultProps={options:[],customClasses:{},allowCustomValues:0,initialValue:"",value:"",placeholder:"",disabled:!1,textarea:!1,inputProps:{},onOptionSelected:function(e){},onChange:function(e){},onKeyDown:function(e){},onKeyPress:function(e){},onKeyUp:function(e){},onFocus:function(e){},onBlur:function(e){},filterOption:null,searchOptions:null,inputDisplayOption:null,defaultClassNames:!0,customListComponent:Ta,customListItemComponent:Fa,customListHeaderComponent:null,showOptionsWhenEmpty:!0,searchable:!0,resultsTruncatedMessage:null};var pr=Zt.default.div(ur(),(function(e){return"secondary"===e.inputTheme?e.theme.secondaryInput:e.theme.input}),(function(e){return e.theme.dropdownListAnchor})),hr=Zt.default.span(lr(),(function(e){return e.hasValue?e.theme.selectColor:e.theme.selectColorPlaceHolder})),fr=Zt.default.div(cr()),br=Zt.default.div(sr(),(function(e){return e.theme.selectBackgroundLT}),(function(e){return"top"===e.placement?e.theme.inputBoxHeight:"auto"}),(function(e){return"bottom"===e.placement?"4px":"auto"}),(function(e){return"top"===e.placement?"4px":"auto"})),mr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={showTypeahead:!1},e.handleClickOutside=function(){e._hideTypeahead()},e._onBlur=function(){e.props.onBlur&&e.props.onBlur()},e._removeItem=function(t,n){n.preventDefault(),n.stopPropagation();var a=e.props.selectedItems,r=a.findIndex((function(e){return e===t}));if(!(r<0)){var i=[].concat(Object(m.a)(a.slice(0,r)),Object(m.a)(a.slice(r+1,a.length)));e.props.onChange(i),e.props.closeOnSelect&&(e.setState({showTypeahead:!1}),e._onBlur())}},e._selectItem=function(t){var n=fa.generateOptionToStringFor(e.props.getOptionValue||e.props.displayOption),a=dr(e.props.selectedItems);if(e.props.multiSelect){var r=pa()(a.concat(dr(t).map(n)));e.props.onChange(r)}else e.props.onChange(n(t));e.props.closeOnSelect&&(e.setState({showTypeahead:!1}),e._onBlur())},e._onErase=function(t){t.stopPropagation(),e.props.onChange(null)},e._showTypeahead=function(){e.props.disabled||e.setState({showTypeahead:!0})},e}return Object(u.a)(n,[{key:"_hideTypeahead",value:function(){this.setState({showTypeahead:!1}),this._onBlur()}},{key:"_renderDropdown",value:function(){return Object(a.jsx)(br,{placement:this.props.placement,children:Object(a.jsx)(or,{customClasses:{results:"list-selector",input:"typeahead__input",listItem:"list__item",listAnchor:"list__item__anchor"},options:this.props.options,filterOption:this.props.filterOption,fixedOptions:this.props.fixedOptions,placeholder:"Search",onOptionSelected:this._selectItem,customListComponent:this.props.DropDownRenderComponent,customListHeaderComponent:this.props.DropdownHeaderComponent,customListItemComponent:this.props.DropDownLineItemRenderComponent,displayOption:fa.generateOptionToStringFor(this.props.displayOption),searchable:this.props.searchable,showOptionsWhenEmpty:!0,selectedItems:dr(this.props.selectedItems)})})}},{key:"render",value:function(){var e=dr(this.props.selectedItems),t=e.length,n=fa.generateOptionToStringFor(this.props.displayOption),r={className:ua()("item-selector__dropdown",{active:this.state.showTypeahead}),disabled:this.props.disabled,onClick:this._showTypeahead,onFocus:this._showPopover,error:this.props.isError,inputTheme:this.props.inputTheme};return Object(a.jsx)("div",{className:"item-selector",children:Object(a.jsxs)("div",{style:{position:"relative"},id:"find this id",children:[this.props.multiSelect?Object(a.jsx)(ka,Object(c.a)(Object(c.a)({},r),{},{selectedItems:dr(this.props.selectedItems),placeholder:this.props.placeholder,displayOption:n,removeItem:this._removeItem})):Object(a.jsxs)(pr,Object(c.a)(Object(c.a)({},r),{},{children:[Object(a.jsx)(hr,{hasValue:t,children:t?Object(a.jsx)(this.props.DropDownLineItemRenderComponent,{displayOption:n,value:e[0]}):this.props.placeholder}),this.props.erasable&&t?Object(a.jsx)(fr,{children:Object(a.jsx)(ma,{height:"12px",onClick:this._onErase})}):null]})),this.state.showTypeahead&&this._renderDropdown()]})})}}]),n}(r.Component);mr.defaultProps={erasable:!1,placement:"bottom",selectedItems:[],displayOption:null,getOptionValue:null,filterOption:null,fixedOptions:null,inputTheme:"primary",multiSelect:!0,placeholder:"Enter a value",closeOnSelect:!0,searchable:!0,dropdownHeader:null,DropdownHeaderComponent:null,DropDownRenderComponent:Ta,DropDownLineItemRenderComponent:Fa};var vr=Object(ha.a)(mr),jr=function(e){var t=e.filter,n=e.setFilter,r=e.placeHolder,i=void 0===r?"Select a Value":r;return Object(a.jsxs)(aa,{children:[t.name?Object(a.jsx)(na,{htmlFor:"filter-".concat(t.id),children:t.name}):null,Object(a.jsx)(vr,{selectedItems:t.value,placeholder:i,options:t.domain,multiSelect:!0,searchable:!0,displayOption:function(e){return e.name?e.name:t.domain.reduce((function(t,n){return n.value===e?n.name:t}),e)},getOptionValue:function(e){return e.value?e.value:e},onChange:n,inputTheme:"secondary"})]})};function gr(){var e=Object(Wt.a)(["\n\twhite-space: nowrap;\n\n\tth, td {\n\t\tpadding-right: 10px;\n\t}\n\tth:last-child, td:last-child {\n\t\tpadding-right: 0px;\n\t}\n"]);return gr=function(){return e},e}function yr(){var e=Object(Wt.a)(["\n\n\t/*padding: 2px 2px 2px 10px;*/\n\tmargin: 0px !important;\n\tdisplay: flex;\n\tborder: 2px /*solid*/ ",";\n\tborder-radius: 4px;\n\n\t:hover {\n\t\tborder-color: ",";\n\t}\n\n\t> div:first-child {\n\t\tpadding-right: 0px;\n\t}\n\t>div {\n\t\twidth: 100%;\n\t}\n"]);return yr=function(){return e},e}function xr(){var e=Object(Wt.a)(["\n\tpadding: 2px 2px 2px 10px;\n\tdisplay: flex;\n\tborder: 2px solid ",";\n\tborder-radius: 4px;\n\n\t:hover {\n\t\tborder-color: ",";\n\t}\n\n\t> div:first-child {\n\t\tpadding-right: 5px;\n\t}\n"]);return xr=function(){return e},e}function Or(){var e=Object(Wt.a)(['\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\n\t> * {\n\t\twidth: 100%;\n\t\tposition: relative;\n\n\t\t::after {\n\t\t\tcontent: "";\n\t\t\tclear: both;\n\t\t\tdisplay: table;\n\t\t}\n\n\t\t> * {\n\t\t\tdisplay: inline-block;\n\n\t\t\t:last-child {\n\t\t\t\tfloat: right;\n\t\t\t}\n\t\t\t&.middle {\n\t\t\t\twidth: 100%;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0px;\n\t\t\t\tleft: 0px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\tpointer-events: none;\n\t\t\t\t> * {\n\t\t\t\t\tpointer-events: all;\n\t\t\t\t}\n\t\t\t}\n\t\t\t:first-child {\n\t\t\t\tfloat: left;\n\t\t\t}\n\t\t}\n\t}\n']);return Or=function(){return e},e}function _r(){var e=Object(Wt.a)(["\n\tbackground-color: ",";\n\tcolor: ",";\n\tborder-radius: 4px;\n\tborder: none;\n\tcursor: pointer;\n\tfont-weight: 400;\n\tposition: relative;\n\n\t:hover {\n\t\tbackground-color: ",";\n\t}\n\t:disabled,\n\t:disabled:hover {\n\t\tcursor: not-allowed;\n\t\tbackground-color: ",";\n\t}\n\n\t&.active {\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t}\n\n\t> .button-dropdown {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: 100%;\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t\tpadding: 20px;\n\t\tz-index: 100;\n\t}\n\n\t:hover > .button-dropdown {\n\t\tdisplay: block;\n\t}\n"]);return _r=function(){return e},e}function kr(){var e=Object(Wt.a)(["\n\tpadding-top: 2px;\n\tcursor: pointer;\n\t:hover {\n\t\ttext-decoration: underline;\n\t}\n\t&.active {\n\t\ttext-decoration: underline;\n\t}\n"]);return kr=function(){return e},e}function wr(){var e=Object(Wt.a)(["\n\tpadding: 0px 10px;\n\t",";\n\toverflow: auto;\n\tmax-height: 500px;\n\tmargin-top: 5px;\n"]);return wr=function(){return e},e}function Cr(){var e=Object(Wt.a)(["\n\t/*max-height: 700px;*/\n"]);return Cr=function(){return e},e}var Sr=0,Nr=function(){return"filter-".concat(++Sr)},Lr=/(\[|\()(\d+),(\d+)(\]|\))/,Ar=function(e,t,n,a,r){function i(i){return i.filter((function(i){var o=P()(i,[e],void 0);return("["===t?o>=n:o>n)&&("]"===r?o<=a:o<a)}))}return i.id=Nr(),i.display="".concat(e," in range ").concat(t).concat(n,", ").concat(a).concat(r),i},Dr=function(e){return null!==e&&!isNaN(+e)},Pr=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(a>=n.length)return t;var r,i=new Map,o=n[a],s=function(e){return e[o.key]},c=Object(Sn.a)(t);try{for(c.s();!(r=c.n()).done;){var l=r.value,u=s(l),d=i.get(u);d?d.push(l):i.set(u,[l])}}catch(j){c.e(j)}finally{c.f()}var p,h=Object(Sn.a)(i);try{for(h.s();!(p=h.n()).done;){var f=Object(Z.a)(p.value,2),b=f[0],v=f[1];i.set(b,e(v,n,a+1))}}catch(j){h.e(j)}finally{h.f()}return Array.from(i).sort((function(e,t){var n=Object(Z.a)(e,1)[0],a=Object(Z.a)(t,1)[0];return null===n||void 0===n?1:null===a||void 0===a?-1:Dr(n)&&Dr(a)?(n-a)*o.dir:((n=n.toString().toLowerCase())<(a=a.toString().toLowerCase())?-1:a<n?1:0)*o.dir})).reduce((function(e,t){return e.push.apply(e,Object(m.a)(t[1])),e}),[])},zr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={page:0,filters:[],searchKey:null,searchString:"",sortKey:null,sortDirection:1,sortKeys:[]},e}return Object(u.a)(n,[{key:"setPage",value:function(e){var t=Math.floor(this.props.data.length/this.props.rowsPerPage);this.setState({page:Math.max(0,Math.min(t,e))})}},{key:"prevPage",value:function(){this.setState({page:Math.max(0,this.state.page-1)})}},{key:"nextPage",value:function(){var e=Math.floor(this.props.data.length/this.props.rowsPerPage);this.setState({page:Math.min(e,this.state.page+1)})}},{key:"addFilter",value:function(){var e=this.state,t=e.searchKey,n=e.searchString,a=!1;if("::"===n.slice(0,2)){var r=n.slice(2).trim(),i=r.split(/\s+/);if("=="===i[0])a=function(e,t){function n(n){return n.filter((function(n){return P()(n,[e],void 0)===t}))}return n.id=Nr(),n.display="".concat(e," == ").concat(t),n}(t,r.slice(2).trim());else if("!="===i[0])a=function(e,t){function n(n){return n.filter((function(n){return P()(n,[e],void 0)!==t}))}return n.id=Nr(),n.display="".concat(e," != ").concat(t),n}(t,r.slice(2).trim());else if(">"===i[0])a=function(e,t){function n(n){return n.filter((function(n){return P()(n,[e],void 0)>t}))}return n.id=Nr(),n.display="".concat(e," > ").concat(t),n}(t,r.slice(1).trim());else if(">="===i[0])a=function(e,t){function n(n){return n.filter((function(n){return P()(n,[e],void 0)>=t}))}return n.id=Nr(),n.display="".concat(e," >= ").concat(t),n}(t,r.slice(2).trim());else if("<"===i[0])a=function(e,t){function n(n){return n.filter((function(n){return P()(n,[e],void 0)<t}))}return n.id=Nr(),n.display="".concat(e," < ").concat(t),n}(t,r.slice(1).trim());else if("<="===i[0])a=function(e,t){function n(n){return n.filter((function(n){return P()(n,[e],void 0)<=t}))}return n.id=Nr(),n.display="".concat(e," <= ").concat(t),n}(t,r.slice(2).trim());else if("range"===i[0]||"in"===i[0]){var o=r.slice(i[0].length).replace("//g",""),s=Lr.exec(o);s&&(a=Ar.apply(void 0,[t].concat(Object(m.a)(s.slice(1,5)))))}}a||(a=function(e,t){function n(n){return n.filter((function(n){return P()(n,[e],"").toString().toLowerCase().includes(t)}))}return t=t.toString().toLowerCase(),n.id=Nr(),n.display="".concat(e," includes ").concat(t),n}(t,n)),this.setState({filters:[].concat(Object(m.a)(this.state.filters),[a]),searchKey:null,searchString:""})}},{key:"removeFilter",value:function(e){this.setState({filters:this.state.filters.filter((function(t){return t.id!==e}))})}},{key:"setSearchKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={searchKey:e};e!==this.state.searchKey&&(t.searchString=""),this.setState(t)}},{key:"setSearchString",value:function(e){this.setState({searchString:e})}},{key:"setSortKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=1;e===this.state.sortKey&&(t=-1*this.state.sortDirection),this.setState({sortKey:e,sortDirection:t})}},{key:"toggleSortKey",value:function(e){var t=!1,n=this.state.sortKeys.reduce((function(n,a){var r=a.key,i=a.dir;return t=t||r===e,r===e&&1===i?n.push({key:r,dir:-1}):r!==e&&n.push({key:r,dir:i}),n}),[]);t||n.push({key:e,dir:1}),this.setState({sortKeys:n})}},{key:"getKeys",value:function(){var e=this.props,t=e.keys,n=e.data;return!t.length&&n.length&&(t=Object.keys(n[0])),t}},{key:"getData",value:function(){var e=this,t=this.props.isMulti?this.state.filters.length?this.state.filters.reduce((function(t,n){return t.push.apply(t,Object(m.a)(n(e.props.data))),t}),[]):this.props.data:this.state.filters.reduce((function(e,t){return t(e)}),Object(m.a)(this.props.data)),n=this.state.sortKeys;return t=Pr(t,n)}},{key:"getKeysAndData",value:function(){return[this.getKeys(),this.getData()]}},{key:"downloadAsCsv",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getKeys(),n=this.props.data;e&&(n=this.getData());var a=n.reduce((function(e,n){return e.push(t.map((function(e){return n[e]})).join()),e}),[t.join()]).join("\n"),r=new Blob([a],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(void 0!==i.download){var o=URL.createObjectURL(r);i.setAttribute("href",o),i.setAttribute("download",this.props.downloadedFileName),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}},{key:"render",value:function(){var e=this,t=this.getKeysAndData(),n=Object(Z.a)(t,2),r=n[0],o=n[1];r=r.filter((function(t){return!e.props.expandable||!e.props.expandable.includes(t)}));var s=this.state,l=s.page,u=s.searchKey,d=s.searchString,p=s.sortKeys.reduce((function(e,t,n){return Object(c.a)(Object(c.a)({},e),{},Object(M.a)({},t.key,{dir:t.dir,i:n}))}),{}),h=this.props,f=h.rowsPerPage,b=h.pageSpread,m=Math.max(Math.ceil(o.length/f)-1,0),v=o.length;return l=Math.min(m,l),o=o.slice(l*f,l*f+f),Object(a.jsxs)(Mr,{children:[Object(a.jsx)(Ur,{page:l,maxPage:m,length:v,rowsPerPage:f,pageSpread:b,prevPage:function(){return e.prevPage()},nextPage:function(){return e.nextPage()},setPage:function(t){return e.setPage(t)},searchKeys:r,data:this.props.data,isMulti:this.props.isMulti,searchKey:u,setSearchKey:function(t){return e.setSearchKey(t)},searchString:d,setSearchString:function(t){return e.setSearchString(t)},addFilter:function(){return e.addFilter()},removeFilter:function(t){return e.removeFilter(t)},filters:this.state.filters,downloadFiltered:function(){return e.downloadAsCsv(!0)},downloadUnfiltered:function(){return e.downloadAsCsv(!1)},title:this.props.title,showHelp:this.props.showHelp}),Object(a.jsx)(Br,{children:Object(a.jsxs)("table",{className:"table table-sm",children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:r.map((function(t){return Object(a.jsxs)(Fr,{onClick:function(){return e.toggleSortKey(t)},className:p[t]?"active":"",children:[p[t]?"(".concat(p[t].i+1,")"):null," ",t.replace("_"," "),p[t]?Object(a.jsx)("span",{className:"fa fa-lg fa-caret-down ml-1",style:{transform:"rotate(".concat(1===p[t].dir?180:0,"deg)")}}):null]},t)}))})}),Object(a.jsx)("tbody",{children:o.map((function(t,n){return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("tr",{onClick:function(e){var t=document.getElementById("expandable-".concat(n));if(t){var a=t.style.display;t.style.display="none"===a?"table-row":"none"}},children:r.map((function(e){return Object(a.jsx)("td",{children:t[e]},e)}))},"row-".concat(n)),e.props.expandable.map((function(e){return Object(a.jsx)("tr",{id:"expandable-".concat(n),style:{display:"none",backgroundColor:"rgba(0,0,0,0.06)"},children:Object(a.jsx)("td",{colSpan:r.length,children:t[e]})},e)}))]},n)}))})]})})]})}}]),n}(i.a.Component);zr.defaultProps={data:[],keys:[],rowsPerPage:10,pageSpread:2,downloadedFileName:"data.csv",title:"",showHelp:!1,expandable:[]};var Mr=Zt.default.div(Cr()),Br=Zt.default.div(wr(),(function(e){return e.theme.scrollBar})),Fr=Zt.default.th(kr()),Ir=Zt.default.button(_r(),(function(e){return e.theme.primaryBtnBgd}),(function(e){return e.theme.primaryBtnColor}),(function(e){return e.theme.primaryBtnBgdHover}),(function(e){return e.theme.primaryBtnDisabled}),(function(e){return e.theme.primaryBtnBgdHover}),(function(e){return e.theme.primaryBtnActColor}),(function(e){return e.theme.sidePanelHeaderBg}),(function(e){return e.theme.textColor})),Tr=Zt.default.div(Or()),Er=function(e,t,n){var a=e-n,r=e+n;return a<0&&(r+=-a,a=0),r>t&&(a-=r-t,r=t),Nn.a(Math.max(0,a),Math.min(t,r)+1)},Hr=Object(Jt.b)(",d"),Vr=Zt.default.div(xr(),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl})),Rr=Zt.default.div(yr(),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl})),Gr=function(e){var t=e.display,n=e.remove;return Object(a.jsxs)(Vr,{children:[Object(a.jsx)("div",{children:t}),Object(a.jsx)(Ir,{onClick:n,children:Object(a.jsx)("span",{className:"fa fa-times"})})]})},Ur=function(e){var t=e.prevPage,n=e.nextPage,r=e.page,i=e.maxPage,o=e.setPage,s=e.length,c=e.searchKeys,l=e.searchKey,u=e.data,d=e.setSearchKey,p=e.setSearchString,h=e.searchString,f=e.rowsPerPage,b=e.pageSpread,m=e.addFilter,v=e.removeFilter,j=e.filters,g=e.downloadFiltered,y=e.downloadUnfiltered,x=e.title,O=e.showHelp,_=e.isMulti;return Object(a.jsxs)(Tr,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{fontSize:"1rem",fontWeight:"bold",lineHeight:"23px"},children:x}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ir,{onClick:g,children:"Download Filtered Data"}),Object(a.jsx)(Ir,{onClick:y,style:{marginLeft:"5px"},children:"Download Unfiltered Data"}),O?Object(a.jsxs)(Ir,{style:{marginLeft:"5px"},children:[Object(a.jsx)("span",{className:"fa fa-question"}),Object(a.jsx)(Wr,{})]}):null]})]}),Object(a.jsx)("div",{style:{marginTop:"5px",height:"40px"},children:Object(a.jsxs)("form",{style:{display:"flex",width:"100%"},onSubmit:function(e){e.preventDefault(),l&&h&&m()},children:[Object(a.jsx)("div",{style:{width:"40%"},children:Object(a.jsx)(vr,{placeholder:"Select a filter key...",selectedItems:l,multiSelect:!1,searchable:!1,displayOption:function(e){return e},getOptionValue:function(e){return e},onChange:d,options:c})}),Object(a.jsx)("div",{style:{width:"40%"},children:_?Object(a.jsx)(Rr,{children:Object(a.jsx)(jr,{filter:{domain:l?w.a.uniqBy(u,l).map((function(e){return e[l]})).filter((function(e){return e})):[],value:h?h.split(";"):[]},setFilter:function(e){p(e.join(";"))}})}):Object(a.jsx)(oa,{type:"text",value:h,disabled:!Boolean(l),onChange:function(e){var t=e.target.value;return p(t)},placeholder:"filter..."})}),Object(a.jsx)("div",{style:{width:"20%",display:"flex",paddingBottom:"13px"},children:Object(a.jsx)(Ir,{onClick:m,style:{width:"100%"},disabled:!l||!h,children:"Add Filter"})})]})}),j.length?Object(a.jsx)("div",{style:{display:"flex"},children:j.map((function(e,t){return Object(a.jsx)(Gr,{display:e.display,remove:function(){return v(e.id)}},e.id)}))}):null,Object(a.jsxs)("div",{style:{marginTop:"5px"},children:[Object(a.jsxs)("div",{children:["Displaying: ",Hr(Math.min(r*f+1,s))," - ",Hr(Math.min(r*f+f,s))," of ",Hr(s)]}),Object(a.jsxs)("div",{children:["Page: ",Hr(r+1)," of ",Hr(i+1)]})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)(Ir,{onClick:function(){return o(0)},disabled:0===r,children:[Object(a.jsx)("span",{className:"fa fa-chevron-left"}),Object(a.jsx)("span",{className:"fa fa-chevron-left"})]}),Object(a.jsx)(Ir,{onClick:t,disabled:0===r,children:Object(a.jsx)("span",{className:"fa fa-chevron-left"})})]}),Object(a.jsx)("div",{className:"middle",children:Er(r,i,b).map((function(e){return Object(a.jsx)(Ir,{disabled:e===r,className:e===r?"active":"",onClick:function(){return o(e)},children:Hr(e+1)},e)}))}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ir,{onClick:n,disabled:r===i,children:Object(a.jsx)("span",{className:"fa fa-chevron-right"})}),Object(a.jsxs)(Ir,{onClick:function(){return o(i)},disabled:r===i,children:[Object(a.jsx)("span",{className:"fa fa-chevron-right"}),Object(a.jsx)("span",{className:"fa fa-chevron-right"})]})]})]})]})},Wr=function(){return Object(a.jsxs)("div",{className:"button-dropdown",children:[Object(a.jsx)("div",{style:{fontSize:"1rem"},children:"Search Commands"}),Object(a.jsx)("div",{children:"All search commands must adhere to the following pattern:"}),Object(a.jsx)("div",{children:":: command value"}),Object(a.jsx)("div",{children:"Where command is one of the following:"}),Object(a.jsxs)(Zr,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Command"}),Object(a.jsx)("th",{children:"Description"}),Object(a.jsx)("th",{children:"Value"})]})}),Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: =="}),Object(a.jsx)("td",{children:"(equal to)"}),Object(a.jsx)("td",{children:"Number / String"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: !="}),Object(a.jsx)("td",{children:"(not equal to)"}),Object(a.jsx)("td",{children:"Number / String"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: >"}),Object(a.jsx)("td",{children:"(greater than)"}),Object(a.jsx)("td",{children:"Number / String"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: >="}),Object(a.jsx)("td",{children:"(greater than or equal to)"}),Object(a.jsx)("td",{children:"Number"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: <"}),Object(a.jsx)("td",{children:"(less than)"}),Object(a.jsx)("td",{children:"Number / String"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: <="}),Object(a.jsx)("td",{children:"(less than or equal to)"}),Object(a.jsx)("td",{children:"Number"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: in"}),Object(a.jsx)("td",{children:"(value bounds)"}),Object(a.jsx)("td",{children:"[( Number, Number )]"})]})]})]}),Object(a.jsx)("div",{style:{fontSize:"1rem",marginTop:"5px"},children:"Examples:"}),Object(a.jsxs)(Zr,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Command"}),Object(a.jsx)("th",{children:"Result"})]})}),Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: == 60"}),Object(a.jsx)("td",{children:"All data with selected key that has a value equal to 60"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: > 70"}),Object(a.jsx)("td",{children:"All data with selected key that has a value greated than 70"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: <= 90"}),Object(a.jsx)("td",{children:"All data with selected key that has a value less than or equal to 90"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: in [50, 80]"}),Object(a.jsxs)("td",{children:[Object(a.jsx)("div",{children:"All data with selected key that has a value greater than or equal to 50"}),Object(a.jsx)("div",{children:"and all data with selected key that has a value less than or equal to 80"})]})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: in (50, 80)"}),Object(a.jsxs)("td",{children:[Object(a.jsx)("div",{children:"All data with selected key that has a value greater than 50"}),Object(a.jsx)("div",{children:"and all data with selected key that has a value less than 80"})]})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:":: in [50, 80)"}),Object(a.jsxs)("td",{children:[Object(a.jsx)("div",{children:"All data with selected key that has a value greater than or equal to 50"}),Object(a.jsx)("div",{children:"and all data with selected key that has a value less than 80"})]})]})]})]})]})},Zr=Zt.default.table(gr());function $r(){var e=Object(Wt.a)(["\n\t",";\n\t/*overflow: auto;*/\n\tcolor: ",";\n"]);return $r=function(){return e},e}var Kr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={mapLoaded:!1,needsUpdate:!1,features:[[],[]],queriedFeatures:0,sourcesLoaded:{}},a.timeout=null,a.checkSourcesLoaded=a.checkSourcesLoaded.bind(Object(x.a)(a)),a.setNeedsUpdate=a.setNeedsUpdate.bind(Object(x.a)(a)),a.initialRender=a.initialRender.bind(Object(x.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.checkSourcesLoaded(),this.queryRenderedFeatures()}},{key:"componentWillUnmount",value:function(){var e=this.props.layer.map;Boolean(e)&&(e.off("sourcedata",this.checkSourcesLoaded),e.off("zoomend",this.setNeedsUpdate),e.off("moveend",this.setNeedsUpdate),e.off("style.load",this.setNeedsUpdate)),clearTimeout(this.timeout)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.layer.map;Boolean(n)&&!this.state.mapLoaded&&(this.setState({mapLoaded:!0}),n.on("sourcedata",this.checkSourcesLoaded),n.on("zoomend",this.setNeedsUpdate),n.on("moveend",this.setNeedsUpdate),n.on("style.load",this.setNeedsUpdate)),Object.values(this.state.sourcesLoaded).reduce((function(e,t){return e&&t}),!0)&&(n.off("sourcedata",this.checkSourcesLoaded),!this.timeout&&this.initialRender())}},{key:"initialRender",value:function(){this.state.queriedFeatures||(this.queryRenderedFeatures(),this.timeout=setTimeout(this.initialRender,250))}},{key:"setNeedsUpdate",value:function(){this.setState({needsUpdate:!0})}},{key:"checkSourcesLoaded",value:function(){var e=this.props.layer.map,t=this.props.layer.layers.reduce((function(t,n){return e&&Boolean(e.getSource(n.source))?t[n.source]=!0:t[n.source]=!1,t}),{});Cn()(t,this.state.sourcesLoaded)||this.setState({sourcesLoaded:t})}},{key:"queryRenderedFeatures",value:function(){var e=this.props,t=e.layer,n=e.queryLayers,a=t.map;if(!a)return[[],[]];var r=[],i={layer:!0},o=[],s=n.length?n:t.layers.map((function(e){return e.id}));t.layers.forEach((function(e){s.includes(e.id)&&o.push([e.source,e["source-layer"],e.id])})),o.forEach((function(e){var t=Object(Z.a)(e,3),n=t[0],o=t[1],s=t[2];a.querySourceFeatures(n,{sourceLayer:o}).forEach((function(e){var t=Object.keys(e.properties);t.forEach((function(e){return i[e]=!0}));var n={layer:s};t.forEach((function(t){n[t]=e.properties[t]})),r.push(n)}))}));var l=this.props.dataFunc;null!==l&&(r=r.map(l));var u=r.length,d=this.props.injectFunc(),p=this.props.filterKey;if(d.length&&null!==p){var h=r.reduce((function(e,t){return e[t[p]]=!0,e}),{});d=d.filter((function(e){return!h[e[p]]}))}null!==l&&(d=d.map(l)),d.length&&(r=[].concat(Object(m.a)(r),Object(m.a)(d))),i=d.reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),Object.keys(t).reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},Object(M.a)({},t,!0))}),{}))}),i);var f=this.props.tableKeys;i=f.length?f:Object.keys(i),this.setState({features:[i,r],queriedFeatures:u,needsUpdate:!1,loading:!1})}},{key:"render",value:function(){var e=this,t=Object(Z.a)(this.state.features,2),n=t[0],r=t[1];return Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)("button",{className:"btn btn-sm btn-outline-success",style:{margin:"10px 0px"},onClick:function(){e.setState({page:0}),e.queryRenderedFeatures()},disabled:!this.state.needsUpdate,children:"Load Table"}),Object(a.jsx)(Yr,{children:Object(a.jsx)(zr,{data:r,keys:this.props.tableKeys.length?this.props.tableKeys:n,expandable:this.props.expandable||[],isMulti:!0})})]})}}]),n}(i.a.Component);Kr.defaultProps={layer:{},queryLayers:[],dataFunc:null,tableKeys:[],injectFunc:function(){return[]},filterKey:null};var qr=Kr,Yr=Zt.default.div($r(),(function(e){return e.theme.scrollBar}),(function(e){return e.theme.textColor})),Xr={sources:[],layers:[],active:!1,loading:0,popover:!1,actions:!1,modals:!1,infoBoxes:!1,legend:!1,filters:!1,select:!1,onClick:!1,onZoom:!1,_isVisible:!0,onHover:!1,showAttributesModal:!0,mapActions:{},selection:[]},Jr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(l.a)(this,e);var a=Object(c.a)(Object(c.a)({},Xr),n);for(var r in this.component=null,this.map=null,this.showPopover=!1,this.latestPopoverId=0,this.name=t,a)this[r]=a[r];this.LoadingIndicator=function(){},this.boundFunctions={},this.hoverSourceData={},this.hoveredFeatureIds=new Set,this.pinnedFeatureIds=new Set,this._mousemove=this._mousemove.bind(this),this._mouseleave=this._mouseleave.bind(this),this._popoverClick=this._popoverClick.bind(this),this._mousedown=this._mousedown.bind(this),this._mapClick=this._mapClick.bind(this),this.onHoverMove=this.onHoverMove.bind(this),this.onHoverLeave=this.onHoverLeave.bind(this)}return Object(u.a)(e,[{key:"registerLoadingIndicator",value:function(e){this.LoadingIndicator=e}},{key:"unregisterLoadingIndicator",value:function(){this.LoadingIndicator=function(){}}},{key:"initComponent",value:function(e){if(this.component=e,!1!==this.showAttributesModal){var t=this.modals||{};if(this.modals=Object(c.a)(Object(c.a)({},t),{},{"avl-attributes":{title:"Attributes",comp:function(e){var t=e.layer;return Object(a.jsx)(qr,{layer:t})},show:!1,position:"bottom",startSize:[800,500]}}),P()(this,"component.props.sidebar",!1)&&P()(this,"component.props.sidebarPages",[]).includes("layers")){var n=this.actions||[];this.actions=P()(this,"component.props.hideAttributes",!1)?Object(m.a)(n.filter((function(e){return"Toggle Attributes"!==e.tooltip}))):[].concat(Object(m.a)(n.filter((function(e){return"Toggle Attributes"!==e.tooltip}))),[{Icon:function(){return Object(a.jsx)("span",{className:"fa fa-lg fa-eye"})},action:["toggleModal","avl-attributes"],tooltip:"Toggle Attributes"}])}else this.mapActions=P()(this,"component.props.hideAttributes",!1)?Object(c.a)({},this.mapActions):Object(c.a)(Object(c.a)({},this.mapActions),{},{"avl-attributes":{Icon:function(e){e.layer;return Object(a.jsx)("span",{className:"fa fa-lg fa-eye"})},tooltip:"Toggle Attributes",action:function(){this.doAction(["toggleModal","avl-attributes"])}}})}}},{key:"initMap",value:function(e){this.map=e}},{key:"onAdd",value:function(e,t){}},{key:"_onAdd",value:function(e){var t=this;this.popover&&this.addPopover(e),this.select&&this.addBoxSelect(e),this.onClick&&this.addOnClick(e),this.onHover&&this.addOnHover(e),this.onZoom&&this.addOnZoom(e),this.layers.forEach((function(n){var a="none"!==e.getLayoutProperty(n.id,"visibility")&&t._isVisible;e.setLayoutProperty(n.id,"visibility",a?"visible":"none")}))}},{key:"onRemove",value:function(e){}},{key:"_onRemove",value:function(e){this.onZoom&&this.removeOnZoom(e),this.onHover&&this.removeOnHover(e),this.onClick&&this.removeOnClick(e),this.select&&this.removeBoxSelect(e),this.popover&&this.removePopover(e)}},{key:"receiveProps",value:function(e,t){for(var n in t)this[n]=t[n]}},{key:"onPropsChange",value:function(e,t){this.doAction(["fetchLayerData"])}},{key:"getLayerData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.map)return{keys:[],data:[]};var n=[],a={layer:!0};t=t.length?t:this.layers.map((function(e){return e.id}));var r=[];return this.layers.forEach((function(e){t.includes(e.id)&&r.push([e.source,e["source-layer"],e.id])})),r.forEach((function(t){var r=Object(Z.a)(t,3),i=r[0],o=r[1],s=r[2];e.map.querySourceFeatures(i,{sourceLayer:o}).forEach((function(e){var t=Object.keys(e.properties);t.forEach((function(e){return a[e]=!0}));var r={layer:s};t.forEach((function(t){r[t]=e.properties[t]})),n.push(r)}))})),a=n.reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),Object.keys(t).reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},Object(M.a)({},t,!0))}),{}))}),a),a=Object.keys(a),{data:n,keys:a}}},{key:"addOnZoom",value:function(e){var t=this,n=function(){var n=e.getZoom();t.onZoom(n)};this.boundFunctions["on-zoom"]=n,e.on("zoom",n)}},{key:"removeOnZoom",value:function(e){e.off("zoom",this.boundFunctions["on-zoom"])}},{key:"addOnHover",value:function(e){var t=this;this.onHover.layers.forEach((function(n){var a=t.layers.reduce((function(e,t){return t.id===n?t:e}),!1);t.hoverSourceData[n]={source:a.source,sourceLayer:a["source-layer"]};var r=function(a){return t.onHoverMove(a,n,e)};t.boundFunctions["on-hover-move-".concat(n)]=r,e.on("mousemove",n,r),r=function(a){return t.onHoverLeave(a,n,e)},t.boundFunctions["on-hover-leave-".concat(n)]=r,e.on("mouseleave",n,r)}))}},{key:"removeOnHover",value:function(e){var t=this;this.onHover.layers.forEach((function(n){var a="on-hover-move-".concat(n),r=t.boundFunctions[a];e.off("mousemove",n,r),delete t.boundFunctions[a],a="on-hover-leave-".concat(n),r=t.boundFunctions[a],e.off("mouseleave",n,r),delete t.boundFunctions[a]}))}},{key:"onHoverMove",value:function(e,t,n){var a=this,r=this.onHover,i=r.dataFunc,o=r.minZoom,s=r.filterFunc,l=n.getZoom();if(o&&o>l)return this.onHoverLeave(e,t,n);"function"===typeof i&&i.call(this,e.features,e.point,e.lngLat,t);var u=this.hoverSourceData[t];if(u&&e.features.length){this.onHoverLeave(e,t,n);var d=function(e){void 0!==e&&(n.getCanvas().style.cursor="pointer"),void 0!==e&&a.hoveredFeatureIds.add("".concat(t,".").concat(e)),void 0!==e&&n.setFeatureState(Object(c.a)({id:e},u),{hover:!0})},p=function(){var t=e.features[0].id;d(t)};if("function"===typeof s){var h=s.call(this,e.features,e.point,e.lngLat,t),f=u.source,b=u.sourceLayer;h?n.querySourceFeatures(f,{sourceLayer:b,filter:h}).forEach((function(e){var t=e.id;d(t)})):p()}else p()}}},{key:"onHoverLeave",value:function(e,t,n){var a=this;this.hoveredFeatureIds.forEach((function(e){var t=e.split("."),r=Object(Z.a)(t,2),i=r[0],o=r[1],s=a.hoverSourceData[i];s&&n.setFeatureState(Object(c.a)({id:o},s),{hover:!1})})),n.getCanvas().style.cursor="",this.hoveredFeatureIds.clear()}},{key:"doAction",value:function(e){var t,n=Object(kn.a)(e),a=n[0],r=n.slice(1);if(this.component&&this.component[a])return(t=this.component)[a].apply(t,[this.name].concat(Object(m.a)(r)))}},{key:"forceUpdate",value:function(){this.component&&this.component.forceUpdate()}},{key:"toggleVisibility",value:function(){var e=this;this._isVisible=!this._isVisible,this.layers.forEach((function(t){e.map.setLayoutProperty(t.id,"visibility",e._isVisible?"visible":"none")}))}},{key:"fetchData",value:function(){return Promise.resolve()}},{key:"onFilterFetch",value:function(e,t,n){return this.fetchData()}},{key:"onLegendChange",value:function(){return this.fetchData()}},{key:"onSelect",value:function(e){return this.fetchData()}},{key:"receiveDataOld",value:function(){this.receiveData&&(console.warn("<AvlMap::MapLayer> You are using the old fetchData / receiveData API. Use the new featchData / render API!"),this.receiveData.apply(this,arguments))}},{key:"render",value:function(e){}},{key:"onStyleChange",value:function(e){this._onAdd(e),this.render(e)}},{key:"addOnClick",value:function(e){var t=this;this.onClick.layers.forEach((function(n){var a=function(e){return t._mapClick(e,n)};t.boundFunctions["on-click-".concat(n)]=a,"map"===n?e.on("click",a):e.on("click",n,a)}))}},{key:"removeOnClick",value:function(e){var t=this;this.onClick.layers.forEach((function(n){var a="on-click-".concat(n),r=t.boundFunctions[a];"map"===n?e.off("click",r):e.off("click",n,r),delete t.boundFunctions[a]}))}},{key:"_mapClick",value:function(e,t){this.onClick.dataFunc.call(this,e.features,e.point,e.lngLat,t)}},{key:"addPopover",value:function(e){var t=this;this.popover.layers.forEach((function(n){var a="".concat(n,"-mousemove"),r=function(e){return t._mousemove(e,n)};t.boundFunctions[a]=r,e.on("mousemove",n,r),e.on("mouseleave",n,t._mouseleave),t.popover.noSticky||t.onClick||(a="".concat(n,"-popover-click"),r=function(e){return t._popoverClick(e,n)},t.boundFunctions[a]=r,e.on("click",n,r))}))}},{key:"removePopover",value:function(e){var t=this;this.popover.layers.forEach((function(n){var a="".concat(n,"-mousemove"),r=t.boundFunctions[a];delete t.boundFunctions[a],e.off("mousemove",n,r),e.off("mouseleave",n,t._mouseleave),t.popover.noSticky||t.onClick||(a="".concat(n,"-popover-click"),r=t.boundFunctions[a],delete t.boundFunctions[a],e.off("click",n,r))}))}},{key:"_mousemove",value:function(e,t){var n=this;this.showPopover=!0;var a=this.component.state,r=a.map,i=a.popover,o=r.getZoom(),s=this.popover,c=s.minZoom,l=s.dataFunc;if(!(c&&c>o)&&e.features&&e.features.length){var u=++this.latestPopoverId;Promise.resolve(l.call(this,e.features[0],e.features,t,r,e)||[]).then((function(t){n.showPopover&&(u<n.latestPopoverId||(r.getCanvas().style.cursor=t.length?"pointer":"",i.pinned||n.doAction(["updatePopover",{pos:[e.point.x,e.point.y],layer:n,data:t}])))}))}}},{key:"_mouseleave",value:function(e,t){this.showPopover=!1;var n=this.component.state,a=n.map,r=n.popover;a.getCanvas().style.cursor="",r.pinned||this.doAction(["updatePopover",{layer:null,data:[]}])}},{key:"_clearPinnedState",value:function(){var e=this;this.map&&(this.pinnedFeatureIds.forEach((function(t){var n=t.split("."),a=Object(Z.a)(n,2),r=a[0],i=a[1],o=e.layers.reduce((function(e,t){return t.id===r?{source:t.source,sourceLayer:t["source-layer"]}:e}),null);o&&e.map.setFeatureState(Object(c.a)({id:i},o),{pinned:!1})})),this.pinnedFeatureIds.clear())}},{key:"_popoverClick",value:function(e,t){var n=this,a=this.component.state,r=a.map,i=a.popover.pinned;if(e.features.length){var o=this.popover.dataFunc.call(this,e.features[0],e.features,t);o.length&&("function"===typeof this.popover.onPinned&&this.popover.onPinned.call(this,e.features,e.lngLat,e.point),this.popover.setPinnedState&&(this._clearPinnedState(),e.features.forEach((function(e){var t=e.id,a=e.layer,i=n.layers.reduce((function(e,t){return t.id===a.id?{source:t.source,sourceLayer:t["source-layer"]}:e}),null);void 0!==t&&i&&(n.pinnedFeatureIds.add("".concat(a.id,".").concat(t)),r.setFeatureState(Object(c.a)({id:t},i),{pinned:!0}))}))),i?this.doAction(["updatePopover",{pos:[e.point.x,e.point.y],data:o,layer:this}]):this.doAction(["updatePopover",{pinned:!0,layer:this}]))}}},{key:"_mousedown",value:function(e){var t=this;if(e.shiftKey&&0===e.button){var n=this.component.state.map;n.dragPan.disable();var a,r=n.getCanvasContainer(),i=this.select.fromLayers,o=this.select.highlightLayers,s=this.select.property,c=["in",s],l=this.select.maxSelection||5e3,u=function(e){var t=r.getBoundingClientRect();return[e.clientX-t.left-r.clientLeft,e.clientY-t.top-r.clientTop]},d=u(e),p=null,h=[],f=function(e){a=u(e),p||((p=document.createElement("div")).classList.add("boxdraw"),r.appendChild(p));var t=Math.min(d[0],a[0]),n=Math.max(d[0],a[0]),i=Math.min(d[1],a[1]),o=Math.max(d[1],a[1]),s="translate("+t+"px,"+i+"px)";p.style.transform=s,p.style.WebkitTransform=s,p.style.width=n-t+"px",p.style.height=o-i+"px"},b=function(e){v([d,u(e)])},m=function(e){27===e.keyCode&&v()},v=function(e){if(document.removeEventListener("mousemove",f),document.removeEventListener("keydown",m),document.removeEventListener("mouseup",b),p&&(p.parentNode.removeChild(p),p=null),e){var a=n.queryRenderedFeatures(e,{layers:i});if(a.length>=l)return n.dragPan.enable(),window.alert("Select a smaller number of features. You selected ".concat(a.length,". The maximum is ").concat(l,"."));var r=a.reduce((function(e,t){return e.push(t.properties[s]),e}),c.slice());h=a.map((function(e){return e.properties[s]})),o.forEach((function(e){n.setFilter(e.id,e.filter?["all",e.filter,r]:r)}))}n.dragPan.enable(),t.component.onSelect(t.name,h)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",b),document.addEventListener("keydown",m)}}},{key:"addBoxSelect",value:function(e){var t=this;this.select.highlightLayers.forEach((function(n){e.setFilter(n.id,["in",t.select.property])})),e.getCanvasContainer().addEventListener("mousedown",this._mousedown,!0)}},{key:"removeBoxSelect",value:function(e){e.getCanvasContainer().removeEventListener("mousedown",this._mousedown,!0)}},{key:"receiveMessage",value:function(e,t){console.warn("<MapLayer.receiveMessage>",this.name,e,"You should override this method!")}}]),e}(),Qr=[{id:"composite",source:{url:"mapbox://lobenichou.albersusa,lobenichou.albersusa-points",type:"vector"}},{id:"albersusa",source:{url:"mapbox://lobenichou.albersusa",type:"vector"}},{id:"albersusa_cousubs",source:{url:"mapbox://am3081.8xwbxcmy",type:"vector"}},{id:"albersusa_zip_codes",source:{url:"mapbox://am3081.4jgx8fkw",type:"vector"}},{id:"albersusa_tracts",source:{url:"mapbox://am3081.2n3as7pn",type:"vector"}}],ei=[{id:"counties",type:"fill",source:"albersusa","source-layer":"albersusa",filter:["match",["get","type"],["county_fips"],!0,!1],layout:{},paint:{"fill-color":"hsl(0, 3%, 94%)","fill-opacity":["case",["boolean",["feature-state","hover"],!1],.1,1]}},{id:"county-boundaries",type:"line",source:"albersusa","source-layer":"albersusa",layout:{},paint:{"line-color":"rgba(0,0,0,0)","line-opacity":.7,"line-width":3}},{id:"cousubs",type:"fill",source:"albersusa_cousubs","source-layer":"albersusa_cousubs",filter:["match",["get","type"],["geoid"],!0,!1],layout:{},paint:{"fill-color":"hsl(0, 3%, 94%)","fill-opacity":["case",["boolean",["feature-state","hover"],!1],0,1],"fill-outline-color":["case",["boolean",["feature-state","hover"],!1],"hsl(0, 4%, 85%)","hsl(0, 4%, 85%)"]}},{id:"tracts",type:"fill",source:"albersusa_tracts","source-layer":"albersusa_tracts",filter:["match",["get","type"],["geoid"],!0,!1],layout:{},paint:{"fill-color":"hsl(0, 3%, 94%)","fill-opacity":["case",["boolean",["feature-state","hover"],!1],0,1],"fill-outline-color":["case",["boolean",["feature-state","hover"],!1],"hsl(0, 4%, 85%)","hsl(0, 4%, 85%)"]}},{id:"zipcodes",type:"fill",source:"albersusa_zip_codes","source-layer":"albersusa_zip_codes",filter:["match",["get","type"],["ZCTA5CE10"],!0,!1],layout:{},paint:{"fill-color":"hsl(0, 3%, 94%)","fill-opacity":["case",["boolean",["feature-state","hover"],!1],0,1],"fill-outline-color":["case",["boolean",["feature-state","hover"],!1],"hsl(0, 4%, 85%)","hsl(0, 4%, 85%)"]}},{id:"states",type:"fill",source:"albersusa","source-layer":"albersusa",filter:["match",["get","type"],["state"],!0,!1],layout:{},paint:{"fill-color":"rgba(0,0,0,0)"}},{id:"state-boundaries",type:"line",source:"composite","source-layer":"albersusa",filter:["match",["get","type"],["state"],!0,!1],layout:{},paint:{"line-color":"hsl(0, 0%, 72%)","line-width":.5}},{id:"county-points",type:"symbol",source:"composite","source-layer":"albersusa-points",filter:["match",["get","type"],["county"],!0,!1],layout:{"text-field":["to-string",["get","county_fips"]],"text-font":["Overpass Mono Bold","Arial Unicode MS Regular"],visibility:"none"},paint:{"text-color":"hsl(0, 0%, 100%)","text-halo-color":"hsl(0, 0%, 6%)","text-halo-width":1,"text-opacity":["step",["zoom"],0,6,1]}},{id:"state-points",type:"symbol",source:"composite","source-layer":"albersusa-points",filter:["match",["get","type"],["state"],!0,!1],layout:{"text-field":["to-string",["get","state_abbrev"]],"text-font":["Open Sans Regular","Arial Unicode MS Regular"]},paint:{"text-color":"hsl(0, 0%, 25%)","text-opacity":["step",["zoom"],1,6,0],"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":1}}],ti=n(1242),ni=n(64),ai=n(112),ri=ni.a("~s"),ii=function(e){return e<1e3?e:ri(e)},oi=n(293),si=6378137,ci={albersUsa:oi.geoAlbersUsa().translate([0,0]).scale(si),mercator:oi.geoMercator().translate([0,0]).scale(si)},li=function(e,t){var n=ci.mercator.invert(ci.albersUsa([t,e]));return n||[0,0]},ui=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"onPropsChange",value:function(e,t){this.filters.year.value!==t.year&&(this.filters.year.value=t.year?[t.year]:t.year?t.year:null,this.doAction(["fetchLayerData"])),e.hazard!==t.hazard&&(this.filters.hazard.value=t.hazard||"riverine",this.doAction(["fetchLayerData"])),e.fips!==t.fips&&(this.filters.fips.value=t.fips||null,this.doAction(["fetchLayerData"])),e.geography!==t.geography&&(this.filters.geography.value=t.geography,this.doAction(["fetchLayerData"])),this.filters.dataType.value!==t.dataType&&(this.filters.dataType.value=t.dataType,this.doAction(["fetchLayerData"])),ai.isEqual(e.falcorCache,t.falcorCache)||(this.falcorCache=t.falcorCache,this.doAction(["fetchLayerData"]))}},{key:"receiveProps",value:function(e,t){this.filters.dataType.value!==t.dataType&&(this.filters.dataType.value=t.dataType,this.onAdd(this.map))}},{key:"onAdd",value:function(e){var t=this;this.map=e,this.onLoadBounds=e.getBounds(),this.fetchData().then((function(n){return t.render(e,n)}))}},{key:"fetchData",value:function(){return Promise.resolve({})}},{key:"getColorScale",value:function(e){switch(this.legend.range=ue[this.filters.hazard.value+"_range"],this.legend.type){case"quantile":return Kt.a().domain(e).range(this.legend.range);case"quantize":return this.legend.domain=Object(ti.a)(e),qt.a().domain(e).range(this.legend.range);case"threshold":return this.legend.domain=e,Yt.a().domain(e).range(this.legend.range);default:return this.layer.forceUpdate(),Kt.a().domain(e).range(this.legend.range)}}},{key:"render",value:function(e,t){var n=this,a=this.filters.fips.value?this.filters.geography.value:"counties",r=this.filters.dataType.value?"zip_codes"!==a?Vt.a[this.filters.dataType.value].fetch_url:"".concat(Vt.a[this.filters.dataType.value].fetch_url,".byZip"):"",i=this.filters.dataType.value?P()(this.falcorCache,r,null):null,o={};if(i){"zip_codes"!==a?this.filtered_geographies=this.filters.fips.value?P()(this.falcorCache,["geo",this.filters.fips.value,a,"value"],null):Object.keys(i).filter((function(e){return""!==e})):(o=P()(this.falcorCache,["geo"],null),this.zip_codes=Object.keys(o).reduce((function(e,t){return n.filtered_geographies&&n.filtered_geographies.includes(t)&&e.push.apply(e,Object(m.a)(P()(o,[t,"byZip","zip_codes","value"],[]))),e}),[]));var s=Vt.a[this.filters.dataType.value].measure,c=Object.keys(i).filter((function(e){return""!==e})).reduce((function(e,t){return"zip_codes"!==a&&n.filtered_geographies&&n.filtered_geographies.includes(t)&&(e[t]="fema"===n.filters.dataType.value?P()(i,[t,n.filters.hazard.value,n.filters.year.value,s,"value"],0):P()(i,[t,n.filters.hazard.value,n.filters.year.value,s],0)),"zip_codes"===a&&n.zip_codes&&n.zip_codes.includes(t)&&(e[t]="fema"===n.filters.dataType.value?P()(i,[t,n.filters.hazard.value,n.filters.year.value,s,"value"],0):P()(i,[t,n.filters.hazard.value,n.filters.year.value,s],0)),e}),{}),l=["#F1EFEF"].concat(Object(m.a)(ue[this.filters.hazard.value+"_range"]));this.legend.domain="counties"===a?Vt.a[this.filters.dataType.value].counties_domain:Vt.a[this.filters.dataType.value].other_domain,this.legend.range=l;var u=Yt.a().domain(this.legend.domain).range(l),d=Object.keys(c).reduce((function(e,t){return e[t]=u(c[t]),e}),{});if("cousubs"===a&&Object.keys(c).length>0&&this.filtered_geographies&&(e.setLayoutProperty("counties","visibility","none"),e.setLayoutProperty("tracts","visibility","none"),e.setLayoutProperty("zipcodes","visibility","none"),e.setLayoutProperty("cousubs","visibility","visible"),e.setFilter("cousubs",["all",["match",["get","geoid"],this.filtered_geographies,!0,!1]]),e.setPaintProperty("cousubs","fill-color",["case",["has",["to-string",["get","geoid"]],["literal",d]],["get",["to-string",["get","geoid"]],["literal",d]],"hsl(0, 3%, 94%)"])),"tracts"===a&&Object.keys(c).length>0&&this.filtered_geographies&&(e.setLayoutProperty("cousubs","visibility","none"),e.setLayoutProperty("counties","visibility","none"),e.setLayoutProperty("zipcodes","visibility","none"),e.setLayoutProperty("tracts","visibility","visible"),e.setFilter("tracts",["all",["match",["get","geoid"],this.filtered_geographies,!0,!1]]),e.setPaintProperty("tracts","fill-color",["case",["has",["to-string",["get","geoid"]],["literal",d]],["get",["to-string",["get","geoid"]],["literal",d]],"hsl(0, 3%, 94%)"])),"zip_codes"===a&&Object.keys(c).length>0&&this.zip_codes&&(e.setLayoutProperty("cousubs","visibility","none"),e.setLayoutProperty("counties","visibility","none"),e.setLayoutProperty("tracts","visibility","none"),e.setLayoutProperty("zipcodes","visibility","visible"),e.setFilter("zipcodes",["all",["match",["get","ZCTA5CE10"],Object(m.a)(new Set(this.zip_codes)),!0,!1]]),e.setPaintProperty("zipcodes","fill-color",["case",["has",["to-string",["get","ZCTA5CE10"]],["literal",d]],["get",["to-string",["get","ZCTA5CE10"]],["literal",d]],"hsl(0, 3%, 94%)"])),"counties"===a&&Object.keys(c).length>0&&this.filtered_geographies&&(e.setLayoutProperty("cousubs","visibility","none"),e.setLayoutProperty("tracts","visibility","none"),e.setLayoutProperty("zipcodes","visibility","none"),e.setLayoutProperty("counties","visibility","visible"),e.setFilter("counties",["all",["match",["get","county_fips"],this.filtered_geographies,!0,!1]]),e.setPaintProperty("counties","fill-color",["case",["has",["to-string",["get","county_fips"]],["literal",d]],["get",["to-string",["get","county_fips"]],["literal",d]],"hsl(0, 3%, 94%)"])),this.filters.fips.value&&this.filtered_geographies){var p=P()(this.falcorCache,["geo",this.filters.fips.value,"boundingBox","value"],null),h=p?p.slice(4,-1).split(","):null,f=h?[h[0].split(" ").map((function(e){return parseFloat(e)})),h[1].split(" ").map((function(e){return parseFloat(e)}))]:null;if(f){var b=li(f[0][1],f[0][0]),v=li(f[1][1],f[1][0]);e.fitBounds([b,v]),e.setFilter("states",["all",["match",["get","state_fips"],[this.filters.fips.value],!0,!1]]),e.setFilter("counties",["all",["match",["get","county_fips"],this.filtered_geographies,!0,!1]])}}else e.setFilter("states",void 0),e.setLayoutProperty("cousubs","visibility","none"),e.setLayoutProperty("tracts","visibility","none"),e.setLayoutProperty("zipcodes","visibility","none"),e.setLayoutProperty("counties","visibility","visible"),e.setPaintProperty("counties","fill-color",["case",["has",["to-string",["get","county_fips"]],["literal",d]],["get",["to-string",["get","county_fips"]],["literal",d]],"hsl(0, 3%, 94%)"]),e.fitBounds(this.onLoadBounds)}}}]),n}(Jr),di=n(65),pi=n(56),hi=n(177),fi=n.n(hi);function bi(){var e=Object(Wt.a)(["\n  align-items: center;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  justify-content: center;\n  background-color: ",";\n  border-radius: 1px;\n  color: ",";\n  display: flex;\n  position: absolute;\n  height: 20px;\n  width: 20px;\n  right: 10px;\n  top: 25px;\n\n  :hover {\n    cursor: pointer;\n    box-shadow: none;\n    background-color: ",";\n  }\n"]);return bi=function(){return e},e}function mi(){var e=Object(Wt.a)(["\n  background-color: ",";\n  border-radius: 1px;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]);return mi=function(){return e},e}function vi(){var e=Object(Wt.a)(["\n  position: relative;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  align-items: stretch;\n  flex-grow: 1;\n  overflow: ",";\n"]);return vi=function(){return e},e}function ji(){var e=Object(Wt.a)(["\n  z-index: 99;\n  height: 100%;\n  width: ","px;\n  display: flex;\n  transition: width 250ms;\n  position: absolute;\n  padding: 20px;\n"]);return ji=function(){return e},e}var gi=Zt.default.div(ji(),(function(e){return e.width+40})),yi=Zt.default.div(vi(),(function(e){return e.isOpen&&!e.transitioning?"visible":"hidden"})),xi=Zt.default.div(mi(),(function(e){return e.theme.sidePanelBg})),Oi=Zt.default.div(bi(),(function(e){return e.theme.sideBarCloseBtnBgd}),(function(e){return e.theme.sideBarCloseBtnColor}),(function(e){return e.theme.sideBarCloseBtnBgdHover})),_i=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r)))._onOpenOrClose=function(){e.props.onTransitionStart(),setTimeout((function(){e.props.onOpenOrClose(!e.props.isOpen)}),250)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.transitioning,r=e.width,i=t&&n?0:t&&!n?r:!t&&n?300:0;return Object(a.jsxs)(gi,{width:i,className:"side-panel--container",isOpen:t,children:[Object(a.jsx)(yi,{className:"side-bar",style:{width:"".concat(r,"px")},isOpen:t,transitioning:n,children:t||n?Object(a.jsx)("div",{style:{width:"".concat(r,"px"),height:"100%"},children:Object(a.jsx)(xi,{className:"side-bar__inner",children:this.props.children})}):null}),Object(a.jsx)(Oi,{className:"side-bar__close",onClick:this._onOpenOrClose,"data-tip":!0,"data-for":"hide-show-layer-controls",children:Object(a.jsx)(Ha,{height:"12px",style:{transform:"rotate(".concat(t?180:0,"deg)")}})}),Object(a.jsx)(ra,{id:"hide-show-layer-controls",effect:"solid",place:"right",children:Object(a.jsx)("span",{children:"".concat(t?"Hide":"Show"," Controls")})})]})}}]),n}(r.Component);_i.defaultProps={width:300,minifiedWidth:0,isOpen:!0,onOpenOrClose:function(){}};var ki=_i;function wi(){var e=Object(Wt.a)(["\n  font-size: 1.5rem;\n  color: ",";\n"]);return wi=function(){return e},e}var Ci=Zt.default.div(wi(),(function(e){return e.theme.textColorHl})),Si=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.header,t="function"===typeof e?e:function(){return Object(a.jsx)(Ci,{children:e})};return Object(a.jsx)("div",{style:{padding:"20px"},children:Object(a.jsx)(t,{})})}}]),n}(r.Component);function Ni(){var e=Object(Wt.a)(["\n  padding: 0px 5px;\n  margin-bottom: 10px;\n  .item-selector__dropdown {\n    display: flex;\n    justify-content: center;\n  }\n  .item-selector__dropdown > span {\n    color: ",";\n    font-size: 1rem;\n    text-align: center;\n  }\n"]);return Ni=function(){return e},e}var Li=Zt.default.div(Ni(),(function(e){return e.theme.textColor})),Ai=function(e){var t=e.addLayer,n=e.layers;return Object(a.jsx)(Li,{children:Object(a.jsx)(vr,{placeholder:"Add A Layer",selectedItems:null,multiSelect:!1,searchable:!1,displayOption:function(e){return e},getOptionValue:function(e){return e},onChange:t,options:n.reduce((function(e,t){return t.active?e:[].concat(Object(m.a)(e),[t.name])}),[])})})};function Di(){var e=Object(Wt.a)(["\n  margin-left: ","px;\n  display: flex;\n  align-items: center;\n  color: ",";\n\n  :hover {\n    cursor: pointer;\n    color: ",";\n  }\n\n  &.disabled {\n    pointer-events: none;\n    opacity: 0.3;\n  }\n"]);return Di=function(){return e},e}var Pi=Zt.default.div(Di(),(function(e){return e.flush?0:8}),(function(e){return e.active?e.theme.panelHeaderIconActive:e.theme.panelHeaderIcon}),(function(e){return e.hoverColor?e.theme[e.hoverColor]:e.theme.textColorHl})),zi=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.tooltip,r=e.id,i=e.active,o=e.flush,s=e.hoverColor,c=e.tooltipType,l=e.disabled,u=e.className;return Object(a.jsxs)(Pi,{className:ua()("panel--header__action",Object(M.a)({disabled:l},u,u)),active:i,hoverColor:s,flush:o,children:[Object(a.jsx)(this.props.IconComponent,{"data-tip":!0,"data-for":"".concat(n,"_").concat(r),height:"18px",onClick:function(e){e.stopPropagation(),t(e)}}),n?Object(a.jsx)(ra,{id:"".concat(n,"_").concat(r),effect:"solid",delayShow:500,type:c,children:Object(a.jsx)("span",{children:n})}):null]})}}]),n}(r.Component);function Mi(){var e=Object(Wt.a)(["\n  color: ",";\n  display: inline-flex;\n  margin-left: 5px;\n  transition: color 0.15s;\n  :hover {\n    color: ",";\n  }\n"]);return Mi=function(){return e},e}function Bi(){var e=Object(Wt.a)(["\n  display: flex;\n"]);return Bi=function(){return e},e}function Fi(){var e=Object(Wt.a)(["\n  display: flex;\n  align-items: center;\n  opacity: 0;\n\n  :hover {\n    cursor: move;\n    color: ",";\n  }\n"]);return Fi=function(){return e},e}function Ii(){var e=Object(Wt.a)(["\n  margin-left: 12px;\n  .layer__title__type {\n    color: ",";\n    font-size: 10px;\n    line-height: 12px;\n    letter-spacing: 0.37px;\n    text-transform: capitalize;\n  }\n"]);return Ii=function(){return e},e}function Ti(){var e=Object(Wt.a)(["\n  display: flex;\n"]);return Ti=function(){return e},e}function Ei(){var e=Object(Wt.a)(["\n  display: flex;\n  color: ",";\n"]);return Ei=function(){return e},e}function Hi(){var e=Object(Wt.a)(["\n  .layer__remove-layer {\n    opacity: 0;\n  }\n  width: 100%;\n  :hover {\n    cursor: pointer;\n    background-color: ",";\n\n    .layer__drag-handle {\n      opacity: 1;\n    }\n\n    .layer__remove-layer {\n      opacity: 1;\n    }\n\n    .layer__enable-config {\n      color: white\n    }\n  }\n"]);return Hi=function(){return e},e}zi.defaultProps={onClick:function(){},hoverColor:null,active:!1};var Vi=Object(Zt.default)(sa)(Hi(),(function(e){return e.theme.panelBackgroundHover})),Ri=Zt.default.div(Ei(),(function(e){return e.theme.textColor})),Gi=Zt.default.div(Ti()),Ui=Zt.default.div(Ii(),(function(e){return e.theme.subtextColor})),Wi=Zt.default.div(Fi(),(function(e){return e.theme.textColorHl})),Zi=Zt.default.div(Bi()),$i=Zt.default.div(Mi(),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl})),Ki=function(e){var t=e.layer,n=e.actions,r=e.actionMap;return Object(a.jsx)(Zi,{children:n.map((function(e,n){return Object(a.jsxs)($i,{children:[Object(a.jsx)("div",{"data-tip":!0,"data-for":"action-bar-".concat(n),onClick:function(n){n.stopPropagation(),"function"===typeof e.action?e.action.call(t):r[e.action[0]].apply(r,[t.name].concat(Object(m.a)(e.action.slice(1))))},children:Object(a.jsx)(e.Icon,{})}),Object(a.jsx)(ra,{id:"action-bar-".concat(n),effect:"solid",delayShow:500,children:Object(a.jsx)("span",{children:e.tooltip})})]},n)}))})},qi=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",Object(c.a)(Object(c.a)({},this.props),{},{children:Object(a.jsx)("span",{className:"fa fa-close"})}))}}]),n}(i.a.Component),Yi=function(e){e.className;var t=e.isConfigActive,n=e.isDragNDropEnabled,r=e.isVisible,i=(e.label,e.layerType,e.layer),o=e.labelRCGColorValues,s=e.onToggleVisibility,c=(e.onUpdateLayerLabel,e.onToggleEnableConfig),l=e.onRemoveLayer,u=e.deleteDynamicLayer,d=e.showRemoveLayer,p=e.actionMap;return Object(a.jsxs)(Vi,{className:ua()("layer-panel__header",{"sort--handle":!t}),style:i.actions?{height:"32px"}:null,active:t,labelRCGColorValues:o,onClick:c,children:[Object(a.jsxs)(Ri,{className:"layer-panel__header__content",children:[n&&Object(a.jsx)(Wi,{className:"layer__drag-handle",children:Object(a.jsx)(Xa,{height:"20px"})}),Object(a.jsx)(zi,{className:"layer__visibility-toggle",id:i.name,tooltip:r?"hide layer":"show layer",onClick:s,IconComponent:r?Ra:Ga,active:r,flush:!0}),Object(a.jsx)(Ui,{className:"layer__title",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{lineHeight:i.actions?"16px":"26px"},children:i.name}),i.actions?Object(a.jsx)("div",{style:{lineHeight:"16px"},children:Object(a.jsx)(Ki,{actionMap:p,actions:i.actions,layer:i})}):null]})}),i.loading?Object(a.jsx)(zi,{className:"layer__loading-layer",id:i.name,tooltip:"Layer Loading",onClick:null,tooltipType:"error",IconComponent:Va}):null]}),Object(a.jsxs)(Gi,{className:"layer-panel__header__actions",children:[d?Object(a.jsx)(zi,{className:"layer__remove-layer",id:i.name,tooltip:"Remove layer",onClick:l,tooltipType:"error",IconComponent:qi}):null,i._isDynamic?Object(a.jsx)(zi,{className:"layer__remove-layer",id:i.name,tooltip:"Delete Dyanmic Layer",onClick:u,tooltipType:"error",IconComponent:Ya}):null,Object(a.jsx)(zi,{className:"layer__enable-config",id:i.name,tooltip:"Layer settings",onClick:c,IconComponent:Ea})]})]})};Yi.defaultProps={isDragNDropEnabled:!0,showRemoveLayer:!0,className:"",idx:1,isVisible:!0,layerId:1,layerType:"",labelRCGColorValues:[255,0,0],isConfigActive:!0,onToggleVisibility:function(){},onUpdateLayerLabel:function(){},onToggleEnableConfig:function(){},onRemoveLayer:function(){}};var Xi=Yi,Ji=function(e){var t=e.filter,n=e.setFilter;return Object(a.jsxs)(aa,{children:[Object(a.jsx)(na,{children:t.name}),Object(a.jsx)(vr,{selectedItems:t.value,options:t.domain,multiSelect:!1,searchable:!1,displayOption:function(e){return e.name?e.name:t.domain.reduce((function(t,n){return n.value===e?n.name:t}),e)},getOptionValue:function(e){return e.value?e.value:e},onChange:n,inputTheme:"secondary"})]})},Qi=function(e){var t=e.filter,n=e.setFilter;return Object(a.jsxs)(aa,{children:[Object(a.jsx)(na,{children:t.name}),Object(a.jsx)(oa,{type:"date",value:t.value,onChange:function(e){return n(e.target.value)}})]})},eo=n(424),to=n.n(eo);function no(){var e=Object(Wt.a)(["\n  line-height: 0;\n  height: ",";\n  margin-left: ","px;\n"]);return no=function(){return e},e}function ao(){var e=Object(Wt.a)(["\n  position: absolute;\n  display: none;\n"]);return ao=function(){return e},e}function ro(){var e=Object(Wt.a)(["\n  ","\n"]);return ro=function(){return e},e}function io(){var e=Object(Wt.a)(["\n  ",";\n"]);return io=function(){return e},e}function oo(){}var so=Zt.default.label(io(),(function(e){return e.secondary?e.theme.secondarySwitch:e.theme.inputSwitch})),co=Zt.default.label(ro(),(function(e){return e.theme.inputCheckbox})),lo=Zt.default.input(ao()),uo=Zt.default.div(no(),(function(e){return e.theme.switchBtnHeight}),(function(e){return e.theme.switchLabelMargin}));function po(){var e=Object(Wt.a)(["\n  width: 10px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  background-color: ",";\n  top: 50%;\n  border-radius: 2px;\n"]);return po=function(){return e},e}function ho(){var e=Object(Wt.a)(["\n  width: 100%;\n  height: 10px;\n  background-color: ",";\n  border-radius: 2px;\n  position: relative;\n"]);return ho=function(){return e},e}function fo(){var e=Object(Wt.a)(["\n  margin-bottom: 10px;\n"]);return fo=function(){return e},e}(function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={focused:!1},e.handleFocus=function(t){e.setState({focused:!0}),e.props.onFocus(t)},e.handleBlur=function(t){e.setState({focused:!1}),e.props.onBlur(t)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=Object(c.a)(Object(c.a)({},to()(this.props,["checked","disabled","id","onChange","value"])),{},{type:"checkbox",onFocus:this.handleFocus,onBlur:this.handleBlur}),t=Object(c.a)(Object(c.a)({},to()(this.props,["checked","disabled","secondary"])),{},{htmlFor:this.props.id}),n="checkbox"===this.props.type?co:so;return Object(a.jsxs)(uo,{className:"kg-checkbox",children:[Object(a.jsx)(lo,Object(c.a)({},e)),Object(a.jsx)(n,Object(c.a)(Object(c.a)({className:"kg-checkbox__label"},t),{},{children:this.props.label}))]})}}]),n}(r.Component)).defaultProps={disabled:!1,checked:!1,onBlur:oo,onChange:oo,onFocus:oo,label:""};var bo=Zt.default.div(fo()),mo=Zt.default.div(ho(),(function(e){return e.theme.sliderBarBgd})),vo=Zt.default.div(po(),(function(e){return e.theme.sliderHandleColor})),jo=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).track=null,e.state={dragging:!1,startX:0},e.dragStart=function(t){t.preventDefault(),document.addEventListener("mouseup",e.dragEnd),document.addEventListener("mousemove",e.drag),e.setState({dragging:!0})},e.drag=function(t){t.preventDefault();var n=t.movementX/e.track.offsetWidth*(e.props.max-e.props.min);e.props.onChange(Math.max(e.props.min,Math.min(e.props.max,n+e.props.value)))},e.dragEnd=function(t){document.removeEventListener("mouseup",e.dragEnd),document.removeEventListener("mousemove",e.drag),e.setState({dragging:!1})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.min,r=t.max,i=(t.value-n)/(r-n)*100;return Object(a.jsxs)(bo,{children:[Object(a.jsx)(na,{children:this.props.name}),Object(a.jsx)(mo,{ref:function(t){return e.track=t},children:Object(a.jsx)(vo,{style:{left:"".concat(i,"%")},onMouseDown:function(t){return e.dragStart(t)}})})]})}}]),n}(i.a.Component);jo.defaultProps={min:0,max:1,value:1,onChnage:function(){}};var go=jo;function yo(){var e=Object(Wt.a)(["\n  color: ",";\n  margin: 0px;\n  line-height: ",";\n  cursor: pointer;\n"]);return yo=function(){return e},e}function xo(){var e=Object(Wt.a)(["\n  background-color: ",";\n  transition: ",";\n  left: ",";\n"]);return xo=function(){return e},e}function Oo(){var e=Object(Wt.a)(["\n  background-color: ",";\n  left: ",";\n"]);return Oo=function(){return e},e}function _o(){var e=Object(Wt.a)(["\n  background-color: ",";\n  left: 0px;\n"]);return _o=function(){return e},e}function ko(){var e=Object(Wt.a)(["\n  width: ",";\n  height: ",";\n  position: absolute;\n  top: 0px;\n"]);return ko=function(){return e},e}function wo(){var e=Object(Wt.a)(["\n  position: absolute;\n  height: ",";\n  width: ","px;\n  right: 10px;\n"]);return wo=function(){return e},e}function Co(){var e=Object(Wt.a)(["\n  margin-top: 15px;\n  margin-bottom: 10px;\n  padding: 8px 10px;\n  position: relative;\n  display: flex;\n  background-color: ",";\n  transition: ",";\n  cursor: pointer;\n  border-radius: 2px;\n  :hover {\n    background-color: ",";\n  }\n"]);return Co=function(){return e},e}var So=Zt.default.div(Co(),(function(e){return e.theme.secondaryInputBgd}),(function(e){return e.theme.transition}),(function(e){return e.theme.secondaryInputBgdHover})),No=Zt.default.div(wo(),(function(e){return e.theme.switchBtnHeight}),(function(e){return 2*parseInt(e.theme.switchBtnWidth)})),Lo=Zt.default.div(ko(),(function(e){return e.theme.switchBtnWidth}),(function(e){return e.theme.switchBtnHeight})),Ao=Object(Zt.default)(Lo)(_o(),(function(e){return e.theme.activeColor})),Do=Object(Zt.default)(Lo)(Oo(),(function(e){return e.theme.switchTrackBgd}),(function(e){return e.theme.switchBtnWidth})),Po=Object(Zt.default)(Lo)(xo(),(function(e){return e.checked?e.theme.textColorHl:e.theme.textColor}),(function(e){return e.theme.transitionFast}),(function(e){return e.checked?e.theme.switchBtnWidth:0})),zo=Zt.default.label(yo(),(function(e){return e.theme.textColor}),(function(e){return e.theme.switchBtnHeight})),Mo=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)(So,{onClick:function(t){return e.props.onChange(!e.props.checked)},style:this.props.style,children:[Object(a.jsx)(zo,{children:this.props.label}),Object(a.jsxs)(No,{children:[Object(a.jsx)(Ao,{}),Object(a.jsx)(Do,{}),Object(a.jsx)(Po,{checked:this.props.checked})]})]})}}]),n}(i.a.Component);Mo.defaultProps={checked:!1};var Bo=Mo;function Fo(){var e=Object(Wt.a)(["\n  background-color: ",";\n  padding: 12px;\n"]);return Fo=function(){return e},e}function Io(){var e=Object(Wt.a)(["\n  margin-bottom: 12px;\n  border-radius: 1px;\n  .filter-panel__filter {\n    margin-top: 24px;\n  }\n"]);return Io=function(){return e},e}var To=Zt.default.div(Io()),Eo=Zt.default.div(Fo(),(function(e){return e.theme.panelBackground})),Ho=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.layer,n=t.filters;return Object(a.jsx)(To,{className:"filter-panel",children:Object(a.jsx)(Eo,{className:"filter-panel__content",children:Object.keys(n).map((function(r,i){var o=n[r],s=function(n){e.props.updateFilter(t.name,r,n)};return Object(a.jsx)("div",{children:function(e){if(!1===e.active)return null;switch(e.type){case"dropdown":case"single":return Object(a.jsx)(Ji,{setFilter:s,filter:e});case"multi":return Object(a.jsx)(jr,{setFilter:s,filter:e});case"hidden":return Object(a.jsx)("span",{});case"fetch":return Object(a.jsx)(ia,{onClick:function(){return s(null)},disabled:Boolean(e.disabled),style:{width:"100%"},secondary:!0,children:e.name});case"checkbox":return Object(a.jsx)(Bo,{label:e.name,checked:e.value,onChange:s});case"slider":return Object(a.jsx)(go,Object(c.a)(Object(c.a)({},e),{},{onChange:s}));case"date":return Object(a.jsx)(Qi,{setFilter:s,filter:e});default:return Object(a.jsxs)("span",{children:["Invalid Filter Type ",e.type]})}}(o)},i)}))})})}}]),n}(r.Component);function Vo(){var e=Object(Wt.a)(["\n  flex-grow: 1;\n"]);return Vo=function(){return e},e}function Ro(){var e=Object(Wt.a)(["\n  display: flex;\n  flex-grow: 1;\n  border-width: 1px;\n  border-style: solid;\n  border-color: ",";\n  padding: 4px;\n  border-radius: 4px;\n"]);return Ro=function(){return e},e}function Go(){var e=Object(Wt.a)(["\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  justify-content: space-between;\n  overflow: hidden;\n"]);return Go=function(){return e},e}var Uo=Zt.default.div(Go()),Wo=Zt.default.div(Ro(),(function(e){return e.isSelected?e.theme.inputBorderActiveColor:"transparent"})),Zo=Zt.default.div(Vo()),$o=function(e){var t=e.colors,n=e.height,r=e.className,i=e.isSelected,o=e.isReversed;return Object(a.jsx)(Wo,{className:"color-range-palette ".concat(r),isSelected:i,children:Object(a.jsx)(Uo,{className:"color-range-palette__inner",style:{height:n,transform:"scale(".concat(o?-1:1,", 1)")},children:t.map((function(e){return Object(a.jsx)(Zo,{className:"color-range-palette__block",style:{backgroundColor:e}},e)}))})})};$o.defaultProps={height:10,colors:[],className:"",isSelected:!1,isReversed:!1};var Ko=$o,qo=n(329),Yo=n.n(qo),Xo={},Jo=function(e){Yo.a.schemeGroups[e].forEach((function(t){var n=Yo.a[t];for(var a in n)a in Xo||(Xo[a]=[]),Xo[a].push({type:e,name:t,category:"Colorbrewer",colors:n[a]})}))};for(var Qo in Yo.a.schemeGroups)Jo(Qo);var es=Xo;function ts(){var e=Object(Wt.a)(["\n  background-color: ",";\n  margin-bottom: 5px;\n  border-radius: 1px;\n  padding-left: 12px;\n  padding-right: 12px;\n  .filter-panel__filter {\n    margin-top: 24px;\n  }\n"]);return ts=function(){return e},e}var ns=Zt.default.div(ts(),(function(e){return e.theme.sidePanelHeaderBg})),as=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleClickOutside=function(e){!1!==a.state.editing&&a.setState({editing:!1})},a._onSelectColor=function(e,t){t.stopPropagation(),a.props.colorSets[a.state.editing]&&a.props.colorSets[a.state.editing].setColor(e)},a._showDropdown=function(e){e.stopPropagation(),e.preventDefault(),a.setState({editing:!0})},a.state={editing:!1,length:e.layer.legend.range.length,isReversed:!1,type:e.layer.legend.type},a}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){(this.state.type!==this.props.layer.legend.type||"ordinal"===this.props.layer.legend.type&&this.state.length!==this.props.layer.legend.range.length)&&this.setState({length:this.props.layer.legend.range.length,type:this.props.layer.legend.type})}},{key:"render",value:function(){var e=this,t=this.props.layer.legend;return Object(a.jsxs)(ns,{children:[Object(a.jsxs)("div",{onClick:this._showDropdown.bind(this),children:[Object(a.jsx)(na,{children:"Legend Selector"}),Object(a.jsx)(Ko,{colors:t.range})]}),this.state.editing?Object(a.jsxs)(ca,{className:"color-selector__dropdown",style:{padding:"5px"},children:[Object(a.jsx)("div",{style:{height:"5px"}}),!t.types||t.types&&t.types.length<=1?null:Object(a.jsx)(Ji,{filter:{name:"Scale Type",domain:t.types,value:t.type},setFilter:function(t){return e.props.updateLegend(e.props.layer.name,{type:t})}}),"ordinal"===t.type?null:Object(a.jsx)(Ji,{filter:{name:"Steps",domain:Object.keys(es),value:this.state.length},setFilter:function(t){return e.setState({length:t})}}),P()(es,this.state.length,[]).map((function(n,r){return Object(a.jsxs)("div",{onClick:function(t){return e.props.updateLegend(e.props.layer.name,{range:n.colors.slice()})},"data-tip":!0,"data-for":"legend-color-item-".concat(n.name),style:{cursor:"pointer"},children:[Object(a.jsx)(Ko,{colors:n.colors,isReversed:e.state.isReversed,isSelected:Cn()(n.colors,t.range)}),Object(a.jsx)(ra,{id:"legend-color-item-".concat(n.name),effect:"solid",place:"right",delayShow:500,children:Object(a.jsx)("span",{children:n.name})})]},n.name)}))]}):null]})}}]),n}(r.Component),rs=Object(ha.a)(as);function is(){var e=Object(Wt.a)(["\n  width: 100%;\n  display: flex;\n  margin-bottom: 5px;\n  background-color: ",";\n"]);return is=function(){return e},e}function os(){var e=Object(Wt.a)(["\n  margin-bottom: 12px;\n  border-radius: 1px;\n  padding-left: 12px;\n  padding-right: 12px;\n  width: 100%;\n"]);return os=function(){return e},e}var ss=Zt.default.div(os()),cs=Zt.default.div(is(),(function(e){return e.theme.sidePanelHeaderBg})),ls=function(e){var t=e.layer,n=e.toggle;return Object(a.jsx)(ss,{children:Object(a.jsxs)(ia,{onClick:n,secondary:!0,small:!0,width:"100%",children:[t.modal.show?"Hide":"Show"," Modal"]})})},us=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={showConfig:!0},e}return Object(u.a)(n,[{key:"onDragStart",value:function(e,t,n){this.props.updateDrag({dragging:t})}},{key:"onDragOver",value:function(e,t){e.preventDefault(),this.props.updateDrag({dragover:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.layer,r=t.actionMap,i=t.index,o=this.state.showConfig;return Object(a.jsxs)("div",{children:[Object(a.jsx)(cs,{draggable:!0,onDragStart:function(t){return e.onDragStart(t,n.name,i)},onDragOver:function(t){return e.onDragOver(t,i)},className:"active-layer-container",children:Object(a.jsx)(Xi,{layer:n,onRemoveLayer:function(){e.props.removeLayer(n.name)},deleteDynamicLayer:function(){return e.props.deleteDynamicLayer(n.name)},onToggleVisibility:function(){e.props.toggleLayerVisibility(n.name)},isVisible:n._isVisible,onToggleEnableConfig:function(){e.setState({showConfig:!e.state.showConfig})},actionMap:r,showRemoveLayer:this.props.showRemoveLayer})}),o&&n.modal&&n.modal.controlButton?Object(a.jsx)(ls,{layer:n,toggle:function(t){return e.props.toggleModal(n.name)}}):null,o&&n.legend&&n.legend.active&&!1!==n.legend.legendSelector?Object(a.jsx)(rs,{layer:n,updateLegend:this.props.updateLegend}):null,o&&n.filters?Object(a.jsx)(Ho,{layer:n,updateFilter:this.props.updateFilter,fetchLayerData:this.props.fetchLayerData}):null]})}}]),n}(r.Component),ds=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDrop",value:function(e){this.props.dropLayer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.layers,r=t.activeLayers,i={};n.forEach((function(e){i[e.name]=e}));var o=r.map((function(t,n){return Object(a.jsx)(us,Object(c.a)({index:n,layer:i[t],showRemoveLayer:(!1!==i[t].removeableIfSingle||1!==r.length)&&!1!==i[t].removeable},e.props),t)}));return Object(a.jsx)("div",{className:"active-layer-container",style:{width:"100%",display:"flex",flexDirection:"column",padding:5},onDragOver:function(t){return e.onDragOver(t)},onDrop:function(t){return e.onDrop(t)},children:o.reverse()})}}]),n}(r.Component);function ps(){var e=Object(Wt.a)(["\n  background-color: ",";\n  color: ",";\n  cursor: pointer;\n  position: absolute;\n  left: ","px;\n  height: 40px;\n  width: calc(100% - ","px - 2px);\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  border-right: 2px solid ",";\n  transition: top 0.5s, color 0.15s, background-color 0.15s, border-color 0.15s;\n\n  &.selected.open {\n    border-right-color: ",";\n    color: ",";\n  }\n\n  :hover {\n    border-right-color: ",";\n    background-color: ",";\n    color: ",";\n  }\n\n  > * {\n    :first-child {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 60px;\n      height: 40px;\n    }\n    :last-child {\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      width: calc(100% - ","px);\n      padding-left: 10px;\n    }\n  }\n"]);return ps=function(){return e},e}function hs(){var e=Object(Wt.a)(["\n  position: relative;\n  width: 100%;\n  transition: height 0.5s;\n  background-color: ",";\n"]);return hs=function(){return e},e}var fs=10,bs=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.timeout=null,e}return Object(u.a)(n,[{key:"componentsWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"onSelect",value:function(e,t){if(e.stopPropagation(),!this.state.open)return this.toggleAccordion();t!==this.props.value&&this.props.onSelect(t),this.toggleAccordion()}},{key:"toggleAccordion",value:function(){var e=!this.state.open;this.setState({open:e})}},{key:"handleClickOutside",value:function(){this.state.open&&this.toggleAccordion()}},{key:"render",value:function(){var e=this,t=this.state.open,n=this.props,r=n.options,i=n.value;return Object(a.jsx)(vs,{style:{height:"".concat(t?40*r.length+10*(r.length-1)+20:60,"px")},children:r.map((function(n,r){var o=n.label,s=n.Icon;return Object(a.jsxs)(js,{hasIcon:Boolean(s),className:ua()({open:t,selected:o===i}),style:{top:"".concat(t?50*r+fs:fs,"px"),zIndex:o===i?10:5-r},onClick:function(t){return e.onSelect(t,o)},top:50*r+fs,children:[Boolean(s)?Object(a.jsx)("div",{children:Object(a.jsx)(s,{})}):null,Object(a.jsx)("div",{children:o})]},o)}))})}}]),n}(i.a.Component);bs.defaultProps={value:null,options:[],onSelect:function(){}};var ms=Object(ha.a)(bs),vs=Zt.default.div(hs(),(function(e){return e.theme.sidePanelHeaderBg})),js=Zt.default.div(ps(),(function(e){return e.theme.sidePanelBg}),(function(e){return e.theme.textColor}),fs,20,(function(e){return e.theme.sidePanelBg}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.panelBackgroundHover}),(function(e){return e.theme.panelBackgroundHover}),(function(e){return e.theme.textColorHl}),(function(e){return e.hasIcon?60:0}));function gs(){var e=Object(Wt.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  padding: 10px 10px 10px 10px;\n  color: ",";\n\n  > * {\n    padding: 5px;\n    cursor: pointer;\n    height: 30px;\n    width: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: color 0.15s, background-color 0.15s;\n\n    :hover {\n      color: ",";\n      background-color: ",";\n    }\n    &.active {\n      color: ",";\n      padding-bottom: 3px;\n      border-bottom: 2px solid ",";\n    }\n  }\n"]);return gs=function(){return e},e}function ys(){var e=Object(Wt.a)(["\n  ",";\n  flex-grow: 1;\n  padding: 0;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);return ys=function(){return e},e}var xs=Zt.default.div(ys(),(function(e){return e.theme.scrollBar})),Os=Zt.default.div(gs(),(function(e){return e.theme.inputPlaceholderColor}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.panelBackgroundHover}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.textColorHl})),_s=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={pages:[],activePage:P()(e.props,"pages[0].page",e.props.pages[0])},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.setState({pages:this.expandPages()})}},{key:"componentDidUpdate",value:function(e){Cn()(e.pages,this.props.pages)||this.setState({pages:this.expandPages()})}},{key:"setActivePage",value:function(e){this.setState({activePage:e})}},{key:"expandPages",value:function(){var e=this;return this.props.pages.map((function(t){return"layers"===t?{page:t,Icon:function(){return Object(a.jsxs)("div",{className:e.state.activePage===t?"active":"",onClick:function(){return e.setActivePage(t)},"data-tip":!0,"data-for":"layers-tooltip",children:[Object(a.jsx)($a,{width:"30px",height:"30px"}),Object(a.jsx)(ra,{place:"bottom",id:"layers-tooltip",effect:"solid",delayShow:500,children:Object(a.jsx)("span",{children:"Layer Controls"})})]})},Comp:function(){return Object(a.jsxs)(a.Fragment,{children:[e.props.layers.reduce((function(e,t){return e||!t.active}),!1)?Object(a.jsx)(Ai,Object(c.a)({},e.props)):null,Object(a.jsx)(ds,Object(c.a)({},e.props))]})}}:"basemaps"===t?{page:t,Icon:function(){return Object(a.jsxs)("div",{className:e.state.activePage===t?"active":"",onClick:function(){return e.setActivePage(t)},"data-tip":!0,"data-for":"basemap-tooltip",children:[Object(a.jsx)("span",{className:"fa fa-2x fa-map"}),Object(a.jsx)(ra,{place:"bottom",id:"basemap-tooltip",effect:"solid",delayShow:500,children:Object(a.jsx)("span",{children:"Basemap Selector"})})]})},Comp:function(){return Object(a.jsx)(ks,{style:e.props.style,setMapStyle:e.props.setMapStyle,styles:e.props.mapStyles})}}:Object(c.a)(Object(c.a)({},t),{},{Icon:function(){return Object(a.jsxs)("div",{className:e.state.activePage===t.page?"active":"",onClick:function(){return e.setActivePage(t.page)},"data-tip":!0,"data-for":"tooltip-".concat(t.page),children:[Object(a.jsx)(t.Icon,{}),Object(a.jsx)(ra,{place:"bottom",id:"tooltip-".concat(t.page),effect:"solid",delayShow:500,children:t.tooltip})]})},Comp:function(){return Object(a.jsx)(t.Comp,{map:e.props.map,layers:e.props.layers})}})}))}},{key:"render",value:function(){var e=this,t=this.state.pages;return Object(a.jsxs)(ki,{isOpen:this.props.isOpen,transitioning:this.props.transitioning,onOpenOrClose:this.props.onOpenOrClose,onTransitionStart:this.props.onTransitionStart,children:[this.props.header?Object(a.jsx)(Si,{header:this.props.header}):null,Object(a.jsx)(Os,{children:t.map((function(e){var t=e.page,n=e.Icon;return Object(a.jsx)(n,{},t)}))}),Object(a.jsx)(xs,{className:"sidebar-content",theme:this.props.theme,children:t.map((function(t,n){var r=t.page,i=t.Comp;return Object(a.jsx)("div",{style:{display:r===e.state.activePage?"block":"none"},children:Object(a.jsx)(i,{})},n)}))})]})}}]),n}(r.Component),ks=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"onSelect",value:function(e){var t=this.props.styles.reduce((function(t,n){return n.name===e?n:t}));this.props.setMapStyle(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.styles,r=t.style,i=n.map((function(e){var t=e.name,n=e.url;return{label:t,Icon:function(){return Object(a.jsx)("img",{src:n,alt:"basemap"})}}}));return Object(a.jsx)("div",{children:Object(a.jsx)(ms,{value:r.name,options:i,onSelect:function(t){return e.onSelect(t)}})})}}]),n}(i.a.Component);function ws(){var e=Object(Wt.a)(["\n  width: 20px;\n  height: ","px;\n"]);return ws=function(){return e},e}function Cs(){var e=Object(Wt.a)(["\n  color: ",";\n  display: inline-block;\n  text-align: right;\n"]);return Cs=function(){return e},e}function Ss(){var e=Object(Wt.a)(["\n  align-items: stretch;\n  flex-grow: 1;\n  height: 20px;\n"]);return Ss=function(){return e},e}function Ns(){var e=Object(Wt.a)(["\n  width: 100%;\n  display: flex;\n  color: ",";\n  border-radius: 4px;\n  overflow: hidden;\n"]);return Ns=function(){return e},e}function Ls(){var e=Object(Wt.a)(["\n  color: ",";\n"]);return Ls=function(){return e},e}function As(){var e=Object(Wt.a)(["\n  background-color: ",";\n  width: 100%;\n  padding: ",";\n"]);return As=function(){return e},e}var Ds=Zt.default.div(As(),(function(e){return e.theme.sidePanelHeaderBg}),(function(e){return"vertical"===e.align?"10px":"10px 10px 0px 10px"})),Ps=Zt.default.h5(Ls(),(function(e){return e.theme.textColorHl})),zs=function(e){var t=e.Title,n=e.layer;return Object(a.jsx)(Ps,{children:"function"===typeof t?Object(a.jsx)(t,{layer:n}):t})},Ms=Zt.default.div(Ns(),(function(e){return e.theme.textColor})),Bs=Zt.default.div(Ss()),Fs=Zt.default.div(Cs(),(function(e){return e.theme.textColor})),Is=Zt.default.div(ws(),(function(e){return e.height||20})),Ts=function(e){var t=e.type,n=e.format,r=e.scale,i=e.range,o=e.domain,s=e.subText,l=e.title,u=e.layer,d={width:100/("linear"===t?r.ticks(5).length:i.length)+"%"},p={width:s?100/("linear"===t?r.ticks(5).length:i.length)*Math.floor(("linear"===t?r.ticks(5).length:i.length)/s.length)+"%":"",textAlign:"center"},h={width:s?100/("linear"===t?r.ticks(5).length:i.length)*Math.floor(("linear"===t?r.ticks(5).length:i.length)/s.length)+100/("linear"===t?r.ticks(5).length:i.length)+"%":"",textAlign:"center"},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Object(a.jsx)(Fs,{style:s.length%2!==0&&e/Math.floor(i.length/s.length)===Math.floor(s.length/2)?Object(c.a)({},h):Object(c.a)({},p),children:t&&"number"===typeof r.invertExtent(t)[1]?s[e/Math.floor(i.length/s.length)]:null},e)};return Object(a.jsxs)(Ds,{align:"horizontal",children:[l?Object(a.jsx)(zs,{Title:l,layer:u}):null,Object(a.jsx)(Ms,{className:"legend-container",children:"linear"===t?r.ticks(5).map((function(e){return Object(a.jsx)(Bs,{style:Object(c.a)({backgroundColor:r(e)},d)},e)})):i.map((function(e,t){return Object(a.jsx)(Bs,{style:Object(c.a)({backgroundColor:e},d)},t)}))}),Object(a.jsx)("div",{style:{width:"100%",position:"relative",right:-3},children:"ordinal"===t?o.map((function(e){return Object(a.jsx)(Fs,{style:d,children:n(e)},e)})):"linear"===t?r.ticks(5).map((function(e){return Object(a.jsx)(Fs,{style:d,children:n(e)},e)})):i.map((function(e,t){return Object(a.jsx)(Fs,{style:d,children:"number"===typeof r.invertExtent(e)[1]?n(r.invertExtent(e)[1]):null},t)}))}),Object(a.jsx)("div",{style:{width:"100%",position:"relative",right:-3},children:s?"ordinal"===t?o.map((function(e,t){return t%Math.floor(r.ticks(5).length/s.length)===0?f(t):null})):"linear"===t?r.ticks(5).map((function(e,t){return t%Math.floor(r.ticks(5).length/s.length)===0?f(t):null})):i.map((function(e,t){return t%Math.floor(i.length/s.length)===0?f(t,e):null})):null})]})},Es=function(e){var t=e.type,n=e.format,r=e.scale,i=e.range,o=e.domain,s=e.title,c=e.layer;return i="linear"===t?r.ticks(5).map((function(e){return r(e)})):i,Object(a.jsxs)(Ds,{align:"vertical",children:[s?Object(a.jsx)(zs,{Title:s,layer:c}):null,Object(a.jsx)("table",{children:Object(a.jsx)("tbody",{children:"ordinal"===t?o.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(Is,{style:{backgroundColor:r(e)}})}),Object(a.jsx)("td",{style:{paddingLeft:"5px"},children:n(e)})]},e)})):"quantile"===t?i.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(Is,{height:40,style:{backgroundColor:e}})}),Object(a.jsx)("td",{children:"number"===typeof r.invertExtent(e)[1]?n(r.invertExtent(e)[1]):null})]},e)})):null})})]})},Hs=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getScale",value:function(){switch(this.props.type){case"ordinal":return $t.a();case"quantile":return Kt.a();case"quantize":return qt.a();case"threshold":return Yt.a();default:return Xt.a()}}},{key:"render",value:function(){var e=this.props,t=e.vertical,n=e.format,r=e.domain,i=e.range,o=this.getScale().domain(r).range(i);return"string"===typeof n&&(n=Jt.b(n)),t?Object(a.jsx)(Es,Object(c.a)(Object(c.a)({},this.props),{},{scale:o,format:n})):Object(a.jsx)(Ts,Object(c.a)(Object(c.a)({},this.props),{},{scale:o,format:n}))}}]),n}(r.Component);Hs.defaultProps={title:"",range:[],domain:[],type:"linear",format:function(e){return e},vertical:!1};var Vs=Hs;function Rs(){var e=Object(Wt.a)(["\n  ",";\n  flex-grow: 1;\n  padding: ","px;\n/*\n  overflow-y: auto;\n  overflow-x: hidden;\n*/\n  overflow: auto;\n  color: ",";\n\n  > * {\n    margin-bottom: 10px;\n  }\n  > *:last-child {\n    margin-bottom: 0px;\n  }\n"]);return Rs=function(){return e},e}function Gs(){var e=Object(Wt.a)(["\n  ",";\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  pointer-events: all;\n"]);return Gs=function(){return e},e}function Us(){var e=Object(Wt.a)(["\n  ",";\n  width: ","px;\n  z-index: 99;\n  display: flex;\n  position: absolute;\n  padding: 20px;\n  top: 0px;\n  right: 0px;\n  max-height: calc(100vh - 100px);\n  pointer-events: none;\n"]);return Us=function(){return e},e}function Ws(){var e=Object(Wt.a)(["\n  color: ",";\n  font-weight: bold;\n  font-size: 1.5rem;\n  line-height: 1.5rem;\n"]);return Ws=function(){return e},e}function Zs(){var e=Object(Wt.a)(["\n  color: ",";\n  font-weight: bold;\n  font-size: 1.5rem;\n  line-height: 1.5rem;\n"]);return Zs=function(){return e},e}function $s(){var e=Object(Wt.a)(["\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  padding: 5px 8px 8px 8px;\n  border-radius: 4px;\n  color: ",";\n  background-color: transparent;\n  transition: colors 0.15s, background-color 0.15s;\n\n  :hover {\n    color: ",";\n    background-color: ",";\n  }\n"]);return $s=function(){return e},e}function Ks(){var e=Object(Wt.a)(["\n  position: relative;\n  min-height: 25px;\n"]);return Ks=function(){return e},e}var qs=Zt.default.div(Ks()),Ys=Zt.default.span($s(),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.panelBackgroundHover})),Xs=Zt.default.div(Zs(),(function(e){return e.theme.inputPlaceholderColor})),Js=Zt.default.div(Ws(),(function(e){return e.theme.textColorHl})),Qs=Zt.default.div(Us(),(function(e){return e.theme.scrollBar}),(function(e){return e.isOpen?400:0})),ec=Zt.default.div(Gs(),(function(e){return e.theme.scrollBar}),(function(e){return e.theme.sidePanelBg})),tc=Zt.default.div(Rs(),(function(e){return e.theme.scrollBar}),(function(e){return e.isOpen?10:0}),(function(e){return e.theme.textColor})),nc=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={collapsedInfoBoxes:[]},e}return Object(u.a)(n,[{key:"toggleInfoBox",value:function(e){var t=this.state.collapsedInfoBoxes;t.includes(e)?this.setState({collapsedInfoBoxes:t.filter((function(t){return t!==e}))}):this.setState({collapsedInfoBoxes:[].concat(Object(m.a)(t),[e])})}},{key:"getToggleButton",value:function(e){return"fa fa-lg\n      ".concat(this.state.collapsedInfoBoxes.includes(e)?"fa-chevron-down":"fa-chevron-up","\n    ")}},{key:"render",value:function(){var e=this,t=this.props,n=t.layers,r=t.activeLayers,i=n.filter((function(e){return r.includes(e.name)})),o=i.reduce((function(e,t){return t.legend&&!1!==t.legend.active&&t.legend.domain.length?e.concat({legend:t.legend,layer:t}):e}),[]),s=i.reduce((function(e,t){return t.infoBoxes?e.concat(Object.keys(t.infoBoxes).map((function(e,n){return Object(c.a)(Object(c.a)({title:"".concat(t.name," ").concat(e)},t.infoBoxes[e]),{},{id:"".concat(t.name,"-").concat(e),layer:t})})).filter((function(e){return e.show}))):e}),[]),l=o.length||s.length;return Object(a.jsx)(Qs,{className:"sidebar-container",isOpen:l,children:Object(a.jsx)("div",{className:"sidebar",style:{alignItems:"stretch",flexGrow:1},children:Object(a.jsx)(ec,{className:"sidebar-inner",isOpen:l,children:Object(a.jsxs)(tc,{className:"sidebar-content",isOpen:l,children:[o.map((function(e,t){return Object(a.jsx)(Vs,Object(c.a)(Object(c.a)({},e.legend),{},{layer:e.layer}),t)})),s.map((function(t,n){return Object(a.jsxs)(qs,{children:[e.state.collapsedInfoBoxes.includes(t.id)?"function"===typeof t.title?Object(a.jsx)(Xs,{children:Object(a.jsx)(t.title,{layer:t.layer})}):Object(a.jsx)(Xs,{children:t.title}):Object(a.jsxs)(a.Fragment,{children:["function"===typeof t.title?Object(a.jsx)(Js,{children:Object(a.jsx)(t.title,{layer:t.layer})}):Object(a.jsx)(Js,{children:t.title}),Object(a.jsx)(t.comp,{layer:t.layer})]}),Object(a.jsx)(Ys,{className:e.getToggleButton(t.id),onClick:function(){return e.toggleInfoBox(t.id)}})]},n)}))]})})})})}}]),n}(r.Component);function ac(){var e=Object(Wt.a)(["\n  "," {\n    border-bottom: 2px solid ",";\n  }\n  ",":last-child {\n    border-bottom: none;\n  }\n"]);return ac=function(){return e},e}function rc(){var e=Object(Wt.a)(["\n  max-width: 400px;\n  margin: 10px;\n"]);return rc=function(){return e},e}function ic(){var e=Object(Wt.a)(["\n  color: ",";\n  font-size: 12px;\n  letter-spacing: 0.43px;\n  text-transform: capitalize;\n  padding-left: 14px;\n  padding-right: 14px;\n  margin-top: 12px;\n  svg {\n    margin-right: 4px;\n  }\n"]);return ic=function(){return e},e}function oc(){var e=Object(Wt.a)(["\n  position: absolute;\n  left: 50%;\n  transform: rotate(30deg);\n  top: 3px;\n  color: ",";\n  :hover {\n    cursor: pointer;\n    color: ",";\n  }\n"]);return oc=function(){return e},e}function sc(){var e=Object(Wt.a)(["\n  ","\n  font-size: 11px;\n  font-weight: 500;\n  background-color: ",";\n  color: ",";\n  z-index: 1001;\n  position: absolute;\n  overflow-x: auto;\n  max-height: 500px;\n  .gutter {\n    height: 6px;\n  }\n  table {\n    width: 100%;\n    tbody {\n      border-top: transparent;\n      border-bottom: transparent;\n    }\n    td {\n      border-color: transparent;\n      padding: 0px 4px;\n      color: ",";\n    }\n    td.row__value {\n      text-align: right;\n      font-weight: 500;\n      color: ",";\n    }\n  }\n"]);return sc=function(){return e},e}var cc=Zt.default.div(sc(),(function(e){return e.theme.scrollBar}),(function(e){return e.theme.panelBackground||"#fefefe"}),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl})),lc=Zt.default.div(oc(),(function(e){return e.theme.primaryBtnBgd}),(function(e){return e.theme.linkBtnColor})),uc=Object(Zt.default)(ta)(ic(),(function(e){return e.theme.textColorHl})),dc=Zt.default.div(rc()),pc=Zt.default.div(ac(),dc,(function(e){return e.theme.textColor}),dc),hc=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isMouseOver:!1,width:380,height:160,promise:null,data:["Loading..."]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this._setContainerSize()}},{key:"componentDidUpdate",value:function(){this._setContainerSize()}},{key:"_setContainerSize",value:function(){var e=this.popover;if(e){var t=Math.min(e.scrollWidth,400),n=Math.min(e.scrollHeight,600);t===this.state.width&&n===this.state.height||this.setState({width:t,height:n})}}},{key:"_getPosition",value:function(e,t){var n=this.props.mapSize,a=this.state,r=a.width,i=a.height,o={};return e+30+r>n.width?o.right=n.width-e+30:o.left=e+30,t+30+i>n.height?o.bottom=10:o.top=t+30,o}},{key:"render",value:function(){var e=this,t=this.props,n=t.pinned,r=t.data,i=t.pos;if(!r.length)return null;var o=!r.length&&!this.state.isMouseOver,s=Object(Z.a)(i,2),l=s[0],u=s[1],d=Number.isFinite(l)&&Number.isFinite(u)?this._getPosition(l,u):{},p="avl-blocked-popover"===r[0]?r.slice(1):[r];return Object(a.jsxs)(cc,{ref:function(t){e.popover=t},className:ua()("map-popover",{hidden:o}),style:Object(c.a)({},d),onMouseEnter:function(){return e.setState({isMouseOver:!0})},onMouseLeave:function(){return e.setState({isMouseOver:!1})},children:[n?Object(a.jsxs)("div",{className:"map-popover__top",children:[Object(a.jsx)(lc,{className:"popover-pin",onClick:function(t){return e.props.updatePopover(e.props.layer,{layer:null,pinned:!1,data:[]})},children:Object(a.jsx)(Ka,{height:"16px"})}),Object(a.jsx)("div",{style:{height:"10px"}})]}):null,Object(a.jsx)(pc,{children:p.map((function(e,t){return Object(a.jsxs)(dc,{children:[Array.isArray(e[0])?null:Object(a.jsxs)(uc,{className:"map-popover__layer-name",children:[Object(a.jsx)($a,{height:"12px"}),e[0]]}),Array.isArray(e[0])||!Array.isArray(e[0])&&e.length>1?Object(a.jsx)("table",{className:"map-popover__table",children:Object(a.jsx)("tbody",{children:e.slice(Array.isArray(e[0])?0:1).map(fc)})}):null]},t)}))})]})}}]),n}(r.Component),fc=function(e,t){return 2===e.length?Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"row__name",children:e[0]}),Object(a.jsx)("td",{className:"row__value",children:e[1]})]},"row2-"+t):Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:2,className:"row__value",children:e[0]})},"row1-"+t)},bc=hc,mc=n(1243);function vc(){var e=Object(Wt.a)(["\n\tdisplay: inline-block;\n\tcolor: ",";\n\tposition: absolute;\n\tright: 5px;\n\ttop: 5px;\n\tcursor: pointer;\n\tpadding: 0px 4px 0px 4px;\n\tborder-radius: 4px;\n\n\t:hover {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t}\n"]);return vc=function(){return e},e}function jc(){var e=Object(Wt.a)(["\n\tposition: absolute;\n\tbottom: 5px;\n\tright: 5px;\n\twidth: 25px;\n\theight: 25px;\n\tborder-right: 2px solid ",";\n\tborder-bottom: 2px solid ",";\n\tz-index: 50;\n\ttransition: color 0.15s, background-color 0.15s;\n\n\t:hover {\n\t\tborder-right: 3px solid ",";\n\t\tborder-bottom: 3px solid ",";\n\t}\n"]);return jc=function(){return e},e}function gc(){var e=Object(Wt.a)(["\n\tposition: absolute;\n\ttop: 5px;\n\tleft: 5px;\n\tborder-radius: 4px;\n\tcolor: ",";\n\tz-index: 50;\n\ttransition: color 0.15s, background-color 0.15s;\n\n\tsvg {\n\t\tdisplay: block;\n\t}\n\n\t:hover {\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t}\n"]);return gc=function(){return e},e}function yc(){var e=Object(Wt.a)(["\n\t",";\n\toverflow: auto;\n\twidth: 100%;\n\theight: 100%;\n\tpadding-top: 35px;\n"]);return yc=function(){return e},e}function xc(){var e=Object(Wt.a)(["\n\tposition: absolute;\n\tz-index: 500;\n\tbackground-color: ",";\n\tcolor: ",";\n"]);return xc=function(){return e},e}var Oc=Zt.default.div(xc(),(function(e){return e.theme.sidePanelBg}),(function(e){return e.theme.textColor})),_c=Zt.default.div(yc(),(function(e){return e.theme.scrollBar})),kc=Zt.default.div(gc(),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.panelBackgroundHover})),wc=Zt.default.div(jc(),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.textColorHl})),Cc=Zt.default.div(vc(),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.panelBackgroundHover})),Sc=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).container=null,e.dragHandle=null,e.resizeHandle=null,e.state={pos:[0,0],dragging:!1,resizing:!1,prevPos:[0,0],size:Object(m.a)(e.props.startSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;nt.a(this.dragHandle).on("mousedown.avl",(function(){return e.startDragOrResize("dragging")}),{bubbles:!1}),nt.a(this.resizeHandle).on("mousedown.avl",(function(){return e.startDragOrResize("resizing")}),{bubbles:!1}),this.setState((function(t,n){if(!e.container)return null;if(e.resizeOnIdChange())return null;var a=Object(Z.a)(t.size,2),r=a[0],i=a[1],o=e.container.parentElement,s=o.clientWidth,c=o.clientHeight;if("string"!==typeof n.startPos)return{pos:Object(m.a)(n.startPos)};switch(n.startPos){case"top":return{pos:[.5*s-.5*r,20]};case"bottom":return{pos:[.5*s-.5*r,c-i-20]};case"bottom-right":return{pos:[s-r-50,c-i-20]};default:return{pos:Object(m.a)(n.startPos)}}}))}},{key:"componentWillUnmount",value:function(){nt.a(document.body).on("mousemove.avl",null).on("mouseleave.avl",null).on("mouseup.avl",null)}},{key:"resizeOnIdChange",value:function(e){if(this.props.show&&this.props.resizeOnIdChange&&P()(e,"meta.id",void 0)!==P()(this.props,"meta.id",void 0)){var t=Object(m.a)(P()(this.props,"meta.startSize",this.state.size)),n=P()(this.props,"meta.startPos",this.props.startPos),a=Object(m.a)(this.state.pos),r=Object(Z.a)(t,2),i=r[0],o=r[1],s=this.container.parentElement,c=s.clientWidth,l=s.clientHeight;if("string"===typeof n)switch(n){case"top":a=[.5*c-.5*i,20];break;case"bottom":a=[.5*c-.5*i,l-o-20];break;case"bottom-right":a=[c-i-50,l-o-20];break;default:a=Object(m.a)(n)}else a=Object(m.a)(n);return this.setState({size:t,pos:a}),!0}return!1}},{key:"componentDidUpdate",value:function(e){this.resizeOnIdChange(e)}},{key:"startDragOrResize",value:function(e,t){var n;nt.a(document.body).on("mousemove.avl",this.dragOrResize.bind(this)).on("mouseleave.avl",this.endDragOrResize.bind(this)).on("mouseup.avl",this.endDragOrResize.bind(this)),t.stopPropagation(),t.preventDefault();var a=mc.a(document.body);this.setState((n={},Object(M.a)(n,e,!0),Object(M.a)(n,"prevPos",a),n))}},{key:"dragOrResize",value:function(e){at.b.stopPropagation(),at.b.preventDefault();var t=Object(Z.a)(this.state.prevPos,2),n=t[0],a=t[1],r=mc.a(document.body),i=Object(Z.a)(r,2),o=i[0],s=i[1];if(this.state.dragging){var c=Object(Z.a)(this.state.pos,2),l=c[0],u=c[1],d={pos:[Math.max(0,l+(o-n)),Math.max(0,u+(s-a))],prevPos:[o,s]};this.setState(d)}else if(this.state.resizing){var p=Object(Z.a)(this.state.size,2),h=p[0],f=p[1],b=this.props,m=b.minWidth,v=b.minHeight,j={size:[Math.max(m,h+(o-n)),Math.max(v,f+(s-a))],prevPos:[o,s]};this.setState(j)}}},{key:"endDragOrResize",value:function(){nt.a(document.body).on("mousemove.avl",null).on("mouseleave.avl",null).on("mouseup.avl",null),at.b.stopPropagation(),at.b.preventDefault(),this.setState({dragging:!1,resizing:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=Object(Z.a)(t.pos,2),r=n[0],i=n[1],o=Object(Z.a)(t.size,2),s=o[0],c=o[1];return Object(a.jsxs)(Oc,{style:{left:"".concat(Math.max(0,r),"px"),top:"".concat(Math.max(0,i),"px"),width:"".concat(s,"px"),height:"".concat(c,"px"),display:this.props.show?"block":"none"},ref:function(t){return e.container=t},children:[Object(a.jsx)(_c,{children:this.props.children}),Object(a.jsxs)(Cc,{onClick:this.props.onClose,children:[Object(a.jsx)("span",{className:"fa fa-2x fa-close","data-tip":!0,"data-for":"close-modal-btn"}),Object(a.jsx)(ra,{id:"close-modal-btn",effect:"solid",delayShow:500,children:Object(a.jsx)("span",{children:"Close Modal"})})]}),Object(a.jsx)(kc,{ref:function(t){return e.dragHandle=t},style:{cursor:this.state.dragging?"grabbing":"grab"},onMouseDown:function(e){return e.stopPropagation()},children:Object(a.jsx)(Xa,{height:"26px"})}),Object(a.jsx)(wc,{ref:function(t){return e.resizeHandle=t},style:{cursor:"nwse-resize"}})]})}}]),n}(i.a.Component);function Nc(){var e=Object(Wt.a)(["\n\tdisplay: block;\n\tposition: absolute;\n\ttop: 10px;\n\tleft: 40px;\n\tfont-size: 1.25rem;\n\tcolor: ",";\n"]);return Nc=function(){return e},e}function Lc(){var e=Object(Wt.a)(["\n\t",";\n\t/*background-color: ",";*/\n\tdisplay: inline-flex;\n\tposition: relative;\n\tpointer-events: all;\n\tpadding: 0px 20px 20px 20px;\n\t/*overflow: auto;*/\n\twidth: 100%;\n\theight: 100%;\n"]);return Lc=function(){return e},e}Sc.defaultProps={startPos:"bottom",startSize:[800,500],minWidth:200,minHeight:200,onClose:function(){},meta:null,resizeOnIdChange:!1};var Ac=Zt.default.div(Lc(),(function(e){return e.theme.scrollBar}),(function(e){return e.theme.panelBackground})),Dc=Zt.default.div(Nc(),(function(e){return e.theme.textColorHl})),Pc=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).MODAL_ID=void 0,e}return Object(u.a)(n,[{key:"close",value:function(e,t){var n=t.layerName,a=t.modalName;e.preventDefault(),e.stopPropagation(),this.props.toggleModal(n,a)}},{key:"render",value:function(){var e=this,t=this.props.layers.filter((function(t){return e.props.activeLayers.includes(t.name)})).reduce((function(e,t){var n=null;if(t.modals)for(var a in t.modals)t.modals[a].show&&(n=Object(c.a)(Object(c.a)({},t.modals[a]),{},{id:"".concat(t.name,"-").concat(a),layerName:t.name,modalName:a,props:t.modals[a].props||{},layer:t,startSize:t.modals[a].startSize||[800,500],startPos:t.modals[a].position||"bottom"}));return n||e}),{});return Boolean(t.comp)&&(this.MODAL_ID=t.id),Object(a.jsxs)(Sc,{show:Boolean(t.comp),onClose:function(n){return e.close(n,t)},meta:{id:this.MODAL_ID,startSize:t.startSize,startPos:t.startPos},resizeOnIdChange:!0,children:[t.title&&Object(a.jsx)(Dc,{children:t.title}),Object(a.jsx)(Ac,{children:Boolean(t.comp)?Object(a.jsx)(t.comp,Object(c.a)(Object(c.a)({},t.props),{},{layer:t.layer})):null})]})}}]),n}(i.a.Component);function zc(){var e=Object(Wt.a)(["\n  position: relative;\n  width: 44px;\n  height: 44px;\n  margin-left: -2px;\n"]);return zc=function(){return e},e}function Mc(){var e=Object(Wt.a)(["\n  width: 44px;\n  height: 44px;\n  border-radius: 4px;\n  overflow: hidden;\n  background-color: #999;\n  position: absolute;\n  cursor: pointer;\n  border: 2px solid #999;\n  border-color: ",";\n  :hover {\n    border-color: #fff;\n  }\n"]);return Mc=function(){return e},e}var Bc=Zt.default.div(Mc(),(function(e){return e.showActive?"#fff":"#999"})),Fc=Zt.default.div(zc()),Ic=function(e){var t=e.mapStyles,n=e.style,r=e.getStaticImageUrl,o=e.setMapStyle,s=i.a.useState(!1),l=Object(Z.a)(s,2),u=l[0],d=l[1],p=i.a.useCallback((function(e){u?(o(e),d(!1)):d(!0)}),[u]),h=t.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{url:r(e.style.slice(23),[40,40]),active:e.name===n.name})}));return Object(a.jsx)(Fc,{children:h.map((function(e,t){return Object(a.jsxs)(Bc,{showActive:u&&e.active,"data-tip":!0,"data-for":e.name,style:{top:"0px",left:u?"".concat(50*t,"px"):"0px",zIndex:e.active?100:0,transition:"left 0.25s"},onClick:function(t){return p(e)},children:[Object(a.jsx)("img",{src:e.url}),Object(a.jsx)(ra,{id:e.name,effect:"solid",place:"top",children:Object(a.jsx)("span",{children:e.name})})]},e.name)}))})};function Tc(){var e=Object(Wt.a)(["\n\tposition: relative;\n\n\tcolor: #ccc;\n\tbackground-color: #999;\n  border: 2px solid #999;\n\n\twidth: 40px;\n\theight: 40px;\n\tborder-radius: 20px;\n\n\tmargin-top 10px;\n\t:first-child {\n\t\tmargin-top 0px;\n\t}\n\n\tdisplay: flex;\n  justify-content: center;\n  align-items: center;\n\n  cursor: pointer;\n\n  transition: border-color 0.15s, color 0.15s, background-color 0.15s;\n\n  :hover {\n  \tborder: 2px solid #fff;\n\t\tcolor: #fff;\n\t\tbackground-color: #aaa;\n  }\n  &.disabled {\n  \tpointer-events: all;\n  \tcursor: not-allowed;\n  \tcolor: #aaa;\n\t\tbackground-color: #888;\n\t\tborder-color: #888;\n  }\n  &.disabled:hover {\n  \tborder-color: ",";\n  }\n\n\tsvg {\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tborder-radius: 20px;\n\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\ttop: -2px;\n\t\tleft: -2px;\n\n\t\tline {\n\t\t\tstroke: ",";\n\t\t\tstroke-width: 4px;\n\t\t\ttransition: stroke 0.15s;\n\t\t}\n\t\t:hover line {\n\t\t\tstroke: ",";\n\t\t}\n\t}\n"]);return Tc=function(){return e},e}function Ec(){var e=Object(Wt.a)(["\n\tposition: absolute;\n\ttop: ","px;\n\tleft: ","px;\n\ttransition: left 0.25s;\n\tz-index: 50;\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return Ec=function(){return e},e}var Hc=Zt.default.div(Ec(),(function(e){return e.sidebar?50:20}),(function(e){return e.sidebar&&e.isOpen?340:e.sidebar&&!e.isOpen?40:20})),Vc=Zt.default.div(Tc(),(function(e){return e.theme.errorColor}),(function(e){return e.theme.errorColor}),(function(e){return e.theme.errorColor})),Rc=function(){},Gc=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).MOUNTED=!1,e.state={waitingActions:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.MOUNTED=!0}},{key:"componentWillUnmount",value:function(){this.MOUNTED=!1}},{key:"doAndPauseAction",value:function(e,t,n,a){var r=this;n(e);var i=[].concat(Object(m.a)(this.state.waitingActions),[a]);this.setState({waitingActions:i}),setTimeout((function(){var e=r.state.waitingActions.filter((function(e){return e!==a}));r.MOUNTED&&r.setState({waitingActions:e})}),t)}},{key:"render",value:function(){var e=this,t=this.props.layers.filter((function(t){return e.props.activeLayers.includes(t.name)})).reduce((function(t,n){return n.active&&t.push.apply(t,Object(m.a)(Object.keys(n.mapActions).map((function(t){var a="".concat(n.name,"-").concat(t),r=n.mapActions[t],i=r.action,o=void 0===i?Rc:i,s=r.disabled,l=void 0!==s&&s,u=r.disableFor,d=void 0===u?0:u,p=Object(Ne.a)(r,["action","disabled","disableFor"]),h=l||e.state.waitingActions.includes(a),f=Rc.bind(n);if(Array.isArray(o)){var b,v=o[0];if(v in e.props.actionMap)f=(b=e.props.actionMap[v]).bind.apply(b,[n,n.name].concat(Object(m.a)(o.slice(1))))}else f=o.bind(n);return Object(c.a)({action:d?function(t){return e.doAndPauseAction(t,d,f,a)}:f,id:a,layer:n,disabled:h},p)})))),t}),[]);return Object(a.jsxs)(Hc,{sidebar:this.props.sidebar,isOpen:this.props.isOpen,children:[this.props.showStyleControl?Object(a.jsx)(Ic,{setMapStyle:this.props.actionMap.setMapStyle,getStaticImageUrl:this.props.getStaticImageUrl,mapStyles:this.props.mapStyles,style:this.props.style}):null,this.props.showMapActions?t.map((function(e){var t=e.Icon,n=e.id,r=e.tooltip,i=e.action,o=e.disabled,s=e.layer;return Object(a.jsxs)(Vc,{"data-tip":!0,"data-for":n,onClick:o?null:i,className:ua()({disabled:o}),children:[Object(a.jsx)(t,{layer:s}),Object(a.jsx)(ra,{id:n,effect:"solid",place:"right",children:Object(a.jsx)("span",{children:"function"===typeof r?r({layer:s}):r})}),o?Object(a.jsx)("svg",{children:Object(a.jsx)("line",{x1:"40",x2:"0",y1:"0",y2:"40"})}):null]},n)})):null]})}}]),n}(i.a.Component);function Uc(){var e=Object(Wt.a)(["\n\tposition: absolute;\n\ttop: 10px;\n\tright: 10px;\n\tpadding: 5px;\n\twidth: 30px;\n\theight: 30px;\n\tdisplay: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px;\n\tcolor: ",";\n\tbackground-color: ",";\n  transition: background-color 0.15s, color 0.15s;\n\n  :hover {\n  \tbackground-color: ",";\n  \tcolor: ",";\n  }\n"]);return Uc=function(){return e},e}function Wc(){var e=Object(Wt.a)(["\n\tpointer-events: all;\n\n\tposition: absolute;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\n\tmin-width: 400px;\n\tdisplay: inline-block;\n\tpadding: 15px 50px 15px 15px;\n\tcolor: ",";\n\tbackground-color: ",';\n\ttext-align: left;\n\tborder-radius: 4px;\n\n\tfont-size: 1rem;\n\n\t&.confirm {\n\t\tpadding-right: 15px;\n\n\t\t.confirm-buttons-div {\n\t\t\tmargin-top: 5px;\n\t\t\tbutton:first-child {\n\t\t\t\tfloat: left;\n\t\t\t}\n\t\t\tbutton:last-child {\n\t\t\t\tfloat: right;\n\t\t\t}\n\t\t}\n\t\t.confirm-buttons-div::after {\n\t\t\tcontent: "";\n\t\t\tclear: both;\n\t\t\tdisplay: table;\n\t\t}\n\t}\n\n\t@keyframes entering {\n\t\tfrom {\n\t\t\ttop: -',"px;\n\t\t\ttransform: translateX(-50%) scale(0.25, 0.25);\n\t\t}\n\t\tto {\n\t\t\ttop: ","px;\n\t\t\ttransform: translateX(-50%) scale(1, 1);\n\t\t}\n\t}\n\t&.entering {\n\t\tanimation: entering 1.0s;\n\t\ttransition: top 1.0s;\n\t}\n\n\t@keyframes dismissing {\n\t\tfrom {\n\t\t\ttop: ","px;\n\t\t\ttransform: translateX(-50%) scale(1, 1);\n\t\t}\n\t\tto {\n\t\t\ttop: -","px;\n\t\t\ttransform: translateX(-50%) scale(0.25, 0.25);\n\t\t}\n\t}\n\t&.dismissing {\n\t\tanimation: dismissing 1.0s;\n\t\ttransition: top 1.0s;\n\t}\n\n"]);return Wc=function(){return e},e}function Zc(){var e=Object(Wt.a)(["\n\tleft: 0px;\n\ttop: 0px;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 50;\n\tpointer-events: none;\n\toutline: 0;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\n\t> * {\n\t\ttransition: top 0.5s;\n\t}\n"]);return Zc=function(){return e},e}var $c=Zt.default.div(Zc()),Kc=Zt.default.div(Wc(),(function(e){return e.theme.textColor}),(function(e){return e.theme.sidePanelBg}),(function(e){return e.height}),(function(e){return e.top}),(function(e){return e.top}),(function(e){return e.height})),qc=Zt.default.div(Uc(),(function(e){return e.theme.textColor}),(function(e){return e.theme.sidePanelBg}),(function(e){return e.theme.textColor}),(function(e){return e.theme.sidePanelBg})),Yc=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={dismissing:new Map,timeouts:new Map,heights:new Map},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.messages.length>e.messages.length){var n=this.props.messages.length,a=this.props.messages[n-1],r=new Map(this.state.timeouts);a.duration&&(r.set(a.id,setTimeout((function(){return t.readyDismiss(a.id)}),a.duration)),this.setState({timeouts:r}))}else this.props.messages.length!==e.messages.length||Cn()(e.messages.map((function(e){return{id:e.id,update:e.update}})),this.props.messages.map((function(e){return{id:e.id,update:e.update}})))||this.props.messages.forEach((function(n){var a=n.update,r=n.id,i=n.duration;if(e.messages.find((function(e){return e.id===r})).update!==a&&i){var o=new Map(t.state.timeouts);clearTimeout(o.get(r)),o.set(r,setTimeout((function(){return t.readyDismiss(r)}),i)),t.setState({timeouts:o})}}))}},{key:"readyDismiss",value:function(e){var t=this.props.messages.findIndex((function(t){return t.id===e}));this.dismiss(e,t)}},{key:"dismiss",value:function(e,t){var n=this;clearTimeout(this.state.timeouts.get(e)),this.state.timeouts.delete(e);var a=this.props.messages.find((function(t){return t.id===e}));this.props.dismiss(e),this.state.heights.delete(e),e="".concat(e,"-dismissing");var r=new Map([].concat(Object(m.a)(this.state.dismissing),[[e,{timeout:setTimeout((function(){return n.clear(e)}),1e3),message:Object(c.a)(Object(c.a)({},a),{},{id:e}),i:t}]]));this.setState({dismissing:r})}},{key:"clear",value:function(e){var t=this.state.dismissing;t.delete(e),this.setState({dismissing:new Map(t)})}},{key:"reportHeight",value:function(e,t){var n=new Map([].concat(Object(m.a)(this.state.heights),[[e,t]]));this.setState({heights:n})}},{key:"getHeight",value:function(e){return this.state.heights.get(e)||0}},{key:"render",value:function(){var e=this,t=this.state.dismissing,n=this.props.messages,r=Object(m.a)(n);t.forEach((function(e,t){r.splice(e.i,0,e.message)}));var i=0,o=function(t,n){var a=e.getHeight(t),r=i+10;return n||(i+=a+10),r};return Object(a.jsx)($c,{children:r.map((function(r,i){var s=r.id,l=Object(Ne.a)(r,["id"]);return Object(a.jsx)(Jc,Object(c.a)(Object(c.a)({id:s},l),{},{dismissing:t.has(s),dismiss:function(t){return e.readyDismiss(t)},zIndex:n.length-i-(t?n.length:0),reportHeight:e.reportHeight.bind(e),height:e.getHeight(s),top:o(s,t.has(s))}),s)}))})}}]),n}(i.a.Component);Yc.defaultProps={messages:[]};var Xc=Yc,Jc=function(e){var t=Object.assign({},e);return t.onConfirm?Object(a.jsx)(el,Object(c.a)({},t)):Object(a.jsx)(Qc,Object(c.a)({},t))},Qc=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).comp=null,e.timeout=null,e.state={entering:!e.props.dismissing},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.checkHeight(),this.state.entering&&(this.timeout=setTimeout((function(){return e.setState({entering:!1})}),1e3))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"componentDidUpdate",value:function(e){this.checkHeight()}},{key:"checkHeight",value:function(){var e=this.comp;if(e){var t=e.clientHeight;t!==this.props.height&&this.props.reportHeight(this.props.id,t)}}},{key:"renderMessage",value:function(){var e=this.props,t=e.Message,n=e.dismiss,r=e.layer,i=e.id;return Object(a.jsxs)(a.Fragment,{children:["function"===typeof t?Object(a.jsx)(t,{layer:r}):t,Object(a.jsx)(qc,{onClick:function(){return n(i)},children:Object(a.jsx)("span",{className:"fa fa-lg fa-close"})})]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dismissing,r=t.zIndex,i=t.height,o=t.top,s=t.onConfirm,c=this.state.entering,l=Boolean(s);return Object(a.jsx)(Kc,{className:ua()({dismissing:n,entering:c,confirm:l}),ref:function(t){return e.comp=t},height:i,style:{zIndex:r,top:"".concat(o,"px")},children:this.renderMessage()})}}]),n}(i.a.Component),el=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderMessage",value:function(){var e=this.props,t=e.Message,n=e.dismiss,r=e.onConfirm,i=e.layer,o=e.id;return Object(a.jsxs)(a.Fragment,{children:["function"===typeof t?Object(a.jsx)(t,{layer:i}):t,Object(a.jsxs)("div",{className:"confirm-buttons-div",children:[Object(a.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return n(o)},children:"Dismiss"}),Object(a.jsx)("button",{className:"btn btn-sm btn-outline-success",onClick:function(){r(),n(o)},children:"Confirm"})]})]})}}]),n}(Qc),tl=function(e){var t=e.scale,n=void 0===t?1:t,r=100*n;return Object(a.jsx)("div",{style:{position:"relative",width:"".concat(r,"px"),height:"".concat(r,"px")},children:Object(a.jsx)("div",{style:{transform:"translate(-".concat(50-.5*r,"%, -").concat(50-.5*r,"%) scale(").concat(n,", ").concat(n,")"),width:"100px",height:"100px"},children:Object(a.jsxs)("svg",{width:"100",height:"100",children:[Object(a.jsx)("path",{fill:"#005bcc",d:"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3 c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z",children:Object(a.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"2s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})}),Object(a.jsx)("path",{fill:"#005bcc",d:"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7 c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z",children:Object(a.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"-360 50 50",repeatCount:"indefinite"})}),Object(a.jsx)("path",{fill:"#005bcc",d:"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5 L82,35.7z",children:Object(a.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"2s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})})]})})})},nl=(n(1037),new Map),al=function e(t,n,a,r,i){Object(l.a)(this,e),this.type="FilterMessage",this.layerName=t,this.filterName=n,this.oldValue=a,this.newValue=r,this.data=i},rl=function(e,t){if(console.log("<LayerMessageSystem.dispatchMessage>",e,t),nl.has(e)){var n,a=Object(Sn.a)(nl.get(e));try{for(a.s();!(n=a.n()).done;){n.value.receiveLayerMessage(t)}}catch(r){a.e(r)}finally{a.f()}}};function il(){var e=Object(Wt.a)(["\n\tposition: absolute;\n\tbottom: 20px;\n\tleft: ","px;\n\ttransition: left 0.25s;\n\tz-index: 50;\n\tdisplay: flex;\n\tflex-direction: column;\n  pointer-events: none;\n  color: ",";\n  outline: 0;\n\n\n  > * {\n    margin-bottom: 10px;\n    min-width: 300px;\n    background-color: ",";\n    border-radius: 4px;\n    border-top-right-radius: ","px;\n    border-bottom-right-radius: ","px;\n    font-size: 1rem;\n  }\n\t> *:last-child {\n\t\tmargin-bottom: 0px;\n\t}\n"]);return il=function(){return e},e}var ol=0,sl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unique-id";return"".concat(e,"-").concat(++ol)},cl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[60,40];return"https://api.mapbox.com/styles/v1/am3081/".concat(e,"/static/")+"".concat(-74.2179,",",43.2994,",1.5/").concat(t.join("x"),"?")+"attribution=false&logo=false&access_token=".concat(fi.a.accessToken)},ll=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={id:a.props.id||sl("avl-map"),map:null,dynamicLayers:[],activeLayers:[],sources:{},popover:{pos:[0,0],pinned:!1,data:[],layer:null},dragPan:!0,dragging:null,dragover:null,width:0,height:0,messages:[],isOpen:!0,transitioning:!1,style:e.styles.reduce((function(t,n){return n.name===e.styleName||n.name===e.style?n:t}),e.styles[0])},a.MOUNTED=!1,fi.a.accessToken=e.MAPBOX_TOKEN,a.container=i.a.createRef(),a}return Object(u.a)(n,[{key:"testFunc",value:function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];(e=console).log.apply(e,["TEST FUNCTION:"].concat(Object(m.a)([].concat(n).map((function(e){return e.toString()})))))}}]),Object(u.a)(n,[{key:"setState",value:function(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];this.MOUNTED&&(e=Object(di.a)(Object(pi.a)(n.prototype),"setState",this)).call.apply(e,[this].concat(a))}},{key:"forceUpdate",value:function(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];this.MOUNTED&&(e=Object(di.a)(Object(pi.a)(n.prototype),"forceUpdate",this)).call.apply(e,[this].concat(a))}},{key:"componentDidMount",value:function(){var e=this;this.MOUNTED=!0;var t=this.props,a=t.center,r=t.minZoom,i=t.zoom,o=t.mapControl,s=t.preserveDrawingBuffer,c=t.style,l=this.state.id,u=new fi.a.Map({container:l,style:/^mapbox:\/\/styles\//.test(c)?c:this.state.style.style,center:a,minZoom:r,zoom:i,attributionControl:!1,preserveDrawingBuffer:s});o&&u.addControl(new fi.a.NavigationControl,o),this.props.boxZoom||u.boxZoom.disable(),this.props.scrollZoom||(console.log("scroll zoom disable"),u.scrollZoom.disable()),!1===this.props.dragPan&&(console.log("dragPan disable"),u.dragPan.disable()),Object(m.a)(document.getElementsByClassName("mapboxgl-ctrl-logo")).forEach((function(e){e.parentElement.style.margin="0",e.style.display="none"})),this.props.layers.forEach((function(t){t.version=t.version||1,t.initComponent(e)})),u.on("load",(function(){var t=[];e.props.layers.forEach((function(n){if(n.initMap(u),n.active){e._addLayer(u,n,t),t.push(n.name),n._onAdd(u),++n.loading;var a=P()(e.props.layerProps,n.name,{});Promise.resolve(n.onAdd(u,a)).then((function(){return--n.loading})).then((function(){return n.render(u)})).then((function(){return e.setState({activeLayers:t})}))}})),e.props.fitBounds&&u.fitBounds(e.props.fitBounds),e.setState({map:u,activeLayers:[]}),n.addActiveMap(l,e,u)})),this.setContainerSize()}},{key:"componentWillUnmount",value:function(){this.MOUNTED=!1,n.removeActiveMap(this.state.id)}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.setContainerSize(),this.state.activeLayers.forEach((function(t){var a=n.getLayer(t),r=P()(n.props,["layerProps",t],null);r&&a.receiveProps(e.layerProps[t],r),Cn()(e.layerProps[t],r)||a.onPropsChange(e.layerProps[t],r)}))}},{key:"addDynamicLayer",value:function(e,t){var n=this;return new Promise((function(a,r){if(!n.state.map)return a();var i=n.getLayer(e);if(!i)return a();var o=t.call(null,i),s=o.name,c=[].concat(Object(m.a)(n.props.layers),Object(m.a)(n.state.dynamicLayers));if(o._isDynamic=!0,o.initComponent(n),o.initMap(n.state.map),c.reduce((function(e,t){return e||t.name===s}),!1)){var l=new RegExp(s+" \\((\\d+)\\)"),u=c.reduce((function(e,t){var n=l.exec(t.name);return n?Math.max(e,+n[1]):e}),1);o.name="".concat(s," (").concat(u+1,")")}if(o.active){n._addLayer(n.state.map,o),++o.loading,o._onAdd(n.state.map);var d=P()(n.props.layerProps,o.name,{});Promise.resolve(o.onAdd(n.state.map,d)).then((function(){return--o.loading})).then((function(){return o.render(n.state.map)})).then((function(){return n.setState({activeLayers:[].concat(Object(m.a)(n.state.activeLayers),[o.name])})}))}n.setState({dynamicLayers:[].concat(Object(m.a)(n.state.dynamicLayers),[o])}),a(o)}))}},{key:"deleteDynamicLayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=t||e;var n=this.getLayer(e);n&&(this.removeLayer(e),this.setState({dynamicLayers:this.state.dynamicLayers.filter((function(t){return t.name!==e}))}))}},{key:"sendMessage",value:function(e,t){t=Object(c.a)(Object(c.a)({id:sl(),duration:t.onConfirm?0:6e3},t),{},{Message:t.msg||t.message||t.Message,update:!1,layer:this.getLayer(e)});var n=this.state.messages.reduce((function(e,n){return e||n.id===t.id}),!1),a=Object(m.a)(this.state.messages);a=n?a.map((function(e){var n=e.id,a=e.Message,r=Object(Ne.a)(e,["id","Message"]);return Object(c.a)(Object(c.a)({Message:n===t.id?t.Message:a,id:n},r),{},{update:n===t.id&&Date.now()})})):[].concat(Object(m.a)(a),[t]),this.setState({messages:a})}},{key:"dismissMessage",value:function(e){var t=this.state.messages.filter((function(t){return t.id!==e}));this.setState({messages:t})}},{key:"renderLayer",value:function(e){var t=this.getLayer(e);t&&t.active&&t.render(this.state.map)}},{key:"setContainerSize",value:function(){var e=this.container.current,t=e.scrollWidth,n=e.scrollHeight;t===this.state.width&&n===this.state.height||this.setState({width:t,height:n})}},{key:"getLayer",value:function(e){return[].concat(Object(m.a)(this.props.layers),Object(m.a)(this.state.dynamicLayers)).reduce((function(t,n){return n.name===e?n:t}),null)}},{key:"_addLayer",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.activeLayers,r=Object(c.a)({},this.state.sources),i=new Set(t.layers.map((function(e){return e.source})));t.sources.forEach((function(t){i.has(t.id)&&(e.getSource(t.id)||e.addSource(t.id,t.source),t.id in r||(r[t.id]=[]))}));var o=a.reduce((function(e,t){var a=n.props.layers.reduce((function(e,n){return n.name===t?n:e}));return[].concat(Object(m.a)(e),Object(m.a)(a.layers))}),[]),s=t.layers.slice();s.sort((function(e,t){return(e.zIndex||0)-(t.zIndex||0)})),s.forEach((function(t){var n=t.zIndex||0,a=!1;o.forEach((function(r){(r.zIndex||0)>n&&(e.getLayer(t.id)||(e.addLayer(t,r.id),a=!0))})),a||(Boolean(t.beneath)&&Boolean(e.getLayer(t.beneath))?e.addLayer(t,t.beneath):e.addLayer(t)),r[t.source].push(t.id)})),this.setState({sources:r})}},{key:"addLayer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=n||e;var a=this.getLayer(e);if(this.state.map&&a&&!a.active){a.active=!0,this._addLayer(this.state.map,a),++a.loading,a._onAdd(this.state.map);var r=P()(this.props.layerProps,e,{});Promise.resolve(a.onAdd(this.state.map,r)).then((function(){return--a.loading})).then((function(){return a.render(t.state.map)})).then((function(){return t.setState({activeLayers:[].concat(Object(m.a)(t.state.activeLayers),[e])})}))}}},{key:"removeLayer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=n||e;var a=this.getLayer(e);if(this.state.map&&a&&a.active&&!a.loading){a.active=!1,a._onRemove(this.state.map),a.onRemove(this.state.map);var r=[];a.layers.forEach((function(e){t.state.map.removeLayer(e.id),r.push([e.source,e.id])}));var i=Object(c.a)({},this.state.sources);r.forEach((function(e){var t=Object(Z.a)(e,2),n=t[0],a=t[1];n in i&&(i[n]=i[n].filter((function(e){return e!==a})))})),a.sources.forEach((function(e){0===P()(i,[e.id,"length"],"not-added")&&(t.state.map.removeSource(e.id),delete i[e.id])})),this.setState({activeLayers:this.state.activeLayers.filter((function(t){return t!==e})),sources:i})}else this.state.map&&a&&a.active&&a.loading&&this.sendMessage(null,{Message:"Cannot remove a layer while it is loading."})}},{key:"toggleLayerVisibility",value:function(e){var t=this.getLayer(e);this.state.map&&t&&(t.toggleVisibility(this.state.map),this.forceUpdate())}},{key:"updatePopover",value:function(e,t){if(!1===t.pinned&&this.state.popover.pinned){var n=this.state.popover.layer.popover.onUnPinned;"function"===typeof n&&n.call(this.state.popover.layer),this.state.popover.layer._clearPinnedState()}this.setState({popover:Object(c.a)(Object(c.a)({},this.state.popover),t)})}},{key:"toggleModal",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.getLayer(e),r=a.modals[t],i=!r.show;this.props.layers.forEach((function(e){if(e.modals)for(var t in e.modals)e.modals[t].show=!1})),r.show=i,r.props=r.props?Object(c.a)(Object(c.a)({},r.props),n):n,i||"function"!==typeof r.onClose||r.onClose.call(a),this.forceUpdate()}},{key:"updateModal",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.getLayer(e),r=a.modals[t];r.props=r.props?Object(c.a)(Object(c.a)({},r.props),n):n,this.forceUpdate()}},{key:"onSelect",value:function(e,t){var n=this;if(this.state.map){var a=this.getLayer(e);a.selection=t,++a.loading,this.forceUpdate(),a.onSelect(t).then((function(e){return a.active&&(a.receiveDataOld(n.state.map,e),a.render(n.state.map))})).then((function(){return--a.loading})).then((function(){return n.forceUpdate()}))}}},{key:"toggleInfoBox",value:function(e,t){var n=this.getLayer(e);if(n.infoBoxes){var a=n.infoBoxes[t];a&&(a.show=!a.show)}this.forceUpdate()}},{key:"updateFilter",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.state.map){var r=this.getLayer(e),i=r.filters[t],o=i.value,s=i.domain;null!==a&&(i.value=a);var c=function(){};r.filters[t].onChange&&(c=r.version>=2?function(){return r.filters[t].onChange.call(r,o,a,s)}:function(){return r.filters[t].onChange(n.state.map,r,a,o)}),++r.loading,this.forceUpdate(),r.onFilterFetch(t,o,a).then((function(e){r.active&&(c(),r.receiveDataOld(n.state.map,e),!1!==e&&r.render(n.state.map))})).then((function(){return--r.loading})).then((function(){if(i.dispatchMessage){var n=i.dispatchFunc?i.dispatchFunc.call(r):null;rl(e,new al(e,t,o,a,n))}})).then((function(){return n.forceUpdate()}))}}},{key:"updateLegend",value:function(e,t){var n=this;if(this.state.map){var a=this.getLayer(e);a.legend=Object(c.a)(Object(c.a)({},a.legend),t),++a.loading,this.forceUpdate(),a.onLegendChange().then((function(e){return a.active&&(a.receiveDataOld(n.state.map,e),a.render(n.state.map))})).then((function(){return--a.loading})).then((function(){return n.forceUpdate()}))}}},{key:"fetchLayerData",value:function(e){var t=this;if(this.state.map){var n=this.getLayer(e);++n.loading,this.forceUpdate(),n.fetchData().then((function(e){return n.active&&(n.receiveDataOld(t.state.map,e),n.render(t.state.map))})).then((function(){return--n.loading})).then((function(){return t.forceUpdate()}))}}},{key:"updateDrag",value:function(e){this.setState(Object(c.a)(Object(c.a)({},this.state),e))}},{key:"dropLayer",value:function(){var e=this,t=this.state.activeLayers.filter((function(t){return t!==e.state.dragging})),n=t[this.state.dragover];t.splice(this.state.dragover,0,this.state.dragging);var a=this.getLayer(this.state.dragging),r=this.getLayer(n),i=null;r&&(i=r.layers[0].id),a.layers.forEach((function(t){var n=t.id;e.state.map.moveLayer(n,i)})),this.setState({activeLayers:t});var o=t.reduce((function(t,n){var a=e.getLayer(n).layers.reduce((function(e,t){return t.zIndex?[].concat(Object(m.a)(e),[t]):e}),[]);return[].concat(Object(m.a)(t),Object(m.a)(a))}),[]);o.sort((function(e,t){return e.zIndex-t.zIndex})),o.forEach((function(t){e.state.map.moveLayer(t.id)}))}},{key:"onTransitionStart",value:function(){this.setState({transitioning:!0})}},{key:"onOpenOrClose",value:function(e){this.setState({isOpen:e,transitioning:!1})}},{key:"setMapStyle",value:function(e){var t=this,n=this.state.map;Boolean(n)&&e.style!==this.state.style.style&&(n.once("style.load",(function(e){var a=[];t.state.activeLayers.forEach((function(e){var r=t.getLayer(e);t._addLayer(n,r,a),a.push(e),r.onStyleChange(n)}))})),this.state.activeLayers.forEach((function(e){t.getLayer(e)._onRemove(n)})),n.setStyle(e.style)),this.setState({style:e})}},{key:"render",value:function(){var e={toggleModal:this.toggleModal.bind(this),updateModal:this.updateModal.bind(this),toggleInfoBox:this.toggleInfoBox.bind(this),setMapStyle:this.setMapStyle.bind(this)},t=[].concat(Object(m.a)(this.props.layers),Object(m.a)(this.state.dynamicLayers)),n=this.props.styles.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{url:cl(e.style.slice(23))})}));return Object(a.jsxs)("div",{id:this.state.id,style:{height:this.props.height},ref:this.container,className:"z-30 focus:outline-none active:outline-none",children:[this.props.sidebar?Object(a.jsx)(_s,{isOpen:this.state.isOpen,transitioning:this.state.transitioning,onOpenOrClose:this.onOpenOrClose.bind(this),onTransitionStart:this.onTransitionStart.bind(this),layers:t,activeLayers:this.state.activeLayers,addLayer:this.addLayer.bind(this),removeLayer:this.removeLayer.bind(this),deleteDynamicLayer:this.deleteDynamicLayer.bind(this),toggleLayerVisibility:this.toggleLayerVisibility.bind(this),actionMap:e,header:this.props.header,toggleModal:this.toggleModal.bind(this),updateModal:this.updateModal.bind(this),updateFilter:this.updateFilter.bind(this),updateLegend:this.updateLegend.bind(this),fetchLayerData:this.fetchLayerData.bind(this),updateDrag:this.updateDrag.bind(this),dropLayer:this.dropLayer.bind(this),pages:this.props.sidebarPages,mapStyles:n,style:this.state.style,setMapStyle:this.setMapStyle.bind(this),map:this.state.map}):null,Object(a.jsx)(nc,{layers:t,activeLayers:this.state.activeLayers}),Object(a.jsx)(bc,Object(c.a)(Object(c.a)({},this.state.popover),{},{updatePopover:this.updatePopover.bind(this),mapSize:{width:this.state.width,height:this.state.height}})),Object(a.jsx)(Pc,{layers:t,activeLayers:this.state.activeLayers,toggleModal:this.toggleModal.bind(this)}),Object(a.jsx)(Gc,{layers:t,activeLayers:this.state.activeLayers,sidebar:this.props.sidebar,isOpen:this.state.isOpen&&!this.state.transitioning||!this.state.isOpen&&this.state.transitioning,actionMap:e,mapStyles:n,style:this.state.style,showStyleControl:this.props.showStyleControl,getStaticImageUrl:cl,showMapActions:this.props.mapactions}),Object(a.jsx)(Xc,{messages:this.state.messages,dismiss:this.dismissMessage.bind(this)}),Object(a.jsx)(pl,{layers:t,sidebar:this.props.sidebar,isOpen:this.state.isOpen&&!this.state.transitioning||!this.state.isOpen&&this.state.transitioning})]})}}]),n}(i.a.Component);ll.defaultProps={id:null,height:"100%",styles:[].concat([{name:"Dark",style:"mapbox://styles/am3081/cjqqukuqs29222sqwaabcjy29"},{name:"Light",style:"mapbox://styles/am3081/cjms1pdzt10gt2skn0c6n75te"},{name:"Satellite",style:"mapbox://styles/am3081/cjya6wla3011q1ct52qjcatxg"},{name:"Satellite Streets",style:"mapbox://styles/am3081/cjya70364016g1cpmbetipc8u"}]),styleName:"Dark",style:null,center:[-73.680647,42.68],minZoom:2,zoom:10,layers:[],mapControl:"bottom-right",scrollZoom:!0,boxZoom:!0,sidebar:!0,mapactions:!0,showStyleControl:!1,update:[],header:"AVAIL Map",sidebarPages:["layers","basemaps"],layerProps:{},preserveDrawingBuffer:!1,MAPBOX_TOKEN:"pk.eyJ1IjoiYW0zMDgxIiwiYSI6IkxzS0FpU0UifQ.rYv6mHCcNd7KKMs7yhY3rw"},ll.ActiveMaps={},ll.addActiveMap=function(e,t,n){ll.ActiveMaps[e]={component:t,map:n}},ll.removeActiveMap=function(e){delete ll.ActiveMaps[e]},ll.updateMap=function(e){var t=Object(kn.a)(e),n=t[0],a=t[1],r=t.slice(2);if(n in ll.ActiveMaps){var i,o=ll.ActiveMaps[n].component;o&&o[a]&&(i=o[a]).call.apply(i,[o].concat(Object(m.a)(r)))}},ll.doAction=function(e){var t=Object(kn.a)(e),n=t[0],a=t[1],r=t.slice(2);if(console.log("in do action"),n in ll.ActiveMaps){var i=ll.ActiveMaps[n].component;if(i&&i[a]){var o,s;(o=console).log.apply(o,["do action",n,a].concat(Object(m.a)(r)));var c=(s=i[a]).call.apply(s,[i].concat(Object(m.a)(r)));return console.log("action result ",c),c}}};for(var ul=Zt.default.div(il(),(function(e){return e.sidebar&&e.isOpen?340:e.sidebar&&!e.isOpen?40:20}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.sidePanelBg}),(function(e){return.5*(e.height+2*e.padding)}),(function(e){return.5*(e.height+2*e.padding)})),dl=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={progress:null},e.format=Object(Jt.b)(".0%"),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.layer.registerLoadingIndicator(this.setState.bind(this))}},{key:"componentWillUnmount",value:function(){this.props.layer.unregisterLoadingIndicator()}},{key:"render",value:function(){var e=this.props.layer,t=40;return Object(a.jsxs)("div",{style:{height:"".concat(60,"px"),padding:"".concat(10,"px"),display:"flex"},children:[Object(a.jsx)("div",{style:{height:"".concat(t,"px"),lineHeight:"".concat(t,"px"),textAlign:"left",width:"65%"},children:e.name}),Object(a.jsx)("div",{style:{paddingLeft:"".concat(10,"px"),height:"".concat(t,"px"),lineHeight:"".concat(t,"px"),textAlign:"left",width:"calc(35% - ".concat(t,"px)")},children:null===this.state.progress?null:"".concat(this.format(this.state.progress))}),Object(a.jsx)(tl,{scale:.4})]},e.name)}}]),n}(i.a.Component),pl=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.layers,n=e.sidebar,r=e.isOpen,i=t.reduce((function(e,t){return t.loading&&e.push(t),e}),[]);return Object(a.jsx)(ul,{sidebar:n,isOpen:r,height:40,padding:10,children:i.map((function(e,t){return Object(a.jsx)(dl,{layer:e},e.name)}))})}}]),n}(i.a.Component),hl=ll,fl=n(5),bl=ni.a(".2s"),ml=function(e){return e<1e3?e:bl(e)},vl=[{value:"wind",name:"Wind",total_cost:0},{value:"wildfire",name:"Wildfire",total_cost:0},{value:"tsunami",name:"Tsunami/Seiche",total_cost:0},{value:"tornado",name:"Tornado",total_cost:0},{value:"riverine",name:"Flooding",total_cost:0},{value:"lightning",name:"Lightning",total_cost:0},{value:"landslide",name:"Landslide",total_cost:0},{value:"icestorm",name:"Ice Storm",total_cost:0},{value:"hurricane",name:"Hurricane",total_cost:0},{value:"heatwave",name:"Heat Wave",total_cost:0},{value:"hail",name:"Hail",total_cost:0},{value:"earthquake",name:"Earthquake",total_cost:0},{value:"drought",name:"Drought",total_cost:0},{value:"avalanche",name:"Avalanche",total_cost:0},{value:"coldwave",name:"Coldwave",total_cost:0},{value:"winterweat",name:"Snow Storm",total_cost:0},{value:"volcano",name:"Volcano",total_cost:0},{value:"coastal",name:"Coastal Hazards",total_cost:0}],jl=[],gl=1953;gl<=2020;gl++)jl.push(gl);for(var yl=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isLoading:!0},a}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){e.hazard!==this.props.hazard&&this.fetchFalcorDeps()}},{key:"fetchFalcorDeps",value:function(){var e=this;return this.setState({isLoading:!0}),this.props.falcor.get(["fema","disasters","length"]).then((function(t){var n=fl(t.json,["fema","disasters","length"],null);if(!n)return Promise.resolve({});e.props.falcor.get(["fema","disasters","byIndex",[{from:0,to:n-1}],e.props.attributes]).then((function(t){return e.setState({isLoading:!1}),t}))}))}},{key:"transformData",value:function(){var e=fl(this.props.falcorCache,["fema","disasters","byId"],null),t=[];return e&&((t=jl.reduce((function(e,t){return e.push({year:t.toString()}),e}),[])).forEach((function(e){vl.forEach((function(t){e[t.value]=0}))})),t.forEach((function(t){vl.forEach((function(n){Object.values(e).filter((function(e){return"$__path"!==e})).forEach((function(e){e.year&&fl(e,["year","value"],0).toString()===t.year&&fl(e,["disaster_type","value"],"")===n.value&&(t[n.value]+=parseFloat(fl(e,["total_cost","value"],0)))}))}))}))),t}},{key:"calculateCountDisastersByYear",value:function(){var e=fl(this.props.falcorCache,["fema","disasters","byId"],null),t=[];return e&&(t=jl.reduce((function(e,t){return e.push({year:t.toString(),count:0}),e}),[])).forEach((function(t){var n=0;Object.values(e).filter((function(e){return"$__path"!==e})).forEach((function(e){e.year&&fl(e,["year","value"],0).toString()===t.year&&(n+=1,t.count=n.toString())}))})),t}},{key:"render",value:function(){var e=this,t="disasters"===this.props.type?this.transformData():this.calculateCountDisastersByYear();return this.state.isLoading?Object(a.jsx)("div",{style:{width:"100%",height:this.props.height?this.props.height:"300px"},children:"Loading ..."}):Object(a.jsx)("div",{style:{width:"100%",height:this.props.height?this.props.height:"300px"},children:Object(a.jsx)(de.a,{data:t,keys:"disasters"===this.props.type?vl.map((function(e){return e.value})):["count"],indexBy:"year",margin:{top:60,right:80,bottom:70,left:80},padding:.2,colors:"disasters"===this.props.type?function(e){return ue[e.id]}:{scheme:"nivo"},groupMode:"disasters"===this.props.type?"stacked":null,enableLabel:!1,enableGridX:!1,enableGridY:!1,axisBottom:{tickSize:5,tickPadding:5,tickRotation:-60,legend:"year",legendPosition:"middle",legendOffset:45},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"disasters"===this.props.type?"Total Cost $":"Total Count #",legendPosition:"middle",legendOffset:-55,format:function(t){return"".concat("disasters"===e.props.type?Object(se.fnum)(t):ml(t))}},labelSkipWidth:12,labelSkipHeight:12,animate:!0,motionStiffness:90,motionDamping:15,tooltipFormat:function(t){return"".concat("disasters"===e.props.type?Object(se.fnum)(t):ml(t))}})})}}]),n}(i.a.Component),xl=Object(O.connect)((function(e,t){return{geoid:t.geoid,censusKey:t.censusKey,graph:e.graph,severeWeatherData:fl(e.graph,["severeWeather"])}}),{})(A(yl)),Ol=[],_l=1953;_l<=2020;_l++)Ol.push(_l);for(var kl=[{value:"wind",name:"Wind"},{value:"wildfire",name:"Wildfire"},{value:"tsunami",name:"Tsunami/Seiche"},{value:"tornado",name:"Tornado"},{value:"riverine",name:"Flooding"},{value:"lightning",name:"Lightning"},{value:"landslide",name:"Landslide"},{value:"icestorm",name:"Ice Storm"},{value:"hurricane",name:"Hurricane"},{value:"heatwave",name:"Heat Wave"},{value:"hail",name:"Hail"},{value:"earthquake",name:"Earthquake"},{value:"drought",name:"Drought"},{value:"avalanche",name:"Avalanche"},{value:"coldwave",name:"Coldwave"},{value:"winterweat",name:"Snow Storm"},{value:"volcano",name:"Volcano"},{value:"coastal",name:"Coastal Hazards"}],wl=["ia_ihp_amount","ia_ihp_count","pa_project_amount","pa_federal_share_obligated","hma_prop_actual_amount_paid","hma_prop_number_of_properties","hma_proj_project_amount","hma_proj_project_amount_count","hma_proj_federal_share_obligated","hma_proj_federal_share_obligated_count","total_cost","total_disasters"],Cl=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={hazards:kl.reduce((function(e,t){return e.push(t.value),e}),[]),currentHazard:"",isLoading:!0},a}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.year!==e.year&&this.fetchFalcorDeps()}},{key:"fetchFalcorDeps",value:function(){var e=this;return this.setState({isLoading:!0}),this.props.falcor.get(["fema","disasters","length"]).then((function(t){var n=P()(t.json,["fema","disasters","length"],null),a={};return n?(e.props.falcor.get(["fema","disasters","byIndex",[{from:0,to:n-1}],e.props.attributes]).then(function(){var t=Object(y.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!1}),console.time("result"),t.next=4,e.props.falcor.get(["fema","disasters",[""],e.state.hazards,[e.props.year],wl]);case 4:return a=t.sent,console.timeEnd("result"),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a):Promise.resolve({})}))}},{key:"processByIdData",value:function(){var e=this,t=[],n=P()(this.props.falcorCache,["fema","disasters","byId"],null);return n&&(t=kl.reduce((function(e,t){return e.push({hazard:t.value,count:0}),e}),[])).forEach((function(t){var a=0;Object.values(n).filter((function(e){return"$__path"!==e})).forEach((function(n){"allTime"===e.props.year?P()(n,["disaster_type","value"],"").toString()===t.hazard&&(a+=+P()(n,["total_cost","value"],0),t.total_cost_summaries=a):P()(n,["disaster_type","value"],"").toString()===t.hazard&&P()(n,["year","value"],"").toString()===e.props.year.toString()&&(a+=+P()(n,["total_cost","value"],0),t.total_cost_summaries=a)}))})),t}},{key:"processFemaCountyData",value:function(){var e=this,t=P()(this.props.falcorCache,["fema","disasters",this.props.geoid],null),n=[],a=["name","value","total_cost","total_cost_summaries"],r=this.processByIdData();return t&&(n=Object.keys(t).map((function(n){return a.reduce((function(a,r){return kl.forEach((function(i){i.value===n&&(a[r]="name"===r||"value"===r?i[r]:P()(t,[i.value,e.props.year,r,"value"],0))})),a}),{})})),r.forEach((function(e){n.forEach((function(t){t.value===e.hazard&&(t.total_cost_summaries=e.total_cost_summaries||0)}))}))),n}},{key:"render",value:function(){var e=this,t=this.processFemaCountyData();return Object(a.jsx)("div",{className:"align-middle inline-block min-w-full overflow-hidden",children:Object(a.jsxs)("table",{className:"min-w-full",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"px-3  py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase ",children:"Hazard"}),Object(a.jsxs)("th",{className:"px-3 text-right py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase ",children:["$ Total Cost - ",this.props.year]}),Object(a.jsxs)("th",{className:"px-3 text-right py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase ",children:["$ Total Cost Summaries - ",this.props.year]})]})}),Object(a.jsx)("tbody",{children:t.sort((function(e,t){return t.total_cost-e.total_cost})).map((function(t,n){return Object(a.jsxs)("tr",{className:"bg-white  ".concat(e.props.activeHazard===t.value?"border-b-4 border-blue-300":"border-b border-gray-200"),id:t.value,children:[Object(a.jsx)("td",{style:{backgroundColor:ue[t.value]},className:"px-4 py-2 whitespace-no-wrap text-sm leading-5 font-medium text-gray-100",children:Object(a.jsx)("div",{className:"hover:text-blue-100 cursor-pointer",onClick:function(n){n.persist(),e.state.currentHazard!==t.value?(e.props.setHazard(t.value),e.setState({currentHazard:t.value})):e.props.setHazard(null)},children:t.name})},n),Object(a.jsx)("td",{children:Object(se.fnum)(t.total_cost)}),Object(a.jsx)("td",{children:Object(se.fnum)(t.total_cost_summaries)})]},n)}))})]})},0)}}]),n}(i.a.Component),Sl=(Object(O.connect)((function(e,t){return{activeStateGeoid:e.user.activeStateGeoid,geoid:t.geoid,censusKey:t.censusKey,graph:e.graph,severeWeatherData:P()(e.graph,["severeWeather"])}}),{})(A(Cl)),n(652)),Nl=ni.a("~s"),Ll=function(e){return e<1e3?e:Nl(e)},Al=["01","02","04","05","06","08","09","10","11","12","13","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","44","45","46","47","48","49","50","51","53","54","55","56"],Dl={},Pl=null,zl=null,Ml=["ia_ihp_amount","ia_ihp_count","pa_project_amount","pa_federal_share_obligated","hma_prop_actual_amount_paid","hma_prop_number_of_properties","hma_proj_project_amount","hma_proj_project_amount_count","hma_proj_federal_share_obligated","hma_proj_federal_share_obligated_count","total_cost","total_disasters"],Bl=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"receiveProps",value:function(e,t){this.filters.year.value!==t.year&&(this.filters.year.value=t.year?[t.year]:t.year?t.year:null),e.hazard!==t.hazard&&(Pl=t.hazard,this.filters.hazard.value=t.hazard),e.fips!==t.fips&&(zl=t.fips),e.geography!==t.geography&&(this.filters.geography.value=t.geography)}},{key:"onPropsChange",value:function(e,t){this.filters.year.value!==t.year&&(this.filters.year.value=t.year?[t.year]:t.year?t.year:null,this.doAction(["fetchLayerData"])),e.hazard!==t.hazard&&(Pl=t.hazard,this.filters.hazard.value=t.hazard||"riverine",this.doAction(["fetchLayerData"])),e.fips!==t.fips&&(zl=t.fips,this.doAction(["fetchLayerData"])),e.geography!==t.geography&&(this.filters.geography.value=t.geography,this.doAction(["fetchLayerData"]))}},{key:"onAdd",value:function(e){var t=this;this.map=e,Ue.get(["geo",Al,"counties","geoid"]).then((function(n){t.filtered_geographies=Object.values(n.json.geo).reduce((function(e,t){return t.counties&&(e=[].concat(Object(m.a)(e),Object(m.a)(t.counties))),e}),[]),Dl=e.getBounds(),t.fetchData().then((function(e){return t.render(t.map)}))}))}},{key:"fetchData",value:function(){var e=this;if(0===this.filtered_geographies.length)return Promise.resolve();Pl&&(this.filters.hazard.value=Pl);var t=zl&&!zl.includes("")?zl:Al,n=zl&&!zl.includes("")?this.filters.geography.value:"counties";return Ue.get(["geo",t,n,"geoid"]).then((function(t){if(e.filtered_geographies=Object.values(t.json.geo).reduce((function(e,t){return t[n]&&(e=[].concat(Object(m.a)(e),Object(m.a)(t[n]))),e}),[]),e.filtered_geographies.length>0)return console.time("response"),Ue.get(["fema","disasters",e.filtered_geographies,e.filters.hazard.value,e.filters.year.value,Ml]).then((function(e){return console.timeEnd("response"),e}))}))}},{key:"render",value:function(e){var t=this,n=P()(Ue.getCache(),["fema","disasters"],{}),a=this.filters.hazard.value,r=this.filters.year.value,i="total_cost",o=zl&&!zl.includes("")?this.filters.geography.value:"counties",s=Object.keys(n).reduce((function(e,o){return t.filtered_geographies&&t.filtered_geographies.filter((function(e){return"$__path"!==e})).forEach((function(t){t===o&&P()(n[o],"".concat(a,".").concat(r,".").concat(i,".value"),!1)&&(e[o]=P()(n[o],"".concat(a,".").concat(r,".").concat(i,".value"),!1))})),e}),{}),c=[1e6,5e6,1e7,1e8,1e9,1e10],l=["#F1EFEF"].concat(Object(m.a)(ue[this.filters.hazard.value+"_range"]));this.legend.domain=c,this.legend.range=l;var u=Yt.a().domain(c).range(l),d=Object.keys(s).reduce((function(e,t){return e[t]=u(s[t]),e}),{});"counties"===o&&Object.keys(s).length>0&&(e.setLayoutProperty("counties","visibility","visible"),e.setFilter("counties",["all",["match",["get","county_fips"],this.filtered_geographies,!0,!1]]),e.setPaintProperty("counties","fill-color",["case",["has",["to-string",["get","county_fips"]],["literal",d]],["get",["to-string",["get","county_fips"]],["literal",d]],"hsl(0, 3%, 94%)"])),e.on("click",(function(n,a){var r=e.queryRenderedFeatures(n.point,{layers:["states"]});if(r[0]){var i=r.reduce((function(e,t){return t.properties.state_fips}),""),o=r.reduce((function(e,t){return t.properties.state_name}),"");t.state_fips=i,t.state_name=o,t.infoBoxes.overview.show=!0,e.setFilter("states",["all",["match",["get","state_fips"],[i],!0,!1]]),e.setFilter("counties",["all",["match",["get","county_fips"],t.filtered_geographies,!0,!1]]),e.fitBounds(Sl.bbox(r[0].geometry)),t.forceUpdate()}})),zl&&zl.includes("")&&(this.state_fips="",this.state_name="",e.setFilter("states",void 0),e.setLayoutProperty("counties","visibility","visible"),e.setPaintProperty("counties","fill-color",["case",["has",["to-string",["get","county_fips"]],["literal",d]],["get",["to-string",["get","county_fips"]],["literal",d]],"hsl(0, 3%, 94%)"]),e.fitBounds(Dl),this.forceUpdate())}}]),n}(Jr),Fl=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={current_state_name:e.state_name,current_state_fips:e.state_fips},a}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.state_fips!==e.state_fips&&this.props.state_name!==e.state_name&&this.props.setActiveStateGeoid([{state_fips:this.props.state_fips,state_name:this.props.state_name}])}},{key:"render",value:function(){return Object(a.jsx)("div",{})}}]),n}(i.a.Component),Il={setActiveStateGeoid:K},Tl=Object(O.connect)((function(e,t){t.id;return{activeStateGeoid:e.stormEvents.activeStateGeoid}}),Il)(A(Fl)),El={$defaults:["input","navitemTop","navitemTopActive","navitemSide","navitemSideActive"],button:[{$default:"rounded inline-flex items-center justify-center @transition disabled:cursor-not-allowed disabled:bg-transparent disabled:opacity-50 focus:outline-none border"},{$default:"$button",Primary:"$buttonPrimary",Success:"$buttonSuccess",Danger:"$buttonDanger",Info:"$buttonInfo"},{$default:"px-4 py-1 @textBase",Large:"px-6 py-2 @textLarge",Small:"px-2 py-0 @textSmall"},{Block:"w-full"}],input:[{$default:"w-full block rounded cursor-pointer disabled:cursor-not-allowed @transition @text @placeholder @inputBg @inputBorder"},{$default:"@paddingBase @textBase",Large:"@paddingLarge @textLarge",Small:"@paddingSmall @textSmall"}],navitem:[{$default:"group border-transparent font-medium focus:outline-none @transition"},{Top:"mr-4 inline-flex items-center px-1 pt-1 border-b-2 text-sm leading-5",Side:"mb-1 flex pl-3 pr-4 py-2 border-l-4 text-bas"},{$default:"@menuBg @menuBgHover @menuText @menuTextHover",Active:"@menuBgActive @menuBgActiveHover @menuTextActive @menuTextActiveHover"}],textbutton:[{$default:"@transition inline-flex px-2 hover:font-bold disabled:font-normal disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none"},{$default:"$textbutton",Info:"text-teal-400 hover:text-teal-500 disabled:text-teal-400"},{$default:"text-base",Large:"text-lg",Small:"text-sm"},{$default:"font-normal cursor-pointer",Active:"font-bold cursor-default"}],list:[{$default:"@transition rounded"},{$default:"p-2 pb-0 bg-white shadow",Dragging:"p-2 pb-0 bg-white",Item:"py-1 px-3 bg-gray-300 mb-2 border-b"}]},Hl=(Object(c.a)(Object(c.a)({},{shadow:"shadow",ySpace:"py-4",sidebarBorder:"",text:"text-gray-800",textContrast:"text-white",border:"broder-gray-400",textInfo:"text-teal-400",bgInfo:"bg-teal-400",borderInfo:"border-teal-400",textSuccess:"text-green-400",bgSuccess:"bg-green-400",borderSuccess:"border-green-400",textDanger:"text-red-400",bgDanger:"bg-red-400",borderDanger:"border-red-400",textWarning:"text-yellow-400",bgWarning:"bg-yellow-400",borderWarning:"border-yellow-400",textLight:"text-gray-400",placeholder:"placeholder-gray-400",menuIcon:"mr-3 h-6 w-6",topMenuBorder:"border-b border-gray-200",headerShadow:"",navText:"text-gray-100",navitemTop:"px-8  tracking-widest uppercase inline-flex items-center border-b-2 border-r border-transparent text-base font-medium leading-5 text-gray-600 hover:bg-white hover:text-blue-500 border-gray-200 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out",navitemTopActive:"px-8  tracking-widest uppercase inline-flex items-center  border-b-2 border-r-0 text-base font-medium leading-5 text-blue-500 bg-white focus:outline-none  sfocus:border-indigo-700 transition duration-150 ease-in-out",navitemSide:"mb-1 group flex pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-300 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out",navitemSideActive:"mb-1 group flex pl-3 pr-4 py-2border-l-4 border-indigo-500 text-base font-medium text-indigo-600 bg-indigo-100 focus:outline-none hover:text-indigo-800 focus:text-indigo-800 hover:bg-indigo-200 focus:bg-indigo-200 focus:border-indigo-700 transition duration-150 ease-in-out",topNavHeight:"h-16",bg:"bg-gray-100",sidebarBg:"bg-gray-100",menuBg:"bg-gray-100",menuBgHover:"hover:bg-gray-300",menuBgActive:"bg-teal-200",menuBgActiveHover:"hover:bg-teal-300",menuText:"text-gray-100",menuTextHover:"hover:text-gray-700",menuTextActive:"text-teal-500",menuTextActiveHover:"hover:text-teal-700",headerBg:"bg-gray-200",headerBgHover:"hover:bg-gray-400",inputBg:"bg-white disabled:bg-gray-200 cursor-pointer focus:outline-none",inputBorder:"rounded border-0 border-transparent hover:border-gray-300 focus:border-gray-600 disabled:border-gray-200",inputBgDisabled:"bg-gray-200 cursor-not-allowed focus:outline-none",inputBorderDisabled:"rounded border-2 border-gray-200 hover:border-gray-200",inputBgFocus:"bg-white cursor-pointer focus:outline-none",inputBorderFocus:"rounded border-2 border-transparent hover:border-gray-600 focus:border-gray-600 border-gray-600",textBase:"text-base",textSmall:"text-sm",textLarge:"text-lg",paddingBase:"py-1 px-2",paddingSmall:"py-0 px-1",paddingLarge:"py-2 px-4",contentBg:"bg-white",accent1:"bg-gray-100",accent2:"bg-gray-300",accent3:"bg-gray-400",accent4:"bg-gray-500",highlight1:"bg-teal-200",highlight2:"bg-teal-300",highlight3:"bg-teal-400",highlight4:"bg-teal-500",width:"",sidebarW:"56",transition:"transition ease-in-out duration-150",button:"\n\t\tinline-flex items-center\n\t\tpx-4 py-2 border border-gray-300\n\t\ttext-sm leading-5 font-medium\n\t\trounded-md text-gray-700 bg-white\n\t\thover:text-gray-500\n\t\tfocus:outline-none focus:shadow-outline-blue focus:border-blue-300\n\t\tactive:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out\n\t\tdisabled:cursor-not-allowed",buttonPrimary:"inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700 transition duration-150 ease-in-out disabled:cursor-not-allowed",tableRow:"bg-gray-100 hover:bg-gray-200 transition ease-in-out duration-150",tableRowStriped:"bg-gray-100 even:bg-gray-200 hover:bg-gray-300 transition ease-in-out duration-150",tableCell:"px-4 py-1 whitespace-no-wrap",tableHeader:"px-4 py-2 pb-1 border-b-2 border-gray-300 bg-gray-200 text-left font-medium text-gray-700 uppercase first:rounded-tl-md last:rounded-tr-md"}),{},{tableInfoBar:"bg-white",tableRow:"bg-white hover:bg-gray-200 @transition",tableRowStriped:"bg-white even:bg-gray-100 hover:bg-gray-200 @transition",button:"text-gray-400 border-gray-400 hover:bg-gray-400 hover:text-white disabled:text-gray-400",buttonPrimary:"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white disabled:text-blue-400",buttonSuccess:"text-green-400 border-green-400 hover:bg-green-400 hover:text-white disabled:text-green-400",buttonDanger:"text-red-400 border-red-400 hover:bg-red-400 hover:text-white disabled:text-red-400",buttonInfo:"text-teal-400 border-teal-400 hover:bg-teal-400 hover:text-white disabled:text-teal-400",textbutton:"text-gray-400 hover:text-gray-500 disabled:text-gray-400",$compositions:El}),ni.a(".2s")),Vl=n(112),Rl=[],Gl=1953;Gl<=2020;Gl++)Rl.push(Gl);var Ul=["disaster_number","name","declaration_date","total_cost","disaster_type","total_number_ia_approved","total_amount_ihp_approved","total_amount_ha_approved","total_amount_ona_approved","total_obligated_amount_pa","total_obligated_amount_cat_ab","total_obligated_amount_cat_c2g","pa_load_date","ia_load_date","total_obligated_amount_hmgp","last_refresh"],Wl=[{Header:"Disaster Number",accessor:"disaster_number",Cell:function(e){return Object(a.jsx)("div",{style:{cursor:"pointer"},children:Object(a.jsx)(h.Link,{to:"/fema_disasters/disaster/".concat(e.row.original.disaster_number),children:e.row.original.disaster_number})})}},{Header:"Disaster Name",accessor:"name"},{Header:"Declaration Date",accessor:"declaration_date",disableFilters:!0,Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"center"},children:new Date(P()(e,"row.values.declaration_date","")).toLocaleDateString("en-US")})}},{Header:"Total Amount IHP Approved",accessor:"total_amount_ihp_approved",disableFilters:!0,Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"right"},children:Object(se.fnum)(P()(e,"row.values.total_amount_ihp_approved",""))})}},{Header:"Total Obligated Amount PA",accessor:"total_obligated_amount_pa",disableFilters:!0,Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"right"},children:Object(se.fnum)(P()(e,"row.values.total_obligated_amount_pa",""))})}},{Header:"Total Obligated Amount HGMP",accessor:"total_obligated_amount_hmgp",disableFilters:!0,Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"right"},children:Object(se.fnum)(P()(e,"row.values.total_obligated_amount_hmgp",""))})}},{Header:"Total Cost",accessor:"total_cost",disableFilters:!0,Cell:function(e){return Object(a.jsx)("div",{style:{textAlign:"right"},children:Object(se.fnum)(P()(e,"row.values.total_cost",""))})}}],Zl=[{name:"# IA Approved",value:"total_number_ia_approved",amount:0},{name:"$ IHP Approved",value:"total_amount_ihp_approved",amount:0},{name:"$ ONA Approved",value:"total_amount_ona_approved",amount:0},{name:"$ Obligated PA",value:"total_obligated_amount_pa",amount:0},{name:"$ Obligated CAT AB",value:"total_obligated_amount_cat_ab",amount:0},{name:"$ Obligate CAT C2G",value:"total_obligated_amount_cat_c2g",amount:0},{name:"$ Obligated HMGP",value:"total_obligated_amount_hmgp",amount:0},{name:"Total Funds",value:"total_funds"}],$l=0,Kl=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).FemaCombinedEventsLayer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bl("Fema Disasters Combined Events",Object(c.a)(Object(c.a)({},e),{},{selectedStations:new Map,stationFeatures:[],popover:{layers:["states","counties"],pinned:!1,dataFunc:function(e){var t=this,n=e.properties,r=P()(Ue.getCache(),["fema","disasters"],{}),i=null,o="",s=0,c=0;return zl?zl.includes("")?(i=n.state_fips?n.state_fips:"",o=n.state_name?n.state_name:""):"counties"===this.filters.geography.value?(i=n.county_fips?n.county_fips:"",o=n.county_name?n.county_name:""):(i=n.geoid?n.geoid:"",o=""):(i=n.state_fips?n.state_fips:"",o=n.state_name?n.state_name:""),i.length>2?(s=Object.keys(r).reduce((function(e,n){return n===i&&(e+=parseFloat(P()(r,[i,t.filters.hazard.value,t.filters.year.value,"total_cost","value"],0))),e}),0),c=Object.keys(r).reduce((function(e,n){return n===i&&(e+=parseFloat(P()(r,[i,t.filters.hazard.value,t.filters.year.value,"total_disasters","value"],0))),e}),0)):(s=Object.keys(r).reduce((function(e,n){return n.slice(0,2)===i&&(e+=parseFloat(P()(r,[n,t.filters.hazard.value,t.filters.year.value,"total_cost","value"],0))),e}),0),c=Object.keys(r).reduce((function(e,n){return n.slice(0,2)===i&&(e+=parseFloat(P()(r,[n,t.filters.hazard.value,t.filters.year.value,"total_disasters","value"],0))),e}),0)),[[Object(a.jsxs)("div",{className:"text-lg text-bold bg-white",children:[""!==o?o:P()(Ue.getCache(),["geo",i,"name"],"")," - ",this.filters.year.value]})],[Object(a.jsxs)("div",{className:"text-sm bg-white",children:["$ Total Cost: ",Object(se.fnum)(s)]})],[Object(a.jsxs)("div",{className:"text-sm bg-white",children:["# Episodes : ",Ll(c)]})]]}},showAttributesModal:!1,legend:{title:"Total Damage",type:"threshold",types:["threshold","quantile","quantize","linear"],vertical:!1,range:[],active:!1,domain:[]},sources:[{id:"composite",source:{url:"mapbox://lobenichou.albersusa,lobenichou.albersusa-points",type:"vector"}},{id:"albersusa",source:{url:"mapbox://lobenichou.albersusa",type:"vector"}},{id:"albersusa_cousubs",source:{url:"mapbox://am3081.8xwbxcmy",type:"vector"}},{id:"albersusa_tracts",source:{url:"mapbox://am3081.2n3as7pn",type:"vector"}}],filters:{year:{type:"dropdown",value:"allTime",domain:["allTime"]},hazard:{type:"dropdown",value:"riverine",domain:[]},geography:{type:"dropdown",value:"counties",domain:[]}},layers:[{id:"counties",type:"fill",source:"albersusa","source-layer":"albersusa",filter:["match",["get","type"],["county"],!0,!1],layout:{},paint:{"fill-color":"hsl(0, 3%, 94%)","fill-opacity":["case",["boolean",["feature-state","hover"],!1],0,1],"fill-outline-color":["case",["boolean",["feature-state","hover"],!1],"hsl(0, 4%, 85%)","hsl(0, 4%, 85%)"]}},{id:"states",type:"fill",source:"albersusa","source-layer":"albersusa",filter:["match",["get","type"],["state"],!0,!1],layout:{},paint:{"fill-color":"rgba(0,0,0,0)"}},{id:"state-boundaries",type:"line",source:"composite","source-layer":"albersusa",filter:["match",["get","type"],["state"],!0,!1],layout:{},paint:{"line-color":"hsl(0, 0%, 34%)","line-width":.5}},{id:"county-points",type:"symbol",source:"composite","source-layer":"albersusa-points",filter:["match",["get","type"],["county"],!0,!1],layout:{"text-field":["to-string",["get","county_fips"]],"text-font":["Overpass Mono Bold","Arial Unicode MS Regular"],visibility:"none"},paint:{"text-color":"hsl(0, 0%, 100%)","text-halo-color":"hsl(0, 0%, 6%)","text-halo-width":1,"text-opacity":["step",["zoom"],0,6,1]}},{id:"state-points",type:"symbol",source:"composite","source-layer":"albersusa-points",filter:["match",["get","type"],["state"],!0,!1],layout:{"text-field":["to-string",["get","state_abbrev"]],"text-font":["Overpass Mono Bold","Arial Unicode MS Regular"]},paint:{"text-color":"hsl(0, 0%, 0%)","text-opacity":["step",["zoom"],1,6,0],"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":1}}],infoBoxes:{overview:{title:"",comp:function(e){return Object(a.jsx)(Tl,{layer:e,state_fips:e.layer.state_fips,state_name:e.layer.state_name})},show:!0}},state_fips:null,state_name:null}))}({active:!0}),r.setHazard=function(e){r.state.hazard!==e&&r.setState({hazard:e})},r.setYear=function(e){r.state.year!==e&&r.setState({year:e})},r.state={select:{domain:[].concat(Rl,["allTime"]),value:[]},hazard:"riverine",year:"allTime"},r.handleChange=r.handleChange.bind(Object(x.a)(r)),r}return Object(u.a)(n,[{key:"handleChange",value:function(e){this.setState({year:e})}},{key:"fetchFalcorDeps",value:function(){var e=this;return this.props.falcor.get(["fema","disasters","length"]).then((function(t){var n=P()(t.json,["fema","disasters","length"],null);if(!n)return Promise.resolve({});e.props.falcor.get(["fema","disasters","byIndex",[{from:0,to:n-1}],Ul]).then((function(e){return e}))}))}},{key:"processData",value:function(){if(Object.keys(this.props.falcorCache).length>0){var e=P()(this.props.falcorCache,["fema","disasters","byId"],{}),t=[];return Object.keys(e).filter((function(e){return"$__path"!==e})).forEach((function(n){t.push(Ul.reduce((function(t,a){return e[n][a]&&(t[a]=e[n][a].value),t}),{})),Zl.forEach((function(t){t&&"total_funds"!==t.value&&(t.amount+=P()(e,[n,t.value,"value"],0)?parseFloat(P()(e,[n,t.value,"value"],0)):0)})),$l=Zl.reduce((function(e,t){return"total_funds"!==t.value&&(e+=t.amount),e}),0)})),Vl.filter(t,(function(e){return 0!==Vl.keys(e).length}))}}},{key:"render",value:function(){var e=this.processData();return Object(a.jsxs)("div",{className:"flex flex-col lg:flex-row h-screen box-border w-full -mt-4 fixed overflow-auto",children:[Object(a.jsx)("div",{className:"w-full fixed bg-white m-0",children:"fema"===this.props.match.params.datatype||"/fema_disasters"===this.props.match.path?Object(a.jsx)(me.TopNav,{menuItems:[{name:"By Hazard",id:1,path:"/maps/fema",sectionClass:"mb-4",itemClass:"font-bold",children:[],rest:{}},{name:"By Disaster Number",id:2,path:"/fema_disasters",sectionClass:"mb-4",itemClass:"font-bold",children:[],rest:{}}],customTheme:{sidebarBg:"bg-white",topNavHeight:"h-12",navitemTop:"px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-gray-800 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out",navitemTopActive:"px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-blue-500 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out"}}):null}),Object(a.jsxs)("div",{className:"container max-w-7xl mx-auto h-auto ",children:[Object(a.jsx)("div",{className:"mt-10 grid grid-cols-8 gap-5 sm:grid-cols-8 py-5",children:Zl.map((function(e,t){return Object(a.jsx)("div",{className:"bg-white shadow rounded-lg",children:Object(a.jsx)("div",{className:"px-4 py-5 sm:p-6",children:Object(a.jsxs)("dl",{children:[Object(a.jsx)("dt",{className:"text-sm leading-5 font-medium text-gray-500 break-words",children:e.name}),Object(a.jsx)("dd",{className:"mt-1 text-3xl leading-9 font-semibold text-gray-900",children:"total_funds"!==e.value?e.value.includes("number")?(n=e.amount,n<1e3?n:Hl(n)):Object(se.fnum)(e.amount):Object(se.fnum)($l)})]})})},t);var n}))}),Object(a.jsx)("div",{children:e&&e.length>0?Object(a.jsx)(me.Table,{defaultPageSize:10,showPagination:!1,columns:Wl,data:e,initialPageSize:10,minRows:e.length,sortBy:"last_refresh",sortOrder:"desc"}):Object(a.jsx)("div",{children:"Loading ...."})}),Object(a.jsx)("div",{children:Object(a.jsx)(xl,{attributes:["name","year","total_cost","disaster_type"],type:"disasters"})}),Object(a.jsx)("div",{children:Object(a.jsx)(xl,{attributes:["name","year","total_cost","disaster_type"],type:"count"})})]})]})}}]),n}(i.a.Component),ql={setActiveStateGeoid:K},Yl=Object(O.connect)((function(e){return{activeStateGeoid:e.stormEvents.activeStateGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[])}}),ql)(A(Kl)),Xl=[{path:"/fema_disasters",mainNav:!1,exact:!0,name:"FEMA Disasters",authed:!1,component:Object(f.withRouter)(Yl),layoutSettings:{fixed:!0,maxWidth:"",headerBar:!1,nav:"top"}}],Jl=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).MapsLayer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ui("Maps Layer",Object(c.a)(Object(c.a)({},e),{},{popover:{layers:["counties","cousubs","tracts","zipcodes","state"],pinned:!1,dataFunc:function(e){var t=this,n=e.properties,r="counties"===this.filters.geography.value?n.county_fips:"zip_codes"===this.filters.geography.value?P()(n,["ZCTA5CE10"],""):n.geoid,i="zip_codes"===this.filters.geography.value?P()(n,["ZCTA5CE10"],""):P()(this.falcorCache,["geo",r,"name"],""),o="counties"===this.filters.geography.value?P()(n,["state_abbrev"],""):P()(this.falcorCache,["geo",this.filters.fips.value,"state_abbr"],""),s="zip_codes"===this.filters.geography.value?P()(this.falcorCache,"".concat(Vt.a[this.filters.dataType.value].fetch_url,".byZip.").concat(r,".").concat(this.filters.hazard.value,".").concat(this.filters.year.value),null):P()(this.falcorCache,"".concat(Vt.a[this.filters.dataType.value].fetch_url,".").concat(r,".").concat(this.filters.hazard.value,".").concat(this.filters.year.value),null);return[[Object(a.jsx)("div",{className:"text-sm text-bold text-left",children:"".concat(i,",").concat(o)})],[Object(a.jsx)("div",{className:"text-xs text-gray-500 text-left",children:this.filters.year.value.toString().replace("allTime","1996-2019")})],[Object(a.jsx)("table",{className:"min-w-full divide-y divide-gray-200",children:Object(a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Vt.a[this.filters.dataType.value].popover.map((function(e,n){return Object(a.jsxs)("tr",{className:"bg-white",children:[Object(a.jsx)("td",{className:"px-6 py-3 whitespace-no-wrap text-xs text-left leading-5 font-medium text-gray-900",children:e.name}),Object(a.jsx)("td",{className:"px-6 py-3 whitespace-no-wrap text-xs leading-5 text-gray-500",children:"fema"===t.filters.dataType.value?"fnum"===e.type?Object(se.fnum)(P()(s,[e.value,"value"],"0")):ii(P()(s,[e.value,"value"],"0")):"fnum"===e.type?Object(se.fnum)(P()(s,[e.value],"0")):ii(P()(s,[e.value],"0"))})]},n)}))})})]]}},onHover:{layers:["counties"],dataFunc:function(e){var t=this.map,n=null;t.on("mousemove","counties",(function(e){e.features.length>0&&(n&&t.setFeatureState({source:"albersusa",id:n,sourceLayer:"counties"},{hover:!1}),n=e.features[0].id,t.setFeatureState({source:"albersusa",id:n,sourceLayer:"counties"},{hover:!0}))})),t.on("mouseleave","counties",(function(){n&&t.setFeatureState({source:"albersusa",id:n,sourceLayer:"counties"},{hover:!1})}))}},showAttributesModal:!1,legend:{title:"Total Damage",type:"threshold",types:["threshold","quantile","quantize","linear"],vertical:!1,range:[],active:!1,domain:[]},sources:Qr,layers:ei,falcorCache:{},filters:{year:{type:"dropdown",value:"allTime",domain:[].concat(Object(m.a)(Vt.a.years),["allTime"])},hazard:{type:"dropdown",value:"riverine",domain:Vt.a.Hazards},geography:{type:"dropdown",value:"counties",domain:[]},fips:{type:"dropdown",value:null,domain:[]},dataType:{type:"dropdown",value:null,domain:[]}}}))}({active:!0}),r.setYear=function(e){r.state.year!==e?r.setState({year:e}):r.setYear("allTime")},r.setHazard=function(e){r.state.hazard!==e&&r.setState({hazard:e})},r.setGeography=function(e){r.state.geography_filter!==e.target.value&&r.setState(Object(c.a)(Object(c.a)({},r.state),{},Object(M.a)({},e.target.id,e.target.value)))},r.state={layer:"Tracts Layer",year:"allTime",hazard:"riverine",select:{domain:[].concat(Object(m.a)(Vt.a.years),["allTime"]),value:[]},geography_storm:[{name:"County",value:"counties"},{name:"Municipality",value:"cousubs"},{name:"Tracts",value:"tracts"}],geography_sba:[{name:"County",value:"counties"},{name:"Zip Codes",value:"zip_codes"}],geography_filter:"counties",data:[],fips_value:null,current_fips_name:"us",showModal:!1,isLoading:!0},r.handleChange=r.handleChange.bind(Object(x.a)(r)),r}return Object(u.a)(n,[{key:"handleChange",value:function(e){this.setState({year:e})}},{key:"componentDidUpdate",value:function(e,t){this.state.hazard!==t.hazard&&this.fetchFalcorDeps(),this.state.fips_value!==t.fips_value&&this.fetchFalcorDeps(),this.state.year!==t.year&&this.fetchFalcorDeps(),this.props.match.params.datatype!==e.match.params.datatype&&this.fetchFalcorDeps(),this.state.geography_filter!==t.geography_filter&&this.fetchFalcorDeps()}},{key:"fetchFalcorDeps",value:function(){switch(this.props.match.params.datatype){case"sba":return Gt("map",Vt.a[this.props.match.params.datatype].data_columns,this.state.fips_value,this.state.geography_filter,this.state.hazard,this.state.year);case"stormevents":return Rt("map",Vt.a[this.props.match.params.datatype].data_columns,this.state.fips_value,this.state.geography_filter,this.state.hazard,this.state.year);case"fema":return Ut("map",Vt.a[this.props.match.params.datatype].data_columns,this.state.fips_value,this.state.geography_filter,this.state.hazard,this.state.year);default:return Promise.resolve({})}}},{key:"processFipsDomain",value:function(){var e=P()(this.props.falcorCache,["geo"],null),t=[];return e&&(t=Object.keys(e).filter((function(e){return"$__path"!==e})).reduce((function(t,n){return Vt.a.fips.includes(n)&&t.push({fips:n,name:e[n].name||""}),t}),[])),t}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"flex flex-col lg:flex-row h-screen box-border w-full -mt-4 fixed overflow-auto",children:[Object(a.jsxs)("div",{className:"flex-auto h-full order-last lg:order-none",children:[Object(a.jsx)("div",{className:"w-full fixed bg-white z-10",children:"fema"===this.props.match.params.datatype||"fema_disasters"===this.props.match.params.datatype?Object(a.jsx)(me.TopNav,{menuItems:[{name:"By Hazard",id:1,path:"/maps/fema",sectionClass:"mb-4",itemClass:"font-bold",children:[],rest:{}},{name:"By Disaster Number",id:2,path:"/fema_disasters",sectionClass:"mb-4",itemClass:"font-bold",children:[],rest:{}}],customTheme:{sidebarBg:"bg-white",topNavHeight:"h-12",navitemTop:"px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-gray-800 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out",navitemTopActive:"px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-blue-500 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out"}}):null}),Object(a.jsxs)("div",{className:"h-full",children:[Object(a.jsx)("div",{className:"mx-auto h-8 w-2/6 pt-11 z-40",children:Object(a.jsx)(mn,{title:"Losses in each County from ".concat(Vt.a.Hazards.filter((function(t){return t.value===e.state.hazard}))[0].name,", ").concat(this.state.year.replace("allTime","1996-2019")),type:"threshold",range:["#F1EFEF"].concat(Object(m.a)(ue[this.state.hazard+"_range"])),domain:"counties"===this.state.geography?Vt.a[this.props.match.params.datatype].counties_domain:Vt.a[this.props.match.params.datatype].other_domain,format:se.fnumClean})}),Object(a.jsx)(hl,{layers:[this.MapsLayer],height:"90%",center:[0,0],zoom:4,year:2018,fips:"",styles:[{name:"Blank",style:"mapbox://styles/am3081/ckaml4r1e1uip1ipgtx5vm9zk"}],sidebar:!1,attributes:!1,layerProps:Object(M.a)({},this.MapsLayer.name,{year:this.state.year,hazard:this.state.hazard,fips:this.state.fips_value?this.state.fips_value:null,geography:this.state.geography_filter,dataType:this.props.match.params.datatype,falcorCache:this.props.falcorCache})}),Object(a.jsxs)("div",{className:"absolute bottom-20 h-40 z-30 md:w-full md:px-12",children:[Object(a.jsx)("div",{className:"text-xs absolute pt-8",children:"Click on a bar to filter the data by year"}),Object(a.jsx)(gn,{height:200,type:"graph",data_type:this.props.match.params.datatype,setYear:this.setYear.bind(this),hazard:this.state.hazard,geoid:this.state.fips_value?this.state.fips_value:null})]})]})]}),Object(a.jsx)(xn,{HeaderTitle:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:"stormevents"===this.props.match.params.datatype?"Storm Event Losses":"sba"===this.props.match.params.datatype?"SBA Loans":"FEMA Disasters"}),Object(a.jsx)("label",{className:"text-base text-opacity-100",children:"Select a State"}),this.processFipsDomain()?Object(a.jsx)("div",{className:"relative",children:Object(a.jsxs)("select",{className:"rounded-lg py-3 px-3 border-2 border-gray-200 w-full bg-white",onChange:function(t){var n=t.target.value;e.setState({fips_value:"National"===n?null:n})},children:[Object(a.jsx)("option",{value:null,children:"National"}),this.processFipsDomain()?this.processFipsDomain().map((function(e,t){return Object(a.jsx)("option",{value:e.fips,children:e.name},t)})):null]})}):null,this.state.fips_value?Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{className:"text-sm",children:"Select a Geography"}),Object(a.jsx)("select",{className:"rounded-lg py-3 px-3 border-2 border-gray-200 w-full bg-white",onChange:function(t){var n=t.target.value;e.setState({geography_filter:n})},children:"sba"===this.props.match.params.datatype||"fema"===this.props.match.params.datatype?this.state.geography_sba.map((function(e,t){return Object(a.jsx)("option",{value:e.value,children:e.name},t)})):this.state.geography_storm.map((function(e,t){return Object(a.jsx)("option",{value:e.value,children:e.name},t)}))})]}):null]}),children:Object(a.jsx)(_n,{type:"table",data_type:this.props.match.params.datatype,geoid:this.state.fips_value?this.state.fips_value:null,year:this.state.year,setHazard:this.setHazard.bind(this),activeHazard:this.state.hazard})})]})}}]),n}(i.a.Component),Ql=Object(O.connect)((function(e,t){return{falcorCache:e.falcorCache}}),{})(A(Jl)),eu=[{path:"/maps/:datatype",mainNav:!1,exact:!1,name:"Maps",authed:!1,component:Object(f.withRouter)(Ql),layoutSettings:{fixed:!0,maxWidth:"",headerBar:!1,nav:"top"}},{path:"/maps/stormevents",mainNav:!0,exact:!0,name:"NCEI Storm Events",authed:!1,component:Object(f.withRouter)(Ql),layoutSettings:{fixed:!0,maxWidth:"",headerBar:!0,nav:"top"}},{path:"/maps/sba",mainNav:!0,exact:!0,name:"SBA Hazard Loans",authed:!1,component:Object(f.withRouter)(Ql),layoutSettings:{fixed:!0,maxWidth:"",headerBar:!0,nav:"top",subNav:"true"}},{path:"/maps/fema",mainNav:!0,exact:!0,name:"FEMA Disasters",authed:!1,component:Object(f.withRouter)(Ql),layoutSettings:{fixed:!0,maxWidth:"",headerBar:!0,nav:"top"}}],tu={app:"npmrds",type:"hhd-page",attributes:[{key:"section",type:"text",required:!0,default:"props:section",hidden:!0},{key:"sectionLanding",type:"boolean",default:!1,editable:!1,hidden:!0},{key:"index",type:"number",default:"props:index",editable:!1,hidden:!0},{key:"title",type:"text"},{key:"content",type:"richtext",required:!0},{key:"tags",type:"text",isArray:!0}]},nu=i.a.createContext({authRules:null,user:null,useRouter:!1,basePath:null}),au=function(){return i.a.useContext(nu)},ru=nu,iu=i.a.createContext({buttonThemes:{}}),ou=function(){},su=i.a.createContext({dataItems:[],interact:ou,makeInteraction:ou,makeOnClick:ou}),cu=function(){return Object(r.useContext)(su)},lu=su,uu=i.a.createContext({userouter:!1,basePath:null}),du=i.a.createContext({}),pu=function(){return i.a.useContext(du)},hu=du,fu=n(1244),bu=function(e){return Boolean(e)&&e.getCurrentContent().hasText()},mu=function e(t,n){return!!Object(me.hasValue)(t)&&(Array.isArray(t)?t.reduce((function(t,a){return t||e(a,n)}),!1):n.reduce((function(n,a){if(!0===n)return!0;var r=P()(t,a.key);return"dms-format"===a.type?e(r,a.attributes):"richtext"===a.type?Array.isArray(r)?r.reduce((function(e,t){return e||t.getCurrentContent().hasText()}),!1):Boolean(r)&&r.getCurrentContent().hasText():Array.isArray(r)?r.reduce((function(e,t){return e||Object(me.hasValue)(t)}),!1):Object(me.hasValue)(r)}),!1))},vu=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(me.hasValue)(t)?Array.isArray(t)?t.reduce((function(t,a){return t&&e(a,n)}),!0):n.reduce((function(n,a){var r=P()(t,a.key);return"dms-format"===a.type?n&&e(r,a.attributes):"richtext"===a.type?a.required?Array.isArray(r)?n&&r.reduce((function(e,t){return e&&t.getCurrentContent().hasText}),!0):n&&Boolean(r)&&r.getCurrentContent().hasText():n:Array.isArray(r)?n&&(r.length?r.reduce((function(e,t){return e&&Object(me.verifyValue)(t,a.type,a.verify)})):!a.required):n&&(Object(me.hasValue)(t[a.key])?Object(me.verifyValue)(t[a.key],a.type,a.verify):!a.required)}),!0):!a},ju=function(e){var t={action:"unknown",seedProps:function(){return null},showConfirm:!1,label:null,buttonTheme:null,disabled:!1,then:null,doThen:function(){return Promise.resolve()},goBackAfterApiAction:!0};if("string"===typeof e?t.action=e:t=Object(c.a)(Object(c.a)({},t),e),"object"===typeof t.seedProps){var n=Object(c.a)({},t.seedProps);t.seedProps=function(e,t){return Tu(n,{props:e,self:t})}}var a=t,r=a.then,i=Object(Ne.a)(a,["then"]);return"function"===typeof r&&(i.doThen=function(){return Promise.resolve(r())}),i},gu=/^(\d*)(?<!1)([1|2|3])$/,yu=function(e){var t=gu.exec(e);switch(t&&t[2]){case"1":return e+"st";case"2":return e+"nd";case"3":return e+"rd";default:return e+"th"}},xu={M:"%-m",MM:"%m",MMM:"%b",MMMM:"%B",Q:"%q",Qo:["%q",yu],D:"%-d",Do:["%-d",yu],DD:"%d",d:"%w",ddd:"%a",dddd:"%A",YY:"%y",YYYY:"%Y",A:"%p",a:["%p",function(e){return e.toLowerCase()}],H:"%-H",HH:"%H",h:"%-I",hh:"%I",m:"%-M",mm:"%M",s:"%-S",ss:"%S"},Ou=/(M+|Q|Do|D+|do|d+|Y+|A|a|H+|h+|m+|s+)/g,_u=function(e){var t=e.split(Ou).map((function(e){return e in xu?xu[e]:e})).reduce((function(e,t){return"string"===typeof t?[].concat(Object(m.a)(e.slice(0,-1)),[e.slice(-1)+t]):[].concat(Object(m.a)(e),[t,""])}),[""]).map((function(e){if("string"===typeof e)return fu.a(e);var t=Object(Z.a)(e,2),n=t[0],a=t[1];return n=fu.a(n),function(e){return a(n(e))}}));return function(e){var n=new Date(e);return t.reduce((function(e,t){return e+t(n)}),"")}},ku=function(e){return e},wu=function(e){return"date"===e?_u("MMM Do, YYYY h:mm a"):/^date:/.test(e)?_u(e.slice(5)):e?Jt.b(e):ku},Cu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.replace(/^dms:/,"")===t.replace(/^dms:/,"")},Su=function(e){return e.toLowerCase().split("").map((function(e,t){return 0===t?e.toUpperCase():e})).join("")},Nu=function(e){return e.replace(/(?<!^)(?=[A-Z])/g," ").replace(/[_-]/g," ").split(" ").map(Su).join(" ")},Lu=/^props:(.+)$/,Au=/^self:(.+)$/,Du=function(e,t){if(t||(t={props:e},e=P()(t,["props","filter"])),t.item||(t.item=P()(t,["props","item"],null)),!e)return!1;if("function"===typeof e)return e;var n=e,a=n.args,r=n.comparator;return a=function(e,t){return e.map((function(e){return"string"===typeof e?Au.test(e)?{path:e}:{value:Iu(e,t)}:{value:e}}))}(a,t),function(e){return r.apply(void 0,Object(m.a)(a.map((function(t){var n=t.path;return t.value||Iu(n,{self:e})||""}))))}},Pu=function(e,t,n,a){var r=P()(e,t.replace(/^(dms|api):(.+)$/,(function(e,t,n){return n})),null);if(!r)return!0;var i=r.args,o=r.comparator;return i=i.map((function(e){if("string"===typeof e){if(e.includes("props:"))return P()(n,e.slice(6));if(e.includes("item:"))return P()(a,e.slice(5))}return e})),o.apply(void 0,Object(m.a)(i))},zu=[">>>","==>","--\x3e","->","==",">","<",">=","<="],Mu=function(e){switch(e){case"==":return function(e,t){return e===t};case">":return function(e,t){return e>t};case"<":return function(e,t){return e<t};case">=":return function(e,t){return e>=t};case"<=":return function(e,t){return e<=t};default:return function(e,t){return e===t}}},Bu=function e(t,n,a){if(!t.length)return n;var r=t.pop();if(zu.includes(r)){var i=function(e,t){var n=t.length;switch(e){case">>>":case"==":return t.splice(n-2,n);case"==>":case"--\x3e":return t.splice(n-3,n);default:return[]}}(r,t).reverse();return e(t,function(e,t,n,a){switch(e){case">>>":return a(t[0]),n.map((function(e){return P.a.apply(void 0,[e].concat(Object(m.a)(t),[null]))}));case"==>":return n.filter((function(e){return Mu(t[1])(P()(e,t[0],null),t[2])}));case"--\x3e":return n.reduce((function(e,n){return Mu(t[1])(P()(n,t[0],null),t[2])?n:e}),null);case"==":return Mu(e)(t[0],n);default:return n}}(r,i,n,a),a)}return a(r),e(t,P()(n,r,null),a)},Fu=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ku;if("string"!==typeof e)return a||e;var i=n||{},o=i.preserveKeys,s=i.preservePath,c=i.preserveSource,l=/^(item|props|self):(.+)$/,u=null,d=null,p=null,h=function(e){return e.replace(l,(function(e,t,n){return n}))},f=function(e){u=h(e).split(".").pop(),d=h(e),p||(p=e.replace(l,(function(e,t,n){return t})))},b=e.toString().split(new RegExp("(".concat(zu.join("|"),")"))).reduce((function(e,n){var a=l.exec(n);if(a){var r=Object(Z.a)(a,3),i=r[1],o=r[2],s=P()(t,i,null);return f(n),[].concat(Object(m.a)(e),[P()(s,o,null)])}return[].concat(Object(m.a)(e),[n])}),[]).reverse(),v=r(Bu(b,b.pop(),f));return o?{key:u,value:v}:s?{key:u,path:d,value:v}:c?{key:u,path:d,source:p,value:v}:v},Iu=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!Object(me.hasValue)(t))return r||t;if(n.item||(n.item=P()(n,["props","item"],null)),Array.isArray(t))return t.map((function(t){return e(t,n,a,r)}));"object"!==typeof t&&("string"===typeof t&&(t=t.replace(/^(from:)/,"props:")),t={path:t});var i=t,o=i.path,s=i.filter,l=i.sortBy,u=i.props,d=void 0===u?{}:u,p=i.type,h=i.key,f=i.value,b=i.format,m=i.interact,v=void 0===m?[]:m,j=Fu(o,n,a,r,wu(b));if(p){Array.isArray(j)||(j=[j]),(s=Du(s,n))&&(j=j.filter(s)),l&&j.sort((function(e,t){var n=P()(e,l,e),a=P()(t,l,t);return n<a?-1:a<n?1:0})),Array.isArray(v)||(v=[v]);var g={data:j.map((function(e,t){return{key:Fu(h,Object(c.a)({self:e},n),a,"key-".concat(t)),value:Fu(f,Object(c.a)({self:e},n),a,e),interact:v.map((function(t){return Fu(t,Object(c.a)({self:e},n),a)})),props:Tu(d,Object(c.a)({self:e},n),a)}})),Comp:p};return function(e,t){return e(g,t)}}return j},Tu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.item||(t.item=P()(t,["props","item"],null));var a,r=Object.keys(e).filter((function(e){return/^\$.+$/.test(e)})),o=Object(c.a)({},n),s=Object(Sn.a)(r);try{for(s.s();!(a=s.n()).done;){var l=a.value;o[l.slice(1)]=e[l],delete e[l]}}catch(h){s.e(h)}finally{s.f()}var u={},d=function(n){var a=e[n],r="children"===n,s=r?{}:o,c=[];r&&(c=i.a.Children.toArray(P()(t,["props","children"],null)));var l=void 0;if(Array.isArray(a))l=a.map((function(e){return Iu(e,t,s)}));else if("object"===typeof a){var d=a.args.map((function(e){return Fu(e,t,s)}));l=a.func.apply(a,Object(m.a)(d))}else l="function"===typeof a?a(t):Iu(a,t,s);r&&(l=Array.isArray(l)?[].concat(Object(m.a)(l),Object(m.a)(c)):[l].concat(Object(m.a)(c))),u[n]=l};for(var p in e)d(p);return u},Eu=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0];if(!t.length)return n;var i=t.pop(),o=i.attributes,s=i.sections,l=Object(Ne.a)(i,["attributes","sections"]);s&&e(s,n,a+1,[].concat(Object(m.a)(r),[0])),o&&n.push.apply(n,Object(m.a)(o.map((function(e,t){var n=Object(c.a)(Object(c.a)(Object(c.a)({},l),e),{},{depth:a,id:"".concat(e.key,"-").concat(r.join("."),".").concat(t)});return"boolean"===n.type&&(n.default=Boolean(n.default)),n}))));var u=r.pop();return e(t,n,a,[].concat(Object(m.a)(r),[u+1]))},Hu=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((t=JSON.parse(JSON.stringify(t))).registerFormats&&t.registerFormats.forEach((function(t){return e(t,n)})),t.sections)t.attributes=Eu(t.sections.reverse());else{var a=t.attributes;t.attributes=Eu([{attributes:a}])}return n["".concat(t.app,"+").concat(t.type)]=t,n},Vu=function(e,t){return(t.dataItems||[]).reduce((function(t,n){return n.id===e?n:t}),null)},Ru=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"".concat(e,"/").concat(t).concat(n?"/".concat(n):"")},Gu=function(e,t,n){var a=null;return"object"===typeof t?a=P()(t,"id",null):"string"===typeof t||"number"===typeof t?t=Vu(a=t,n):t||(t=P()(n,"item",null),a=P()(t,"id",null)),[ju(e),t,a,n,n.interact]},Uu=function(){var e=Gu.apply(void 0,arguments),t=Object(Z.a)(e,5),n=t[0],a=n.action,r=n.seedProps,i=n.disabled,o=n.doThen,s=n.goBackAfterApiAction,l=Object(Ne.a)(n,["action","seedProps","disabled","doThen","goBackAfterApiAction"]),u=t[1],d=t[2],p=t[3],h=t[4],f=p.authRules,b=p.useRouter,v=p.basePath,j=p.location,g=p.history,y=Pu(f,a,p,u),x=r(p,u);if(b&&y&&!i){var O=g.push,_=j.pathname,k=j.search,w=void 0===k?"":k,C=P()(j,["state","stack"],[]),S=C.length,N=P()(j,["state","search"],[]),L=N.length;return/^(dms:)*back$/.test(a)?Object(c.a)(Object(c.a)({type:"link",key:a,action:a},l),{},{to:{pathname:P()(C,[S-1],v),search:P()(N,[L-1],""),state:{stack:C.slice(0,-1),search:N.slice(0,-1)}}}):/^(dms:)*home$/.test(a)?Object(c.a)(Object(c.a)({type:"link",key:a,action:a},l),{},{to:{pathname:v,state:{stack:[],search:[]}}}):/^api:/.test(a)?Object(c.a)(Object(c.a)({type:"button",key:a,action:a},l),{},{onClick:function(e){return e.stopPropagation(),Promise.resolve(h(a,d,x)).then((function(){return o()})).then((function(){return s&&O({pathname:P()(C,[S-1],v),search:P()(N,[L-1],""),state:{stack:C.slice(0,-1),search:N.slice(0,-1)}})}))}}):Object(c.a)(Object(c.a)({type:"link",key:a,action:a},l),{},{to:{pathname:Ru(v,a,d),search:x?"?".concat(Object.keys(x).map((function(e){return"".concat(e,"=").concat(x[e])})).join("&")):"",state:{stack:[].concat(Object(m.a)(C),[_]),search:[].concat(Object(m.a)(N),[w])}}})}return Object(c.a)(Object(c.a)({type:"button",key:a,action:a,disabled:i||!y},l),{},{onClick:function(e){return e.stopPropagation(),y?Promise.resolve(h(a,d,x)).then((function(){return/^api:/.test(a)&&o()})).then((function(){return/^api:/.test(a)&&h("dms:back")})):Promise.resolve()}})},Wu=function(){var e=Gu.apply(void 0,arguments),t=Object(Z.a)(e,5),n=t[0],a=n.action,r=n.seedProps,i=n.doThen,o=t[1],s=t[2],c=t[3],l=t[4],u=c.authRules,d=c.useRouter,p=c.basePath,h=c.location,f=c.history,b=Pu(u,a,c,o),v=r(c,o);if(d&&b){var j=f.push,g=h.pathname,y=h.search,x=void 0===y?"":y,O=P()(h,["state","stack"],[]),_=O.length,k=P()(h,["state","search"],[]),w=k.length;return/^(dms:)*back$/.test(a)?function(e){e.stopPropagation(),j({pathname:P()(O,[_-1],p),search:P()(k,[w-1],""),state:{stack:O.slice(0,-1),search:k.slice(0,-1)}})}:/^(dms:)*home$/.test(a)?function(e){e.stopPropagation(),j({pathname:p,state:{stack:[],search:[]}})}:/^api:/.test(a)?function(e){return e.stopPropagation(),Promise.resolve(l(a,s,v)).then((function(){return i()})).then((function(){return j({pathname:P()(O,[_-1],p),search:P()(k,[w-1],""),state:{stack:O.slice(0,-1),search:k.slice(0,-1)}})}))}:function(e){e.stopPropagation(),j({pathname:Ru(p,a,s,v),search:v?"?".concat(Object.keys(v).map((function(e){return"".concat(e,"=").concat(v[e])})).join("&")):"",state:{stack:[].concat(Object(m.a)(O),[g]),search:[].concat(Object(m.a)(k),[x])}})}}return function(e){return e.stopPropagation(),b?Promise.resolve(l(a,s,v)).then((function(){return/^api:/.test(a)&&i()})).then((function(){return/^api:/.test(a)&&l("dms:back")})):Promise.resolve()}},Zu=function(e){return Object(c.a)({canGoPrev:!0,canGoNext:!1,canGo:!0},e)},$u=0,Ku=function(){return"dms-msg-".concat(++$u)},qu=function(e){return e.replace(/^(dms|api):(.+)$/,(function(e,t,n){return n}))},Yu={delete:"buttonDanger",cancel:"buttonInfo"},Xu=function(e,t,n){n=qu(n);var a=P()(e,t,P()(Yu,t,null));return a||P()(e,n,P()(Yu,n,"button"))},Ju=function(e){var t=e.action,n=e.label,r=e.buttonTheme,i=Object(Ne.a)(e,["action","label","buttonTheme"]);return n=n||qu(t),Object(a.jsx)(iu.Consumer,{children:function(e){var o=e.buttonThemes;return Object(a.jsx)(me.Button,Object(c.a)(Object(c.a)({},i),{},{buttonTheme:r||Xu(o,n,t),children:n}))}})},Qu=function(e){var t=e.action,n=e.label,r=e.buttonTheme,i=Object(Ne.a)(e,["action","label","buttonTheme"]);return n=n||qu(t),Object(a.jsx)(iu.Consumer,{children:function(e){var o=e.buttonThemes;return Object(a.jsx)(me.LinkButton,Object(c.a)(Object(c.a)({},i),{},{buttonTheme:r||Xu(o,n,t),children:n}))}})},ed=function(e){var t=e.Button,n=Object(Ne.a)(e,["Button"]),i=function(e){var n=e.setOpen,i=Object(r.useState)(!0),o=Object(Z.a)(i,2),s=o[0],c=o[1];return Object(r.useEffect)((function(){var e=s&&setTimeout(c,1e3,!1);return function(){return clearTimeout(e)}}),[s]),Object(a.jsxs)("div",{children:[Object(a.jsx)(t,{waiting:s}),Object(a.jsx)(Ju,{action:"cancel",className:"ml-1",onClick:function(e){e.stopPropagation(),n(!1)}})]})},o=Object(r.useState)(!1),s=Object(Z.a)(o,2),l=s[0],u=s[1];return l?Object(a.jsx)(i,{setOpen:u}):Object(a.jsx)(Ju,Object(c.a)(Object(c.a)({},n),{},{onClick:function(e){e.stopPropagation(),u(!0)}}))},td=function(e){var t=e.action,n=e.item,i=e.props,o=void 0===i?{}:i,s=e.disabled,l=void 0!==s&&s,u=Object(Ne.a)(e,["action","item","props","disabled"]),d=function(e,t,n){return n=Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},n),Object(r.useContext)(lu)),Object(r.useContext)(ru)),Object(r.useContext)(uu)),Uu(e,t,n)}(t,n,o),p=d.showConfirm,h=d.type,f=d.to,b=Object(Ne.a)(d,["showConfirm","type","to"]),m=l||b.disabled,v=function(e){if(e.waiting)return Object(a.jsx)(Ju,Object(c.a)(Object(c.a)(Object(c.a)({},b),u),{},{disabled:!0}));switch(h){case"link":return Object(a.jsx)(Qu,Object(c.a)(Object(c.a)(Object(c.a)({},b),u),{},{to:f,disabled:m}));default:return Object(a.jsx)(Ju,Object(c.a)(Object(c.a)(Object(c.a)({},b),u),{},{disabled:m}))}};return!m&&p?Object(a.jsx)(ed,Object(c.a)(Object(c.a)({Button:v},b),u)):Object(a.jsx)(v,{})},nd=function(e){e.sortBy,e.sortOrder,e.columns,e.initialPageSize,e.Container;var t=Object(Ne.a)(e,["sortBy","sortOrder","columns","initialPageSize","Container"]),n=Object(r.useState)(""),i=Object(Z.a)(n,2),o=i[0],s=i[1],c=Du(t),l=c?t.dataItems.filter(c):t.dataItems;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(me.Input,{value:o,onChange:s,className:"w-full text-xl p-4 flex-1 rounded-lg",placeholder:"Enter section name...",autoFocus:!0}),Object(a.jsx)(td,{large:!0,className:"flex-0 text-xl ml-3 px-8",disabled:!Boolean(o),action:{action:"api:create",seedProps:function(){return{section:o,sectionLanding:1}}}})]}),t.dataItems.length?l.filter((function(e){return e.data.sectionLanding})).map((function(e,n){var r=t.dataItems.filter((function(t){var n=t.data;return!n.sectionLanding&&n.section===e.data.section}));return Object(a.jsxs)(me.List,{className:"my-3",children:[Object(a.jsx)(me.ListItemAction,{item:"".concat(e.id," ").concat(e.data.section),action:[Object(a.jsx)(td,{action:{action:"create",seedProps:function(){return{section:e.data.section,index:r.length}}},label:"Add Page"},"create"),Object(a.jsx)(td,{item:e.id,action:"edit",className:"ml-3 flex-0"}),Object(a.jsx)(td,{item:e.id,className:"ml-2",action:{action:"api:delete",showConfirm:!0},label:"Delete"},"api:delete")]}),r.map((function(e){return Object(a.jsxs)("div",{className:"p-3 m-3 mt-0 flex border-2 rounded-lg",children:[Object(a.jsx)("div",{className:"flex-1",children:Object(a.jsx)(h.Link,{to:"docs/view/".concat(e.id),children:Object(a.jsx)("h4",{children:e.data.title})})}),Object(a.jsx)(td,{item:e.id,action:"edit",className:"ml-3 flex-0"}),Object(a.jsx)(td,{item:e.id,action:"api:delete",className:"ml-3 flex-0"})]},e.id)}))]},n)})):null]})};nd.defaultProps={dmsAction:"list",dataItems:[],columns:[],filter:!1,sortBy:"updated_at",sortOrder:"desc",initialPageSize:10,striped:!1};var ad=nd,rd=function(e){var t=e.createState,n=(e.setValues,e.item),r=Object(Ne.a)(e,["createState","setValues","item"]),i=Object(me.useTheme)(),o=t.sections[0].attributes[3],s=t.sections[0].attributes[4],c=t.sections[0].attributes[5];return Object(a.jsx)("div",{className:"max-w-5xl mx-auto",children:Object(a.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(a.jsxs)("div",{className:"w-full flex flex-col justify-centerhasValue h-min-screen",children:[Object(a.jsx)("div",{className:"text-3xl text-3xl font-bold leading-7",children:Object(a.jsx)(o.Input,{className:"p-4 border-none active:border-none focus:outline-none custom-bg ".concat(i.text),autoFocus:!0,value:o.value,placeholder:"Untilted",onChange:o.onChange})}),"*",Object(a.jsxs)("div",{className:"hidden",children:[Object(a.jsx)("div",{children:"Tags"}),Object(a.jsx)(c.Input,{className:"border-none active:border-none focus:outline-none custom-bg h-full ".concat(i.text),value:c.value})]}),Object(a.jsx)("div",{className:"p-2 font-thin overflow-hidden",children:Object(a.jsx)(s.Input,{className:"p-4 border-none active:border-none focus:outline-none custom-bg h-full ".concat(i.text),value:s.value,onChange:s.onChange})})]}),Object(a.jsx)("div",{className:"mt-2 mb-4 max-w-2xl",children:Object(a.jsx)(td,{className:"w-1/2",large:!0,type:"submit",action:t.dmsAction,item:n,props:r})})]})})},id=n(32),od=n(324),sd=(n(606),n(607),n(101)),cd=n.n(sd),ld=function(e){var t=e.active,n=e.disabled,r=e.children,i=Object(Ne.a)(e,["active","disabled","children"]),o=Object(me.useTheme)();return Object(a.jsx)("button",Object(c.a)(Object(c.a)({},i),{},{disabled:n,tabIndex:-1,onMouseDown:function(e){return e.preventDefault()},className:"px-1 first:rounded-l last:rounded-r focus:border-none focus:outline-none\n        ".concat(t?"".concat(o.menuBgActive," ").concat(o.menuBgActiveHover):o.menuBg,"\n        ").concat(t?"".concat(o.menuTextActive," ").concat(o.menuTextActiveHover):o.menuText,"\n        ").concat(n?"bg-red-300 cursor-not-allowed":"".concat(o.menuBgHover," ").concat(o.menuTextHover," cursor-pointer"),"\n      "),children:r}))},ud=function(e){var t=e.children;return Object(a.jsx)("div",{className:"px-1 font-serif font-semibold",style:{fontSize:"1.25em"},children:t})},dd=function(e){var t=e.children;return Object(a.jsx)("div",{className:"flex item-center justify-center px-1",children:t})},pd={blockquote:Object(a.jsx)(dd,{children:Object(a.jsx)("span",{className:"fas fa-quote-right"})}),"code-block":Object(a.jsx)(dd,{children:Object(a.jsx)("span",{className:"fas fa-code"})}),"header-one":Object(a.jsx)(ud,{children:"H1"}),"header-two":Object(a.jsx)(ud,{children:"H2"}),"header-three":Object(a.jsx)(ud,{children:"H3"}),"ordered-list-item":Object(a.jsx)(dd,{children:Object(a.jsx)("span",{className:"fas fa-list-ol",style:{fontSize:"1.25em"}})}),"unordered-list-item":Object(a.jsx)(dd,{children:Object(a.jsx)("span",{className:"fas fa-list-ul",style:{fontSize:"1.25em"}})}),BOLD:Object(a.jsx)(ud,{children:"B"}),CODE:Object(a.jsx)(dd,{children:Object(a.jsx)("span",{className:"fas fa-code"})}),ITALIC:Object(a.jsx)(ud,{children:Object(a.jsx)("i",{children:"I"})}),STRIKETHROUGH:Object(a.jsx)(ud,{children:Object(a.jsx)("strike",{children:"\xa0S\xa0"})}),SUBSCRIPT:Object(a.jsxs)(ud,{children:["x",Object(a.jsx)("sub",{children:"2"})]}),SUPERSCRIPT:Object(a.jsxs)(ud,{children:["x",Object(a.jsx)("sup",{children:"2"})]}),UNDERLINE:Object(a.jsx)(ud,{children:Object(a.jsx)("u",{children:"U"})}),"text-left":Object(a.jsx)(dd,{children:Object(a.jsx)("span",{className:"fas fa-align-left",style:{fontSize:"1.25em"}})}),"text-center":Object(a.jsx)(dd,{children:Object(a.jsx)("span",{className:"fas fa-align-center",style:{fontSize:"1.25em"}})}),"text-right":Object(a.jsx)(dd,{children:Object(a.jsx)("span",{className:"fas fa-align-right",style:{fontSize:"1.25em"}})}),"text-justify":Object(a.jsx)(dd,{children:Object(a.jsx)("span",{className:"fas fa-align-justify",style:{fontSize:"1.25em"}})}),indent:Object(a.jsx)(dd,{children:Object(a.jsx)("span",{className:"fas fa-indent",style:{fontSize:"1.25em"}})}),outdent:Object(a.jsx)(dd,{children:Object(a.jsx)("span",{className:"fas fa-outdent",style:{fontSize:"1.25em"}})})},hd=function(e,t,n){return function(){var r=n.getEditorState,i=n.setEditorState,o=r(),s=function(e){return e.getBlockForKey(o.getSelection().getStartKey()).getData()},c=function(){return s(o.getCurrentContent()).get(e)===t};return Object(a.jsx)(ld,{active:c(),onClick:function(n){n.preventDefault();var a=o.getCurrentContent(),r=o.getSelection(),l=s(a),u=id.Modifier.setBlockData(a,r,c()?l.delete(e):l.set(e,t));i(id.EditorState.set(o,{currentContent:u}))},children:pd[t]})}},fd=function(e,t,n,r,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return function(){var c=n.getEditorState,l=n.setEditorState,u=c(),d=i.a.useCallback((function(e){return e.getBlockForKey(u.getSelection().getStartKey()).getData()}),[u]),p=i.a.useCallback((function(){var t=d(u.getCurrentContent()).get(e)||0;return t+r<s||t+r>o}),[d,u]),h=i.a.useCallback((function(t){t.preventDefault();var n=u.getCurrentContent(),a=u.getSelection(),i=d(n),c=i.get(e)||s;c=Math.max(s,Math.min(o,c+r));var p=id.Modifier.setBlockData(n,a,c>s?i.set(e,c):i.delete(e));l(id.EditorState.set(u,{currentContent:p}))}),[d,u,l]);return Object(a.jsx)(ld,{disabled:p(),onClick:h,children:pd[t]})}},bd=function(e,t){return function(){var n=t.getEditorState,r=t.setEditorState,i=n();return Object(a.jsx)(ld,{active:i.getCurrentContent().getBlockForKey(i.getSelection().getStartKey()).getType()===e,onClick:function(t){t.preventDefault(),r(id.RichUtils.toggleBlockType(i,e))},children:pd[e]})}},md=function(e,t){return function(){var n=t.getEditorState,r=t.setEditorState,i=n();return Object(a.jsx)(ld,{active:i.getCurrentInlineStyle().has(e),onClick:function(t){t.preventDefault(),r(id.RichUtils.toggleInlineStyle(i,e))},children:pd[e]})}},vd=function(){var e={blockMap:cd.a.OrderedMap()},t=function(e){var t=e.getSelection(),n=t.getStartKey(),a=t.getEndKey(),r=!1;return e.getCurrentContent().getBlockMap().reduce((function(e,t){var i=t.getKey();return i===n&&(r=!0),r&&(e=e.set(i,t)),i===a&&(r=!1),e}),cd.a.OrderedMap())};return{initialize:function(n){var a=n.getEditorState,r=n.setEditorState;e.getEditorState=a,e.setEditorState=r,e.blockMap=t(a())},onChange:function(n){return e.blockMap=t(n),n},BlockQuoteButton:bd("blockquote",e),CodeBlockButton:bd("code-block",e),HeaderOneButton:bd("header-one",e),HeaderTwoButton:bd("header-two",e),HeaderThreeButton:bd("header-three",e),OrderedListButton:bd("ordered-list-item",e),UnorderedListButton:bd("unordered-list-item",e),BoldButton:md("BOLD",e),CodeButton:md("CODE",e),ItalicButton:md("ITALIC",e),StrikeThroughButton:md("STRIKETHROUGH",e),SubScriptButton:md("SUBSCRIPT",e),SuperScriptButton:md("SUPERSCRIPT",e),UnderlineButton:md("UNDERLINE",e),LeftAlignButton:hd("textAlign","text-left",e),CenterAlignButton:hd("textAlign","text-center",e),RightAlignButton:hd("textAlign","text-right",e),JustifyAlignButton:hd("textAlign","text-justify",e),TextIndentButton:fd("textIndent","indent",e,1,4),TextOutdentButton:fd("textIndent","outdent",e,-1,4)}},jd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wrappers,n=void 0===t?[]:t,r=i.a.forwardRef((function(e,t){var n=e.blockProps,r=e.compProps;return Object(a.jsx)("img",Object(c.a)(Object(c.a)({src:n.src},r),{},{ref:t,alt:""}),n.key)})),o=n.reduce((function(e,t){return t(e)}),r);return{blockRendererFn:function(e,t){var n=t.getEditorState;if("atomic"===e.getType()){var a=n().getCurrentContent(),r=e.getEntityAt(0);if(!r)return null;var i=a.getEntity(r);if("IMAGE"===i.getType())return{component:o,editable:!1,props:{src:i.getData().src,key:r}}}return null},addImage:function(e,t){var n=t.getCurrentContent().createEntity("IMAGE","IMMUTABLE",{src:e}).getLastCreatedEntityKey(),a=id.AtomicBlockUtils.insertAtomicBlock(t,n,"IMAGE-BLOCK"),r=a.getCurrentContent(),i=r.getSelectionBefore().getStartKey();if(r.getBlockForKey(i).getLength()>0)return a;var o=r.getFirstBlock(),s=r.getLastBlock(),c=new id.SelectionState({anchorKey:o.getKey(),focusKey:s.getKey()}),l=id.Modifier.replaceWithFragment(r,c,r.getBlockMap().filter((function(e){return e.getKey()!==i}))),u=l.getLastBlock().getKey();return id.EditorState.forceSelection(id.EditorState.set(a,{currentContent:l}),new id.SelectionState({anchorKey:u,focusKey:u}))}}},gd=n(653),yd=n.n(gd),xd=n(654),Od=yd()().tlds(xd).add("ftp",null).set({fuzzyIP:!0}),_d=function(e){var t=e.store,n=e.options,r=e.decoratedText,i=e.children,o=(Object(Ne.a)(e,["store","options","decoratedText","children"]),Od.match(r)),s=o&&o.pop().url,c=n.target,l=void 0===c?"_blank":c;return t.getReadOnly()?Object(a.jsx)("a",{className:"text-blue-500 underline cursor-pointer",href:s,target:l,children:i}):Object(a.jsxs)("div",{className:"inline-block relative hoverable",children:[Object(a.jsx)("div",{className:"text-blue-500 underline cursor-pointer",children:i}),Object(a.jsx)("div",{className:"read-only-link-tooltip show-on-hover show-on-bottom pb-1 px-2 bg-gray-200 absolute z-50 rounded",onClick:function(e){return e.stopPropagation()},contentEditable:!1,children:Object(a.jsx)("a",{className:"text-blue-500 underline cursor-pointer",href:s,target:l,children:s})})]})},kd=function(e,t){var n=e.getText(),a=Od.match(n);a&&a.forEach((function(e){var n=e.index,a=e.lastIndex;return t(n,a)}))},wd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return{initialize:function(e){var n=e.getReadOnly;t.getReadOnly=n},decorators:[{strategy:kd,component:function(n){return Object(a.jsx)(_d,Object(c.a)(Object(c.a)({},n),{},{store:t,options:e}))}}]}},Cd=function(e){return function(t,n,a){var r=t.getCharacterList(),i=null;r.forEach((function(t,a){var r=t.hasStyle(e);r&&null===i?i=a:r||(null!==i&&n(i,a),i=null)})),null!==i&&n(i,r.size)}},Sd=function(){return{decorators:[{strategy:Cd("SUPERSCRIPT"),component:function(e){return Object(a.jsx)("sup",{children:e.children})}},{strategy:Cd("SUBSCRIPT"),component:function(e){return Object(a.jsx)("sub",{children:e.children})}}]}},Nd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=function(n){if(n in e)switch(n){case"className":e[n]="".concat(e[n]," ").concat(t[n]);break;case"style":e[n]=Object(c.a)(Object(c.a)({},e[n]),t[n]);break;case"onMouseOut":case"onMouseDown":case"onMouseMove":var a=e[n];e[n]=function(e){a(e),t[n](e)}}else e[n]=t[n]};for(var a in t)n(a);return e}),{})},Ld=["block","inline-block float-left mr-2","block mx-auto","inline-block float-right ml-2"],Ad=[Object(a.jsxs)("svg",{viewBox:"0 0 24 24",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L17,17 L17,7 L3,7 Z"}),Object(a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]}),Object(a.jsxs)("svg",{viewBox:"0 0 24 24",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"M21,15 L15,15 L15,17 L21,17 L21,15 Z M21,7 L15,7 L15,9 L21,9 L21,7 Z M15,13 L21,13 L21,11 L15,11 L15,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L13,17 L13,7 L3,7 Z"}),Object(a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]}),Object(a.jsxs)("svg",{viewBox:"0 0 24 24",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M5,7 L5,17 L19,17 L19,7 L5,7 Z"}),Object(a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]}),Object(a.jsxs)("svg",{viewBox:"0 0 24 24",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"M9,15 L3,15 L3,17 L9,17 L9,15 Z M9,7 L3,7 L3,9 L9,9 L9,7 Z M3,13 L9,13 L9,11 L3,11 L3,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M11,7 L11,17 L21,17 L21,7 L11,7 Z"}),Object(a.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})],Dd=function(e){return function(t){return i.a.forwardRef((function(n,r){var o=n.compProps,s=void 0===o?{}:o,l=Object(Ne.a)(n,["compProps"]),u=l.block,d=l.contentState,p=l.blockProps,h=void 0===p?{}:p,f=h.adjustPosition,b=h.position,m=i.a.useRef(),v=i.a.useRef(),j=i.a.useState("none"),g=Object(Z.a)(j,2),y=g[0],x=g[1],O=i.a.useState([0,0]),_=Object(Z.a)(O,2),k=_[0],w=_[1],C=i.a.useCallback((function(e){if(x("flex"),v.current){var t=m.current.getBoundingClientRect(),n=v.current.getBoundingClientRect();w([n.x-t.x,n.width])}}),[m,v]),S=i.a.useMemo((function(){return Be()(C,25)}),[C]),N=Nd(s,{className:Ld[b]});return Object(a.jsxs)("figure",{ref:m,className:"relative",onMouseMove:S,onMouseOut:function(e){x("none"),S.cancel()},children:[Object(a.jsx)("div",{className:"absolute top-0 p-1 z-10 justify-center",style:{display:e.getReadOnly()?"none":y,left:"".concat(k[0],"px"),width:"".concat(k[1],"px")},children:Ad.map((function(e,t){return Object(a.jsx)("button",{className:"\n                    py-1 px-2 bg-gray-100 hover:bg-gray-300\n                    ".concat(b===t?"bg-gray-300":"","\n                  "),onClick:function(e){return function(e,t){e.preventDefault(),t!==b&&(f(u,d,t),x("none"))}(e,t)},onMouseDown:function(e){return e.preventDefault()},children:e},t)}))}),Object(a.jsx)(t,Object(c.a)({ref:Object(me.useSetRefs)(r,v),compProps:N},l))]},h.key)}))}},Pd=function(){var e={},t=function(t,n,a){var r=t.getEntityAt(0),i=e.getEditorState();n.mergeEntityData(r,{position:a}),e.setEditorState(id.EditorState.forceSelection(i,i.getSelection()))};return{initialize:function(t){var n=t.getEditorState,a=t.setEditorState,r=t.getReadOnly;e.getEditorState=n,e.setEditorState=a,e.getReadOnly=r},blockRendererFn:function(e,n){var a=n.getEditorState;if("atomic"===e.getType()){var r=a().getCurrentContent(),i=e.getEntityAt(0);if(!i)return null;var o=r.getEntity(i).getData().position;return{props:{adjustPosition:t,position:void 0===o?0:o,key:i}}}return null},wrapper:Dd(e)}},zd={STRIKETHROUGH:{textDecoration:"line-through"}},Md=function(e){var t=e.getData().get("textAlign"),n=e.getData().get("textIndent"),a=[n?"indent-".concat(n):"",t||""];switch(e.getType()){case"header-one":a.push("text-3xl font-extrabold");break;case"header-two":a.push("text-2xl font-bold");break;case"header-three":a.push("text-xl font-semibold");break;case"header-four":a.push("text-base font-medium");break;case"header-five":a.push("text-sm font-medium");break;case"header-six":a.push("text-xs font-medium");break;case"blockquote":a.push("rounded bg-gray-200 py-2 px-3 m-2")}return a.filter(Boolean).join(" ")},Bd=cd.a.Map({blockquote:{element:"blockquote",wrapper:Object(a.jsx)("div",{className:"rounded bg-gray-100 p-2 my-2"})},"code-block":{element:"pre",wrapper:Object(a.jsx)("pre",{className:"border font-mono py-2 px-3 rounded bg-gray-50 my-2"})},atomic:{element:"figure",wrapper:Object(a.jsx)("figure",{className:"relative z-10"})}}),Fd=id.DefaultDraftBlockRenderMap.merge(Bd),Id=function(e,t){if(9!==+t.keyCode&&15!==+t.code)return Object(id.getDefaultKeyBinding)(t);if(!function(e){return e.getCurrentContent().getBlockForKey(e.getSelection().getStartKey()).getType().includes("ordered-list-item")}(e.getEditorState()))return Object(id.getDefaultKeyBinding)(t);t.preventDefault();var n=!1,a=t.shiftKey?-1:1,r=e.getEditorState(),i=r.getCurrentContent(),o=i.getBlockMap(),s=r.getSelection(),c=s.getStartKey(),l=s.getEndKey(),u=o.reduce((function(e,t){var r=t.getDepth(),i=t.getKey();return i===c&&(n=!0),n&&(t=t.set("depth",Math.max(0,Math.min(4,r+a)))),i===l&&(n=!1),e.set(t.getKey(),t)}),o);e.setEditorState(id.EditorState.forceSelection(id.EditorState.push(r,i.merge({blockMap:u}),"adjust-depth"),s))},Td=function(){var e={};return{initialize:function(t){var n=t.getEditorState,a=t.setEditorState;Object(Ne.a)(t,["getEditorState","setEditorState"]);e.getEditorState=n,e.setEditorState=a},keyBindingFn:Id.bind(null,e),customStyleMap:zd,blockStyleFn:Md,blockRenderMap:Fd}},Ed=function(e){return function(t){return i.a.forwardRef((function(n,r){var o=n.compProps,s=void 0===o?{}:o,l=Object(Ne.a)(n,["compProps"]),u=l.block,d=l.contentState,p=l.blockProps,h=void 0===p?{}:p,f=h.adjustWidth,b=h.width,m=void 0===b?null:b,v=i.a.useRef(),j=i.a.useState(!1),g=Object(Z.a)(j,2),y=g[0],x=g[1],O=i.a.useState(0),_=Object(Z.a)(O,2),k=_[0],w=_[1],C=i.a.useState(0),S=Object(Z.a)(C,2),N=S[0],L=S[1],A=i.a.useState(0),D=Object(Z.a)(A,2),P=D[0],z=D[1],M=i.a.useCallback((function(e){if(e.preventDefault(),v.current&&N){var t=v.current.getBoundingClientRect(),n=P-e.screenX,a=t.width-n*N;z(e.screenX),f(u,d,a)}}),[v,N,P,f,u,d]),B=i.a.useMemo((function(){return Be()(M,25)}),[M]),F=i.a.useCallback((function(e){L(0)}),[]);i.a.useEffect((function(){return document.addEventListener("mousemove",B),document.addEventListener("mouseup",F),function(){document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",F)}}),[B,F]);var I=i.a.useCallback((function(e){if(x(!0),v.current){var t=v.current.getBoundingClientRect();e.clientX>=t.x&&e.clientX<=t.x+20?w(-1):e.clientX>=t.x+t.width-20&&e.clientX<=t.x+t.width?w(1):w(0)}}),[v]),T=i.a.useCallback((function(e){k&&(e.preventDefault(),L(k),z(e.screenX))}),[k]),E=Nd(s,{style:{width:m?"".concat(m,"px"):null,cursor:k?"ew-resize":"auto",boxShadow:y||N?"0 0 2px 4px rgba(0, 0, 0, 0.25)":""},onMouseDown:T});return Object(a.jsx)("figure",{className:"relative",onMouseMove:e.getReadOnly()?null:I,onMouseOut:function(e){return x(!1)},children:Object(a.jsx)(t,Object(c.a)({ref:Object(me.useSetRefs)(r,v),compProps:E},l))},h.key)}))}},Hd=function(){var e={},t=function(t,n,a){var r=t.getEntityAt(0),i=e.getEditorState();n.mergeEntityData(r,{width:a}),e.setEditorState(id.EditorState.forceSelection(i,i.getSelection()))};return{initialize:function(t){var n=t.getEditorState,a=t.setEditorState,r=t.getReadOnly;e.getEditorState=n,e.setEditorState=a,e.getReadOnly=r,e.resizing=0,e.screenX=null},blockRendererFn:function(e,n){var a=n.getEditorState;if("atomic"===e.getType()){var r=a().getCurrentContent(),i=e.getEntityAt(0);if(!i)return null;var o=r.getEntity(i).getData().width;return{props:{adjustWidth:t,width:void 0===o?null:o,key:i}}}return null},wrapper:Ed(e)}},Vd=Pd(),Rd=Hd(),Gd=jd({wrappers:[Vd.wrapper,Rd.wrapper]}),Ud=wd(),Wd=[vd(),Gd,Ud,Sd(),Vd,Rd,Td()],Zd=new id.CompositeDecorator(Ud.decorators),$d=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={editorState:id.EditorState.createEmpty()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadFromProps()}},{key:"componentDidUpdate",value:function(){this.props.isRaw||this.props.value===this.state.editorState||this.loadFromProps()}},{key:"loadFromProps",value:function(){this.props.isRaw&&this.props.value?this.loadFromRawContent(this.props.value):this.props.isRaw||this.onChange(this.props.value)}},{key:"loadFromRawContent",value:function(e){var t=id.EditorState.createWithContent(Object(id.convertFromRaw)(e),Zd);this.onChange(t)}},{key:"onChange",value:function(e){this.setState({editorState:e})}},{key:"render",value:function(){var e=this;return this.props.value?Object(a.jsx)("div",{className:"draft-js-editor read-only-editor flow-root",children:Object(a.jsx)(od.a,{editorState:this.state.editorState,onChange:function(t){return e.onChange(t)},plugins:Wd,readOnly:!0,spellCheck:this.props.spellCheck})}):null}}]),n}(i.a.Component);$d.defaultProps={spellCheck:!0,isRaw:!0};var Kd=$d,qd=function(e){var t=e.item,n=e.dataItems,r=Object(Ne.a)(e,["item","dataItems"]),i=me.useTheme;if(console.log("view",t,n,r),t||(t=n[0]),!t||!t.data)return null;var o=t.data,s=n.filter((function(e){return e.data.sectionLanding})).map((function(e,t){return{name:e.data.section,path:"/docs/view/".concat(e.id),sectionClass:"mb-4",itemClass:"font-bold",children:n.filter((function(t){var n=t.data;return!n.sectionLanding&&n.section===e.data.section})).map((function(e){return{name:e.data.title,path:"/docs/view/".concat(e.id),itemClass:"font-thin -mt-2"}}))}}));return Object(a.jsxs)("div",{className:"max-w-7xl mx-auto flex items-start",children:[Object(a.jsx)("div",{className:"w-60 border-2 overflow-hidden",children:Object(a.jsx)(me.SideNav,{menuItems:s})}),Object(a.jsxs)("div",{className:"w-full flex flex-col justify-center hasValue h-min-screen pl-4",children:[Object(a.jsx)("div",{className:"px-2 pt-2 pb-6 text-3xl font-bold leading-7 ".concat(i.text),children:o.title}),Object(a.jsx)("div",{className:"p-2 pb-6 font-thin",children:Object(a.jsx)(Kd,{value:o.content})})]})]})},Yd={type:"dms-manager",wrappers:["dms-manager","dms-provider","dms-falcor","dms-router"],props:{format:tu,title:" ",className:"h-full",noHeader:!0},children:[{type:qd,dmsAction:"view"}]},Xd=function(e){Object.assign({},e);return Object(a.jsx)("div",{className:"border-r border-l mx-2 border-current",style:{borderColor:"currentColor"}})},Jd=vd(),Qd=Jd.BlockQuoteButton,ep=Jd.CodeBlockButton,tp=Jd.HeaderOneButton,np=Jd.HeaderTwoButton,ap=Jd.HeaderThreeButton,rp=Jd.OrderedListButton,ip=Jd.UnorderedListButton,op=Jd.BoldButton,sp=Jd.CodeButton,cp=Jd.ItalicButton,lp=Jd.StrikeThroughButton,up=Jd.SubScriptButton,dp=Jd.SuperScriptButton,pp=Jd.UnderlineButton,hp=Jd.LeftAlignButton,fp=Jd.CenterAlignButton,bp=Jd.JustifyAlignButton,mp=Jd.RightAlignButton,vp=Jd.TextIndentButton,jp=Jd.TextOutdentButton,gp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.position,n=void 0===t?"top":t,r=e.direction,i=void 0===r?"row":r,o={},s=function(e){var t=e.children,r=Object(me.useTheme)();return Object(a.jsx)("div",{className:"absolute ".concat(n,"-0 left-0 w-full p-2 z-10 h-14"),children:Object(a.jsx)("div",{className:"flex flex-".concat(i," shadow-md h-10 p-1 rounded ").concat(r.menuBg," w-full"),children:t})})};return{initialize:function(e){var t=e.getEditorState,n=e.setEditorState;e.getProps;o.getEditorState=t,o.setEditorState=n},Toolbar:s,Separator:Xd}}(),yp=gp.Toolbar,xp=gp.Separator,Op=Pd(),_p=Hd(),kp=jd({wrappers:[Op.wrapper,_p.wrapper]}),wp=kp.addImage,Cp=wd(),Sp=[Jd,gp,kp,Cp,Sd(),Op,_p,Td()],Np=new id.CompositeDecorator(Cp.decorators),Lp=function(){return id.EditorState.createEmpty(Np)},Ap=function(e){return id.EditorState.createWithContent(Object(id.convertFromRaw)(e),Np)},Dp=function(e){return Boolean(e)?Ap(e):Lp()},Pp=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(a=t.call.apply(t,[this,e].concat(i))).state={hasFocus:!1},a.editor=null,a.handleDroppedFiles=a.handleDroppedFiles.bind(Object(x.a)(a)),a.handleChange=a.handleChange.bind(Object(x.a)(a)),a.onFocus=a.onFocus.bind(Object(x.a)(a)),a.onBlur=a.onBlur.bind(Object(x.a)(a)),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focus()}},{key:"componentWillUnmount",value:function(){this.editor=null}},{key:"focus",value:function(){var e=this;setTimeout((function(){e.editor&&e.editor.focus()}),25)}},{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"handleDroppedFiles",value:function(e,t,n){var a=this,r=n.getEditorState;if(this.props.disabled||!t.length)return"not-handled";var i=t[0];return/^image[/]/.test(i.type)?(this.props.uploadImage(i).then((function(e){e.filename;var t=e.url;a.handleChange(wp(t,r()))})),"handled"):"not-handled"}},{key:"onFocus",value:function(e){this.setState((function(e){return{hasFocus:!0}})),"function"===typeof this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.setState((function(e){return{hasFocus:!1}})),"function"===typeof this.props.onBlur&&this.props.onBlur(e)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(Mp,{id:this.props.id,hasFocus:this.state.hasFocus,children:[Object(a.jsx)("div",{className:"px-2 pb-2 flow-root",children:Object(a.jsx)(od.a,{ref:function(t){return e.editor=t},placeholder:this.props.placeholder,editorState:this.props.value,onChange:this.handleChange,plugins:Sp,readOnly:this.props.disabled,handleDroppedFiles:this.handleDroppedFiles,spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur})}),Object(a.jsxs)(yp,{children:[Object(a.jsx)(op,{}),Object(a.jsx)(cp,{}),Object(a.jsx)(lp,{}),Object(a.jsx)(pp,{}),Object(a.jsx)(up,{}),Object(a.jsx)(dp,{}),Object(a.jsx)(sp,{}),Object(a.jsx)(xp,{}),Object(a.jsx)(tp,{}),Object(a.jsx)(np,{}),Object(a.jsx)(ap,{}),Object(a.jsx)(xp,{}),Object(a.jsx)(Qd,{}),Object(a.jsx)(ep,{}),Object(a.jsx)(rp,{}),Object(a.jsx)(ip,{}),Object(a.jsx)(xp,{}),Object(a.jsx)(hp,{}),Object(a.jsx)(fp,{}),Object(a.jsx)(bp,{}),Object(a.jsx)(mp,{}),Object(a.jsx)(xp,{}),Object(a.jsx)(jp,{}),Object(a.jsx)(vp,{})]}),this.props.children]})}}]),n}(i.a.Component);Pp.defaultProps={disabled:!1,autoFocus:!1,id:"draft-js-editor",placeholder:"Type a value..."};var zp=Object(me.imgLoader)(Object(me.showLoading)(Pp,{position:"absolute",className:"rounded"})),Mp=function(e){var t=e.children,n=e.hasFocus,r=(e.id,Object(Ne.a)(e,["children","hasFocus","id"])),i=Object(me.useTheme)();return Object(a.jsx)("div",Object(c.a)(Object(c.a)({className:"pt-16 relative rounded draft-js-editor\n      ".concat(i.inputBg.replace("cursor-pointer","cursor-auto")," w-full\n      ").concat(n?i.inputBorderFocus:i.inputBorder,"\n    ")},r),{},{children:t}))},Bp=Object(me.imgLoader)(Object(me.showLoading)((function(e){var t=e.height,n=void 0===t?500:t,r=e.autoFocus,o=void 0!==r&&r,s=e.value,c=e.onChange,l=Object(Ne.a)(e,["height","autoFocus","value","onChange"]),u=i.a.useState(!1),d=Object(Z.a)(u,2),p=d[0],h=d[1],f=function(e){e.preventDefault(),e.stopPropagation()},b=i.a.useState([]),v=Object(Z.a)(b,2),j=v[0],g=v[1],y=i.a.useState(-1),x=Object(Z.a)(y,2),O=x[0],_=x[1],k=i.a.useState([]),w=Object(Z.a)(k,2),C=w[0],S=w[1],N=function(){g([]),_(-1)};i.a.useEffect((function(){s&&(g([s]),_(0))}),[s]);var L=i.a.useState(null),A=Object(Z.a)(L,2),D=A[0],z=A[1],M=i.a.useState(!1),B=Object(Z.a)(M,2)[1],F=P()(j,[O,"url"]),I=function(e){l.uploadImage(e).then((function(e){var t=e.filename,n=e.url;return c({filename:t,url:n})}))},T=function(e){var t=D.naturalHeight/V.getBoundingClientRect().height,n=W.map((function(e){return e.map((function(e){return e*t}))})),a=Object(Z.a)(n,2),r=Object(Z.a)(a[0],2),i=r[0],o=r[1],s=Object(Z.a)(a[1],2),c=s[0],u=s[1],d=j[O].filename;l.editImage(F,d,"crop",[c-i,u-o,i,o]).then((function(e){var t;t={filename:d,url:e},g([].concat(Object(m.a)(j.slice(0,O+1)),[t])),_(O+1),S([].concat(Object(m.a)(C),[e]))})).then($)},E=i.a.useState(null),H=Object(Z.a)(E,2),V=H[0],R=H[1],G=Object(me.useBrush)(V),U=G.Brush,W=G.selection,$=G.clearBrush,K=i.a.useState(o),q=Object(Z.a)(K,2),Y=q[0],X=q[1],J=i.a.useState(null),Q=Object(Z.a)(J,2),ee=Q[0],te=Q[1];i.a.useEffect((function(){o&&ee&&ee.focus()}),[o,ee]);var ne=Object(me.useTheme)();return Object(a.jsxs)("div",{className:"\n        w-full ".concat(Y?ne.inputBorderFocus:ne.inputBorder," rounded p-2 relative\n      "),tabIndex:"0",ref:te,onClick:function(e){return ee.focus()},onFocus:function(e){return X(!0)},onBlur:function(e){return X(!1)},children:[Object(a.jsx)("div",{className:"\n          border-2 border-dashed rounded p-2 ".concat(ne.inputBg,"\n          ").concat(p?"border-gray-500":"","\n        "),onDragOver:function(e){return!l.disabled&&function(e){f(e),h(!0)}(e)},onDragLeave:function(e){return!l.disabled&&function(e){f(e),h(!1)}(e)},onDrop:function(e){return function(e){if(e.preventDefault(),e.stopPropagation(),!l.disabled){h(!1);var t=P()(e,["dataTransfer","files",0],null);t&&I(t)}}(e)},children:Object(a.jsx)("div",{className:"relative flex items-center justify-center w-full",style:{height:"".concat(n,"px")},children:F?Object(a.jsxs)("div",{className:"flex-1 absolute top-0 bottom-0 left-0 right-0 flex items-center justify-center hoverable",children:[Object(a.jsxs)("div",{className:"relative",style:{maxHeight:"".concat(n,"px")},children:[Object(a.jsx)("div",{className:"z-0 h-full",style:{maxHeight:"".concat(n,"px")},children:Object(a.jsx)("img",{src:F,alt:s,ref:z,className:"block",style:{maxHeight:"".concat(n,"px")},onLoad:function(e){return B(!0)}})}),Object(a.jsx)("div",{className:"absolute top-0 left-0 w-full h-full z-10",style:{maxHeight:"".concat(n,"px")},children:Object(a.jsx)("svg",{className:"w-full h-full",ref:R,children:Object(a.jsx)(U,{})})})]}),Object(a.jsx)("div",{onClick:function(e){return N(),void c(null)},className:"\n                    absolute right-0 top-0 z-10 show-on-hover\n                    rounded bg-red-500 p-1 cursor-pointer\n                  ",children:Object(a.jsxs)("svg",{width:"20",height:"20",children:[Object(a.jsx)("line",{x2:"20",y2:"20",style:{stroke:"#fff",strokeWidth:4}}),Object(a.jsx)("line",{y1:"20",x2:"20",style:{stroke:"#fff",strokeWidth:4}})]})})]}):p?Object(a.jsx)("span",{className:"far fa-image fa-9x pointer-events-none opacity-50"}):l.disabled?Object(a.jsx)("span",{className:"fas fa-times fa-9x pointer-events-none opacity-50"}):Object(a.jsxs)("div",{className:"flex-0 flex flex-col items-center",children:[Object(a.jsx)(Fp,{id:l.id,onChange:function(e){return function(e){if(e.preventDefault(),e.stopPropagation(),!l.disabled){var t=P()(e,["target","files",0],null);t&&I(t)}}(e)}}),Object(a.jsx)("div",{className:"mt-1",children:"...or drag and drop"}),Object(a.jsx)("div",{className:"mt-1",children:l.message})]})})}),Object(a.jsxs)("div",{className:"mt-2 p-2 border-2 rounded ".concat(ne.accent1," flex"),children:[Object(a.jsxs)("div",{className:"flex flex-1",children:[Object(a.jsx)(me.Button,{disabled:!Boolean(W),onClick:function(e){return T()},tabIndex:"-1",children:"Apply Crop"}),Object(a.jsx)(me.Button,{disabled:O<1,onClick:function(e){return $(),void _(Math.max(0,O-1))},tabIndex:"-1",children:"Undo"}),Object(a.jsx)(me.Button,{disabled:O+1===j.length,onClick:function(e){return $(),void _(Math.min(j.length-1,O+1))},tabIndex:"-1",children:"Redo"})]}),Object(a.jsx)("div",{className:"flex-0 flex justify-end",children:Object(a.jsx)(me.Button,{disabled:P()(j,[O,"url"])===P()(s,"url"),onClick:function(e){return function(){var e=j[O],t=e.url,n=e.filename;l.saveImage(t,n,C).then((function(e){N(),c({url:e,filename:n})}))}()},buttonTheme:"buttonSuccess",children:"Save"})})]}),l.children]})}),{position:"absolute",className:"rounded"})),Fp=function(e){var t=Object(me.useTheme)();return Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:e.id,className:"".concat(t.buttonInfo," cursor-pointer"),children:"Select an image file..."}),Object(a.jsx)("input",Object(c.a)({className:"py-1 px-2 w-full rounded hidden",tabIndex:"-1",type:"file",accept:"image/*"},e))]})},Ip=function e(t,n){var a=this;Object(l.a)(this,e),this.checkHasValue=function(e){return Array.isArray(e)?e&&e.reduce((function(e,t){return e||Object(me.hasValue)(t)}),!1):Object(me.hasValue)(e)},this.verifyValue=function(e){return a.checkHasValue(e)?Array.isArray(e)?e.reduce((function(e,t){return e&&Object(me.verifyValue)(t,a.type,a.verify)}),!0):Object(me.verifyValue)(e,a.type,a.verify):!a.required},Object.assign(this,t),this.name=this.name||Nu(this.key),this.Input=eh(this,n)},Tp=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).checkHasValue=function(e){return Array.isArray(e)?Object(me.hasValue)(e)&&e.reduce((function(e,t){return e||bu(t)}),!1):bu(e)},e.verifyValue=function(t){return!e.required||e.checkHasValue(t)},e}return n}(Ip),Ep=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,a,r){var i;return Object(l.a)(this,n),(i=t.call(this,e,r)).checkHasValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.attributes;return mu(e,t)},i.verifyValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.attributes;return vu(e,t,i.required)},i.Format=JSON.parse(JSON.stringify(a[i.format])),i.attributes=ih(i.Format,r.registeredFormats),i.required=i.isArray?i.required:rh(i.attributes),i}return n}(Ip),Hp=function(e,t,n,a){var r=cu().registeredFormats,o=i.a.useCallback((function(e,a){n(Object(c.a)(Object(c.a)({},t),{},Object(M.a)({},e,a)))}),[t,n]),s=i.a.useState([]),l=Object(Z.a)(s,2),u=l[0],d=l[1];return i.a.useEffect((function(){if(e.length&&!u.length){var t=e.map((function(e,t){return{index:t,title:e.title,isActive:!1,verified:!1,attributes:e.attributes.map((function(e){return function(e,t,n){return"dms-format"===e.type?new Ep(e,t,n):"richtext"===e.type?new Tp(e,n):new Ip(e,n)}(e,r,a)}))}}));d(t)}}),[e,u.length,r,a]),i.a.useMemo((function(){return u.forEach((function(e){e.attributes.forEach((function(e){e.onChange=function(t){o(e.key,t)}}))})),u}),[u,o])},Vp=i.a.forwardRef((function(e,t){var n=e.Attribute,r=e.id,o=e.autoFocus,s=void 0!==o&&o,l=e.onFocus,u=e.onBlur,d=e.onChange,p=e.value,h=Object(Ne.a)(e,["Attribute","id","autoFocus","onFocus","onBlur","onChange","value"]);p=p||{};var f=Object(c.a)(Object(c.a)(Object(c.a)({},h),cu()),{},{user:au().user}),b=ch(n.Format),m=Hp(b,p,d,f),v=i.a.useState(s),j=Object(Z.a)(v,2),g=j[0],y=j[1],x=i.a.useState(g),O=Object(Z.a)(x,2),_=O[0],k=O[1],w=i.a.useCallback((function(){return y(!0)}),[y]),C=i.a.useCallback((function(){return y(!1)}),[y]);i.a.useEffect((function(){g!==_&&("function"===typeof u&&!g&&u(),"function"===typeof l&&g&&l(),k(g))}),[g,_,l,u]);var S=Object(me.useTheme)();return Object(a.jsx)("div",{id:r,className:"\n        w-full border-2 border-transparent rounded p-2 ".concat(S.transition,"\n        ").concat(g?S.inputBorderFocus:S.inputBorder,"\n      "),children:m.map((function(e){return Object(a.jsxs)("div",{children:[e.title?Object(a.jsx)("div",{className:"text-lg font-bold",children:e.title}):null,e.attributes.map((function(n,r){var i=n.Input,o=n.key,l=Object(Ne.a)(n,["Input","key"]);return Object(a.jsxs)("div",{className:"border-l-4 pl-2 pb-2 mb-2 last:mb-0\n                  ".concat(l.verifyValue(p[o])?l.required?S.borderSuccess:l.checkHasValue(p[o])?S.borderInfo:S.borderLight:S.borderDanger,"\n                  ").concat(l.hidden?"hidden":"","\n                "),children:[Object(a.jsx)("label",{htmlFor:l.id,children:l.name}),Object(a.jsx)(i,Object(c.a)(Object(c.a)({},h),{},{onChange:l.onChange,value:p[o],ref:0===e.index&&0===r?t:null,autoFocus:s&&0===e.index&&0===r,onFocus:w,onBlur:C}))]},o)}))]},e.index)}))})})),Rp=function(e){var t=e.value;switch(typeof t){case"object":return JSON.stringify(t,null,3);default:return t.toString()}},Gp=function(){return null},Up=i.a.forwardRef((function(e,t){var n=e.Input,r=e.onChange,o=e.value,s=e.disabled,l=e.autoFocus,u=e.DisplayComp,d=void 0===u?Rp:u,p=e.inputProps,h=e.type,f=e.verify,b=e.verifyValue,v=void 0===b?me.verifyValue:b,j=e.hasValue,g=void 0===j?me.hasValue:j,y=e.getEmptyValue,x=void 0===y?Gp:y,O=Object(Ne.a)(e,["Input","onChange","value","disabled","autoFocus","DisplayComp","inputProps","type","verify","verifyValue","hasValue","getEmptyValue"]);o=o||[];var _=i.a.useState(null),k=Object(Z.a)(_,2),w=k[0],C=k[1],S=i.a.useState(x),N=Object(Z.a)(S,2),L=N[0],A=N[1],D=i.a.useCallback((function(e){var t=[].concat(Object(m.a)(o),[L]);r(t),A(x()),w&&w.focus()}),[o,L,w,r,x]),P=i.a.useCallback((function(e){r(o.filter((function(t){return t!==e})))}),[o,r]),z=i.a.useCallback((function(e){A(e),P(e),w&&w.focus()}),[w,P]),M=i.a.useMemo((function(){return s||!g(L)||o.includes(L)||!v(L,h,f)||"number"===h&&!o.reduce((function(e,t){return e&&+t!==+L}),!0)}),[o,L,g,v,f,h,s]),B=i.a.useCallback((function(e){M||13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),D())}),[D,M]);return Object(a.jsxs)("div",{className:"w-full",children:[Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsx)(n,Object(c.a)(Object(c.a)(Object(c.a)({value:L,onChange:A},O),p),{},{disabled:s,autoFocus:l,onKeyDown:B,placeholder:"Type a value...",ref:Object(me.useSetRefs)(t,C)})),Object(a.jsx)(me.Button,{onClick:D,className:"ml-1",disabled:M,children:"add"})]}),o.length?Object(a.jsx)("div",{className:"mt-1 ml-10",children:Object(a.jsx)(me.ValueContainer,{children:o.map((function(e,t){return Object(a.jsx)(me.ValueItem,{edit:function(t){return z(e)},remove:function(t){return P(e)},children:Object(a.jsx)(d,{value:e})},t)}))})}):null]})})),Wp=function(e){var t=e.value;switch(typeof t){case"object":return JSON.stringify(t,null,3);default:return t.toString()}},Zp=function(){return null},$p=i.a.forwardRef((function(e,t){var n=e.Input,r=e.onChange,o=e.value,s=e.disabled,l=e.autoFocus,u=e.DisplayComp,d=void 0===u?Wp:u,p=e.inputProps,h=e.type,f=e.verify,b=e.verifyValue,v=void 0===b?me.verifyValue:b,j=e.hasValue,g=void 0===j?me.hasValue:j,y=e.getEmptyValue,x=void 0===y?Zp:y,O=Object(Ne.a)(e,["Input","onChange","value","disabled","autoFocus","DisplayComp","inputProps","type","verify","verifyValue","hasValue","getEmptyValue"]);o=o||[];var _=i.a.useState(null),k=Object(Z.a)(_,2),w=k[0],C=k[1],S=i.a.useState(x),N=Object(Z.a)(S,2),L=N[0],A=N[1],D=i.a.useState(null),P=Object(Z.a)(D,2),z=P[0],M=P[1],B=i.a.useState(!1),F=Object(Z.a)(B,2),I=F[0],T=F[1],E=i.a.useCallback((function(e){var t=null===z?[].concat(Object(m.a)(o),[L]):Object(m.a)(o);z&&(o[z]=L),r(t),A(x()),M(null),T(!1),w&&w.focus()}),[o,L,w,r,x,z]),H=i.a.useCallback((function(e){r(o.filter((function(t){return t!==e})))}),[o,r]),V=i.a.useCallback((function(e){T(!I),M(null),A(x())}),[I,x]),R=i.a.useCallback((function(e,t){M(t),A(e),T(!1),w&&w.focus()}),[w]),G=i.a.useMemo((function(){return s||!g(L)||o.includes(L)||!v(L,h,f)||"number"===h&&!o.reduce((function(e,t){return e&&+t!==+L}),!0)}),[o,L,g,v,f,h,s]),U=i.a.useCallback((function(e){G||13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),E())}),[E,G]),W=i.a.useCallback((function(e,t){if(!(e+t<0||e+t>=o.length)){var n=Object(m.a)(o),a=n.splice(e,1),i=Object(Z.a)(a,1)[0];n.splice(e+t,0,i),r(n)}}),[r,o]);return Object(a.jsxs)("div",{className:"w-full",children:[Object(a.jsxs)("div",{className:"flex flex-col",children:[Object(a.jsx)("div",{children:Object(a.jsx)(me.Button,{onClick:V,buttonTheme:I?"buttonDanger":"buttonSuccess",children:I?"cancel":"create new"})}),Object(a.jsx)("div",{style:{display:I?"block":"none"},children:Object(a.jsx)(qp,Object(c.a)(Object(c.a)(Object(c.a)({Input:n},O),p),{},{ref:Object(me.useSetRefs)(t,C),value:L,onChange:A,autoFocus:l,onKeyDown:U,disabled:s,placeholder:"Type a value...",children:Object(a.jsx)(me.Button,{onClick:E,buttonTheme:"buttonSuccess",disabled:G,children:"create"})}))})]}),o.length?o.map((function(e,t){return Object(a.jsx)("div",{className:"p-2 my-2 border rounded",children:z===t?Object(a.jsx)(qp,Object(c.a)(Object(c.a)(Object(c.a)({Input:n},O),p),{},{value:L,onChange:A,autoFocus:l,onKeyDown:U,disabled:s,placeholder:"Type a value...",children:Object(a.jsx)(me.Button,{onClick:E,buttonTheme:"buttonSuccess",disabled:G,children:"save"})})):Object(a.jsx)("div",{className:"w-full",children:Object(a.jsx)(Kp,{edit:function(n){return R(e,t)},remove:function(t){return H(e)},move:function(e){return W(t,e)},index:t,length:o.length,children:Object(a.jsx)(d,{value:e})})})},t)})):null]})})),Kp=function(e){var t=e.edit,n=e.remove,r=e.move,i=e.index,o=e.length,s=e.children;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"flex",children:[Object(a.jsxs)("div",{className:"flex-0 flex flex-col mr-1",children:[Object(a.jsx)(me.Button,{small:!0,className:"h-8 mb-1",disabled:i-1<0,onClick:function(e){return r(-1)},children:Object(a.jsx)("span",{className:"fa fa-arrow-up"})}),Object(a.jsx)(me.Button,{small:!0,className:"h-8",disabled:i+1>=o,onClick:function(e){return r(1)},children:Object(a.jsx)("span",{className:"fa fa-arrow-down"})})]}),Object(a.jsxs)("div",{className:"flex-1 flex flex-col",children:[Object(a.jsxs)("div",{className:"flex items-start",children:[Object(a.jsx)(me.Button,{onClick:t,buttonTheme:"buttonPrimarySmall",children:"edit"}),Object(a.jsx)(me.Button,{className:"ml-1",onClick:n,buttonTheme:"buttonDangerSmall",children:"remove"})]}),Object(a.jsx)("div",{className:"ml-2",children:s})]})]})})},qp=i.a.forwardRef((function(e,t){var n=e.Input,r=e.children,i=Object(Ne.a)(e,["Input","children"]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"my-2",children:Object(a.jsx)(n,Object(c.a)(Object(c.a)({},i),{},{ref:t}))}),r]})})),Yp=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;var i="".concat(n.key).concat(null===r?"":"-".concat(r)),o=null===r?n.name:"";return Array.isArray(t)?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"font-bold",children:o}),t.map((function(t,a){return e(t,n,a)}))]},i):"richtext"===n.type?t.getCurrentContent().hasText()?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"font-bold",children:o}),Object(a.jsx)(Kd,{value:t,isRaw:!1},n.key)]},i):null:"dms-format"===n.type?n.attributes.map((function(n){return e(P()(t,n.key),n)})):Object(a.jsxs)("div",{children:[o?Object(a.jsxs)("span",{className:"font-bold",children:[o,": "]}):null,t]},i)},Xp=function(e){return function(t){var n=t.value,r=i.a.useMemo((function(){return Yp(n,e)}),[n]);return Object(a.jsx)("div",{children:r})}};function Jp(e,t){return e.attributes.reduce((function(e,n){return"dms-format"===n.type?e[n.key]=Jp(n):"richtext"===n.type?e[n.key]=Lp():"default"in n&&(e[n.key]=Iu(n.default,t)),e}),{})}var Qp=function(e){var t=e.value;return Object(a.jsx)(Kd,{value:t,isRaw:!1})},eh=function(e,t,n){var r=e.type,o=e.isArray,s=void 0!==o&&o,l=function(e,t){return e.domain?"string"===typeof e.domain?Iu(e.domain,{props:t})||[]:e.domain:null}(e,t);if(l)return function(t){return Object(a.jsx)(me.Select,Object(c.a)(Object(c.a)({},t),{},{multi:s,domain:l,id:e.id,disabled:n||!1===e.editable}))};var u,d,p=null,h={};switch(r){case"markdown":p=me.MarkdownInput;break;case"textarea":p=me.TextArea;break;case"img":p=Bp,h={imgUploadUrl:P()(t,"imgUploadUrl")};break;case"richtext":p=zp,u=Qp,d=Lp,h={imgUploadUrl:P()(t,"imgUploadUrl")};break;case"object":p=me.ObjectInput;break;case"dms-format":p=Vp,h={Attribute:e},d=Jp.bind(null,e,t),u=Xp(e);break;case"boolean":p=me.BooleanInput;break;default:p=me.Input,h={type:r}}return s?i.a.forwardRef((function(t,i){return"dms-format"===r?Object(a.jsx)($p,Object(c.a)(Object(c.a)({},t),{},{Input:t.EditComp||p,id:e.id,inputProps:h,verifyValue:e.verifyValue,hasValue:e.checkHasValue,DisplayComp:t.DisplayComp||u,ref:i,getEmptyValue:d,disabled:n||!1===e.editable})):Object(a.jsx)(Up,Object(c.a)(Object(c.a)({},t),{},{Input:t.EditComp||p,id:e.id,inputProps:h,verifyValue:e.verifyValue,hasValue:e.checkHasValue,DisplayComp:t.DisplayComp||u,ref:i,getEmptyValue:d,disabled:n||!1===e.editable}))})):i.a.forwardRef((function(t,r){return Object(a.jsx)(p,Object(c.a)(Object(c.a)(Object(c.a)({id:e.id},h),t),{},{ref:r,disabled:n||!1===e.editable}))}))},th=function e(t,n){var a=this;Object(l.a)(this,e),this.getValues=function(e){return a.attributes.reduce((function(t,n){var a=P()(e,n.key);return n.checkHasValue(a)&&(t[n.key]=n.getValue(a)),t}),{})},this.onSave=function(){a.sections.forEach((function(e){return e.attributes.forEach((function(e){return e.onSave()}))}))},this.numSections=0,this.activeSection=null,this.activeIndex=-1,this.verified=!1,this.hasWarning=!1,this.warnings=[],this.values={},this.hasValues=!1,this.defaultsLoaded=!1,this.canGoNext=!1,this.next=function(){},this.canGoPrev=!1,this.prev=function(){},this.sections=[],this.attributes=[],this.badAttributes=[],this.ignoredAttributes=[],this.setValues=function(e,n){t((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(M.a)({},e,n))}))},this.mapOldToNew=function(e,t,n){a.ignoredAttributes.push(e),console.log("MAP OLD TO NEW:",e,t,n);var r=a.attributes.find((function(e){return e.key===t}));r.onChange(r.mapOldToNew(n))},this.deleteOld=function(e){a.ignoredAttributes.push(e),t((function(e){return Object(c.a)({},e)}))},this.ininitialized=!1,this.initValues=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a.attributes.forEach((function(t){return t.initValue(e[t.key])})),a.initialized=t},this.msgIds={},this.setWarning=function(e,t){if(t&&!(e in a.msgIds)){var r=n.newMsgId();a.msgIds[e]=r,n.sendPageMessage({msg:t,id:r})}else if(!t&&e in a.msgIds){var i=a.msgIds[e];n.removePageMessage([i]),delete a.msgIds[e]}},this.cleanup=function(){var e=Object.values(a.msgIds);e.length&&n.removePageMessage(e),a.sections.forEach((function(e){return e.attributes.forEach((function(e){return e.cleanup()}))}))}},nh=function e(t,n,a,r){var i=this;Object(l.a)(this,e),this.mapOldToNew=function(e){return e},this.getDefault=function(e){return i.defaultValue=Iu(i.default,{props:e}),i.defaultLoaded=i.checkHasValue(i.defaultValue),i.defaultValue},this.getValue=function(e){return e},this.checkHasValue=function(e){return Array.isArray(e)?e&&e.reduce((function(e,t){return e||Object(me.hasValue)(t)}),!1):Object(me.hasValue)(e)},this.verifyValue=function(e){return i.checkHasValue(e)?Array.isArray(e)?e.reduce((function(e,t){return e&&Object(me.verifyValue)(t,i.type,i.verify)}),!0):Object(me.verifyValue)(e,i.type,i.verify):!i.required},this.sendWarnings=function(e){i.verified?(i.setWarning("invalid-data",null),i.setWarning("missing-data",null)):!i.hasValue&&i.required?(i.setWarning("missing-data","Missing value for required attribute: ".concat(i.name,".")),i.setWarning("invalid-data",null)):(i.setWarning("invalid-data","Invalid value for attribute: ".concat(i.name,".")),i.setWarning("missing-data",null))},this.initValue=function(e){i.isArray?i.onChange(e||[]):i.onChange(e)},this.getWarnings=function(){return Object.values(i.msgIds)},Object.assign(this,t),this.name=this.name||Nu(this.key),this.Input=eh(this,r),this.value=this.isArray?[]:null,this.hasValue=!1,this.verified=!this.required,this.hasDefault="default"in t,this.defaultLoaded=!1,this.defaultValue=null,this.onChange=function(e){i.value=e,i.hasValue=i.checkHasValue(e),i.verified=i.verifyValue(e),i.sendWarnings(e),n(i.key,e)},this.msgIds={},this.hasWarning=!1,this.setWarning=function(e,t){if(t&&!(e in i.msgIds)){var n=a.newMsgId();i.msgIds[e]=n,"string"===typeof t&&(t={msg:t}),a.sendAttributeMessage(Object(c.a)(Object(c.a)({},t),{},{id:n}))}else if(!t&&e in i.msgIds){var r=i.msgIds[e];a.removeAttributeMessage([r]),delete i.msgIds[e]}i.hasWarning=Boolean(i.getWarnings().length)},this.cleanup=function(){var e=Object.values(i.msgIds);e.length&&a.removeAttributeMessage(e)},this.onSave=function(){}},ah=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,a,r,i){var o;return Object(l.a)(this,n),(o=t.call(this,e,a,r,i)).mapOldToNew=function(e){return Array.isArray(e)?e.map(Dp):Dp(e)},o.getValue=function(e){return Array.isArray(e)?e.map((function(e){return Object(id.convertToRaw)(e.getCurrentContent())})):Object(id.convertToRaw)(e.getCurrentContent())},o.initValue=function(e){o.isArray?o.onChange(e?e.map(Dp):[]):o.onChange(Dp(e))},o.checkHasValue=function(e){return Array.isArray(e)?e&&e.reduce((function(e,t){return e||bu(t)}),!1):bu(e)},o.verifyValue=function(e){return!o.required||o.checkHasValue(e)},o.hasDefault=!1,o.value=o.isArray?[]:Dp(null),o}return n}(nh),rh=function e(t){return t.reduce((function(t,n){return"dms-format"===n.type?t||e(n.attributes):t||n.required}),!1)},ih=function e(t,n){var a=[];return t.attributes.forEach((function(t){var r=Object.assign({},t);r.name=t.name||Nu(t.key),"dms-format"===r.type&&(r.attributes=e(n[r.format],n)),a.push(r)})),a},oh=function e(t){return Object.keys(t).reduce((function(n,a){return"object"===typeof t[a]?n&&e(t[a]):n&&Object(me.hasValue)(t[a])}),!0)},sh=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,a,r,i){var o;return Object(l.a)(this,n),(o=t.call(this,e,a,r,i))._mapOldToNew=function(e,t){return t.reduce((function(t,n){var a=P()(e,n.key),r=P()(a,"length",0);return"dms-format"===n.type?n.isArray&&r?t[n.key]=a.map((function(e){return o._mapOldToNew(e,n.attributes)})):mu(a,n.attributes)&&(t[n.key]=o._mapOldToNew(a,n.attributes)):"richtext"===n.type?n.isArray&&r?t[n.key]=a.map(Dp):t[n.key]=Dp(a):t[n.key]=a,t}),{})},o.mapOldToNew=function(e){return Array.isArray(e)?e.map((function(e){return o._mapOldToNew(e,o.attributes)})):o._mapOldToNew(e,o.attributes)},o._getDefault=function(e,t){return t.reduce((function(t,n){if("dms-format"===n.type){var a=o._getDefault(e,n.attributes);Object.keys(a).length&&(t[n.key]=a)}else"default"in n&&"richtext"!==n.type&&(t[n.key]=Iu(n.default,{props:e}));return t}),{})},o.getDefault=function(e){var t=o._getDefault(e,o.attributes);return!0===(o.defaultLoaded=oh(t))&&(o.defaultValue=t),t},o._getValue=function(e,t){return t.reduce((function(t,n){var a=P()(e,n.key),r=P()(a,"length",0);return"dms-format"===n.type?n.isArray&&r?t[n.key]=a.map((function(e){return o._getValue(e,n.attributes)})):mu(a,n.attributes)&&(t[n.key]=o._getValue(a,n.attributes)):"richtext"===n.type?n.isArray&&r?t[n.key]=a.map((function(e){return Object(id.convertToRaw)(e.getCurrentContent())})):bu(a)&&(t[n.key]=Object(id.convertToRaw)(a.getCurrentContent())):Object(me.hasValue)(a)&&(t[n.key]=a),t}),{})},o.getValue=function(e){return Array.isArray(e)?e.map((function(e){return o._getValue(e,o.attributes)})):o._getValue(e,o.attributes)},o._initValue=function(e,t){return t.reduce((function(t,n){return"dms-format"===n.type?t[n.key]=n.isArray?P()(e,n.key,[]).map((function(e){return o._initValue(e,n.attributes)})):o._initValue(P()(e,n.key,{}),n.attributes):"richtext"===n.type?t[n.key]=n.isArray?P()(e,n.key,[]).map(Dp):Dp(P()(e,n.key)):t[n.key]=P()(e,n.key,n.isArray?[]:null),t}),{})},o.initValue=function(e){o.onChange(o.isArray?e?e.map((function(e){return o._initValue(e,o.attributes)})):[]:o._initValue(e,o.attributes))},o.checkHasValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.attributes;return mu(e,t)},o.onSave=function(){},o._sendWarnings=function(e,t,n){t.forEach((function(t){var a=P()(e,t.key),r="missing-data-".concat(n.map((function(e){return e.key})).join("-"),"-").concat(t.key),i="invalid-data-".concat(n.map((function(e){return e.key})).join("-"),"-").concat(t.key),s=null,c=null;if(t.isArray)!t.required||a&&a.length||(s="Missing value for required attribute: ".concat(n.map((function(e){return e.name})).join(" -> ")," -> ").concat(t.name,"."));else{if("dms-format"===t.type)return o._sendWarnings(a,t.attributes,[].concat(Object(m.a)(n),[t]));if("richtext"===t.type)t.required&&!bu(a)&&(s="Missing value for required attribute: ".concat(n.map((function(e){return e.name})).join(" -> ")," -> ").concat(t.name,"."));else{var l=Object(me.hasValue)(a),u=Object(me.verifyValue)(a,t.type,t.verify);t.required&&!l?s="Missing value for required attribute: ".concat(n.map((function(e){return e.name})).join(" -> ")," -> ").concat(t.name,"."):l&&!u&&(c="Invalid value for attribute: ".concat(n.map((function(e){return e.name})).join(" -> ")," -> ").concat(t.name,"."))}}o.setWarning(r,s),o.setWarning(i,c)}))},o.sendWarnings=function(e){o.isArray?o.required&&!Object(me.hasValue)(e)?o.setWarning("missing-data-".concat(o.key),"Missing value for required attribute: ".concat(o.name,".")):o.setWarning("missing-data-".concat(o.key),null):o._sendWarnings(e,o.attributes,[Object(x.a)(o)])},o.verifyValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.attributes;return vu(e,t,o.required)},o.Format=JSON.parse(JSON.stringify(i.registeredFormats[e.format])),o.attributes=ih(o.Format,i.registeredFormats),o.value=o.isArray?[]:{},o.defaultValue=o.isArray?[]:o.getDefault(i),o.hasDefault=!o.isArray&&Boolean(Object.keys(o.defaultValue).length),o.defaultLoaded=!1,o.required=o.isArray?o.required:rh(o.attributes),o}return n}(nh),ch=function(e){return Object(r.useMemo)((function(){var t=null;return e.attributes.reduce((function(e,n){return n.title!==t&&(t=n.title,e.push({title:t,attributes:[]})),e[e.length-1].attributes.push(n),e}),[])}),[e])},lh=function(e){var t=e.dmsAction,n=e.format,a=e.item,o=ch(n),s=pu(),c=s.attributeMessages,l=Object(r.useState)(0),u=Object(Z.a)(l,2),d=u[0],p=u[1],h=Object(r.useState)({}),f=Object(Z.a)(h,2),b=f[0],m=f[1],v=Object(r.useState)([new th(m,s),[]]),j=Object(Z.a)(v,2),g=Object(Z.a)(j[0],2),y=g[0],x=g[1],O=j[1];return Object(r.useEffect)((function(){return function(){return y.cleanup()}}),[y]),Object(r.useEffect)((function(){if(!x.length&&o.length){var t=new th(m,s),n=o.map((function(n,a){return{index:a,title:n.title,isActive:!1,verified:!1,attributes:n.attributes.map((function(n){return function(e,t,n,a){return"dms-format"===e.type?new sh(e,t,n,a):"richtext"===e.type?new ah(e,t,n,a):new nh(e,t,n,a)}(n,t.setValues,s,e)}))}}));t.sections=n,t.numSections=n.length,t.attributes=n.reduce((function(e,t){return e.concat(t.attributes)}),[]),t.initValues(b,!1),O([t,n])}}),[x.length,o,e,s,b]),i.a.useMemo((function(){if(x.length){y.values=b,y.saveValues=y.getValues(b),y.hasValues=y.attributes.reduce((function(e,t){return e||!1!==t.editable&&t.checkHasValue(b[t.key])&&!Cn()(t.defaultValue,y.saveValues[t.key])}),!1),y.defaultsLoaded=y.attributes.reduce((function(e,t){return e&&(!t.hasDefault||t.defaultLoaded)}),!0),x.forEach((function(e,t){e.isActive=d===t,e.verified=e.attributes.reduce((function(e,t){return e&&t.verified}),!0);var n=e.attributes.reduce((function(e,t){return e.concat(t.getWarnings())}),[]);e.warnings=c.filter((function(e){var t=e.id;return n.includes(t)})),e.hasWarning=Boolean(e.warnings.length)})),y.verified=x.reduce((function(e,t){return e&&t.verified}),!0),y.warnings=x.reduce((function(e,t){return e.concat(t.warnings)}),[]),y.activeSection=x[d],y.activeIndex=d,y.hasWarning=x[d].hasWarning;var e=x[d].warnings.reduce((function(e,t){return{canGoPrev:e.canGoPrev&&t.canGoPrev,canGoNext:e.canGoNext&&t.canGoNext}}),{canGoNext:!0,canGoPrev:!0}),r=e.canGoNext,i=e.canGoPrev;y.canGoNext=r&&x[d].verified&&d+1<x.length,y.next=function(){y.canGoNext&&p(d+1)},y.canGoPrev=i&&d>0,y.prev=function(){y.canGoPrev&&p(d-1)}}return y.dmsAction={action:"api:create",label:t,seedProps:function(){return y.getValues(b)},disabled:y.hasWarning||!y.verified,then:function(){y.onSave(),window.localStorage&&window.localStorage.removeItem(uh(n,a))}},y}),[y,x,c,d,b,t,n,a])},uh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"".concat(e.app,"+").concat(e.type).concat(t?":".concat(t.id):"")},dh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=Object(r.useState)(!1),s=Object(Z.a)(o,2),c=s[0],l=s[1];Object(r.useEffect)((function(){var e=setTimeout(l,50,Boolean(window.localStorage));return function(){return clearTimeout(e)}}),[]),a=a&&c;var u=uh(t,i),d=Object(r.useState)(!1),p=Object(Z.a)(d,2),h=p[0],f=p[1],b=Object(r.useState)(!Boolean(window.localStorage)),m=Object(Z.a)(b,2),v=m[0],j=m[1],g=Object(r.useCallback)((function(){f(!1),j(!0)}),[]),y=Object(r.useState)(null),x=Object(Z.a)(y,2),O=x[0],_=x[1];Object(r.useEffect)((function(){if(a&&!v&&!h){var e=JSON.parse(window.localStorage.getItem(u));f(Boolean(e)),j(!Boolean(e)),_(e)}}),[u,v,O,e,t,i,a,h]);var k=Object(r.useCallback)((function(){e.initValues(O),j(!0)}),[O,e]),w=e.saveValues,C=Object(r.useMemo)((function(){return Be()((function(e,t){var n=t.saveValues;window.localStorage.setItem(e,JSON.stringify(n))}),500)}),[]);return Object(r.useEffect)((function(){a&&v&&(n?C(u,e):n||window.localStorage.removeItem(u))}),[n,u,a,v,e,w,C]),[h,g,k]},ph=function(e){var t=e.action,n=Object(Ne.a)(e,["action"]),r=Object(me.useTheme)();return Object(a.jsx)(me.AvlModal,Object(c.a)(Object(c.a)({},n),{},{closeLabel:"Continue Without Loading",actions:[{label:"Load Data",action:t}],children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsxs)("div",{className:"text-xl",children:["You have unsaved data.",Object(a.jsx)("br",{}),"Do you wish to load this data?"]}),Object(a.jsx)("div",{className:"font-bold text-2xl py-2 px-4 ".concat(r.textWarning),children:"WARNING: The unsaved data will be lost if not loaded!"})]})}))},hh=function(e){return function(t){var n=Object.assign({},t),i=lh(n);Object(r.useEffect)((function(){i.hasValues&&i.verified?i.setWarning("unsaved","You have unsaved data!!!"):i.setWarning("unsaved",null)}),[i.hasValues,i.verified,i]),Object(r.useEffect)((function(){if(!i.defaultsLoaded){var e={};i.attributes.forEach((function(t){if(t.hasDefault&&!t.defaultLoaded){var a=t.getDefault(n);Object(me.hasValue)(a)&&(e[t.key]=a)}})),Object.keys(e).length&&i.initValues(e)}}));var o=dh(i,n.format,i.hasValues,i.defaultsLoaded),s=Object(Z.a)(o,3),l=s[0],u=s[1],d=s[2];return Object(a.jsxs)(a.Fragment,{children:[i.activeSection?Object(a.jsx)(e,Object(c.a)(Object(c.a)({},n),{},{createState:i})):null,Object(a.jsx)(ph,{show:l,onHide:u,action:d})]})}},fh=function(e){return function(t){var n=Object.assign({},t),i=n.item,o=Object(r.useState)({}),s=Object(Z.a)(o,2),l=s[0],u=s[1];Object(r.useEffect)((function(){u(P()(i,"data",{}))}),[i]);var d=lh(n),p=function(e,t){var n=t.saveValues,a=t.attributes;return t.ignoredAttributes.length||a.reduce((function(t,a){return t||!Cn()(e[a.key],n[a.key])}),!1)}(l,d);Object(r.useEffect)((function(){d.hasValues&&d.verified&&p?d.setWarning("unsaved","You have unsaved edits!!!"):d.setWarning("unsaved",null)}),[d,d.hasValues,d.verified,p]),d.dmsAction.action="api:edit",d.dmsAction.disabled=!p||d.dmsAction.disabled,Object(r.useEffect)((function(){!d.initialized&&Object.keys(l).length&&d.initValues(l)}),[l,d]);var h=d.attributes.reduce((function(e,t){return e[t.key]=t,e}),{});for(var f in d.badAttributes=[],l)d.ignoredAttributes.includes(f)||f in h||!Object(me.hasValue)(l[f])||d.badAttributes.push({key:f,value:l[f]});var b=dh(d,n.format,d.hasValues&&p,Boolean(i),i),m=Object(Z.a)(b,3),v=m[0],j=m[1],g=m[2];return Object(a.jsxs)(a.Fragment,{children:[d.activeSection&&d.hasValues?Object(a.jsx)(e,Object(c.a)(Object(c.a)({},n),{},{createState:d})):null,Object(a.jsx)(ph,{show:v,onHide:j,action:g})]})}},bh=function(e){var t=e.sections,n=e.activeIndex,r=e.canGoPrev,i=e.prev,o=e.canGoNext,s=e.next,c=e.children,l=(Object(Ne.a)(e,["sections","activeIndex","canGoPrev","prev","canGoNext","next","children"]),Object(me.useTheme)());return Object(a.jsxs)("div",{className:"w-full",children:[t.length<2?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"text-2xl mb-2 wizard",width:(n+1)/t.length*100,children:Object(a.jsx)("div",{className:"flex",children:t.map((function(e,t){return Object(a.jsx)("div",{className:"\n                    flex-1 font-bold ".concat(l.transition,"\n                    ").concat(t===n?l.text:t<n?l.textInfo:l.textLight,"\n                  "),children:Object(a.jsx)("div",{className:"pr-6 pl-2",children:e.title||"Page ".concat(t+1)})},t)}))})}),Object(a.jsxs)("div",{className:"flex",children:[t.length<2?null:Object(a.jsx)(me.Button,{className:"flex-0",disabled:!r,onClick:i,buttonTheme:"buttonInfo",children:"prev"}),Object(a.jsx)("div",{className:"flex-1 flex justify-end",children:t.length<2?null:Object(a.jsx)(me.Button,{className:"flex-0",disabled:!o,onClick:s,buttonTheme:"buttonInfo",children:"next"})})]})]}),Object(a.jsx)("div",{children:c})]})},mh=function(e){var t=e.oldKey,n=e.value,r=e.attributes,o=e.deleteOld,s=e.mapOldToNew,c=(Object(Ne.a)(e,["oldKey","value","attributes","deleteOld","mapOldToNew"]),i.a.useState(null)),l=Object(Z.a)(c,2),u=l[0],d=l[1];return Object(a.jsxs)("div",{className:"border-2 p-3 rounded-md mt-2 mr-2 last:mr-0",children:[Object(a.jsxs)("div",{className:"rounded border p-3",children:[Object(a.jsxs)("div",{className:"w-full flex mb-2",children:[Object(a.jsxs)("div",{className:"flex-0 mr-4",children:[Object(a.jsx)("div",{className:"font-bold",children:"Attribute"}),Object(a.jsx)("div",{children:t})]}),Object(a.jsxs)("div",{className:"flex-1",children:[Object(a.jsx)("div",{className:"font-bold",children:"Value"}),Object(a.jsx)("div",{className:"whitespace-pre-wrap",children:JSON.stringify(n,null,4)})]})]}),Object(a.jsx)(me.Button,{onClick:function(e){return o(t)},className:"w-full",children:"Remove Old Attribute"})]}),Object(a.jsxs)("div",{className:"rounded border p-3 mt-3",children:[Object(a.jsx)(me.Select,{domain:r,multi:!1,searchable:!0,onChange:d,accessor:function(e){return e.key},placeholder:"Select an attribute...",value:u}),Object(a.jsxs)(me.Button,{disabled:!u,className:"w-full mt-2",onClick:function(e){return s(t,u.key,n)},children:["Map Old Attribute ",u?"to ".concat(u.key):"to..."]})]})]})},vh=function(e){var t=e.createState,n=Object(Ne.a)(e,["createState"]),r=Object(me.useTheme)();return Object(a.jsxs)("div",{children:[Object(a.jsx)(bh,Object(c.a)(Object(c.a)({},t),{},{children:Object(a.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(a.jsx)("div",{className:"mt-2 mb-4 max-w-2xl",children:Object(a.jsx)(td,{className:"w-1/2",large:!0,type:"submit",action:t.dmsAction,props:n})}),Object(a.jsx)("div",{className:"w-full flex flex-col justify-center",children:t.activeSection.attributes.map((function(e,t){var n=e.Input,i=e.key,o=Object(Ne.a)(e,["Input","key"]);return Object(a.jsxs)("div",{className:"border-l-4 pl-2 mb-2 pb-2\n                      ".concat(o.fullWidth||"richtext"===o.type||"img"===o.type?"w-full":"max-w-2xl","\n                      ").concat(o.verified?o.required?r.borderSuccess:o.hasValue?r.borderInfo:r.borderLight:r.borderDanger,"\n                      ").concat(o.hidden?"hidden":"","\n                    "),children:[Object(a.jsx)("label",{htmlFor:o.id,children:o.name}),Object(a.jsx)(n,{value:o.value,onChange:o.onChange,autoFocus:0===t})]},i)}))})]})})),Object(a.jsx)("div",{className:"flex",children:t.badAttributes.map((function(e){return Object(a.jsx)(mh,Object(c.a)(Object(c.a)({},e),{},{oldKey:e.key},t))}))})]})},jh=hh(vh),gh=fh(vh),yh=function(e){var t=e.sortBy,n=e.sortOrder,r=e.columns,o=e.expandColumns,s=e.initialPageSize,l=Object(Ne.a)(e,["sortBy","sortOrder","columns","expandColumns","initialPageSize"]),u=function(e){return i.a.useMemo((function(){return e.map((function(e){return"string"===typeof e&&(e=/^(dms|api):(.+)$/.test(e)?{action:e}:{path:e}),e.action?ju(e):(e.path&&!/^self|item|props:/.test(e.path)&&(e.path="self:data.".concat(e.path)),Object(c.a)(Object(c.a)({},e),{},{key:e.path.split(/[:.]/).pop(),format:wu(e.format)}))})).reduce((function(e,t){var n=Object(Z.a)(e,2),a=n[0],r=n[1];return t.path?a.push(t):r.push(t),e}),[[],[]])}),[e])}(r),d=Object(Z.a)(u,2),p=d[0],h=d[1],f=Du(l),b=f?l.dataItems.filter(f):l.dataItems,v=function(e){e=e.split(/[:.]/).pop();var t=P()(l,["format","attributes"],[]).reduce((function(t,n){return n.key===e?n.name||Nu(n.key):t}),e);return t===e?Nu(e):t},j=[].concat(Object(m.a)(p.map((function(e){e.path;var t=e.key,n=e.format,r=e.Cell,i=Object(Ne.a)(e,["path","key","format","Cell"]);return Object(c.a)({id:t,accessor:function(e){return e[t]},Header:v(t),Cell:function(e){var t=e.value,i=Object(Ne.a)(e,["value"]);return r?Object(a.jsx)(r,Object(c.a)({value:n(t)},i)):n(t)}},i)}))),Object(m.a)(h.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{accessor:e.action,disableFilters:!0,disableSortBy:!0,Cell:function(t){return Object(a.jsx)("div",{className:"flex justify-end",children:Object(a.jsx)(td,{action:e,item:t.row.original.self,buttonTheme:l.buttonTheme})})}})})))),g=b.map((function(e){return Object(c.a)(Object(c.a)(Object(c.a)({self:e},p.reduce((function(t,n){var a=Iu(n.path,{self:e},{preserveKeys:!0}),r=a.value;return t[a.key]=r,t}),{})),h.reduce((function(e,t){return e[t.action]=t,e}),{})),{},{onClick:l.makeOnClick("dms:view",e.id),subRows:[],expand:o.map((function(t){return Iu(t,{self:e},{preserveKeys:!0})}))})}));return l.dataItems.length?Object(a.jsx)(me.Table,{data:g,columns:j,sortBy:t,sortOrder:n,initialPageSize:s,ExpandRow:l.ExpandRow}):null};yh.defaultProps={dmsAction:"list",dataItems:[],columns:[],expandColumns:[],filter:!1,sortBy:"updated_at",sortOrder:"desc",initialPageSize:10,striped:!1,ExpandRow:void 0};var xh=function(e){var t=e.warnings,n=e.type,r=void 0===n?"page":n,i=Object(me.useTheme)();return Object(a.jsxs)("div",{className:"\n      ".concat("att"===r?i.textDanger:i.textInfo," ").concat(i.transition,"\n      flex items-center rounded cursor-pointer\n      relative hoverable ml-1\n    "),children:[Object(a.jsx)("span",{className:"fas fa-2x fa-exclamation-triangle"}),Object(a.jsx)("div",{className:"\n        show-on-hover show-on-bottom pt-1 bg-transparent\n        absolute right-0 cursor-default\n      ",children:Object(a.jsx)("div",{className:"\n          px-4 py-1 rounded shadow ".concat(i.accent2," ").concat(i.text,"\n        "),children:t.map((function(e){var t=e.id,n=e.msg;return Object(a.jsx)("div",{className:"my-1 whitespace-nowrap rounded ".concat(i.text),children:n},t)}))})})]})},Oh={"dms-card":function(e){var t=e.title,n=e.body,r=e.footer,i=e.children,o=Object(me.useTheme)();return Object(a.jsxs)("div",{children:[t?Object(a.jsx)("div",{className:"".concat(o.contentBg," rounded px-4 py-2 mb-3 shadow text-3xl font-bold"),children:t}):null,n?Object(a.jsx)("div",{className:"".concat(o.contentBg," rounded px-8 py-4 mb-3 shadow"),children:n}):null,i,r?Object(a.jsx)("div",{className:"rounded py-2 px-4 ".concat(o.contentBg," shadow"),children:r}):null]})},"dms-create":jh,"dms-edit":gh,"dms-table":yh,"dms-header":function(e){var t=e.title,n=(e.shadowed,e.showHome),r=void 0===n||n,i=e.dmsActions,o=void 0===i?[]:i,s=e.navBarSide,c=void 0===s||s,l=Object(Ne.a)(e,["title","shadowed","showHome","dmsActions","navBarSide"]),u=cu(),d=u.stack,p=u.top,h=u.item,f=pu(),b=f.pageMessages,m=f.attributeMessages;d.length>1&&o.unshift({action:"dms:back"}),d.length>1&&r&&o.unshift({action:"dms:home"}),"list"===p.dmsAction&&o.unshift({action:"dms:create"});var v=Object(me.useTheme)();return Object(a.jsx)("div",{className:"\n        fixed top-0 left-0 right-0\n        ".concat(c?"md:ml-".concat(v.sidebarW):"","\n      "),children:Object(a.jsx)(me.HeaderComponent,{title:t||"".concat(l.app," Manager"),children:Object(a.jsxs)("div",{className:"flex-0 flex items-center",children:[b.length?Object(a.jsx)(xh,{warnings:b}):null,m.length?Object(a.jsx)(xh,{warnings:m,type:"att"}):null,o.map((function(e){return Object(a.jsx)(td,{className:"ml-1",action:e,item:h},e.action||e)}))]})})})},"dms-content":function(e){var t=e.className,n=void 0===t?"mt-20 flex-1 w-full mx-auto max-w-7xl mb-10":t,r=e.children;return Object(a.jsx)("div",{className:"flex",children:Object(a.jsx)("div",{className:n,children:r})})}},_h=function(e){return function(t){var n=t.children,r=Object(Ne.a)(t,["children"]),o=[];return n=i.a.Children.toArray(n).reduce((function(e,t){return Cu(t.props.dmsAction,r.top.dmsAction)?(o.push.apply(o,Object(m.a)(P()(t.props,["dmsActions"],[]))),e.push(i.a.cloneElement(t,Object(c.a)(Object(c.a)(Object(c.a)({},r),P()(r,["top","props"],{})),{},Object(M.a)({},r.type,r.item))))):t.props.dmsAction||e.push(t),e}),[]).map((function(e){return Cu(e.props.dmsAction,r.top.dmsAction)?e:i.a.cloneElement(e,Object(c.a)(Object(c.a)(Object(c.a)({dmsActions:o},r),P()(r,["top","props"],{})),{},Object(M.a)({},r.type,r.item)))})),Object(a.jsx)(e,Object(c.a)(Object(c.a)({},r),{},{children:n}))}},kh=function(){return Object(a.jsx)("div",{large:!0,className:"p-5",children:"No format supplied!!!"})},wh=Object(c.a)(Object(c.a)({},Oh),{},{"dms-manager":_h((function(e){var t=e.showHome,n=void 0===t||t,r=e.stack,i=e.top,o=void 0===i?{}:i,s=e.noHeader,c=void 0!==s&&s,l=e.className,u=void 0===l?null:l,d=Object(Ne.a)(e,["showHome","stack","top","noHeader","className"]);if(!d.format)return Object(a.jsx)(kh,{});var p=o.dmsAction,h=[];return r.length>1&&n&&h.push({Comp:td,action:"dms:home"}),r.length>1&&h.push({Comp:td,action:"dms:back"}),"list"===p&&h.push({Comp:td,action:"dms:create"}),Object(a.jsxs)(a.Fragment,{children:[c?null:Object(a.jsx)(me.HeaderComponent,{title:d.title||"".concat(d.app," Manager"),children:h.map((function(e){var t=e.Comp,n=e.action;return Object(a.jsx)(t,{className:"ml-2",action:n},n)}))}),Object(a.jsx)("div",{className:u,children:d.children})]})}))}),Ch=function(e,t){return e.map((function(e){var n=Lu.exec(e);return n?P()(t,n[1],null):e}))},Sh=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=P()(t,[].concat(Object(m.a)(e),["length"]),0),r=[],i=0;i<a;++i){var o=P()(t,[].concat(Object(m.a)(e),["byIndex",i,"value"]),null);if(o){var s=JSON.parse(JSON.stringify(P()(t,Object(m.a)(o),{}))),c=P()(s,["data","value"],null);c&&(s.data=c,r.push(s))}}return n?r.filter(n):r},Nh={loading:!0},Lh=function(){return{}},Ah=function(e){var t=e.value,n=e.type;return"img"===n?Object(a.jsx)("div",{className:"h-64 flex justify-start items-center",children:Object(a.jsx)("img",{src:t.url,className:"h-64",alt:t.filename})}):"object"===n||"dms-format"===n?Object(a.jsx)("div",{className:"whitespace-pre-wrap",children:JSON.stringify(t,null,4)}):"richtext"===n?Object(a.jsx)(Kd,{value:t}):"markdown"===n?Object(a.jsx)(me.MarkdownViewer,{markdown:t}):Object(a.jsx)("div",{children:t})},Dh=function(e){var t=e.name,n=e.children;return Object(a.jsxs)("div",{className:"grid grid-cols-4 my-2",children:[Object(a.jsx)("div",{className:"col-span-1 font-bold",children:t}),Object(a.jsx)("div",{className:"col-span-3",children:n})]})},Ph=function(e){var t=e.Component,n=Object(Ne.a)(e,["Component"]),r=Object(f.useParams)(),i=Object(f.useLocation)().search,o=new URLSearchParams(i),s=Object(m.a)(o.entries()).reduce((function(e,t){var n=Object(Z.a)(t,2),a=n[0],r=n[1];return e[a]=r,e}),{});return Object(a.jsx)(t,Object(c.a)(Object(c.a)({},n),{},{routerParams:Object(c.a)(Object(c.a)({},r),{},{props:s})}))},zh=function(e){var t=e.Component,n=Object(Ne.a)(e,["Component"]),r=Object(f.useParams)(),i=r.action,o=r.attribute,s=r.value,l=P()(n,"dataItems",[]).reduce((function(e,t){return P()(t,["data",o],null).toString().toLowerCase()===s.toString().toLowerCase()?t.id:e}),void 0);return l?Object(a.jsx)(f.Redirect,{to:"".concat(n.basePath,"/").concat(i,"/").concat(l)}):Object(a.jsx)(t,Object(c.a)({},n),"no-id")},Mh=function(e,t){var n=e.data,r=e.Comp;return n.map((function(e,n){return Object(a.jsx)(r,Object(c.a)(Object(c.a)({},e.props),{},{onClick:e.interact.length?function(n){return t.apply(void 0,Object(m.a)(e.interact))}:null,children:e.value}),e.key)}))},Bh={"dms-falcor":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(t){Object(d.a)(r,t);var n=Object(p.a)(r);function r(){var e;Object(l.a)(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).state={loading:0},e.MOUNTED=!1,e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.MOUNTED=!0,this.fetchFalcorDeps()}},{key:"componentWillUnmount",value:function(){this.MOUNTED=!1}},{key:"setState",value:function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];this.MOUNTED&&(e=Object(di.a)(Object(pi.a)(r.prototype),"setState",this)).call.apply(e,[this].concat(n))}},{key:"startLoading",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState((function(t){var n=t.loading;return{loading:e?++n:n}}))}},{key:"stopLoading",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState((function(t){var n=t.loading;return{loading:e?--n:n}}))}},{key:"fetchFalcorDeps",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.startLoading(t);var n=this.props.path;return this.props.falcor.get([].concat(Object(m.a)(n),["length"])).then((function(t){var a=P()(t,["json"].concat(Object(m.a)(n),["length"]),0);if(a)return e.props.falcor.get([].concat(Object(m.a)(n),["byIndex",{from:0,to:a-1},["id","app","type","data","updated_at"]]))})).then((function(){return e.stopLoading(t)}))}},{key:"apiInteract",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=!1;switch(r=Object(c.a)(Object(c.a)({},Nh),r),e){case"api:edit":i=this.falcorEdit;break;case"api:create":i=this.falcorCreate;break;case"api:delete":i=this.falcorDelete}return i?(this.startLoading(r.loading),Promise.resolve(i.call(this,e,t,n)).then((function(){return a.fetchFalcorDeps(r.loading)})).then((function(){return a.stopLoading(r.loading)}))):Promise.resolve()}},{key:"falcorEdit",value:function(e,t,n){if(t&&n)return this.props.falcor.call(["dms","data","edit"],[t,n])}},{key:"falcorCreate",value:function(e,t,n){var a=[this.props.app,this.props.type,n].filter(Boolean);if(!(a.length<3))return this.props.falcor.call(["dms","data","create"],a)}},{key:"falcorDelete",value:function(e,t,n){n=n||[];var a=[this.props.app,this.props.type,t].concat(Object(m.a)(n)).filter(Boolean);if(!(a.length<3))return this.props.falcor.call(["dms","data","delete"],a)}},{key:"render",value:function(){var t=this;return Object(a.jsx)(e,Object(c.a)(Object(c.a)({},this.props),{},{loading:Boolean(this.state.loading),apiInteract:function(){return t.apiInteract.apply(t,arguments)}}))}}]),r}(i.a.Component),r=function(e,t){var n=P()(t,"format",t),a=n.app,r=n.type,i=["dms","data","".concat(a,"+").concat(r)],o=Ch(P()(t,"path",i),t);return{dataItems:Sh(o,e,Du(t.filter,{props:t,item:P()(t,r,null)})),path:o,app:a,type:r}},o=function(e,n){return r(e,Object(c.a)(Object(c.a)({},n),t))};return Object(me.avlFalcor)(n,{mapCacheToProps:o})},"dms-view":function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=t=function(t){Object(d.a)(o,t);var n=Object(p.a)(o);function o(){return Object(l.a)(this,o),n.apply(this,arguments)}return Object(u.a)(o,[{key:"renderChildren",value:function(){var e=this.props,t=e.seedProps,n=void 0===t?Lh:t,a=Object(Ne.a)(e,["seedProps"]);return i.a.Children.map(this.props.children,(function(e){return i.a.cloneElement(e,Object(c.a)(Object(c.a)({},a),n(a)))}))}},{key:"renderItem",value:function(e,t){var n=e.value,r=e.key,i=this.props.format,o=P()(i,"attributes",[]).reduce((function(e,t){return t.key===r?t:e}),{}),s=o.name||Nu(r),c=o.type;return n?{value:n=o.isArray?n.map((function(e,t){return Object(a.jsx)(Ah,{type:c,value:e},t)})):Object(a.jsx)(Ah,{type:c,value:n}),name:s}:{value:null,name:s}}},{key:"renderRow",value:function(e,t){var n=e.value,r=e.key;if("item"===e.source){var i=this.renderItem(e,t.item),o=i.value,s=i.name;return o?Object(a.jsx)(Dh,{name:s,children:o},r):null}return Object(a.jsx)(Dh,{name:Nu(r),children:n},r)}},{key:"getActionGroups",value:function(e,t){var n=this,r=P()(this,["props",this.props.type],null);return Array.isArray(e)?Object(a.jsx)("div",{children:e.map((function(e,t){return n.getActionGroups(e,t)}))},t):Object(a.jsx)(td,{item:r,action:e,props:this.props},P()(e,"action",e))}},{key:"render",value:function(){var t=this,n=Object(c.a)(Object(c.a)({},this.props),r),i=n.actions,o=n.type,s=n.mapDataToProps,l=P()(this,["props",o],null);if(!l)return null;var u={item:l,props:this.props},d={},p={preserveSource:!0};for(var h in s){var f=s[h];if("string"===typeof s[h]){var b=Iu(f,u,p),m=b.source,v=Object(Ne.a)(b,["source"]);d[h]="item"===m?this.renderItem(v,u.item).value:v.value}else{var j=f.map((function(e){return Iu(e,u,p)}));d[h]=j.map((function(e){return t.renderRow(e,u)}))}}return Object(a.jsxs)("div",{children:[Object(a.jsx)(e,Object(c.a)(Object(c.a)({},d),this.props)),i.length?Object(a.jsx)("div",{children:this.getActionGroups(i)}):null,Object(a.jsx)("div",{children:this.renderChildren()})]})}}]),o}(i.a.Component),t.defaultProps={dmsAction:"view",actions:[],interact:function(){},mapDataToProps:{},seedProps:function(e){return{}}},n},"dms-router":function(e){return function(t){var n=Object(f.useRouteMatch)().path,r="".concat(n,"/:action"),o="".concat(n,"/:action/:id"),s="".concat(n,"/:action/:attribute/:value"),l=Object(f.useLocation)(),u=Object(f.useHistory)(),d=i.a.useMemo((function(){return{basePath:n,useRouter:!0,location:l,history:u}}),[n,l,u]);return Object(a.jsx)(uu.Provider,{value:d,children:Object(a.jsxs)(f.Switch,{children:[Object(a.jsx)(f.Route,{exact:!0,path:n,children:Object(a.jsx)(e,Object(c.a)(Object(c.a)({},t),d))}),Object(a.jsx)(f.Route,{exact:!0,path:[r,o],children:Object(a.jsx)(Ph,Object(c.a)(Object(c.a)(Object(c.a)({},t),d),{},{Component:e}))}),Object(a.jsx)(f.Route,{exact:!0,path:s,children:Object(a.jsx)(zh,Object(c.a)(Object(c.a)(Object(c.a)({},t),d),{},{Component:e}))})]})})}},"dms-provider":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.authRules,r=void 0===n?{}:n,o=t.buttonThemes,s=void 0===o?{}:o,h=t.imgUploadUrl,f=void 0===h?"https://graph.availabs.org":h,b=function(t){Object(d.a)(i,t);var n=Object(p.a)(i);function i(e){var t;return Object(l.a)(this,i),(t=n.call(this,e)).sendPageMessage=function(e){t.setState((function(t){var n=t.pageMessages;return{pageMessages:[].concat(Object(m.a)(n),[Zu(e)])}}))},t.removePageMessage=function(e){t.setState((function(t){return{pageMessages:t.pageMessages.filter((function(t){return!e.includes(t.id)}))}}))},t.sendAttributeMessage=function(e){t.setState((function(t){var n=t.attributeMessages;return{attributeMessages:[].concat(Object(m.a)(n),[Zu(e)])}}))},t.removeAttributeMessage=function(e){t.setState((function(t){return{attributeMessages:t.attributeMessages.filter((function(t){return!e.includes(t.id)}))}}))},t.getMessengerProps=function(){return{pageMessages:t.state.pageMessages,attributeMessages:t.state.attributeMessages,sendPageMessage:t.sendPageMessage,removePageMessage:t.removePageMessage,sendAttributeMessage:t.sendAttributeMessage,removeAttributeMessage:t.removeAttributeMessage,newMsgId:Ku}},t.registeredFormats={},t.registeredFormats=Hu(e.format),t.state={stack:[{dmsAction:t.props.defaultAction[0],id:t.props.defaultAction[1],props:t.props.defaultAction[2]}],pageMessages:[],attributeMessages:[]},t.interact=t.interact.bind(Object(x.a)(t)),t.makeInteraction=t.makeInteraction.bind(Object(x.a)(t)),t.makeOnClick=t.makeOnClick.bind(Object(x.a)(t)),t}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var e=P()(this.props,"routerParams",{}),t=e.action,n=e.id,a=e.props;t&&this.interact(t,n,a)}},{key:"getItem",value:function(e){return Vu(e,this.props)}},{key:"makeOnClick",value:function(e,t,n){return Wu(e,t,Object(c.a)(Object(c.a)(Object(c.a)({},this.props),n),{},{interact:this.interact}))}},{key:"makeInteraction",value:function(e,t,n){return Uu(e,t,Object(c.a)(Object(c.a)(Object(c.a)({},this.props),n),{},{interact:this.interact}))}},{key:"interact",value:function(e,t,n,a){1===arguments.length&&(t=e,e="click");var i=Pu(r,e,this.props,this.getItem(t));if(i)if(/^(dms:)*back$/.test(e))this.popAction();else if(/^(dms:)*home$/.test(e))this.clearStack();else{if(/^api:/.test(e))return this.props.apiInteract(e,t,n,a);this.pushAction(e,t,n)}}},{key:"pushAction",value:function(e,t,n){var a=this.props.useRouter?this.state.stack.slice(0,1):Object(m.a)(this.state.stack);a.push({dmsAction:e,id:t,props:n}),a.length>100&&a.splice(1,1),this.setState({stack:a})}},{key:"popAction",value:function(){if(this.state.stack.length>1){var e=Object(m.a)(this.state.stack);e.pop(),this.setState({stack:e})}}},{key:"clearStack",value:function(){var e=Object(m.a)(this.state.stack).slice(0,1);this.setState({stack:e})}},{key:"getTop",value:function(){var e=this.state.stack;return e[e.length-1]}},{key:"getDmsProps",value:function(){var e,t=this.props,n=t.app,a=t.type,r=t.dataItems,i=t.format,o=this.getTop(),s=o.id,c=Object(Ne.a)(o,["id"]),l=this.getItem(s);return e={makeInteraction:this.makeInteraction,makeOnClick:this.makeOnClick,interact:this.interact,stack:this.state.stack,registeredFormats:this.registeredFormats},Object(M.a)(e,a,l),Object(M.a)(e,"dataItems",r),Object(M.a)(e,"format",this.registeredFormats["".concat(i.app,"+").concat(i.type)]),Object(M.a)(e,"item",l),Object(M.a)(e,"type",a),Object(M.a)(e,"app",n),Object(M.a)(e,"top",c),Object(M.a)(e,"imgUploadUrl",f),e}},{key:"render",value:function(){var t=this.props.user,n=this.getDmsProps(),i=this.getMessengerProps();return Object(a.jsx)(lu.Provider,{value:n,children:Object(a.jsx)(ru.Provider,{value:{authRules:r,user:t},children:Object(a.jsx)(iu.Provider,{value:{buttonThemes:s},children:Object(a.jsx)(hu.Provider,{value:i,children:Object(a.jsx)(e,Object(c.a)(Object(c.a)(Object(c.a)({},this.props),n),i))})})})})}}]),i}(i.a.Component);return b.defaultProps={showHome:!0,dataItems:[],defaultAction:["list",null,null],app:"app-name",type:"format-type",format:null,apiInteract:function(){return Promise.resolve()}},b},"dms-manager":_h,"dms-consumer":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mapDataToProps,i=void 0===n?{}:n,o=t.interactOnMount,s=void 0===o?[]:o;return function(t){var n=Object.assign({},t),o=Object(c.a)(Object(c.a)(Object(c.a)({},n),cu()),{},{user:au().user}),l=o.interact,u=Object(r.useState)(!1),d=Object(Z.a)(u,2),p=d[0],h=d[1],f=[];p||(f=[Iu(s[0],{props:o}),Iu(s[1],{props:o}),Tu(s[2]||{},{props:o})]);var b=f,m=Object(Z.a)(b,3),v=m[0],j=m[1],g=m[2],y=s.filter(me.hasValue).length,x=f.filter(me.hasValue).length,O=Boolean(v)&&y===x;Object(r.useEffect)((function(){!p&&O&&(l(v,j,g),h(!0))}),[p,O,l,v,j,g]);var _=function e(t){return Array.isArray(t)?t.map(e):"function"===typeof t?t(Mh,o.interact):t},k=Tu(i,{props:o});for(var w in k){var C=k[w];o[w]=_(C)}return Object(a.jsx)(e,Object(c.a)({},o))}},"dms-share":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mapDataToProps,r=void 0===n?{}:n,o=t.propsToShare,s=void 0===o?{}:o;return function(t){var n=t.children,o=Object(Ne.a)(t,["children"]),l=Tu(r,{props:o});if("string"===typeof s){var u=s.split(".");l[u.pop()]=P()(o,s,s)}else if(Array.isArray(s))s.forEach((function(e){var t=e.split(".");l[t.pop()]=P()(o,e,e)}));else for(var d in s)l[d]=P()(o,s[d],s[d]);return Object(a.jsx)(e,Object(c.a)(Object(c.a)({},o),{},{children:i.a.Children.map(n,(function(e){return i.a.cloneElement(e,l)}))}))}},"dms-create":hh,"dms-edit":fh};Object(me.addComponents)(wh),Object(me.addWrappers)(Bh);var Fh={type:"dms-content",wrappers:["dms-manager","dms-provider","dms-router","show-loading","dms-falcor","with-auth"],props:{format:tu,title:"Documentation"},children:[{type:"dms-header",props:{title:"Documentation",shadowed:!1}},{type:ad,props:{dmsAction:"list"}},{type:qd,props:{dmsAction:"view"}},{type:rd,props:{dmsAction:"create"},wrappers:["dms-create","with-auth"]},{type:rd,props:{dmsAction:"edit"},wrappers:["dms-edit","with-auth"]}]},Ih=[{path:"/methodology",mainNav:!0,auth:!1,name:"Methodology",icon:"",layoutSettings:{fixed:!0,maxWidth:"",headerBar:!1,nav:"top"},component:function(e){return Object(a.jsxs)("div",{className:"mt-20",children:[Object(a.jsx)("h4",{children:" NPMRDS Documentation "}),Object(a.jsx)(me.ComponentFactory,{config:Yd})]})}},{path:"/docs",mainNav:!1,auth:!1,name:"Docs Editor",icon:"",layoutSettings:{fixed:!0,maxWidth:"",headerBar:!1,nav:"top"},component:function(e){return Object(a.jsxs)("div",{className:"mt-20",children:[Object(a.jsx)("h4",{children:" NPMRDS Documentation "}),Object(a.jsx)(me.ComponentFactory,{config:Fh})]})}}],Th="USER::SET_AMOUNT";var Eh=function(e){return function(t){t(function(e){return{type:Th,id:e}}(e))}},Hh={activeAmount:null},Vh=Object(M.a)({},Th,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hh,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);return t.id&&(n.activeAmount=t.id,localStorage.setItem("Amount",n.activeAmount)),n}));var Rh=["ihp_amount","ihp_count","ha_amount","ha_count","fip_amount","fip_count","on_a_amount","on_a_count","rental_assistance_amount","rental_assistance_count","repair_amount","repair_count","replacement_amount","replacement_count","personal_property_amount","personal_property_count","roof_damage_amount","roof_damage_count","foundation_damage_amount","foundation_damage_count","flood_damage_amount","flood_damage_count"],Gh=[{name:"$ IHP Amount",value:"ihp_amount",amount:0,count:0},{name:"$ HA Amount",value:"ha_amount",amount:0,count:0},{name:"$ FIP Amount",value:"fip_amount",amount:0,count:0},{name:"$ ON A Amount",value:"on_a_amount",amount:0,count:0},{name:"$ Rental Assistance Amount",value:"rental_assistance_amount",amount:0,count:0},{name:"$ Repair Amount",value:"repair_amount",amount:0,count:0},{name:"$ Replacement Amount",value:"replacement_amount",amount:0,count:0},{name:"$ Personal Property Amount",value:"personal_property_amount",amount:0,count:0},{name:"$ Roof Damage Amount",value:"roof_damage_amount",amount:0,count:0},{name:"$ Foundation Damage Amount",value:"foundation_damage_amount",amount:0,count:0},{name:"$ Flood Damage Amount",value:"flood_damage_amount",amount:0,count:0}],Uh=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"fetchFalcorDeps",value:function(){return this.props.falcor.get(["fema","disasters","byId",this.props.disaster_number,"ia_totals",Rh]).then((function(e){return e}))}},{key:"processData",value:function(){var e=P()(this.props.falcorCache,["fema","disasters","byId",this.props.disaster_number,"ia_totals"],null);e&&Object.keys(e).forEach((function(t){Gh.forEach((function(n){n.value===t&&t.includes("amount")&&(n.amount=e[t].value||0),t.includes("count")&&n.value.split("_amount")[0]+"_count"===t&&(n.count=parseInt(e[t].value)||0)}))}))}},{key:"render",value:function(){var e=this;return this.processData(),Object(a.jsx)("div",{className:"mt-5 grid grid-cols-6 gap-5 sm:grid-cols-6 py-5",children:Gh.map((function(t,n){return Object(a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg cursor-pointer",onClick:function(n){console.log("e",t.value),e.props.setActiveAmount(t.value)},children:Object(a.jsx)("div",{className:"px-4 py-5 sm:p-6",children:Object(a.jsxs)("dl",{children:[Object(a.jsx)("dt",{className:"text-base leading-6 font-normal text-gray-900 break-words",children:t.name}),Object(a.jsx)("dd",{className:"mt-1 flex justify-between items-baseline md:block lg:flex",children:Object(a.jsx)("div",{className:"flex items-baseline text-2xl leading-8 font-semibold text-indigo-600",children:Object(se.fnum)(t.amount)})}),Object(a.jsx)("dd",{className:"mt-1 flex justify-between items-baseline md:block lg:flex",children:Object(a.jsxs)("div",{className:"text-sm leading-5 font-medium text-gray-500",children:["# ",t.count]})})]})})},n)}))})}}]),n}(i.a.Component),Wh={setActiveAmount:Eh},Zh=Object(O.connect)((function(e,t){return{activeStateGeoid:e.stormEvents.activeStateGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[])}}),Wh)(A(Uh)),$h=["01","02","04","05","06","08","09","10","11","12","13","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","44","45","46","47","48","49","50","51","53","54","55","56"],Kh=["ihp_amount","ihp_count","ha_amount","ha_count","fip_amount","fip_count","on_a_amount","on_a_count","rental_assistance_amount","rental_assistance_count","repair_amount","repair_count","replacement_amount","replacement_count","personal_property_amount","personal_property_count","roof_damage_amount","roof_damage_count","foundation_damage_amount","foundation_damage_count","flood_damage_amount","flood_damage_count"],qh=["project_amount","project_amount_count","federal_share_obligated","federal_share_obligated_count","total_obligated","total_obligated_count"],Yh=["actual_amount_paid","number_of_properties"],Xh=[{name:"IHP Amount",value:"ihp_amount",amount:0,count:0},{name:"HA Amount",value:"ha_amount",amount:0,count:0},{name:"FIP Amount",value:"fip_amount",amount:0,count:0},{name:"ON A Amount",value:"on_a_amount",amount:0,count:0},{name:"Rental Assistance Amount",value:"rental_assistance_amount",amount:0,count:0},{name:"Repair Amount",value:"repair_amount",amount:0,count:0},{name:"Replacement Amount",value:"replacement_amount",amount:0,count:0},{name:"Personal Property Amount",value:"personal_property_amount",amount:0,count:0},{name:"Roof Damage Amount",value:"roof_damage_amount",amount:0,count:0},{name:"Foundation Damage Amount",value:"foundation_damage_amount",amount:0,count:0},{name:"Flood Damage Amount",value:"flood_damage_amount",amount:0,count:0},{name:"$ Project Amount",value:"project_amount",amount:0,count:0},{name:"$ Federal Share Obligated Amount",value:"federal_share_obligated",amount:0,count:0},{name:"$ Total Obligated Amount",value:"total_obligated",amount:0,count:0},{name:"$ Actual Amount Paid",value:"actual_amount_paid",amount:0,count:0}],Jh=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"receiveProps",value:function(e,t){this.filters.disaster_number.value!==t.disaster_number&&(this.filters.disaster_number.value=t.disaster_number),e.active_amount!==t.active_amount&&(this.filters.amount.value=t.active_amount||t.active_amount?t.active_amount:null)}},{key:"onPropsChange",value:function(e,t){this.filters.disaster_number.value!==t.disaster_number&&(this.filters.disaster_number.value=t.disaster_number,this.doAction(["fetchLayerData"])),e.active_amount!==t.active_amount&&(this.filters.amount.value=t.active_amount||t.active_amount?t.active_amount:null,this.doAction(["fetchLayerData"]))}},{key:"onAdd",value:function(e){var t=this;this.map=e,Ue.get(["geo",$h,"counties","geoid"]).then((function(e){t.filtered_geographies=Object.values(e.json.geo).reduce((function(e,t){return t.counties&&(e=[].concat(Object(m.a)(e),Object(m.a)(t.counties))),e}),[]),t.fetchData().then((function(e){return t.render(t.map)}))}))}},{key:"fetchData",value:function(){var e=this,t=this.filters.amount.value;return Kh.includes(t)?Ue.get(["fema","disasters","byId",this.filters.disaster_number.value,"ia","zipCodes"]).then((function(t){if(e.zip_codes=P()(t.json,["fema","disasters","byId",e.filters.disaster_number.value,"ia","zipCodes"],[]).filter((function(e){return null!==e})),e.zip_codes.length>0)return Ue.get(["fema","disasters","byId",e.filters.disaster_number.value,"ia","byZip",e.zip_codes,Kh]).then((function(t){e.render(e.map)}))})):qh.includes(t)?Ue.get(["fema","disasters","byId",this.filters.disaster_number.value,"pa","zipCodes"]).then((function(t){if(e.zip_codes=P()(t.json,["fema","disasters","byId",e.filters.disaster_number.value,"pa","zipCodes"],[]).filter((function(e){return null!==e})),e.zip_codes.length>0)return Ue.get(["fema","disasters","byId",e.filters.disaster_number.value,"pa","byZip",e.zip_codes,qh]).then((function(t){e.render(e.map)}))})):Yh.includes(t)?Ue.get(["fema","disasters","byId",this.filters.disaster_number.value,"hma_mitigated_properties","zipCodes"]).then((function(t){if(e.zip_codes=P()(t.json,["fema","disasters","byId",e.filters.disaster_number.value,"hma_mitigated_properties","zipCodes"],[]).filter((function(e){return null!==e})),e.zip_codes.length>0)return Ue.get(["fema","disasters","byId",e.filters.disaster_number.value,"hma_mitigated_properties","byZip",e.zip_codes,Yh]).then((function(t){e.render(e.map)}))})):void 0}},{key:"getColorScale",value:function(e){switch(this.legend.type){case"quantile":return Kt.a().domain(e).range(this.legend.range);case"quantize":return this.legend.domain=Object(ti.a)(e),qt.a().domain(e).range(this.legend.range);case"threshold":return this.legend.domain=e,Yt.a().domain(e).range(this.legend.range);default:return this.layer.forceUpdate(),Kt.a().domain(e).range(this.legend.range)}}},{key:"render",value:function(e){var t=this,n=Kh.includes(this.filters.amount.value)?P()(Ue.getCache(),["fema","disasters","byId",this.filters.disaster_number.value,"ia","byZip"],{}):qh.includes(this.filters.amount.value)?P()(Ue.getCache(),["fema","disasters","byId",this.filters.disaster_number.value,"pa","byZip"],{}):P()(Ue.getCache(),["fema","disasters","byId",this.filters.disaster_number.value,"hma_mitigated_properties","byZip"],{});if(Object.keys(n).length>0&&this.zip_codes){var a=Object.keys(n).reduce((function(e,a){return t.zip_codes&&t.zip_codes.filter((function(e){return"$__path"!==e})).forEach((function(r){r===a&&P()(n,[a,t.filters.amount.value,"value"],!1)&&(e[a]=P()(n,[a,t.filters.amount.value,"value"],!1))})),e}),{}),r=Object.values(a).sort((function(e,t){return e-t})),i=[0,ni.b(r,0),ni.b(r,.25),ni.b(r,.5),ni.b(r,.75),ni.b(r,1)],o=["#f2efe9","#fadaa6","#f7c475","#f09a10","#cf4010"];this.legend.domain=i,this.legend.range=o;var s=Yt.a().domain(i).range(o),c=Object.keys(a).reduce((function(e,t){return e[t]=s(a[t]),e}),{});console.log("colors",c),e.setLayoutProperty("zipcodes","visibility","visible"),e.setFilter("zipcodes",["all",["match",["get","ZCTA5CE10"],Object(m.a)(new Set(this.zip_codes)),!0,!1]]),e.setPaintProperty("zipcodes","fill-color",["case",["has",["to-string",["get","ZCTA5CE10"]],["literal",c]],["get",["to-string",["get","ZCTA5CE10"]],["literal",c]],"hsl(0, 3%, 94%)"])}}}]),n}(Jr),Qh=["project_amount","project_amount_count","federal_share_obligated","federal_share_obligated_count","total_obligated","total_obligated_count"],ef=[{name:"$ Project Amount",value:"project_amount",amount:0,count:0},{name:"$ Federal Share Obligated Amount",value:"federal_share_obligated",amount:0,count:0},{name:"$ Total Obligated Amount",value:"total_obligated",amount:0,count:0}],tf=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"fetchFalcorDeps",value:function(){return this.props.falcor.get(["fema","disasters","byId",this.props.disaster_number,"pa_totals",Qh]).then((function(e){return e}))}},{key:"processData",value:function(){var e=P()(this.props.falcorCache,["fema","disasters","byId",this.props.disaster_number,"pa_totals"],null);e&&Object.keys(e).forEach((function(t){ef.forEach((function(n){n.value!==t||t.includes("_count")||(n.amount=e[t].value||0),t.includes("count")&&n.value===t.split("_count")[0]&&(n.count=parseInt(e[t].value)||0)}))}))}},{key:"render",value:function(){var e=this;return this.processData(),Object(a.jsx)("div",{className:"mt-5 grid grid-cols-6 gap-5 sm:grid-cols-6 py-5",children:ef.map((function(t,n){return Object(a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg cursor-pointer",onClick:function(n){console.log("e",t.value),e.props.setActiveAmount(t.value)},children:Object(a.jsx)("div",{className:"px-4 py-5 sm:p-6",children:Object(a.jsxs)("dl",{children:[Object(a.jsx)("dt",{className:"text-base leading-6 font-normal text-gray-900 break-words",children:t.name}),Object(a.jsx)("dd",{className:"mt-1 flex justify-between items-baseline md:block lg:flex",children:Object(a.jsx)("div",{className:"flex items-baseline text-2xl leading-8 font-semibold text-indigo-600",children:Object(se.fnum)(t.amount)})}),Object(a.jsx)("dd",{className:"mt-1 flex justify-between items-baseline md:block lg:flex",children:Object(a.jsxs)("div",{className:"text-sm leading-5 font-medium text-gray-500",children:["# ",t.count]})})]})})},n)}))})}}]),n}(i.a.Component),nf={setActiveAmount:Eh},af=Object(O.connect)((function(e,t){return{activeStateGeoid:e.stormEvents.activeStateGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[])}}),nf)(A(tf)),rf=ni.a("~s"),of=["actual_amount_paid","number_of_properties"],sf=[{name:"$ Actual Amount Paid",value:"actual_amount_paid",amount:0,count:0}],cf=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"fetchFalcorDeps",value:function(){return this.props.falcor.get(["fema","disasters","byId",this.props.disaster_number,"hma_mitigated_properties_totals",of]).then((function(e){return e}))}},{key:"processData",value:function(){var e=P()(this.props.falcorCache,["fema","disasters","byId",this.props.disaster_number,"hma_mitigated_properties_totals"],null);e&&sf.forEach((function(t){t.amount=e.actual_amount_paid.value||0,t.count=function(e){return e<1e3?e:rf(e)}(e.number_of_properties.value)||0}))}},{key:"render",value:function(){var e=this;return this.processData(),Object(a.jsx)("div",{className:"mt-5 grid grid-cols-6 gap-5 sm:grid-cols-6 py-5",children:sf.map((function(t,n){return Object(a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg cursor-pointer",onClick:function(n){console.log("e",t.value),e.props.setActiveAmount(t.value)},children:Object(a.jsx)("div",{className:"px-4 py-5 sm:p-6",children:Object(a.jsxs)("dl",{children:[Object(a.jsx)("dt",{className:"text-base leading-6 font-normal text-gray-900 break-words",children:t.name}),Object(a.jsx)("dd",{className:"mt-1 flex justify-between items-baseline md:block lg:flex",children:Object(a.jsx)("div",{className:"flex items-baseline text-2xl leading-8 font-semibold text-indigo-600",children:Object(se.fnum)(t.amount)})}),Object(a.jsx)("dd",{className:"mt-1 flex justify-between items-baseline md:block lg:flex",children:Object(a.jsxs)("div",{className:"text-sm leading-5 font-medium text-gray-500",children:["# ",t.count]})})]})})},n)}))})}}]),n}(i.a.Component),lf={setActiveAmount:Eh},uf=Object(O.connect)((function(e,t){return{activeStateGeoid:e.stormEvents.activeStateGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[])}}),lf)(A(cf)),df=["project_amount","project_amount_count","federal_share_obligated","federal_share_obligated_count"],pf=[{name:"$ Project Amount",value:"project_amount",amount:0,count:0},{name:"$ Federal Share Obligated Amount",value:"federal_share_obligated",amount:0,count:0}],hf=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"fetchFalcorDeps",value:function(){return this.props.falcor.get(["fema","disasters","byId",this.props.disaster_number,"hma_mitigated_projects_totals",df]).then((function(e){return e}))}},{key:"processData",value:function(){var e=P()(this.props.falcorCache,["fema","disasters","byId",this.props.disaster_number,"hma_mitigated_projects_totals"],null);if(e)return Object.keys(e).forEach((function(t){pf.forEach((function(n){n.value!==t||t.includes("_count")||(n.amount=e[t].value||0),t.includes("count")&&n.value===t.split("_count")[0]&&(n.count=parseInt(e[t].value)||0)}))}))}},{key:"render",value:function(){var e=this;return this.processData(),Object(a.jsx)("div",{className:"mt-5 grid grid-cols-6 gap-5 sm:grid-cols-6 py-5",children:pf.map((function(t,n){return Object(a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg cursor-pointer",onClick:function(){console.log("e",t.value),e.props.setActiveAmount(t.value)},children:Object(a.jsx)("div",{className:"px-4 py-5 sm:p-6",children:Object(a.jsxs)("dl",{children:[Object(a.jsx)("dt",{className:"text-base leading-6 font-normal text-gray-900 break-words",children:t.name}),Object(a.jsx)("dd",{className:"mt-1 flex justify-between items-baseline md:block lg:flex",children:Object(a.jsx)("div",{className:"flex items-baseline text-2xl leading-8 font-semibold text-indigo-600",children:Object(se.fnum)(t.amount)})}),Object(a.jsx)("dd",{className:"mt-1 flex justify-between items-baseline md:block lg:flex",children:Object(a.jsxs)("div",{className:"text-sm leading-5 font-medium text-gray-500",children:["# ",t.count]})})]})})},n)}))})}}]),n}(i.a.Component),ff={setActiveAmount:Eh},bf=Object(O.connect)((function(e){return{activeStateGeoid:e.stormEvents.activeStateGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[])}}),ff)(A(hf)),mf=ni.a("~s"),vf=n(112),jf=[{Header:"Disaster Number",accessor:"disaster_number"},{Header:"Designated Area",accessor:"designated_area",disableFilters:!0},{Header:"Declaration Title",accessor:"declaration_title",disableFilters:!0},{Header:"Declaration Request Number",accessor:"declaration_request_number",disableFilters:!0},{Header:"State",accessor:"state"},{Header:"Declaration Type",accessor:"declaration_type",disableFilters:!0},{Header:"Declaration Date",accessor:"declaration_date",disableFilters:!0}],gf=["disaster_number","designated_area","declaration_title","declaration_request_number","state","declaration_type","declaration_date"],yf=[{name:"# IA Approved",value:"total_number_ia_approved",amount:0},{name:"$ IHP Approved",value:"total_amount_ihp_approved",amount:0},{name:"$ ONA Approved",value:"total_amount_ona_approved",amount:0},{name:"$ Obligated PA",value:"total_obligated_amount_pa",amount:0},{name:"$ Obligated CAT AB",value:"total_obligated_amount_cat_ab",amount:0},{name:"$ Obligate CAT C2G",value:"total_obligated_amount_cat_c2g",amount:0},{name:"$ Obligated HMGP",value:"total_obligated_amount_hmgp",amount:0},{name:"Total Funds",value:"total_funds"}],xf=0,Of=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).FemaDisastersTotalsEventsLayer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Jh("FEMA Disasters IA Events",Object(c.a)(Object(c.a)({},e),{},{selectedStations:new Map,stationFeatures:[],popover:{layers:["zipcodes"],pinned:!1,dataFunc:function(e){var t=this;return[[Object(a.jsxs)("div",{className:"text-lg text-bold bg-white",children:["ZIP - ",e.properties.ZCTA5CE10]})],[Object(a.jsxs)("div",{className:"text-sm bg-white",children:[Xh.reduce((function(e,n){return n.value===t.filters.amount.value&&(e=n.name),e}),"")," -",Kh.includes(this.filters.amount.value)?Object(se.fnum)(P()(Ue.getCache(),["fema","disasters","byId",this.filters.disaster_number.value,"ia","byZip",e.properties.ZCTA5CE10,this.filters.amount.value,"value"],0)):qh.includes(this.filters.amount.value)?Object(se.fnum)(P()(Ue.getCache(),["fema","disasters","byId",this.filters.disaster_number.value,"pa","byZip",e.properties.ZCTA5CE10,this.filters.amount.value,"value"],0)):Object(se.fnum)(P()(Ue.getCache(),["fema","disasters","byId",this.filters.disaster_number.value,"hma_mitigated_properties","byZip",e.properties.ZCTA5CE10,this.filters.amount.value,"value"],0))]})]]}},showAttributesModal:!1,legend:{title:"Total Damage",type:"threshold",types:["threshold","quantile","quantize","linear"],vertical:!1,range:[],active:!1,domain:[],format:se.fnum},sources:[{id:"composite",source:{url:"mapbox://lobenichou.albersusa,lobenichou.albersusa-points",type:"vector"}},{id:"albersusa",source:{url:"mapbox://lobenichou.albersusa",type:"vector"}},{id:"albersusa_zip_codes",source:{url:"mapbox://am3081.4jgx8fkw",type:"vector"}}],filters:{disaster_number:{type:"dropdown",value:window.location.pathname.split("/")[3],domain:[]},amount:{type:"dropdown",value:"ihp_amount",domain:[]}},layers:[{id:"counties",type:"fill",source:"albersusa","source-layer":"albersusa",filter:["match",["get","type"],["county"],!0,!1],layout:{},paint:{"fill-color":"hsl(0, 3%, 94%)","fill-opacity":["case",["boolean",["feature-state","hover"],!1],0,1],"fill-outline-color":["case",["boolean",["feature-state","hover"],!1],"hsl(0, 4%, 85%)","hsl(0, 4%, 85%)"]}},{id:"zipcodes",type:"fill",source:"albersusa_zip_codes","source-layer":"albersusa_zip_codes",filter:["match",["get","type"],["ZCTA5CE10"],!0,!1],layout:{},paint:{"fill-color":"hsl(0, 3%, 94%)","fill-opacity":["case",["boolean",["feature-state","hover"],!1],0,1],"fill-outline-color":["case",["boolean",["feature-state","hover"],!1],"hsl(0, 4%, 85%)","hsl(0, 4%, 85%)"]}},{id:"states",type:"fill",source:"albersusa","source-layer":"albersusa",filter:["match",["get","type"],["state"],!0,!1],layout:{},paint:{"fill-color":"rgba(0,0,0,0)"}},{id:"state-boundaries",type:"line",source:"composite","source-layer":"albersusa",filter:["match",["get","type"],["state"],!0,!1],layout:{},paint:{"line-color":"hsl(0, 0%, 34%)","line-width":.5}},{id:"county-points",type:"symbol",source:"composite","source-layer":"albersusa-points",filter:["match",["get","type"],["county"],!0,!1],layout:{"text-field":["to-string",["get","county_fips"]],"text-font":["Overpass Mono Bold","Arial Unicode MS Regular"],visibility:"none"},paint:{"text-color":"hsl(0, 0%, 100%)","text-halo-color":"hsl(0, 0%, 6%)","text-halo-width":1,"text-opacity":["step",["zoom"],0,6,1]}},{id:"state-points",type:"symbol",source:"composite","source-layer":"albersusa-points",filter:["match",["get","type"],["state"],!0,!1],layout:{"text-field":["to-string",["get","state_abbrev"]],"text-font":["Overpass Mono Bold","Arial Unicode MS Regular"]},paint:{"text-color":"hsl(0, 0%, 0%)","text-opacity":["step",["zoom"],1,6,0],"text-halo-color":"hsl(0, 0%, 100%)","text-halo-width":1}}]}))}({active:!0}),r.state={},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"fetchFalcorDeps",value:function(){var e=this,t=window.location.pathname.split("/")[3];return this.props.falcor.get(["fema","disasters",[t],"declarations","length"]).then((function(n){var a=P()(n.json,["fema","disasters",t,"declarations","length"],null);if(!a)return Promise.resolve({});e.props.falcor.get(["fema","disasters",t,"declarations","byIndex",[{from:0,to:a-1}],gf],["fema","disasters","byId",t,yf.map((function(e){return e.value}))]).then((function(e){return e}))}))}},{key:"processData",value:function(){if(Object.keys(this.props.falcorCache).length>0){var e=P()(this.props.falcorCache,["fema","disasters","declarations","byId"],{}),t=[],n=window.location.pathname.split("/")[3];Object.keys(e).filter((function(e){return"$__path"!==e})).forEach((function(a){e[a].disaster_number.value.toString()===n.toString()&&t.push(gf.reduce((function(t,n){return e[a][n]&&(t[n]=n.includes("date")||n.includes("last_refresh")?new Date(e[a][n].value).toLocaleDateString("en-US"):n.includes("number")?e[a][n].value:Object(se.fnum)(e[a][n].value)||"$0"),t}),{}))}));var a=P()(this.props.falcorCache,["fema","disasters","byId",window.location.pathname.split("/")[3]],null);return a&&(yf.forEach((function(e){e&&"total_funds"!==e.value&&a[e.value]&&(e.amount=parseFloat(a[e.value].value)||0)})),xf=yf.reduce((function(e,t){return"total_funds"!==t.value&&(e+=t.amount),e}),0)),t}}},{key:"render",value:function(){var e=this.processData();return Object(a.jsxs)("div",{className:"h-screen box-border w-full -mt-4 fixed overflow-auto",children:[Object(a.jsx)("div",{className:"relative bg-white z-40 m-0",children:"fema"===this.props.match.params.datatype||this.props.match.params.disasterId?Object(a.jsx)(me.TopNav,{menuItems:[{name:"By Hazard",id:1,path:"/maps/fema",sectionClass:"mb-4",itemClass:"font-bold",children:[],rest:{}},{name:"By Disaster Number",id:2,path:"/fema_disasters",sectionClass:"mb-4",itemClass:"font-bold",children:[],rest:{}}],customTheme:{sidebarBg:"bg-white",topNavHeight:"h-12",navitemTop:"px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-gray-800 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out",navitemTopActive:"px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-blue-500 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out"}}):null}),Object(a.jsxs)("div",{className:"container max-w-7xl mx-auto",children:[Object(a.jsx)("h1",{children:e&&e.length>0?"".concat(vf.uniq(vf.map(e,"declaration_title")).join(",")," - ").concat(vf.uniq(vf.map(e,"state")).join(",")):"Loading"}),Object(a.jsx)("div",{className:"mt-5 grid grid-cols-8 gap-5 sm:grid-cols-8 py-5",children:yf.map((function(e,t){return Object(a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:Object(a.jsx)("div",{className:"px-4 py-5 sm:p-6",children:Object(a.jsxs)("dl",{children:[Object(a.jsx)("dt",{className:"text-sm leading-5 font-medium text-gray-500 break-words",children:e.name}),Object(a.jsx)("dd",{className:"mt-1 text-3xl leading-9 font-semibold text-gray-900",children:"total_funds"!==e.value?e.value.includes("number")?(n=e.amount,n<1e3?n:mf(n)):Object(se.fnum)(e.amount):Object(se.fnum)(xf)})]})})},t);var n}))}),Object(a.jsx)("div",{children:e&&e.length>0?Object(a.jsx)(me.Table,{defaultPageSize:10,showPagination:!1,columns:jf,data:e,initialPageSize:10,minRows:e.length,sortBy:"declaration_date",sortOrder:"desc"}):Object(a.jsx)("div",{children:"Loading ...."})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(me.Header,{title:"Individual And Households Programs Valid Registration"}),Object(a.jsx)(Zh,{disaster_number:[window.location.pathname.split("/")[3]]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(me.Header,{title:"Public Assistance Funded Projects Details v1"}),Object(a.jsx)(af,{disaster_number:[window.location.pathname.split("/")[3]]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(me.Header,{title:"Hazard Mitigation Assistance Mitigated Properties v2"}),Object(a.jsx)(uf,{disaster_number:[window.location.pathname.split("/")[3]]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(me.Header,{title:"Hazard Mitigation Assistance Mitigated Projects v2"}),Object(a.jsx)(bf,{disaster_number:[window.location.pathname.split("/")[3]]})]})]}),Object(a.jsx)(hl,{layers:[this.FemaDisastersTotalsEventsLayer],height:"100%",center:[0,0],zoom:4,year:2018,fips:"",styles:[{name:"Blank",style:"mapbox://styles/am3081/ckaml4r1e1uip1ipgtx5vm9zk"}],sidebar:!1,attributes:!1,layerProps:Object(M.a)({},this.FemaDisastersTotalsEventsLayer.name,{disaster_number:window.location.pathname.split("/")[3],active_amount:this.props.activeAmount?this.props.activeAmount:"ihp_amount"})})]})}}]),n}(i.a.Component),_f=Object(O.connect)((function(e){return{activeAmount:e.femaDisasterDeclarations.activeAmount,activeStateGeoid:e.stormEvents.activeStateGeoid,activeStateAbbrev:e.stormEvents.activeStateAbbrev,graph:e.graph,hazards:P()(e.graph,"riskIndex.hazards.value",[])}}),{})(A(Of)),kf=[{path:"/fema_disasters/disaster/:disasterId",mainNav:!1,exact:!1,name:"Disaster Declaration",layoutSettings:{fixed:!0,maxWidth:"",headerBar:!1,nav:"top"},component:Object(f.withRouter)(_f)}],wf={app:"shmp",type:"doc-page",registerFormats:[{app:"shmp",type:"page-section",attributes:[{key:"title",type:"text"},{key:"content",type:"richtext",required:!0},{key:"section",type:"text"}]}],attributes:[{key:"section",type:"text",required:!0,default:"props:section",hidden:!0},{key:"sectionLanding",type:"boolean",default:!1,editable:!1,hidden:!0},{key:"index",type:"number",default:"props:index",editable:!1,hidden:!0},{key:"title",type:"text"},{key:"url-slug",type:"text"},{key:"showSidebar",type:"boolean",default:!0,required:!0},{key:"sections",type:"dms-format",format:"shmp+page-section",isArray:!0,editInPlace:!0}]},Cf=function(){return Object(a.jsx)("div",{className:"flex-shrink-0 pl-8 mt-2",children:Object(a.jsx)("svg",{width:"".concat(175,"px"),height:"".concat(50,"px"),children:Object(a.jsx)("path",{fill:"#5d87a1",stroke:"none",style:{transform:"scale(0.15)"},d:"m234.2 250.8c-1.5726-1.5726-1.5153-3.3974 0.2088-6.6457 0.77484-1.4599 1.9438-5.2942 2.5978-8.5208 1.0128-4.9972 0.96511-6.0904-0.32186-7.3773-0.83096-0.83096-7.7375-5.2029-15.348-9.7154-9.2951-5.5115-14.265-9.0804-15.142-10.873-0.91101-1.8632-2.0821-2.6681-3.8819-2.6681-5.4563 0-11.294-9.3264-11.308-18.065-5e-3 -3.0096-0.51174-3.8252-3.2556-5.2369-1.7875-0.91966-4.5204-2.6905-6.0731-3.9352l-2.8232-2.2631-88.039-0.22091c-64.659-0.16224-88.408-0.52671-89.427-1.3724-0.97957-0.81297-1.3875-3.5937-1.3875-9.4577 0-9.0369 0.53268-10.137 6.3447-13.109 1.7354-0.88713 4.8225-3.1071 6.8602-4.9334s5.5254-4.2492 7.7504-5.3843c2.2693-1.1577 5.1405-3.7985 6.5396-6.0148 1.3718-2.173 3.8902-4.6729 5.5964-5.5552 2.5407-1.3138 2.9666-1.9978 2.353-3.7785-0.41212-1.1958-0.84817-4.1919-0.969-6.658-0.18676-3.8118-0.57606-4.5673-2.5975-5.0413-2.1402-0.50186-2.4073-1.1693-2.6732-6.6777-0.35717-7.3994 0.37566-8.1085 12.295-11.897 14.512-4.6125 40.563-3.6811 47.862 1.7113 2.6649 1.9686 3.2635 2.0292 8.6866 0.87832 3.2035-0.67982 7.4648-0.9283 9.4697-0.55218 5.0534 0.94803 17.049-2.2309 20.519-5.4375 5.8549-5.4115 10.304-8 13.752-8h3.4668l-0.81045-4.25c-1.3009-6.8218-0.95445-10.226 1.3732-13.495 2.7551-3.8692 2.7314-4.2551-0.26168-4.2551-3.0676 0-5.5567-3.4272-5.5567-7.6511 0-3.8814 1.2954-5.2624 9.3068-9.9212 8.2047-4.7713 12.511-9.0365 13.743-13.613 1.6972-6.303 23.745-24.714 33.876-28.289 2.7344-0.96477 9.804-1.3616 24.702-1.3868 11.479-0.0194 24.802-0.34116 29.606-0.71507 6.005-0.46739 9.65-0.30061 11.664 0.53371 3.623 1.5007 5.5654 5.6912 4.2463 9.1607-0.58348 1.5347-0.59019 3.1212-0.0175 4.1445 0.59863 1.0697 0.45236 3.5348-0.41223 6.9474-1.1585 4.5727-1.6704 5.2894-3.7777 5.2894-2.4166 0-2.4376-0.0839-2.4376-9.739 0-6.0662-0.40831-9.8957-1.0827-10.154-0.59549-0.22847-7.7955-5.5e-4 -16 0.50649s-21.217 0.82652-28.917 0.70996c-13.55-0.20512-14.173-0.12269-19.383 2.5667-2.9605 1.5282-7.4605 4.6736-10 6.9897-2.5395 2.3161-6.9719 6.1386-9.8498 8.4944-3.9317 3.2184-5.5106 5.3156-6.3508 8.4358-1.3116 4.8711-5.4292 8.8908-15.185 14.824-8.0091 4.8708-8.8431 5.8667-4.9134 5.8667 1.6151 0 3.5439 0.73184 4.2863 1.6263 2.0641 2.4871 1.6458 8.5107-0.83268 11.991-1.9268 2.706-2.112 3.9043-1.5814 10.234 0.69434 8.282-0.82668 11.149-5.9156 11.149-3.1289 0-11.082 4.9116-14.098 8.7067-1.0024 1.2613-2.8583 2.2933-4.1243 2.2933s-4.2148 0.675-6.5532 1.5c-2.3964 0.8455-7.681 1.5-12.111 1.5-4.323 0-9.8579 0.53438-12.3 1.1875-4.1503 1.11-4.6895 1.0155-8.2644-1.4487-5.1697-3.5637-10.804-4.6853-23.68-4.7143-10.883-0.0245-20.102 1.6097-25.85 4.5819-3.268 1.6899-3.6408 3.9902-0.79328 4.894 2.8085 0.89139 4.0456 3.6931 3.855 8.7308-0.08999 2.3792 0.39383 5.3674 1.0752 6.6404 1.8562 3.4684 0.50288 6.8014-4.1221 10.152-2.2814 1.6527-4.9812 4.3748-5.9995 6.0493s-3.2584 3.8056-4.978 4.736c-1.7196 0.93033-5.3213 3.6005-8.0038 5.9338-2.6825 2.3332-6.6662 5.1549-8.8526 6.2703-3.8301 1.954-3.9753 2.21-3.9753 7.0077v4.9797l84.75 0.0245c54.842 0.0158 86.338 0.39023 89.25 1.061 2.475 0.57009 5.4 1.8564 6.5 2.8586s3.498 2.5796 5.3288 3.5054c3.935 1.9899 6.1712 6.6396 6.1712 12.831 0 3.4532 0.56446 4.8701 2.75 6.9033 1.5125 1.4071 4.0177 2.8574 5.5671 3.223 1.5803 0.37289 3.5202 1.8897 4.4185 3.455 1.0391 1.8105 6.8596 5.9155 16.576 11.69 11.126 6.6129 15.278 9.6198 16.152 11.7 1.1225 2.6697 1.2534 2.7164 2.806 1.0008 1.1163-1.2336 1.3347-2.2641 0.69442-3.2767-1.7692-2.7978-0.95499-4.9542 2.7578-7.304l3.7226-2.356-0.18725-7.9086c-0.10299-4.3497 0.13436-9.9336 0.52743-12.409 0.62619-3.9428 1.0243-4.5 3.2147-4.5 2.4964 0 2.5001 0.0145 2.5545 10 0.03 5.5 0.42011 11.649 0.86692 13.664 0.76792 3.4637 0.61517 3.792-2.7922 6-2.6901 1.7433-3.6077 3.0335-3.6169 5.0858-7e-3 1.5125 0.19066 2.75 0.43883 2.75s2.9347-0.64686 5.97-1.4375c3.0353-0.79061 9.9198-1.7469 15.299-2.125 5.778-0.40623 12.799-1.6594 17.158-3.0625 8.7003-2.8007 10.232-2.8869 14.263-0.80237 2.0879 1.0797 4.2531 1.3678 6.9082 0.91922 5.5874-0.94398 7.9515 0.073 7.9515 3.4206 0 4.1826-2.9568 6.1198-16.32 10.692-6.6988 2.2921-14.205 4.866-16.68 5.7198s-8.1 2.2755-12.5 3.1595c-4.4 0.88396-9.8 2.0488-12 2.5886-4.8983 1.2018-27.595 5.9272-28.469 5.9272-0.34712 0-1.1711-0.54-1.8311-1.2zm22.3-9.4383c8.0536-2.2335 17.582-4.3746 23.599-5.3032 3.0795-0.47519 7.3545-1.756 9.5-2.8461 2.1455-1.0902 6.7133-2.7682 10.151-3.729 3.4375-0.96079 6.25-2.0294 6.25-2.3746s-0.81315-1.1355-1.807-1.7562c-1.4153-0.88388-3.4204-0.60285-9.25 1.2965-4.7155 1.5363-11.657 2.7536-18.943 3.3219-11.012 0.85886-18.769 2.7899-25.788 6.4192-1.7122 0.88543-3.998 1.6099-5.0795 1.6099-2.1912 0-3.0463 1.5793-2.3365 4.3153 0.52185 2.0115 3.8458 1.7802 13.704-0.95363zm197.99 9.4585c-0.27653-0.72608-0.38701-57.345-0.24553-125.82l0.25725-124.5h5v251l-2.2545 0.32014c-1.24 0.17607-2.4807-0.27393-2.7572-1zm-141.73-11.32c-0.26285-1.375-0.0903-2.5 0.38342-2.5 0.47373 0 0.86133 1.125 0.86133 2.5s-0.17254 2.5-0.38342 2.5c-0.21089 0-0.59848-1.125-0.86133-2.5zm3.3237 0.25c-0.0812-2.8296 1.3028-3.7176 2.3377-1.5 0.46666 1 0.7 1 1.1667 0 1.0287-2.2044 2.4172-1.3372 2.4014 1.5-0.0108 1.9329-0.27194 2.345-0.87895 1.3868-0.72914-1.1509-0.9485-1.1509-1.4086 0s-0.69365 1.1509-1.5 0c-0.80634-1.1509-1.0395-1.1509-1.4972 0-0.29816 0.74973-0.57763 0.12565-0.62105-1.3868zm-68.079-56.45c-8.1288-2.9402-9.7296-5.3852-6.5232-9.963 1.4615-2.0866 1.516-2.0893 5.25-0.25957 6.2409 3.0582 11.408 3.4483 14.299 1.0795 2.1956-1.799 2.3053-2.1937 0.97432-3.5034-0.825-0.81181-4.5252-2.3974-8.2226-3.5235-10.854-3.3057-13.777-6.2186-13.777-13.726 0-8.7045 5.4454-12.828 17-12.874 12.113-0.0477 16.777 3.2909 12.592 9.0135-1.2827 1.7542-1.7358 1.8068-5.0976 0.59113-4.3498-1.5729-10.283-1.7457-11.688-0.34043-2.1807 2.1807-0.25814 4.5333 5.1938 6.3554 13.201 4.412 16 6.9224 16 14.351 0 8.7114-6.4335 13.5-18 13.399-3.575-0.0313-7.175-0.30114-8-0.59955zm41.75 0.0111c-1.5795-0.41272-1.75-2.1018-1.75-17.334v-16.877l-11.5-0.59981-0.31037-3.75-0.31036-3.75h17.592c19.061 0 19.468 0.12363 18.118 5.5022-0.58112 2.3154-1.0636 2.4978-6.6078 2.4978h-5.981v16.893c0 14.482-0.22578 16.98-1.5818 17.5-1.7332 0.6651-4.9398 0.63067-7.6682-0.0823zm19 0c-0.9625-0.25152-1.75-0.58567-1.75-0.74254 0-0.15686 3.7446-9.4614 8.3212-20.677l8.3212-20.391 11.052-0.5907 8.1526 20.019c4.4839 11.011 8.1526 20.433 8.1526 20.938 0 2.3572-8.0689 2.9215-10.272 0.71839-0.77816-0.77816-1.9899-2.8032-2.6928-4.5-1.2661-3.0566-1.3469-3.0852-8.7309-3.0852h-7.4529l-1.6757 3.9452c-1.9879 4.6801-5.3322 5.9579-11.426 4.3654zm23.932-18.061c-1.1402-3.622-3.5963-9.7222-3.6385-9.037-0.0241 0.39214-0.93732 2.9796-2.0293 5.75l-1.9854 5.037h4.102c3.4499 0 4.0145-0.27821 3.5511-1.75zm28.068 18.061c-1.5795-0.41275-1.75-2.1019-1.75-17.334v-16.877l-11.5-0.59981-0.31037-3.75-0.31036-3.75h17.592c19.061 0 19.468 0.12363 18.118 5.5022-0.58112 2.3154-1.0636 2.4978-6.6078 2.4978h-5.981v16.893c0 14.482-0.22578 16.98-1.5818 17.5-1.7332 0.6651-4.9398 0.63067-7.6682-0.0823zm27.25-20.782v-21.528h13.031c14.109 0 14.862 0.30561 13.557 5.5022-0.59921 2.3875-0.95993 2.4978-8.1682 2.4978h-7.5413l0.31036 3.75 0.31037 3.75 11.615 0.60323-0.61458 7.3968-11.5 0.59981v9.8193l16.5 0.58088v8l-27.5 0.55644zm283.28 17.818c-9.4587-3.3493-12.495-13.232-5.9716-19.439l3.3046-3.1443-2.8046-2.8045c-4.3208-4.3208-3.5466-9.9884 2.0034-14.666l2.6196-2.208-2.0888-2.292c-3.4677-3.805-4.5482-6.781-4.6019-12.674-0.0862-9.4647 4.7809-15.709 14.492-18.593 6.1596-1.8292 9.5685-1.896 18.51-0.36269 5.9321 1.0172 7.2325 0.94538 10.441-0.57693 4.0577-1.9255 6.909-1.1567 8.7975 2.3721 1.7565 3.2821 1.1416 5.0186-2.37 6.6932l-3.3929 1.618 1.4891 3.5638c3.0468 7.2919-0.61674 16.269-8.5403 20.927-4.2586 2.5034-5.654 2.7611-16.092 2.9712-11.912 0.23982-14.55 1.2182-11.503 4.2659 1.1191 1.1195 4.9485 1.6375 15.214 2.0582 15.342 0.6287 18.939 1.7992 22.259 7.2444 3.9478 6.4747 1.2942 16.965-5.4449 21.525-1.8887 1.278-5.5669 2.9655-8.1738 3.75-6.2344 1.8763-22.578 1.7444-28.146-0.22714zm25.594-11.09c3.5042-2.6042 3.946-6.5715 0.96438-8.6599-3.0489-2.1355-15.795-2.1859-19.87-0.0785-2.9746 1.5382-4.7447 5.4109-3.4389 7.5237 2.6249 4.2472 17.198 5.0394 22.344 1.2147zm-4.4186-38.672c5.6873-2.3763 7.2676-8.1293 3.5362-12.873-2.5212-3.2052-6.9123-4.2217-11.581-2.6808-7.2153 2.3813-7.8844 12.548-1.0223 15.535 3.9876 1.7356 4.9541 1.7376 9.0673 0.019zm-196.2 25.764c-2.8954-0.62713-2.91 0.11915 0.73789-37.778 2.0295-21.084 3.3807-31.186 4.2446-31.735 1.4388-0.91328 9.2461-1.0823 12.284-0.26594 2.0192 0.54265 7.7916 14.247 16.033 38.062l3.1597 9.1313 8.3346-22.499c4.584-12.374 9.0041-23.168 9.8223-23.987 1.1-1.1 3.1254-1.3834 7.7726-1.0875 3.4567 0.22011 6.466 0.60497 6.6873 0.85525 0.71904 0.81326 6.7136 67.083 6.1505 67.994-0.92676 1.4995-7.2231 2.2198-11.198 1.281l-3.7782-0.89239-1.6281-18.758c-0.89546-10.317-1.8103-18.941-2.0329-19.163-0.22266-0.22266-3.2686 7.335-6.7687 16.795-3.5001 9.4598-7.0588 17.762-7.9082 18.45-1.829 1.4805-7.5523 1.6467-10.082 0.29279-1.1045-0.5911-4.186-7.38-8.0567-17.75-6.667-17.861-8.0157-20.504-8.0356-15.743-0.0193 4.622-2.8707 35.666-3.3168 36.112-0.68223 0.68224-10.049 1.1994-12.421 0.68574zm86-0.3794c-2.249-0.90398-2.25-0.91587-2.25-25.83 0-27.873-0.49737-26.139 7.5-26.139 7.9973 0 7.5-1.7326 7.5 26.132v24.918l-2.5651 0.97525c-3.1139 1.1839-7.1556 1.1617-10.185-0.0559zm31.131-0.87843c-4.5968-2.803-5.3806-6.4072-5.3806-24.74 0-16.28-0.01-16.351-2.25-16.383-3.6669-0.0518-5.75-2.3226-5.75-6.2681 0-3.4143 0.17292-3.5937 3.75-3.8898l3.75-0.31037 1-13h13l1 13 10 1v9l-10.642 0.60946 0.3212 15.028c0.28833 13.49 0.5191 15.172 2.255 16.44 1.6811 1.2274 2.2596 1.1984 4.4278-0.22227 2.3707-1.5533 2.5842-1.5228 4.3162 0.61618 2.8724 3.5472 2.3808 7.6886-1.1281 9.5031-4.2975 2.2223-14.747 2.0074-18.669-0.38391zm28.869 0.87843c-2.249-0.90398-2.25-0.91587-2.25-25.83 0-27.873-0.49737-26.139 7.5-26.139 8.0024 0 7.5-1.7739 7.5 26.482v25.268l-3.125 0.625c-4.0966 0.81932-6.867 0.70241-9.625-0.40616zm85.139-0.87361c-5.3384-3.2553-7.8214-7.7523-7.8571-14.23-0.0359-6.5256 1.9693-10.064 7.5731-13.365 2.7352-1.6111 5.194-2 12.645-2h9.2493l6.8e-4 -3.6786c1e-3 -7.7647-8.2363-10.125-18.44-5.2825-4.2058 1.9958-6.2371 1.4384-7.5742-2.0784-1.7161-4.5138-1.1497-5.4944 4.765-8.2501 4.8882-2.2775 7.0988-2.6803 14.75-2.6879 7.6357-8e-3 9.6264 0.34895 13.132 2.3522 7.2895 4.1653 8.3679 7.4501 8.3679 25.488 0 15.527 0.0103 15.598 2.5 17.229 3.0759 2.0154 3.1591 3.7161 0.31144 6.3691-3.013 2.807-9.4198 2.7555-12.46-0.10026l-2.2771-2.1392-4.9727 2.1392c-6.4474 2.7736-15.375 2.8798-19.713 0.23445zm20.41-10.373c0.81477-0.65709 1.1871-2.7552 1-5.6345l-0.29816-4.5876-4.8365-0.30832c-7.8904-0.50301-11.59 3.3398-8.5981 8.9305 1.9771 3.6943 9.0361 4.5813 12.733 1.6zm36.702 11.333c-5.8582-2.3977-7.4421-8.2887-7.4756-27.805-0.0228-13.296-0.15091-14.25-1.9137-14.25-3.4739 0-6.0023-3.1519-5.4146-6.75 0.47732-2.9224 0.87222-3.25 3.9173-3.25h3.3865v-6.393c0-7.2055 0.39585-7.607 7.5-7.607 7.0958 0 7.5 0.4071 7.5 7.5547v6.3408l5.25 0.30226c4.6458 0.26748 5.2883 0.5729 5.5829 2.654 0.18308 1.2934 0.062 3.4309-0.26905 4.75-0.53447 2.1295-1.1602 2.3983-5.5829 2.3983h-4.981v14.389c0 12.568 0.23677 14.682 1.8709 16.7 1.8475 2.2816 1.9059 2.2874 4.6778 0.47124 2.767-1.813 2.8329-1.8072 4.6291 0.41116 2.8724 3.5472 2.3808 7.6886-1.1281 9.5031-3.1619 1.6351-14.09 1.9964-17.55 0.58032zm35.515-1.7582c-8.2313-4.3298-11.281-9.8134-11.829-21.27-0.53037-11.093 1.4211-17.634 6.894-23.107 7.2022-7.2022 20.815-8.8847 30.162-3.7281 6.3793 3.519 9.0602 9.1263 9.5821 20.041l0.41918 8.7676h-16.122c-17.979 0-18.189 0.0989-14.171 6.6886 3.3592 5.5093 12.416 6.2752 21.101 1.7842 3.7369-1.9324 3.6444-1.9599 5.5033 1.6348 3.7283 7.2097-1.6465 10.993-16.556 11.653-8.9476 0.39622-9.8189 0.25293-14.985-2.4642zm19.679-32.536c-0.66435-4.9531-3.5156-7.7602-7.8824-7.7602-4.0676 0-8.8123 4.8043-8.8123 8.9231v3.0769h17.263zm26.305 34.345-2.5-0.69512-0.26352-33.888c-0.20565-26.445 0.014-34.064 1-34.69 1.5835-1.0052 11.867-1.0568 13.408-0.0674 0.62951 0.40408 7.492 10.59 15.25 22.636l14.105 21.901v-22.044c0-19.179 0.2056-22.123 1.5818-22.651 2.0202-0.77521 9.2402-0.76139 12.168 0.0233l2.25 0.60298v33.915c0 38.403 0.74386 35.344-8.5963 35.349-2.803 2e-3 -5.761-0.54881-6.5734-1.223-0.8124-0.67424-7.5191-10.634-14.904-22.133l-13.427-20.907-1 43.177-2.5 0.69432c-3.1837 0.88421-6.8181 0.88392-10-8e-4zm87 0.0529c-2.4914-0.74125-2.5017-0.7951-3-15.701l-0.5-14.957-10.75-18.23c-5.9125-10.027-10.75-18.641-10.75-19.143 0-2.3274 11.439-3.0313 14.247-0.8768 1.9977 1.5325 11.302 17.584 13.766 23.75l1.7988 4.5 1.1542-3c2.2897-5.9513 13.279-24.561 15.07-25.52 2.2713-1.2156 10.971-1.2612 12.857-0.0675 1.5352 0.97215 0.89759 2.2446-13.312 26.562l-7.5817 12.975v14.216c0 7.8186-0.41268 14.471-0.91707 14.782-1.6358 1.011-9.5149 1.4737-12.083 0.70964zm-701.29-26.78c-0.39138-0.39137-0.71159-4.649-0.71159-9.4615v-8.7499l-6.5488-11.1c-3.6019-6.105-6.2753-11.542-5.941-12.083 0.89938-1.4552 9.1367-1.1938 10.669 0.33866 0.7272 0.7272 2.6718 4.078 4.3214 7.4462 1.6496 3.3682 3.2242 6.1298 3.4992 6.1368 0.275 7e-3 1.5242-2.1729 2.7759-4.8443 3.8933-8.3087 5.7633-10.061 10.738-10.061 2.4026 0 4.6434 0.44488 4.9794 0.98862 0.33605 0.54375-2.2249 5.8312-5.691 11.75l-6.302 10.761-1 19-5.0384 0.29492c-2.7711 0.16221-5.3586-0.0253-5.75-0.41667zm34.739-0.78485c-11.25-4.9004-14.35-25.805-5.3459-36.06 3.6734-4.1838 8.5024-5.8934 16.477-5.8334 11.343 0.0854 17.605 5.2715 19.651 16.275 2.1112 11.353-1.7883 21.688-9.5772 25.384-4.2423 2.0131-16.802 2.1518-21.205 0.23413zm14.605-7.623c6.4914-3.4741 6.56-21.43 0.095-24.89-8.3713-4.4802-15.595 5.0532-13.003 17.161 1.548 7.2312 7.3488 10.705 12.908 7.7293zm23.657 8.4091c-0.39202-0.39202-0.71277-9.827-0.71277-20.967v-20.254l3.25-0.72758c5.5547-1.2436 17.039-0.75511 20.982 0.89237 8.2332 3.4401 10.292 14.445 3.9295 21.009l-3.1209 3.22 4.8979 8.1478c5.4298 9.0326 5.3568 9.2991-2.5452 9.2991-4.224 0-4.577-0.22782-7.1682-4.6258-4.6861-7.9536-6.7717-10.874-7.7652-10.874-0.52809 0-1.1852 3.375-1.4602 7.5l-0.5 7.5-4.5372 0.2961c-2.4955 0.16286-4.858-0.0246-5.25-0.41667zm17.821-25.823c2.9611-2.9611 2.1595-6.5519-1.7766-7.9586-4.1804-1.494-5.7576-0.20556-5.7576 4.7038 0 2.4006 0.3 4.6647 0.66667 5.0314 1.3869 1.3869 4.5126 0.5783 6.8675-1.7766zm20.934 25.22c-0.28142-0.73338-0.38933-10.321-0.2398-21.305l0.27188-19.972h10l1 19 14.591-19.601 5.1258 0.30068c2.8192 0.16538 5.2698 0.75068 5.4458 1.3007 0.17597 0.55-2.6265 4.9774-6.2277 9.8386l-6.5476 8.8386 7.6221 10.562c8.3981 11.637 8.4129 12.219 0.31191 12.246-5.4437 0.0178-5.7411-0.22585-13.492-11.051-3.124-4.3634-6.0344-7.9335-6.4674-7.9335s-0.91674 4.1625-1.0749 9.25l-0.28753 9.25-4.7602 0.30521c-3.2727 0.20983-4.9201-0.11146-5.2719-1.0282zm218.28-30.466c-1.39-0.36326-1.75-1.5515-1.75-5.777 0-6.0187 0.59113-6.5337 7.5-6.5337 6.8997 0 7.5 0.51947 7.5 6.4904 0 4.6265-0.27714 5.3506-2.25 5.8794-2.5099 0.67261-8.3196 0.64143-11-0.059zm60 0c-1.39-0.36326-1.75-1.5515-1.75-5.777 0-6.0187 0.59113-6.5337 7.5-6.5337 6.9018 0 7.5 0.51846 7.5 6.5 0 3.8977-0.41545 5.4454-1.5818 5.893-1.7617 0.67603-8.9606 0.62523-11.668-0.0823zm-399.75-43.204c0-22.787-0.18128-22.107 5.8907-22.107 3.8592 0 4.9452 1.1525 12.701 13.478l6.9081 10.978 0.28474-11.44c0.30253-12.155 0.64114-12.973 5.3835-13 6.0005-0.0344 5.8318-0.67503 5.8318 22.142v20.943l-11.415-0.59981-14.085-22.489-0.28174 11.495-0.28173 11.495h-10.937zm45-0.63601v-21.529l13.238 0.27903c14.408 0.30369 14.804 0.49255 13.332 6.3581-0.57508 2.2913-1.008 2.4209-8.0886 2.4209h-7.481v6.9002l11.5 0.59981v8l-11.5 0.59981v9.8193l16.5 0.58088 0.31037 3.75 0.31036 3.75h-28.121zm40.115 14.827c-1.099-3.739-3.6605-12.648-5.6922-19.798-2.0317-7.15-3.8898-13.52-4.1291-14.155-0.56626-1.5035 4.8771-2.6859 8.6002-1.8682 2.7135 0.59599 3.0658 1.2717 5.645 10.829 1.513 5.6066 3.0598 10.79 3.4374 11.518 0.37756 0.72851 1.741-3.4805 3.0298-9.3534 2.4198-11.026 3.714-13.471 7.1308-13.471 4.4523 0 5.5029 1.6563 7.8996 12.454 1.2875 5.8004 2.6055 10.546 2.9289 10.546 0.32345 0 1.8887-4.7494 3.4784-10.554 3.0367-11.089 4.055-12.459 9.2402-12.43 5.8506 0.0318 5.8473 0.20664-0.41561 22.078l-5.8433 20.406-11.322 0.59673-1.0001-3.7984c-0.55005-2.0891-1.7838-6.9484-2.7416-10.798l-1.7415-7-5.2201 21-11.286 0.59643z"})})})},Sf=function(e){var t=e.children,n=Object(me.useTheme)();return Object(a.jsx)("div",{className:"w-full",children:Object(a.jsxs)("div",{className:"flex min-h-screen",children:[Object(a.jsx)(me.SideNav,{logo:Object(a.jsx)("div",{className:"border-b border-gray-200",children:Cf("SHMP")}),topMenu:Object(a.jsx)("div",{className:"border-b border-gray-200 pb-3"}),menuItems:[{name:"Home",id:0,path:"/admin/",sectionClass:"mt-4"},{name:"Plan",id:0,path:"/cms/"}],fixed:!0}),Object(a.jsx)("div",{className:"flex-1 md:ml-".concat(n.sidebarW),children:t})]})})},Nf=function(e,t){switch(t.type){case"open":return Object(c.a)(Object(c.a)({},Object.keys(e).reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},Object(M.a)({},t,"closed"))}),{})),{},Object(M.a)({},t.id,"opened"));case"close":default:return Object(c.a)(Object(c.a)({},e),{},Object(M.a)({},t.id,"closed"))}},Lf=function(e){var t=e.isPlaceholder,n=e.remove,r=e.edit,i=e.moveUp,o=e.moveDown,s=e.disabled,c=void 0!==s&&s;return Object(a.jsxs)("div",{children:[t||c||!i?null:Object(a.jsx)("div",{className:"\n            text-blue-400 hover:text-blue-700\n            pt-2 pr-1 inline-block cursor-pointer\n          ",onClick:i,children:Object(a.jsx)("svg",{width:"22",height:"22",fill:"currentColor",viewBox:"0 0 20 20",stroke:"currentColor",children:Object(a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.7071 12.7071C14.3166 13.0976 13.6834 13.0976 13.2929 12.7071L10 9.41421L6.70711 12.7071C6.31658 13.0976 5.68342 13.0976 5.29289 12.7071C4.90237 12.3166 4.90237 11.6834 5.29289 11.2929L9.29289 7.29289C9.68342 6.90237 10.3166 6.90237 10.7071 7.29289L14.7071 11.2929C15.0976 11.6834 15.0976 12.3166 14.7071 12.7071Z"})})}),t||c||!o?null:Object(a.jsx)("div",{className:"\n            text-blue-400 hover:text-blue-700\n            pt-2 pr-1 inline-block cursor-pointer\n          ",onClick:o,children:Object(a.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor",children:Object(a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289L10 10.5858L13.2929 7.29289C13.6834 6.90237 14.3166 6.90237 14.7071 7.29289C15.0976 7.68342 15.0976 8.31658 14.7071 8.70711L10.7071 12.7071C10.3166 13.0976 9.68342 13.0976 9.29289 12.7071L5.29289 8.70711C4.90237 8.31658 4.90237 7.68342 5.29289 7.29289Z"})})}),t||c||!r?null:Object(a.jsx)("div",{className:"\n            text-blue-400 hover:text-blue-700\n            pt-2 pr-1 inline-block cursor-pointer\n          ",onClick:r,children:Object(a.jsx)("svg",{width:"22",height:"22",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),t||c||!n?null:Object(a.jsx)("div",{className:"\n            text-blue-400 hover:text-blue-700\n            pt-2 pr-1 inline-block cursor-pointer \n          ",onClick:n,children:Object(a.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor",children:Object(a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L10 8.58579L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L11.4142 10L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L10 11.4142L5.70711 15.7071C5.31658 16.0976 4.68342 16.0976 4.29289 15.7071C3.90237 15.3166 3.90237 14.6834 4.29289 14.2929L8.58579 10L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289Z"})})})]})},Af=function(e){var t=e.value,n=e.edit,r=e.remove,i=e.moveUp,o=e.moveDown;return!!t&&Object(a.jsxs)("div",{className:"relative px-4 sm:px-6 lg:px-12 w-full",children:[Object(a.jsxs)("h3",{className:"section-header text-xl tracking-wider mx-auto my-2 font-medium border-b border-t border-gray-200 py-1 flex",children:[Object(a.jsxs)("div",{className:"flex-1 py-1",children:[t.title," ",Object(a.jsx)("span",{className:"text-sm font-normal text-blue-500",children:t.section&&n?" #".concat(t.section):""})]}),Object(a.jsx)(Lf,{edit:n,remove:r,moveUp:i,moveDown:o})]}),Object(a.jsx)("div",{className:"font-normal text-lg text-gray-600 leading-8",children:Object(a.jsx)(Kd,{value:t.content,isRaw:!!t.content.blocks})})]})};Af.settings={hasControls:!0};var Df=Af,Pf=i.a.forwardRef((function(e,t){var n=e.Attribute,r=(e.id,e.autoFocus,e.onFocus,e.onBlur,e.onChange),i=e.value,o=e.save,s=e.buttonDisabled,l=Object(Ne.a)(e,["Attribute","id","autoFocus","onFocus","onBlur","onChange","value","save","buttonDisabled"]);i=i||{};var u=Object(c.a)(Object(c.a)(Object(c.a)({},l),cu()),{},{user:au().user}),d=ch(n.Format),p=Hp(d,i,r,u),h=P()(p,"[0].attributes",[]).filter((function(e){return"title"===e.key})).pop(),f=P()(p,"[0].attributes",[]).filter((function(e){return"section"===e.key})).pop(),b=P()(p,"[0].attributes",[]).filter((function(e){return"content"===e.key})).pop();return Object(a.jsx)("div",{className:"w-full",children:Object(a.jsxs)("div",{className:"relative px-4 sm:px-6 lg:px-12",children:[Object(a.jsxs)("h3",{className:"section-header text-xl tracking-wider mx-auto mb-2 mt-2 font-medium border-b border-t border-gray-300 py-2 flex",children:[h?Object(a.jsx)(h.Input,{ref:t,className:"p-1",autoFocus:!0,value:i[h.key],placeholder:"Section Title",onChange:h.onChange}):"",Object(a.jsx)(me.Button,{className:"ml-2 py-1 px-2",onClick:o,disabled:s,children:"Save"})]}),Object(a.jsx)("div",{className:"h-10 border-b w-full",children:f?Object(a.jsx)(f.Input,{ref:t,className:"p-1",autoFocus:!0,value:i[f.key],placeholder:"#Section",onChange:f.onChange}):""}),Object(a.jsx)("div",{className:"font-normal text-lg leading-8 text-gray-600",children:b?Object(a.jsx)(b.Input,{ref:t,autoFocus:!0,value:P()(i,"[".concat(b.key,"]"),Lp()),placeholder:"Section Content",onChange:b.onChange}):""})]})})}));Pf.settings={hasControls:!0};var zf=Pf,Mf=function(e){var t=e.sections;return Object(a.jsx)("div",{className:"bg-white shadow w-64 h-full hidden sm:block fixed",children:Object(a.jsx)("ul",{className:"py-6 pl-4 pr-4 text-md",children:t.map((function(e,n){return Object(a.jsxs)(i.a.Fragment,{children:[0===n||t[n-1]&&t[n-1].section!==e.section?Object(a.jsx)("li",{className:"".concat(0===n?"":"pt-6"," text-blue-500 font-medium"),children:e.section},e.section+n):"",Object(a.jsx)("li",{className:"cursor-pointer hover:text-blue-500 pl-4",children:e.title},n)]})}))})})},Bf=function(e){var t=e.createState,n=(e.setValues,e.item),r=e.dataItems,i=Object(Ne.a)(e,["createState","setValues","item","dataItems"]),o=Object(me.useTheme)();if(r=r.sort((function(e,t){return e.data.index-t.data.index})),n||(n=r.filter((function(e){return e.data.sectionLanding&&0===e.data.index})).pop()),!n||!n.data)return null;var s=n.data,c=r.filter((function(e){return e.data.sectionLanding})).map((function(e){return{name:e.data.section,id:e.id,path:"/cms/edit/".concat(e.id),sectionClass:"mb-4",itemClass:"font-bold",children:r.filter((function(t){var n=t.data;return!n.sectionLanding&&n.section===e.data.section})).map((function(e){return{name:e.data.title,id:e.id,path:"/cms/edit/".concat(e.id),itemClass:"font-thin -mt-2"}})),rest:i}})),l=i["doc-page"]||n,u=s.sectionLanding?P()(c.filter((function(e){return e.id===P()(l,"id")})),"[0].children",[]):P()(c.filter((function(e){return e.children.map((function(e){return e.id})).includes(P()(l,"id"))})),"[0].children",[]),d=t.sections[0].attributes.filter((function(e){return"title"===e.key})).pop(),p=t.sections[0].attributes.filter((function(e){return"url-slug"===e.key})).pop(),h=t.sections[0].attributes.filter((function(e){return"showSidebar"===e.key})).pop(),f=t.sections[0].attributes.filter((function(e){return"sections"===e.key})).pop();return Object(a.jsxs)("div",{className:"flex items-start flex-col min-h-screen",children:[Object(a.jsxs)("div",{className:"w-full fixed bg-white z-10",children:[Object(a.jsx)(me.TopNav,{menuItems:c,logo:Cf("SHMP")}),u.length?Object(a.jsx)(me.TopNav,{menuItems:u,customTheme:{sidebarBg:"bg-white",topNavHeight:"h-12",navitemTop:"px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-gray-800 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out",navitemTopActive:"px-8 inline-flex items-center border-b border-r border-gray-200 text-base font-normal text-blue-500 hover:pb-4 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out"}}):null]}),Object(a.jsxs)("div",{className:"w-full hasValue flex-1 ".concat(u.length?"mt-24":"mt-12"),children:[h.value?Object(a.jsx)(Mf,{sections:P()(s,"sections",[])}):"",Object(a.jsx)("div",{className:"h-full ".concat(h.value?"sm:ml-64":""," p-1 md:p-6"),children:Object(a.jsxs)("div",{className:"bg-white shadow h-full flex justify-between flex-col lg:flex-row",children:[Object(a.jsx)("div",{className:"hidden xl:block xl:w-64 p-4"}),Object(a.jsx)("div",{className:"border-l border-gray-200 py-8 max-w-6xl flex-1",children:Object(a.jsx)("div",{className:"font-sm font-light text-md",children:Object(a.jsx)(f.Input,{className:"p-4 border-none active:border-none focus:outline-none custom-bg h-full ".concat(o.text),value:f.value,onChange:f.onChange,DisplayComp:Df,EditComp:zf})})}),Object(a.jsx)("div",{className:"p-2 font-thin overflow-hidden"}),Object(a.jsx)("div",{className:"w-full xl:block lg:w-64 order-first lg:order-last border-b lg:border-none",children:Object(a.jsxs)("div",{className:"p-4 border-l",children:[Object(a.jsx)("h4",{className:"font-bold ",children:" Page Settings "}),Object(a.jsxs)("div",{children:["Title",Object(a.jsx)(d.Input,{autoFocus:!0,value:d.value,placeholder:"Title",onChange:d.onChange})]}),Object(a.jsxs)("div",{children:["url",Object(a.jsx)(p.Input,{className:"ml-2 ".concat(o.text),autoFocus:!0,value:p.value,placeholder:"/url",onChange:p.onChange})]}),Object(a.jsxs)("div",{children:["Show Sidebar",Object(a.jsx)(h.Input,{className:"ml-2 ".concat(o.text),autoFocus:!0,value:h.value,placeholder:"/url",onChange:h.onChange})]}),Object(a.jsx)("div",{className:"mt-2 mb-4 max-w-2xl",children:Object(a.jsx)(td,{className:"w-full",large:!0,type:"submit",label:"Save",action:t.dmsAction,item:n,props:i})})]})})]})})]})]})};var Ff={path:"/cms",mainNav:!1,auth:!0,name:"CMS",authLevel:5,icon:"",layout:"Simple",layoutSettings:{fixed:!0,nav:"side",maxWidth:"",headerBar:!1},component:{type:"div",wrappers:["dms-manager",{type:"dms-provider",options:{imgUploadUrl:"".concat("https://graph.availabs.org","/img/new")}},"dms-router","show-loading","dms-falcor","with-auth"],props:{format:wf,title:"Documentation"},children:[{type:function(e){var t=e.dataItems,n=void 0===t?[]:t,o=e.interact,s=(Object(Ne.a)(e,["dataItems","interact"]),Object(r.useState)("")),l=Object(Z.a)(s,2),u=l[0],d=l[1],p=i.a.useCallback((function(e,t){var a=Object(m.a)(n).filter((function(e){return e.data.sectionLanding})).sort((function(e,t){return e.data.index-t.data.index})),r=a.splice(e,1),i=Object(Z.a)(r,1)[0];a.splice(t,0,i),a.forEach((function(e,t){o("api:edit",e.id,Object(c.a)(Object(c.a)({},e.data),{},{index:t}),{loading:!1}),e.data.index=t}))}),[n,o]),f=i.a.useCallback((function(e,t,a){var r=Object(m.a)(n).filter((function(e){var t=e.data;return!t.sectionLanding&&t.section===a})).sort((function(e,t){return e.data.index-t.data.index})),i=r.splice(e,1),s=Object(Z.a)(i,1)[0];r.splice(t,0,s),r.forEach((function(e,t){o("api:edit",e.id,Object(c.a)(Object(c.a)({},e.data),{},{index:t}),{loading:!1}),e.data.index=t}))}),[n,o]),b=i.a.useReducer(Nf,{}),v=Object(Z.a)(b,2),j=v[0],g=v[1];return Object(a.jsx)(Sf,{children:Object(a.jsxs)("div",{className:"w-full max-w-7xl mx-auto p-2",children:[Object(a.jsx)("div",{className:"pt-2 pb-3",children:Object(a.jsx)("h3",{className:"inline font-bold text-3xl",children:" Pages"})}),Object(a.jsxs)("div",{className:"flex mt-3",children:[Object(a.jsx)(me.Input,{value:u,onChange:d,className:"w-full text-xl p-4 flex-1 rounded-lg shadow",placeholder:"Enter section name...",autoFocus:!0}),Object(a.jsx)(td,{large:!0,className:"flex-0 text-xl ml-3",action:{disabled:!Boolean(u),action:"api:create",seedProps:function(){return{section:u,sectionLanding:!0}}}})]}),Object(a.jsx)("div",{className:"pt-4",children:n.length?Object(a.jsx)(me.DndList,{onDrop:p,children:n.filter((function(e){return e.data.sectionLanding})).sort((function(e,t){return+e.data.index-+t.data.index})).map((function(e,t){var r=n.filter((function(t){var n=t.data;return!n.sectionLanding&&n.section===e.data.section})).sort((function(e,t){return+e.data.index-+t.data.index})),i=P()(r,[r.length-1,"data","index"],-1);return Object(a.jsxs)("div",{className:"border-b py-4",children:[Object(a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(a.jsxs)("div",{style:{flexGrow:1,display:"flex",alignItems:"center"},children:[Object(a.jsx)("div",{style:{fontWeight:"bold",fontSize:"1.5rem",width:"30px"},onClick:function(t){return g({type:"opened"===j[e.id]?"close":"open",id:e.id})},children:r.length?"opened"===j[e.id]?"-":"+":null}),e.data.section]}),Object(a.jsxs)("div",{style:{flexGrow:0},children:[Object(a.jsx)(td,{action:{action:"create",seedProps:function(){return{section:e.data.section,index:i+1}}},label:"Add Page"},"create"),Object(a.jsx)(td,{item:e.id,action:"edit",className:"ml-3 flex-0"},"edit"),Object(a.jsx)(td,{item:e.id,className:"ml-3",action:{action:"api:delete",showConfirm:!0},label:"Delete"},"api:delete")]})]}),"opened"!==j[e.id]?null:Object(a.jsx)("div",{style:{flexGrow:1},children:Object(a.jsx)(me.DndList,{onDrop:function(t,n){return f(t,n,e.data.section)},children:r.map((function(e){return Object(a.jsxs)("div",{className:"flex border-2 rounded-lg",style:{padding:"1rem",alignItems:"center"},children:[Object(a.jsx)("div",{className:"flex-1",children:Object(a.jsx)(h.Link,{to:"/docs/view/".concat(e.id),children:Object(a.jsx)("h4",{style:{margin:"0px"},children:e.data.title})})}),Object(a.jsx)(td,{item:e.id,action:"edit",className:"ml-3 flex-0"}),Object(a.jsx)(td,{item:e.id,action:"api:delete",className:"ml-3 flex-0"})]},e.id)}))})})]},t)}))}):null})]})})},props:{dmsAction:"list"}},{type:Bf,props:{dmsAction:"create"},wrappers:["dms-create","with-auth"]},{type:Bf,props:{dmsAction:"edit"},wrappers:["dms-edit","with-auth"]}]}},If=[W].concat(Object(m.a)(eu),[Ff,oe],Object(m.a)(Tt),Object(m.a)(Ih),Object(m.a)(Xl),Object(m.a)(kf),[v,Et]),Tf=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)(h.BrowserRouter,{children:[Object(a.jsx)(b,{}),Object(a.jsx)(f.Switch,{children:If.map((function(t,n){return Object(a.jsx)(me.DefaultLayout,Object(c.a)(Object(c.a)(Object(c.a)({},t),e.props),{},{menus:If.filter((function(e){return e.mainNav}))}),n)}))}),Object(a.jsx)(me.Messages,{})]})}}]),n}(i.a.Component),Ef=n(94),Hf=n(655),Vf=n(215),Rf=Object(Ef.c)(Object(c.a)(Object(c.a)({},Vf.Reducers),{},{messages:me.messages,stormEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=Y[t.type];return n?n(e,t):e},femaDisasterDeclarations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hh,t=arguments.length>1?arguments[1]:void 0,n=Vh[t.type];return n?n(e,t):e},geo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0,n=tt[t.type];return n?n(e,t):e},overview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=T[t.type];return n?n(e,t):e},falcorCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===_?Object(c.a)({},t.falcorCache):e}})),Gf=Object(Ef.e)(Rf,Object(Ef.a)(Hf.a)),Uf=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1245)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))},Wf=(n(1174),n(365),{$defaults:["input","navitemTop","navitemTopActive","navitemSide","navitemSideActive"],button:[{$default:"rounded inline-flex items-center justify-center @transition disabled:cursor-not-allowed disabled:bg-transparent disabled:opacity-50 focus:outline-none border"},{$default:"$button",Primary:"$buttonPrimary",Success:"$buttonSuccess",Danger:"$buttonDanger",Info:"$buttonInfo"},{$default:"px-4 py-1 @textBase",Large:"px-6 py-2 @textLarge",Small:"px-2 py-0 @textSmall"},{Block:"w-full"}],input:[{$default:"w-full block rounded cursor-pointer disabled:cursor-not-allowed @transition @text @placeholder @inputBg @inputBorder"},{$default:"@paddingBase @textBase",Large:"@paddingLarge @textLarge",Small:"@paddingSmall @textSmall"}],navitem:[{$default:"group border-transparent font-medium focus:outline-none @transition"},{Top:"mr-4 inline-flex items-center px-1 pt-1 border-b-2 text-sm leading-5",Side:"mb-1 flex pl-3 pr-4 py-2 border-l-4 text-bas"},{$default:"@menuBg @menuBgHover @menuText @menuTextHover",Active:"@menuBgActive @menuBgActiveHover @menuTextActive @menuTextActiveHover"}],textbutton:[{$default:"@transition inline-flex px-2 hover:font-bold disabled:font-normal disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none"},{$default:"$textbutton",Info:"text-teal-400 hover:text-teal-500 disabled:text-teal-400"},{$default:"text-base",Large:"text-lg",Small:"text-sm"},{$default:"font-normal cursor-pointer",Active:"font-bold cursor-default"}],list:[{$default:"@transition rounded"},{$default:"p-2 pb-0 bg-white shadow",Dragging:"p-2 pb-0 bg-white",Item:"py-1 px-3 bg-gray-300 mb-2 border-b"}]}),Zf=Object(c.a)(Object(c.a)({},{shadow:"shadow",ySpace:"py-4",text:"text-gray-800",textContrast:"text-white",border:"broder-gray-400",textInfo:"text-teal-400",bgInfo:"bg-teal-400",borderInfo:"border-teal-400",textSuccess:"text-green-400",bgSuccess:"bg-green-400",borderSuccess:"border-green-400",textDanger:"text-red-400",bgDanger:"bg-red-400",borderDanger:"border-red-400",textWarning:"text-yellow-400",bgWarning:"bg-yellow-400",borderWarning:"border-yellow-400",textLight:"text-gray-400",placeholder:"placeholder-gray-400",menuIcon:"mr-3 h-6 w-6",topMenuBorder:"border-b border-gray-200",topMenuScroll:"",headerShadow:"",navText:"text-gray-100",navitemTop:"px-4 text-sm font-medium tracking-widest uppercase inline-flex items-center border-b-2 border-r border-transparent  leading-5 text-gray-600 hover:bg-white hover:text-blue-500 border-gray-200 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out h-full",navitemTopActive:"px-4 text-sm font-medium tracking-widest uppercase inline-flex items-center  border-b-2 border-r-0 leading-5 text-blue-500 bg-white focus:outline-none  sfocus:border-indigo-700 transition duration-150 ease-in-out",topNavHeight:"h-12",navMenu:"h-full relative",navMenuOpen:"bg-blue-600 text-white shadow w-56 rounded-t-lg",navMenuBg:"bg-blue-600 bb-rounded-10 shadow-lg text-white rounded-b-lg",navMenuItem:"hover:font-medium cursor-pointer px-2 py-1 text-lg font-semibold",bg:"bg-gray-50",sidebarBg:"bg-white",sidebarW:"56",sidebarBorder:" border-r border-gray-200",navitemSide:"font-sans group flex pl-8 pr-4 py-2 border-l-4 border-transparent text-base font-base text-gray-600 hover:text-blue-600 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out",navitemSideActive:"group flex pl-8 pr-4 py-2 border-l-4 border-blue-500 text-base font-base text-gray-600 focus:outline-none hover:text-indigo-800 focus:text-indigo-800 focus:bg-indigo-200 focus:border-indigo-700 transition duration-150 ease-in-out",menuBg:"bg-gray-100 z-50",menuBgHover:"hover:bg-gray-300",menuBgActive:"bg-teal-200",menuBgActiveHover:"hover:bg-teal-300",menuText:"text-gray-100",menuTextHover:"hover:text-gray-700",menuTextActive:"text-teal-500",menuTextActiveHover:"hover:text-teal-700",headerBg:"bg-gray-200",headerBgHover:"hover:bg-gray-400",inputBg:"bg-white disabled:bg-gray-200 cursor-pointer focus:outline-none",inputBorder:"rounded border-0 border-transparent hover:border-gray-300 focus:border-gray-600 disabled:border-gray-200",inputBgDisabled:"bg-gray-200 cursor-not-allowed focus:outline-none",inputBorderDisabled:"rounded border-2 border-gray-200 hover:border-gray-200",inputBgFocus:"bg-white cursor-pointer focus:outline-none",inputBorderFocus:"rounded border-2 border-transparent hover:border-gray-600 focus:border-gray-600 border-gray-600",textBase:"text-base",textSmall:"text-sm",textLarge:"text-lg",paddingBase:"py-1 px-2",paddingSmall:"py-0 px-1",paddingLarge:"py-2 px-4",contentBg:"bg-white",accent1:"bg-blue-100",accent2:"bg-gray-300",accent3:"bg-gray-400",accent4:"bg-gray-500",highlight1:"bg-teal-200",highlight2:"bg-teal-300",highlight3:"bg-teal-400",highlight4:"bg-teal-500",width:"",transition:"transition ease-in-out duration-150",button:"\n\t\tinline-flex items-center\n\t\tpx-4 py-2 border border-gray-300\n\t\ttext-sm leading-5 font-medium\n\t\trounded-md text-gray-700 bg-white\n\t\thover:text-gray-500\n\t\tfocus:outline-none focus:shadow-outline-blue focus:border-blue-300\n\t\tactive:text-gray-800 active:bg-gray-50 transition duration-150 ease-in-out\n\t\tdisabled:cursor-not-allowed",buttonPrimary:"inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700 transition duration-150 ease-in-out disabled:cursor-not-allowed",tableRow:"bg-gray-100 hover:bg-gray-200 transition ease-in-out duration-150",tableRowStriped:"bg-gray-100 even:bg-gray-200 hover:bg-gray-300 transition ease-in-out duration-150",tableCell:"px-4 py-1 whitespace-no-wrap",tableHeader:"px-4 py-2 pb-1 border-b-2 border-gray-300 bg-gray-200 text-left font-medium text-gray-700 uppercase first:rounded-tl-md last:rounded-tr-md"}),{},{tableInfoBar:"bg-white",tableRow:"bg-white hover:bg-gray-200 @transition",tableRowStriped:"bg-white even:bg-gray-100 hover:bg-gray-200 @transition",button:"text-gray-400 border-gray-400 hover:bg-gray-400 hover:text-white disabled:text-gray-400",buttonPrimary:"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white disabled:text-blue-400",buttonSuccess:"text-green-400 border-green-400 hover:bg-green-400 hover:text-white disabled:text-green-400",buttonDanger:"text-red-400 border-red-400 hover:bg-red-400 hover:text-white disabled:text-red-400",buttonInfo:"text-teal-400 border-teal-400 hover:bg-teal-400 hover:text-white disabled:text-teal-400",textbutton:"text-gray-400 hover:text-gray-500 disabled:text-gray-400",$compositions:Wf}),$f=new Proxy(Zf,{get:function(e,t,n){return t in e||(e[t]=function(e,t){var n=e.split(/(?<!^)(?=[A-Z])/),a=Object(kn.a)(n),r=a[0],i=a.slice(1);return t.$compositions&&t.$compositions[r]?t.$compositions[r].reduce((function(e,t){var n,a=t.$default||"",r=Object(Sn.a)(i);try{for(r.s();!(n=r.n()).done;){var o=n.value;o in t&&(a=t[o])}}catch(s){r.e(s)}finally{r.f()}return e.push(a),e}),[]).filter(Boolean).join(" "):t[r]||""}(t,e)),e[t]}});Object(me.addComponents)(wh),Object(me.addWrappers)(Bh),Object(me.addComponents)(Vf.Components),Object(me.addWrappers)(Vf.Wrappers);var Kf=Object(Vf.enableAuth)(Tf,{AUTH_HOST:"https://availauth.availabs.org",PROJECT_NAME:"NPMRDS",CLIENT_HOST:"https://npmrds.availabs.org"});s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(O.Provider,{store:Gf,children:Object(a.jsx)(N,{falcor:Ue,children:Object(a.jsx)(me.ThemeContext.Provider,{value:$f,children:Object(a.jsx)(Kf,{})})})})}),document.getElementById("root")),Uf()},23:function(e,t){for(var n=[],a=1996;a<=2019;a++)n.push(a);var r=[{value:"wind",name:"Wind"},{value:"wildfire",name:"Wildfire"},{value:"tsunami",name:"Tsunami/Seiche"},{value:"tornado",name:"Tornado"},{value:"riverine",name:"Flooding"},{value:"lightning",name:"Lightning"},{value:"landslide",name:"Landslide"},{value:"icestorm",name:"Ice Storm"},{value:"hurricane",name:"Hurricane"},{value:"heatwave",name:"Heat Wave"},{value:"hail",name:"Hail"},{value:"earthquake",name:"Earthquake"},{value:"drought",name:"Drought"},{value:"avalanche",name:"Avalanche"},{value:"coldwave",name:"Coldwave"},{value:"winterweat",name:"Snow Storm"},{value:"volcano",name:"Volcano"},{value:"coastal",name:"Coastal Hazards"}],i={fips:["01","02","04","05","06","08","09","10","11","12","13","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","44","45","46","47","48","49","50","51","53","54","55","56"],years:n,hazards:r.reduce((function(e,t){return e.push(t.value),e}),[]),Hazards:r,stormevents:{data_columns:["total_damage","num_episodes","property_damage","crop_damage","num_episodes","num_events","state","state_fips","annualized_damage"],sort:"annualized_damage",graph_column:["total_damage"],table_column:["total_damage","annualized_damage","num_episodes"],table_header:["Damage","Yearly Avg Damage","# Episodes"],map_column:["total_damage"],fetch_url:"severeWeather",popover:[{name:"Property Damage",value:"property_damage",type:"fnum"},{name:"Crop Damage",value:"crop_damage",type:"fnum"},{name:"Injuries",value:"injuries",type:"fmt"},{name:"Property Damage",value:"property_damage",type:"fnum"},{name:"Fatalities",value:"fatalities",type:"fmt"}],measure:"total_damage",counties_domain:[1e6,5e6,1e7,1e8,1e9,1e10],other_domain:[1e4,5e4,1e5,1e6,1e7,1e8]},sba:{data_columns:["total_loss","loan_total","num_loans","state_abbrev"],sort:"total_loss",graph_column:["total_loss"],table_column:["total_loss","loan_total","num_loans"],table_header:["Total Loss"," $ Loan","# Loans"],fetch_url:"sba.all",popover:[{name:"Total Loss",value:"total_loss"},{name:"Total Loan",value:"loan_total"},{name:"# Loans",value:"num_loans"}],measure:"total_loss",counties_domain:[1e6,5e6,1e7,1e8,1e9,1e10],other_domain:[1e4,5e4,1e5,1e6,1e7,1e8]},fema:{data_columns:["ia_ihp_amount","ia_ihp_count","pa_project_amount","pa_federal_share_obligated","hma_prop_actual_amount_paid","hma_prop_number_of_properties","hma_proj_project_amount","hma_proj_project_amount_count","hma_proj_federal_share_obligated","hma_proj_federal_share_obligated_count","total_cost","total_cost_summaries","total_disasters"],sort:"total_cost_summaries",graph_column:["total_cost"],table_column:["ia_ihp_amount","pa_project_amount","hma_total_amount","total_cost_summaries"],table_header:["IHA","PA","HMGP","$Total Cost Summaries"],fetch_url:"fema.disasters",popover:[{name:"Total Cost",value:"total_cost"},{name:"# Episodes",value:"total_disasters"}],measure:"total_cost",counties_domain:[1e6,5e6,1e7,1e8,1e9,1e10],other_domain:[1e6,5e6,1e7,1e8,1e9,1e10]}};e.exports=i},26:function(e,t,n){var a=n(111),r=a.scaleOrdinal,i=a.scaleThreshold,o=n(708),s=n(133).format,c={num_events:"Occurances",property_damage:"Property Damage $",crop_damage:"Crop Damage $",injuries:"Injuries",fatalities:"Fatalities"},l=100,u=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];function d(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(isNaN(e))return e;if(e<9999&&!n){var a=s(t?"$,.0f":",.0f");return a(e)}if(e>999&&e<9999&&n){var r=s(t?"$,.0f":",.0f");return r(e/1e3)+"K"}if(e<1e6){var i=s(t?"$,.0f":",.0f");return i(e/1e3)+"K"}if(e<1e7){var o=s(t?"$,.0f":",.0f");return o(e/1e6)+"M"}if(e<1e9){var c=s(t?"$,.1f":",.1f");return c(e/1e6)+"M"}if(e<1e12){var l=s(t?"$,.1f":",.1f");return l(e/1e9)+"B"}return"$1T+"}var p={730:{name:"Education",color:u[0]},740:{name:"Emergency Response and Law Enforcement",color:u[1]},800:{name:"Health and Medical",color:u[4]},820:{name:"Public Attractions and Landmark Buildings",color:u[5]},830:{name:"Government and Military",color:u[16]}};e.exports={getHazardName:function(e){return"winterweat"===e?"Winter Weather":["nri","bric","sovist","sovi","builtenv"].includes(e)?e.toUpperCase():e.split("").map((function(e,t){return 0===t?e.toUpperCase():e})).join("")},fnum:d,fnumClean:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(isNaN(e))return e;if(e<9999&&!n){var a=s(t?"$,.0f":",.0f");return a(e)}if(e>999&&e<9999&&n){var r=s(t?"$,.0f":",.0f");return r(e/1e3)+"K"}if(e<1e6){var i=s(t?"$,.0f":",.0f");return i(e/1e3)+"K"}if(e<1e7){var o=s(t?"$,.0f":",.0f");return o(e/1e6)+"M"}if(e<1e9){var c=s(t?"$,.0f":",.0f");return c(e/1e6)+"M"}if(e<1e12){var l=s(t?"$,.0f":",.0f");return l(e/1e9)+"B"}return"$1T+"},getColors:function(e){for(var t=[],n=0,a=l,r=0,i=0;i<e;++i)t.push("rgb(".concat(n,",").concat(a,",").concat(r,")")),(r+=l)>255&&(r%=255,a+=l),a>255&&(a%=255,n+=l),n>255&&(n%=255);return t},getColors2:function(e){for(var t=[],n=0,a=85,r=0,i=0;i<e;++i)t.push("rgb(".concat(n,",").concat(a,",").concat(r,")")),(r+=85)>255&&(r=0,a+=85),a>255&&(a=0,n+=85),n>255&&(n=0);return t},scaleCk:function(){var e=[0,1,2,3,4],t=["#f2efe9","#fadaa6","#f7c475","#f09a10","#cf4010"],n=i().domain(e).range(t);function a(e){return n(e)}function r(){var a=o.ckmeans(e,t.length).slice(0,t.length).map((function(e){return e[e.length-1]}));n.domain(a).range(t)}return a.domain=function(t){return arguments.length?(e=t,r(),a):e},a.range=function(e){return arguments.length?(t=e,r(),a):t},a.invertExtent=function(e){return n.invertExtent(e)},a},ftypeMap:p,getColorScale:function(e){return r().domain(e&&e.sort()||[1,2]).range(u)},processSheldus:function(e,t){return[{id:c[t],color:"#047bf8",data:Object.keys(e).reduce((function(n,a){return n.push({x:+a,y:e[a][t]||0}),n}),[])},{id:"5 Year Avg "+c[t],color:"#e65252",data:Object.keys(e).reduce((function(n,a){for(var r=0,i=0,o=4;o>=0;o--)e[a-o]&&e[a-o][t]&&(r+=e[a-o][t]),i+=1;var s=!isNaN(r/i)>0?r/i:0;return n.push({x:+a,y:+s.toFixed(2)}),n}),[])}]},processDataForBarChart:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"property_damage",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r={},i={};for(var o in e)if(t.includes(o))for(var s in e[o])if(!a||s===a)for(var c in s in i||(i[s]=!0),e[o][s])if("allTime"!==c){c in r||(r[c]={year:c}),s in r[c]||(r[c][s]=0);var l=r[c][s]+ +e[o][s][c][n];r[c][s]=l}return{data:Object.values(r),keys:Object.keys(i)}},processSheldus5year:function(e,t,n){return n=n||"avg",Object.keys(e).reduce((function(a,r){for(var i=0,o=0,s=4;s>=0;s--)e[r-s]&&e[r-s][t]&&(i+=e[r-s][t]),o+=1;var c=!isNaN(i/o)&&o>0?i/o:0;return a[r]="avg"===n?+c.toFixed(2):+i.toFixed(2),a}),{})},sumData:function(e,t,n){return Object.keys(e).reduce((function(a,r){for(var i=0,o=n-1;o>=0;o--)e[r-o]&&e[r-o][t]&&(i+=e[r-o][t]);return a[r]=+i.toFixed(2),a}),{})},total:function(e,t){if(Object.keys(e).filter((function(e){return 4===e.length})).length<=0)return"";var n=Object.keys(e).reduce((function(n,a){return e[a][t]&&!isNaN(+e[a][t])&&(n+=e[a][t]),n}),0);return d(n,!1)},avg:function(e,t){var n=Object.keys(e).filter((function(e){return 4===e.length})).length;return n<=0?"":d(Object.keys(e).reduce((function(n,a){return e[a][t]&&!isNaN(+e[a][t])&&(n+=e[a][t]),n}),0)/n,!1)},avgData:function(e,t,n){return Object.keys(e).reduce((function(a,r){for(var i=0,o=0,s=n-1;s>=0;s--)e[r-s]&&e[r-s][t]&&(i+=e[r-s][t]),o+=1;var c=!isNaN(i/o)&&o>0?i/o:0;return a[r]=+c.toFixed(2),a}),{})}}},607:function(e,t,n){},704:function(e,t,n){},869:function(e,t){}},[[1175,1,2]]]);
//# sourceMappingURL=main.c3172d1d.chunk.js.map